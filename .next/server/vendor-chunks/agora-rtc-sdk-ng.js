"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/agora-rtc-sdk-ng";
exports.ids = ["vendor-chunks/agora-rtc-sdk-ng"];
exports.modules = {

/***/ "(ssr)/./node_modules/agora-rtc-sdk-ng/AgoraRTC_N-production.esm.mjs":
/*!*********************************************************************!*\
  !*** ./node_modules/agora-rtc-sdk-ng/AgoraRTC_N-production.esm.mjs ***!
  \*********************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ $K)\n/* harmony export */ });\n/**\n * AgoraWebSDK_N-v4.22.0-0-g8569241d-dirty Copyright AgoraInc.\n */\n\nfunction e(e,t){return t.forEach((function(t){t&&\"string\"!=typeof t&&!Array.isArray(t)&&Object.keys(t).forEach((function(i){if(\"default\"!==i&&!(i in e)){var n=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(e,i,n.get?n:{enumerable:!0,get:function(){return t[i]}})}}))})),Object.freeze(e)}var t=\"undefined\"!=typeof globalThis?globalThis:\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:{};function i(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,\"default\")?e.default:e}var n=function(e){try{return!!e()}catch(e){return!0}},r=!n((function(){var e=function(){}.bind();return\"function\"!=typeof e||e.hasOwnProperty(\"prototype\")})),o=r,s=Function.prototype,a=s.call,c=o&&s.bind.bind(a,a),d=o?c:function(e){return function(){return a.apply(e,arguments)}},l=d({}.isPrototypeOf),u=function(e){return e&&e.Math==Math&&e},h=u(\"object\"==typeof globalThis&&globalThis)||u(\"object\"==typeof window&&window)||u(\"object\"==typeof self&&self)||u(\"object\"==typeof t&&t)||function(){return this}()||t||Function(\"return this\")(),p=r,_=Function.prototype,E=_.apply,m=_.call,f=\"object\"==typeof Reflect&&Reflect.apply||(p?m.bind(E):function(){return m.apply(E,arguments)}),T=d,S=T({}.toString),g=T(\"\".slice),R=function(e){return g(S(e),8,-1)},C=R,I=d,v=function(e){if(\"Function\"===C(e))return I(e)},y=\"object\"==typeof document&&document.all,A={all:y,IS_HTMLDDA:void 0===y&&void 0!==y},b=A.all,w=A.IS_HTMLDDA?function(e){return\"function\"==typeof e||e===b}:function(e){return\"function\"==typeof e},O={},N=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),D=r,P=Function.prototype.call,L=D?P.bind(P):function(){return P.apply(P,arguments)},k={},M={}.propertyIsEnumerable,U=Object.getOwnPropertyDescriptor,x=U&&!M.call({1:2},1);k.f=x?function(e){var t=U(this,e);return!!t&&t.enumerable}:M;var V,F,B=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},j=n,G=R,W=Object,H=d(\"\".split),K=j((function(){return!W(\"z\").propertyIsEnumerable(0)}))?function(e){return\"String\"==G(e)?H(e,\"\"):W(e)}:W,Y=function(e){return null==e},q=Y,z=TypeError,J=function(e){if(q(e))throw z(\"Can't call method on \"+e);return e},X=K,Q=J,Z=function(e){return X(Q(e))},$=w,ee=A.all,te=A.IS_HTMLDDA?function(e){return\"object\"==typeof e?null!==e:$(e)||e===ee}:function(e){return\"object\"==typeof e?null!==e:$(e)},ie={},ne=ie,re=h,oe=w,se=function(e){return oe(e)?e:void 0},ae=function(e,t){return arguments.length<2?se(ne[e])||se(re[e]):ne[e]&&ne[e][t]||re[e]&&re[e][t]},ce=\"undefined\"!=typeof navigator&&String(navigator.userAgent)||\"\",de=h,le=ce,ue=de.process,he=de.Deno,pe=ue&&ue.versions||he&&he.version,_e=pe&&pe.v8;_e&&(F=(V=_e.split(\".\"))[0]>0&&V[0]<4?1:+(V[0]+V[1])),!F&&le&&(!(V=le.match(/Edge\\/(\\d+)/))||V[1]>=74)&&(V=le.match(/Chrome\\/(\\d+)/))&&(F=+V[1]);var Ee=F,me=Ee,fe=n,Te=h.String,Se=!!Object.getOwnPropertySymbols&&!fe((function(){var e=Symbol();return!Te(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&me&&me<41})),ge=Se&&!Symbol.sham&&\"symbol\"==typeof Symbol.iterator,Re=ae,Ce=w,Ie=l,ve=Object,ye=ge?function(e){return\"symbol\"==typeof e}:function(e){var t=Re(\"Symbol\");return Ce(t)&&Ie(t.prototype,ve(e))},Ae=String,be=function(e){try{return Ae(e)}catch(e){return\"Object\"}},we=w,Oe=be,Ne=TypeError,De=function(e){if(we(e))return e;throw Ne(Oe(e)+\" is not a function\")},Pe=De,Le=Y,ke=function(e,t){var i=e[t];return Le(i)?void 0:Pe(i)},Me=L,Ue=w,xe=te,Ve=TypeError,Fe={exports:{}},Be=h,je=Object.defineProperty,Ge=function(e,t){try{je(Be,e,{value:t,configurable:!0,writable:!0})}catch(i){Be[e]=t}return t},We=\"__core-js_shared__\",He=h[We]||Ge(We,{}),Ke=He;(Fe.exports=function(e,t){return Ke[e]||(Ke[e]=void 0!==t?t:{})})(\"versions\",[]).push({version:\"3.31.1\",mode:\"pure\",copyright:\"Â© 2014-2023 Denis Pushkarev (zloirock.ru)\",license:\"https://github.com/zloirock/core-js/blob/v3.31.1/LICENSE\",source:\"https://github.com/zloirock/core-js\"});var Ye=Fe.exports,qe=J,ze=Object,Je=function(e){return ze(qe(e))},Xe=Je,Qe=d({}.hasOwnProperty),Ze=Object.hasOwn||function(e,t){return Qe(Xe(e),t)},$e=d,et=0,tt=Math.random(),it=$e(1..toString),nt=function(e){return\"Symbol(\"+(void 0===e?\"\":e)+\")_\"+it(++et+tt,36)},rt=Ye,ot=Ze,st=nt,at=Se,ct=ge,dt=h.Symbol,lt=rt(\"wks\"),ut=ct?dt.for||dt:dt&&dt.withoutSetter||st,ht=function(e){return ot(lt,e)||(lt[e]=at&&ot(dt,e)?dt[e]:ut(\"Symbol.\"+e)),lt[e]},pt=L,_t=te,Et=ye,mt=ke,ft=function(e,t){var i,n;if(\"string\"===t&&Ue(i=e.toString)&&!xe(n=Me(i,e)))return n;if(Ue(i=e.valueOf)&&!xe(n=Me(i,e)))return n;if(\"string\"!==t&&Ue(i=e.toString)&&!xe(n=Me(i,e)))return n;throw Ve(\"Can't convert object to primitive value\")},Tt=TypeError,St=ht(\"toPrimitive\"),gt=function(e,t){if(!_t(e)||Et(e))return e;var i,n=mt(e,St);if(n){if(void 0===t&&(t=\"default\"),i=pt(n,e,t),!_t(i)||Et(i))return i;throw Tt(\"Can't convert object to primitive value\")}return void 0===t&&(t=\"number\"),ft(e,t)},Rt=ye,Ct=function(e){var t=gt(e,\"string\");return Rt(t)?t:t+\"\"},It=te,vt=h.document,yt=It(vt)&&It(vt.createElement),At=function(e){return yt?vt.createElement(e):{}},bt=At,wt=!N&&!n((function(){return 7!=Object.defineProperty(bt(\"div\"),\"a\",{get:function(){return 7}}).a})),Ot=N,Nt=L,Dt=k,Pt=B,Lt=Z,kt=Ct,Mt=Ze,Ut=wt,xt=Object.getOwnPropertyDescriptor;O.f=Ot?xt:function(e,t){if(e=Lt(e),t=kt(t),Ut)try{return xt(e,t)}catch(e){}if(Mt(e,t))return Pt(!Nt(Dt.f,e,t),e[t])};var Vt=n,Ft=w,Bt=/#|\\.prototype\\./,jt=function(e,t){var i=Wt[Gt(e)];return i==Kt||i!=Ht&&(Ft(t)?Vt(t):!!t)},Gt=jt.normalize=function(e){return String(e).replace(Bt,\".\").toLowerCase()},Wt=jt.data={},Ht=jt.NATIVE=\"N\",Kt=jt.POLYFILL=\"P\",Yt=jt,qt=De,zt=r,Jt=v(v.bind),Xt=function(e,t){return qt(e),void 0===t?e:zt?Jt(e,t):function(){return e.apply(t,arguments)}},Qt={},Zt=N&&n((function(){return 42!=Object.defineProperty((function(){}),\"prototype\",{value:42,writable:!1}).prototype})),$t=te,ei=String,ti=TypeError,ii=function(e){if($t(e))return e;throw ti(ei(e)+\" is not an object\")},ni=N,ri=wt,oi=Zt,si=ii,ai=Ct,ci=TypeError,di=Object.defineProperty,li=Object.getOwnPropertyDescriptor,ui=\"enumerable\",hi=\"configurable\",pi=\"writable\";Qt.f=ni?oi?function(e,t,i){if(si(e),t=ai(t),si(i),\"function\"==typeof e&&\"prototype\"===t&&\"value\"in i&&pi in i&&!i[pi]){var n=li(e,t);n&&n[pi]&&(e[t]=i.value,i={configurable:hi in i?i[hi]:n[hi],enumerable:ui in i?i[ui]:n[ui],writable:!1})}return di(e,t,i)}:di:function(e,t,i){if(si(e),t=ai(t),si(i),ri)try{return di(e,t,i)}catch(e){}if(\"get\"in i||\"set\"in i)throw ci(\"Accessors not supported\");return\"value\"in i&&(e[t]=i.value),e};var _i=Qt,Ei=B,mi=N?function(e,t,i){return _i.f(e,t,Ei(1,i))}:function(e,t,i){return e[t]=i,e},fi=h,Ti=f,Si=v,gi=w,Ri=O.f,Ci=Yt,Ii=ie,vi=Xt,yi=mi,Ai=Ze,bi=function(e){var t=function(i,n,r){if(this instanceof t){switch(arguments.length){case 0:return new e;case 1:return new e(i);case 2:return new e(i,n)}return new e(i,n,r)}return Ti(e,this,arguments)};return t.prototype=e.prototype,t},wi=function(e,t){var i,n,r,o,s,a,c,d,l,u=e.target,h=e.global,p=e.stat,_=e.proto,E=h?fi:p?fi[u]:(fi[u]||{}).prototype,m=h?Ii:Ii[u]||yi(Ii,u,{})[u],f=m.prototype;for(o in t)n=!(i=Ci(h?o:u+(p?\".\":\"#\")+o,e.forced))&&E&&Ai(E,o),a=m[o],n&&(c=e.dontCallGetSet?(l=Ri(E,o))&&l.value:E[o]),s=n&&c?c:t[o],n&&typeof a==typeof s||(d=e.bind&&n?vi(s,fi):e.wrap&&n?bi(s):_&&gi(s)?Si(s):s,(e.sham||s&&s.sham||a&&a.sham)&&yi(d,\"sham\",!0),yi(m,o,d),_&&(Ai(Ii,r=u+\"Prototype\")||yi(Ii,r,{}),yi(Ii[r],o,s),e.real&&f&&(i||!f[o])&&yi(f,o,s)))},Oi=Math.ceil,Ni=Math.floor,Di=Math.trunc||function(e){var t=+e;return(t>0?Ni:Oi)(t)},Pi=Di,Li=function(e){var t=+e;return t!=t||0===t?0:Pi(t)},ki=Li,Mi=Math.max,Ui=Math.min,xi=function(e,t){var i=ki(e);return i<0?Mi(i+t,0):Ui(i,t)},Vi=Li,Fi=Math.min,Bi=function(e){return e>0?Fi(Vi(e),9007199254740991):0},ji=Bi,Gi=function(e){return ji(e.length)},Wi=Z,Hi=xi,Ki=Gi,Yi=function(e){return function(t,i,n){var r,o=Wi(t),s=Ki(o),a=Hi(n,s);if(e&&i!=i){for(;s>a;)if((r=o[a++])!=r)return!0}else for(;s>a;a++)if((e||a in o)&&o[a]===i)return e||a||0;return!e&&-1}},qi={includes:Yi(!0),indexOf:Yi(!1)},zi=qi.includes;wi({target:\"Array\",proto:!0,forced:n((function(){return!Array(1).includes()}))},{includes:function(e){return zi(this,e,arguments.length>1?arguments[1]:void 0)}});var Ji=ie,Xi=function(e){return Ji[e+\"Prototype\"]},Qi=Xi(\"Array\").includes,Zi=te,$i=R,en=ht(\"match\"),tn=function(e){var t;return Zi(e)&&(void 0!==(t=e[en])?!!t:\"RegExp\"==$i(e))},nn=tn,rn=TypeError,on={};on[ht(\"toStringTag\")]=\"z\";var sn=\"[object z]\"===String(on),an=sn,cn=w,dn=R,ln=ht(\"toStringTag\"),un=Object,hn=\"Arguments\"==dn(function(){return arguments}()),pn=an?dn:function(e){var t,i,n;return void 0===e?\"Undefined\":null===e?\"Null\":\"string\"==typeof(i=function(e,t){try{return e[t]}catch(e){}}(t=un(e),ln))?i:hn?dn(t):\"Object\"==(n=dn(t))&&cn(t.callee)?\"Arguments\":n},_n=pn,En=String,mn=function(e){if(\"Symbol\"===_n(e))throw TypeError(\"Cannot convert a Symbol value to a string\");return En(e)},fn=ht(\"match\"),Tn=wi,Sn=function(e){if(nn(e))throw rn(\"The method doesn't accept regular expressions\");return e},gn=J,Rn=mn,Cn=function(e){var t=/./;try{\"/./\"[e](t)}catch(i){try{return t[fn]=!1,\"/./\"[e](t)}catch(e){}}return!1},In=d(\"\".indexOf);Tn({target:\"String\",proto:!0,forced:!Cn(\"includes\")},{includes:function(e){return!!~In(Rn(gn(this)),Rn(Sn(e)),arguments.length>1?arguments[1]:void 0)}});var vn=Xi(\"String\").includes,yn=l,An=Qi,bn=vn,wn=Array.prototype,On=String.prototype,Nn=function(e){var t=e.includes;return e===wn||yn(wn,e)&&t===wn.includes?An:\"string\"==typeof e||e===On||yn(On,e)&&t===On.includes?bn:t},Dn=i(Nn),Pn=De,Ln=Je,kn=K,Mn=Gi,Un=TypeError,xn=function(e){return function(t,i,n,r){Pn(i);var o=Ln(t),s=kn(o),a=Mn(o),c=e?a-1:0,d=e?-1:1;if(n<2)for(;;){if(c in s){r=s[c],c+=d;break}if(c+=d,e?c<0:a<=c)throw Un(\"Reduce of empty array with no initial value\")}for(;e?c>=0:a>c;c+=d)c in s&&(r=i(r,s[c],c,o));return r}},Vn={left:xn(!1),right:xn(!0)},Fn=n,Bn=function(e,t){var i=[][e];return!!i&&Fn((function(){i.call(null,t||function(){return 1},1)}))},jn=\"undefined\"!=typeof process&&\"process\"==R(process),Gn=Vn.left;wi({target:\"Array\",proto:!0,forced:!jn&&Ee>79&&Ee<83||!Bn(\"reduce\")},{reduce:function(e){var t=arguments.length;return Gn(this,e,t,t>1?arguments[1]:void 0)}});var Wn=Xi(\"Array\").reduce,Hn=l,Kn=Wn,Yn=Array.prototype,qn=function(e){var t=e.reduce;return e===Yn||Hn(Yn,e)&&t===Yn.reduce?Kn:t},zn=qn,Jn=i(zn);let Xn=!0,Qn=!0;function Zn(e,t,i){const n=e.match(t);return n&&n.length>=i&&parseInt(n[i],10)}function $n(e,t,i){if(!e.RTCPeerConnection)return;const n=e.RTCPeerConnection.prototype,r=n.addEventListener;n.addEventListener=function(e,n){if(e!==t)return r.apply(this,arguments);const o=e=>{const t=i(e);t&&(n.handleEvent?n.handleEvent(t):n(t))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(n,o),r.apply(this,[e,o])};const o=n.removeEventListener;n.removeEventListener=function(e,i){if(e!==t||!this._eventMap||!this._eventMap[t])return o.apply(this,arguments);if(!this._eventMap[t].has(i))return o.apply(this,arguments);const n=this._eventMap[t].get(i);return this._eventMap[t].delete(i),0===this._eventMap[t].size&&delete this._eventMap[t],0===Object.keys(this._eventMap).length&&delete this._eventMap,o.apply(this,[e,n])},Object.defineProperty(n,\"on\"+t,{get(){return this[\"_on\"+t]},set(e){this[\"_on\"+t]&&(this.removeEventListener(t,this[\"_on\"+t]),delete this[\"_on\"+t]),e&&this.addEventListener(t,this[\"_on\"+t]=e)},enumerable:!0,configurable:!0})}function er(e){return\"boolean\"!=typeof e?new Error(\"Argument type: \"+typeof e+\". Please use a boolean.\"):(Xn=e,e?\"adapter.js logging disabled\":\"adapter.js logging enabled\")}function tr(e){return\"boolean\"!=typeof e?new Error(\"Argument type: \"+typeof e+\". Please use a boolean.\"):(Qn=!e,\"adapter.js deprecation warnings \"+(e?\"disabled\":\"enabled\"))}function ir(){if(\"object\"==typeof window){if(Xn)return;\"undefined\"!=typeof console&&\"function\"==typeof console.log&&console.log.apply(console,arguments)}}function nr(e,t){Qn&&console.warn(e+\" is deprecated, please use \"+t+\" instead.\")}function rr(e){return\"[object Object]\"===Object.prototype.toString.call(e)}function or(e){var t;return rr(e)?Jn(t=Object.keys(e)).call(t,(function(t,i){const n=rr(e[i]),r=n?or(e[i]):e[i],o=n&&!Object.keys(r).length;return void 0===r||o?t:Object.assign(t,{[i]:r})}),{}):e}function sr(e,t,i){t&&!i.has(t.id)&&(i.set(t.id,t),Object.keys(t).forEach((n=>{n.endsWith(\"Id\")?sr(e,e.get(t[n]),i):n.endsWith(\"Ids\")&&t[n].forEach((t=>{sr(e,e.get(t),i)}))})))}function ar(e,t,i){const n=i?\"outbound-rtp\":\"inbound-rtp\",r=new Map;if(null===t)return r;const o=[];return e.forEach((e=>{\"track\"===e.type&&e.trackIdentifier===t.id&&o.push(e)})),o.forEach((t=>{e.forEach((i=>{i.type===n&&i.trackId===t.id&&sr(e,i,r)}))})),r}var cr=nt,dr=Ye(\"keys\"),lr=function(e){return dr[e]||(dr[e]=cr(e))},ur=!n((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),hr=Ze,pr=w,_r=Je,Er=ur,mr=lr(\"IE_PROTO\"),fr=Object,Tr=fr.prototype,Sr=Er?fr.getPrototypeOf:function(e){var t=_r(e);if(hr(t,mr))return t[mr];var i=t.constructor;return pr(i)&&t instanceof i?i.prototype:t instanceof fr?Tr:null},gr=d,Rr=De,Cr=w,Ir=String,vr=TypeError,yr=function(e,t,i){try{return gr(Rr(Object.getOwnPropertyDescriptor(e,t)[i]))}catch(e){}},Ar=ii,br=function(e){if(\"object\"==typeof e||Cr(e))return e;throw vr(\"Can't set \"+Ir(e)+\" as a prototype\")},wr=Object.setPrototypeOf||(\"__proto__\"in{}?function(){var e,t=!1,i={};try{(e=yr(Object.prototype,\"__proto__\",\"set\"))(i,[]),t=i instanceof Array}catch(e){}return function(i,n){return Ar(i),br(n),t?e(i,n):i.__proto__=n,i}}():void 0),Or={},Nr={},Dr=Ze,Pr=Z,Lr=qi.indexOf,kr=Nr,Mr=d([].push),Ur=function(e,t){var i,n=Pr(e),r=0,o=[];for(i in n)!Dr(kr,i)&&Dr(n,i)&&Mr(o,i);for(;t.length>r;)Dr(n,i=t[r++])&&(~Lr(o,i)||Mr(o,i));return o},xr=[\"constructor\",\"hasOwnProperty\",\"isPrototypeOf\",\"propertyIsEnumerable\",\"toLocaleString\",\"toString\",\"valueOf\"],Vr=Ur,Fr=xr.concat(\"length\",\"prototype\");Or.f=Object.getOwnPropertyNames||function(e){return Vr(e,Fr)};var Br={};Br.f=Object.getOwnPropertySymbols;var jr=ae,Gr=Or,Wr=Br,Hr=ii,Kr=d([].concat),Yr=jr(\"Reflect\",\"ownKeys\")||function(e){var t=Gr.f(Hr(e)),i=Wr.f;return i?Kr(t,i(e)):t},qr=Ze,zr=Yr,Jr=O,Xr=Qt,Qr={},Zr=Ur,$r=xr,eo=Object.keys||function(e){return Zr(e,$r)},to=N,io=Zt,no=Qt,ro=ii,oo=Z,so=eo;Qr.f=to&&!io?Object.defineProperties:function(e,t){ro(e);for(var i,n=oo(t),r=so(t),o=r.length,s=0;o>s;)no.f(e,i=r[s++],n[i]);return e};var ao,co=ae(\"document\",\"documentElement\"),lo=ii,uo=Qr,ho=xr,po=Nr,_o=co,Eo=At,mo=\"prototype\",fo=\"script\",To=lr(\"IE_PROTO\"),So=function(){},go=function(e){return\"<\"+fo+\">\"+e+\"</\"+fo+\">\"},Ro=function(e){e.write(go(\"\")),e.close();var t=e.parentWindow.Object;return e=null,t},Co=function(){try{ao=new ActiveXObject(\"htmlfile\")}catch(e){}var e,t,i;Co=\"undefined\"!=typeof document?document.domain&&ao?Ro(ao):(t=Eo(\"iframe\"),i=\"java\"+fo+\":\",t.style.display=\"none\",_o.appendChild(t),t.src=String(i),(e=t.contentWindow.document).open(),e.write(go(\"document.F=Object\")),e.close(),e.F):Ro(ao);for(var n=ho.length;n--;)delete Co[mo][ho[n]];return Co()};po[To]=!0;var Io=Object.create||function(e,t){var i;return null!==e?(So[mo]=lo(e),i=new So,So[mo]=null,i[To]=e):i=Co(),void 0===t?i:uo.f(i,t)},vo=te,yo=mi,Ao=Error,bo=d(\"\".replace),wo=String(Ao(\"zxcasd\").stack),Oo=/\\n\\s*at [^:]*:[^\\n]*/,No=Oo.test(wo),Do=B,Po=!n((function(){var e=Error(\"a\");return!(\"stack\"in e)||(Object.defineProperty(e,\"stack\",Do(1,7)),7!==e.stack)})),Lo=mi,ko=function(e,t){if(No&&\"string\"==typeof e&&!Ao.prepareStackTrace)for(;t--;)e=bo(e,Oo,\"\");return e},Mo=Po,Uo=Error.captureStackTrace,xo={},Vo=xo,Fo=ht(\"iterator\"),Bo=Array.prototype,jo=function(e){return void 0!==e&&(Vo.Array===e||Bo[Fo]===e)},Go=pn,Wo=ke,Ho=Y,Ko=xo,Yo=ht(\"iterator\"),qo=function(e){if(!Ho(e))return Wo(e,Yo)||Wo(e,\"@@iterator\")||Ko[Go(e)]},zo=L,Jo=De,Xo=ii,Qo=be,Zo=qo,$o=TypeError,es=function(e,t){var i=arguments.length<2?Zo(e):t;if(Jo(i))return Xo(zo(i,e));throw $o(Qo(e)+\" is not iterable\")},ts=L,is=ii,ns=ke,rs=function(e,t,i){var n,r;is(e);try{if(!(n=ns(e,\"return\"))){if(\"throw\"===t)throw i;return i}n=ts(n,e)}catch(e){r=!0,n=e}if(\"throw\"===t)throw i;if(r)throw n;return is(n),i},os=Xt,ss=L,as=ii,cs=be,ds=jo,ls=Gi,us=l,hs=es,ps=qo,_s=rs,Es=TypeError,ms=function(e,t){this.stopped=e,this.result=t},fs=ms.prototype,Ts=function(e,t,i){var n,r,o,s,a,c,d,l=i&&i.that,u=!(!i||!i.AS_ENTRIES),h=!(!i||!i.IS_RECORD),p=!(!i||!i.IS_ITERATOR),_=!(!i||!i.INTERRUPTED),E=os(t,l),m=function(e){return n&&_s(n,\"normal\",e),new ms(!0,e)},f=function(e){return u?(as(e),_?E(e[0],e[1],m):E(e[0],e[1])):_?E(e,m):E(e)};if(h)n=e.iterator;else if(p)n=e;else{if(!(r=ps(e)))throw Es(cs(e)+\" is not iterable\");if(ds(r)){for(o=0,s=ls(e);s>o;o++)if((a=f(e[o]))&&us(fs,a))return a;return new ms(!1)}n=hs(e,r)}for(c=h?e.next:n.next;!(d=ss(c,n)).done;){try{a=f(d.value)}catch(e){_s(n,\"throw\",e)}if(\"object\"==typeof a&&a&&us(fs,a))return a}return new ms(!1)},Ss=mn,gs=wi,Rs=l,Cs=Sr,Is=wr,vs=function(e,t,i){for(var n=zr(t),r=Xr.f,o=Jr.f,s=0;s<n.length;s++){var a=n[s];qr(e,a)||i&&qr(i,a)||r(e,a,o(t,a))}},ys=Io,As=mi,bs=B,ws=function(e,t){vo(t)&&\"cause\"in t&&yo(e,\"cause\",t.cause)},Os=function(e,t,i,n){Mo&&(Uo?Uo(e,t):Lo(e,\"stack\",ko(i,n)))},Ns=Ts,Ds=function(e,t){return void 0===e?arguments.length<2?\"\":t:Ss(e)},Ps=ht(\"toStringTag\"),Ls=Error,ks=[].push,Ms=function(e,t){var i,n=Rs(Us,this);Is?i=Is(Ls(),n?Cs(this):Us):(i=n?this:ys(Us),As(i,Ps,\"Error\")),void 0!==t&&As(i,\"message\",Ds(t)),Os(i,Ms,i.stack,1),arguments.length>2&&ws(i,arguments[2]);var r=[];return Ns(e,ks,{that:r}),As(i,\"errors\",r),i};Is?Is(Ms,Ls):vs(Ms,Ls,{name:!0});var Us=Ms.prototype=ys(Ls.prototype,{constructor:bs(1,Ms),message:bs(1,\"\"),name:bs(1,\"AggregateError\")});gs({global:!0,constructor:!0,arity:2},{AggregateError:Ms});var xs,Vs,Fs,Bs=w,js=h.WeakMap,Gs=Bs(js)&&/native code/.test(String(js)),Ws=h,Hs=te,Ks=mi,Ys=Ze,qs=He,zs=lr,Js=Nr,Xs=\"Object already initialized\",Qs=Ws.TypeError,Zs=Ws.WeakMap;if(Gs||qs.state){var $s=qs.state||(qs.state=new Zs);$s.get=$s.get,$s.has=$s.has,$s.set=$s.set,xs=function(e,t){if($s.has(e))throw Qs(Xs);return t.facade=e,$s.set(e,t),t},Vs=function(e){return $s.get(e)||{}},Fs=function(e){return $s.has(e)}}else{var ea=zs(\"state\");Js[ea]=!0,xs=function(e,t){if(Ys(e,ea))throw Qs(Xs);return t.facade=e,Ks(e,ea,t),t},Vs=function(e){return Ys(e,ea)?e[ea]:{}},Fs=function(e){return Ys(e,ea)}}var ta,ia,na,ra={set:xs,get:Vs,has:Fs,enforce:function(e){return Fs(e)?Vs(e):xs(e,{})},getterFor:function(e){return function(t){var i;if(!Hs(t)||(i=Vs(t)).type!==e)throw Qs(\"Incompatible receiver, \"+e+\" required\");return i}}},oa=N,sa=Ze,aa=Function.prototype,ca=oa&&Object.getOwnPropertyDescriptor,da=sa(aa,\"name\"),la={EXISTS:da,PROPER:da&&\"something\"===function(){}.name,CONFIGURABLE:da&&(!oa||oa&&ca(aa,\"name\").configurable)},ua=mi,ha=function(e,t,i,n){return n&&n.enumerable?e[t]=i:ua(e,t,i),e},pa=n,_a=w,Ea=te,ma=Io,fa=Sr,Ta=ha,Sa=ht(\"iterator\"),ga=!1;[].keys&&(\"next\"in(na=[].keys())?(ia=fa(fa(na)))!==Object.prototype&&(ta=ia):ga=!0);var Ra=!Ea(ta)||pa((function(){var e={};return ta[Sa].call(e)!==e}));_a((ta=Ra?{}:ma(ta))[Sa])||Ta(ta,Sa,(function(){return this}));var Ca={IteratorPrototype:ta,BUGGY_SAFARI_ITERATORS:ga},Ia=pn,va=sn?{}.toString:function(){return\"[object \"+Ia(this)+\"]\"},ya=sn,Aa=Qt.f,ba=mi,wa=Ze,Oa=va,Na=ht(\"toStringTag\"),Da=function(e,t,i,n){if(e){var r=i?e:e.prototype;wa(r,Na)||Aa(r,Na,{configurable:!0,value:t}),n&&!ya&&ba(r,\"toString\",Oa)}},Pa=Ca.IteratorPrototype,La=Io,ka=B,Ma=Da,Ua=xo,xa=function(){return this},Va=function(e,t,i,n){var r=t+\" Iterator\";return e.prototype=La(Pa,{next:ka(+!n,i)}),Ma(e,r,!1,!0),Ua[r]=xa,e},Fa=wi,Ba=L,ja=la,Ga=Va,Wa=Sr,Ha=Da,Ka=ha,Ya=xo,qa=Ca,za=ja.PROPER,Ja=qa.BUGGY_SAFARI_ITERATORS,Xa=ht(\"iterator\"),Qa=\"keys\",Za=\"values\",$a=\"entries\",ec=function(){return this},tc=function(e,t,i,n,r,o,s){Ga(i,t,n);var a,c,d,l=function(e){if(e===r&&E)return E;if(!Ja&&e in p)return p[e];switch(e){case Qa:case Za:case $a:return function(){return new i(this,e)}}return function(){return new i(this)}},u=t+\" Iterator\",h=!1,p=e.prototype,_=p[Xa]||p[\"@@iterator\"]||r&&p[r],E=!Ja&&_||l(r),m=\"Array\"==t&&p.entries||_;if(m&&(a=Wa(m.call(new e)))!==Object.prototype&&a.next&&(Ha(a,u,!0,!0),Ya[u]=ec),za&&r==Za&&_&&_.name!==Za&&(h=!0,E=function(){return Ba(_,this)}),r)if(c={values:l(Za),keys:o?E:l(Qa),entries:l($a)},s)for(d in c)(Ja||h||!(d in p))&&Ka(p,d,c[d]);else Fa({target:t,proto:!0,forced:Ja||h},c);return s&&p[Xa]!==E&&Ka(p,Xa,E,{name:r}),Ya[t]=E,c},ic=function(e,t){return{value:e,done:t}},nc=Z,rc=xo,oc=ra;Qt.f;var sc=tc,ac=ic,cc=\"Array Iterator\",dc=oc.set,lc=oc.getterFor(cc);sc(Array,\"Array\",(function(e,t){dc(this,{type:cc,target:nc(e),index:0,kind:t})}),(function(){var e=lc(this),t=e.target,i=e.kind,n=e.index++;return!t||n>=t.length?(e.target=void 0,ac(void 0,!0)):ac(\"keys\"==i?n:\"values\"==i?t[n]:[n,t[n]],!1)}),\"values\"),rc.Arguments=rc.Array;var uc=Qt,hc=function(e,t,i){return uc.f(e,t,i)},pc=ae,_c=hc,Ec=N,mc=ht(\"species\"),fc=l,Tc=TypeError,Sc=function(e,t){if(fc(t,e))return e;throw Tc(\"Incorrect invocation\")},gc=w,Rc=He,Cc=d(Function.toString);gc(Rc.inspectSource)||(Rc.inspectSource=function(e){return Cc(e)});var Ic=Rc.inspectSource,vc=d,yc=n,Ac=w,bc=pn,wc=Ic,Oc=function(){},Nc=[],Dc=ae(\"Reflect\",\"construct\"),Pc=/^\\s*(?:class|function)\\b/,Lc=vc(Pc.exec),kc=!Pc.exec(Oc),Mc=function(e){if(!Ac(e))return!1;try{return Dc(Oc,Nc,e),!0}catch(e){return!1}},Uc=function(e){if(!Ac(e))return!1;switch(bc(e)){case\"AsyncFunction\":case\"GeneratorFunction\":case\"AsyncGeneratorFunction\":return!1}try{return kc||!!Lc(Pc,wc(e))}catch(e){return!0}};Uc.sham=!0;var xc,Vc,Fc,Bc,jc=!Dc||yc((function(){var e;return Mc(Mc.call)||!Mc(Object)||!Mc((function(){e=!0}))||e}))?Uc:Mc,Gc=jc,Wc=be,Hc=TypeError,Kc=ii,Yc=function(e){if(Gc(e))return e;throw Hc(Wc(e)+\" is not a constructor\")},qc=Y,zc=ht(\"species\"),Jc=function(e,t){var i,n=Kc(e).constructor;return void 0===n||qc(i=Kc(n)[zc])?t:Yc(i)},Xc=d([].slice),Qc=TypeError,Zc=function(e,t){if(e<t)throw Qc(\"Not enough arguments\");return e},$c=/(?:ipad|iphone|ipod).*applewebkit/i.test(ce),ed=h,td=f,id=Xt,nd=w,rd=Ze,od=n,sd=co,ad=Xc,cd=At,dd=Zc,ld=$c,ud=jn,hd=ed.setImmediate,pd=ed.clearImmediate,_d=ed.process,Ed=ed.Dispatch,md=ed.Function,fd=ed.MessageChannel,Td=ed.String,Sd=0,gd={},Rd=\"onreadystatechange\";od((function(){xc=ed.location}));var Cd=function(e){if(rd(gd,e)){var t=gd[e];delete gd[e],t()}},Id=function(e){return function(){Cd(e)}},vd=function(e){Cd(e.data)},yd=function(e){ed.postMessage(Td(e),xc.protocol+\"//\"+xc.host)};hd&&pd||(hd=function(e){dd(arguments.length,1);var t=nd(e)?e:md(e),i=ad(arguments,1);return gd[++Sd]=function(){td(t,void 0,i)},Vc(Sd),Sd},pd=function(e){delete gd[e]},ud?Vc=function(e){_d.nextTick(Id(e))}:Ed&&Ed.now?Vc=function(e){Ed.now(Id(e))}:fd&&!ld?(Bc=(Fc=new fd).port2,Fc.port1.onmessage=vd,Vc=id(Bc.postMessage,Bc)):ed.addEventListener&&nd(ed.postMessage)&&!ed.importScripts&&xc&&\"file:\"!==xc.protocol&&!od(yd)?(Vc=yd,ed.addEventListener(\"message\",vd,!1)):Vc=Rd in cd(\"script\")?function(e){sd.appendChild(cd(\"script\"))[Rd]=function(){sd.removeChild(this),Cd(e)}}:function(e){setTimeout(Id(e),0)});var Ad={set:hd,clear:pd},bd=function(){this.head=null,this.tail=null};bd.prototype={add:function(e){var t={item:e,next:null},i=this.tail;i?i.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return null===(this.head=e.next)&&(this.tail=null),e.item}};var wd,Od,Nd,Dd,Pd,Ld=bd,kd=/ipad|iphone|ipod/i.test(ce)&&\"undefined\"!=typeof Pebble,Md=/web0s(?!.*chrome)/i.test(ce),Ud=h,xd=Xt,Vd=O.f,Fd=Ad.set,Bd=Ld,jd=$c,Gd=kd,Wd=Md,Hd=jn,Kd=Ud.MutationObserver||Ud.WebKitMutationObserver,Yd=Ud.document,qd=Ud.process,zd=Ud.Promise,Jd=Vd(Ud,\"queueMicrotask\"),Xd=Jd&&Jd.value;if(!Xd){var Qd=new Bd,Zd=function(){var e,t;for(Hd&&(e=qd.domain)&&e.exit();t=Qd.get();)try{t()}catch(e){throw Qd.head&&wd(),e}e&&e.enter()};jd||Hd||Wd||!Kd||!Yd?!Gd&&zd&&zd.resolve?((Dd=zd.resolve(void 0)).constructor=zd,Pd=xd(Dd.then,Dd),wd=function(){Pd(Zd)}):Hd?wd=function(){qd.nextTick(Zd)}:(Fd=xd(Fd,Ud),wd=function(){Fd(Zd)}):(Od=!0,Nd=Yd.createTextNode(\"\"),new Kd(Zd).observe(Nd,{characterData:!0}),wd=function(){Nd.data=Od=!Od}),Xd=function(e){Qd.head||wd(),Qd.add(e)}}var $d=Xd,el=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}},tl=h.Promise,il=\"object\"==typeof Deno&&Deno&&\"object\"==typeof Deno.version,nl=!il&&!jn&&\"object\"==typeof window&&\"object\"==typeof document,rl=h,ol=tl,sl=w,al=Yt,cl=Ic,dl=ht,ll=nl,ul=il,hl=Ee,pl=ol&&ol.prototype,_l=dl(\"species\"),El=!1,ml=sl(rl.PromiseRejectionEvent),fl=al(\"Promise\",(function(){var e=cl(ol),t=e!==String(ol);if(!t&&66===hl)return!0;if(!pl.catch||!pl.finally)return!0;if(!hl||hl<51||!/native code/.test(e)){var i=new ol((function(e){e(1)})),n=function(e){e((function(){}),(function(){}))};if((i.constructor={})[_l]=n,!(El=i.then((function(){}))instanceof n))return!0}return!t&&(ll||ul)&&!ml})),Tl={CONSTRUCTOR:fl,REJECTION_EVENT:ml,SUBCLASSING:El},Sl={},gl=De,Rl=TypeError,Cl=function(e){var t,i;this.promise=new e((function(e,n){if(void 0!==t||void 0!==i)throw Rl(\"Bad Promise constructor\");t=e,i=n})),this.resolve=gl(t),this.reject=gl(i)};Sl.f=function(e){return new Cl(e)};var Il,vl,yl=wi,Al=jn,bl=h,wl=L,Ol=ha,Nl=Da,Dl=function(e){var t=pc(e);Ec&&t&&!t[mc]&&_c(t,mc,{configurable:!0,get:function(){return this}})},Pl=De,Ll=w,kl=te,Ml=Sc,Ul=Jc,xl=Ad.set,Vl=$d,Fl=function(e,t){try{1==arguments.length?console.error(e):console.error(e,t)}catch(e){}},Bl=el,jl=Ld,Gl=ra,Wl=tl,Hl=Tl,Kl=Sl,Yl=\"Promise\",ql=Hl.CONSTRUCTOR,zl=Hl.REJECTION_EVENT,Jl=Gl.getterFor(Yl),Xl=Gl.set,Ql=Wl&&Wl.prototype,Zl=Wl,$l=Ql,eu=bl.TypeError,tu=bl.document,iu=bl.process,nu=Kl.f,ru=nu,ou=!!(tu&&tu.createEvent&&bl.dispatchEvent),su=\"unhandledrejection\",au=function(e){var t;return!(!kl(e)||!Ll(t=e.then))&&t},cu=function(e,t){var i,n,r,o=t.value,s=1==t.state,a=s?e.ok:e.fail,c=e.resolve,d=e.reject,l=e.domain;try{a?(s||(2===t.rejection&&pu(t),t.rejection=1),!0===a?i=o:(l&&l.enter(),i=a(o),l&&(l.exit(),r=!0)),i===e.promise?d(eu(\"Promise-chain cycle\")):(n=au(i))?wl(n,i,c,d):c(i)):d(o)}catch(e){l&&!r&&l.exit(),d(e)}},du=function(e,t){e.notified||(e.notified=!0,Vl((function(){for(var i,n=e.reactions;i=n.get();)cu(i,e);e.notified=!1,t&&!e.rejection&&uu(e)})))},lu=function(e,t,i){var n,r;ou?((n=tu.createEvent(\"Event\")).promise=t,n.reason=i,n.initEvent(e,!1,!0),bl.dispatchEvent(n)):n={promise:t,reason:i},!zl&&(r=bl[\"on\"+e])?r(n):e===su&&Fl(\"Unhandled promise rejection\",i)},uu=function(e){wl(xl,bl,(function(){var t,i=e.facade,n=e.value;if(hu(e)&&(t=Bl((function(){Al?iu.emit(\"unhandledRejection\",n,i):lu(su,i,n)})),e.rejection=Al||hu(e)?2:1,t.error))throw t.value}))},hu=function(e){return 1!==e.rejection&&!e.parent},pu=function(e){wl(xl,bl,(function(){var t=e.facade;Al?iu.emit(\"rejectionHandled\",t):lu(\"rejectionhandled\",t,e.value)}))},_u=function(e,t,i){return function(n){e(t,n,i)}},Eu=function(e,t,i){e.done||(e.done=!0,i&&(e=i),e.value=t,e.state=2,du(e,!0))},mu=function(e,t,i){if(!e.done){e.done=!0,i&&(e=i);try{if(e.facade===t)throw eu(\"Promise can't be resolved itself\");var n=au(t);n?Vl((function(){var i={done:!1};try{wl(n,t,_u(mu,i,e),_u(Eu,i,e))}catch(t){Eu(i,t,e)}})):(e.value=t,e.state=1,du(e,!1))}catch(t){Eu({done:!1},t,e)}}};ql&&($l=(Zl=function(e){Ml(this,$l),Pl(e),wl(Il,this);var t=Jl(this);try{e(_u(mu,t),_u(Eu,t))}catch(e){Eu(t,e)}}).prototype,(Il=function(e){Xl(this,{type:Yl,done:!1,notified:!1,parent:!1,reactions:new jl,rejection:!1,state:0,value:void 0})}).prototype=Ol($l,\"then\",(function(e,t){var i=Jl(this),n=nu(Ul(this,Zl));return i.parent=!0,n.ok=!Ll(e)||e,n.fail=Ll(t)&&t,n.domain=Al?iu.domain:void 0,0==i.state?i.reactions.add(n):Vl((function(){cu(n,i)})),n.promise})),vl=function(){var e=new Il,t=Jl(e);this.promise=e,this.resolve=_u(mu,t),this.reject=_u(Eu,t)},Kl.f=nu=function(e){return e===Zl||undefined===e?new vl(e):ru(e)}),yl({global:!0,constructor:!0,wrap:!0,forced:ql},{Promise:Zl}),Nl(Zl,Yl,!1,!0),Dl(Yl);var fu=ht(\"iterator\"),Tu=!1;try{var Su=0,gu={next:function(){return{done:!!Su++}},return:function(){Tu=!0}};gu[fu]=function(){return this},Array.from(gu,(function(){throw 2}))}catch(e){}var Ru=tl,Cu=function(e,t){if(!t&&!Tu)return!1;var i=!1;try{var n={};n[fu]=function(){return{next:function(){return{done:i=!0}}}},e(n)}catch(e){}return i},Iu=Tl.CONSTRUCTOR||!Cu((function(e){Ru.all(e).then(void 0,(function(){}))})),vu=L,yu=De,Au=Sl,bu=el,wu=Ts;wi({target:\"Promise\",stat:!0,forced:Iu},{all:function(e){var t=this,i=Au.f(t),n=i.resolve,r=i.reject,o=bu((function(){var i=yu(t.resolve),o=[],s=0,a=1;wu(e,(function(e){var c=s++,d=!1;a++,vu(i,t,e).then((function(e){d||(d=!0,o[c]=e,--a||n(o))}),r)})),--a||n(o)}));return o.error&&r(o.value),i.promise}});var Ou=wi,Nu=Tl.CONSTRUCTOR;tl&&tl.prototype,Ou({target:\"Promise\",proto:!0,forced:Nu,real:!0},{catch:function(e){return this.then(void 0,e)}});var Du=L,Pu=De,Lu=Sl,ku=el,Mu=Ts;wi({target:\"Promise\",stat:!0,forced:Iu},{race:function(e){var t=this,i=Lu.f(t),n=i.reject,r=ku((function(){var r=Pu(t.resolve);Mu(e,(function(e){Du(r,t,e).then(i.resolve,n)}))}));return r.error&&n(r.value),i.promise}});var Uu=L,xu=Sl;wi({target:\"Promise\",stat:!0,forced:Tl.CONSTRUCTOR},{reject:function(e){var t=xu.f(this);return Uu(t.reject,void 0,e),t.promise}});var Vu=ii,Fu=te,Bu=Sl,ju=function(e,t){if(Vu(e),Fu(t)&&t.constructor===e)return t;var i=Bu.f(e);return(0,i.resolve)(t),i.promise},Gu=wi,Wu=tl,Hu=Tl.CONSTRUCTOR,Ku=ju,Yu=ae(\"Promise\"),qu=!Hu;Gu({target:\"Promise\",stat:!0,forced:true},{resolve:function(e){return Ku(qu&&this===Yu?Wu:this,e)}});var zu=L,Ju=De,Xu=Sl,Qu=el,Zu=Ts;wi({target:\"Promise\",stat:!0,forced:Iu},{allSettled:function(e){var t=this,i=Xu.f(t),n=i.resolve,r=i.reject,o=Qu((function(){var i=Ju(t.resolve),r=[],o=0,s=1;Zu(e,(function(e){var a=o++,c=!1;s++,zu(i,t,e).then((function(e){c||(c=!0,r[a]={status:\"fulfilled\",value:e},--s||n(r))}),(function(e){c||(c=!0,r[a]={status:\"rejected\",reason:e},--s||n(r))}))})),--s||n(r)}));return o.error&&r(o.value),i.promise}});var $u=L,eh=De,th=ae,ih=Sl,nh=el,rh=Ts,oh=\"No one promise resolved\";wi({target:\"Promise\",stat:!0,forced:Iu},{any:function(e){var t=this,i=th(\"AggregateError\"),n=ih.f(t),r=n.resolve,o=n.reject,s=nh((function(){var n=eh(t.resolve),s=[],a=0,c=1,d=!1;rh(e,(function(e){var l=a++,u=!1;c++,$u(n,t,e).then((function(e){u||d||(d=!0,r(e))}),(function(e){u||d||(u=!0,s[l]=e,--c||o(new i(s,oh)))}))})),--c||o(new i(s,oh))}));return s.error&&o(s.value),n.promise}});var sh=wi,ah=tl,ch=n,dh=ae,lh=w,uh=Jc,hh=ju,ph=ah&&ah.prototype;sh({target:\"Promise\",proto:!0,real:!0,forced:!!ah&&ch((function(){ph.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=uh(this,dh(\"Promise\")),i=lh(e);return this.then(i?function(i){return hh(t,e()).then((function(){return i}))}:e,i?function(i){return hh(t,e()).then((function(){throw i}))}:e)}});var _h=d,Eh=Li,mh=mn,fh=J,Th=_h(\"\".charAt),Sh=_h(\"\".charCodeAt),gh=_h(\"\".slice),Rh=function(e){return function(t,i){var n,r,o=mh(fh(t)),s=Eh(i),a=o.length;return s<0||s>=a?e?\"\":void 0:(n=Sh(o,s))<55296||n>56319||s+1===a||(r=Sh(o,s+1))<56320||r>57343?e?Th(o,s):n:e?gh(o,s,s+2):r-56320+(n-55296<<10)+65536}},Ch={codeAt:Rh(!1),charAt:Rh(!0)},Ih=Ch.charAt,vh=mn,yh=ra,Ah=tc,bh=ic,wh=\"String Iterator\",Oh=yh.set,Nh=yh.getterFor(wh);Ah(String,\"String\",(function(e){Oh(this,{type:wh,string:vh(e),index:0})}),(function(){var e,t=Nh(this),i=t.string,n=t.index;return n>=i.length?bh(void 0,!0):(e=Ih(i,n),t.index+=e.length,bh(e,!1))}));var Dh=ie.Promise,Ph={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},Lh=h,kh=pn,Mh=mi,Uh=xo,xh=ht(\"toStringTag\");for(var Vh in Ph){var Fh=Lh[Vh],Bh=Fh&&Fh.prototype;Bh&&kh(Bh)!==xh&&Mh(Bh,xh,Vh),Uh[Vh]=Uh.Array}var jh=Dh,Gh=i(jh);const Wh=ir;function Hh(e,t){const i=e&&e.navigator;if(!i.mediaDevices)return;const n=function(e){if(\"object\"!=typeof e||e.mandatory||e.optional)return e;const t={};return Object.keys(e).forEach((i=>{if(\"require\"===i||\"advanced\"===i||\"mediaSource\"===i)return;const n=\"object\"==typeof e[i]?e[i]:{ideal:e[i]};void 0!==n.exact&&\"number\"==typeof n.exact&&(n.min=n.max=n.exact);const r=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):\"deviceId\"===t?\"sourceId\":t};if(void 0!==n.ideal){t.optional=t.optional||[];let e={};\"number\"==typeof n.ideal?(e[r(\"min\",i)]=n.ideal,t.optional.push(e),e={},e[r(\"max\",i)]=n.ideal,t.optional.push(e)):(e[r(\"\",i)]=n.ideal,t.optional.push(e))}void 0!==n.exact&&\"number\"!=typeof n.exact?(t.mandatory=t.mandatory||{},t.mandatory[r(\"\",i)]=n.exact):[\"min\",\"max\"].forEach((e=>{void 0!==n[e]&&(t.mandatory=t.mandatory||{},t.mandatory[r(e,i)]=n[e])}))})),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},r=function(e,r){if(t.version>=61)return r(e);if((e=JSON.parse(JSON.stringify(e)))&&\"object\"==typeof e.audio){const t=function(e,t,i){t in e&&!(i in e)&&(e[i]=e[t],delete e[t])};t((e=JSON.parse(JSON.stringify(e))).audio,\"autoGainControl\",\"googAutoGainControl\"),t(e.audio,\"noiseSuppression\",\"googNoiseSuppression\"),e.audio=n(e.audio)}if(e&&\"object\"==typeof e.video){let o=e.video.facingMode;o=o&&(\"object\"==typeof o?o:{ideal:o});const s=t.version<66;if(o&&(\"user\"===o.exact||\"environment\"===o.exact||\"user\"===o.ideal||\"environment\"===o.ideal)&&(!i.mediaDevices.getSupportedConstraints||!i.mediaDevices.getSupportedConstraints().facingMode||s)){let t;if(delete e.video.facingMode,\"environment\"===o.exact||\"environment\"===o.ideal?t=[\"back\",\"rear\"]:\"user\"!==o.exact&&\"user\"!==o.ideal||(t=[\"front\"]),t)return i.mediaDevices.enumerateDevices().then((i=>{let s=(i=i.filter((e=>\"videoinput\"===e.kind))).find((e=>t.some((t=>{var i;return Dn(i=e.label.toLowerCase()).call(i,t)}))));return!s&&i.length&&Dn(t).call(t,\"back\")&&(s=i[i.length-1]),s&&(e.video.deviceId=o.exact?{exact:s.deviceId}:{ideal:s.deviceId}),e.video=n(e.video),Wh(\"chrome: \"+JSON.stringify(e)),r(e)}))}e.video=n(e.video)}return Wh(\"chrome: \"+JSON.stringify(e)),r(e)},o=function(e){return t.version>=64?e:{name:{PermissionDeniedError:\"NotAllowedError\",PermissionDismissedError:\"NotAllowedError\",InvalidStateError:\"NotAllowedError\",DevicesNotFoundError:\"NotFoundError\",ConstraintNotSatisfiedError:\"OverconstrainedError\",TrackStartError:\"NotReadableError\",MediaDeviceFailedDueToShutdown:\"NotAllowedError\",MediaDeviceKillSwitchOn:\"NotAllowedError\",TabCaptureError:\"AbortError\",ScreenCaptureError:\"AbortError\",DeviceCaptureError:\"AbortError\"}[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString(){return this.name+(this.message&&\": \")+this.message}}};if(i.getUserMedia=function(e,t,n){r(e,(e=>{i.webkitGetUserMedia(e,t,(e=>{n&&n(o(e))}))}))}.bind(i),i.mediaDevices.getUserMedia){const e=i.mediaDevices.getUserMedia.bind(i.mediaDevices);i.mediaDevices.getUserMedia=function(t){return r(t,(t=>e(t).then((e=>{if(t.audio&&!e.getAudioTracks().length||t.video&&!e.getVideoTracks().length)throw e.getTracks().forEach((e=>{e.stop()})),new DOMException(\"\",\"NotFoundError\");return e}),(e=>Gh.reject(o(e))))))}}}function Kh(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function Yh(e){if(\"object\"==typeof e&&e.RTCPeerConnection&&!(\"ontrack\"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,\"ontrack\",{get(){return this._ontrack},set(e){this._ontrack&&this.removeEventListener(\"track\",this._ontrack),this.addEventListener(\"track\",this._ontrack=e)},enumerable:!0,configurable:!0});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=t=>{t.stream.addEventListener(\"addtrack\",(i=>{let n;n=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find((e=>e.track&&e.track.id===i.track.id)):{track:i.track};const r=new Event(\"track\");r.track=i.track,r.receiver=n,r.transceiver={receiver:n},r.streams=[t.stream],this.dispatchEvent(r)})),t.stream.getTracks().forEach((i=>{let n;n=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find((e=>e.track&&e.track.id===i.id)):{track:i};const r=new Event(\"track\");r.track=i,r.receiver=n,r.transceiver={receiver:n},r.streams=[t.stream],this.dispatchEvent(r)}))},this.addEventListener(\"addstream\",this._ontrackpoly)),t.apply(this,arguments)}}else $n(e,\"track\",(e=>(e.transceiver||Object.defineProperty(e,\"transceiver\",{value:{receiver:e.receiver}}),e)))}function qh(e){if(\"object\"==typeof e&&e.RTCPeerConnection&&!(\"getSenders\"in e.RTCPeerConnection.prototype)&&\"createDTMFSender\"in e.RTCPeerConnection.prototype){const t=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&(\"audio\"===t.kind?this._dtmf=e.createDTMFSender(t):this._dtmf=null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const i=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,n){let r=i.apply(this,arguments);return r||(r=t(this,e),this._senders.push(r)),r};const n=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){n.apply(this,arguments);const t=this._senders.indexOf(e);-1!==t&&this._senders.splice(t,1)}}const i=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this._senders=this._senders||[],i.apply(this,[e]),e.getTracks().forEach((e=>{this._senders.push(t(this,e))}))};const n=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){this._senders=this._senders||[],n.apply(this,[e]),e.getTracks().forEach((e=>{const t=this._senders.find((t=>t.track===e));t&&this._senders.splice(this._senders.indexOf(t),1)}))}}else if(\"object\"==typeof e&&e.RTCPeerConnection&&\"getSenders\"in e.RTCPeerConnection.prototype&&\"createDTMFSender\"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!(\"dtmf\"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e},Object.defineProperty(e.RTCRtpSender.prototype,\"dtmf\",{get(){return void 0===this._dtmf&&(\"audio\"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function zh(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[e,i,n]=arguments;if(arguments.length>0&&\"function\"==typeof e)return t.apply(this,arguments);if(0===t.length&&(0===arguments.length||\"function\"!=typeof e))return t.apply(this,[]);const r=function(e){const t={};return e.result().forEach((e=>{const i={id:e.id,timestamp:e.timestamp,type:{localcandidate:\"local-candidate\",remotecandidate:\"remote-candidate\"}[e.type]||e.type};e.names().forEach((t=>{i[t]=e.stat(t)})),t[i.id]=i})),t},o=function(e){return new Map(Object.keys(e).map((t=>[t,e[t]])))};if(arguments.length>=2){const n=function(e){i(o(r(e)))};return t.apply(this,[n,e])}return new Gh(((e,i)=>{t.apply(this,[function(t){e(o(r(t)))},i])})).then(i,n)}}function Jh(e){if(!(\"object\"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver))return;if(!(\"getStats\"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e});const i=e.RTCPeerConnection.prototype.addTrack;i&&(e.RTCPeerConnection.prototype.addTrack=function(){const e=i.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){const e=this;return this._pc.getStats().then((t=>ar(t,e.track,!0)))}}if(!(\"getStats\"in e.RTCRtpReceiver.prototype)){const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e}),$n(e,\"track\",(e=>(e.receiver._pc=e.srcElement,e))),e.RTCRtpReceiver.prototype.getStats=function(){const e=this;return this._pc.getStats().then((t=>ar(t,e.track,!1)))}}if(!(\"getStats\"in e.RTCRtpSender.prototype)||!(\"getStats\"in e.RTCRtpReceiver.prototype))return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){const e=arguments[0];let t,i,n;return this.getSenders().forEach((i=>{i.track===e&&(t?n=!0:t=i)})),this.getReceivers().forEach((t=>(t.track===e&&(i?n=!0:i=t),t.track===e))),n||t&&i?Gh.reject(new DOMException(\"There are more than one sender or receiver for the track.\",\"InvalidAccessError\")):t?t.getStats():i?i.getStats():Gh.reject(new DOMException(\"There is no sender or receiver for the track.\",\"InvalidAccessError\"))}return t.apply(this,arguments)}}function Xh(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map((e=>this._shimmedLocalStreams[e][0]))};const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,i){if(!i)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const n=t.apply(this,arguments);return this._shimmedLocalStreams[i.id]?-1===this._shimmedLocalStreams[i.id].indexOf(n)&&this._shimmedLocalStreams[i.id].push(n):this._shimmedLocalStreams[i.id]=[i,n],n};const i=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach((e=>{const t=this.getSenders().find((t=>t.track===e));if(t)throw new DOMException(\"Track already exists.\",\"InvalidAccessError\")}));const t=this.getSenders();i.apply(this,arguments);const n=this.getSenders().filter((e=>-1===t.indexOf(e)));this._shimmedLocalStreams[e.id]=[e].concat(n)};const n=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],n.apply(this,arguments)};const r=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e&&Object.keys(this._shimmedLocalStreams).forEach((t=>{const i=this._shimmedLocalStreams[t].indexOf(e);-1!==i&&this._shimmedLocalStreams[t].splice(i,1),1===this._shimmedLocalStreams[t].length&&delete this._shimmedLocalStreams[t]})),r.apply(this,arguments)}}function Qh(e,t){if(!e.RTCPeerConnection)return;if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return Xh(e);const i=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){const e=i.apply(this);return this._reverseStreams=this._reverseStreams||{},e.map((e=>this._reverseStreams[e.id]))};const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(t){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},t.getTracks().forEach((e=>{const t=this.getSenders().find((t=>t.track===e));if(t)throw new DOMException(\"Track already exists.\",\"InvalidAccessError\")})),!this._reverseStreams[t.id]){const i=new e.MediaStream(t.getTracks());this._streams[t.id]=i,this._reverseStreams[i.id]=t,t=i}n.apply(this,[t])};const r=e.RTCPeerConnection.prototype.removeStream;function o(e,t){let i=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((t=>{const n=e._reverseStreams[t],r=e._streams[n.id];i=i.replace(new RegExp(r.id,\"g\"),n.id)})),new RTCSessionDescription({type:t.type,sdp:i})}e.RTCPeerConnection.prototype.removeStream=function(e){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},r.apply(this,[this._streams[e.id]||e]),delete this._reverseStreams[this._streams[e.id]?this._streams[e.id].id:e.id],delete this._streams[e.id]},e.RTCPeerConnection.prototype.addTrack=function(t,i){if(\"closed\"===this.signalingState)throw new DOMException(\"The RTCPeerConnection's signalingState is 'closed'.\",\"InvalidStateError\");const n=[].slice.call(arguments,1);if(1!==n.length||!n[0].getTracks().find((e=>e===t)))throw new DOMException(\"The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.\",\"NotSupportedError\");const r=this.getSenders().find((e=>e.track===t));if(r)throw new DOMException(\"Track already exists.\",\"InvalidAccessError\");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const o=this._streams[i.id];if(o)o.addTrack(t),Gh.resolve().then((()=>{this.dispatchEvent(new Event(\"negotiationneeded\"))}));else{const n=new e.MediaStream([t]);this._streams[i.id]=n,this._reverseStreams[n.id]=i,this.addStream(n)}return this.getSenders().find((e=>e.track===t))},[\"createOffer\",\"createAnswer\"].forEach((function(t){const i=e.RTCPeerConnection.prototype[t],n={[t](){const e=arguments;return arguments.length&&\"function\"==typeof arguments[0]?i.apply(this,[t=>{const i=o(this,t);e[0].apply(null,[i])},t=>{e[1]&&e[1].apply(null,t)},arguments[2]]):i.apply(this,arguments).then((e=>o(this,e)))}};e.RTCPeerConnection.prototype[t]=n[t]}));const s=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=function(e,t){let i=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((t=>{const n=e._reverseStreams[t],r=e._streams[n.id];i=i.replace(new RegExp(n.id,\"g\"),r.id)})),new RTCSessionDescription({type:t.type,sdp:i})}(this,arguments[0]),s.apply(this,arguments)):s.apply(this,arguments)};const a=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,\"localDescription\");Object.defineProperty(e.RTCPeerConnection.prototype,\"localDescription\",{get(){const e=a.get.apply(this);return\"\"===e.type?e:o(this,e)}}),e.RTCPeerConnection.prototype.removeTrack=function(e){if(\"closed\"===this.signalingState)throw new DOMException(\"The RTCPeerConnection's signalingState is 'closed'.\",\"InvalidStateError\");if(!e._pc)throw new DOMException(\"Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.\",\"TypeError\");if(!(e._pc===this))throw new DOMException(\"Sender was not created by this connection.\",\"InvalidAccessError\");let t;this._streams=this._streams||{},Object.keys(this._streams).forEach((i=>{this._streams[i].getTracks().find((t=>e.track===t))&&(t=this._streams[i])})),t&&(1===t.getTracks().length?this.removeStream(this._reverseStreams[t.id]):t.removeTrack(e.track),this.dispatchEvent(new Event(\"negotiationneeded\")))}}function Zh(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&t.version<53&&[\"setLocalDescription\",\"setRemoteDescription\",\"addIceCandidate\"].forEach((function(t){const i=e.RTCPeerConnection.prototype[t],n={[t](){return arguments[0]=new(\"addIceCandidate\"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),i.apply(this,arguments)}};e.RTCPeerConnection.prototype[t]=n[t]}))}function $h(e,t){$n(e,\"negotiationneeded\",(e=>{const i=e.target;if(!(t.version<72||i.getConfiguration&&\"plan-b\"===i.getConfiguration().sdpSemantics)||\"stable\"===i.signalingState)return e}))}var ep=Object.freeze({__proto__:null,fixNegotiationNeeded:$h,shimAddTrackRemoveTrack:Qh,shimAddTrackRemoveTrackWithNative:Xh,shimGetDisplayMedia:function(e,t){e.navigator.mediaDevices&&\"getDisplayMedia\"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(\"function\"==typeof t?e.navigator.mediaDevices.getDisplayMedia=function(i){return t(i).then((t=>{const n=i.video&&i.video.width,r=i.video&&i.video.height,o=i.video&&i.video.frameRate;return i.video={mandatory:{chromeMediaSource:\"desktop\",chromeMediaSourceId:t,maxFrameRate:o||3}},n&&(i.video.mandatory.maxWidth=n),r&&(i.video.mandatory.maxHeight=r),e.navigator.mediaDevices.getUserMedia(i)}))}:console.error(\"shimGetDisplayMedia: getSourceId argument is not a function\"))},shimGetSendersWithDtmf:qh,shimGetStats:zh,shimGetUserMedia:Hh,shimMediaStream:Kh,shimOnTrack:Yh,shimPeerConnection:Zh,shimSenderReceiverGetStats:Jh});function tp(e,t){const i=e&&e.navigator,n=e&&e.MediaStreamTrack;if(i.getUserMedia=function(e,t,n){nr(\"navigator.getUserMedia\",\"navigator.mediaDevices.getUserMedia\"),i.mediaDevices.getUserMedia(e).then(t,n)},!(t.version>55&&\"autoGainControl\"in i.mediaDevices.getSupportedConstraints())){const e=function(e,t,i){t in e&&!(i in e)&&(e[i]=e[t],delete e[t])},t=i.mediaDevices.getUserMedia.bind(i.mediaDevices);if(i.mediaDevices.getUserMedia=function(i){return\"object\"==typeof i&&\"object\"==typeof i.audio&&(i=JSON.parse(JSON.stringify(i)),e(i.audio,\"autoGainControl\",\"mozAutoGainControl\"),e(i.audio,\"noiseSuppression\",\"mozNoiseSuppression\")),t(i)},n&&n.prototype.getSettings){const t=n.prototype.getSettings;n.prototype.getSettings=function(){const i=t.apply(this,arguments);return e(i,\"mozAutoGainControl\",\"autoGainControl\"),e(i,\"mozNoiseSuppression\",\"noiseSuppression\"),i}}if(n&&n.prototype.applyConstraints){const t=n.prototype.applyConstraints;n.prototype.applyConstraints=function(i){return\"audio\"===this.kind&&\"object\"==typeof i&&(i=JSON.parse(JSON.stringify(i)),e(i,\"autoGainControl\",\"mozAutoGainControl\"),e(i,\"noiseSuppression\",\"mozNoiseSuppression\")),t.apply(this,[i])}}}}function ip(e){\"object\"==typeof e&&e.RTCTrackEvent&&\"receiver\"in e.RTCTrackEvent.prototype&&!(\"transceiver\"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,\"transceiver\",{get(){return{receiver:this.receiver}}})}function np(e,t){if(\"object\"!=typeof e||!e.RTCPeerConnection&&!e.mozRTCPeerConnection)return;!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&[\"setLocalDescription\",\"setRemoteDescription\",\"addIceCandidate\"].forEach((function(t){const i=e.RTCPeerConnection.prototype[t],n={[t](){return arguments[0]=new(\"addIceCandidate\"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),i.apply(this,arguments)}};e.RTCPeerConnection.prototype[t]=n[t]}));const i={inboundrtp:\"inbound-rtp\",outboundrtp:\"outbound-rtp\",candidatepair:\"candidate-pair\",localcandidate:\"local-candidate\",remotecandidate:\"remote-candidate\"},n=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[e,r,o]=arguments;return n.apply(this,[e||null]).then((e=>{if(t.version<53&&!r)try{e.forEach((e=>{e.type=i[e.type]||e.type}))}catch(t){if(\"TypeError\"!==t.name)throw t;e.forEach(((t,n)=>{e.set(n,Object.assign({},t,{type:i[t.type]||t.type}))}))}return e})).then(r,o)}}function rp(e){if(\"object\"!=typeof e||!e.RTCPeerConnection||!e.RTCRtpSender)return;if(e.RTCRtpSender&&\"getStats\"in e.RTCRtpSender.prototype)return;const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e});const i=e.RTCPeerConnection.prototype.addTrack;i&&(e.RTCPeerConnection.prototype.addTrack=function(){const e=i.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Gh.resolve(new Map)}}function op(e){if(\"object\"!=typeof e||!e.RTCPeerConnection||!e.RTCRtpSender)return;if(e.RTCRtpSender&&\"getStats\"in e.RTCRtpReceiver.prototype)return;const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e}),$n(e,\"track\",(e=>(e.receiver._pc=e.srcElement,e))),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function sp(e){e.RTCPeerConnection&&!(\"removeStream\"in e.RTCPeerConnection.prototype)&&(e.RTCPeerConnection.prototype.removeStream=function(e){nr(\"removeStream\",\"removeTrack\"),this.getSenders().forEach((t=>{var i;t.track&&Dn(i=e.getTracks()).call(i,t.track)&&this.removeTrack(t)}))})}function ap(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function cp(e){if(\"object\"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let e=arguments[1]&&arguments[1].sendEncodings;void 0===e&&(e=[]),e=[...e];const i=e.length>0;i&&e.forEach((e=>{if(\"rid\"in e){if(!/^[a-z0-9]{0,16}$/i.test(e.rid))throw new TypeError(\"Invalid RID value provided.\")}if(\"scaleResolutionDownBy\"in e&&!(parseFloat(e.scaleResolutionDownBy)>=1))throw new RangeError(\"scale_resolution_down_by must be >= 1.0\");if(\"maxFramerate\"in e&&!(parseFloat(e.maxFramerate)>=0))throw new RangeError(\"max_framerate must be >= 0.0\")}));const n=t.apply(this,arguments);if(i){const{sender:t}=n,i=t.getParameters();(!(\"encodings\"in i)||1===i.encodings.length&&0===Object.keys(i.encodings[0]).length)&&(i.encodings=e,t.sendEncodings=e,this.setParametersPromises.push(t.setParameters(i).then((()=>{delete t.sendEncodings})).catch((()=>{delete t.sendEncodings}))))}return n})}function dp(e){if(\"object\"!=typeof e||!e.RTCRtpSender)return;const t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){const e=t.apply(this,arguments);return\"encodings\"in e||(e.encodings=[].concat(this.sendEncodings||[{}])),e})}function lp(e){if(\"object\"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Gh.all(this.setParametersPromises).then((()=>t.apply(this,arguments))).finally((()=>{this.setParametersPromises=[]})):t.apply(this,arguments)}}function up(e){if(\"object\"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Gh.all(this.setParametersPromises).then((()=>t.apply(this,arguments))).finally((()=>{this.setParametersPromises=[]})):t.apply(this,arguments)}}var hp=Object.freeze({__proto__:null,shimAddTransceiver:cp,shimCreateAnswer:up,shimCreateOffer:lp,shimGetDisplayMedia:function(e,t){e.navigator.mediaDevices&&\"getDisplayMedia\"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(i){if(!i||!i.video){const e=new DOMException(\"getDisplayMedia without video constraints is undefined\");return e.name=\"NotFoundError\",e.code=8,Gh.reject(e)}return!0===i.video?i.video={mediaSource:t}:i.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(i)})},shimGetParameters:dp,shimGetUserMedia:tp,shimOnTrack:ip,shimPeerConnection:np,shimRTCDataChannel:ap,shimReceiverGetStats:op,shimRemoveStream:sp,shimSenderGetStats:rp});function pp(e){if(\"object\"==typeof e&&e.RTCPeerConnection){if(\"getLocalStreams\"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!(\"addStream\"in e.RTCPeerConnection.prototype)){const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){var i;this._localStreams||(this._localStreams=[]),Dn(i=this._localStreams).call(i,e)||this._localStreams.push(e),e.getAudioTracks().forEach((i=>t.call(this,i,e))),e.getVideoTracks().forEach((i=>t.call(this,i,e)))},e.RTCPeerConnection.prototype.addTrack=function(e){for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];return n&&n.forEach((e=>{var t;this._localStreams?Dn(t=this._localStreams).call(t,e)||this._localStreams.push(e):this._localStreams=[e]})),t.apply(this,arguments)}}\"removeStream\"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){this._localStreams||(this._localStreams=[]);const t=this._localStreams.indexOf(e);if(-1===t)return;this._localStreams.splice(t,1);const i=e.getTracks();this.getSenders().forEach((e=>{Dn(i).call(i,e.track)&&this.removeTrack(e)}))})}}function _p(e){if(\"object\"==typeof e&&e.RTCPeerConnection&&(\"getRemoteStreams\"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!(\"onaddstream\"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,\"onaddstream\",{get(){return this._onaddstream},set(e){this._onaddstream&&(this.removeEventListener(\"addstream\",this._onaddstream),this.removeEventListener(\"track\",this._onaddstreampoly)),this.addEventListener(\"addstream\",this._onaddstream=e),this.addEventListener(\"track\",this._onaddstreampoly=e=>{e.streams.forEach((e=>{var t;if(this._remoteStreams||(this._remoteStreams=[]),Dn(t=this._remoteStreams).call(t,e))return;this._remoteStreams.push(e);const i=new Event(\"addstream\");i.stream=e,this.dispatchEvent(i)}))})}});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){const e=this;return this._onaddstreampoly||this.addEventListener(\"track\",this._onaddstreampoly=function(t){t.streams.forEach((t=>{if(e._remoteStreams||(e._remoteStreams=[]),e._remoteStreams.indexOf(t)>=0)return;e._remoteStreams.push(t);const i=new Event(\"addstream\");i.stream=t,e.dispatchEvent(i)}))}),t.apply(e,arguments)}}}function Ep(e){if(\"object\"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype,i=t.createOffer,n=t.createAnswer,r=t.setLocalDescription,o=t.setRemoteDescription,s=t.addIceCandidate;t.createOffer=function(e,t){const n=arguments.length>=2?arguments[2]:arguments[0],r=i.apply(this,[n]);return t?(r.then(e,t),Gh.resolve()):r},t.createAnswer=function(e,t){const i=arguments.length>=2?arguments[2]:arguments[0],r=n.apply(this,[i]);return t?(r.then(e,t),Gh.resolve()):r};let a=function(e,t,i){const n=r.apply(this,[e]);return i?(n.then(t,i),Gh.resolve()):n};t.setLocalDescription=a,a=function(e,t,i){const n=o.apply(this,[e]);return i?(n.then(t,i),Gh.resolve()):n},t.setRemoteDescription=a,a=function(e,t,i){const n=s.apply(this,[e]);return i?(n.then(t,i),Gh.resolve()):n},t.addIceCandidate=a}function mp(e){const t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){const e=t.mediaDevices,i=e.getUserMedia.bind(e);t.mediaDevices.getUserMedia=e=>i(fp(e))}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(e,i,n){t.mediaDevices.getUserMedia(e).then(i,n)}.bind(t))}function fp(e){return e&&void 0!==e.video?Object.assign({},e,{video:or(e.video)}):e}function Tp(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,i){if(e&&e.iceServers){const t=[];for(let i=0;i<e.iceServers.length;i++){let n=e.iceServers[i];!n.hasOwnProperty(\"urls\")&&n.hasOwnProperty(\"url\")?(nr(\"RTCIceServer.url\",\"RTCIceServer.urls\"),n=JSON.parse(JSON.stringify(n)),n.urls=n.url,delete n.url,t.push(n)):t.push(e.iceServers[i])}e.iceServers=t}return new t(e,i)},e.RTCPeerConnection.prototype=t.prototype,\"generateCertificate\"in t&&Object.defineProperty(e.RTCPeerConnection,\"generateCertificate\",{get:()=>t.generateCertificate})}function Sp(e){\"object\"==typeof e&&e.RTCTrackEvent&&\"receiver\"in e.RTCTrackEvent.prototype&&!(\"transceiver\"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,\"transceiver\",{get(){return{receiver:this.receiver}}})}function gp(e){const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){if(e){void 0!==e.offerToReceiveAudio&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);const t=this.getTransceivers().find((e=>\"audio\"===e.receiver.track.kind));!1===e.offerToReceiveAudio&&t?\"sendrecv\"===t.direction?t.setDirection?t.setDirection(\"sendonly\"):t.direction=\"sendonly\":\"recvonly\"===t.direction&&(t.setDirection?t.setDirection(\"inactive\"):t.direction=\"inactive\"):!0!==e.offerToReceiveAudio||t||this.addTransceiver(\"audio\",{direction:\"recvonly\"}),void 0!==e.offerToReceiveVideo&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);const i=this.getTransceivers().find((e=>\"video\"===e.receiver.track.kind));!1===e.offerToReceiveVideo&&i?\"sendrecv\"===i.direction?i.setDirection?i.setDirection(\"sendonly\"):i.direction=\"sendonly\":\"recvonly\"===i.direction&&(i.setDirection?i.setDirection(\"inactive\"):i.direction=\"inactive\"):!0!==e.offerToReceiveVideo||i||this.addTransceiver(\"video\",{direction:\"recvonly\"})}return t.apply(this,arguments)}}function Rp(e){\"object\"!=typeof e||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}var Cp=Object.freeze({__proto__:null,shimAudioContext:Rp,shimCallbacksAPI:Ep,shimConstraints:fp,shimCreateOfferLegacy:gp,shimGetUserMedia:mp,shimLocalStreamsAPI:pp,shimRTCIceServerUrls:Tp,shimRemoteStreamsAPI:_p,shimTrackEventTransceiver:Sp}),Ip=\"\\t\\n\\v\\f\\r Â áââââââââââââ¯âã\\u2028\\u2029\\ufeff\",vp=J,yp=mn,Ap=Ip,bp=d(\"\".replace),wp=RegExp(\"^[\"+Ap+\"]+\"),Op=RegExp(\"(^|[^\"+Ap+\"])[\"+Ap+\"]+$\"),Np=function(e){return function(t){var i=yp(vp(t));return 1&e&&(i=bp(i,wp,\"\")),2&e&&(i=bp(i,Op,\"$1\")),i}},Dp={start:Np(1),end:Np(2),trim:Np(3)},Pp=la.PROPER,Lp=n,kp=Ip,Mp=Dp.trim;wi({target:\"String\",proto:!0,forced:function(e){return Lp((function(){return!!kp[e]()||\"âÂá \"!==\"âÂá \"[e]()||Pp&&kp[e].name!==e}))}(\"trim\")},{trim:function(){return Mp(this)}});var Up=Xi(\"String\").trim,xp=l,Vp=Up,Fp=String.prototype,Bp=function(e){var t=e.trim;return\"string\"==typeof e||e===Fp||xp(Fp,e)&&t===Fp.trim?Vp:t},jp=i(Bp),Gp={exports:{}};!function(e){const t={generateIdentifier:function(){return Math.random().toString(36).substring(2,12)}};t.localCName=t.generateIdentifier(),t.splitLines=function(e){return e.trim().split(\"\\n\").map((e=>e.trim()))},t.splitSections=function(e){return e.split(\"\\nm=\").map(((e,t)=>(t>0?\"m=\"+e:e).trim()+\"\\r\\n\"))},t.getDescription=function(e){const i=t.splitSections(e);return i&&i[0]},t.getMediaSections=function(e){const i=t.splitSections(e);return i.shift(),i},t.matchPrefix=function(e,i){return t.splitLines(e).filter((e=>0===e.indexOf(i)))},t.parseCandidate=function(e){let t;t=0===e.indexOf(\"a=candidate:\")?e.substring(12).split(\" \"):e.substring(10).split(\" \");const i={foundation:t[0],component:{1:\"rtp\",2:\"rtcp\"}[t[1]]||t[1],protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]};for(let e=8;e<t.length;e+=2)switch(t[e]){case\"raddr\":i.relatedAddress=t[e+1];break;case\"rport\":i.relatedPort=parseInt(t[e+1],10);break;case\"tcptype\":i.tcpType=t[e+1];break;case\"ufrag\":i.ufrag=t[e+1],i.usernameFragment=t[e+1];break;default:void 0===i[t[e]]&&(i[t[e]]=t[e+1])}return i},t.writeCandidate=function(e){const t=[];t.push(e.foundation);const i=e.component;\"rtp\"===i?t.push(1):\"rtcp\"===i?t.push(2):t.push(i),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);const n=e.type;return t.push(\"typ\"),t.push(n),\"host\"!==n&&e.relatedAddress&&e.relatedPort&&(t.push(\"raddr\"),t.push(e.relatedAddress),t.push(\"rport\"),t.push(e.relatedPort)),e.tcpType&&\"tcp\"===e.protocol.toLowerCase()&&(t.push(\"tcptype\"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push(\"ufrag\"),t.push(e.usernameFragment||e.ufrag)),\"candidate:\"+t.join(\" \")},t.parseIceOptions=function(e){return e.substring(14).split(\" \")},t.parseRtpMap=function(e){let t=e.substring(9).split(\" \");const i={payloadType:parseInt(t.shift(),10)};return t=t[0].split(\"/\"),i.name=t[0],i.clockRate=parseInt(t[1],10),i.channels=3===t.length?parseInt(t[2],10):1,i.numChannels=i.channels,i},t.writeRtpMap=function(e){let t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);const i=e.channels||e.numChannels||1;return\"a=rtpmap:\"+t+\" \"+e.name+\"/\"+e.clockRate+(1!==i?\"/\"+i:\"\")+\"\\r\\n\"},t.parseExtmap=function(e){const t=e.substring(9).split(\" \");return{id:parseInt(t[0],10),direction:t[0].indexOf(\"/\")>0?t[0].split(\"/\")[1]:\"sendrecv\",uri:t[1],attributes:t.slice(2).join(\" \")}},t.writeExtmap=function(e){return\"a=extmap:\"+(e.id||e.preferredId)+(e.direction&&\"sendrecv\"!==e.direction?\"/\"+e.direction:\"\")+\" \"+e.uri+(e.attributes?\" \"+e.attributes:\"\")+\"\\r\\n\"},t.parseFmtp=function(e){const t={};let i;const n=e.substring(e.indexOf(\" \")+1).split(\";\");for(let e=0;e<n.length;e++)i=n[e].trim().split(\"=\"),t[i[0].trim()]=i[1];return t},t.writeFmtp=function(e){let t=\"\",i=e.payloadType;if(void 0!==e.preferredPayloadType&&(i=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){const n=[];Object.keys(e.parameters).forEach((t=>{void 0!==e.parameters[t]?n.push(t+\"=\"+e.parameters[t]):n.push(t)})),t+=\"a=fmtp:\"+i+\" \"+n.join(\";\")+\"\\r\\n\"}return t},t.parseRtcpFb=function(e){const t=e.substring(e.indexOf(\" \")+1).split(\" \");return{type:t.shift(),parameter:t.join(\" \")}},t.writeRtcpFb=function(e){let t=\"\",i=e.payloadType;return void 0!==e.preferredPayloadType&&(i=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach((e=>{t+=\"a=rtcp-fb:\"+i+\" \"+e.type+(e.parameter&&e.parameter.length?\" \"+e.parameter:\"\")+\"\\r\\n\"})),t},t.parseSsrcMedia=function(e){const t=e.indexOf(\" \"),i={ssrc:parseInt(e.substring(7,t),10)},n=e.indexOf(\":\",t);return n>-1?(i.attribute=e.substring(t+1,n),i.value=e.substring(n+1)):i.attribute=e.substring(t+1),i},t.parseSsrcGroup=function(e){const t=e.substring(13).split(\" \");return{semantics:t.shift(),ssrcs:t.map((e=>parseInt(e,10)))}},t.getMid=function(e){const i=t.matchPrefix(e,\"a=mid:\")[0];if(i)return i.substring(6)},t.parseFingerprint=function(e){const t=e.substring(14).split(\" \");return{algorithm:t[0].toLowerCase(),value:t[1].toUpperCase()}},t.getDtlsParameters=function(e,i){return{role:\"auto\",fingerprints:t.matchPrefix(e+i,\"a=fingerprint:\").map(t.parseFingerprint)}},t.writeDtlsParameters=function(e,t){let i=\"a=setup:\"+t+\"\\r\\n\";return e.fingerprints.forEach((e=>{i+=\"a=fingerprint:\"+e.algorithm+\" \"+e.value+\"\\r\\n\"})),i},t.parseCryptoLine=function(e){const t=e.substring(9).split(\" \");return{tag:parseInt(t[0],10),cryptoSuite:t[1],keyParams:t[2],sessionParams:t.slice(3)}},t.writeCryptoLine=function(e){return\"a=crypto:\"+e.tag+\" \"+e.cryptoSuite+\" \"+(\"object\"==typeof e.keyParams?t.writeCryptoKeyParams(e.keyParams):e.keyParams)+(e.sessionParams?\" \"+e.sessionParams.join(\" \"):\"\")+\"\\r\\n\"},t.parseCryptoKeyParams=function(e){if(0!==e.indexOf(\"inline:\"))return null;const t=e.substring(7).split(\"|\");return{keyMethod:\"inline\",keySalt:t[0],lifeTime:t[1],mkiValue:t[2]?t[2].split(\":\")[0]:void 0,mkiLength:t[2]?t[2].split(\":\")[1]:void 0}},t.writeCryptoKeyParams=function(e){return e.keyMethod+\":\"+e.keySalt+(e.lifeTime?\"|\"+e.lifeTime:\"\")+(e.mkiValue&&e.mkiLength?\"|\"+e.mkiValue+\":\"+e.mkiLength:\"\")},t.getCryptoParameters=function(e,i){return t.matchPrefix(e+i,\"a=crypto:\").map(t.parseCryptoLine)},t.getIceParameters=function(e,i){const n=t.matchPrefix(e+i,\"a=ice-ufrag:\")[0],r=t.matchPrefix(e+i,\"a=ice-pwd:\")[0];return n&&r?{usernameFragment:n.substring(12),password:r.substring(10)}:null},t.writeIceParameters=function(e){let t=\"a=ice-ufrag:\"+e.usernameFragment+\"\\r\\na=ice-pwd:\"+e.password+\"\\r\\n\";return e.iceLite&&(t+=\"a=ice-lite\\r\\n\"),t},t.parseRtpParameters=function(e){const i={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},n=t.splitLines(e)[0].split(\" \");i.profile=n[2];for(let r=3;r<n.length;r++){const o=n[r],s=t.matchPrefix(e,\"a=rtpmap:\"+o+\" \")[0];if(s){const n=t.parseRtpMap(s),r=t.matchPrefix(e,\"a=fmtp:\"+o+\" \");switch(n.parameters=r.length?t.parseFmtp(r[0]):{},n.rtcpFeedback=t.matchPrefix(e,\"a=rtcp-fb:\"+o+\" \").map(t.parseRtcpFb),i.codecs.push(n),n.name.toUpperCase()){case\"RED\":case\"ULPFEC\":i.fecMechanisms.push(n.name.toUpperCase())}}}t.matchPrefix(e,\"a=extmap:\").forEach((e=>{i.headerExtensions.push(t.parseExtmap(e))}));const r=t.matchPrefix(e,\"a=rtcp-fb:* \").map(t.parseRtcpFb);return i.codecs.forEach((e=>{r.forEach((t=>{e.rtcpFeedback.find((e=>e.type===t.type&&e.parameter===t.parameter))||e.rtcpFeedback.push(t)}))})),i},t.writeRtpDescription=function(e,i){let n=\"\";n+=\"m=\"+e+\" \",n+=i.codecs.length>0?\"9\":\"0\",n+=\" \"+(i.profile||\"UDP/TLS/RTP/SAVPF\")+\" \",n+=i.codecs.map((e=>void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType)).join(\" \")+\"\\r\\n\",n+=\"c=IN IP4 0.0.0.0\\r\\n\",n+=\"a=rtcp:9 IN IP4 0.0.0.0\\r\\n\",i.codecs.forEach((e=>{n+=t.writeRtpMap(e),n+=t.writeFmtp(e),n+=t.writeRtcpFb(e)}));let r=0;return i.codecs.forEach((e=>{e.maxptime>r&&(r=e.maxptime)})),r>0&&(n+=\"a=maxptime:\"+r+\"\\r\\n\"),i.headerExtensions&&i.headerExtensions.forEach((e=>{n+=t.writeExtmap(e)})),n},t.parseRtpEncodingParameters=function(e){const i=[],n=t.parseRtpParameters(e),r=-1!==n.fecMechanisms.indexOf(\"RED\"),o=-1!==n.fecMechanisms.indexOf(\"ULPFEC\"),s=t.matchPrefix(e,\"a=ssrc:\").map((e=>t.parseSsrcMedia(e))).filter((e=>\"cname\"===e.attribute)),a=s.length>0&&s[0].ssrc;let c;const d=t.matchPrefix(e,\"a=ssrc-group:FID\").map((e=>e.substring(17).split(\" \").map((e=>parseInt(e,10)))));d.length>0&&d[0].length>1&&d[0][0]===a&&(c=d[0][1]),n.codecs.forEach((e=>{if(\"RTX\"===e.name.toUpperCase()&&e.parameters.apt){let t={ssrc:a,codecPayloadType:parseInt(e.parameters.apt,10)};a&&c&&(t.rtx={ssrc:c}),i.push(t),r&&(t=JSON.parse(JSON.stringify(t)),t.fec={ssrc:a,mechanism:o?\"red+ulpfec\":\"red\"},i.push(t))}})),0===i.length&&a&&i.push({ssrc:a});let l=t.matchPrefix(e,\"b=\");return l.length&&(l=0===l[0].indexOf(\"b=TIAS:\")?parseInt(l[0].substring(7),10):0===l[0].indexOf(\"b=AS:\")?1e3*parseInt(l[0].substring(5),10)*.95-16e3:void 0,i.forEach((e=>{e.maxBitrate=l}))),i},t.parseRtcpParameters=function(e){const i={},n=t.matchPrefix(e,\"a=ssrc:\").map((e=>t.parseSsrcMedia(e))).filter((e=>\"cname\"===e.attribute))[0];n&&(i.cname=n.value,i.ssrc=n.ssrc);const r=t.matchPrefix(e,\"a=rtcp-rsize\");i.reducedSize=r.length>0,i.compound=0===r.length;const o=t.matchPrefix(e,\"a=rtcp-mux\");return i.mux=o.length>0,i},t.writeRtcpParameters=function(e){let t=\"\";return e.reducedSize&&(t+=\"a=rtcp-rsize\\r\\n\"),e.mux&&(t+=\"a=rtcp-mux\\r\\n\"),void 0!==e.ssrc&&e.cname&&(t+=\"a=ssrc:\"+e.ssrc+\" cname:\"+e.cname+\"\\r\\n\"),t},t.parseMsid=function(e){let i;const n=t.matchPrefix(e,\"a=msid:\");if(1===n.length)return i=n[0].substring(7).split(\" \"),{stream:i[0],track:i[1]};const r=t.matchPrefix(e,\"a=ssrc:\").map((e=>t.parseSsrcMedia(e))).filter((e=>\"msid\"===e.attribute));return r.length>0?(i=r[0].value.split(\" \"),{stream:i[0],track:i[1]}):void 0},t.parseSctpDescription=function(e){const i=t.parseMLine(e),n=t.matchPrefix(e,\"a=max-message-size:\");let r;n.length>0&&(r=parseInt(n[0].substring(19),10)),isNaN(r)&&(r=65536);const o=t.matchPrefix(e,\"a=sctp-port:\");if(o.length>0)return{port:parseInt(o[0].substring(12),10),protocol:i.fmt,maxMessageSize:r};const s=t.matchPrefix(e,\"a=sctpmap:\");if(s.length>0){const e=s[0].substring(10).split(\" \");return{port:parseInt(e[0],10),protocol:e[1],maxMessageSize:r}}},t.writeSctpDescription=function(e,t){let i=[];return i=\"DTLS/SCTP\"!==e.protocol?[\"m=\"+e.kind+\" 9 \"+e.protocol+\" \"+t.protocol+\"\\r\\n\",\"c=IN IP4 0.0.0.0\\r\\n\",\"a=sctp-port:\"+t.port+\"\\r\\n\"]:[\"m=\"+e.kind+\" 9 \"+e.protocol+\" \"+t.port+\"\\r\\n\",\"c=IN IP4 0.0.0.0\\r\\n\",\"a=sctpmap:\"+t.port+\" \"+t.protocol+\" 65535\\r\\n\"],void 0!==t.maxMessageSize&&i.push(\"a=max-message-size:\"+t.maxMessageSize+\"\\r\\n\"),i.join(\"\")},t.generateSessionId=function(){return Math.random().toString().substr(2,22)},t.writeSessionBoilerplate=function(e,i,n){let r;const o=void 0!==i?i:2;r=e||t.generateSessionId();return\"v=0\\r\\no=\"+(n||\"thisisadapterortc\")+\" \"+r+\" \"+o+\" IN IP4 127.0.0.1\\r\\ns=-\\r\\nt=0 0\\r\\n\"},t.getDirection=function(e,i){const n=t.splitLines(e);for(let e=0;e<n.length;e++)switch(n[e]){case\"a=sendrecv\":case\"a=sendonly\":case\"a=recvonly\":case\"a=inactive\":return n[e].substring(2)}return i?t.getDirection(i):\"sendrecv\"},t.getKind=function(e){return t.splitLines(e)[0].split(\" \")[0].substring(2)},t.isRejected=function(e){return\"0\"===e.split(\" \",2)[1]},t.parseMLine=function(e){const i=t.splitLines(e)[0].substring(2).split(\" \");return{kind:i[0],port:parseInt(i[1],10),protocol:i[2],fmt:i.slice(3).join(\" \")}},t.parseOLine=function(e){const i=t.matchPrefix(e,\"o=\")[0].substring(2).split(\" \");return{username:i[0],sessionId:i[1],sessionVersion:parseInt(i[2],10),netType:i[3],addressType:i[4],address:i[5]}},t.isValidSDP=function(e){if(\"string\"!=typeof e||0===e.length)return!1;const i=t.splitLines(e);for(let e=0;e<i.length;e++)if(i[e].length<2||\"=\"!==i[e].charAt(1))return!1;return!0},e.exports=t}(Gp);var Wp=Gp.exports,Hp=i(Wp),Kp=e({__proto__:null,default:Hp},[Wp]);function Yp(e){if(!e.RTCIceCandidate||e.RTCIceCandidate&&\"foundation\"in e.RTCIceCandidate.prototype)return;const t=e.RTCIceCandidate;e.RTCIceCandidate=function(e){if(\"object\"==typeof e&&e.candidate&&0===e.candidate.indexOf(\"a=\")&&((e=JSON.parse(JSON.stringify(e))).candidate=e.candidate.substr(2)),e.candidate&&e.candidate.length){const i=new t(e),n=Hp.parseCandidate(e.candidate),r=Object.assign(i,n);return r.toJSON=function(){return{candidate:r.candidate,sdpMid:r.sdpMid,sdpMLineIndex:r.sdpMLineIndex,usernameFragment:r.usernameFragment}},r}return new t(e)},e.RTCIceCandidate.prototype=t.prototype,$n(e,\"icecandidate\",(t=>(t.candidate&&Object.defineProperty(t,\"candidate\",{value:new e.RTCIceCandidate(t.candidate),writable:\"false\"}),t)))}function qp(e){!e.RTCIceCandidate||e.RTCIceCandidate&&\"relayProtocol\"in e.RTCIceCandidate.prototype||$n(e,\"icecandidate\",(e=>{if(e.candidate){const t=Hp.parseCandidate(e.candidate.candidate);\"relay\"===t.type&&(e.candidate.relayProtocol={0:\"tls\",1:\"tcp\",2:\"udp\"}[t.priority>>24])}return e}))}function zp(e,t){if(!e.RTCPeerConnection)return;\"sctp\"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,\"sctp\",{get(){return void 0===this._sctp?null:this._sctp}});const i=function(e){if(!e||!e.sdp)return!1;const t=Hp.splitSections(e.sdp);return t.shift(),t.some((e=>{const t=Hp.parseMLine(e);return t&&\"application\"===t.kind&&-1!==t.protocol.indexOf(\"SCTP\")}))},n=function(e){const t=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\\d+)/);if(null===t||t.length<2)return-1;const i=parseInt(t[1],10);return i!=i?-1:i},r=function(e){let i=65536;return\"firefox\"===t.browser&&(i=t.version<57?-1===e?16384:2147483637:t.version<60?57===t.version?65535:65536:2147483637),i},o=function(e,i){let n=65536;\"firefox\"===t.browser&&57===t.version&&(n=65535);const r=Hp.matchPrefix(e.sdp,\"a=max-message-size:\");return r.length>0?n=parseInt(r[0].substr(19),10):\"firefox\"===t.browser&&-1!==i&&(n=2147483637),n},s=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,\"chrome\"===t.browser&&t.version>=76){const{sdpSemantics:e}=this.getConfiguration();\"plan-b\"===e&&Object.defineProperty(this,\"sctp\",{get(){return void 0===this._sctp?null:this._sctp},enumerable:!0,configurable:!0})}if(i(arguments[0])){const e=n(arguments[0]),t=r(e),i=o(arguments[0],e);let s;s=0===t&&0===i?Number.POSITIVE_INFINITY:0===t||0===i?Math.max(t,i):Math.min(t,i);const a={};Object.defineProperty(a,\"maxMessageSize\",{get:()=>s}),this._sctp=a}return s.apply(this,arguments)}}function Jp(e){if(!e.RTCPeerConnection||!(\"createDataChannel\"in e.RTCPeerConnection.prototype))return;function t(e,t){const i=e.send;e.send=function(){const n=arguments[0],r=n.length||n.size||n.byteLength;if(\"open\"===e.readyState&&t.sctp&&r>t.sctp.maxMessageSize)throw new TypeError(\"Message too large (can send a maximum of \"+t.sctp.maxMessageSize+\" bytes)\");return i.apply(e,arguments)}}const i=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){const e=i.apply(this,arguments);return t(e,this),e},$n(e,\"datachannel\",(e=>(t(e.channel,e.target),e)))}function Xp(e){if(!e.RTCPeerConnection||\"connectionState\"in e.RTCPeerConnection.prototype)return;const t=e.RTCPeerConnection.prototype;Object.defineProperty(t,\"connectionState\",{get(){return{completed:\"connected\",checking:\"connecting\"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,\"onconnectionstatechange\",{get(){return this._onconnectionstatechange||null},set(e){this._onconnectionstatechange&&(this.removeEventListener(\"connectionstatechange\",this._onconnectionstatechange),delete this._onconnectionstatechange),e&&this.addEventListener(\"connectionstatechange\",this._onconnectionstatechange=e)},enumerable:!0,configurable:!0}),[\"setLocalDescription\",\"setRemoteDescription\"].forEach((e=>{const i=t[e];t[e]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=e=>{const t=e.target;if(t._lastConnectionState!==t.connectionState){t._lastConnectionState=t.connectionState;const i=new Event(\"connectionstatechange\",e);t.dispatchEvent(i)}return e},this.addEventListener(\"iceconnectionstatechange\",this._connectionstatechangepoly)),i.apply(this,arguments)}}))}function Qp(e,t){if(!e.RTCPeerConnection)return;if(\"chrome\"===t.browser&&t.version>=71)return;if(\"safari\"===t.browser&&t.version>=605)return;const i=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(t){if(t&&t.sdp&&-1!==t.sdp.indexOf(\"\\na=extmap-allow-mixed\")){const i=t.sdp.split(\"\\n\").filter((e=>\"a=extmap-allow-mixed\"!==jp(e).call(e))).join(\"\\n\");e.RTCSessionDescription&&t instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:t.type,sdp:i}):t.sdp=i}return i.apply(this,arguments)}}function Zp(e,t){if(!e.RTCPeerConnection||!e.RTCPeerConnection.prototype)return;const i=e.RTCPeerConnection.prototype.addIceCandidate;i&&0!==i.length&&(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?(\"chrome\"===t.browser&&t.version<78||\"firefox\"===t.browser&&t.version<68||\"safari\"===t.browser)&&arguments[0]&&\"\"===arguments[0].candidate?Gh.resolve():i.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Gh.resolve())})}function $p(e,t){if(!e.RTCPeerConnection||!e.RTCPeerConnection.prototype)return;const i=e.RTCPeerConnection.prototype.setLocalDescription;i&&0!==i.length&&(e.RTCPeerConnection.prototype.setLocalDescription=function(){let e=arguments[0]||{};if(\"object\"!=typeof e||e.type&&e.sdp)return i.apply(this,arguments);if(e={type:e.type,sdp:e.sdp},!e.type)switch(this.signalingState){case\"stable\":case\"have-local-offer\":case\"have-remote-pranswer\":e.type=\"offer\";break;default:e.type=\"answer\"}if(e.sdp||\"offer\"!==e.type&&\"answer\"!==e.type)return i.apply(this,[e]);return(\"offer\"===e.type?this.createOffer:this.createAnswer).apply(this).then((e=>i.apply(this,[e])))})}var e_=Object.freeze({__proto__:null,removeExtmapAllowMixed:Qp,shimAddIceCandidateNullOrEmpty:Zp,shimConnectionState:Xp,shimMaxMessageSize:zp,shimParameterlessSetLocalDescription:$p,shimRTCIceCandidate:Yp,shimRTCIceCandidateRelayProtocol:qp,shimSendThrowTypeError:Jp});!function(){let{window:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shimChrome:!0,shimFirefox:!0,shimSafari:!0};const i=ir,n=function(e){const t={browser:null,version:null};if(void 0===e||!e.navigator)return t.browser=\"Not a browser.\",t;const{navigator:i}=e;if(i.mozGetUserMedia)t.browser=\"firefox\",t.version=Zn(i.userAgent,/Firefox\\/(\\d+)\\./,1);else if(i.webkitGetUserMedia||!1===e.isSecureContext&&e.webkitRTCPeerConnection)t.browser=\"chrome\",t.version=Zn(i.userAgent,/Chrom(e|ium)\\/(\\d+)\\./,2);else{if(!e.RTCPeerConnection||!i.userAgent.match(/AppleWebKit\\/(\\d+)\\./))return t.browser=\"Not a supported browser.\",t;t.browser=\"safari\",t.version=Zn(i.userAgent,/AppleWebKit\\/(\\d+)\\./,1),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&\"currentDirection\"in e.RTCRtpTransceiver.prototype}return t}(e),r={browserDetails:n,commonShim:e_,extractVersion:Zn,disableLog:er,disableWarnings:tr,sdp:Kp};switch(n.browser){case\"chrome\":if(!ep||!Zh||!t.shimChrome)return i(\"Chrome shim is not included in this adapter release.\"),r;if(null===n.version)return i(\"Chrome shim can not determine version, not shimming.\"),r;i(\"adapter.js shimming chrome.\"),r.browserShim=ep,Zp(e,n),$p(e),Hh(e,n),Kh(e),Zh(e,n),Yh(e),Qh(e,n),qh(e),zh(e),Jh(e),$h(e,n),Yp(e),qp(e),Xp(e),zp(e,n),Jp(e),Qp(e,n);break;case\"firefox\":if(!hp||!np||!t.shimFirefox)return i(\"Firefox shim is not included in this adapter release.\"),r;i(\"adapter.js shimming firefox.\"),r.browserShim=hp,Zp(e,n),$p(e),tp(e,n),np(e,n),ip(e),sp(e),rp(e),op(e),ap(e),cp(e),dp(e),lp(e),up(e),Yp(e),Xp(e),zp(e,n),Jp(e);break;case\"safari\":if(!Cp||!t.shimSafari)return i(\"Safari shim is not included in this adapter release.\"),r;i(\"adapter.js shimming safari.\"),r.browserShim=Cp,Zp(e,n),$p(e),Tp(e),gp(e),Ep(e),pp(e),_p(e),Sp(e),mp(e),Rp(e),Yp(e),qp(e),zp(e,n),Jp(e),Qp(e,n);break;default:i(\"Unsupported browser!\")}}({window:\"undefined\"==typeof window?void 0:window});var t_=Xi(\"Array\").keys,i_=pn,n_=Ze,r_=l,o_=t_,s_=Array.prototype,a_={DOMTokenList:!0,NodeList:!0},c_=function(e){var t=e.keys;return e===s_||r_(s_,e)&&t===s_.keys||n_(a_,i_(e))?o_:t},d_=i(c_),l_=be,u_=TypeError,h_=Ct,p_=Qt,__=B,E_=function(e,t,i){var n=h_(t);n in e?p_.f(e,n,__(0,i)):e[n]=i},m_=xi,f_=Gi,T_=E_,S_=Array,g_=Math.max,R_=function(e,t,i){for(var n=f_(e),r=m_(t,n),o=m_(void 0===i?n:i,n),s=S_(g_(o-r,0)),a=0;r<o;r++,a++)T_(s,a,e[r]);return s.length=a,s},C_=R_,I_=Math.floor,v_=function(e,t){var i=e.length,n=I_(i/2);return i<8?y_(e,t):A_(e,v_(C_(e,0,n),t),v_(C_(e,n),t),t)},y_=function(e,t){for(var i,n,r=e.length,o=1;o<r;){for(n=o,i=e[o];n&&t(e[n-1],i)>0;)e[n]=e[--n];n!==o++&&(e[n]=i)}return e},A_=function(e,t,i,n){for(var r=t.length,o=i.length,s=0,a=0;s<r||a<o;)e[s+a]=s<r&&a<o?n(t[s],i[a])<=0?t[s++]:i[a++]:s<r?t[s++]:i[a++];return e},b_=v_,w_=ce.match(/firefox\\/(\\d+)/i),O_=!!w_&&+w_[1],N_=/MSIE|Trident/.test(ce),D_=ce.match(/AppleWebKit\\/(\\d+)\\./),P_=!!D_&&+D_[1],L_=wi,k_=d,M_=De,U_=Je,x_=Gi,V_=function(e,t){if(!delete e[t])throw u_(\"Cannot delete property \"+l_(t)+\" of \"+l_(e))},F_=mn,B_=n,j_=b_,G_=Bn,W_=O_,H_=N_,K_=Ee,Y_=P_,q_=[],z_=k_(q_.sort),J_=k_(q_.push),X_=B_((function(){q_.sort(void 0)})),Q_=B_((function(){q_.sort(null)})),Z_=G_(\"sort\"),$_=!B_((function(){if(K_)return K_<70;if(!(W_&&W_>3)){if(H_)return!0;if(Y_)return Y_<603;var e,t,i,n,r=\"\";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:i=3;break;case 68:case 71:i=4;break;default:i=2}for(n=0;n<47;n++)q_.push({k:t+n,v:i})}for(q_.sort((function(e,t){return t.v-e.v})),n=0;n<q_.length;n++)t=q_[n].k.charAt(0),r.charAt(r.length-1)!==t&&(r+=t);return\"DGBEFHACIJK\"!==r}}));L_({target:\"Array\",proto:!0,forced:X_||!Q_||!Z_||!$_},{sort:function(e){void 0!==e&&M_(e);var t=U_(this);if($_)return void 0===e?z_(t):z_(t,e);var i,n,r=[],o=x_(t);for(n=0;n<o;n++)n in t&&J_(r,t[n]);for(j_(r,function(e){return function(t,i){return void 0===i?-1:void 0===t?1:void 0!==e?+e(t,i)||0:F_(t)>F_(i)?1:-1}}(e)),i=x_(r),n=0;n<i;)t[n]=r[n++];for(;n<o;)V_(t,n++);return t}});var eE,tE,iE=Xi(\"Array\").sort,nE=l,rE=iE,oE=Array.prototype,sE=function(e){var t=e.sort;return e===oE||nE(oE,e)&&t===oE.sort?rE:t},aE=i(sE),cE={exports:{}};eE=cE,tE=cE.exports,function(e,t){var i=\"function\",n=\"undefined\",r=\"object\",o=\"string\",s=\"major\",a=\"model\",c=\"name\",d=\"type\",l=\"vendor\",u=\"version\",h=\"architecture\",p=\"console\",_=\"mobile\",E=\"tablet\",m=\"smarttv\",f=\"wearable\",T=\"embedded\",S=\"Amazon\",g=\"Apple\",R=\"ASUS\",C=\"BlackBerry\",I=\"Browser\",v=\"Chrome\",y=\"Firefox\",A=\"Google\",b=\"Huawei\",w=\"LG\",O=\"Microsoft\",N=\"Motorola\",D=\"Opera\",P=\"Samsung\",L=\"Sharp\",k=\"Sony\",M=\"Xiaomi\",U=\"Zebra\",x=\"Facebook\",V=\"Chromium OS\",F=\"Mac OS\",B=function(e){for(var t={},i=0;i<e.length;i++)t[e[i].toUpperCase()]=e[i];return t},j=function(e,t){return typeof e===o&&-1!==G(t).indexOf(G(e))},G=function(e){return e.toLowerCase()},W=function(e,t){if(typeof e===o)return e=e.replace(/^\\s\\s*/,\"\"),typeof t===n?e:e.substring(0,350)},H=function(e,n){for(var o,s,a,c,d,l,u=0;u<n.length&&!d;){var h=n[u],p=n[u+1];for(o=s=0;o<h.length&&!d&&h[o];)if(d=h[o++].exec(e))for(a=0;a<p.length;a++)l=d[++s],typeof(c=p[a])===r&&c.length>0?2===c.length?typeof c[1]==i?this[c[0]]=c[1].call(this,l):this[c[0]]=c[1]:3===c.length?typeof c[1]!==i||c[1].exec&&c[1].test?this[c[0]]=l?l.replace(c[1],c[2]):t:this[c[0]]=l?c[1].call(this,l,c[2]):t:4===c.length&&(this[c[0]]=l?c[3].call(this,l.replace(c[1],c[2])):t):this[c]=l||t;u+=2}},K=function(e,i){for(var n in i)if(typeof i[n]===r&&i[n].length>0){for(var o=0;o<i[n].length;o++)if(j(i[n][o],e))return\"?\"===n?t:n}else if(j(i[n],e))return\"?\"===n?t:n;return e},Y={ME:\"4.90\",\"NT 3.11\":\"NT3.51\",\"NT 4.0\":\"NT4.0\",2e3:\"NT 5.0\",XP:[\"NT 5.1\",\"NT 5.2\"],Vista:\"NT 6.0\",7:\"NT 6.1\",8:\"NT 6.2\",8.1:\"NT 6.3\",10:[\"NT 6.4\",\"NT 10.0\"],RT:\"ARM\"},q={browser:[[/\\b(?:crmo|crios)\\/([\\w\\.]+)/i],[u,[c,\"Chrome\"]],[/edg(?:e|ios|a)?\\/([\\w\\.]+)/i],[u,[c,\"Edge\"]],[/(opera mini)\\/([-\\w\\.]+)/i,/(opera [mobiletab]{3,6})\\b.+version\\/([-\\w\\.]+)/i,/(opera)(?:.+version\\/|[\\/ ]+)([\\w\\.]+)/i],[c,u],[/opios[\\/ ]+([\\w\\.]+)/i],[u,[c,D+\" Mini\"]],[/\\bopr\\/([\\w\\.]+)/i],[u,[c,D]],[/(kindle)\\/([\\w\\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\\/ ]?([\\w\\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\\/ ]?([\\w\\.]*)/i,/(ba?idubrowser)[\\/ ]?([\\w\\.]+)/i,/(?:ms|\\()(ie) ([\\w\\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\\/([-\\w\\.]+)/i,/(weibo)__([\\d\\.]+)/i],[c,u],[/(?:\\buc? ?browser|(?:juc.+)ucweb)[\\/ ]?([\\w\\.]+)/i],[u,[c,\"UC\"+I]],[/microm.+\\bqbcore\\/([\\w\\.]+)/i,/\\bqbcore\\/([\\w\\.]+).+microm/i],[u,[c,\"WeChat(Win) Desktop\"]],[/micromessenger\\/([\\w\\.]+)/i],[u,[c,\"WeChat\"]],[/konqueror\\/([\\w\\.]+)/i],[u,[c,\"Konqueror\"]],[/trident.+rv[: ]([\\w\\.]{1,9})\\b.+like gecko/i],[u,[c,\"IE\"]],[/yabrowser\\/([\\w\\.]+)/i],[u,[c,\"Yandex\"]],[/(avast|avg)\\/([\\w\\.]+)/i],[[c,/(.+)/,\"$1 Secure \"+I],u],[/\\bfocus\\/([\\w\\.]+)/i],[u,[c,y+\" Focus\"]],[/\\bopt\\/([\\w\\.]+)/i],[u,[c,D+\" Touch\"]],[/coc_coc\\w+\\/([\\w\\.]+)/i],[u,[c,\"Coc Coc\"]],[/dolfin\\/([\\w\\.]+)/i],[u,[c,\"Dolphin\"]],[/coast\\/([\\w\\.]+)/i],[u,[c,D+\" Coast\"]],[/miuibrowser\\/([\\w\\.]+)/i],[u,[c,\"MIUI \"+I]],[/fxios\\/([-\\w\\.]+)/i],[u,[c,y]],[/\\bqihu|(qi?ho?o?|360)browser/i],[[c,\"360 \"+I]],[/(oculus|samsung|sailfish|huawei)browser\\/([\\w\\.]+)/i],[[c,/(.+)/,\"$1 \"+I],u],[/(comodo_dragon)\\/([\\w\\.]+)/i],[[c,/_/g,\" \"],u],[/(electron)\\/([\\w\\.]+) safari/i,/(tesla)(?: qtcarbrowser|\\/(20\\d\\d\\.[-\\w\\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\\/ ]?([\\w\\.]+)/i],[c,u],[/(metasr)[\\/ ]?([\\w\\.]+)/i,/(lbbrowser)/i,/\\[(linkedin)app\\]/i],[c],[/((?:fban\\/fbios|fb_iab\\/fb4a)(?!.+fbav)|;fbav\\/([\\w\\.]+);)/i],[[c,x],u],[/(kakao(?:talk|story))[\\/ ]([\\w\\.]+)/i,/(naver)\\(.*?(\\d+\\.[\\w\\.]+).*\\)/i,/safari (line)\\/([\\w\\.]+)/i,/\\b(line)\\/([\\w\\.]+)\\/iab/i,/(chromium|instagram)[\\/ ]([-\\w\\.]+)/i],[c,u],[/\\bgsa\\/([\\w\\.]+) .*safari\\//i],[u,[c,\"GSA\"]],[/headlesschrome(?:\\/([\\w\\.]+)| )/i],[u,[c,v+\" Headless\"]],[/ wv\\).+(chrome)\\/([\\w\\.]+)/i],[[c,v+\" WebView\"],u],[/droid.+ version\\/([\\w\\.]+)\\b.+(?:mobile safari|safari)/i],[u,[c,\"Android \"+I]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\\/v?([\\w\\.]+)/i],[c,u],[/version\\/([\\w\\.\\,]+) .*mobile\\/\\w+ (safari)/i],[u,[c,\"Mobile Safari\"]],[/version\\/([\\w(\\.|\\,)]+) .*(mobile ?safari|safari)/i],[u,c],[/webkit.+?(mobile ?safari|safari)(\\/[\\w\\.]+)/i],[c,[u,K,{\"1.0\":\"/8\",1.2:\"/1\",1.3:\"/3\",\"2.0\":\"/412\",\"2.0.2\":\"/416\",\"2.0.3\":\"/417\",\"2.0.4\":\"/419\",\"?\":\"/\"}]],[/(webkit|khtml)\\/([\\w\\.]+)/i],[c,u],[/(navigator|netscape\\d?)\\/([-\\w\\.]+)/i],[[c,\"Netscape\"],u],[/mobile vr; rv:([\\w\\.]+)\\).+firefox/i],[u,[c,y+\" Reality\"]],[/ekiohf.+(flow)\\/([\\w\\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\\/ ]?([\\w\\.\\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\\/([-\\w\\.]+)$/i,/(firefox)\\/([\\w\\.]+)/i,/(mozilla)\\/([\\w\\.]+) .+rv\\:.+gecko\\/\\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\\. ]?browser)[-\\/ ]?v?([\\w\\.]+)/i,/(links) \\(([\\w\\.]+)/i,/panasonic;(viera)/i],[c,u],[/(cobalt)\\/([\\w\\.]+)/i],[c,[u,/master.|lts./,\"\"]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\\)]/i],[[h,\"amd64\"]],[/(ia32(?=;))/i],[[h,G]],[/((?:i[346]|x)86)[;\\)]/i],[[h,\"ia32\"]],[/\\b(aarch64|arm(v?8e?l?|_?64))\\b/i],[[h,\"arm64\"]],[/\\b(arm(?:v[67])?ht?n?[fl]p?)\\b/i],[[h,\"armhf\"]],[/windows (ce|mobile); ppc;/i],[[h,\"arm\"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\\))/i],[[h,/ower/,\"\",G]],[/(sun4\\w)[;\\)]/i],[[h,\"sparc\"]],[/((?:avr32|ia64(?=;))|68k(?=\\))|\\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\\b|pa-risc)/i],[[h,G]]],device:[[/\\b(sch-i[89]0\\d|shw-m380s|sm-[ptx]\\w{2,4}|gt-[pn]\\d{2,4}|sgh-t8[56]9|nexus 10)/i],[a,[l,P],[d,E]],[/\\b((?:s[cgp]h|gt|sm)-\\w+|sc[g-]?[\\d]+a?|galaxy nexus)/i,/samsung[- ]([-\\w]+)/i,/sec-(sgh\\w+)/i],[a,[l,P],[d,_]],[/\\((ip(?:hone|od)[\\w ]*);/i],[a,[l,g],[d,_]],[/\\((ipad);[-\\w\\),; ]+apple/i,/applecoremedia\\/[\\w\\.]+ \\((ipad)/i,/\\b(ipad)\\d\\d?,\\d\\d?[;\\]].+ios/i],[a,[l,g],[d,E]],[/(macintosh);/i],[a,[l,g]],[/\\b(sh-?[altvz]?\\d\\d[a-ekm]?)/i],[a,[l,L],[d,_]],[/\\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\\d{2})\\b(?!.+d\\/s)/i],[a,[l,b],[d,E]],[/(?:huawei|honor)([-\\w ]+)[;\\)]/i,/\\b(nexus 6p|\\w{2,4}e?-[atu]?[ln][\\dx][012359c][adn]?)\\b(?!.+d\\/s)/i],[a,[l,b],[d,_]],[/\\b(poco[\\w ]+)(?: bui|\\))/i,/\\b; (\\w+) build\\/hm\\1/i,/\\b(hm[-_ ]?note?[_ ]?(?:\\d\\w)?) bui/i,/\\b(redmi[\\-_ ]?(?:note|k)?[\\w_ ]+)(?: bui|\\))/i,/\\b(mi[-_ ]?(?:a\\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\\d?\\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\\))/i],[[a,/_/g,\" \"],[l,M],[d,_]],[/\\b(mi[-_ ]?(?:pad)(?:[\\w_ ]+))(?: bui|\\))/i],[[a,/_/g,\" \"],[l,M],[d,E]],[/; (\\w+) bui.+ oppo/i,/\\b(cph[12]\\d{3}|p(?:af|c[al]|d\\w|e[ar])[mt]\\d0|x9007|a101op)\\b/i],[a,[l,\"OPPO\"],[d,_]],[/vivo (\\w+)(?: bui|\\))/i,/\\b(v[12]\\d{3}\\w?[at])(?: bui|;)/i],[a,[l,\"Vivo\"],[d,_]],[/\\b(rmx[12]\\d{3})(?: bui|;|\\))/i],[a,[l,\"Realme\"],[d,_]],[/\\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\\b[\\w ]+build\\//i,/\\bmot(?:orola)?[- ](\\w*)/i,/((?:moto[\\w\\(\\) ]+|xt\\d{3,4}|nexus 6)(?= bui|\\)))/i],[a,[l,N],[d,_]],[/\\b(mz60\\d|xoom[2 ]{0,2}) build\\//i],[a,[l,N],[d,E]],[/((?=lg)?[vl]k\\-?\\d{3}) bui| 3\\.[-\\w; ]{10}lg?-([06cv9]{3,4})/i],[a,[l,w],[d,E]],[/(lm(?:-?f100[nv]?|-[\\w\\.]+)(?= bui|\\))|nexus [45])/i,/\\blg[-e;\\/ ]+((?!browser|netcast|android tv)\\w+)/i,/\\blg-?([\\d\\w]+) bui/i],[a,[l,w],[d,_]],[/(ideatab[-\\w ]+)/i,/lenovo ?(s[56]000[-\\w]+|tab(?:[\\w ]+)|yt[-\\d\\w]{6}|tb[-\\d\\w]{6})/i],[a,[l,\"Lenovo\"],[d,E]],[/(?:maemo|nokia).*(n900|lumia \\d+)/i,/nokia[-_ ]?([-\\w\\.]*)/i],[[a,/_/g,\" \"],[l,\"Nokia\"],[d,_]],[/(pixel c)\\b/i],[a,[l,A],[d,E]],[/droid.+; (pixel[\\daxl ]{0,6})(?: bui|\\))/i],[a,[l,A],[d,_]],[/droid.+ (a?\\d[0-2]{2}so|[c-g]\\d{4}|so[-gl]\\w+|xq-a\\w[4-7][12])(?= bui|\\).+chrome\\/(?![1-6]{0,1}\\d\\.))/i],[a,[l,k],[d,_]],[/sony tablet [ps]/i,/\\b(?:sony)?sgp\\w+(?: bui|\\))/i],[[a,\"Xperia Tablet\"],[l,k],[d,E]],[/ (kb2005|in20[12]5|be20[12][59])\\b/i,/(?:one)?(?:plus)? (a\\d0\\d\\d)(?: b|\\))/i],[a,[l,\"OnePlus\"],[d,_]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\\))/i,/(kf[a-z]+)( bui|\\)).+silk\\//i],[a,[l,S],[d,E]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\\)).+silk\\//i],[[a,/(.+)/g,\"Fire Phone $1\"],[l,S],[d,_]],[/(playbook);[-\\w\\),; ]+(rim)/i],[a,l,[d,E]],[/\\b((?:bb[a-f]|st[hv])100-\\d)/i,/\\(bb10; (\\w+)/i],[a,[l,C],[d,_]],[/(?:\\b|asus_)(transfo[prime ]{4,10} \\w+|eeepc|slider \\w+|nexus 7|padfone|p00[cj])/i],[a,[l,R],[d,E]],[/ (z[bes]6[027][012][km][ls]|zenfone \\d\\w?)\\b/i],[a,[l,R],[d,_]],[/(nexus 9)/i],[a,[l,\"HTC\"],[d,E]],[/(htc)[-;_ ]{1,2}([\\w ]+(?=\\)| bui)|\\w+)/i,/(zte)[- ]([\\w ]+?)(?: bui|\\/|\\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\\.))|sony(?!-bra))[-_ ]?([-\\w]*)/i],[l,[a,/_/g,\" \"],[d,_]],[/droid.+; ([ab][1-7]-?[0178a]\\d\\d?)/i],[a,[l,\"Acer\"],[d,E]],[/droid.+; (m[1-5] note) bui/i,/\\bmz-([-\\w]{2,})/i],[a,[l,\"Meizu\"],[d,_]],[/(blackberry|benq|palm(?=\\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\\w]*)/i,/(hp) ([\\w ]+\\w)/i,/(asus)-?(\\w+)/i,/(microsoft); (lumia[\\w ]+)/i,/(lenovo)[-_ ]?([-\\w]+)/i,/(jolla)/i,/(oppo) ?([\\w ]+) bui/i],[l,a,[d,_]],[/(kobo)\\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\\/([\\w\\.]+)/i,/(nook)[\\w ]+build\\/(\\w+)/i,/(dell) (strea[kpr\\d ]*[\\dko])/i,/(le[- ]+pan)[- ]+(\\w{1,9}) bui/i,/(trinity)[- ]*(t\\d{3}) bui/i,/(gigaset)[- ]+(q\\w{1,9}) bui/i,/(vodafone) ([\\w ]+)(?:\\)| bui)/i],[l,a,[d,E]],[/(surface duo)/i],[a,[l,O],[d,E]],[/droid [\\d\\.]+; (fp\\du?)(?: b|\\))/i],[a,[l,\"Fairphone\"],[d,_]],[/(u304aa)/i],[a,[l,\"AT&T\"],[d,_]],[/\\bsie-(\\w*)/i],[a,[l,\"Siemens\"],[d,_]],[/\\b(rct\\w+) b/i],[a,[l,\"RCA\"],[d,E]],[/\\b(venue[\\d ]{2,7}) b/i],[a,[l,\"Dell\"],[d,E]],[/\\b(q(?:mv|ta)\\w+) b/i],[a,[l,\"Verizon\"],[d,E]],[/\\b(?:barnes[& ]+noble |bn[rt])([\\w\\+ ]*) b/i],[a,[l,\"Barnes & Noble\"],[d,E]],[/\\b(tm\\d{3}\\w+) b/i],[a,[l,\"NuVision\"],[d,E]],[/\\b(k88) b/i],[a,[l,\"ZTE\"],[d,E]],[/\\b(nx\\d{3}j) b/i],[a,[l,\"ZTE\"],[d,_]],[/\\b(gen\\d{3}) b.+49h/i],[a,[l,\"Swiss\"],[d,_]],[/\\b(zur\\d{3}) b/i],[a,[l,\"Swiss\"],[d,E]],[/\\b((zeki)?tb.*\\b) b/i],[a,[l,\"Zeki\"],[d,E]],[/\\b([yr]\\d{2}) b/i,/\\b(dragon[- ]+touch |dt)(\\w{5}) b/i],[[l,\"Dragon Touch\"],a,[d,E]],[/\\b(ns-?\\w{0,9}) b/i],[a,[l,\"Insignia\"],[d,E]],[/\\b((nxa|next)-?\\w{0,9}) b/i],[a,[l,\"NextBook\"],[d,E]],[/\\b(xtreme\\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[l,\"Voice\"],a,[d,_]],[/\\b(lvtel\\-)?(v1[12]) b/i],[[l,\"LvTel\"],a,[d,_]],[/\\b(ph-1) /i],[a,[l,\"Essential\"],[d,_]],[/\\b(v(100md|700na|7011|917g).*\\b) b/i],[a,[l,\"Envizen\"],[d,E]],[/\\b(trio[-\\w\\. ]+) b/i],[a,[l,\"MachSpeed\"],[d,E]],[/\\btu_(1491) b/i],[a,[l,\"Rotor\"],[d,E]],[/(shield[\\w ]+) b/i],[a,[l,\"Nvidia\"],[d,E]],[/(sprint) (\\w+)/i],[l,a,[d,_]],[/(kin\\.[onetw]{3})/i],[[a,/\\./g,\" \"],[l,O],[d,_]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\\)/i],[a,[l,U],[d,E]],[/droid.+; (ec30|ps20|tc[2-8]\\d[kx])\\)/i],[a,[l,U],[d,_]],[/smart-tv.+(samsung)/i],[l,[d,m]],[/hbbtv.+maple;(\\d+)/i],[[a,/^/,\"SmartTV\"],[l,P],[d,m]],[/(nux; netcast.+smarttv|lg (netcast\\.tv-201\\d|android tv))/i],[[l,w],[d,m]],[/(apple) ?tv/i],[l,[a,g+\" TV\"],[d,m]],[/crkey/i],[[a,v+\"cast\"],[l,A],[d,m]],[/droid.+aft(\\w)( bui|\\))/i],[a,[l,S],[d,m]],[/\\(dtv[\\);].+(aquos)/i,/(aquos-tv[\\w ]+)\\)/i],[a,[l,L],[d,m]],[/(bravia[\\w ]+)( bui|\\))/i],[a,[l,k],[d,m]],[/(mitv-\\w{5}) bui/i],[a,[l,M],[d,m]],[/Hbbtv.*(technisat) (.*);/i],[l,a,[d,m]],[/\\b(roku)[\\dx]*[\\)\\/]((?:dvp-)?[\\d\\.]*)/i,/hbbtv\\/\\d+\\.\\d+\\.\\d+ +\\([\\w\\+ ]*; *([\\w\\d][^;]*);([^;]*)/i],[[l,W],[a,W],[d,m]],[/\\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\\b/i],[[d,m]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[l,a,[d,p]],[/droid.+; (shield) bui/i],[a,[l,\"Nvidia\"],[d,p]],[/(playstation [345portablevi]+)/i],[a,[l,k],[d,p]],[/\\b(xbox(?: one)?(?!; xbox))[\\); ]/i],[a,[l,O],[d,p]],[/((pebble))app/i],[l,a,[d,f]],[/(watch)(?: ?os[,\\/]|\\d,\\d\\/)[\\d\\.]+/i],[a,[l,g],[d,f]],[/droid.+; (glass) \\d/i],[a,[l,A],[d,f]],[/droid.+; (wt63?0{2,3})\\)/i],[a,[l,U],[d,f]],[/(quest( 2| pro)?)/i],[a,[l,x],[d,f]],[/(tesla)(?: qtcarbrowser|\\/[-\\w\\.]+)/i],[l,[d,T]],[/droid .+?; ([^;]+?)(?: bui|\\) applew).+? mobile safari/i],[a,[d,_]],[/droid .+?; ([^;]+?)(?: bui|\\) applew).+?(?! mobile) safari/i],[a,[d,E]],[/\\b((tablet|tab)[;\\/]|focus\\/\\d(?!.+mobile))/i],[[d,E]],[/(phone|mobile(?:[;\\/]| [ \\w\\/\\.]*safari)|pda(?=.+windows ce))/i],[[d,_]],[/(android[-\\w\\. ]{0,9});.+buil/i],[a,[l,\"Generic\"]]],engine:[[/windows.+ edge\\/([\\w\\.]+)/i],[u,[c,\"EdgeHTML\"]],[/webkit\\/537\\.36.+chrome\\/(?!27)([\\w\\.]+)/i],[u,[c,\"Blink\"]],[/(presto)\\/([\\w\\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\\/([\\w\\.]+)/i,/ekioh(flow)\\/([\\w\\.]+)/i,/(khtml|tasman|links)[\\/ ]\\(?([\\w\\.]+)/i,/(icab)[\\/ ]([23]\\.[\\d\\.]+)/i],[c,u],[/rv\\:([\\w\\.]{1,9})\\b.+(gecko)/i],[u,c]],os:[[/microsoft (windows) (vista|xp)/i],[c,u],[/(windows) nt 6\\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\\/ ]?([\\d\\.\\w ]*)/i,/(windows)[\\/ ]?([ntce\\d\\. ]+\\w)(?!.+xbox)/i],[c,[u,K,Y]],[/(win(?=3|9|n)|win 9x )([nt\\d\\.]+)/i],[[c,\"Windows\"],[u,K,Y]],[/ip[honead]{2,4}\\b(?:.*os ([\\w]+) like mac|; opera)/i,/cfnetwork\\/.+darwin/i],[[u,/_/g,\".\"],[c,\"iOS\"]],[/(mac os x) ?([\\w\\. ]*)/i,/(macintosh|mac_powerpc\\b)(?!.+haiku)/i],[[c,F],[u,/_/g,\".\"]],[/droid ([\\w\\.]+)\\b.+(android[- ]x86|harmonyos)/i],[u,c],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\\/ ]?([\\w\\.]*)/i,/(blackberry)\\w*\\/([\\w\\.]*)/i,/(tizen|kaios)[\\/ ]([\\w\\.]+)/i,/\\((series40);/i],[c,u],[/\\(bb(10);/i],[u,[c,C]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\\/ ]?([\\w\\.]*)/i],[u,[c,\"Symbian\"]],[/mozilla\\/[\\d\\.]+ \\((?:mobile|tablet|tv|mobile; [\\w ]+); rv:.+ gecko\\/([\\w\\.]+)/i],[u,[c,y+\" OS\"]],[/web0s;.+rt(tv)/i,/\\b(?:hp)?wos(?:browser)?\\/([\\w\\.]+)/i],[u,[c,\"webOS\"]],[/watch(?: ?os[,\\/]|\\d,\\d\\/)([\\d\\.]+)/i],[u,[c,\"watchOS\"]],[/crkey\\/([\\d\\.]+)/i],[u,[c,v+\"cast\"]],[/(cros) [\\w]+(?:\\)| ([\\w\\.]+)\\b)/i],[[c,V],u],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\\/(\\d+\\.[\\w\\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\\);]+)/i,/\\b(joli|palm)\\b ?(?:os)?\\/?([\\w\\.]*)/i,/(mint)[\\/\\(\\) ]?(\\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\\/ ]?(?!chrom|package)([-\\w\\.]*)/i,/(hurd|linux) ?([\\w\\.]*)/i,/(gnu) ?([\\w\\.]*)/i,/\\b([-frentopcghs]{0,5}bsd|dragonfly)[\\/ ]?(?!amd|[ix346]{1,2}86)([\\w\\.]*)/i,/(haiku) (\\w+)/i],[c,u],[/(sunos) ?([\\w\\.\\d]*)/i],[[c,\"Solaris\"],u],[/((?:open)?solaris)[-\\/ ]?([\\w\\.]*)/i,/(aix) ((\\d)(?=\\.|\\)| )[\\w\\.])*/i,/\\b(beos|os\\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\\w\\.]*)/i],[c,u]]},z=function(p,m){if(typeof p===r&&(m=p,p=t),!(this instanceof z))return new z(p,m).getResult();var f=typeof e!==n&&e.navigator?e.navigator:t,T=p||(f&&f.userAgent?f.userAgent:\"\"),S=f&&f.userAgentData?f.userAgentData:t,g=m?function(e,t){var i={};for(var n in e)t[n]&&t[n].length%2==0?i[n]=t[n].concat(e[n]):i[n]=e[n];return i}(q,m):q;return this.getBrowser=function(){var e={};return e[c]=t,e[u]=t,H.call(e,T,g.browser),e[s]=function(e){return typeof e===o?e.replace(/[^\\d\\.]/g,\"\").split(\".\")[0]:t}(e[u]),f&&f.brave&&typeof f.brave.isBrave==i&&(e[c]=\"Brave\"),e},this.getCPU=function(){var e={};return e[h]=t,H.call(e,T,g.cpu),e},this.getDevice=function(){var e={};return e[l]=t,e[a]=t,e[d]=t,H.call(e,T,g.device),!e[d]&&S&&S.mobile&&(e[d]=_),\"Macintosh\"==e[a]&&f&&typeof f.standalone!==n&&f.maxTouchPoints&&f.maxTouchPoints>2&&(e[a]=\"iPad\",e[d]=E),e},this.getEngine=function(){var e={};return e[c]=t,e[u]=t,H.call(e,T,g.engine),e},this.getOS=function(){var e={};return e[c]=t,e[u]=t,H.call(e,T,g.os),!e[c]&&S&&\"Unknown\"!=S.platform&&(e[c]=S.platform.replace(/chrome os/i,V).replace(/macos/i,F)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return T},this.setUA=function(e){return T=typeof e===o&&e.length>350?W(e,350):e,this},this.setUA(T),this};z.VERSION=\"0.7.34\",z.BROWSER=B([c,u,s]),z.CPU=B([h]),z.DEVICE=B([a,l,d,p,_,m,E,f,T]),z.ENGINE=z.OS=B([c,u]),eE.exports&&(tE=eE.exports=z),tE.UAParser=z;var J=typeof e!==n&&(e.jQuery||e.Zepto);if(J&&!J.ua){var X=new z;J.ua=X.getResult(),J.ua.get=function(){return X.getUA()},J.ua.set=function(e){X.setUA(e);var t=X.getResult();for(var i in t)J.ua[i]=t[i]}}}(\"object\"==typeof window?window:t);var dE=i(cE.exports),lE=pn,uE=Ze,hE=Y,pE=xo,_E=ht(\"iterator\"),EE=Object,mE=function(e){if(hE(e))return!1;var t=EE(e);return void 0!==t[_E]||\"@@iterator\"in t||uE(pE,lE(t))},fE=i(mE),TE=h;wi({global:!0,forced:TE.globalThis!==TE},{globalThis:TE});var SE=i(h);function gE(e,t){return function(){return e.apply(t,arguments)}}const{toString:RE}=Object.prototype,{getPrototypeOf:CE}=Object,IE=(vE=Object.create(null),e=>{const t=RE.call(e);return vE[t]||(vE[t]=t.slice(8,-1).toLowerCase())});var vE;const yE=e=>(e=e.toLowerCase(),t=>IE(t)===e),AE=e=>t=>typeof t===e,{isArray:bE}=Array,wE=AE(\"undefined\");const OE=yE(\"ArrayBuffer\");const NE=AE(\"string\"),DE=AE(\"function\"),PE=AE(\"number\"),LE=e=>null!==e&&\"object\"==typeof e,kE=e=>{if(\"object\"!==IE(e))return!1;const t=CE(e);return!(null!==t&&t!==Object.prototype&&null!==Object.getPrototypeOf(t)||Symbol.toStringTag in e||fE(e))},ME=yE(\"Date\"),UE=yE(\"File\"),xE=yE(\"Blob\"),VE=yE(\"FileList\"),FE=yE(\"URLSearchParams\");function BE(e,t){let i,n,{allOwnKeys:r=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!=e)if(\"object\"!=typeof e&&(e=[e]),bE(e))for(i=0,n=e.length;i<n;i++)t.call(null,e[i],i,e);else{const n=r?Object.getOwnPropertyNames(e):Object.keys(e),o=n.length;let s;for(i=0;i<o;i++)s=n[i],t.call(null,e[s],s,e)}}function jE(e,t){t=t.toLowerCase();const i=Object.keys(e);let n,r=i.length;for(;r-- >0;)if(n=i[r],t===n.toLowerCase())return n;return null}const GE=void 0!==SE?SE:\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:global,WE=e=>!wE(e)&&e!==GE;const HE=(KE=\"undefined\"!=typeof Uint8Array&&CE(Uint8Array),e=>KE&&e instanceof KE);var KE;const YE=yE(\"HTMLFormElement\"),qE=(e=>{let{hasOwnProperty:t}=e;return(e,i)=>t.call(e,i)})(Object.prototype),zE=yE(\"RegExp\"),JE=(e,t)=>{const i=Object.getOwnPropertyDescriptors(e),n={};BE(i,((i,r)=>{let o;!1!==(o=t(i,r,e))&&(n[r]=o||i)})),Object.defineProperties(e,n)},XE=\"abcdefghijklmnopqrstuvwxyz\",QE=\"0123456789\",ZE={DIGIT:QE,ALPHA:XE,ALPHA_DIGIT:XE+XE.toUpperCase()+QE};const $E=yE(\"AsyncFunction\");var em={isArray:bE,isArrayBuffer:OE,isBuffer:function(e){return null!==e&&!wE(e)&&null!==e.constructor&&!wE(e.constructor)&&DE(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&(\"function\"==typeof FormData&&e instanceof FormData||DE(e.append)&&(\"formdata\"===(t=IE(e))||\"object\"===t&&DE(e.toString)&&\"[object FormData]\"===e.toString()))},isArrayBufferView:function(e){let t;return t=\"undefined\"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&OE(e.buffer),t},isString:NE,isNumber:PE,isBoolean:e=>!0===e||!1===e,isObject:LE,isPlainObject:kE,isUndefined:wE,isDate:ME,isFile:UE,isBlob:xE,isRegExp:zE,isFunction:DE,isStream:e=>LE(e)&&DE(e.pipe),isURLSearchParams:FE,isTypedArray:HE,isFileList:VE,forEach:BE,merge:function e(){const{caseless:t}=WE(this)&&this||{},i={},n=(n,r)=>{const o=t&&jE(i,r)||r;kE(i[o])&&kE(n)?i[o]=e(i[o],n):kE(n)?i[o]=e({},n):bE(n)?i[o]=n.slice():i[o]=n};for(let e=0,t=arguments.length;e<t;e++)arguments[e]&&BE(arguments[e],n);return i},extend:function(e,t,i){let{allOwnKeys:n}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return BE(t,((t,n)=>{i&&DE(t)?e[n]=gE(t,i):e[n]=t}),{allOwnKeys:n}),e},trim:e=>jp(e)?jp(e).call(e):e.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g,\"\"),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,i,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,\"super\",{value:t.prototype}),i&&Object.assign(e.prototype,i)},toFlatObject:(e,t,i,n)=>{let r,o,s;const a={};if(t=t||{},null==e)return t;do{for(r=Object.getOwnPropertyNames(e),o=r.length;o-- >0;)s=r[o],n&&!n(s,e,t)||a[s]||(t[s]=e[s],a[s]=!0);e=!1!==i&&CE(e)}while(e&&(!i||i(e,t))&&e!==Object.prototype);return t},kindOf:IE,kindOfTest:yE,endsWith:(e,t,i)=>{e=String(e),(void 0===i||i>e.length)&&(i=e.length),i-=t.length;const n=e.indexOf(t,i);return-1!==n&&n===i},toArray:e=>{if(!e)return null;if(bE(e))return e;let t=e.length;if(!PE(t))return null;const i=new Array(t);for(;t-- >0;)i[t]=e[t];return i},forEachEntry:(e,t)=>{const i=(e&&e[Symbol.iterator]).call(e);let n;for(;(n=i.next())&&!n.done;){const i=n.value;t.call(e,i[0],i[1])}},matchAll:(e,t)=>{let i;const n=[];for(;null!==(i=e.exec(t));)n.push(i);return n},isHTMLForm:YE,hasOwnProperty:qE,hasOwnProp:qE,reduceDescriptors:JE,freezeMethods:e=>{JE(e,((t,i)=>{if(DE(e)&&-1!==[\"arguments\",\"caller\",\"callee\"].indexOf(i))return!1;const n=e[i];DE(n)&&(t.enumerable=!1,\"writable\"in t?t.writable=!1:t.set||(t.set=()=>{throw Error(\"Can not rewrite read-only method '\"+i+\"'\")}))}))},toObjectSet:(e,t)=>{const i={},n=e=>{e.forEach((e=>{i[e]=!0}))};return bE(e)?n(e):n(String(e).split(t)),i},toCamelCase:e=>e.toLowerCase().replace(/[-_\\s]([a-z\\d])(\\w*)/g,(function(e,t,i){return t.toUpperCase()+i})),noop:()=>{},toFiniteNumber:(e,t)=>(e=+e,Number.isFinite(e)?e:t),findKey:jE,global:GE,isContextDefined:WE,ALPHABET:ZE,generateString:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ZE.ALPHA_DIGIT,i=\"\";const{length:n}=t;for(;e--;)i+=t[Math.random()*n|0];return i},isSpecCompliantForm:function(e){return!!(e&&DE(e.append)&&\"FormData\"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),i=(e,n)=>{if(LE(e)){if(t.indexOf(e)>=0)return;if(!(\"toJSON\"in e)){t[n]=e;const r=bE(e)?[]:{};return BE(e,((e,t)=>{const o=i(e,n+1);!wE(o)&&(r[t]=o)})),t[n]=void 0,r}}return e};return i(e,0)},isAsyncFn:$E,isThenable:e=>e&&(LE(e)||DE(e))&&DE(e.then)&&DE(e.catch)};function tm(e,t,i,n,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name=\"AxiosError\",t&&(this.code=t),i&&(this.config=i),n&&(this.request=n),r&&(this.response=r)}em.inherits(tm,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:em.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const im=tm.prototype,nm={};[\"ERR_BAD_OPTION_VALUE\",\"ERR_BAD_OPTION\",\"ECONNABORTED\",\"ETIMEDOUT\",\"ERR_NETWORK\",\"ERR_FR_TOO_MANY_REDIRECTS\",\"ERR_DEPRECATED\",\"ERR_BAD_RESPONSE\",\"ERR_BAD_REQUEST\",\"ERR_CANCELED\",\"ERR_NOT_SUPPORT\",\"ERR_INVALID_URL\"].forEach((e=>{nm[e]={value:e}})),Object.defineProperties(tm,nm),Object.defineProperty(im,\"isAxiosError\",{value:!0}),tm.from=(e,t,i,n,r,o)=>{const s=Object.create(im);return em.toFlatObject(e,s,(function(e){return e!==Error.prototype}),(e=>\"isAxiosError\"!==e)),tm.call(s,e.message,t,i,n,r),s.cause=e,s.name=e.name,o&&Object.assign(s,o),s};function rm(e){return em.isPlainObject(e)||em.isArray(e)}function om(e){return em.endsWith(e,\"[]\")?e.slice(0,-2):e}function sm(e,t,i){return e?e.concat(t).map((function(e,t){return e=om(e),!i&&t?\"[\"+e+\"]\":e})).join(i?\".\":\"\"):t}const am=em.toFlatObject(em,{},null,(function(e){return/^is[A-Z]/.test(e)}));function cm(e,t,i){if(!em.isObject(e))throw new TypeError(\"target must be an object\");t=t||new FormData;const n=(i=em.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!em.isUndefined(t[e])}))).metaTokens,r=i.visitor||d,o=i.dots,s=i.indexes,a=(i.Blob||\"undefined\"!=typeof Blob&&Blob)&&em.isSpecCompliantForm(t);if(!em.isFunction(r))throw new TypeError(\"visitor must be a function\");function c(e){if(null===e)return\"\";if(em.isDate(e))return e.toISOString();if(!a&&em.isBlob(e))throw new tm(\"Blob is not supported. Use a Buffer instead.\");return em.isArrayBuffer(e)||em.isTypedArray(e)?a&&\"function\"==typeof Blob?new Blob([e]):Buffer.from(e):e}function d(e,i,r){let a=e;if(e&&!r&&\"object\"==typeof e)if(em.endsWith(i,\"{}\"))i=n?i:i.slice(0,-2),e=JSON.stringify(e);else if(em.isArray(e)&&function(e){return em.isArray(e)&&!e.some(rm)}(e)||(em.isFileList(e)||em.endsWith(i,\"[]\"))&&(a=em.toArray(e)))return i=om(i),a.forEach((function(e,n){!em.isUndefined(e)&&null!==e&&t.append(!0===s?sm([i],n,o):null===s?i:i+\"[]\",c(e))})),!1;return!!rm(e)||(t.append(sm(r,i,o),c(e)),!1)}const l=[],u=Object.assign(am,{defaultVisitor:d,convertValue:c,isVisitable:rm});if(!em.isObject(e))throw new TypeError(\"data must be an object\");return function e(i,n){if(!em.isUndefined(i)){if(-1!==l.indexOf(i))throw Error(\"Circular reference detected in \"+n.join(\".\"));l.push(i),em.forEach(i,(function(i,o){!0===(!(em.isUndefined(i)||null===i)&&r.call(t,i,em.isString(o)?jp(o).call(o):o,n,u))&&e(i,n?n.concat(o):[o])})),l.pop()}}(e),t}function dm(e){const t={\"!\":\"%21\",\"'\":\"%27\",\"(\":\"%28\",\")\":\"%29\",\"~\":\"%7E\",\"%20\":\"+\",\"%00\":\"\\0\"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function lm(e,t){this._pairs=[],e&&cm(e,this,t)}const um=lm.prototype;function hm(e){return encodeURIComponent(e).replace(/%3A/gi,\":\").replace(/%24/g,\"$\").replace(/%2C/gi,\",\").replace(/%20/g,\"+\").replace(/%5B/gi,\"[\").replace(/%5D/gi,\"]\")}function pm(e,t,i){if(!t)return e;const n=i&&i.encode||hm,r=i&&i.serialize;let o;if(o=r?r(t,i):em.isURLSearchParams(t)?t.toString():new lm(t,i).toString(n),o){const t=e.indexOf(\"#\");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf(\"?\")?\"?\":\"&\")+o}return e}um.append=function(e,t){this._pairs.push([e,t])},um.toString=function(e){const t=e?function(t){return e.call(this,t,dm)}:dm;return this._pairs.map((function(e){return t(e[0])+\"=\"+t(e[1])}),\"\").join(\"&\")};var _m=class{constructor(){this.handlers=[]}use(e,t,i){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!i&&i.synchronous,runWhen:i?i.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){em.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},Em={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},mm={exports:{}},fm=wi,Tm=N,Sm=Qt.f;fm({target:\"Object\",stat:!0,forced:Object.defineProperty!==Sm,sham:!Tm},{defineProperty:Sm});var gm=ie.Object,Rm=mm.exports=function(e,t,i){return gm.defineProperty(e,t,i)};gm.defineProperty.sham&&(Rm.sham=!0);var Cm=i(mm.exports),Im=R,vm=Array.isArray||function(e){return\"Array\"==Im(e)},ym=TypeError,Am=vm,bm=jc,wm=te,Om=ht(\"species\"),Nm=Array,Dm=function(e){var t;return Am(e)&&(t=e.constructor,(bm(t)&&(t===Nm||Am(t.prototype))||wm(t)&&null===(t=t[Om]))&&(t=void 0)),void 0===t?Nm:t},Pm=function(e,t){return new(Dm(e))(0===t?0:t)},Lm=n,km=Ee,Mm=ht(\"species\"),Um=function(e){return km>=51||!Lm((function(){var t=[];return(t.constructor={})[Mm]=function(){return{foo:1}},1!==t[e](Boolean).foo}))},xm=wi,Vm=n,Fm=vm,Bm=te,jm=Je,Gm=Gi,Wm=function(e){if(e>9007199254740991)throw ym(\"Maximum allowed index exceeded\");return e},Hm=E_,Km=Pm,Ym=Um,qm=Ee,zm=ht(\"isConcatSpreadable\"),Jm=qm>=51||!Vm((function(){var e=[];return e[zm]=!1,e.concat()[0]!==e})),Xm=function(e){if(!Bm(e))return!1;var t=e[zm];return void 0!==t?!!t:Fm(e)};xm({target:\"Array\",proto:!0,arity:1,forced:!Jm||!Ym(\"concat\")},{concat:function(e){var t,i,n,r,o,s=jm(this),a=Km(s,0),c=0;for(t=-1,n=arguments.length;t<n;t++)if(Xm(o=-1===t?s:arguments[t]))for(r=Gm(o),Wm(c+r),i=0;i<r;i++,c++)i in o&&Hm(a,c,o[i]);else Wm(c+1),Hm(a,c++,o);return a.length=c,a}});var Qm={},Zm=R,$m=Z,ef=Or.f,tf=R_,nf=\"object\"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];Qm.f=function(e){return nf&&\"Window\"==Zm(e)?function(e){try{return ef(e)}catch(e){return tf(nf)}}(e):ef($m(e))};var rf={},of=ht;rf.f=of;var sf=ie,af=Ze,cf=rf,df=Qt.f,lf=function(e){var t=sf.Symbol||(sf.Symbol={});af(t,e)||df(t,e,{value:cf.f(e)})},uf=L,hf=ae,pf=ht,_f=ha,Ef=function(){var e=hf(\"Symbol\"),t=e&&e.prototype,i=t&&t.valueOf,n=pf(\"toPrimitive\");t&&!t[n]&&_f(t,n,(function(e){return uf(i,this)}),{arity:1})},mf=Xt,ff=K,Tf=Je,Sf=Gi,gf=Pm,Rf=d([].push),Cf=function(e){var t=1==e,i=2==e,n=3==e,r=4==e,o=6==e,s=7==e,a=5==e||o;return function(c,d,l,u){for(var h,p,_=Tf(c),E=ff(_),m=mf(d,l),f=Sf(E),T=0,S=u||gf,g=t?S(c,f):i||s?S(c,0):void 0;f>T;T++)if((a||T in E)&&(p=m(h=E[T],T,_),e))if(t)g[T]=p;else if(p)switch(e){case 3:return!0;case 5:return h;case 6:return T;case 2:Rf(g,h)}else switch(e){case 4:return!1;case 7:Rf(g,h)}return o?-1:n||r?r:g}},If={forEach:Cf(0),map:Cf(1),filter:Cf(2),some:Cf(3),every:Cf(4),find:Cf(5),findIndex:Cf(6),filterReject:Cf(7)},vf=wi,yf=h,Af=L,bf=d,wf=N,Of=Se,Nf=n,Df=Ze,Pf=l,Lf=ii,kf=Z,Mf=Ct,Uf=mn,xf=B,Vf=Io,Ff=eo,Bf=Or,jf=Qm,Gf=Br,Wf=O,Hf=Qt,Kf=Qr,Yf=k,qf=ha,zf=hc,Jf=Ye,Xf=Nr,Qf=nt,Zf=ht,$f=rf,eT=lf,tT=Ef,iT=Da,nT=ra,rT=If.forEach,oT=lr(\"hidden\"),sT=\"Symbol\",aT=\"prototype\",cT=nT.set,dT=nT.getterFor(sT),lT=Object[aT],uT=yf.Symbol,hT=uT&&uT[aT],pT=yf.TypeError,_T=yf.QObject,ET=Wf.f,mT=Hf.f,fT=jf.f,TT=Yf.f,ST=bf([].push),gT=Jf(\"symbols\"),RT=Jf(\"op-symbols\"),CT=Jf(\"wks\"),IT=!_T||!_T[aT]||!_T[aT].findChild,vT=wf&&Nf((function(){return 7!=Vf(mT({},\"a\",{get:function(){return mT(this,\"a\",{value:7}).a}})).a}))?function(e,t,i){var n=ET(lT,t);n&&delete lT[t],mT(e,t,i),n&&e!==lT&&mT(lT,t,n)}:mT,yT=function(e,t){var i=gT[e]=Vf(hT);return cT(i,{type:sT,tag:e,description:t}),wf||(i.description=t),i},AT=function(e,t,i){e===lT&&AT(RT,t,i),Lf(e);var n=Mf(t);return Lf(i),Df(gT,n)?(i.enumerable?(Df(e,oT)&&e[oT][n]&&(e[oT][n]=!1),i=Vf(i,{enumerable:xf(0,!1)})):(Df(e,oT)||mT(e,oT,xf(1,{})),e[oT][n]=!0),vT(e,n,i)):mT(e,n,i)},bT=function(e,t){Lf(e);var i=kf(t),n=Ff(i).concat(DT(i));return rT(n,(function(t){wf&&!Af(wT,i,t)||AT(e,t,i[t])})),e},wT=function(e){var t=Mf(e),i=Af(TT,this,t);return!(this===lT&&Df(gT,t)&&!Df(RT,t))&&(!(i||!Df(this,t)||!Df(gT,t)||Df(this,oT)&&this[oT][t])||i)},OT=function(e,t){var i=kf(e),n=Mf(t);if(i!==lT||!Df(gT,n)||Df(RT,n)){var r=ET(i,n);return!r||!Df(gT,n)||Df(i,oT)&&i[oT][n]||(r.enumerable=!0),r}},NT=function(e){var t=fT(kf(e)),i=[];return rT(t,(function(e){Df(gT,e)||Df(Xf,e)||ST(i,e)})),i},DT=function(e){var t=e===lT,i=fT(t?RT:kf(e)),n=[];return rT(i,(function(e){!Df(gT,e)||t&&!Df(lT,e)||ST(n,gT[e])})),n};Of||(qf(hT=(uT=function(){if(Pf(hT,this))throw pT(\"Symbol is not a constructor\");var e=arguments.length&&void 0!==arguments[0]?Uf(arguments[0]):void 0,t=Qf(e),i=function(e){this===lT&&Af(i,RT,e),Df(this,oT)&&Df(this[oT],t)&&(this[oT][t]=!1),vT(this,t,xf(1,e))};return wf&&IT&&vT(lT,t,{configurable:!0,set:i}),yT(t,e)})[aT],\"toString\",(function(){return dT(this).tag})),qf(uT,\"withoutSetter\",(function(e){return yT(Qf(e),e)})),Yf.f=wT,Hf.f=AT,Kf.f=bT,Wf.f=OT,Bf.f=jf.f=NT,Gf.f=DT,$f.f=function(e){return yT(Zf(e),e)},wf&&zf(hT,\"description\",{configurable:!0,get:function(){return dT(this).description}})),vf({global:!0,constructor:!0,wrap:!0,forced:!Of,sham:!Of},{Symbol:uT}),rT(Ff(CT),(function(e){eT(e)})),vf({target:sT,stat:!0,forced:!Of},{useSetter:function(){IT=!0},useSimple:function(){IT=!1}}),vf({target:\"Object\",stat:!0,forced:!Of,sham:!wf},{create:function(e,t){return void 0===t?Vf(e):bT(Vf(e),t)},defineProperty:AT,defineProperties:bT,getOwnPropertyDescriptor:OT}),vf({target:\"Object\",stat:!0,forced:!Of},{getOwnPropertyNames:NT}),tT(),iT(uT,sT),Xf[oT]=!0;var PT=Se&&!!Symbol.for&&!!Symbol.keyFor,LT=wi,kT=ae,MT=Ze,UT=mn,xT=Ye,VT=PT,FT=xT(\"string-to-symbol-registry\"),BT=xT(\"symbol-to-string-registry\");LT({target:\"Symbol\",stat:!0,forced:!VT},{for:function(e){var t=UT(e);if(MT(FT,t))return FT[t];var i=kT(\"Symbol\")(t);return FT[t]=i,BT[i]=t,i}});var jT=wi,GT=Ze,WT=ye,HT=be,KT=PT,YT=Ye(\"symbol-to-string-registry\");jT({target:\"Symbol\",stat:!0,forced:!KT},{keyFor:function(e){if(!WT(e))throw TypeError(HT(e)+\" is not a symbol\");if(GT(YT,e))return YT[e]}});var qT=vm,zT=w,JT=R,XT=mn,QT=d([].push),ZT=wi,$T=ae,eS=f,tS=L,iS=d,nS=n,rS=w,oS=ye,sS=Xc,aS=function(e){if(zT(e))return e;if(qT(e)){for(var t=e.length,i=[],n=0;n<t;n++){var r=e[n];\"string\"==typeof r?QT(i,r):\"number\"!=typeof r&&\"Number\"!=JT(r)&&\"String\"!=JT(r)||QT(i,XT(r))}var o=i.length,s=!0;return function(e,t){if(s)return s=!1,t;if(qT(this))return t;for(var n=0;n<o;n++)if(i[n]===e)return t}}},cS=Se,dS=String,lS=$T(\"JSON\",\"stringify\"),uS=iS(/./.exec),hS=iS(\"\".charAt),pS=iS(\"\".charCodeAt),_S=iS(\"\".replace),ES=iS(1..toString),mS=/[\\uD800-\\uDFFF]/g,fS=/^[\\uD800-\\uDBFF]$/,TS=/^[\\uDC00-\\uDFFF]$/,SS=!cS||nS((function(){var e=$T(\"Symbol\")();return\"[null]\"!=lS([e])||\"{}\"!=lS({a:e})||\"{}\"!=lS(Object(e))})),gS=nS((function(){return'\"\\\\udf06\\\\ud834\"'!==lS(\"\\udf06\\ud834\")||'\"\\\\udead\"'!==lS(\"\\udead\")})),RS=function(e,t){var i=sS(arguments),n=aS(t);if(rS(n)||void 0!==e&&!oS(e))return i[1]=function(e,t){if(rS(n)&&(t=tS(n,this,dS(e),t)),!oS(t))return t},eS(lS,null,i)},CS=function(e,t,i){var n=hS(i,t-1),r=hS(i,t+1);return uS(fS,e)&&!uS(TS,r)||uS(TS,e)&&!uS(fS,n)?\"\\\\u\"+ES(pS(e,0),16):e};lS&&ZT({target:\"JSON\",stat:!0,arity:3,forced:SS||gS},{stringify:function(e,t,i){var n=sS(arguments),r=eS(SS?RS:lS,null,n);return gS&&\"string\"==typeof r?_S(r,mS,CS):r}});var IS=Br,vS=Je;wi({target:\"Object\",stat:!0,forced:!Se||n((function(){IS.f(1)}))},{getOwnPropertySymbols:function(e){var t=IS.f;return t?t(vS(e)):[]}}),lf(\"asyncIterator\"),lf(\"hasInstance\"),lf(\"isConcatSpreadable\"),lf(\"iterator\"),lf(\"match\"),lf(\"matchAll\"),lf(\"replace\"),lf(\"search\"),lf(\"species\"),lf(\"split\");var yS=Ef;lf(\"toPrimitive\"),yS();var AS=ae,bS=Da;lf(\"toStringTag\"),bS(AS(\"Symbol\"),\"Symbol\"),lf(\"unscopables\"),Da(h.JSON,\"JSON\",!0);var wS=ie.Symbol,OS=ht,NS=Qt.f,DS=OS(\"metadata\"),PS=Function.prototype;void 0===PS[DS]&&NS(PS,DS,{value:null}),lf(\"dispose\"),lf(\"metadata\");var LS=wS;lf(\"asyncDispose\");var kS=d,MS=ae(\"Symbol\"),US=MS.keyFor,xS=kS(MS.prototype.valueOf),VS=MS.isRegisteredSymbol||function(e){try{return void 0!==US(xS(e))}catch(e){return!1}};wi({target:\"Symbol\",stat:!0},{isRegisteredSymbol:VS});for(var FS=Ye,BS=ae,jS=d,GS=ye,WS=ht,HS=BS(\"Symbol\"),KS=HS.isWellKnownSymbol,YS=BS(\"Object\",\"getOwnPropertyNames\"),qS=jS(HS.prototype.valueOf),zS=FS(\"wks\"),JS=0,XS=YS(HS),QS=XS.length;JS<QS;JS++)try{var ZS=XS[JS];GS(HS[ZS])&&WS(ZS)}catch(e){}var $S=function(e){if(KS&&KS(e))return!0;try{for(var t=qS(e),i=0,n=YS(zS),r=n.length;i<r;i++)if(zS[n[i]]==t)return!0}catch(e){}return!1};wi({target:\"Symbol\",stat:!0,forced:!0},{isWellKnownSymbol:$S}),lf(\"matcher\"),lf(\"observable\"),wi({target:\"Symbol\",stat:!0,name:\"isRegisteredSymbol\"},{isRegistered:VS}),wi({target:\"Symbol\",stat:!0,name:\"isWellKnownSymbol\",forced:!0},{isWellKnown:$S}),lf(\"metadataKey\"),lf(\"patternMatch\"),lf(\"replaceAll\");var eg=i(LS),tg=i(rf.f(\"iterator\"));function ig(e){return ig=\"function\"==typeof eg&&\"symbol\"==typeof tg?function(e){return typeof e}:function(e){return e&&\"function\"==typeof eg&&e.constructor===eg&&e!==eg.prototype?\"symbol\":typeof e},ig(e)}var ng=i(rf.f(\"toPrimitive\"));function rg(e){var t=function(e,t){if(\"object\"!==ig(e)||null===e)return e;var i=e[ng];if(void 0!==i){var n=i.call(e,t||\"default\");if(\"object\"!==ig(n))return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return(\"string\"===t?String:Number)(e)}(e,\"string\");return\"symbol\"===ig(t)?t:String(t)}function og(e,t,i){return(t=rg(t))in e?Cm(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var sg=n,ag=ht(\"iterator\"),cg=!sg((function(){var e=new URL(\"b?a=1&b=2&c=3\",\"http://a\"),t=e.searchParams,i=new URLSearchParams(\"a=1&a=2\"),n=\"\";return e.pathname=\"c%20d\",t.forEach((function(e,i){t.delete(\"b\"),n+=i+e})),i.delete(\"a\",2),!e.toJSON||!i.has(\"a\",1)||i.has(\"a\",2)||!t.size&&true||!t.sort||\"http://a/c%20d?a=1&c=3\"!==e.href||\"3\"!==t.get(\"c\")||\"a=1\"!==String(new URLSearchParams(\"?a=1\"))||!t[ag]||\"a\"!==new URL(\"https://a@b\").username||\"b\"!==new URLSearchParams(new URLSearchParams(\"a=b\")).get(\"a\")||\"xn--e1aybc\"!==new URL(\"http://ÑÐµÑÑ\").host||\"#%D0%B1\"!==new URL(\"http://a#Ð±\").hash||\"a1c3\"!==n||\"x\"!==new URL(\"http://x\",void 0).host})),dg=ha,lg=wi,ug=h,hg=L,pg=d,_g=N,Eg=cg,mg=ha,fg=hc,Tg=function(e,t,i){for(var n in t)i&&i.unsafe&&e[n]?e[n]=t[n]:dg(e,n,t[n],i);return e},Sg=Da,gg=Va,Rg=ra,Cg=Sc,Ig=w,vg=Ze,yg=Xt,Ag=pn,bg=ii,wg=te,Og=mn,Ng=Io,Dg=B,Pg=es,Lg=qo,kg=Zc,Mg=b_,Ug=ht(\"iterator\"),xg=\"URLSearchParams\",Vg=xg+\"Iterator\",Fg=Rg.set,Bg=Rg.getterFor(xg),jg=Rg.getterFor(Vg),Gg=Object.getOwnPropertyDescriptor,Wg=function(e){if(!_g)return ug[e];var t=Gg(ug,e);return t&&t.value},Hg=Wg(\"fetch\"),Kg=Wg(\"Request\"),Yg=Wg(\"Headers\"),qg=Kg&&Kg.prototype,zg=Yg&&Yg.prototype,Jg=ug.RegExp,Xg=ug.TypeError,Qg=ug.decodeURIComponent,Zg=ug.encodeURIComponent,$g=pg(\"\".charAt),eR=pg([].join),tR=pg([].push),iR=pg(\"\".replace),nR=pg([].shift),rR=pg([].splice),oR=pg(\"\".split),sR=pg(\"\".slice),aR=/\\+/g,cR=Array(4),dR=function(e){return cR[e-1]||(cR[e-1]=Jg(\"((?:%[\\\\da-f]{2}){\"+e+\"})\",\"gi\"))},lR=function(e){try{return Qg(e)}catch(t){return e}},uR=function(e){var t=iR(e,aR,\" \"),i=4;try{return Qg(t)}catch(e){for(;i;)t=iR(t,dR(i--),lR);return t}},hR=/[!'()~]|%20/g,pR={\"!\":\"%21\",\"'\":\"%27\",\"(\":\"%28\",\")\":\"%29\",\"~\":\"%7E\",\"%20\":\"+\"},_R=function(e){return pR[e]},ER=function(e){return iR(Zg(e),hR,_R)},mR=gg((function(e,t){Fg(this,{type:Vg,iterator:Pg(Bg(e).entries),kind:t})}),\"Iterator\",(function(){var e=jg(this),t=e.kind,i=e.iterator.next(),n=i.value;return i.done||(i.value=\"keys\"===t?n.key:\"values\"===t?n.value:[n.key,n.value]),i}),!0),fR=function(e){this.entries=[],this.url=null,void 0!==e&&(wg(e)?this.parseObject(e):this.parseQuery(\"string\"==typeof e?\"?\"===$g(e,0)?sR(e,1):e:Og(e)))};fR.prototype={type:xg,bindURL:function(e){this.url=e,this.update()},parseObject:function(e){var t,i,n,r,o,s,a,c=Lg(e);if(c)for(i=(t=Pg(e,c)).next;!(n=hg(i,t)).done;){if(o=(r=Pg(bg(n.value))).next,(s=hg(o,r)).done||(a=hg(o,r)).done||!hg(o,r).done)throw Xg(\"Expected sequence with length 2\");tR(this.entries,{key:Og(s.value),value:Og(a.value)})}else for(var d in e)vg(e,d)&&tR(this.entries,{key:d,value:Og(e[d])})},parseQuery:function(e){if(e)for(var t,i,n=oR(e,\"&\"),r=0;r<n.length;)(t=n[r++]).length&&(i=oR(t,\"=\"),tR(this.entries,{key:uR(nR(i)),value:uR(eR(i,\"=\"))}))},serialize:function(){for(var e,t=this.entries,i=[],n=0;n<t.length;)e=t[n++],tR(i,ER(e.key)+\"=\"+ER(e.value));return eR(i,\"&\")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var TR=function(){Cg(this,SR);var e=Fg(this,new fR(arguments.length>0?arguments[0]:void 0));_g||(this.size=e.entries.length)},SR=TR.prototype;if(Tg(SR,{append:function(e,t){var i=Bg(this);kg(arguments.length,2),tR(i.entries,{key:Og(e),value:Og(t)}),_g||this.length++,i.updateURL()},delete:function(e){for(var t=Bg(this),i=kg(arguments.length,1),n=t.entries,r=Og(e),o=i<2?void 0:arguments[1],s=void 0===o?o:Og(o),a=0;a<n.length;){var c=n[a];if(c.key!==r||void 0!==s&&c.value!==s)a++;else if(rR(n,a,1),void 0!==s)break}_g||(this.size=n.length),t.updateURL()},get:function(e){var t=Bg(this).entries;kg(arguments.length,1);for(var i=Og(e),n=0;n<t.length;n++)if(t[n].key===i)return t[n].value;return null},getAll:function(e){var t=Bg(this).entries;kg(arguments.length,1);for(var i=Og(e),n=[],r=0;r<t.length;r++)t[r].key===i&&tR(n,t[r].value);return n},has:function(e){for(var t=Bg(this).entries,i=kg(arguments.length,1),n=Og(e),r=i<2?void 0:arguments[1],o=void 0===r?r:Og(r),s=0;s<t.length;){var a=t[s++];if(a.key===n&&(void 0===o||a.value===o))return!0}return!1},set:function(e,t){var i=Bg(this);kg(arguments.length,1);for(var n,r=i.entries,o=!1,s=Og(e),a=Og(t),c=0;c<r.length;c++)(n=r[c]).key===s&&(o?rR(r,c--,1):(o=!0,n.value=a));o||tR(r,{key:s,value:a}),_g||(this.size=r.length),i.updateURL()},sort:function(){var e=Bg(this);Mg(e.entries,(function(e,t){return e.key>t.key?1:-1})),e.updateURL()},forEach:function(e){for(var t,i=Bg(this).entries,n=yg(e,arguments.length>1?arguments[1]:void 0),r=0;r<i.length;)n((t=i[r++]).value,t.key,this)},keys:function(){return new mR(this,\"keys\")},values:function(){return new mR(this,\"values\")},entries:function(){return new mR(this,\"entries\")}},{enumerable:!0}),mg(SR,Ug,SR.entries,{name:\"entries\"}),mg(SR,\"toString\",(function(){return Bg(this).serialize()}),{enumerable:!0}),_g&&fg(SR,\"size\",{get:function(){return Bg(this).entries.length},configurable:!0,enumerable:!0}),Sg(TR,xg),lg({global:!0,constructor:!0,forced:!Eg},{URLSearchParams:TR}),!Eg&&Ig(Yg)){var gR=pg(zg.has),RR=pg(zg.set),CR=function(e){if(wg(e)){var t,i=e.body;if(Ag(i)===xg)return t=e.headers?new Yg(e.headers):new Yg,gR(t,\"content-type\")||RR(t,\"content-type\",\"application/x-www-form-urlencoded;charset=UTF-8\"),Ng(e,{body:Dg(0,Og(i)),headers:Dg(0,t)})}return e};if(Ig(Hg)&&lg({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(e){return Hg(e,arguments.length>1?CR(arguments[1]):{})}}),Ig(Kg)){var IR=function(e){return Cg(this,qg),new Kg(e,arguments.length>1?CR(arguments[1]):{})};qg.constructor=IR,IR.prototype=qg,lg({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:IR})}}var vR={URLSearchParams:TR,getState:Bg},yR=i(ie.URLSearchParams),AR={isBrowser:!0,classes:{URLSearchParams:void 0!==yR?yR:lm,FormData:\"undefined\"!=typeof FormData?FormData:null,Blob:\"undefined\"!=typeof Blob?Blob:null},protocols:[\"http\",\"https\",\"file\",\"blob\",\"url\",\"data\"]};const bR=\"undefined\"!=typeof window&&\"undefined\"!=typeof document,wR=(OR=\"undefined\"!=typeof navigator&&navigator.product,bR&&[\"ReactNative\",\"NativeScript\",\"NS\"].indexOf(OR)<0);var OR;const NR=\"undefined\"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&\"function\"==typeof self.importScripts;function DR(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function PR(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?DR(Object(i),!0).forEach((function(t){og(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):DR(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var LR=PR(PR({},Object.freeze({__proto__:null,hasBrowserEnv:bR,hasStandardBrowserEnv:wR,hasStandardBrowserWebWorkerEnv:NR})),AR);var kR=ii,MR=L,UR=Ze,xR=l,VR=function(){var e=kR(this),t=\"\";return e.hasIndices&&(t+=\"d\"),e.global&&(t+=\"g\"),e.ignoreCase&&(t+=\"i\"),e.multiline&&(t+=\"m\"),e.dotAll&&(t+=\"s\"),e.unicode&&(t+=\"u\"),e.unicodeSets&&(t+=\"v\"),e.sticky&&(t+=\"y\"),t},FR=RegExp.prototype,BR=function(e){var t=e.flags;return void 0!==t||\"flags\"in FR||UR(e,\"flags\")||!xR(FR,e)?t:MR(VR,e)},jR=Ch.charAt,GR=L,WR=ii,HR=w,KR=R,YR=/./.exec,qR=TypeError,zR=wi,JR=L,XR=v,QR=Va,ZR=ic,$R=J,eC=Bi,tC=mn,iC=ii,nC=Y,rC=R,oC=tn,sC=BR,aC=ke,cC=n,dC=Jc,lC=function(e,t,i){return t+(i?jR(e,t).length:1)},uC=function(e,t){var i=e.exec;if(HR(i)){var n=GR(i,e,t);return null!==n&&WR(n),n}if(\"RegExp\"===KR(e))return GR(YR,e,t);throw qR(\"RegExp#exec called on incompatible receiver\")},hC=ra,pC=ht(\"matchAll\"),_C=\"RegExp String\",EC=_C+\" Iterator\",mC=hC.set,fC=hC.getterFor(EC),TC=TypeError,SC=XR(\"\".indexOf),gC=XR(\"\".matchAll),RC=!!gC&&!cC((function(){gC(\"a\",/./)})),CC=QR((function(e,t,i,n){mC(this,{type:EC,regexp:e,string:t,global:i,unicode:n,done:!1})}),_C,(function(){var e=fC(this);if(e.done)return ZR(void 0,!0);var t=e.regexp,i=e.string,n=uC(t,i);return null===n?(e.done=!0,ZR(void 0,!0)):e.global?(\"\"===tC(n[0])&&(t.lastIndex=lC(i,eC(t.lastIndex),e.unicode)),ZR(n,!1)):(e.done=!0,ZR(n,!1))})),IC=function(e){var t,i,n,r=iC(this),o=tC(e),s=dC(r,RegExp),a=tC(sC(r));return t=new s(s===RegExp?r.source:r,a),i=!!~SC(a,\"g\"),n=!!~SC(a,\"u\"),t.lastIndex=eC(r.lastIndex),new CC(t,o,i,n)};zR({target:\"String\",proto:!0,forced:RC},{matchAll:function(e){var t,i,n,r,o=$R(this);if(nC(e)){if(RC)return gC(o,e)}else{if(oC(e)&&(t=tC($R(sC(e))),!~SC(t,\"g\")))throw TC(\"`.matchAll` does not allow non-global regexes\");if(RC)return gC(o,e);if(void 0===(n=aC(e,pC))&&\"RegExp\"==rC(e)&&(n=IC),n)return JR(n,e,o)}return i=tC(o),r=new RegExp(e,\"g\"),JR(IC,r,i)}});var vC=Xi(\"String\").matchAll,yC=l,AC=vC,bC=String.prototype,wC=function(e){var t=e.matchAll;return\"string\"==typeof e||e===bC||yC(bC,e)&&t===bC.matchAll?AC:t},OC=i(wC);function NC(e){function t(e,i,n,r){let o=e[r++];if(\"__proto__\"===o)return!0;const s=Number.isFinite(+o),a=r>=e.length;if(o=!o&&em.isArray(n)?n.length:o,a)return em.hasOwnProp(n,o)?n[o]=[n[o],i]:n[o]=i,!s;n[o]&&em.isObject(n[o])||(n[o]=[]);return t(e,i,n[o],r)&&em.isArray(n[o])&&(n[o]=function(e){const t={},i=Object.keys(e);let n;const r=i.length;let o;for(n=0;n<r;n++)o=i[n],t[o]=e[o];return t}(n[o])),!s}if(em.isFormData(e)&&em.isFunction(e.entries)){const i={};return em.forEachEntry(e,((e,n)=>{t(function(e){return OC(em).call(em,/\\w+|\\[(\\w*)]/g,e).map((e=>\"[]\"===e[0]?\"\":e[1]||e[0]))}(e),n,i,0)})),i}return null}const DC={transitional:Em,adapter:[\"xhr\",\"http\"],transformRequest:[function(e,t){const i=t.getContentType()||\"\",n=i.indexOf(\"application/json\")>-1,r=em.isObject(e);r&&em.isHTMLForm(e)&&(e=new FormData(e));if(em.isFormData(e))return n?JSON.stringify(NC(e)):e;if(em.isArrayBuffer(e)||em.isBuffer(e)||em.isStream(e)||em.isFile(e)||em.isBlob(e))return e;if(em.isArrayBufferView(e))return e.buffer;if(em.isURLSearchParams(e))return t.setContentType(\"application/x-www-form-urlencoded;charset=utf-8\",!1),e.toString();let o;if(r){if(i.indexOf(\"application/x-www-form-urlencoded\")>-1)return function(e,t){return cm(e,new LR.classes.URLSearchParams,Object.assign({visitor:function(e,t,i,n){return LR.isNode&&em.isBuffer(e)?(this.append(t,e.toString(\"base64\")),!1):n.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((o=em.isFileList(e))||i.indexOf(\"multipart/form-data\")>-1){const t=this.env&&this.env.FormData;return cm(o?{\"files[]\":e}:e,t&&new t,this.formSerializer)}}return r||n?(t.setContentType(\"application/json\",!1),function(e,t,i){if(em.isString(e))try{return(t||JSON.parse)(e),jp(em).call(em,e)}catch(e){if(\"SyntaxError\"!==e.name)throw e}return(i||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||DC.transitional,i=t&&t.forcedJSONParsing,n=\"json\"===this.responseType;if(e&&em.isString(e)&&(i&&!this.responseType||n)){const i=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(e){if(i){if(\"SyntaxError\"===e.name)throw tm.from(e,tm.ERR_BAD_RESPONSE,this,null,this.response);throw e}}}return e}],timeout:0,xsrfCookieName:\"XSRF-TOKEN\",xsrfHeaderName:\"X-XSRF-TOKEN\",maxContentLength:-1,maxBodyLength:-1,env:{FormData:LR.classes.FormData,Blob:LR.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:\"application/json, text/plain, */*\",\"Content-Type\":void 0}}};em.forEach([\"delete\",\"get\",\"head\",\"post\",\"put\",\"patch\"],(e=>{DC.headers[e]={}}));var PC=DC;const LC=em.toObjectSet([\"age\",\"authorization\",\"content-length\",\"content-type\",\"etag\",\"expires\",\"from\",\"host\",\"if-modified-since\",\"if-unmodified-since\",\"last-modified\",\"location\",\"max-forwards\",\"proxy-authorization\",\"referer\",\"retry-after\",\"user-agent\"]);const kC=Symbol(\"internals\");function MC(e){var t;return e&&jp(t=String(e)).call(t).toLowerCase()}function UC(e){return!1===e||null==e?e:em.isArray(e)?e.map(UC):String(e)}function xC(e,t,i,n,r){return em.isFunction(n)?n.call(this,t,i):(r&&(t=i),em.isString(t)?em.isString(n)?-1!==t.indexOf(n):em.isRegExp(n)?n.test(t):void 0:void 0)}class VC{constructor(e){e&&this.set(e)}set(e,t,i){const n=this;function r(e,t,i){const r=MC(t);if(!r)throw new Error(\"header name must be a non-empty string\");const o=em.findKey(n,r);(!o||void 0===n[o]||!0===i||void 0===i&&!1!==n[o])&&(n[o||t]=UC(e))}const o=(e,t)=>em.forEach(e,((e,i)=>r(e,i,t)));var s;return em.isPlainObject(e)||e instanceof this.constructor?o(e,t):em.isString(e)&&(e=jp(e).call(e))&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(jp(s=e).call(s))?o((e=>{const t={};let i,n,r;return e&&e.split(\"\\n\").forEach((function(e){var o,s;r=e.indexOf(\":\"),i=jp(o=e.substring(0,r)).call(o).toLowerCase(),n=jp(s=e.substring(r+1)).call(s),!i||t[i]&&LC[i]||(\"set-cookie\"===i?t[i]?t[i].push(n):t[i]=[n]:t[i]=t[i]?t[i]+\", \"+n:n)})),t})(e),t):null!=e&&r(t,e,i),this}get(e,t){if(e=MC(e)){const i=em.findKey(this,e);if(i){const e=this[i];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),i=/([^\\s,;=]+)\\s*(?:=\\s*([^,;]+))?/g;let n;for(;n=i.exec(e);)t[n[1]]=n[2];return t}(e);if(em.isFunction(t))return t.call(this,e,i);if(em.isRegExp(t))return t.exec(e);throw new TypeError(\"parser must be boolean|regexp|function\")}}}has(e,t){if(e=MC(e)){const i=em.findKey(this,e);return!(!i||void 0===this[i]||t&&!xC(0,this[i],i,t))}return!1}delete(e,t){const i=this;let n=!1;function r(e){if(e=MC(e)){const r=em.findKey(i,e);!r||t&&!xC(0,i[r],r,t)||(delete i[r],n=!0)}}return em.isArray(e)?e.forEach(r):r(e),n}clear(e){const t=Object.keys(this);let i=t.length,n=!1;for(;i--;){const r=t[i];e&&!xC(0,this[r],r,e,!0)||(delete this[r],n=!0)}return n}normalize(e){const t=this,i={};return em.forEach(this,((n,r)=>{var o;const s=em.findKey(i,r);if(s)return t[s]=UC(n),void delete t[r];const a=e?function(e){return jp(e).call(e).toLowerCase().replace(/([a-z\\d])(\\w*)/g,((e,t,i)=>t.toUpperCase()+i))}(r):jp(o=String(r)).call(o);a!==r&&delete t[r],t[a]=UC(n),i[a]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return em.forEach(this,((i,n)=>{null!=i&&!1!==i&&(t[n]=e&&em.isArray(i)?i.join(\", \"):i)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,i]=e;return t+\": \"+i})).join(\"\\n\")}get[Symbol.toStringTag](){return\"AxiosHeaders\"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];return n.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[kC]=this[kC]={accessors:{}}).accessors,i=this.prototype;function n(e){const n=MC(e);t[n]||(!function(e,t){const i=em.toCamelCase(\" \"+t);[\"get\",\"set\",\"has\"].forEach((n=>{Object.defineProperty(e,n+i,{value:function(e,i,r){return this[n].call(this,t,e,i,r)},configurable:!0})}))}(i,e),t[n]=!0)}return em.isArray(e)?e.forEach(n):n(e),this}}VC.accessor([\"Content-Type\",\"Content-Length\",\"Accept\",\"Accept-Encoding\",\"User-Agent\",\"Authorization\"]),em.reduceDescriptors(VC.prototype,((e,t)=>{let{value:i}=e,n=t[0].toUpperCase()+t.slice(1);return{get:()=>i,set(e){this[n]=e}}})),em.freezeMethods(VC);var FC=VC;function BC(e,t){const i=this||PC,n=t||i,r=FC.from(n.headers);let o=n.data;return em.forEach(e,(function(e){o=e.call(i,o,r.normalize(),t?t.status:void 0)})),r.normalize(),o}function jC(e){return!(!e||!e.__CANCEL__)}function GC(e,t,i){tm.call(this,null==e?\"canceled\":e,tm.ERR_CANCELED,t,i),this.name=\"CanceledError\"}em.inherits(GC,tm,{__CANCEL__:!0});var WC=LR.hasStandardBrowserEnv?{write(e,t,i,n,r,o){const s=[e+\"=\"+encodeURIComponent(t)];em.isNumber(i)&&s.push(\"expires=\"+new Date(i).toGMTString()),em.isString(n)&&s.push(\"path=\"+n),em.isString(r)&&s.push(\"domain=\"+r),!0===o&&s.push(\"secure\"),document.cookie=s.join(\"; \")},read(e){const t=document.cookie.match(new RegExp(\"(^|;\\\\s*)(\"+e+\")=([^;]*)\"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,\"\",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function HC(e,t){return e&&!function(e){return/^([a-z][a-z\\d+\\-.]*:)?\\/\\//i.test(e)}(t)?function(e,t){return t?e.replace(/\\/?\\/$/,\"\")+\"/\"+t.replace(/^\\/+/,\"\"):e}(e,t):t}var KC=LR.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement(\"a\");let i;function n(i){let n=i;return e&&(t.setAttribute(\"href\",n),n=t.href),t.setAttribute(\"href\",n),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,\"\"):\"\",host:t.host,search:t.search?t.search.replace(/^\\?/,\"\"):\"\",hash:t.hash?t.hash.replace(/^#/,\"\"):\"\",hostname:t.hostname,port:t.port,pathname:\"/\"===t.pathname.charAt(0)?t.pathname:\"/\"+t.pathname}}return i=n(window.location.href),function(e){const t=em.isString(e)?n(e):e;return t.protocol===i.protocol&&t.host===i.host}}():function(){return!0};function YC(e,t){let i=0;const n=function(e,t){e=e||10;const i=new Array(e),n=new Array(e);let r,o=0,s=0;return t=void 0!==t?t:1e3,function(a){const c=Date.now(),d=n[s];r||(r=c),i[o]=a,n[o]=c;let l=s,u=0;for(;l!==o;)u+=i[l++],l%=e;if(o=(o+1)%e,o===s&&(s=(s+1)%e),c-r<t)return;const h=d&&c-d;return h?Math.round(1e3*u/h):void 0}}(50,250);return r=>{const o=r.loaded,s=r.lengthComputable?r.total:void 0,a=o-i,c=n(a);i=o;const d={loaded:o,total:s,progress:s?o/s:void 0,bytes:a,rate:c||void 0,estimated:c&&s&&o<=s?(s-o)/c:void 0,event:r};d[t?\"download\":\"upload\"]=!0,e(d)}}var qC=\"undefined\"!=typeof XMLHttpRequest&&function(e){return new Gh((function(t,i){let n=e.data;const r=FC.from(e.headers).normalize();let o,s,{responseType:a,withXSRFToken:c}=e;function d(){e.cancelToken&&e.cancelToken.unsubscribe(o),e.signal&&e.signal.removeEventListener(\"abort\",o)}if(em.isFormData(n))if(LR.hasStandardBrowserEnv||LR.hasStandardBrowserWebWorkerEnv)r.setContentType(!1);else if(!1!==(s=r.getContentType())){const[e,...t]=s?s.split(\";\").map((e=>jp(e).call(e))).filter(Boolean):[];r.setContentType([e||\"multipart/form-data\",...t].join(\"; \"))}let l=new XMLHttpRequest;if(e.auth){const t=e.auth.username||\"\",i=e.auth.password?unescape(encodeURIComponent(e.auth.password)):\"\";r.set(\"Authorization\",\"Basic \"+btoa(t+\":\"+i))}const u=HC(e.baseURL,e.url);function h(){if(!l)return;const n=FC.from(\"getAllResponseHeaders\"in l&&l.getAllResponseHeaders());!function(e,t,i){const n=i.config.validateStatus;i.status&&n&&!n(i.status)?t(new tm(\"Request failed with status code \"+i.status,[tm.ERR_BAD_REQUEST,tm.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i)):e(i)}((function(e){t(e),d()}),(function(e){i(e),d()}),{data:a&&\"text\"!==a&&\"json\"!==a?l.response:l.responseText,status:l.status,statusText:l.statusText,headers:n,config:e,request:l}),l=null}if(l.open(e.method.toUpperCase(),pm(u,e.params,e.paramsSerializer),!0),l.timeout=e.timeout,\"onloadend\"in l?l.onloadend=h:l.onreadystatechange=function(){l&&4===l.readyState&&(0!==l.status||l.responseURL&&0===l.responseURL.indexOf(\"file:\"))&&setTimeout(h)},l.onabort=function(){l&&(i(new tm(\"Request aborted\",tm.ECONNABORTED,e,l)),l=null)},l.onerror=function(){i(new tm(\"Network Error\",tm.ERR_NETWORK,e,l)),l=null},l.ontimeout=function(){let t=e.timeout?\"timeout of \"+e.timeout+\"ms exceeded\":\"timeout exceeded\";const n=e.transitional||Em;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),i(new tm(t,n.clarifyTimeoutError?tm.ETIMEDOUT:tm.ECONNABORTED,e,l)),l=null},LR.hasStandardBrowserEnv&&(c&&em.isFunction(c)&&(c=c(e)),c||!1!==c&&KC(u))){const t=e.xsrfHeaderName&&e.xsrfCookieName&&WC.read(e.xsrfCookieName);t&&r.set(e.xsrfHeaderName,t)}void 0===n&&r.setContentType(null),\"setRequestHeader\"in l&&em.forEach(r.toJSON(),(function(e,t){l.setRequestHeader(t,e)})),em.isUndefined(e.withCredentials)||(l.withCredentials=!!e.withCredentials),a&&\"json\"!==a&&(l.responseType=e.responseType),\"function\"==typeof e.onDownloadProgress&&l.addEventListener(\"progress\",YC(e.onDownloadProgress,!0)),\"function\"==typeof e.onUploadProgress&&l.upload&&l.upload.addEventListener(\"progress\",YC(e.onUploadProgress)),(e.cancelToken||e.signal)&&(o=t=>{l&&(i(!t||t.type?new GC(null,e,l):t),l.abort(),l=null)},e.cancelToken&&e.cancelToken.subscribe(o),e.signal&&(e.signal.aborted?o():e.signal.addEventListener(\"abort\",o)));const p=function(e){const t=/^([-+\\w]{1,25})(:?\\/\\/|:)/.exec(e);return t&&t[1]||\"\"}(u);p&&-1===LR.protocols.indexOf(p)?i(new tm(\"Unsupported protocol \"+p+\":\",tm.ERR_BAD_REQUEST,e)):l.send(n||null)}))};const zC={http:null,xhr:qC};em.forEach(zC,((e,t)=>{if(e){try{Object.defineProperty(e,\"name\",{value:t})}catch(e){}Object.defineProperty(e,\"adapterName\",{value:t})}}));const JC=e=>\"- \".concat(e),XC=e=>em.isFunction(e)||null===e||!1===e;var QC={getAdapter:e=>{e=em.isArray(e)?e:[e];const{length:t}=e;let i,n;const r={};for(let o=0;o<t;o++){let t;if(i=e[o],n=i,!XC(i)&&(n=zC[(t=String(i)).toLowerCase()],void 0===n))throw new tm(\"Unknown adapter '\".concat(t,\"'\"));if(n)break;r[t||\"#\"+o]=n}if(!n){const e=Object.entries(r).map((e=>{let[t,i]=e;return\"adapter \".concat(t,\" \")+(!1===i?\"is not supported by the environment\":\"is not available in the build\")}));throw new tm(\"There is no suitable adapter to dispatch the request \"+(t?e.length>1?\"since :\\n\"+e.map(JC).join(\"\\n\"):\" \"+JC(e[0]):\"as no adapter specified\"),\"ERR_NOT_SUPPORT\")}return n},adapters:zC};function ZC(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new GC(null,e)}function $C(e){ZC(e),e.headers=FC.from(e.headers),e.data=BC.call(e,e.transformRequest),-1!==[\"post\",\"put\",\"patch\"].indexOf(e.method)&&e.headers.setContentType(\"application/x-www-form-urlencoded\",!1);return QC.getAdapter(e.adapter||PC.adapter)(e).then((function(t){return ZC(e),t.data=BC.call(e,e.transformResponse,t),t.headers=FC.from(t.headers),t}),(function(t){return jC(t)||(ZC(e),t&&t.response&&(t.response.data=BC.call(e,e.transformResponse,t.response),t.response.headers=FC.from(t.response.headers))),Gh.reject(t)}))}function eI(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}const tI=e=>e instanceof FC?function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?eI(Object(i),!0).forEach((function(t){og(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):eI(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},e):e;function iI(e,t){t=t||{};const i={};function n(e,t,i){return em.isPlainObject(e)&&em.isPlainObject(t)?em.merge.call({caseless:i},e,t):em.isPlainObject(t)?em.merge({},t):em.isArray(t)?t.slice():t}function r(e,t,i){return em.isUndefined(t)?em.isUndefined(e)?void 0:n(void 0,e,i):n(e,t,i)}function o(e,t){if(!em.isUndefined(t))return n(void 0,t)}function s(e,t){return em.isUndefined(t)?em.isUndefined(e)?void 0:n(void 0,e):n(void 0,t)}function a(i,r,o){return o in t?n(i,r):o in e?n(void 0,i):void 0}const c={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(e,t)=>r(tI(e),tI(t),!0)};return em.forEach(Object.keys(Object.assign({},e,t)),(function(n){const o=c[n]||r,s=o(e[n],t[n],n);em.isUndefined(s)&&o!==a||(i[n]=s)})),i}const nI=\"1.6.8\",rI={};[\"object\",\"boolean\",\"number\",\"function\",\"string\",\"symbol\"].forEach(((e,t)=>{rI[e]=function(i){return typeof i===e||\"a\"+(t<1?\"n \":\" \")+e}}));const oI={};rI.transitional=function(e,t,i){function n(e,t){return\"[Axios v\"+nI+\"] Transitional option '\"+e+\"'\"+t+(i?\". \"+i:\"\")}return(i,r,o)=>{if(!1===e)throw new tm(n(r,\" has been removed\"+(t?\" in \"+t:\"\")),tm.ERR_DEPRECATED);return t&&!oI[r]&&(oI[r]=!0,console.warn(n(r,\" has been deprecated since v\"+t+\" and will be removed in the near future\"))),!e||e(i,r,o)}};var sI={assertOptions:function(e,t,i){if(\"object\"!=typeof e)throw new tm(\"options must be an object\",tm.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let r=n.length;for(;r-- >0;){const o=n[r],s=t[o];if(s){const t=e[o],i=void 0===t||s(t,o,e);if(!0!==i)throw new tm(\"option \"+o+\" must be \"+i,tm.ERR_BAD_OPTION_VALUE)}else if(!0!==i)throw new tm(\"Unknown option \"+o,tm.ERR_BAD_OPTION)}},validators:rI};const aI=sI.validators;let cI=class{constructor(e){this.defaults=e,this.interceptors={request:new _m,response:new _m}}async request(e,t){try{return await this._request(e,t)}catch(e){if(e instanceof Error){let t;Error.captureStackTrace?Error.captureStackTrace(t={}):t=new Error;const i=t.stack?t.stack.replace(/^.+\\n/,\"\"):\"\";e.stack?i&&!String(e.stack).endsWith(i.replace(/^.+\\n.+\\n/,\"\"))&&(e.stack+=\"\\n\"+i):e.stack=i}throw e}}_request(e,t){\"string\"==typeof e?(t=t||{}).url=e:t=e||{},t=iI(this.defaults,t);const{transitional:i,paramsSerializer:n,headers:r}=t;void 0!==i&&sI.assertOptions(i,{silentJSONParsing:aI.transitional(aI.boolean),forcedJSONParsing:aI.transitional(aI.boolean),clarifyTimeoutError:aI.transitional(aI.boolean)},!1),null!=n&&(em.isFunction(n)?t.paramsSerializer={serialize:n}:sI.assertOptions(n,{encode:aI.function,serialize:aI.function},!0)),t.method=(t.method||this.defaults.method||\"get\").toLowerCase();let o=r&&em.merge(r.common,r[t.method]);r&&em.forEach([\"delete\",\"get\",\"head\",\"post\",\"put\",\"patch\",\"common\"],(e=>{delete r[e]})),t.headers=FC.concat(o,r);const s=[];let a=!0;this.interceptors.request.forEach((function(e){\"function\"==typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));const c=[];let d;this.interceptors.response.forEach((function(e){c.push(e.fulfilled,e.rejected)}));let l,u=0;if(!a){const e=[$C.bind(this),void 0];for(e.unshift.apply(e,s),e.push.apply(e,c),l=e.length,d=Gh.resolve(t);u<l;)d=d.then(e[u++],e[u++]);return d}l=s.length;let h=t;for(u=0;u<l;){const e=s[u++],t=s[u++];try{h=e(h)}catch(e){t.call(this,e);break}}try{d=$C.call(this,h)}catch(e){return Gh.reject(e)}for(u=0,l=c.length;u<l;)d=d.then(c[u++],c[u++]);return d}getUri(e){return pm(HC((e=iI(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}};em.forEach([\"delete\",\"get\",\"head\",\"options\"],(function(e){cI.prototype[e]=function(t,i){return this.request(iI(i||{},{method:e,url:t,data:(i||{}).data}))}})),em.forEach([\"post\",\"put\",\"patch\"],(function(e){function t(t){return function(i,n,r){return this.request(iI(r||{},{method:e,headers:t?{\"Content-Type\":\"multipart/form-data\"}:{},url:i,data:n}))}}cI.prototype[e]=t(),cI.prototype[e+\"Form\"]=t(!0)}));var dI=cI;class lI{constructor(e){if(\"function\"!=typeof e)throw new TypeError(\"executor must be a function.\");let t;this.promise=new Gh((function(e){t=e}));const i=this;this.promise.then((e=>{if(!i._listeners)return;let t=i._listeners.length;for(;t-- >0;)i._listeners[t](e);i._listeners=null})),this.promise.then=e=>{let t;const n=new Gh((e=>{i.subscribe(e),t=e})).then(e);return n.cancel=function(){i.unsubscribe(t)},n},e((function(e,n,r){i.reason||(i.reason=new GC(e,n,r),t(i.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;return{token:new lI((function(t){e=t})),cancel:e}}}var uI=lI;const hI={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(hI).forEach((e=>{let[t,i]=e;hI[i]=t}));var pI=hI;const _I=function e(t){const i=new dI(t),n=gE(dI.prototype.request,i);return em.extend(n,dI.prototype,i,{allOwnKeys:!0}),em.extend(n,i,null,{allOwnKeys:!0}),n.create=function(i){return e(iI(t,i))},n}(PC);_I.Axios=dI,_I.CanceledError=GC,_I.CancelToken=uI,_I.isCancel=jC,_I.VERSION=nI,_I.toFormData=cm,_I.AxiosError=tm,_I.Cancel=_I.CanceledError,_I.all=function(e){return Gh.all(e)},_I.spread=function(e){return function(t){return e.apply(null,t)}},_I.isAxiosError=function(e){return em.isObject(e)&&!0===e.isAxiosError},_I.mergeConfig=iI,_I.AxiosHeaders=FC,_I.formToJSON=e=>NC(em.isHTMLForm(e)?new FormData(e):e),_I.getAdapter=QC.getAdapter,_I.HttpStatusCode=pI,_I.default=_I;var EI=_I;const mI=()=>{};function fI(){const e={promise:void 0,isResolved:!1,isRejected:!1,isFinished:!1,resolve:void 0,reject:void 0,cancel:mI};return e.promise=new Gh(((t,i)=>{e.resolve=i=>{e.isFinished||(e.isResolved=!0,e.isFinished=!0,t(i),e.value=i)},e.reject=t=>{e.isFinished||(e.isRejected=!0,e.isFinished=!0,i(t))}})),e}const TI=new Map,SI=new Map,gI=new Map;let RI=function(e){return e.WIN_10=\"Windows 10\",e.WIN_81=\"Windows 8.1\",e.WIN_8=\"Windows 8\",e.WIN_7=\"Windows 7\",e.WIN_VISTA=\"Windows Vista\",e.WIN_SERVER_2003=\"Windows Server 2003\",e.WIN_XP=\"Windows XP\",e.WIN_2000=\"Windows 2000\",e.ANDROID=\"Android\",e.HARMONY_OS=\"HarmonyOS\",e.OPEN_BSD=\"Open BSD\",e.SUN_OS=\"Sun OS\",e.LINUX=\"Linux\",e.IOS=\"iOS\",e.MAC_OS=\"Mac OS\",e.CHROMIUM_OS=\"Chromium OS\",e.QNX=\"QNX\",e.UNIX=\"UNIX\",e.BEOS=\"BeOS\",e.OS_2=\"OS/2\",e.SEARCH_BOT=\"Search Bot\",e}({}),CI=function(e){return e.CHROME=\"Chrome\",e.SAFARI=\"Safari\",e.EDGE=\"Edge\",e.FIREFOX=\"Firefox\",e.OPERA=\"OPR\",e.QQ=\"QQBrowser\",e.WECHAT=\"MicroMessenger\",e}({});const II=new dE;let vI=II.getResult(),yI=null;function AI(e){if(!yI){e&&II.setUA(e),vI=II.getResult();const t=function(e){if(\"Blink\"===e.engine.name&&\"WeChat\"!==e.browser.name)return CI.CHROME;switch(e.browser.name){case\"Chrome Headless\":case\"Chrome\":case\"Chromium\":return CI.CHROME;case\"Safari\":case\"Mobile Safari\":return CI.SAFARI;case\"Edge\":return CI.EDGE;case\"Firefox\":return CI.FIREFOX;case\"QQ\":case\"QQBrowser\":return CI.QQ;case\"Opera\":return CI.OPERA;case\"WeChat\":return CI.WECHAT;default:return e.browser.name||\"\"}}(vI),i=bI(vI),n=function(e){return\"Windows\"===e.os.name?e.os.version?e.os.name+\" \"+e.os.version:e.os.name:e.os.name||\"\"}(vI),r=vI.os.version,o=bI(vI,!1),s=vI.device.type;if(!(t&&i&&n&&r))return{name:t,version:i,os:n,osVersion:r,browserVersion:o,deviceType:s};yI={name:t,version:i,os:n,osVersion:r,browserVersion:o,deviceType:s}}return yI}function bI(e){let t,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t=\"Blink\"===e.engine.name?e.engine.version||\"\":e.browser.version||\"\",i?t.split(\".\")[0]:t}function wI(){return AI().os}function OI(){const e=AI();return\"\".concat(e.os,\" \").concat(e.osVersion)}function NI(){const e=AI();return!!(\"WebKit\"===vI.engine.name&&e.os===RI.MAC_OS&&navigator.maxTouchPoints&&navigator.maxTouchPoints>0&&e.name!==CI.SAFARI||MI()&&e.name!==CI.SAFARI)}function DI(){return AI().name===CI.CHROME}function PI(){return AI().name===CI.SAFARI}function LI(){return AI().name===CI.EDGE}function kI(){return AI().name===CI.FIREFOX}function MI(){return AI().os===RI.IOS}function UI(e){const t=AI();return!(t.name!==CI.CHROME||!t.osVersion)&&Number(t.version)>=e}function xI(e){const t=AI();return!(t.name!==CI.CHROME||!t.osVersion)&&Number(t.version)<e}function VI(e){const t=AI();return!(t.name!==CI.EDGE||!t.osVersion)&&Number(t.version)>=e}function FI(e){const t=AI();return!(t.name!==CI.SAFARI||!t.osVersion)&&Number(t.version)>=e}function BI(e,t,i){const n=AI();if(n.os!==RI.IOS||!n.osVersion)return!1;const r=n.osVersion.split(\".\");return i?t&&Number(r[0])===e&&Number(r[1])<t||Number(r[0])<e:t?Number(r[0])===e&&Number(r[1])<=t||Number(r[0])<e:Number(r[0])<=e}function jI(e,t,i){const n=AI();if(n.name!==CI.SAFARI||!n.osVersion||!n.browserVersion)return!1;const r=n.browserVersion.split(\".\");return i?t&&Number(r[0])===e&&Number(r[1])<t||Number(r[0])<e:t?Number(r[0])===e&&Number(r[1])<=t||Number(r[0])<e:Number(r[0])<=e}function GI(e){const t=AI();return!(t.name!==CI.OPERA||!t.osVersion)&&Number(t.version)>=e}function WI(){const e=AI();if(e.os!==RI.IOS||!e.osVersion)return!1;const t=e.osVersion.split(\".\");return Number(t[0])<14||14===Number(t[0])&&Number(t[1])<=6}function HI(){const e=AI();if(e.os!==RI.IOS||!e.osVersion)return!1;const t=e.osVersion.split(\".\");return 15===Number(t[0])}function KI(){const e=AI();if(e.os!==RI.IOS||!e.osVersion)return!1;const t=e.osVersion.split(\".\");return 16===Number(t[0])}function YI(){const e=AI();if(e.os!==RI.IOS||!e.osVersion)return!1;const t=e.osVersion.split(\".\");return 15===Number(t[0])&&Number(t[1])>=1}function qI(){return PI()&&navigator.maxTouchPoints>0}function zI(){return AI().name===CI.WECHAT}function JI(){return window.navigator.appVersion&&null!==window.navigator.appVersion.match(/Chrome\\/([\\w\\W]*?)\\./)&&window.navigator.appVersion.match(/Chrome\\/([\\w\\W]*?)\\./)[1]<=35}function XI(){const e=wI();return function(){const{deviceType:e}=AI();return\"mobile\"===e||\"tablet\"===e}()||e===RI.ANDROID||e===RI.IOS||e===RI.HARMONY_OS}function QI(){const e=AI();return e.name!==CI.EDGE&&e.name!==CI.SAFARI&&!!navigator.userAgent.toLocaleLowerCase().match(/chrome\\/[\\d]./i)}function ZI(){return wI()===RI.ANDROID}function $I(){const e=AI();return ZI()&&(e.name===CI.CHROME||e.name===CI.WECHAT||/chrome|chromium/i.test(navigator.userAgent))}function ev(e,t,i){return(t=function(e){var t=function(e,t){if(\"object\"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,\"string\");if(\"object\"!=typeof n)return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==typeof t?t:t+\"\"}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function tv(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function iv(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?tv(Object(i),!0).forEach((function(t){ev(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):tv(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}let nv=function(e){return e.UNEXPECTED_ERROR=\"UNEXPECTED_ERROR\",e.UNEXPECTED_RESPONSE=\"UNEXPECTED_RESPONSE\",e.TIMEOUT=\"TIMEOUT\",e.INVALID_PARAMS=\"INVALID_PARAMS\",e.NOT_READABLE=\"NOT_READABLE\",e.NOT_SUPPORTED=\"NOT_SUPPORTED\",e.INVALID_OPERATION=\"INVALID_OPERATION\",e.OPERATION_ABORTED=\"OPERATION_ABORTED\",e.WEB_SECURITY_RESTRICT=\"WEB_SECURITY_RESTRICT\",e.EXCHANGE_SDP_FAILED=\"EXCHANGE_SDP_FAILED\",e.ADD_CANDIDATE_FAILED=\"ADD_CANDIDATE_FAILED\",e.DATACHANNEL_FAILED=\"DATACHANNEL_FAILED\",e.NETWORK_ERROR=\"NETWORK_ERROR\",e.NETWORK_TIMEOUT=\"NETWORK_TIMEOUT\",e.NETWORK_RESPONSE_ERROR=\"NETWORK_RESPONSE_ERROR\",e.API_INVOKE_TIMEOUT=\"API_INVOKE_TIMEOUT\",e.ENUMERATE_DEVICES_FAILED=\"ENUMERATE_DEVICES_FAILED\",e.DEVICE_NOT_FOUND=\"DEVICE_NOT_FOUND\",e.ELECTRON_IS_NULL=\"ELECTRON_IS_NULL\",e.ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR=\"ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR\",e.CHROME_PLUGIN_NO_RESPONSE=\"CHROME_PLUGIN_NO_RESPONSE\",e.CHROME_PLUGIN_NOT_INSTALL=\"CHROME_PLUGIN_NOT_INSTALL\",e.MEDIA_OPTION_INVALID=\"MEDIA_OPTION_INVALID\",e.PERMISSION_DENIED=\"PERMISSION_DENIED\",e.CONSTRAINT_NOT_SATISFIED=\"CONSTRAINT_NOT_SATISFIED\",e.TRACK_IS_DISABLED=\"TRACK_IS_DISABLED\",e.GET_VIDEO_ELEMENT_VISIBLE_ERROR=\"GET_VIDEO_ELEMENT_VISIBLE_ERROR\",e.SHARE_AUDIO_NOT_ALLOWED=\"SHARE_AUDIO_NOT_ALLOWED\",e.LOW_STREAM_ENCODING_ERROR=\"LOW_STREAM_ENCODING_ERROR\",e.SET_ENCODING_PARAMETER_ERROR=\"SET_ENCODING_PARAMETER_ERROR\",e.TRACK_STATE_UNREACHABLE=\"TRACK_STATE_UNREACHABLE\",e.INVALID_UINT_UID_FROM_STRING_UID=\"INVALID_UINT_UID_FROM_STRING_UID\",e.CAN_NOT_GET_PROXY_SERVER=\"CAN_NOT_GET_PROXY_SERVER\",e.CAN_NOT_GET_GATEWAY_SERVER=\"CAN_NOT_GET_GATEWAY_SERVER\",e.VOID_GATEWAY_ADDRESS=\"VOID_GATEWAY_ADDRESS\",e.UID_CONFLICT=\"UID_CONFLICT\",e.MULTI_UNILBS_RESPONSE_ERROR=\"MULTI_UNILBS_RESPONSE_ERROR\",e.UPDATE_TICKET_FAILED=\"UPDATE_TICKET_FAILED\",e.INVALID_LOCAL_TRACK=\"INVALID_LOCAL_TRACK\",e.INVALID_TRACK=\"INVALID_TRACK\",e.SENDER_NOT_FOUND=\"SENDER_NOT_FOUND\",e.CREATE_OFFER_FAILED=\"CREATE_OFFER_FAILED\",e.SET_ANSWER_FAILED=\"SET_ANSWER_FAILED\",e.ICE_FAILED=\"ICE_FAILED\",e.PC_CLOSED=\"PC_CLOSED\",e.SENDER_REPLACE_FAILED=\"SENDER_REPLACE_FAILED\",e.GET_LOCAL_CAPABILITIES_FAILED=\"GET_LOCAL_CAPABILITIES_FAILED\",e.GET_LOCAL_CONNECTION_PARAMS_FAILED=\"GET_LOCAL_CONNECTION_PARAMS_FAILED\",e.SUBSCRIBE_FAILED=\"SUBSCRIBE_FAILED\",e.UNSUBSCRIBE_FAILED=\"UNSUBSCRIBE_FAILED\",e.GATEWAY_P2P_LOST=\"GATEWAY_P2P_LOST\",e.NO_ICE_CANDIDATE=\"NO_ICE_CANDIDATE\",e.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS=\"CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS\",e.EXIST_DISABLED_VIDEO_TRACK=\"EXIST_DISABLED_VIDEO_TRACK\",e.INVALID_REMOTE_USER=\"INVALID_REMOTE_USER\",e.REMOTE_USER_IS_NOT_PUBLISHED=\"REMOTE_USER_IS_NOT_PUBLISHED\",e.CUSTOM_REPORT_SEND_FAILED=\"CUSTOM_REPORT_SEND_FAILED\",e.CUSTOM_REPORT_FREQUENCY_TOO_HIGH=\"CUSTOM_REPORT_FREQUENCY_TOO_HIGH\",e.FETCH_AUDIO_FILE_FAILED=\"FETCH_AUDIO_FILE_FAILED\",e.READ_LOCAL_AUDIO_FILE_ERROR=\"READ_LOCAL_AUDIO_FILE_ERROR\",e.DECODE_AUDIO_FILE_FAILED=\"DECODE_AUDIO_FILE_FAILED\",e.WS_ABORT=\"WS_ABORT\",e.WS_DISCONNECT=\"WS_DISCONNECT\",e.WS_ERR=\"WS_ERR\",e.EXTERNAL_SIGNAL_ABORT=\"EXTERNAL_SIGNAL_ABORT\",e.LIVE_STREAMING_TASK_CONFLICT=\"LIVE_STREAMING_TASK_CONFLICT\",e.LIVE_STREAMING_INVALID_ARGUMENT=\"LIVE_STREAMING_INVALID_ARGUMENT\",e.LIVE_STREAMING_INTERNAL_SERVER_ERROR=\"LIVE_STREAMING_INTERNAL_SERVER_ERROR\",e.LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED=\"LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED\",e.LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED=\"LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED\",e.LIVE_STREAMING_CDN_ERROR=\"LIVE_STREAMING_CDN_ERROR\",e.LIVE_STREAMING_INVALID_RAW_STREAM=\"LIVE_STREAMING_INVALID_RAW_STREAM\",e.LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT=\"LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT\",e.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE=\"LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE\",e.LIVE_STREAMING_WARN_FREQUENT_REQUEST=\"LIVE_STREAMING_WARN_FREQUENT_REQUEST\",e.WEBGL_INTERNAL_ERROR=\"WEBGL_INTERNAL_ERROR\",e.BEAUTY_PROCESSOR_INTERNAL_ERROR=\"BEAUTY_PROCESSOR_INTERNAL_ERROR\",e.CROSS_CHANNEL_WAIT_STATUS_ERROR=\"CROSS_CHANNEL_WAIT_STATUS_ERROR\",e.CROSS_CHANNEL_FAILED_JOIN_SRC=\"CROSS_CHANNEL_FAILED_JOIN_SEC\",e.CROSS_CHANNEL_FAILED_JOIN_DEST=\"CROSS_CHANNEL_FAILED_JOIN_DEST\",e.CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST=\"CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST\",e.CROSS_CHANNEL_SERVER_ERROR_RESPONSE=\"CROSS_CHANNEL_SERVER_ERROR_RESPONSE\",e.METADATA_OUT_OF_RANGE=\"METADATA_OUT_OF_RANGE\",e.LOCAL_AEC_ERROR=\"LOCAL_AEC_ERROR\",e.INVALID_PLUGIN=\"INVALID_PLUGIN\",e.DISCONNECT_P2P=\"DISCONNECT_P2P\",e.CONVERTING_IMAGEDATA_TO_BLOB_FAILED=\"CONVERTING_IMAGEDATA_TO_BLOB_FAILED\",e.CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED=\"CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED\",e.INIT_DATACHANNEL_TIMEOUT=\"INIT_DATACHANNEL_TIMEOUT\",e.CREATE_DATACHANNEL_ERROR=\"CREATE_DATACHANNEL_ERROR\",e.DATACHANNEL_CONNECTION_TIMEOUT=\"DATACHANNEL_CONNECTION_TIMEOUT\",e.PROHIBITED_OPERATION=\"PROHIBITED_OPERATION\",e.IMAGE_MODERATION_UPLOAD_FAILED=\"IMAGE_MODERATION_UPLOAD_FAILED\",e.P2P_MESSAGE_FAILED=\"P2P_MESSAGE_FAILED\",e}({}),rv=class extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"\",i=arguments.length>2?arguments[2]:void 0;super(t),ev(this,\"code\",void 0),ev(this,\"message\",void 0),ev(this,\"data\",void 0),ev(this,\"name\",\"AgoraRTCException\"),this.code=e,this.message=\"AgoraRTCError \".concat(this.code,\": \").concat(t),this.data=i}toString(){return this.data?\"data: \".concat(JSON.stringify(this.data),\"\\n\").concat(this.stack):\"\".concat(this.stack)}print(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"error\",t=arguments.length>1?arguments[1]:void 0;return\"error\"===e&&(t||console).error(this.toString()),\"warning\"===e&&(t||console).warn(this.toString()),this}throw(e){throw this.print(\"error\",e),this}};function ov(e,t){if(\"boolean\"!=typeof e)throw new rv(nv.INVALID_PARAMS,\"Invalid \".concat(t,\": The value is of the boolean type.\"))}function sv(e,t,i){if(!Dn(i).call(i,e))throw new rv(nv.INVALID_PARAMS,\"\".concat(t,\" can only be set as \").concat(JSON.stringify(i)))}function av(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e4;if(e<i||e>n||(!(arguments.length>4&&void 0!==arguments[4])||arguments[4])&&!function(e){return\"number\"==typeof e&&e%1==0}(e))throw new rv(nv.INVALID_PARAMS,\"invalid \".concat(t,\": the value range is [\").concat(i,\", \").concat(n,\"]. integer only\"))}function cv(e,t){if(\"number\"!=typeof e){if(!(e.min||e.max||e.ideal||e.exact))throw new rv(nv.INVALID_PARAMS,\"\".concat(t,\" is not a valid ConstrainLong\"));void 0!==e.min&&av(e.min,\"\".concat(t,\".min\"),0,1/0),void 0!==e.max&&av(e.max,\"\".concat(t,\".max\"),1,1/0),void 0!==e.exact&&av(e.exact,\"\".concat(t,\".exact\"),1,1/0),void 0!==e.ideal&&av(e.ideal,\"\".concat(t,\".ideal\"),1,1/0)}else av(e,t,1,1/0)}function dv(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:255,r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(null==e)throw new rv(nv.INVALID_PARAMS,\"\".concat(t||\"param\",\" cannot be empty\"));if(!hv(e,i,n,r))throw new rv(nv.INVALID_PARAMS,\"Invalid \".concat(t||\"string param\",\": Length of the string: [\").concat(i,\",\").concat(n,\"].\").concat(r?\" ASCII characters only.\":\"\"))}function lv(e,t){if(!Array.isArray(e))throw new rv(nv.INVALID_PARAMS,\"\".concat(t,\" should be an array\"))}function uv(e){return null==e}function hv(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:255,n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return\"string\"==typeof e&&e.length<=i&&e.length>=t&&(!n||function(e){if(\"string\"!=typeof e)return!1;for(let t=0;t<e.length;t+=1){const i=e.charCodeAt(t);if(i<0||i>255)return!1}return!0}(e))}var pv=function(e){return e.COVERED=\"COVERED\",e.POSITION=\"POSITION\",e.SIZE=\"SIZE\",e.STYLE=\"STYLE\",e}(pv||{}),_v=function(e){return e.UNMOUNTED=\"UNMOUNTED\",e.INVALID_HTML_ELEMENT=\"INVALID_HTML_ELEMENT\",e}(_v||{});const Ev=new class{constructor(){ev(this,\"_clientSize\",null),ev(this,\"getClientWidth\",(()=>document.documentElement?document.documentElement.clientWidth:document.body.clientWidth)),ev(this,\"getClientHeight\",(()=>document.documentElement?document.documentElement.clientHeight:document.body.clientHeight)),ev(this,\"getStyle\",(e=>window.getComputedStyle(e,null))),ev(this,\"checkCssVisibleProperty\",(e=>{var t;let i=!0;const n=this.getStyle(e),{display:r,visibility:o,opacity:s,filter:a}=n;return(\"none\"===r||Dn(t=[\"hidden\",\"collapse\"]).call(t,o)||Number(s)<.1)&&(i=!1),!!i&&(a&&a.split(\" \").filter((e=>{var t;const i=e.split(\"(\")[0];return Dn(t=[\"brightness\",\"blur\",\"opacity\"]).call(t,i)})).map((e=>{const[t,i]=e.split(/\\(|\\)/);return[t,Number(i.match(/^[0-9\\.]+/))]})).forEach((e=>{const[t,n]=e;switch(t){case\"brightness\":(n<.1||n>3)&&(i=!1);break;case\"blur\":n>3&&(i=!1);break;case\"opacity\":n<.1&&(i=!1)}})),i)})),ev(this,\"checkPropertyUpToAllParentNodes\",((e,t)=>{let i=!0,n=!0;const r=e=>t(e);let o=e;for(;o&&n;)r(o)||(i=!1,n=!1),o=o.parentElement,o||(n=!1);return i})),ev(this,\"checkActualCssVisibleIncludeInherit\",(e=>this.checkPropertyUpToAllParentNodes(e,this.checkCssVisibleProperty))),ev(this,\"getSizeAboutClient\",(e=>{const{width:t,height:i,left:n,right:r,top:o,bottom:s}=e.getBoundingClientRect(),a=this.getClientWidth(),c=this.getClientHeight();return{width:t,height:i,left:n,right:r,top:o,bottom:s,clientWidth:a,clientHeight:c,clientMin:Math.min(a,c)}})),ev(this,\"checkActualSize\",(()=>{const{width:e,height:t,clientMin:i}=this._clientSize;return this.checkSizeIsVisible(e,t,i)})),ev(this,\"elementFromPoint\",((e,t)=>document.elementFromPoint?document.elementFromPoint(e,t):null)),ev(this,\"checkCoverForAPoint\",((e,t,i)=>{const n=this.elementFromPoint(e,t);return null!==n&&n!==i})),ev(this,\"getPointPositionList\",(()=>{const{width:e,height:t,left:i,top:n}=this._clientSize,r=e/6,o=t/6,s=[],a=10**6;for(let e=0;e<5;e++)for(let t=0;t<5;t++){const c=(i*a+(0===e?.1:4===e?(r*e*a-1e5)/a:r*e)*a)/a,d=(n*a+(0===t?.1:4===t?(o*t*a-1e5)/a:o*t)*a)/a;s.push({x:c,y:d})}return[...s]})),ev(this,\"checkElementCover\",(e=>this.getPointPositionList().map((t=>this.checkCoverForAPoint(t.x,t.y,e))).filter((e=>!!e)).length>6)),ev(this,\"checkSizeIsVisible\",((e,t,i)=>(e>50||i/e<=10)&&(t>50||i/t<=10))),ev(this,\"checkSizeOfPartInClient\",(()=>{const{left:e,right:t,top:i,bottom:n,clientHeight:r,clientWidth:o,clientMin:s}=this._clientSize;let a,c,d,l;if(e<0)a=0;else{if(!(e<o))return!1;a=e}if(t<0)return!1;if(c=t<o?t:o,i<0)d=0;else{if(!(i<r))return!1;d=i}if(n<0)return!1;l=n<r?n:r;const u=c-a,h=l-d;return this.checkSizeIsVisible(u,h,s)})),ev(this,\"returnHiddenResult\",(e=>(this._clientSize=null,{visible:!1,reason:e}))),ev(this,\"checkOneElementVisible\",(e=>{if(e instanceof HTMLElement){if(this.checkElementIsMountedOnDom(e)){if(this.checkActualCssVisibleIncludeInherit(e)){if(this._clientSize=this.getSizeAboutClient(e),this.checkElementCover(e))return this.returnHiddenResult(pv.COVERED);{const e=this.checkActualSize(),t=this.checkSizeOfPartInClient();return e&&!t?this.returnHiddenResult(pv.POSITION):e?(this._clientSize=null,{visible:!0}):this.returnHiddenResult(pv.SIZE)}}return this.returnHiddenResult(pv.STYLE)}return this.returnHiddenResult(_v.UNMOUNTED)}return this.returnHiddenResult(_v.INVALID_HTML_ELEMENT)})),ev(this,\"checkElementIsMountedOnDom\",(e=>this.checkPropertyUpToAllParentNodes(e,(e=>\"HTML\"!==e.nodeName.toUpperCase()?null!==e.parentElement:!!document.documentElement))))}};function mv(e){return(new TextEncoder).encode(e)}const fv=function(e,t){const i=new Uint8Array(e.byteLength+t.byteLength);return i.set(new Uint8Array(e),0),i.set(new Uint8Array(t),e.byteLength),i};const Tv=async e=>function(e,t){let i=\"\";return new Uint8Array(e).forEach((e=>{i+=e.toString(t).padStart(2,\"0\")})),i}(await crypto.subtle.digest(\"SHA-256\",mv(e)),16);let Sv=class{constructor(){ev(this,\"_events\",{}),ev(this,\"addListener\",this.on)}getListeners(e){return this._events[e]?this._events[e].map((e=>e.listener)):[]}on(e,t){this._events[e]||(this._events[e]=[]);const i=this._events[e];-1===this._indexOfListener(i,t)&&i.push({listener:t,once:!1})}once(e,t){this._events[e]||(this._events[e]=[]);const i=this._events[e];-1===this._indexOfListener(i,t)&&i.push({listener:t,once:!0})}off(e,t){if(!this._events[e])return;const i=this._events[e],n=this._indexOfListener(i,t);-1!==n&&i.splice(n,1),0===this._events[e].length&&delete this._events[e]}removeAllListeners(e){e?delete this._events[e]:this._events={}}emit(e){this._events[e]||(this._events[e]=[]);const t=this._events[e].map((e=>e));for(var i=arguments.length,n=new Array(i>1?i-1:0),r=1;r<i;r++)n[r-1]=arguments[r];for(let i=0;i<t.length;i+=1){const r=t[i];r.once&&this.off(e,r.listener),r.listener.apply(this,n||[])}}safeEmit(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];[...this._events[e]||[]].forEach((t=>{t.once&&this.off(e,t.listener);try{t.listener.apply(this,i)}catch(t){console.error(\"safeEmit event:\".concat(e,\" error \").concat(null==t?void 0:t.toString()))}}))}_indexOfListener(e,t){let i=e.length;for(;i--;)if(e[i].listener===t)return i;return-1}};let gv=null;function Rv(){if(gv)return gv;if(window.electron)return gv=window.electron;if(!window.require)return null;try{return gv=window.require(\"electron\"),gv}catch(e){return null}}let Cv=function(e){return e.CREATE_CLIENT=\"createClient\",e.CHECK_SYSTEM_REQUIREMENTS=\"checkSystemRequirements\",e.SET_AREA=\"setArea\",e.PRELOAD=\"PRELOAD\",e.CHECK_VIDEO_TRACK_IS_ACTIVE=\"checkVideoTrackIsActive\",e.CHECK_AUDIO_TRACK_IS_ACTIVE=\"checkAudioTrackIsActive\",e.CREATE_MIC_AUDIO_TRACK=\"createMicrophoneAudioTrack\",e.CREATE_CUSTOM_AUDIO_TRACK=\"createCustomAudioTrack\",e.CREATE_BUFFER_AUDIO_TRACK=\"createBufferSourceAudioTrack\",e.CREATE_CAM_VIDEO_TRACK=\"createCameraVideoTrack\",e.CREATE_CUSTOM_VIDEO_TRACK=\"createCustomVideoTrack\",e.CREATE_MIC_AND_CAM_TRACKS=\"createMicrophoneAndCameraTracks\",e.CREATE_SCREEN_VIDEO_TRACK=\"createScreenVideoTrack\",e.SET_ENCRYPTION_CONFIG=\"Client.setEncryptionConfig\",e.START_PROXY_SERVER=\"Client.startProxyServer\",e.STOP_PROXY_SERVER=\"Client.stopProxyServer\",e.SET_PROXY_SERVER=\"Client.setProxyServer\",e.SET_TURN_SERVER=\"Client.setTurnServer\",e.SET_CLIENT_ROLE=\"Client.setClientRole\",e.SET_LOW_STREAM_PARAMETER=\"Client.setLowStreamParameter\",e.ENABLE_DUAL_STREAM=\"Client.enableDualStream\",e.DISABLE_DUAL_STREAM=\"Client.disableDualStream\",e.JOIN=\"Client.join\",e.LEAVE=\"Client.leave\",e.PUBLISH=\"Client.publish\",e.UNPUBLISH=\"Client.unpublish\",e.SUBSCRIBE=\"Client.subscribe\",e.MASS_SUBSCRIBE=\"Client.massSubscribe\",e.MASS_UNSUBSCRIBE=\"Client.massUnsubscribe\",e.UNSUBSCRIBE=\"Client.unsubscribe\",e.RENEW_TOKEN=\"Client.renewToken\",e.SET_REMOTE_VIDEO_STREAM_TYPE=\"Client.setRemoteVideoStreamType\",e.SET_STREAM_FALLBACK_OPTION=\"Client.setStreamFallbackOption\",e.ENABLE_AUDIO_VOLUME_INDICATOR=\"Client.enableAudioVolumeIndicator\",e.SEND_CUSTOM_REPORT_MESSAGE=\"Client.sendCustomReportMessage\",e.INSPECT_VIDEO_CONTENT=\"Client.inspectVideoContent\",e.STOP_INSPECT_VIDEO_CONTENT=\"Client.stopInspectVideoContent\",e.JOIN_FALLBACK_TO_PROXY=\"Client._joinFallbackToProxy\",e.ON_LIVE_STREAM_WARNING=\"Client.onLiveStreamWarning\",e.ON_LIVE_STREAM_ERROR=\"Client.onLiveStreamingError\",e.START_LIVE_STREAMING=\"Client.startLiveStreaming\",e.SET_LIVE_TRANSCODING=\"Client.setLiveTranscoding\",e.STOP_LIVE_STREAMING=\"Client.stopLiveStreaming\",e.START_CHANNEL_MEDIA_RELAY=\"Client.startChannelMediaRelay\",e.UPDATE_CHANNEL_MEDIA_RELAY=\"Client.updateChannelMediaRelay\",e.STOP_CHANNEL_MEDIA_RELAY=\"Client.stopChannelMediaRelay\",e.REQUEST_CONFIG_DISTRIBUTE=\"_config-distribute-request\",e.SET_CONFIG_DISTRIBUTE=\"_configDistribute\",e.LOCAL_TRACK_SET_MUTED=\"LocalTrack.setMute\",e.LOCAL_AUDIO_TRACK_PLAY=\"LocalAudioTrack.play\",e.LOCAL_AUDIO_TRACK_PLAY_IN_ELEMENT=\"LocalAudioTrack.playInElement\",e.LOCAL_AUDIO_TRACK_STOP=\"LocalAudioTrack.stop\",e.LOCAL_AUDIO_TRACK_SET_VOLUME=\"LocalAudioTrack.setVolume\",e.MIC_AUDIO_TRACK_SET_DEVICE=\"MicrophoneAudioTrack.setDevice\",e.BUFFER_AUDIO_TRACK_START=\"BufferSourceAudioTrack.startProcessAudioBuffer\",e.BUFFER_AUDIO_TRACK_STOP=\"BufferSourceAudioTrack.stopProcessAudioBuffer\",e.BUFFER_AUDIO_TRACK_PAUSE=\"BufferSourceAudioTrack.pauseProcessAudioBuffer\",e.BUFFER_AUDIO_TRACK_RESUME=\"BufferSourceAudioTrack.resumeProcessAudioBuffer\",e.BUFFER_AUDIO_TRACK_SEEK=\"BufferSourceAudioTrack.seekAudioBuffer\",e.LOCAL_VIDEO_TRACK_PLAY=\"LocalVideoTrack.play\",e.LOCAL_VIDEO_TRACK_STOP=\"LocalVideoTrack.stop\",e.LOCAL_VIDEO_TRACK_GET_VIDEO_VISIBLE=\"LocalVideoTrack.getVideoElementVisibleStatus\",e.LOCAL_VIDEO_TRACK_BEAUTY=\"LocalVideoTrack.setBeautyEffect\",e.LOCAL_VIDEO_SEND_SEI_DATA=\"LocalVideoTrack.sendSeiData\",e.CAM_VIDEO_TRACK_SET_DEVICE=\"CameraVideoTrack.setDevice\",e.CAM_VIDEO_TRACK_SET_ENCODER_CONFIG=\"CameraVideoTrack.setEncoderConfiguration\",e.REMOTE_VIDEO_TRACK_PLAY=\"RemoteVideoTrack.play\",e.REMOTE_VIDEO_TRACK_STOP=\"RemoteVideoTrack.stop\",e.REMOTE_VIDEO_TRACK_GET_VIDEO_VISIBLE=\"RemoteVideoTrack.getVideoElementVisibleStatus\",e.REMOTE_AUDIO_TRACK_PLAY=\"RemoteAudioTrack.play\",e.REMOTE_AUDIO_TRACK_STOP=\"RemoteAudioTrack.stop\",e.REMOTE_AUDIO_SET_VOLUME=\"RemoteAudioTrack.setVolume\",e.REMOTE_AUDIO_SET_OUTPUT_DEVICE=\"RemoteAudioTrack.setOutputDevice\",e.GET_MEDIA_STREAM_TRACK=\"Track.getMediaStreamTrack\",e.STREAM_TYPE_CHANGE=\"streamTypeChange\",e.CONNECTION_STATE_CHANGE=\"connectionStateChange\",e.LOAD_CONFIG_FROM_LOCALSTORAGE=\"loadConfigFromLocalStorage\",e.IMAGE_MODERATION_UPLOAD=\"imageModerationUpload\",e}({}),Iv=function(e){return e.TRACER=\"tracer\",e}({});function vv(e){return av(e.timeout,\"config.timeout\",0,1e5),av(e.timeoutFactor,\"config.timeoutFactor\",0,100,!1),av(e.maxRetryCount,\"config.maxRetryConfig\",0,1/0),av(e.maxRetryTimeout,\"config.maxRetryTimeout\",0,1/0),!0}let yv=function(e){return e[e.AUDIENCE_LEVEL_LOW_LATENCY=1]=\"AUDIENCE_LEVEL_LOW_LATENCY\",e[e.AUDIENCE_LEVEL_ULTRA_LOW_LATENCY=2]=\"AUDIENCE_LEVEL_ULTRA_LOW_LATENCY\",e[e.AUDIENCE_LEVEL_SYNC_LATENCY=3]=\"AUDIENCE_LEVEL_SYNC_LATENCY\",e}({}),Av=function(e){return e.LEAVE=\"LEAVE\",e.NETWORK_ERROR=\"NETWORK_ERROR\",e.SERVER_ERROR=\"SERVER_ERROR\",e.UID_BANNED=\"UID_BANNED\",e.FALLBACK=\"FALLBACK\",e.IP_BANNED=\"IP_BANNED\",e.CHANNEL_BANNED=\"CHANNEL_BANNED\",e.LICENSE_MISSING=\"LICENSE_MISSING\",e.LICENSE_EXPIRED=\"LICENSE_EXPIRED\",e.LICENSE_MINUTES_EXCEEDED=\"LICENSE_MINUTES_EXCEEDED\",e.LICENSE_PERIOD_INVALID=\"LICENSE_PERIOD_INVALID\",e.LICENSE_MULTIPLE_SDK_SERVICE=\"LICENSE_MULTIPLE_SDK_SERVICE\",e.LICENSE_ILLEGAL=\"LICENSE_ILLEGAL\",e.TOKEN_EXPIRE=\"TOKEN_EXPIRE\",e}({});function bv(e){if(!Array.isArray(e)||e.length<1)return!1;try{e.forEach((e=>{if(!e.urls)throw Error()}))}catch(e){return!1}return!0}function wv(e){return dv(e.turnServerURL,\"turnServerURL\"),dv(e.username,\"username\"),dv(e.password,\"password\"),e.udpport&&av(e.udpport,\"udpport\",1,99999,!0),e.forceturn&&ov(e.forceturn,\"forceturn\"),e.security&&ov(e.security,\"security\"),e.tcpport&&av(e.tcpport,\"tcpport\",1,99999,!0),!0}function Ov(e){return void 0!==e.level&&sv(e.level,\"level\",[1,2,3]),void 0!==e.delay&&av(e.delay,\"delay\",0,3e3,!0),!0}let Nv=function(e){return e.CONNECTION_STATE_CHANGE=\"connection-state-change\",e.MEDIA_RECONNECT_START=\"media-reconnect-start\",e.MEDIA_RECONNECT_END=\"media-reconnect-end\",e.IS_USING_CLOUD_PROXY=\"is-using-cloud-proxy\",e.USER_JOINED=\"user-joined\",e.USER_LEAVED=\"user-left\",e.USER_PUBLISHED=\"user-published\",e.USER_UNPUBLISHED=\"user-unpublished\",e.USER_INFO_UPDATED=\"user-info-updated\",e.CLIENT_BANNED=\"client-banned\",e.CHANNEL_MEDIA_RELAY_STATE=\"channel-media-relay-state\",e.CHANNEL_MEDIA_RELAY_EVENT=\"channel-media-relay-event\",e.VOLUME_INDICATOR=\"volume-indicator\",e.CRYPT_ERROR=\"crypt-error\",e.ON_TOKEN_PRIVILEGE_WILL_EXPIRE=\"token-privilege-will-expire\",e.ON_TOKEN_PRIVILEGE_DID_EXPIRE=\"token-privilege-did-expire\",e.NETWORK_QUALITY=\"network-quality\",e.STREAM_TYPE_CHANGED=\"stream-type-changed\",e.STREAM_FALLBACK=\"stream-fallback\",e.RECEIVE_METADATA=\"receive-metadata\",e.STREAM_MESSAGE=\"stream-message\",e.LIVE_STREAMING_ERROR=\"live-streaming-error\",e.LIVE_STREAMING_WARNING=\"live-streaming-warning\",e.EXCEPTION=\"exception\",e.ERROR=\"error\",e.P2P_LOST=\"p2p_lost\",e.JOIN_FALLBACK_TO_PROXY=\"join-fallback-to-proxy\",e.CHANNEL_FALLBACK_TO_WEBSOCKET=\"channel-fallback-to-websocket\",e.MEDIA_CONNECTION_TYPE_CHANGE=\"media-connection-type-change\",e.PUBLISHED_USER_LIST=\"published-user-list\",e.CONTENT_INSPECT_CONNECTION_STATE_CHANGE=\"content-inspect-connection-state-change\",e.CONTENT_INSPECT_ERROR=\"content-inspect-error\",e.CONTENT_INSPECT_RESULT=\"content-inspect-result\",e.IMAGE_MODERATION_CONNECTION_STATE_CHANGE=\"image-moderation-connection-state-change\",e}({}),Dv=function(e){return e.NETWORK_ERROR=\"NETWORK_ERROR\",e.SERVER_ERROR=\"SERVER_ERROR\",e.MULTI_IP=\"MULTI_IP\",e.TIMEOUT=\"TIMEOUT\",e.OFFLINE=\"OFFLINE\",e.LEAVE=\"LEAVE\",e.P2P_FAILED=\"P2P_FAILED\",e.FALLBACK=\"FALLBACK\",e}({}),Pv=function(e){return e.ONLINE=\"ONLINE\",e.OFFLINE=\"OFFLINE\",e}({}),Lv=function(e){return e.NETWORK_STATE_CHANGE=\"NETWORK_STATE_CHANGE\",e.ONLINE=\"ONLINE\",e.OFFLINE=\"OFFLINE\",e}({});function kv(e,t){for(var i=arguments.length,n=new Array(i>2?i-2:0),r=2;r<i;r++)n[r-2]=arguments[r];return 0===e.getListeners(t).length?Gh.reject(new rv(nv.UNEXPECTED_ERROR,\"can not emit promise\")):new Gh(((i,r)=>{e.emit(t,...n,i,r)}))}function Mv(e,t){if(0===e.getListeners(t).length)return Gh.resolve();for(var i=arguments.length,n=new Array(i>2?i-2:0),r=2;r<i;r++)n[r-2]=arguments[r];return kv(e,t,...n)}function Uv(e,t){if(0===e.getListeners(t).length)return null;for(var i=arguments.length,n=new Array(i>2?i-2:0),r=2;r<i;r++)n[r-2]=arguments[r];return xv(e,t,...n)}function xv(e,t){let i=null,n=null;for(var r=arguments.length,o=new Array(r>2?r-2:0),s=2;s<r;s++)o[s-2]=arguments[s];if(e.emit(t,...o,(e=>{i=e}),(e=>{n=e})),null!==n)throw n;if(null===i)throw new rv(nv.UNEXPECTED_ERROR,\"handler is not sync\");return i}const Vv=new class extends Sv{set networkState(e){this.emit(Lv.NETWORK_STATE_CHANGE,e,this._networkState),e===Pv.ONLINE?this.emit(Lv.ONLINE):e===Pv.OFFLINE&&(this.onlineWaiter=new Gh((e=>{this.once(Lv.ONLINE,(()=>{this.onlineWaiter=void 0,e(Pv.ONLINE)}))})),this.emit(Lv.OFFLINE)),this._networkState=e}get networkState(){return this._networkState}get isOnline(){return this._networkState===Pv.ONLINE}constructor(){super(),ev(this,\"_moduleName\",\"network-indicator\"),ev(this,\"_networkState\",Pv.ONLINE),ev(this,\"onlineWaiter\",void 0),window.addEventListener(\"online\",(()=>{this.networkState=Pv.ONLINE})),window.addEventListener(\"offline\",(()=>{this.networkState=Pv.OFFLINE}))}};function Fv(e,t){const i=e.indexOf(t);-1!==i&&e.splice(i,1)}function Bv(e){const t=[];return e.forEach((e=>{-1===t.indexOf(e)&&t.push(e)})),t}function jv(e){void 0!==Gh?Gh.resolve().then(e):setTimeout(e,0)}function Gv(e){return JSON.parse(JSON.stringify(e))}function Wv(e){try{return Gv(e)}catch(t){return e}}const Hv={};function Kv(e,t){Hv[t]||(Hv[t]=!0,e())}function Yv(e){const t=window.atob(e),i=new Uint8Array(new ArrayBuffer(t.length));for(let e=0;e<t.length;e+=1)i[e]=t.charCodeAt(e);return i}function qv(e){let t=\"\";for(let i=0;i<e.length;i+=1)t+=String.fromCharCode(e[i]);return window.btoa(t)}function zv(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,i=(new TextEncoder).encode(e);if(i.length>t)i=i.slice(0,t);else if(i.length<t){const e=new Uint8Array(t);e.set(i),i=e}return i}function Jv(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];const n=Jn(t).call(t,((e,t)=>e+t.length),0),r=new Uint8Array(new ArrayBuffer(n));let o=0;return t.forEach((e=>{r.set(e,o),o+=e.length})),r}function Xv(e){return window.TextEncoder?(new TextEncoder).encode(e).length:e.length}function Qv(e){let t=0;return(/DingTalk/i.test(navigator.userAgent)||/AliApp/i.test(navigator.userAgent))&&e.realFormData&&(e=e.realFormData),e.forEach((e=>{t+=\"string\"==typeof e?Xv(e):e.size})),t+138}function Zv(e){const t=new rv(nv.TIMEOUT,\"timeout\");return new Gh(((i,n)=>{window.setTimeout((()=>n(t)),e)}))}function $v(e){return new Gh((t=>{window.setTimeout(t,e)}))}function ey(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7,t=arguments.length>1?arguments[1]:void 0;const i=Math.random().toString(16).substr(2,e).toLowerCase();return i.length===e?\"\".concat(t).concat(i):\"\".concat(t).concat(i)+ey(e-i.length,\"\")}function ty(){return ey(32,\"\").toUpperCase()}const iy=()=>{},ny=new class{constructor(){ev(this,\"fnMap\",new Map)}throttleByKey(e,t,i,n){for(var r=arguments.length,o=new Array(r>4?r-4:0),s=4;s<r;s++)o[s-4]=arguments[s];if(this.fnMap.has(t)){const r=this.fnMap.get(t);if(r.threshold!==i){r.fn(...r.args),clearTimeout(r.timer);const s=window.setTimeout((()=>{const e=this.fnMap.get(t);e&&e.fn(...e.args),this.fnMap.delete(t)}),i);this.fnMap.set(t,{fn:e,threshold:i,timer:s,args:o,skipFn:n})}else r.skipFn&&r.skipFn(...r.args),this.fnMap.set(t,iv(iv({},r),{},{fn:e,args:o,skipFn:n}))}else{const r=window.setTimeout((()=>{const e=this.fnMap.get(t);e&&e.fn(...e.args),this.fnMap.delete(t)}),i);this.fnMap.set(t,{fn:e,threshold:i,timer:r,args:o,skipFn:n})}}},ry=ny.throttleByKey.bind(ny);function oy(e){return\"object\"==typeof e&&null!==e&&!(e instanceof RegExp)}function sy(e,t){if(!oy(e)||!oy(t))return t;if(Array.isArray(e)&&!Array.isArray(t)||!Array.isArray(e)&&Array.isArray(t))return t;if(Array.isArray(t)&&Array.isArray(e)){const i=[...e];for(let n=0;n<t.length;n++)i[n]=sy(e[n],t[n]);return i}{const i=iv({},e);for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(Object.prototype.hasOwnProperty.call(e,n)?i[n]=sy(e[n],t[n]):i[n]=t[n]);return i}}function ay(e,t){let i=[0];if(t&&(i=new Array(t).fill(0)),0===e)return i;let n=0;for(;e>0&&(i[n]=255&e,e>>=8,n++,!t||n!==t););return i}function cy(e){return\"number\"==typeof e?e:e.exact||e.ideal||e.max||e.min||0}function dy(e){const t=\"0123456789abcdef\";function i(e){let i,n=\"\";for(i=0;i<=3;i++)n+=t.charAt(e>>8*i+4&15)+t.charAt(e>>8*i&15);return n}function n(e,t){const i=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(i>>16)<<16|65535&i}function r(e,t,i,r,o,s){return n(function(e,t){return e<<t|e>>>32-t}(n(n(t,e),n(r,s)),o),i)}function o(e,t,i,n,o,s,a){return r(t&i|~t&n,e,t,o,s,a)}function s(e,t,i,n,o,s,a){return r(t&n|i&~n,e,t,o,s,a)}function a(e,t,i,n,o,s,a){return r(t^i^n,e,t,o,s,a)}function c(e,t,i,n,o,s,a){return r(i^(t|~n),e,t,o,s,a)}const d=function(e){let t;const i=1+(e.length+8>>6),n=new Array(16*i);for(t=0;t<16*i;t++)n[t]=0;for(t=0;t<e.length;t++)n[t>>2]|=e.charCodeAt(t)<<t%4*8;return n[t>>2]|=128<<t%4*8,n[16*i-2]=8*e.length,n}(e);let l,u,h,p,_,E=1732584193,m=-271733879,f=-1732584194,T=271733878;for(l=0;l<d.length;l+=16)u=E,h=m,p=f,_=T,E=o(E,m,f,T,d[l+0],7,-680876936),T=o(T,E,m,f,d[l+1],12,-389564586),f=o(f,T,E,m,d[l+2],17,606105819),m=o(m,f,T,E,d[l+3],22,-1044525330),E=o(E,m,f,T,d[l+4],7,-176418897),T=o(T,E,m,f,d[l+5],12,1200080426),f=o(f,T,E,m,d[l+6],17,-1473231341),m=o(m,f,T,E,d[l+7],22,-45705983),E=o(E,m,f,T,d[l+8],7,1770035416),T=o(T,E,m,f,d[l+9],12,-1958414417),f=o(f,T,E,m,d[l+10],17,-42063),m=o(m,f,T,E,d[l+11],22,-1990404162),E=o(E,m,f,T,d[l+12],7,1804603682),T=o(T,E,m,f,d[l+13],12,-40341101),f=o(f,T,E,m,d[l+14],17,-1502002290),m=o(m,f,T,E,d[l+15],22,1236535329),E=s(E,m,f,T,d[l+1],5,-165796510),T=s(T,E,m,f,d[l+6],9,-1069501632),f=s(f,T,E,m,d[l+11],14,643717713),m=s(m,f,T,E,d[l+0],20,-373897302),E=s(E,m,f,T,d[l+5],5,-701558691),T=s(T,E,m,f,d[l+10],9,38016083),f=s(f,T,E,m,d[l+15],14,-660478335),m=s(m,f,T,E,d[l+4],20,-405537848),E=s(E,m,f,T,d[l+9],5,568446438),T=s(T,E,m,f,d[l+14],9,-1019803690),f=s(f,T,E,m,d[l+3],14,-187363961),m=s(m,f,T,E,d[l+8],20,1163531501),E=s(E,m,f,T,d[l+13],5,-1444681467),T=s(T,E,m,f,d[l+2],9,-51403784),f=s(f,T,E,m,d[l+7],14,1735328473),m=s(m,f,T,E,d[l+12],20,-1926607734),E=a(E,m,f,T,d[l+5],4,-378558),T=a(T,E,m,f,d[l+8],11,-2022574463),f=a(f,T,E,m,d[l+11],16,1839030562),m=a(m,f,T,E,d[l+14],23,-35309556),E=a(E,m,f,T,d[l+1],4,-1530992060),T=a(T,E,m,f,d[l+4],11,1272893353),f=a(f,T,E,m,d[l+7],16,-155497632),m=a(m,f,T,E,d[l+10],23,-1094730640),E=a(E,m,f,T,d[l+13],4,681279174),T=a(T,E,m,f,d[l+0],11,-358537222),f=a(f,T,E,m,d[l+3],16,-722521979),m=a(m,f,T,E,d[l+6],23,76029189),E=a(E,m,f,T,d[l+9],4,-640364487),T=a(T,E,m,f,d[l+12],11,-421815835),f=a(f,T,E,m,d[l+15],16,530742520),m=a(m,f,T,E,d[l+2],23,-995338651),E=c(E,m,f,T,d[l+0],6,-198630844),T=c(T,E,m,f,d[l+7],10,1126891415),f=c(f,T,E,m,d[l+14],15,-1416354905),m=c(m,f,T,E,d[l+5],21,-57434055),E=c(E,m,f,T,d[l+12],6,1700485571),T=c(T,E,m,f,d[l+3],10,-1894986606),f=c(f,T,E,m,d[l+10],15,-1051523),m=c(m,f,T,E,d[l+1],21,-2054922799),E=c(E,m,f,T,d[l+8],6,1873313359),T=c(T,E,m,f,d[l+15],10,-30611744),f=c(f,T,E,m,d[l+6],15,-1560198380),m=c(m,f,T,E,d[l+13],21,1309151649),E=c(E,m,f,T,d[l+4],6,-145523070),T=c(T,E,m,f,d[l+11],10,-1120210379),f=c(f,T,E,m,d[l+2],15,718787259),m=c(m,f,T,E,d[l+9],21,-343485551),E=n(E,u),m=n(m,h),f=n(f,p),T=n(T,_);return i(E)+i(m)+i(f)+i(T)}let ly=1,uy=console,hy=class{static setLogger(e){uy=e}constructor(e){ev(this,\"lockingPromise\",Gh.resolve()),ev(this,\"locks\",0),ev(this,\"name\",\"\"),ev(this,\"lockId\",void 0),this.lockId=ly++,e&&(this.name=e),uy.debug(\"[lock-\".concat(this.name,\"-\").concat(this.lockId,\"] is created.\"))}get isLocked(){return this.locks>0}lock(e){let t;this.locks+=1,uy.debug(\"[lock-\".concat(this.name,\"-\").concat(this.lockId,\"] is locked, current queue \").concat(this.locks,\". \").concat(\"string\"==typeof e?e:\"\"));const i=new Gh((i=>{t=()=>{this.locks-=1,uy.debug(\"[lock-\".concat(this.name,\"-\").concat(this.lockId,\"] is not locked, current queue \").concat(this.locks,\". \").concat(\"string\"==typeof e?e:\"\")),i()}})),n=this.lockingPromise.then((()=>t));return this.lockingPromise=this.lockingPromise.then((()=>i)),n}};function py(e,t){return function(i,n,r){const o=r.value;if(\"function\"!=typeof o)throw new Error(\"Cannot use mutex on object property.\");return r.value=async function(){const i=this[t];if(!i)throw new Error(\"mutex property key \".concat(t,\" doesn't exist on \").concat(e));const r=await i.lock(\"From \".concat(e,\".\").concat(n));try{for(var s=arguments.length,a=new Array(s),c=0;c<s;c++)a[c]=arguments[c];return await o.apply(this,a)}finally{r()}},r}}const _y={timeout:500,timeoutFactor:1.5,maxRetryCount:1/0,maxRetryTimeout:1e4};function Ey(e,t){const i=Math.floor(t.timeout*Math.pow(t.timeoutFactor,e));return Math.min(t.maxRetryTimeout,i)}function my(e,t,i,n){const r=Object.assign({},_y,n);let o=r.timeout;const s=async()=>{await function(e){return new Gh((t=>{window.setTimeout(t,e)}))}(o),o*=r.timeoutFactor,o=Math.min(r.maxRetryTimeout,o)};let a=!1;const c=new Gh((async(n,o)=>{t=t||(()=>!1),i=i||(()=>!0);for(let c=0;c<r.maxRetryCount;c+=1){if(a)return o(new rv(nv.OPERATION_ABORTED));try{const i=await e();if(!t(i,c))return n(i);if(c+1===r.maxRetryCount)return n(i);await s()}catch(e){if(!i(e,c))return o(e);if(c+1===r.maxRetryCount)return o(e);await s()}}}));return c.cancel=()=>a=!0,c}class fy{constructor(e){ev(this,\"input\",[]),ev(this,\"size\",void 0),this.size=e}add(e){this.input.push(e),this.input.length>this.size&&this.input.splice(0,1)}mean(){var e;return 0===this.input.length?0:Jn(e=this.input).call(e,((e,t)=>e+t))/this.input.length}}let Ty,Sy=0,gy=0;function Ry(e,t,i,n){return new Gh(((r,o)=>{t.responseType=t.responseType||\"json\",t.data&&!i?(t.data=JSON.stringify(t.data),Sy+=Xv(t.data)):i&&(t.data.size?Sy+=t.data.size:t.data instanceof FormData?Sy+=Qv(t.data):Sy+=Xv(JSON.stringify(t.data))),t.headers=t.headers||{},t.headers[\"Content-Type\"]=t.headers[\"Content-Type\"]||\"application/json\",t.method=\"POST\",t.url=e,EI.request(t).then((e=>{\"string\"==typeof e.data?gy+=Xv(e.data):e.data instanceof ArrayBuffer||e.data instanceof Uint8Array?gy+=e.data.byteLength:gy+=Xv(JSON.stringify(e.data)),n&&r({data:e.data,headers:e.headers}),r(e.data)})).catch((e=>{EI.isCancel(e)?o(new rv(nv.OPERATION_ABORTED,\"cancel token canceled\")):\"ECONNABORTED\"===e.code?o(new rv(nv.NETWORK_TIMEOUT,e.message)):e.response?o(new rv(nv.NETWORK_RESPONSE_ERROR,e.response.status)):o(new rv(nv.NETWORK_ERROR,e.message))}))}))}async function Cy(e,t){const i=new Blob([t.data],{type:\"buffer\"});return await Ry(e,iv(iv({},t),{},{data:i,headers:{\"Content-Type\":\"application/octet-stream\"}}),!0)}const Iy=()=>void 0!==window.isSecureContext;const vy=function(e){if(e.match(/[0-9]+\\.[0-9]+\\.[0-9]+$/))return e;const t=e.match(/([0-9]+\\.[0-9]+\\.[0-9]+)\\-alpha\\.([0-9]+)/);if(t&&t[1]&&t[2]){const e=t[1],i=t[2];return\"\".concat(e,\".\").concat(i)}const i=e.match(/([0-9]+\\.[0-9]+\\.[0-9]+)\\-special\\.([0-9]+)/);if(i&&i[1]&&i[2]){const e=i[1],t=i[2];return\"\".concat(e,\".\").concat(100*(Number(t)+1))}return\"4.0.0.999\"}(\"4.22.0\"),yy=function(){try{return!0===JSON.parse(\"true\")}catch(e){return!0}}();let Ay=function(e){return e.Default=\"default\",e.Auto=\"auto\",e.Relay=\"relay\",e.SdRtn=\"sd-rtn\",e}({});const by={MIN_FRAME_RATE:1,MAX_FRAME_RATE:30,MAX_THRESHOLD_FRAMERATE:30,BITRATE_MIN_THRESHOLD:100,BITRATE_MAX_THRESHOLD:100,MAX_SCALE:5,BWE_SCALE_UP_THRESHOLD:.6,BWE_SCALE_DOWN_THRESHOLD:.6,PERF_SCALE_UP_THRESHOLD:.7,PERF_SCALE_DOWN_THRESHOLD:.6,MOTION_RESOLUTION_FACTOR:.8,MOTION_BITRATE_FACTOR:.6,DETAIL_FRAMERATE_FACTOR:.8,DETAIL_BITRATE_FACTOR:.6,BALANCE_RESOLUTION_FACTOR:.9,BALANCE_FRAMERATE_FACTOR:.9,BALANCE_BITRATE_FACTOR:.6,OVERUSE_TIMES_THRESHOLD:10,UNDERUSE_TIMES_THRESHOLD:40},wy=\"v4.22.0-0-g8569241d-dirty(8/15/2024, 7:04:06 PM)\",Oy=iv(iv({PROCESS_ID:\"\",ENCRYPT_AES:!0,AREAS:[\"CHINA\",\"GLOBAL\"],WEBCS_DOMAIN:[\"webrtc2-ap-web-1.agora.io\",\"webrtc2-2.ap.sd-rtn.com\"],WEBCS_DOMAIN_BACKUP_LIST:[\"webrtc2-ap-web-3.agora.io\",\"webrtc2-4.ap.sd-rtn.com\"],PROXY_CS:[\"ap-proxy-1.agora.io\",\"ap-proxy-2.agora.io\"],CDS_AP:[\"cds-ap-web-1.agora.io\",\"cds-web-2.ap.sd-rtn.com\",\"cds-ap-web-3.agora.io\",\"cds-web-4.ap.sd-rtn.com\"],ACCOUNT_REGISTER:[\"sua-ap-web-1.agora.io\",\"sua-web-2.ap.sd-rtn.com\",\"sua-ap-web-3.agora.io\",\"sua-web-4.ap.sd-rtn.com\"],UAP_AP:[\"uap-ap-web-1.agora.io\",\"uap-web-2.ap.sd-rtn.com\",\"uap-ap-web-3.agora.io\",\"uap-web-4.ap.sd-rtn.com\"],LOG_UPLOAD_SERVER:\"logservice.agora.io\",EVENT_REPORT_DOMAIN:\"statscollector-1.agora.io\",EVENT_REPORT_BACKUP_DOMAIN:\"web-2.statscollector.sd-rtn.com\",ENABLE_EVENT_REPORT:!0,GATEWAY_ADDRESS:[],GATEWAY_WSS_ADDRESS:\"\",LIVE_STREAMING_ADDRESS:\"\",HTTP_CONNECT_TIMEOUT:5e3,SIGNAL_REQUEST_TIMEOUT:1e4,REPORT_STATS:!0,UPLOAD_LOG:!1,NOT_REPORT_EVENT:[],PING_PONG_TIME_OUT:10,WEBSOCKET_TIMEOUT_MIN:1e4,EVENT_REPORT_SEND_INTERVAL:3e3,CONFIG_DISTRIBUTE_INTERVAL:3e5,ENABLE_CONFIG_DISTRIBUTE:!0,CANDIDATE_TIMEOUT:5e3,SHOW_REPORT_INVOKER_LOG:!1,JOIN_EXTEND:\"\",PUB_EXTEND:\"\",SUB_EXTEND:\"\",FORCE_TURN:!1,TURN_ENABLE_TCP:!0,TURN_ENABLE_UDP:!0,MAX_UPLOAD_CACHE:50,UPLOAD_CACHE_INTERVAL:2e3,AJAX_REQUEST_CONCURRENT:3,REPORT_APP_SCENARIO:void 0,GATEWAY_DOMAINS:[\"edge.agora.io\",\"edge.sd-rtn.com\"],CONNECT_GATEWAY_WITHOUT_DOMAIN:!1,WORKER_DOMAIN:\"edge.agora.io\",TURN_DOMAIN:\"edge.agora.io\",EVENT_REPORT_RETRY:!0,CHROME_FORCE_PLAN_B:!1,AUDIO_SOURCE_VOLUME_UPDATE_INTERVAL:400,AUDIO_SOURCE_AVG_VOLUME_DURATION:3e3,AUDIO_VOLUME_INDICATION_INTERVAL:2e3,VOLUME_VOICE_WEIGHT:10,GET_VOLUME_OF_MUTED_AUDIO_TRACK:!1,STATS_UPDATE_INTERVAL:250,NORMAL_EVENT_QUEUE_CAPACITY:100,CUSTOM_REPORT:!0,CUSTOM_REPORT_LIMIT:20,PROXY_SERVER_TYPE2:\"webnginx-proxy.agora.io\",PROXY_SERVER_TYPE3:[\"webrtc-cloud-proxy.sd-rtn.com\",\"webrtc-cloud-proxy.agora.io\"],CUSTOM_PUB_ANSWER_MODIFIER:null,CUSTOM_SUB_ANSWER_MODIFIER:null,CUSTOM_PUB_OFFER_MODIFIER:null,CUSTOM_SUB_OFFER_MODIFIER:null,DSCP_TYPE:\"high\",REMOVE_NEW_CODECS:!0,FRAGEMENT_LENGTH:3,WEBSOCKET_COMPRESS:!1,SIMULCAST:!1,PRELOAD_MEDIA_COUNT:0,CHECK_VIDEO_VISIBLE_INTERVAL:3e4,CHECK_LOCAL_STATS_INTERVAL:250,PROFILE_SWITCH_INTERVAL:2e3,UNSUPPORTED_VIDEO_CODEC:[],ENUMERATE_DEVICES_INTERVAL:!1,ENUMERATE_DEVICES_INTERVAL_TIME:1e4,USE_NEW_TOKEN:!1,CLOSE_AFB_FOR_LOCAL_AP:!0,JOIN_MAX_CONCURRENCY:6,JOIN_WITH_FALLBACK_SIGNAL_PROXY:!0,JOIN_WITH_FALLBACK_MEDIA_PROXY:!0,JOIN_WITH_FALLBACK_MEDIA_PROXY_FORCE:!1,JOIN_GATEWAY_TRY_443PORT_DURATION:2e3,JOIN_GATEWAY_USE_443PORT_ONLY:!1,JOIN_GATEWAY_USE_DUAL_DOMAIN:!0,JOIN_GATEWAY_FALLBACK_PORT:443,USE_TURN_SERVER_OF_GATEWAY:!1,H264_PROFILE_LEVEL_ID:\"\",USE_NEW_LOG:!1,LOG_VERSION:3,MEDIA_DEVICE_CONSTRAINTS:null,ENCRYPT_PROXY_USERNAME_AND_PSW:!0,SDP_LOGGING:!1,CSP_DETECTED_HOSTNAME_LIST:[\"agora.io\",\"sd-rtn.com\"],REMOTE_AUDIO_TRACK_USES_WEB_AUDIO:!1,LOCAL_AUDIO_TRACK_USES_WEB_AUDIO:!1,BITRATE_ADAPTER_TYPE:\"STANDARD_BITRATE\",AI_DENOISER_PARAMETERS:{excludedLinks:[]},ADJUST_3A_FROM_PLUGINS:!0,RAISE_H264_BASELINE_PRIORITY:!0,FILTER_SEND_H264_BASELINE:!1,X_GOOGLE_START_BITRATE:void 0,NEW_REPORT_SERVER:!1,NEW_REPORT_SERVER_DOMAINS:[\"data-reporting.agora.io\",\"data-reporting.agora.io\"],VIDEO_INSPECT_WORKER_MESSAGE_LENGTH_LIMIT:3e5,VIDEO_INSPECT_INTERVAL_MINIMUM:1e3,VIDEO_INSPECT_QUALITY_RATIO:.9,VIDEO_INSPECT_WORKER_MANAGER_HOST:\"edge.agora.io\",VIDEO_INSPECT_WORKER_MANAGER_PORT:\"\",VIDEO_INSPECT_WORKER_PORT:\"\",SHOW_VIDEO_INSPECT_WORKER_MESSAGE:!1,STATS_COLLECTOR_PORT:443,FORCE_TURN_TCP:!1,WEBAUDIO_INIT_OPTIONS:void 0,FILTER_VIDEO_FEC:!0,FILTER_AUDIO_FEC:!1,CHROME_DUAL_STREAM_USE_ENCODING:!0,DISABLE_DUAL_STREAM_USE_ENCODING:!1,EXTENSION_USAGE_UPLOAD_INTERVAL:1e4,ICE_RESTART:!0,ICE_RESTART_INTERVAL:1e4,NEW_ICE_RESTART:!1,TRANSMITTER_INITIAL_RTT:30,TRANSMITTER_INITIAL_RTO:30,TRANSMITTER_MAX_BATCH_ACK_COUNT:2,TRANSMITTER_MAX_RTO:500,DATACHANNEL_COMPRESS:!1,FINGERPRINT:null,DC_JOIN_WITH_FAILBACK:5e3,ENABLE_VIDEO_FRAME_CALLBACK:!0,VIDEO_FREEZE_DURATION:500,SPATIALIZER_PARAMETERS:{},UPLOAD_LOG_INTERVAL:3e3,UPLOAD_LOG_REQUEST_RETRY_INTERVAL:2e3,UPLOAD_LOG_REQUEST_MAX_RETRY_INTERVAL:2e4,UPLOAD_LOG_TRY_INTERVAL_WHILE_OFF:5e3,UPLOAD_LOG_RETRY_INTERVAL_V1:1e4,UPLOAD_LOG_TWICE_RETRY_INTERVAL_V1:200,UPLOAD_LOG_LENGTH_EACH_TIME:10,APP_TYPE:0,DISABLE_WEBAUDIO:!1,CHANNEL_MEDIA_RELAY_SERVERS:void 0,KEEP_LAST_FRAME:!0,FORWARD_P2P_CREATION:!0,SYNC_GROUP:!0,BLOCK_LOCAL_CLIENT:!1,AP_AREA:!0,ENABLE_ENCODED_TRANSFORM:!1,ENABLE_VIDEO_SEI:!1,IMAGE_MODERATION_WORKER_HOST:\"edge.agora.io\",IMAGE_MODERATION_WORKER_MESSAGE_LENGTH_LIMIT:3e5,IMAGE_MODERATION_INTERVAL_MINIMUM:1e3,SHOW_IMAGE_MODERATION_WORKER_MESSAGE:!1,IMAGE_MODERATION_QUALITY_RATIO:.9,IMAGE_MODERATION_UPLOAD_REPORT_INTERVAL:5e3,SHOW_GLOBAL_CLIENT_LIST:!1,DATASTREAM_MAX_RETRANSMITS:10,TCP_CANDIDATE_ONLY:!1,EXTERNAL_SIGNAL_REQUEST_TIMEOUT:3e3,SHOW_P2P_LOG:!1,MAX_P2P_TIMEOUT:3e4,P2P_TOKEN_INTERVAL:1e3,SHOW_DATASTREAM2_LOG:!1,RESTRICTION_SET_PLAYBACK_DEVICE:!0,USE_PURE_ENCRYPTION_MASTER_KEY:!1,ACCOUNT_REGISTER_RETRY_TIMEOUT:1,ACCOUNT_REGISTER_RETRY_RATIO:2,ACCOUNT_REGISTER_RETRY_TIMEOUT_MAX:6e4,ACCOUNT_REGISTER_RETRY_COUNT_MAX:1e5,AUDIO_CONTEXT:null,WEBCS_BACKUP_CONNECT_TIMEOUT:6e3,PLAYER_STATE_DEFER:2e3,SIGNAL_REQUEST_WATCH_INTERVAL:1e3,FILEPATH_LENMAX:255,DUALSTREAM_OPERATION_CHECK:!0,MEDIA_ELEMENT_EXISTS_DEPTH:3,SHIM_CANDIDATE:!1,LEAVE_MSG_TIMEOUT:2e3,STATS_FILTER:{transportId:!0,googTrackId:!0},FILTER_VIDEO_CODEC:[],USE_NEW_NETWORK_CONFIG:!1,AUTO_RESET_AUDIO_ROUTE:!1,PLUGIN_INFO:[],OVERUSE_DETECTOR_PARAMS:by,ENABLE_AG_ADAPTATION:!0,FORCE_AG_HIGH_FRAMERATE:!1,FORCE_SUPPORT_AG_ADAPTATION:!1,CUSTOM_ADAPTATION_DEFAULT_MODE:\"\",ENCODER_CONFIG_LIMIT:{},CAMERA_CAPTURE_CONFIG:void 0,HIDE_NO_POSTER:!1,AP_CACHE_NUM:10,AP_UPDATE_INTERVAL:12e4,AP_CACHE_LIFETIME:12e4,MAX_PRELOAD_ASYNC_LENGTH:3,ENABLE_PRELOAD:!0},{ENABLE_PUBLISHED_USER_LIST:!0,MAX_SUBSCRIPTION:50,SUBSCRIBE_AUDIO_FILTER_TOPN:void 0,ENABLE_PUBLISH_AUDIO_FILTER:void 0,ENABLE_USER_LICENSE_CHECK:!0,USE_PUB_RTX:!0,USE_SUB_RTX:!0,DISABLE_FEC:void 0,ENABLE_NTP_REPORT:!1,ENABLE_INSTANT_VIDEO:!1,ENABLE_DATASTREAM_2:!1,ENABLE_USER_AUTO_REBALANCE_CHECK:!0,USE_XR:!0,ENABLE_LOSSBASED_BWE:!0,ENABLE_AUT_CC:!1,ENABLE_CC_FALLBACK:void 0,ENABLE_PREALLOC_PC:!1,SUBSCRIBE_TWCC:!0,PUBLISH_TWCC:!1,ENABLE_SVC:!1,ENABLE_SVC_DEFAULT_CODECS:[\"H264\",\"VP8\",\"VP9\",\"AV1\"],SVC:[],ENABLE_FULL_LINK_AV_SYNC:!1,SVC_MODE:null,PRE_SUB_NUM:2,ENABLE_PRE_SUB:!1,ENABLE_AUT_FEEDBACK:!1}),{},{USE_CANDIDATE_FROM_AP_DETAIL:!1});function Ny(e,t,i){var n,r,o;Dn(n=Object.keys(Oy)).call(n,e)&&(!i&&Dn(r=Object.keys(Py)).call(r,e)||(Oy[e]=t,\"ENABLE_VIDEO_SEI\"===e&&!0===t&&(Oy.ENABLE_ENCODED_TRANSFORM=!0),\"USE_NEW_NETWORK_CONFIG\"===e&&t&&(o=!!t,Oy.USE_NEW_NETWORK_CONFIG=o,o&&(Oy.WEBCS_DOMAIN=[\"webrtc2-2.ap.sd-rtn.com\"],Oy.WEBCS_DOMAIN_BACKUP_LIST=[\"webrtc2-4.ap.sd-rtn.com\"],Oy.CDS_AP=[\"cds-web-2.ap.sd-rtn.com\",\"cds-web-4.ap.sd-rtn.com\"],Oy.ACCOUNT_REGISTER=[\"sua-web-2.ap.sd-rtn.com\",\"sua-web-4.ap.sd-rtn.com\"],Oy.EVENT_REPORT_DOMAIN=\"web-2.statscollector.sd-rtn.com\",Oy.EVENT_REPORT_BACKUP_DOMAIN=\"statscollector-1.agora.io\",Oy.GATEWAY_DOMAINS=[\"edge.sd-rtn.com\"])),\"ENABLE_PRE_SUB\"===e&&t&&(Oy.ENABLE_INSTANT_VIDEO=!0,Oy.ENABLE_PREALLOC_PC=!0),\"ENABLE_SVC\"===e&&t&&(Oy.ENABLE_AUT_CC=!0)))}function Dy(e){return Oy[e]}const Py={};var Ly=function(e){return e.SET_SESSION_ID=\"SET_SESSION_ID\",e.SET_P2P_ID=\"SET_P2P_id\",e.SET_DC_ID=\"SET_DC_id\",e.SET_UID=\"SET_UID\",e.SET_INT_UID=\"SET_INT_UID\",e.SET_PUB_ID=\"SET_PUB_ID\",e.SET_CLOUD_PROXY_SERVER_MODE=\"SET_CLOUD_PROXY_SERVER_MODE\",e.KEY_METRIC_CLIENT_CREATED=\"KEY_METRIC_CLIENT_CREATED\",e.KEY_METRIC_JOIN_START=\"KEY_METRIC_JOIN_START\",e.AVOID_JOIN_START=\"AVOID_JOIN_START\",e.KEY_METRIC_JOIN_END=\"KEY_METRIC_JOIN_END\",e.KEY_METRIC_REQUEST_AP_START=\"KEY_METRIC_REQUEST_AP_START\",e.KEY_METRIC_REQUEST_AP_END=\"KEY_METRIC_REQUEST_AP_END\",e.KEY_METRIC_JOIN_GATEWAY_START=\"KEY_METRIC_JOIN_GATEWAY_START\",e.KEY_METRIC_JOIN_GATEWAY_END=\"KEY_METRIC_JOIN_GATEWAY_END\",e.KEY_METRIC_PEER_CONNECTION_START=\"KEY_METRIC_PEER_CONNECTION_START\",e.KEY_METRIC_PEER_CONNECTION_END=\"KEY_METRIC_PEER_CONNECTION_END\",e.KEY_METRIC_DESCRIPTION_START=\"KEY_METRIC_DESCRIPTION_START\",e.KEY_METRIC_ICE_CONNECTION_END=\"KEY_METRIC_ICE_CONNECTION_END\",e.KEY_METRIC_SIGNAL_CHANNEL_OPEN=\"KEY_METRIC_SIGNAL_CHANNEL_OPEN\",e.KEY_METRIC_PUBLISH=\"KEY_METRIC_PUBLISH\",e.KEY_METRIC_SUBSCRIBE=\"KEY_METRIC_SUBSCRIBE\",e.RECORD_JOIN_CHANNEL_SERVICE=\"RECORD_JOIN_CHANNEL_SERVICE\",e.RESET_JOIN_CHANNEL_SERVICE_RECORDS=\"RESET_JOIN_CHANNEL_SERVICE_RECORDS\",e.RESET_KEY_METRICS=\"RESET_KEY_METRICS\",e.SET_USE_P2P=\"SET_USE_P2P\",e.SET_TRANSPORT_TYPE=\"SET_TRANSPORT_TYPE\",e}(Ly||{});class ky{constructor(e,t,i,n){ev(this,\"state\",void 0),this.state={codec:e,audioCodec:t,mode:i,clientId:n,sessionId:null,p2pId:0,dcId:0,pubId:0,subId:0,avoidJoinStart:0,keyMetrics:{publish:[],subscribe:[]},joinChannelServiceRecords:[],cloudProxyServerMode:\"disabled\",useP2P:!1,p2pTransport:Ay.Default}}dispatch(e){this.state=function(e,t){switch(t.type){case Ly.SET_SESSION_ID:return iv(iv({},e),{},{sessionId:t.sessionId});case Ly.SET_P2P_ID:return iv(iv({},e),{},{p2pId:t.p2pId});case Ly.SET_UID:return iv(iv({},e),{},{uid:t.uid});case Ly.SET_INT_UID:return iv(iv({},e),{},{intUid:t.intUid});case Ly.SET_PUB_ID:return iv(iv({},e),{},{pubId:t.pubId});case Ly.KEY_METRIC_CLIENT_CREATED:return iv(iv({},e),{},{keyMetrics:iv(iv({},e.keyMetrics),{},{clientCreated:t.metric})});case Ly.KEY_METRIC_JOIN_START:return iv(iv({},e),{},{keyMetrics:iv(iv({},e.keyMetrics),{},{joinStart:t.metric})});case Ly.AVOID_JOIN_START:return iv(iv({},e),{},{avoidJoinStart:t.avoidJoinStart});case Ly.KEY_METRIC_JOIN_END:return iv(iv({},e),{},{keyMetrics:iv(iv({},e.keyMetrics),{},{joinEnd:t.metric})});case Ly.KEY_METRIC_REQUEST_AP_START:return iv(iv({},e),{},{keyMetrics:iv(iv({},e.keyMetrics),{},{requestAPStart:t.metric})});case Ly.KEY_METRIC_REQUEST_AP_END:return iv(iv({},e),{},{keyMetrics:iv(iv({},e.keyMetrics),{},{requestAPEnd:t.metric})});case Ly.KEY_METRIC_JOIN_GATEWAY_START:return iv(iv({},e),{},{keyMetrics:iv(iv({},e.keyMetrics),{},{joinGatewayStart:t.metric})});case Ly.KEY_METRIC_JOIN_GATEWAY_END:return iv(iv({},e),{},{keyMetrics:iv(iv({},e.keyMetrics),{},{joinGatewayEnd:t.metric})});case Ly.KEY_METRIC_PEER_CONNECTION_START:return iv(iv({},e),{},{keyMetrics:iv(iv({},e.keyMetrics),{},{peerConnectionStart:t.metric})});case Ly.KEY_METRIC_PEER_CONNECTION_END:return iv(iv({},e),{},{keyMetrics:iv(iv({},e.keyMetrics),{},{peerConnectionEnd:t.metric})});case Ly.KEY_METRIC_DESCRIPTION_START:return iv(iv({},e),{},{keyMetrics:iv(iv({},e.keyMetrics),{},{descriptionStart:t.metric})});case Ly.KEY_METRIC_SIGNAL_CHANNEL_OPEN:return iv(iv({},e),{},{keyMetrics:iv(iv({},e.keyMetrics),{},{signalChannelOpen:t.metric})});case Ly.KEY_METRIC_ICE_CONNECTION_END:return iv(iv({},e),{},{keyMetrics:iv(iv({},e.keyMetrics),{},{iceConnectionEnd:t.metric})});case Ly.KEY_METRIC_PUBLISH:{const i=e.keyMetrics.publish,n=i.findIndex((e=>e.trackId===t.metric.trackId));return-1!==n?(i[n]=iv(iv({},i[n]),t.metric),iv(iv({},e),{},{keyMetrics:iv(iv({},e.keyMetrics),{},{publish:[...i]})})):iv(iv({},e),{},{keyMetrics:iv(iv({},e.keyMetrics),{},{publish:[...e.keyMetrics.publish,t.metric]})})}case Ly.KEY_METRIC_SUBSCRIBE:{const i=e.keyMetrics.subscribe,n=i.findIndex((e=>e.userId===t.metric.userId&&e.type===t.metric.type));return-1!==n?(i[n]=iv(iv({},i[n]),t.metric),iv(iv({},e),{},{keyMetrics:iv(iv({},e.keyMetrics),{},{subscribe:[...i]})})):iv(iv({},e),{},{keyMetrics:iv(iv({},e.keyMetrics),{},{subscribe:[...e.keyMetrics.subscribe,t.metric]})})}case Ly.SET_CLOUD_PROXY_SERVER_MODE:return e.cloudProxyServerMode=t.mode,e;case Ly.RECORD_JOIN_CHANNEL_SERVICE:return\"number\"!=typeof t.index?e.joinChannelServiceRecords=[...e.joinChannelServiceRecords,t.record]:(e.joinChannelServiceRecords[t.index]=iv(iv({},e.joinChannelServiceRecords[t.index]),t.record),e.joinChannelServiceRecords=[...e.joinChannelServiceRecords]),e;case Ly.RESET_JOIN_CHANNEL_SERVICE_RECORDS:return e.joinChannelServiceRecords=[],e;case Ly.RESET_KEY_METRICS:return e.keyMetrics={publish:[],subscribe:[]},e;case Ly.SET_USE_P2P:return iv(iv({},e),{},{useP2P:t.val});case Ly.SET_TRANSPORT_TYPE:return iv(iv({},e),{},{p2pTransport:t.val});default:return e}}(this.state,e)}set sessionId(e){this.dispatch({type:Ly.SET_SESSION_ID,sessionId:e})}get sessionId(){return this.state.sessionId}set codec(e){this.state.codec=e}get codec(){return this.state.codec}get mode(){return this.state.mode}get audioCodec(){return this.state.audioCodec}get clientId(){return this.state.clientId}set p2pId(e){this.dispatch({type:Ly.SET_P2P_ID,p2pId:e})}get p2pId(){return this.state.p2pId}set dcId(e){this.dispatch({type:Ly.SET_DC_ID,dcId:e})}get dcId(){return this.state.dcId}set uid(e){this.dispatch({type:Ly.SET_UID,uid:e})}get uid(){return this.state.uid}set intUid(e){this.dispatch({type:Ly.SET_INT_UID,intUid:e})}get intUid(){return this.state.intUid}set pubId(e){this.dispatch({type:Ly.SET_PUB_ID,pubId:e})}get pubId(){return this.state.pubId}set cloudProxyServerMode(e){this.dispatch({type:Ly.SET_CLOUD_PROXY_SERVER_MODE,mode:e})}get cloudProxyServerMode(){return this.state.cloudProxyServerMode}set useP2P(e){this.dispatch({type:Ly.SET_USE_P2P,val:e})}get useP2P(){return this.state.useP2P}set p2pTransport(e){this.dispatch({type:Ly.SET_TRANSPORT_TYPE,val:e})}get p2pTransport(){return this.state.p2pTransport}clientCreated(){this.dispatch({type:Ly.KEY_METRIC_CLIENT_CREATED,metric:Date.now()})}joinStart(){this.dispatch({type:Ly.KEY_METRIC_JOIN_START,metric:Date.now()})}joinEnd(){this.dispatch({type:Ly.KEY_METRIC_JOIN_END,metric:Date.now()})}requestAPStart(){this.dispatch({type:Ly.KEY_METRIC_REQUEST_AP_START,metric:Date.now()})}requestAPEnd(){this.dispatch({type:Ly.KEY_METRIC_REQUEST_AP_END,metric:Date.now()})}joinGatewayStart(){this.dispatch({type:Ly.KEY_METRIC_JOIN_GATEWAY_START,metric:Date.now()})}joinGatewayEnd(){this.dispatch({type:Ly.KEY_METRIC_JOIN_GATEWAY_END,metric:Date.now()})}peerConnectionStart(){this.dispatch({type:Ly.KEY_METRIC_PEER_CONNECTION_START,metric:Date.now()})}peerConnectionEnd(){this.dispatch({type:Ly.KEY_METRIC_PEER_CONNECTION_END,metric:Date.now()})}descriptionStart(){this.dispatch({type:Ly.KEY_METRIC_DESCRIPTION_START,metric:Date.now()})}signalChannelOpen(){this.dispatch({type:Ly.KEY_METRIC_SIGNAL_CHANNEL_OPEN,metric:Date.now()})}iceConnectionEnd(){this.dispatch({type:Ly.KEY_METRIC_ICE_CONNECTION_END,metric:Date.now()})}publish(e,t,i,n){this.dispatch({type:Ly.KEY_METRIC_PUBLISH,metric:iv(iv({trackId:e,type:t},i&&{publishStart:i}),n&&{publishEnd:n})})}subscribe(e,t,i,n,r,o,s){this.dispatch({type:Ly.KEY_METRIC_SUBSCRIBE,metric:iv(iv(iv(iv(iv({userId:e,type:t},i&&{subscribeStart:i}),n&&{subscribeEnd:n}),r&&{firstFrame:r}),o&&{streamAdded:o}),s&&{firstDecoded:s})})}massSubscribe(e,t,i,n){e.forEach((e=>{this.dispatch({type:Ly.KEY_METRIC_SUBSCRIBE,metric:iv(iv(iv({userId:e.userId,type:e.type},t&&{subscribeStart:t}),i&&{subscribeEnd:i}),n&&{firstFrame:n})})}))}get keyMetrics(){return this.state.keyMetrics}recordJoinChannelService(e,t){\"gateway\"===e.service&&Array.isArray(e.urls)&&(e.urls=e.urls.map((e=>e.replace(/(\\d+)-\\d+-\\d+-(\\d+)/,\"$1-*-*-$2\"))));try{return\"number\"!=typeof t?(this.dispatch({type:Ly.RECORD_JOIN_CHANNEL_SERVICE,record:iv(iv({},e),{},{sessionId:this.sessionId,cloudProxyMode:this.cloudProxyServerMode,uid:this.uid})}),this.state.joinChannelServiceRecords.length-1):(t<0||t>=this.state.joinChannelServiceRecords.length||this.dispatch({type:Ly.RECORD_JOIN_CHANNEL_SERVICE,record:e,index:t}),t)}catch(e){return 0}}resetJoinChannelServiceRecords(){this.dispatch({type:Ly.RESET_JOIN_CHANNEL_SERVICE_RECORDS})}resetKeyMetrics(){this.dispatch({type:Ly.RESET_KEY_METRICS})}get joinChannelServiceRecords(){try{return this.state.joinChannelServiceRecords}catch(e){return[]}}get avoidJoinStart(){return this.state.avoidJoinStart}set avoidJoinStart(e){this.dispatch({type:Ly.AVOID_JOIN_START,avoidJoinStart:e})}}let My=function(e){return e.h264=\"h264\",e.h265=\"h265\",e.vp8=\"vp8\",e.vp9=\"vp9\",e.av1=\"av1\",e}({});!function(e){e.opus=\"opus\",e.pcma=\"pcma\",e.pcmu=\"pcmu\",e.g722=\"g722\"}({});const Uy=128,xy=96,Vy=1e3,Fy=10;let By=0;function jy(e,t,i){return(t=function(e){var t=function(e,t){if(\"object\"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,\"string\");if(\"object\"!=typeof n)return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==typeof t?t:t+\"\"}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function Gy(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function Wy(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Gy(Object(i),!0).forEach((function(t){jy(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Gy(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}const Hy=new class extends Sv{constructor(){super(...arguments),jy(this,\"currentUploadLogID\",0)}reportLogUploadError(e){const{errorRange:t}=e;t[t.length-1]&&t[t.length-1]>this.currentUploadLogID&&(this.currentUploadLogID=t[t.length-1],this.emit(\"REPORT_LOG_UPLOAD\",e))}};class Ky{constructor(e){jy(this,\"logger\",void 0),jy(this,\"prefixLists\",[]),this.logger=e}debug(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this.logger.debug(...this.prefixLists,...t)}info(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this.logger.info(...this.prefixLists,...t)}warning(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this.logger.warning(...this.prefixLists,...t)}error(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this.logger.error(...this.prefixLists,...t)}prefix(e){return this.prefixLists.push(e),this}popPrefix(){return this.prefixLists.pop(),this}}function Yy(){const e=new Date;return e.toTimeString().split(\" \")[0]+\":\"+e.getMilliseconds()}function qy(){const e=new Date,t=/((\\d+:){2}\\d+)/.exec((new Date).toUTCString());return t?(null==t?void 0:t[0])+\":\"+e.getUTCMilliseconds():e.toTimeString().split(\" \")[0]+\":\"+e.getMilliseconds()}const zy={DEBUG:0,INFO:1,WARNING:2,ERROR:3,NONE:4},Jy=Date.now(),Xy=e=>{for(const t in zy)if(Object.prototype.hasOwnProperty.call(zy,t)&&zy[t]===e)return t;return\"DEFAULT\"};const Qy=new class{constructor(){jy(this,\"proxyServerURL\",void 0),jy(this,\"logLevel\",zy.DEBUG),jy(this,\"uploadState\",\"collecting\"),jy(this,\"uploadLogWaitingList\",[]),jy(this,\"uploadLogUploadingList\",[]),jy(this,\"uploadErrorCount\",0),jy(this,\"currentLogID\",0),jy(this,\"url\",void 0),jy(this,\"extLog\",((e,t)=>{this.appendLogToWaitingList(e,...t)}))}debug(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];const n=[zy.DEBUG].concat(t);this.log.apply(this,n)}info(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];const n=[zy.INFO].concat(t);this.log.apply(this,n)}warning(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];const n=[zy.WARNING].concat(t);this.log.apply(this,n)}warn(){this.warning(...arguments)}error(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];const n=[zy.ERROR].concat(t);this.log.apply(this,n)}upload(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];const n=[zy.DEBUG].concat(t);this.uploadLog.apply(this,n)}setLogLevel(e){e=Math.min(Math.max(0,e),4),this.logLevel=e}enableLogUpload(){Ny(\"UPLOAD_LOG\",!0)}disableLogUpload(){Ny(\"UPLOAD_LOG\",!1),this.uploadLogUploadingList=[],this.uploadLogWaitingList=[]}setProxyServer(e){this.proxyServerURL=e}prefix(e){return new Ky(this).prefix(e)}log(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];if(Date.now()-Jy<100)return void setTimeout((()=>{this.log(...t)}),Date.now()-Jy);const n=Math.max(0,Math.min(4,t[0]));if(t[0]=Yy()+\" Agora-SDK [\".concat(Xy(n),\"]:\"),this.appendLogToWaitingList(n,...t),n<this.logLevel)return;const r=Yy()+\" %cAgora-SDK [\".concat(Xy(n),\"]:\");let o=[];if(!Dy(\"USE_NEW_LOG\"))switch(n){case zy.DEBUG:o=[r,\"color: #64B5F6;\"].concat(t.slice(1)),console.log.apply(console,o);break;case zy.INFO:o=[r,\"color: #1E88E5; font-weight: bold;\"].concat(t.slice(1)),console.log.apply(console,o);break;case zy.WARNING:o=[r,\"color: #FB8C00; font-weight: bold;\"].concat(t.slice(1)),console.warn.apply(console,o);break;case zy.ERROR:o=[r,\"color: #B00020; font-weight: bold;\"].concat(t.slice(1)),console.error.apply(console,o)}}uploadLog(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];if(Date.now()-Jy<100)return void setTimeout((()=>{this.uploadLog(...t)}),Date.now()-Jy);const n=Math.max(0,Math.min(4,t[0]));t[0]=Yy()+\" Agora-SDK [\".concat(Xy(n),\"]:\"),this.appendLogToWaitingList(n,...t)}appendLogToWaitingList(e){if(!Dy(\"UPLOAD_LOG\"))return;for(var t=arguments.length,i=new Array(t>1?t-1:0),n=1;n<t;n++)i[n-1]=arguments[n];Array.isArray(i[0])?i[0][0]=qy()+\" Agora-SDK [\".concat(Xy(e),\"]:\"):i[0]=qy()+\" Agora-SDK [\".concat(Xy(e),\"]:\");let r=\"\";i.forEach((e=>{\"object\"==typeof e&&(e=JSON.stringify(e)),r+=\"\".concat(e,\" \")})),this.uploadLogWaitingList.push({payload_str:r,log_level:e,log_item_id:this.currentLogID++}),\"uploading\"===this.uploadState&&0===this.uploadLogUploadingList.length&&this.uploadLogInterval()}startUpload(){this.uploadState=\"uploading\",0===this.uploadLogUploadingList.length&&this.uploadLogInterval()}async uploadLogs(){const e=this.uploadLogUploadingList,t={sdk_version:vy,process_id:Dy(\"PROCESS_ID\"),payload:JSON.stringify(e)};return my((async()=>{const e=await EI.post(this.url||(this.proxyServerURL?\"https://\".concat(this.proxyServerURL,\"/ls/?h=\").concat(Dy(\"LOG_UPLOAD_SERVER\"),\"&p=443&d=upload/v1\"):\"https://\".concat(Dy(\"LOG_UPLOAD_SERVER\"),\"/upload/v1\")),t,{responseType:\"text\"});if(\"OK\"!==e.data){const t=new Error(\"unexpected upload log response\");throw t.response=e,t}}),(()=>(this.uploadLogUploadingList=[],!1)),(t=>{const i={status:-1,message:t.message,errorRange:e.map((e=>e.log_item_id))};return t.response?(i.status=t.response.status,i.data=t.response.data,i.headers=t.response.headers):t.request&&(i.status=t.request.status),Hy.reportLogUploadError(i),!0}),{timeout:Dy(\"UPLOAD_LOG_REQUEST_RETRY_INTERVAL\"),maxRetryTimeout:Dy(\"UPLOAD_LOG_REQUEST_MAX_RETRY_INTERVAL\")})}uploadLogInterval(){0===this.uploadLogUploadingList.length&&0===this.uploadLogWaitingList.length||(0===this.uploadLogUploadingList.length&&(this.uploadLogUploadingList=this.uploadLogWaitingList.splice(0,Dy(\"UPLOAD_LOG_LENGTH_EACH_TIME\"))),this.uploadLogs().then((()=>{this.uploadErrorCount=0,this.uploadLogWaitingList.length>0&&window.setTimeout((()=>this.uploadLogInterval()),Dy(\"UPLOAD_LOG_INTERVAL\"))})).catch((e=>{this.uploadErrorCount+=1,this.uploadErrorCount<2?window.setTimeout((()=>this.uploadLogInterval()),Dy(\"UPLOAD_LOG_TWICE_RETRY_INTERVAL_V1\")):window.setTimeout((()=>this.uploadLogInterval()),Dy(\"UPLOAD_LOG_RETRY_INTERVAL_V1\"))})))}};var Zy;function $y(e){return dv(e.reportId,\"params.reportId\",0,100,!1),dv(e.category,\"params.category\",0,100,!1),dv(e.event,\"params.event\",0,100,!1),dv(e.label,\"params.label\",0,100,!1),av(e.value,\"params.value\",Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER,!1),!0}(Zy={}).FREE=\"free\",Zy.UPLOADING=\"uploading\",function(e){e[e.MISC=0]=\"MISC\",e[e.INTERNAL_EVENT=1]=\"INTERNAL_EVENT\",e[e.PUBLIC_EVENT=2]=\"PUBLIC_EVENT\",e[e.WEB_EVENT=3]=\"WEB_EVENT\",e[e.INTERNAL_API=4]=\"INTERNAL_API\",e[e.WEB_API=5]=\"WEB_API\",e[e.PUBLIC_API=6]=\"PUBLIC_API\"}({});const eA={sid:\"\",lts:0,success:null,cname:null,uid:null,peer:null,cid:null,elapse:null,extend:null,vid:0};let tA=function(e){return e.PUBLISH=\"publish\",e.SUBSCRIBE=\"subscribe\",e.WS_COMPRESSOR_INIT=\"ws_compressor_init\",e.SESSION_INIT=\"session_init\",e.JOIN_CHOOSE_SERVER=\"join_choose_server\",e.REQ_USER_ACCOUNT=\"req_user_account\",e.JOIN_GATEWAY=\"join_gateway\",e.REJOIN_GATEWAY=\"rejoin_gateway\",e.STREAM_SWITCH=\"stream_switch\",e.REQUEST_PROXY_WORKER_MANAGER=\"request_proxy_worker_manager\",e.REQUEST_PROXY_APPCENTER=\"request_proxy_appcenter\",e.FIRST_VIDEO_RECEIVED=\"first_video_received\",e.FIRST_AUDIO_RECEIVED=\"first_audio_received\",e.FIRST_VIDEO_DECODE=\"first_video_decode\",e.FIRST_AUDIO_DECODE=\"first_audio_decode\",e.ON_ADD_AUDIO_STREAM=\"on_add_audio_stream\",e.ON_ADD_VIDEO_STREAM=\"on_add_video_stream\",e.ON_UPDATE_STREAM=\"on_update_stream\",e.ON_REMOVE_STREAM=\"on_remove_stream\",e.USER_ANALYTICS=\"req_user_analytics\",e.PC_STATS=\"pc_stats\",e.UPDATE_REMOTE_RTPCAPABILITIES=\"update_remote_rtpCapabilities\",e}({}),iA=function(e){return e.SESSION=\"io.agora.pb.Wrtc.Session\",e.JOIN_CHOOSE_SERVER=\"io.agora.pb.Wrtc.JoinChooseServer\",e.REQ_USER_ACCOUNT=\"io.agora.pb.Wrtc.ReqUserAccount\",e.JOIN_GATEWAY=\"io.agora.pb.Wrtc.JoinGateway\",e.RE_JOIN_GATEWAY=\"io.agora.pb.Wrtc.ReJoinGateway\",e.PUBLISH=\"io.agora.pb.Wrtc.Publish\",e.SUBSCRIBE=\"io.agora.pb.Wrtc.Subscribe\",e.WS_COMPRESSOR_INIT=\"io.agora.pb.Wrtc.WsCompressorInit\",e.STREAM_SWITCH=\"io.agora.pb.Wrtc.StreamSwitch\",e.AUDIO_SENDING_STOPPED=\"io.agora.pb.Wrtc.AudioSendingStopped\",e.VIDEO_SENDING_STOPPED=\"io.agora.pb.Wrtc.VideoSendingStopped\",e.REQUEST_PROXY_APPCENTER=\"io.agora.pb.Wrtc.RequestProxyAppCenter\",e.REQUEST_PROXY_WORKER_MANAGER=\"io.agora.pb.Wrtc.RequestProxyWorkerManager\",e.API_INVOKE=\"io.agora.pb.Wrtc.ApiInvoke\",e.FIRST_VIDEO_RECEIVED=\"io.agora.pb.Wrtc.FirstVideoReceived\",e.FIRST_AUDIO_RECEIVED=\"io.agora.pb.Wrtc.FirstAudioReceived\",e.FIRST_VIDEO_DECODE=\"io.agora.pb.Wrtc.FirstVideoDecode\",e.FIRST_AUDIO_DECODE=\"io.agora.pb.Wrtc.FirstAudioDecode\",e.ON_ADD_AUDIO_STREAM=\"io.agora.pb.Wrtc.OnAddAudioStream\",e.ON_ADD_VIDEO_STREAM=\"io.agora.pb.Wrtc.OnAddVideoStream\",e.ON_UPDATE_STREAM=\"io.agora.pb.Wrtc.OnUpdateStream\",e.ON_REMOVE_STREAM=\"io.agora.pb.Wrtc.OnRemoveStream\",e.JOIN_CHANNEL_TIMEOUT=\"io.agora.pb.Wrtc.JoinChannelTimeout\",e.PEER_PUBLISH_STATUS=\"io.agora.pb.Wrtc.PeerPublishStatus\",e.WORKER_EVENT=\"io.agora.pb.Wrtc.WorkerEvent\",e.AP_WORKER_EVENT=\"io.agora.pb.Wrtc.APWorkerEvent\",e.JOIN_WEB_PROXY_AP=\"io.agora.pb.Wrtc.JoinWebProxyAP\",e.WEBSOCKET_QUIT=\"io.agora.pb.Wrtc.WebSocketQuit\",e.USER_ANALYTICS=\"io.agora.pb.Wrtc.UserAnalytics\",e.AUTOPLAY_FAILED=\"io.agora.pb.Wrtc.AutoplayFailed\",e.PC_STATS=\"io.agora.pb.Wrtc.PCStats\",e.UPDATE_REMOTE_RTPCAPABILITIES=\"io.agora.pb.Wrtc.UpdateRemoteRTPCapabilities\",e}({});!function(e){e[e.WORKER_EVENT=156]=\"WORKER_EVENT\",e[e.AP_WORKER_EVENT=160]=\"AP_WORKER_EVENT\"}({});let nA=function(e){return e[e.SESSION=26]=\"SESSION\",e[e.JOIN_CHOOSE_SERVER=27]=\"JOIN_CHOOSE_SERVER\",e[e.REQ_USER_ACCOUNT=196]=\"REQ_USER_ACCOUNT\",e[e.JOIN_GATEWAY=28]=\"JOIN_GATEWAY\",e[e.PUBLISH=30]=\"PUBLISH\",e[e.SUBSCRIBE=29]=\"SUBSCRIBE\",e[e.WS_COMPRESSOR_INIT=9430]=\"WS_COMPRESSOR_INIT\",e[e.STREAM_SWITCH=32]=\"STREAM_SWITCH\",e[e.AUDIO_SENDING_STOPPED=33]=\"AUDIO_SENDING_STOPPED\",e[e.VIDEO_SENDING_STOPPED=34]=\"VIDEO_SENDING_STOPPED\",e[e.REQUEST_PROXY_APPCENTER=35]=\"REQUEST_PROXY_APPCENTER\",e[e.REQUEST_PROXY_WORKER_MANAGER=36]=\"REQUEST_PROXY_WORKER_MANAGER\",e[e.API_INVOKE=41]=\"API_INVOKE\",e[e.FIRST_VIDEO_RECEIVED=348]=\"FIRST_VIDEO_RECEIVED\",e[e.FIRST_AUDIO_RECEIVED=349]=\"FIRST_AUDIO_RECEIVED\",e[e.FIRST_VIDEO_DECODE=350]=\"FIRST_VIDEO_DECODE\",e[e.FIRST_AUDIO_DECODE=351]=\"FIRST_AUDIO_DECODE\",e[e.ON_ADD_AUDIO_STREAM=352]=\"ON_ADD_AUDIO_STREAM\",e[e.ON_ADD_VIDEO_STREAM=353]=\"ON_ADD_VIDEO_STREAM\",e[e.ON_UPDATE_STREAM=356]=\"ON_UPDATE_STREAM\",e[e.ON_REMOVE_STREAM=355]=\"ON_REMOVE_STREAM\",e[e.JOIN_CHANNEL_TIMEOUT=407]=\"JOIN_CHANNEL_TIMEOUT\",e[e.PEER_PUBLISH_STATUS=408]=\"PEER_PUBLISH_STATUS\",e[e.WORKER_EVENT=156]=\"WORKER_EVENT\",e[e.AP_WORKER_EVENT=160]=\"AP_WORKER_EVENT\",e[e.JOIN_WEB_PROXY_AP=700]=\"JOIN_WEB_PROXY_AP\",e[e.WEBSOCKET_QUIT=671]=\"WEBSOCKET_QUIT\",e[e.USER_ANALYTICS=1e4]=\"USER_ANALYTICS\",e[e.AUTOPLAY_FAILED=9178]=\"AUTOPLAY_FAILED\",e}({});class rA{constructor(){jy(this,\"baseInfoMap\",new Map),jy(this,\"proxyServer\",void 0),jy(this,\"eventUploadTimer\",void 0),jy(this,\"setSessionIdTimer\",void 0),jy(this,\"url\",void 0),jy(this,\"backupUrl\",void 0),jy(this,\"_appId\",void 0),jy(this,\"keyEventUploadPendingItems\",[]),jy(this,\"normalEventUploadPendingItems\",[]),jy(this,\"apiInvokeUploadPendingItems\",[]),jy(this,\"apiInvokeCount\",0),jy(this,\"ltsList\",[]),jy(this,\"lastSendNormalEventTime\",Date.now()),jy(this,\"customReportCounterTimer\",void 0),jy(this,\"customReportCount\",0),jy(this,\"extApiInvoke\",(async e=>{for(const t of e){const e=Wy(Wy({},t),{},{sid:null,invokeId:++this.apiInvokeCount,tag:Iv.TRACER});this.sendApiInvoke(e)}})),this.eventUploadTimer=window.setInterval(this.doSend.bind(this),Dy(\"EVENT_REPORT_SEND_INTERVAL\")),this.setSessionIdTimer=window.setInterval(this.appendSessionId.bind(this),Dy(\"EVENT_REPORT_SEND_INTERVAL\"))}getBaseInfoBySessionId(e){return this.baseInfoMap.get(e)}adjustSessionStartTime(e){if(!this.baseInfoMap.has(e)&&!this.baseInfoMap.get(e))return void Qy.error(\"adjust session \".concat(e,\" start time, sid is not exist or info is undefined\"));const t=this.baseInfoMap.get(e),i=Date.now(),n=t.startTime;t.startTime=i,Qy.debug(\"rewrite session \".concat(e,\" startTime: \").concat(i,\" , \").concat(i-n,\"ms\")),this.baseInfoMap.set(e,t)}setAppId(e){this._appId=e}reportApiInvoke(e,t,i){t.timeout=t.timeout||6e4,t.reportResult=void 0===t.reportResult||t.reportResult;const n=Date.now();this.apiInvokeCount+=1;const r=this.apiInvokeCount,o=()=>({tag:t.tag,invokeId:r,sid:e,name:t.name,apiInvokeTime:n,options:t.options,states:t.states||null}),s=!!Dy(\"SHOW_REPORT_INVOKER_LOG\");s&&Qy.info(\"\".concat(t.name,\" start\"),t.options);let a=!1;$v(t.timeout).then((()=>{a||(this.sendApiInvoke(Wy(Wy({},o()),{},{error:nv.API_INVOKE_TIMEOUT,success:!1})),Qy.debug(\"\".concat(t.name,\" timeout\")))}));const c=new rv(nv.UNEXPECTED_ERROR,\"\".concat(t.name,\": this api invoke is end\"));return{onSuccess:e=>{const n=()=>{if(a)throw c;return a=!0,this.sendApiInvoke(Wy(Wy({},o()),{},{success:!0},t.reportResult&&{result:e})),s&&Qy.info(\"\".concat(t.name,\" onSuccess\")),e};return i?ry(n,t.name+\"Success\",i,(()=>a=!0)):n()},onError:e=>{const n=()=>{if(a)throw e;a=!0,this.sendApiInvoke(Wy(Wy({},o()),{},{success:!1,error:e})),s&&Qy.info(\"\".concat(t.name,\" onFailure\"),e.toString())};return i?ry(n,t.name+\"Error\",i,(()=>a=!0)):n()}}}sessionInit(e,t){if(this.baseInfoMap.has(e))return;const i=Date.now(),n=this.createBaseInfo(e,i);n.cname=t.cname;const r=Object.assign({},{willUploadConsoleLog:Dy(\"UPLOAD_LOG\"),maxTouchPoints:navigator.maxTouchPoints,areaVersion:yy?\"global\":\"oversea\",areas:Dy(\"AREAS\")&&Dy(\"AREAS\").join(\",\")},t.extend),{stringUid:o,channelProfile:s,channelMode:a,isABTestSuccess:c,lsid:d,clientRole:l}=t,u=Date.now(),h=Wy(Wy({},n),{},{eventType:tA.SESSION_INIT,appid:t.appid,browser:navigator.userAgent,buildFormat:t.buildFormat,build:wy,lts:u,elapse:u-i,extend:JSON.stringify(r),mode:t.mode,process:Dy(\"PROCESS_ID\"),appType:Dy(\"APP_TYPE\"),success:!0,version:vy,stringUid:o,channelProfile:s,channelMode:a,isABTestSuccess:c,lsid:d,clientType:Dn(p=window.navigator.userAgent).call(p,\"AgoraWebView\")?42:20,clientRole:l,serviceId:Dy(\"PROCESS_ID\"),extensionID:Dy(\"PLUGIN_INFO\").join(\",\")||\"\"});var p;this.send({type:iA.SESSION,data:h},!0)}joinChooseServer(e,t){const i=this.baseInfoMap.get(e);if(!i)return;const n=i.info,r=Date.now(),o=Wy(Wy({},n),{},{eventType:tA.JOIN_CHOOSE_SERVER,lts:r,eventElapse:t.elapse||r-t.lts,chooseServerAddr:t.csAddr,errorCode:t.ec,elapse:r-i.startTime,success:t.succ,chooseServerAddrList:JSON.stringify(t.serverList),uid:t.uid?parseInt(t.uid):null,cid:t.cid?parseInt(t.cid):null,chooseServerIp:t.csIp||\"\",opid:t.opid,unilbsServerIds:t.unilbsServerIds,extend:t.extend||void 0,isHttp3:t.isHttp3});this.send({type:iA.JOIN_CHOOSE_SERVER,data:o},!0)}reqUserAccount(e,t){const i=this.baseInfoMap.get(e);if(!i)return;const n=i.info,r=Date.now(),o=Wy(Wy({},n),{},{eventType:tA.REQ_USER_ACCOUNT,lts:r,success:t.success,serverAddress:t.serverAddr,stringUid:t.stringUid,uid:t.uid,errorCode:t.errorCode,elapse:t.elapse||r-i.startTime,eventElapse:r-t.lts,extend:JSON.stringify(t.extend)});this.send({type:iA.REQ_USER_ACCOUNT,data:o},!0)}joinGateway(e,t){const i=this.baseInfoMap.get(e);if(!i)return;const n=i.info;t.vid&&(n.vid=t.vid),n.uid=t.uid,n.cid=t.cid;const r=Date.now(),{firstSuccess:o,avoidJoinStartTime:s}=t,a=r-(o&&s?s:i.startTime),c=Wy(Wy({},n),{},{eventType:tA.JOIN_GATEWAY,lts:r,gatewayAddr:t.addr,success:t.succ,errorCode:t.ec,errorMsg:t.errorMsg||\"\",elapse:a,eventElapse:r-t.lts,firstSuccess:o,signalChannel:t.signalChannel,preload:t.preload?1:0});t.succ&&(i.lastJoinSuccessTime=r),this.send({type:iA.JOIN_GATEWAY,data:c},!0)}joinChannelTimeout(e,t){const i=this.baseInfoMap.get(e);if(!i)return;const n=Date.now(),r=Wy(Wy({},i.info),{},{lts:n,timeout:t,elapse:n-i.startTime});this.send({type:iA.JOIN_CHANNEL_TIMEOUT,data:r},!0)}publish(e,t){const i=this.baseInfoMap.get(e);if(!i)return;const n=i.info,r=Date.now(),o=Wy(Wy({},n),{},{eventType:tA.PUBLISH,lts:r,eventElapse:t.eventElapse,elapse:r-i.startTime,success:t.succ,errorCode:t.ec,videoName:t.videoName,audioName:t.audioName,screenName:t.screenName,screenshare:t.screenshare,audio:t.audio,video:t.video,p2pid:t.p2pid,publishRequestid:t.publishRequestid});this.send({type:iA.PUBLISH,data:o},!0)}subscribe(e,t,i){const n=this.baseInfoMap.get(e);if(!n)return;const r=n.info,o=Date.now(),s=Wy(Wy({},r),{},{eventType:tA.SUBSCRIBE,lts:o,eventElapse:t.eventElapse,elapse:o-n.startTime,success:t.succ,errorCode:t.ec,video:t.video,audio:t.audio,subscribeRequestid:t.subscribeRequestid,p2pid:t.p2pid,preSsrc:t.preSsrc?1:0},i&&{extend:JSON.stringify({isMassSubscribe:!0})});\"string\"==typeof t.peerid?s.peerSuid=t.peerid:s.peer=t.peerid,this.send({type:iA.SUBSCRIBE,data:s},!0)}wsCompressorInit(e){var t;const i=[...d_(t=this.baseInfoMap).call(t)],n=i.length?i[0]:\"UnableToGetSid\",r=this.baseInfoMap.get(n);if(!r)return;const o=r.info,s=Date.now(),a=Wy(Wy({},o),{},{eventType:tA.WS_COMPRESSOR_INIT,lts:s,eventElapse:e.eventElapse,elapse:s-r.startTime,status:e.status?1:2});this.send({type:iA.WS_COMPRESSOR_INIT,data:a},!0)}firstRemoteVideoDecode(e,t,i,n){const r=this.baseInfoMap.get(e);if(!r)return;const o=r.info,s=Date.now(),a=Wy(Wy(Wy({},o),n),{},{elapse:s-r.startTime,eventType:t,lts:s,firstDecodeFrame:Math.max((n.firstFrame||s)-r.startTime,0),apEnd:Math.max(n.apEnd-r.startTime,0),apStart:Math.max(n.apStart-r.startTime,0),joinGwEnd:Math.max(n.joinGwEnd-r.startTime,0),joinGwStart:Math.max(n.joinGwStart-r.startTime,0),pcEnd:Math.max(n.pcEnd-r.startTime,0),pcStart:Math.max(n.pcStart-r.startTime,0),subscriberEnd:Math.max(n.subscriberEnd-r.startTime,0),subscriberStart:Math.max(n.subscriberStart-r.startTime,0),videoAddNotify:Math.max(n.videoAddNotify-r.startTime,0)});this.send({type:i,data:a},!0)}firstRemoteFrame(e,t,i,n){const r=this.baseInfoMap.get(e);if(!r)return;const o=r.info,s=Date.now(),a=Wy(Wy(Wy({},o),n),{},{elapse:s-r.startTime,eventType:t,lts:s});this.send({type:i,data:a},!0)}pcStats(e,t){const i=this.baseInfoMap.get(e);if(!i)return;const n=i.info,r=Date.now(),o=Wy(Wy(Wy({},n),t),{},{vid:void 0===n.vid?0:Number(n.vid),elapse:r-i.startTime,eventType:tA.PC_STATS,lts:r,preallocation:t.preallocation?1:0});this.send({type:iA.PC_STATS,data:o},!0)}updateRemoteRTPCapabilities(e,t){if(e){const i=this.baseInfoMap.get(e);if(!i)return;const n=i.info,r=Date.now(),o=Wy(Wy(Wy({},n),t),{},{vid:void 0===n.vid?0:Number(n.vid),eventType:tA.UPDATE_REMOTE_RTPCAPABILITIES,lts:r});this.send({type:iA.UPDATE_REMOTE_RTPCAPABILITIES,data:o},!0)}}onGatewayStream(e,t,i,n){const r=this.baseInfoMap.get(e);if(!r)return;const o=r.info,s=Date.now(),a=Wy(Wy(Wy({},o),n),{},{eventType:t,lts:s});this.send({type:i,data:a},!0)}streamSwitch(e,t){const i=this.baseInfoMap.get(e);if(!i)return;const n=i.info,r=Date.now(),o=Wy(Wy({},n),{},{eventType:tA.STREAM_SWITCH,lts:r,isDual:t.isdual,elapse:r-i.startTime,success:t.succ});this.send({type:iA.STREAM_SWITCH,data:o},!0)}requestProxyAppCenter(e,t){const i=this.baseInfoMap.get(e);if(!i)return;const n=i.info,r=Date.now(),o=Wy(Wy({},n),{},{eventType:tA.REQUEST_PROXY_APPCENTER,lts:r,eventElapse:r-t.lts,elapse:r-i.startTime,APAddr:t.APAddr,workerManagerList:t.workerManagerList,response:t.response,errorCode:t.ec,success:t.succ});this.send({type:iA.REQUEST_PROXY_APPCENTER,data:o},!0)}requestProxyWorkerManager(e,t){const i=this.baseInfoMap.get(e);if(!i)return;const n=i.info,r=Date.now(),o=Wy(Wy({},n),{},{eventType:tA.REQUEST_PROXY_WORKER_MANAGER,lts:r,eventElapse:r-t.lts,elapse:r-i.startTime,workerManagerAddr:t.workerManagerAddr,response:t.response,errorCode:t.ec,success:t.succ});this.send({type:iA.REQUEST_PROXY_WORKER_MANAGER,data:o},!0)}setProxyServer(e){this.proxyServer=e,e?Qy.debug(\"reportProxyServerurl: \".concat(e)):Qy.debug(\"disable reportProxyServerurl: \".concat(e))}peerPublishStatus(e,t){const i=this.baseInfoMap.get(e);if(!i)return;const n=i.info,r=Date.now(),o=Wy(Wy({},n),{},{subscribeElapse:t.subscribeElapse,peer:t.peer,peerPublishDuration:Math.max(t.audioPublishDuration,t.videoPublishDuration),audiotag:t.audioPublishDuration>0?1:-1,videotag:t.videoPublishDuration>0?1:-1,lts:r,elapse:r-i.startTime,joinChannelSuccessElapse:r-(i.lastJoinSuccessTime||r),peerPublishDurationVideo:t.videoPublishDuration,peerPublishDurationAudio:t.audioPublishDuration});this.send({type:iA.PEER_PUBLISH_STATUS,data:o},!0)}workerEvent(e,t){const i=this.baseInfoMap.get(e);if(!i)return;const n=i.info,r=Date.now();(function(e,t,i){const n=e[t];if(!n||\"string\"!=typeof n)return[e];e[t]=\"\";const r=Xv(JSON.stringify(e));let o=0;const s=[];let a=0;for(let c=0;c<n.length;c++)a+=n.charCodeAt(c)<=127?1:3,a<=i-r||(s[s.length]=iv(iv({},e),{},{[t]:n.substring(o,c)}),o=c,a=n.charCodeAt(c)<=127?1:3);return o!==n.length-1&&(s[s.length]=iv(iv({},e),{},{[t]:n.substring(o)})),s})(Wy(Wy(Wy({},n),t),{},{elapse:r-i.startTime,lts:r,productType:\"WebRTC\"}),\"payload\",1300).forEach((e=>this.send({type:iA.WORKER_EVENT,data:e},!0)))}apworkerEvent(e,t){const i=this.baseInfoMap.get(e);if(!i)return;const n=i.info,r=Date.now(),o=Wy(Wy(Wy({},n),t),{},{elapse:r-i.startTime,lts:r});this.send({type:iA.AP_WORKER_EVENT,data:o},!0)}joinWebProxyAP(e,t){const i=this.baseInfoMap.get(e);if(!i)return;const n=i.info,r=Date.now(),o=Wy(Wy(Wy({},n),t),{},{elapse:r-i.startTime,lts:r,extend:t.extend||void 0});this.send({type:iA.JOIN_WEB_PROXY_AP,data:o},!0)}WebSocketQuit(e,t){const i=this.baseInfoMap.get(e);if(!i)return;const n=i.info,r=Date.now(),o=Wy(Wy(Wy({},n),t),{},{elapse:r-i.startTime,lts:r});this.send({type:iA.WEBSOCKET_QUIT,data:o},!0)}async sendCustomReportMessage(e,t){if(this.customReportCount+=t.length,this.customReportCount>Dy(\"CUSTOM_REPORT_LIMIT\"))throw new rv(nv.CUSTOM_REPORT_FREQUENCY_TOO_HIGH);this.customReportCounterTimer||(this.customReportCounterTimer=window.setInterval((()=>{this.customReportCount=0}),5e3));const i=Date.now(),n=t.map((t=>({type:iA.USER_ANALYTICS,data:Wy(Wy({sid:e},t),{},{lts:i})})));try{Dy(\"NEW_REPORT_SERVER\")?await this.postDataToStatsCollector2(n):await this.postDataToStatsCollector(n)}catch(e){throw Qy.error(\"send custom report message failed\",e.toString()),new rv(nv.CUSTOM_REPORT_SEND_FAILED,e.message)}}sendApiInvoke(e){const t=Dy(\"NOT_REPORT_EVENT\");if(e.tag&&Dn(t)&&Dn(t).call(t,e.tag))return!1;if(null===e.sid)return this.apiInvokeUploadPendingItems.push(e),!1;const i=this.baseInfoMap.get(e.sid);if(!i)return this.apiInvokeUploadPendingItems.push(e),!1;const{cname:n,uid:r,cid:o}=i.info;let s;if(e.lts=e.lts||Date.now(),e.error)if(e.error instanceof rv){const{code:t,message:i}=e.error;s=t||i||e.error.toString()}else s=e.error.toString();const a={invokeId:e.invokeId,sid:e.sid,cname:n,cid:o,uid:r,lts:e.lts,success:e.success,elapse:e.lts-i.startTime,execElapse:e.lts-e.apiInvokeTime,apiName:e.name,options:e.options?JSON.stringify(e.options):void 0,execStates:e.states?JSON.stringify(e.states):void 0,execResult:e.result?JSON.stringify(e.result):void 0,errorCode:e.error?s:void 0,errorMsg:e.error?JSON.stringify(e.error):void 0};return this.send({type:iA.API_INVOKE,data:a},!1),!0}appendSessionId(){rA.__CLIENT_LIST__.forEach((e=>{if(e._sessionId){const t=this.apiInvokeUploadPendingItems.length;for(let i=0;i<t;i++){const t=this.apiInvokeUploadPendingItems.shift();t&&(t.sid=e._sessionId,this.sendApiInvoke(Object.assign({},t)))}}}))}send(e,t){if(t)return this.keyEventUploadPendingItems.push(e),void this.sendItems(this.keyEventUploadPendingItems,!0);this.normalEventUploadPendingItems.push(e),this.normalEventUploadPendingItems.length>Dy(\"NORMAL_EVENT_QUEUE_CAPACITY\")&&this.normalEventUploadPendingItems.splice(0,1),this.normalEventUploadPendingItems.length>=10&&this.sendItems(this.normalEventUploadPendingItems,!1)}doSend(){this.keyEventUploadPendingItems.length>0&&this.sendItems(this.keyEventUploadPendingItems,!0),this.normalEventUploadPendingItems.length>0&&Date.now()-this.lastSendNormalEventTime>=5e3&&this.sendItems(this.normalEventUploadPendingItems,!1)}sendItems(e,t){const i=[],n=[];for(;e.length;){const t=e.shift();i.length<20?i.push(t):n.push(t)}e.push(...n);for(const e of[...i]){var r;-1!==this.ltsList.indexOf(e.data.lts)?(e.data.lts=this.ltsList[this.ltsList.length-1]+1,this.ltsList.push(e.data.lts)):(this.ltsList.push(e.data.lts),aE(r=this.ltsList).call(r,((e,t)=>e-t)))}return t||(this.lastSendNormalEventTime=Date.now()),Dy(\"ENABLE_EVENT_REPORT\")?(i.length&&(Dy(\"NEW_REPORT_SERVER\")?this.postDataToStatsCollector2(i):this.postDataToStatsCollector(i)).catch((e=>i=>{Dy(\"EVENT_REPORT_RETRY\")&&(t?this.keyEventUploadPendingItems=this.keyEventUploadPendingItems.concat(e):(this.normalEventUploadPendingItems=this.normalEventUploadPendingItems.concat(e),this.normalEventUploadPendingItems.length>Dy(\"NORMAL_EVENT_QUEUE_CAPACITY\")&&(this.normalEventUploadPendingItems.splice(0,this.normalEventUploadPendingItems.length-Dy(\"NORMAL_EVENT_QUEUE_CAPACITY\")),Qy.warning(\"report: drop normal events\"))))})(i)),e):e}async postDataToStatsCollector2(e){Vv.networkState===Pv.OFFLINE&&await Gh.race([Vv.onlineWaiter,$v(2*_y.maxRetryTimeout)]);const t=e=>{let t=new Uint8Array;return e.forEach((e=>{const i=mv(JSON.stringify(e.data)),n=new ArrayBuffer(5),r=(e=>{let t=0;return Object.entries(iA).forEach((i=>{let[n,r]=i;r===e.type&&(t=nA[n])})),t})(e),o=new DataView(n);o.setUint16(0,i.byteLength,!0),o.setUint8(2,255&r),o.setUint8(3,r>>>8&255),o.setUint8(4,r>>>16&255),t=fv(t,new Uint8Array(n)),t=fv(t,i)})),t},i=\"event\";let n=this.proxyServer?\"https://\".concat(this.proxyServer,\"/rs/?h=\").concat(Dy(\"NEW_REPORT_SERVER_DOMAINS\")[0],\"&p=443&d=\").concat(i):\"https://\".concat(Dy(\"NEW_REPORT_SERVER_DOMAINS\")[0],\"/\").concat(i);for(let r=0;r<2;r+=1){1===r&&(n=this.proxyServer?\"https://\".concat(this.proxyServer,\"/rs/?h=\").concat(Dy(\"NEW_REPORT_SERVER_DOMAINS\")[1],\"&p=443&d=\").concat(i):\"https://\".concat(Dy(\"NEW_REPORT_SERVER_DOMAINS\")[1],\"/\").concat(i));try{await Ry(n,{timeout:1e4,data:t(e),headers:Wy(Wy({biz:\"webrtc\",sendts:Math.round(Date.now()/1e3),debug:\"false\"},this._appId&&{appid:this._appId}),{},{\"Content-Type\":\"application/octet-stream\"})},!0)}catch(e){if(1===r)throw e;continue}return}}async postDataToStatsCollector(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i={msgType:\"EventMessages\",sentTs:Math.round(Date.now()/1e3),payloads:e.map((e=>JSON.stringify(e))),vid:(e=>{const t=e&&e.data.sid&&this.baseInfoMap.get(e.data.sid);return t&&t.info.vid&&+t.info.vid||0})(e[0])};Vv.networkState===Pv.OFFLINE&&await Gh.race([Vv.onlineWaiter,$v(2*_y.maxRetryTimeout)]);const n=t?\"/events/proto-raws\":\"/events/messages\";let r=this.url||(this.proxyServer?\"https://\".concat(this.proxyServer,\"/rs/?h=\").concat(Dy(\"EVENT_REPORT_DOMAIN\"),\"&p=\").concat(Dy(\"STATS_COLLECTOR_PORT\"),\"&d=\").concat(n):\"https://\".concat(Dy(\"EVENT_REPORT_DOMAIN\"),\":\").concat(Dy(\"STATS_COLLECTOR_PORT\")).concat(n));for(let e=0;e<2;e+=1){1===e&&(r=this.backupUrl||(this.proxyServer?\"https://\".concat(this.proxyServer,\"/rs/?h=\").concat(Dy(\"EVENT_REPORT_BACKUP_DOMAIN\"),\"&p=\").concat(Dy(\"STATS_COLLECTOR_PORT\"),\"&d=\").concat(n):\"https://\".concat(Dy(\"EVENT_REPORT_BACKUP_DOMAIN\"),\":\").concat(Dy(\"STATS_COLLECTOR_PORT\")).concat(n)));try{t?await Cy(r,{timeout:1e4,data:i}):await Ry(r,{timeout:1e4,data:i})}catch(t){if(1===e)throw t;continue}return}}createBaseInfo(e,t){const i=Object.assign({},eA);return i.sid=e,this.baseInfoMap.set(e,{info:i,startTime:t}),i}reportResourceTiming(e,t){const i=performance.getEntriesByName(e),n=i[i.length-1];n&&this.reportApiInvoke(t,{name:\"Client.resourceTiming\",options:n,tag:Iv.TRACER}).onSuccess()}}function oA(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,i,n){const r=n.value;if(\"function\"==typeof r){const o=e.className||t.__className__||(\"AgoraRTCClient\"===t.constructor.name?\"Client\":t.constructor.name);n.value=function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];let a=n;if(e.argsMap)try{a=e.argsMap(this,...n)}catch(e){Qy.warning(e),a=[]}try{JSON.stringify(a)}catch(e){Qy.warning(\"arguments for method \".concat(o,\".\").concat(String(i),\" not serializable for apiInvoke.\")),a=[]}const c=(e.report||sA).reportApiInvoke(this._sessionId||null,{name:\"\".concat(o,\".\").concat(String(i)),options:a,tag:Iv.TRACER,reportResult:e.reportResult},e.throttleTime);try{const t=r.apply(this,n);return t instanceof Gh?t.then((t=>(c.onSuccess(e.reportResult&&t),t))).catch((e=>{throw c.onError(e),e})):(c.onSuccess(e.reportResult&&t),t)}catch(e){throw c.onError(e),e}}}return n}}jy(rA,\"__CLIENT_LIST__\",[]);const sA=new rA;Hy.on(\"REPORT_LOG_UPLOAD\",(e=>{e.networkState=Vv.networkState,sA.reportApiInvoke(null,{name:\"logUploadError\",options:e,tag:Iv.TRACER}).onSuccess(\"logUploadError\")}));const aA=[\"CHINA\",\"GLOBAL\"],cA=function(){const e=\"us\".concat(\"erna\",\"me\"),t=\"pa\".concat(\"sswo\",\"rd\"),i=[\"t\",\"s\",\"t\"];i.splice(1,0,\"e\");const n=i.join(\"\"),r=[];for(let e=0;e<6;e++)r.push(\"1\");const o=r.join(\"\"),s={};return s[e]=n,s[t]=o,Object.assign(s,{turnServerURL:\"\",tcpport:3433,udpport:3478,forceturn:!1})}();window.DEFAULT_TURN_CONFIG=cA,yy||(Oy.WEBCS_DOMAIN=[\"ap-web-1-oversea.agora.io\",\"ap-web-1-north-america.agora.io\"],Oy.WEBCS_DOMAIN_BACKUP_LIST=[\"ap-web-2-oversea.agora.io\",\"ap-web-2-north-america.agora.io\"],Oy.PROXY_CS=[\"proxy-ap-web-oversea.agora.io\",\"proxy-ap-web-america.agora.io\"],Oy.CDS_AP=[\"cds-ap-web-oversea.agora.io\",\"cds-ap-web-america.agora.io\",\"cds-ap-web-america2.agora.io\"],Oy.ACCOUNT_REGISTER=[\"sua-ap-web-oversea.agora.io\",\"sua-ap-web-america.agora.io\",\"sua-ap-web-america2.agora.io\"],Oy.UAP_AP=[\"uap-ap-web-oversea.agora.io\",\"uap-ap-web-america.agora.io\",\"uap-ap-web-america2.agora.io\"],Oy.LOG_UPLOAD_SERVER=\"logservice-oversea.agora.io\",Oy.EVENT_REPORT_DOMAIN=\"statscollector-1-oversea.agora.io\",Oy.EVENT_REPORT_BACKUP_DOMAIN=\"statscollector-2-oversea.agora.io\",Oy.PROXY_SERVER_TYPE3=\"webrtc-cloud-proxy.agora.io\",Oy.AREAS=[\"NORTH_AMERICA\",\"OVERSEA\"]);const dA=[[0,1,2,3,4,5,5],[0,2,2,3,4,5,5],[0,3,3,3,4,5,5],[0,4,4,4,4,5,5],[0,5,5,5,5,5,5]],lA=[];function uA(e,t){return!!t&&lA.some((i=>i.uid===e&&i.channelName===t))}rA.__CLIENT_LIST__=lA;var hA=If.forEach,pA=Bn(\"forEach\")?[].forEach:function(e){return hA(this,e,arguments.length>1?arguments[1]:void 0)};wi({target:\"Array\",proto:!0,forced:[].forEach!=pA},{forEach:pA});var _A=Xi(\"Array\").forEach,EA=pn,mA=Ze,fA=l,TA=_A,SA=Array.prototype,gA={DOMTokenList:!0,NodeList:!0},RA=function(e){var t=e.forEach;return e===SA||fA(SA,e)&&t===SA.forEach||mA(gA,EA(e))?TA:t},CA=i(RA),IA=Je,vA=eo;wi({target:\"Object\",stat:!0,forced:n((function(){vA(1)}))},{keys:function(e){return vA(IA(e))}});var yA=i(ie.Object.keys),AA=i(zn),bA=wi,wA=vm,OA=d([].reverse),NA=[1,2];bA({target:\"Array\",proto:!0,forced:String(NA)===String(NA.reverse())},{reverse:function(){return wA(this)&&(this.length=this.length),OA(this)}});var DA=Xi(\"Array\").reverse,PA=l,LA=DA,kA=Array.prototype,MA=function(e){var t=e.reverse;return e===kA||PA(kA,e)&&t===kA.reverse?LA:t},UA=MA,xA=i(UA),VA=wi,FA=vm,BA=jc,jA=te,GA=xi,WA=Gi,HA=Z,KA=E_,YA=ht,qA=Xc,zA=Um(\"slice\"),JA=YA(\"species\"),XA=Array,QA=Math.max;VA({target:\"Array\",proto:!0,forced:!zA},{slice:function(e,t){var i,n,r,o=HA(this),s=WA(o),a=GA(e,s),c=GA(void 0===t?s:t,s);if(FA(o)&&(i=o.constructor,(BA(i)&&(i===XA||FA(i.prototype))||jA(i)&&null===(i=i[JA]))&&(i=void 0),i===XA||void 0===i))return qA(o,a,c);for(n=new(void 0===i?XA:i)(QA(c-a,0)),r=0;a<c;a++,r++)a in o&&KA(n,r,o[a]);return n.length=r,n}});var ZA=Xi(\"Array\").slice,$A=l,eb=ZA,tb=Array.prototype,ib=function(e){var t=e.slice;return e===tb||$A(tb,e)&&t===tb.slice?eb:t},nb=i(ib);function rb(e,t,i,n,r){var o,s,a,c={};return CA(o=yA(n)).call(o,(function(e){c[e]=n[e]})),c.enumerable=!!c.enumerable,c.configurable=!!c.configurable,(\"value\"in c||c.initializer)&&(c.writable=!0),c=AA(s=xA(a=nb(i).call(i)).call(a)).call(s,(function(i,n){return n(e,t,i)||i}),c),r&&void 0!==c.initializer&&(c.value=c.initializer?c.initializer.call(r):void 0,c.initializer=void 0),void 0===c.initializer&&(Cm(e,t,c),c=null),c}let ob=function(e){return e.L1T1=\"L1T1\",e.L1T2=\"L1T2\",e.L1T3=\"L1T3\",e.L1T3_KEY=\"L1T3_KEY\",e.L2T1_KEY=\"L2T1_KEY\",e.L2T2_KEY=\"L2T2_KEY\",e.L2T3_KEY=\"L2T3_KEY\",e.L3T1_KEY=\"L3T1_KEY\",e.L3T2_KEY=\"L3T2_KEY\",e.L3T3_KEY=\"L3T3_KEY\",e}({}),sb=function(e){return e.CERTIFICATE=\"certificate\",e.CODEC=\"codec\",e.CANDIDATE_PAIR=\"candidate-pair\",e.LOCAL_CANDIDATE=\"local-candidate\",e.REMOTE_CANDIDATE=\"remote-candidate\",e.INBOUND=\"inbound-rtp\",e.TRACK=\"track\",e.OUTBOUND=\"outbound-rtp\",e.PC=\"peer-connection\",e.REMOTE_INBOUND=\"remote-inbound-rtp\",e.REMOTE_OUTBOUND=\"remote-outbound-rtp\",e.TRANSPORT=\"transport\",e.CSRC=\"csrc\",e.DATA_CHANNEL=\"data-channel\",e.STREAM=\"stream\",e.SENDER=\"sender\",e.RECEIVER=\"receiver\",e}({}),ab=function(e){return e[e.ACCESS_POINT=101]=\"ACCESS_POINT\",e[e.UNILBS=201]=\"UNILBS\",e[e.STRING_UID_ALLOCATOR=901]=\"STRING_UID_ALLOCATOR\",e}({}),cb=function(e){return e[e.IIIEGAL_APPID=1]=\"IIIEGAL_APPID\",e[e.IIIEGAL_UID=2]=\"IIIEGAL_UID\",e[e.INTERNAL_ERROR=3]=\"INTERNAL_ERROR\",e}({}),db=function(e){return e[e.INVALID_VENDOR_KEY=5]=\"INVALID_VENDOR_KEY\",e[e.INVALID_CHANNEL_NAME=7]=\"INVALID_CHANNEL_NAME\",e[e.INTERNAL_ERROR=8]=\"INTERNAL_ERROR\",e[e.NO_AUTHORIZED=9]=\"NO_AUTHORIZED\",e[e.DYNAMIC_KEY_TIMEOUT=10]=\"DYNAMIC_KEY_TIMEOUT\",e[e.NO_ACTIVE_STATUS=11]=\"NO_ACTIVE_STATUS\",e[e.DYNAMIC_KEY_EXPIRED=13]=\"DYNAMIC_KEY_EXPIRED\",e[e.STATIC_USE_DYNAMIC_KEY=14]=\"STATIC_USE_DYNAMIC_KEY\",e[e.DYNAMIC_USE_STATIC_KEY=15]=\"DYNAMIC_USE_STATIC_KEY\",e[e.USER_OVERLOAD=16]=\"USER_OVERLOAD\",e[e.FORBIDDEN_REGION=18]=\"FORBIDDEN_REGION\",e[e.CANNOT_MEET_AREA_DEMAND=19]=\"CANNOT_MEET_AREA_DEMAND\",e}({}),lb=function(e){return e[e.NO_FLAG_SET=100]=\"NO_FLAG_SET\",e[e.FLAG_SET_BUT_EMPTY=101]=\"FLAG_SET_BUT_EMPTY\",e[e.INVALID_FALG_SET=102]=\"INVALID_FALG_SET\",e[e.FLAG_SET_BUT_NO_RE=103]=\"FLAG_SET_BUT_NO_RE\",e[e.INVALID_SERVICE_ID=104]=\"INVALID_SERVICE_ID\",e[e.NO_SERVICE_AVAILABLE=200]=\"NO_SERVICE_AVAILABLE\",e[e.NO_SERVICE_AVAILABLE_P2P=201]=\"NO_SERVICE_AVAILABLE_P2P\",e[e.NO_SERVICE_AVAILABLE_VOICE=202]=\"NO_SERVICE_AVAILABLE_VOICE\",e[e.NO_SERVICE_AVAILABLE_WEBRTC=203]=\"NO_SERVICE_AVAILABLE_WEBRTC\",e[e.NO_SERVICE_AVAILABLE_CDS=204]=\"NO_SERVICE_AVAILABLE_CDS\",e[e.NO_SERVICE_AVAILABLE_CDN=205]=\"NO_SERVICE_AVAILABLE_CDN\",e[e.NO_SERVICE_AVAILABLE_TDS=206]=\"NO_SERVICE_AVAILABLE_TDS\",e[e.NO_SERVICE_AVAILABLE_REPORT=207]=\"NO_SERVICE_AVAILABLE_REPORT\",e[e.NO_SERVICE_AVAILABLE_APP_CENTER=208]=\"NO_SERVICE_AVAILABLE_APP_CENTER\",e[e.NO_SERVICE_AVAILABLE_ENV0=209]=\"NO_SERVICE_AVAILABLE_ENV0\",e[e.NO_SERVICE_AVAILABLE_VOET=210]=\"NO_SERVICE_AVAILABLE_VOET\",e[e.NO_SERVICE_AVAILABLE_STRING_UID=211]=\"NO_SERVICE_AVAILABLE_STRING_UID\",e[e.NO_SERVICE_AVAILABLE_WEBRTC_UNILBS=212]=\"NO_SERVICE_AVAILABLE_WEBRTC_UNILBS\",e[e.NO_SERVICE_AVAILABLE_UNILBS_FLV=213]=\"NO_SERVICE_AVAILABLE_UNILBS_FLV\",e}({}),ub=function(e){return e[e.K_TIMESTAMP_EXPIRED=2]=\"K_TIMESTAMP_EXPIRED\",e[e.K_CHANNEL_PERMISSION_INVALID=3]=\"K_CHANNEL_PERMISSION_INVALID\",e[e.K_CERTIFICATE_INVALID=4]=\"K_CERTIFICATE_INVALID\",e[e.K_CHANNEL_NAME_EMPTY=5]=\"K_CHANNEL_NAME_EMPTY\",e[e.K_CHANNEL_NOT_FOUND=6]=\"K_CHANNEL_NOT_FOUND\",e[e.K_TICKET_INVALID=7]=\"K_TICKET_INVALID\",e[e.K_CHANNEL_CONFLICTED=8]=\"K_CHANNEL_CONFLICTED\",e[e.K_SERVICE_NOT_READY=9]=\"K_SERVICE_NOT_READY\",e[e.K_SERVICE_TOO_HEAVY=10]=\"K_SERVICE_TOO_HEAVY\",e[e.K_UID_BANNED=14]=\"K_UID_BANNED\",e[e.K_IP_BANNED=15]=\"K_IP_BANNED\",e[e.K_CHANNEL_BANNED=16]=\"K_CHANNEL_BANNED\",e[e.K_AUTO_REBALANCE=28]=\"K_AUTO_REBALANCE\",e[e.WARN_NO_AVAILABLE_CHANNEL=103]=\"WARN_NO_AVAILABLE_CHANNEL\",e[e.WARN_LOOKUP_CHANNEL_TIMEOUT=104]=\"WARN_LOOKUP_CHANNEL_TIMEOUT\",e[e.WARN_LOOKUP_CHANNEL_REJECTED=105]=\"WARN_LOOKUP_CHANNEL_REJECTED\",e[e.WARN_OPEN_CHANNEL_TIMEOUT=106]=\"WARN_OPEN_CHANNEL_TIMEOUT\",e[e.WARN_OPEN_CHANNEL_REJECTED=107]=\"WARN_OPEN_CHANNEL_REJECTED\",e[e.WARN_REQUEST_DEFERRED=108]=\"WARN_REQUEST_DEFERRED\",e[e.ERR_DYNAMIC_KEY_TIMEOUT=109]=\"ERR_DYNAMIC_KEY_TIMEOUT\",e[e.ERR_NO_AUTHORIZED=110]=\"ERR_NO_AUTHORIZED\",e[e.ERR_VOM_SERVICE_UNAVAILABLE=111]=\"ERR_VOM_SERVICE_UNAVAILABLE\",e[e.ERR_NO_CHANNEL_AVAILABLE_CODE=112]=\"ERR_NO_CHANNEL_AVAILABLE_CODE\",e[e.ERR_MASTER_VOCS_UNAVAILABLE=114]=\"ERR_MASTER_VOCS_UNAVAILABLE\",e[e.ERR_INTERNAL_ERROR=115]=\"ERR_INTERNAL_ERROR\",e[e.ERR_NO_ACTIVE_STATUS=116]=\"ERR_NO_ACTIVE_STATUS\",e[e.ERR_INVALID_UID=117]=\"ERR_INVALID_UID\",e[e.ERR_DYNAMIC_KEY_EXPIRED=118]=\"ERR_DYNAMIC_KEY_EXPIRED\",e[e.ERR_STATIC_USE_DYANMIC_KE=119]=\"ERR_STATIC_USE_DYANMIC_KE\",e[e.ERR_DYNAMIC_USE_STATIC_KE=120]=\"ERR_DYNAMIC_USE_STATIC_KE\",e[e.ERR_NO_VOCS_AVAILABLE=2e3]=\"ERR_NO_VOCS_AVAILABLE\",e[e.ERR_NO_VOS_AVAILABLE=2001]=\"ERR_NO_VOS_AVAILABLE\",e[e.ERR_JOIN_CHANNEL_TIMEOUT=2002]=\"ERR_JOIN_CHANNEL_TIMEOUT\",e[e.ERR_REPEAT_JOIN_CHANNEL=2003]=\"ERR_REPEAT_JOIN_CHANNEL\",e[e.ERR_JOIN_BY_MULTI_IP=2004]=\"ERR_JOIN_BY_MULTI_IP\",e[e.ERR_NOT_JOINED=2011]=\"ERR_NOT_JOINED\",e[e.ERR_REPEAT_JOIN_REQUEST=2012]=\"ERR_REPEAT_JOIN_REQUEST\",e[e.ERR_INVALID_VENDOR_KEY=2013]=\"ERR_INVALID_VENDOR_KEY\",e[e.ERR_INVALID_CHANNEL_NAME=2014]=\"ERR_INVALID_CHANNEL_NAME\",e[e.ERR_INVALID_STRINGUID=2015]=\"ERR_INVALID_STRINGUID\",e[e.ERR_TOO_MANY_USERS=2016]=\"ERR_TOO_MANY_USERS\",e[e.ERR_SET_CLIENT_ROLE_TIMEOUT=2017]=\"ERR_SET_CLIENT_ROLE_TIMEOUT\",e[e.ERR_SET_CLIENT_ROLE_NO_PERMISSION=2018]=\"ERR_SET_CLIENT_ROLE_NO_PERMISSION\",e[e.ERR_SET_CLIENT_ROLE_ALREADY_IN_USE=2019]=\"ERR_SET_CLIENT_ROLE_ALREADY_IN_USE\",e[e.ERR_PUBLISH_REQUEST_INVALID=2020]=\"ERR_PUBLISH_REQUEST_INVALID\",e[e.ERR_SUBSCRIBE_REQUEST_INVALID=2021]=\"ERR_SUBSCRIBE_REQUEST_INVALID\",e[e.ERR_NOT_SUPPORTED_MESSAGE=2022]=\"ERR_NOT_SUPPORTED_MESSAGE\",e[e.ERR_ILLEAGAL_PLUGIN=2023]=\"ERR_ILLEAGAL_PLUGIN\",e[e.ERR_REJOIN_TOKEN_INVALID=2024]=\"ERR_REJOIN_TOKEN_INVALID\",e[e.ERR_REJOIN_USER_NOT_JOINED=2025]=\"ERR_REJOIN_USER_NOT_JOINED\",e[e.ERR_INVALID_OPTIONAL_INFO=2027]=\"ERR_INVALID_OPTIONAL_INFO\",e[e.ILLEGAL_AES_PASSWORD=2028]=\"ILLEGAL_AES_PASSWORD\",e[e.ILLEGAL_CLIENT_ROLE_LEVEL=2029]=\"ILLEGAL_CLIENT_ROLE_LEVEL\",e[e.ERR_TOO_MANY_BROADCASTERS=2031]=\"ERR_TOO_MANY_BROADCASTERS\",e[e.ERR_TOO_MANY_SUBSCRIBERS=2032]=\"ERR_TOO_MANY_SUBSCRIBERS\",e[e.ERR_LICENSE_MISSING=32769]=\"ERR_LICENSE_MISSING\",e[e.ERR_LICENSE_EXPIRED=32771]=\"ERR_LICENSE_EXPIRED\",e[e.ERR_LICENSE_MINUTES_EXCEEDED=32773]=\"ERR_LICENSE_MINUTES_EXCEEDED\",e[e.ERR_LICENSE_PERIOD_INVALID=32774]=\"ERR_LICENSE_PERIOD_INVALID\",e[e.ERR_LICENSE_MULTIPLE_SDK_SERVICE=32778]=\"ERR_LICENSE_MULTIPLE_SDK_SERVICE\",e[e.ERR_LICENSE_ILLEGAL=32783]=\"ERR_LICENSE_ILLEGAL\",e[e.ERR_TEST_RECOVER=9e3]=\"ERR_TEST_RECOVER\",e[e.ERR_TEST_TRYNEXT=9001]=\"ERR_TEST_TRYNEXT\",e[e.ERR_TEST_RETRY=9002]=\"ERR_TEST_RETRY\",e}({}),hb=function(e){return e.CONNECTING=\"connecting\",e.CONNECTED=\"connected\",e.RECONNECTING=\"reconnecting\",e.CLOSED=\"closed\",e}({}),pb=function(e){return e.WS_CONNECTED=\"ws_connected\",e.WS_RECONNECTING=\"ws_reconnecting\",e.WS_CLOSED=\"ws_closed\",e.WS_RECONNECT_WAITTING_FINISH=\"ws_reconnect_waitting_finish\",e.WS_RECONNECT_CREATE_CONNECTION=\"ws_reconnect_create_connection\",e.ON_BINARY_DATA=\"on_binary_data\",e.REQUEST_RECOVER=\"request_recover\",e.REQUEST_JOIN_INFO=\"request_join_info\",e.REQUEST_REJOIN_INFO=\"req_rejoin_info\",e.IS_P2P_DISCONNECTED=\"is_p2p_dis\",e.DISCONNECT_P2P=\"dis_p2p\",e.ABORT_P2P_EXECUTION=\"abort_p2p_execution\",e.NEED_RENEW_SESSION=\"need-sid\",e.REPORT_JOIN_GATEWAY=\"report_join_gateway\",e.REQUEST_TIMEOUT=\"request_timeout\",e.REQUEST_SUCCESS=\"request_success\",e.JOIN_RESPONSE=\"join_response\",e.PRE_CONNECT_PC=\"pre_connect_pc\",e.P2P_CONNECTION=\"p2p_connection\",e.P2P_REMOTE_CANDIDATE_UPDATE=\"p2p_remote_candidate_update\",e.P2P_SUBSCRIBE=\"p2p_subscribe\",e.P2P_UNSUBSCRIBE=\"p2p_unsubscribe\",e.P2P_EXCHANGE_SDP=\"p2p_exchange_sdp\",e.P2P_ON_ADD_VIDEO_STREAM=\"p2p_on_add_video_stream\",e.P2P_ON_ADD_AUDIO_STREAM=\"p2p_on_add_audio_stream\",e}({}),_b=function(e){return e.PING=\"ping\",e.PING_BACK=\"ping_back\",e.JOIN=\"join_v3\",e.REJOIN=\"rejoin_v3\",e.LEAVE=\"leave\",e.SET_CLIENT_ROLE=\"set_client_role\",e.PUBLISH=\"publish\",e.PUBLISH_DATASTREAM=\"publish_datastream\",e.UNPUBLISH=\"unpublish\",e.UNPUBLISH_DATASTREAM=\"unpublish_datastream\",e.SUBSCRIBE=\"subscribe\",e.PRE_SUBSCRIBE=\"pre_subscribe\",e.SUBSCRIBE_DATASTREAM=\"subscribe_datastream\",e.SUBSCRIBE_STREAMS=\"subscribe_streams\",e.UNSUBSCRIBE=\"unsubscribe\",e.UNSUBSCRIBE_DATASTREAM=\"unsubscribe_datastream\",e.UNSUBSCRIBE_STREAMS=\"unsubscribe_streams\",e.SUBSCRIBE_CHANGE=\"subscribe_change\",e.TRAFFIC_STATS=\"traffic_stats\",e.RENEW_TOKEN=\"renew_token\",e.SWITCH_VIDEO_STREAM=\"switch_video_stream\",e.DEFAULT_VIDEO_STREAM=\"default_video_stream\",e.SET_FALLBACK_OPTION=\"set_fallback_option\",e.GATEWAY_INFO=\"gateway_info\",e.CONTROL=\"control\",e.SEND_METADATA=\"send_metadata\",e.DATA_STREAM=\"data_stream\",e.PICK_SVC_LAYER=\"pick_svc_layer\",e.RESTART_ICE=\"restart_ice\",e.CONNECT_PC=\"connect_pc\",e.SET_VIDEO_PROFILE=\"set_video_profile\",e.SET_PARAMETER=\"set_parameter\",e.SET_RTM2_FLAG=\"set_rtm2_flag\",e}({}),Eb=function(e){return e.WRTC_STATS=\"wrtc_stats\",e.WS_INFLATE_DATA_LENGTH=\"ws_inflate_data_length\",e.DENOISER_STATS=\"denoiser_stats\",e.EXTENSION_USAGE_STATS=\"extension_usage_stats\",e}({}),mb=function(e){return e.ON_USER_ONLINE=\"on_user_online\",e.ON_USER_OFFLINE=\"on_user_offline\",e.ON_STREAM_FALLBACK_UPDATE=\"on_stream_fallback_update\",e.ON_PUBLISH_STREAM=\"on_publish_stream\",e.ON_UPLINK_STATS=\"on_uplink_stats\",e.ON_P2P_LOST=\"on_p2p_lost\",e.ON_REMOVE_STREAM=\"on_remove_stream\",e.ON_ADD_AUDIO_STREAM=\"on_add_audio_stream\",e.ON_ADD_VIDEO_STREAM=\"on_add_video_stream\",e.ON_TOKEN_PRIVILEGE_WILL_EXPIRE=\"on_token_privilege_will_expire\",e.ON_TOKEN_PRIVILEGE_DID_EXPIRE=\"on_token_privilege_did_expire\",e.ON_USER_BANNED=\"on_user_banned\",e.ON_USER_LICENSE_BANNED=\"on_user_license_banned\",e.ON_NOTIFICATION=\"on_notification\",e.ON_CRYPT_ERROR=\"on_crypt_error\",e.MUTE_AUDIO=\"mute_audio\",e.MUTE_VIDEO=\"mute_video\",e.UNMUTE_AUDIO=\"unmute_audio\",e.UNMUTE_VIDEO=\"unmute_video\",e.ON_P2P_OK=\"on_p2p_ok\",e.RECEIVE_METADATA=\"receive_metadata\",e.ON_DATA_STREAM=\"on_data_stream\",e.ON_RTP_CAPABILITY_CHANGE=\"on_rtp_capability_change\",e.ON_REMOTE_DATASTREAM_UPDATE=\"on_remote_datastream_update\",e.ON_REMOTE_FULL_DATASTREAM_INFO=\"on_remote_full_datastream_info\",e.ENABLE_LOCAL_VIDEO=\"enable_local_video\",e.DISABLE_LOCAL_VIDEO=\"disable_local_video\",e.ENABLE_LOCAL_AUDIO=\"enable_local_audio\",e.DISABLE_LOCAL_AUDIO=\"disable_local_audio\",e.ON_PUBLISHED_USER_LIST=\"on_published_user_list\",e}({}),fb=function(e){return e.SEND_ONLY=\"SEND_ONLY\",e.RECEIVE_ONLY=\"RECEIVE_ONLY\",e}({}),Tb=function(e){return e.CONNECTED=\"websocket:connected\",e.RECONNECTING=\"websocket:reconnecting\",e.WILL_RECONNECT=\"websocket:will_reconnect\",e.CLOSED=\"websocket:closed\",e.FAILED=\"websocket:failed\",e.ON_MESSAGE=\"websocket:on_message\",e.REQUEST_NEW_URLS=\"websocket:request_new_urls\",e.RECONNECT_WAITTING_FINISH=\"websocket:reconnect_waitting_finish\",e.RECONNECT_CREATE_CONNECTION=\"websocket:reconnect_create_connection\",e.ON_TOKEN_PRIVILEGE_DID_EXPIRE=\"websocket:on_token_privilege_did_expire\",e}({});class Sb extends rv{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"\",arguments.length>2?arguments[2]:void 0),og(this,\"name\",\"AgoraRTCException\")}print(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:\"error\";return super.print(e,Qy)}throw(){super.throw(Qy)}}function gb(e){if(\"string\"!=typeof e||!/^[a-zA-Z0-9 \\!\\#\\$\\%\\&\\(\\)\\+\\-\\:\\;\\<\\=\\.\\>\\?\\@\\[\\]\\^\\_\\{\\}\\|\\~\\,]{1,64}$/.test(e))throw Qy.error(\"Invalid Channel Name \".concat(e)),new Sb(nv.INVALID_PARAMS,\"The length must be within 64 bytes. The supported characters: a-z,A-Z,0-9,space,!, #, $, %, &, (, ), +, -, :, ;, <, =, ., >, ?, @, [, ], ^, _,  {, }, |, ~, ,\")}function Rb(e){if(!function(e){return\"number\"==typeof e&&Math.floor(e)===e&&0<=e&&e<=4294967295}(e)&&!hv(e,1,255))throw new Sb(nv.INVALID_PARAMS,\"[String uid] Length of the string: [1,255]. ASCII characters only. [Number uid] The value range is [0,10000]\");\"string\"==typeof e&&Qy.warn(\"You input a string as the user ID, to ensure better end-user experience, Agora highly suggests not using a string as the user ID.\")}let Cb=function(e){return e.TRANSCODE=\"mix_streaming\",e.RAW=\"raw_streaming\",e}({});const Ib={alpha:1,height:640,width:360,x:0,y:0,zOrder:0,audioChannel:0},vb={x:0,y:0,width:160,height:160,zOrder:255,alpha:1};function yb(e,t){dv(e.url,\"\".concat(t,\".url\"),1,1e3,!1),uv(e.x)||av(e.x,\"\".concat(t,\".x\"),0,1e4),uv(e.y)||av(e.y,\"\".concat(t,\".y\"),0,1e4),uv(e.width)||av(e.width,\"\".concat(t,\".width\"),0,1e4),uv(e.height)||av(e.height,\"\".concat(t,\".height\"),0,1e4),uv(e.zOrder)||av(e.zOrder,\"\".concat(t,\".zOrder\"),0,255),uv(e.alpha)||av(e.alpha,\"\".concat(t,\".alpha\"),0,1,!1)}const Ab={audioBitrate:48,audioChannels:1,audioSampleRate:48e3,backgroundColor:0,height:360,lowLatency:!1,videoBitrate:400,videoCodecProfile:100,videoCodecType:1,videoFrameRate:15,videoGop:30,width:640,images:[],userConfigs:[],userConfigExtraInfo:\"\"};let bb=function(e){return e.WARNING=\"@live_uap-warning\",e.ERROR=\"@line_uap-error\",e.PUBLISH_STREAM_STATUS=\"@live_uap-publish-status\",e.WORKER_STATUS=\"@live_uap-worker-status\",e.REQUEST_NEW_ADDRESS=\"@live_uap-request-address\",e}({}),wb=function(e){return e.REQUEST_WORKER_MANAGER_LIST=\"@live_req_worker_manager\",e}({}),Ob=function(e){return e[e.LIVE_STREAM_RESPONSE_SUCCEED=200]=\"LIVE_STREAM_RESPONSE_SUCCEED\",e[e.LIVE_STREAM_RESPONSE_ALREADY_EXISTS_STREAM=454]=\"LIVE_STREAM_RESPONSE_ALREADY_EXISTS_STREAM\",e[e.LIVE_STREAM_RESPONSE_TRANSCODING_PARAMETER_ERROR=450]=\"LIVE_STREAM_RESPONSE_TRANSCODING_PARAMETER_ERROR\",e[e.LIVE_STREAM_RESPONSE_BAD_STREAM=451]=\"LIVE_STREAM_RESPONSE_BAD_STREAM\",e[e.LIVE_STREAM_RESPONSE_WM_PARAMETER_ERROR=400]=\"LIVE_STREAM_RESPONSE_WM_PARAMETER_ERROR\",e[e.LIVE_STREAM_RESPONSE_WM_WORKER_NOT_EXIST=404]=\"LIVE_STREAM_RESPONSE_WM_WORKER_NOT_EXIST\",e[e.LIVE_STREAM_RESPONSE_NOT_AUTHORIZED=456]=\"LIVE_STREAM_RESPONSE_NOT_AUTHORIZED\",e[e.LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE=457]=\"LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE\",e[e.LIVE_STREAM_RESPONSE_REQUEST_TOO_OFTEN=429]=\"LIVE_STREAM_RESPONSE_REQUEST_TOO_OFTEN\",e[e.LIVE_STREAM_RESPONSE_NOT_FOUND_PUBLISH=452]=\"LIVE_STREAM_RESPONSE_NOT_FOUND_PUBLISH\",e[e.LIVE_STREAM_RESPONSE_NOT_SUPPORTED=453]=\"LIVE_STREAM_RESPONSE_NOT_SUPPORTED\",e[e.LIVE_STREAM_RESPONSE_MAX_STREAM_NUM=455]=\"LIVE_STREAM_RESPONSE_MAX_STREAM_NUM\",e[e.LIVE_STREAM_RESPONSE_INTERNAL_SERVER_ERROR=500]=\"LIVE_STREAM_RESPONSE_INTERNAL_SERVER_ERROR\",e[e.LIVE_STREAM_RESPONSE_WORKER_LOST=501]=\"LIVE_STREAM_RESPONSE_WORKER_LOST\",e[e.LIVE_STREAM_RESPONSE_RESOURCE_LIMIT=502]=\"LIVE_STREAM_RESPONSE_RESOURCE_LIMIT\",e[e.LIVE_STREAM_RESPONSE_WORKER_QUIT=503]=\"LIVE_STREAM_RESPONSE_WORKER_QUIT\",e[e.ERROR_FAIL_SEND_MESSAGE=504]=\"ERROR_FAIL_SEND_MESSAGE\",e[e.PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE=30]=\"PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE\",e[e.PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT=31]=\"PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT\",e[e.PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH=32]=\"PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH\",e[e.PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN=33]=\"PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN\",e}({});function Nb(e){if(!e.channelName)throw new Sb(nv.INVALID_PARAMS,\"invalid channelName in info\");if(\"number\"!=typeof e.uid)throw new Sb(nv.INVALID_PARAMS,\"invalid uid in info, uid must be a number\");return e.token&&dv(e.token,\"info.token\",1,2047),Rb(e.uid),gb(e.channelName),!0}let Db=function(e){return e[e.SetSdkProfile=0]=\"SetSdkProfile\",e[e.SetSourceChannel=1]=\"SetSourceChannel\",e[e.SetSourceUserId=2]=\"SetSourceUserId\",e[e.SetDestChannel=3]=\"SetDestChannel\",e[e.StartPacketTransfer=4]=\"StartPacketTransfer\",e[e.StopPacketTransfer=5]=\"StopPacketTransfer\",e[e.UpdateDestChannel=6]=\"UpdateDestChannel\",e[e.Reconnect=7]=\"Reconnect\",e[e.SetVideoProfile=8]=\"SetVideoProfile\",e}({}),Pb=function(e){return e.NETWORK_DISCONNECTED=\"NETWORK_DISCONNECTED\",e.NETWORK_CONNECTED=\"NETWORK_CONNECTED\",e.PACKET_JOINED_SRC_CHANNEL=\"PACKET_JOINED_SRC_CHANNEL\",e.PACKET_JOINED_DEST_CHANNEL=\"PACKET_JOINED_DEST_CHANNEL\",e.PACKET_SENT_TO_DEST_CHANNEL=\"PACKET_SENT_TO_DEST_CHANNEL\",e.PACKET_RECEIVED_VIDEO_FROM_SRC=\"PACKET_RECEIVED_VIDEO_FROM_SRC\",e.PACKET_RECEIVED_AUDIO_FROM_SRC=\"PACKET_RECEIVED_AUDIO_FROM_SRC\",e.PACKET_UPDATE_DEST_CHANNEL=\"PACKET_UPDATE_DEST_CHANNEL\",e.PACKET_UPDATE_DEST_CHANNEL_REFUSED=\"PACKET_UPDATE_DEST_CHANNEL_REFUSED\",e.PACKET_UPDATE_DEST_CHANNEL_NOT_CHANGE=\"PACKET_UPDATE_DEST_CHANNEL_NOT_CHANGE\",e}({}),Lb=function(e){return e.RELAY_STATE_IDLE=\"RELAY_STATE_IDLE\",e.RELAY_STATE_CONNECTING=\"RELAY_STATE_CONNECTING\",e.RELAY_STATE_RUNNING=\"RELAY_STATE_RUNNING\",e.RELAY_STATE_FAILURE=\"RELAY_STATE_FAILURE\",e}({}),kb=function(e){return e.RELAY_OK=\"RELAY_OK\",e.SERVER_CONNECTION_LOST=\"SERVER_CONNECTION_LOST\",e.SRC_TOKEN_EXPIRED=\"SRC_TOKEN_EXPIRED\",e.DEST_TOKEN_EXPIRED=\"DEST_TOKEN_EXPIRED\",e}({}),Mb=function(e){return e.High=\"high\",e.Low=\"low\",e.Audio=\"audio\",e.Screen=\"screen\",e.ScreenLow=\"screen_low\",e}({}),Ub=function(e){return e.DISCONNECT=\"disconnect\",e.CONNECTION_STATE_CHANGE=\"connection-state-change\",e.NETWORK_QUALITY=\"network-quality\",e.STREAM_TYPE_CHANGE=\"stream-type-change\",e.IS_P2P_DISCONNECTED=\"is-p2p-dis\",e.DISCONNECT_P2P=\"dis-p2p\",e.REQUEST_NEW_GATEWAY_LIST=\"req-gate-url\",e.NEED_RENEW_SESSION=\"need-sid\",e.REQUEST_P2P_CONNECTION_PARAMS=\"request-p2p-connection-params\",e.JOIN_RESPONSE=\"join-response\",e.RESET_CONNECTION_EVENTS=\"reset-connection-events\",e.PRE_CONNECT_PC=\"pre-connect_pc\",e}({}),xb=function(e){return e.P2P_DISCONNECTED=\"P2P_DISCONNECTED\",e.A_ROUND_WS_FAILED=\"A_ROUND_WS_FAILED\",e.TIMEOUT=\"TIMEOUT\",e.UNKNOWN_REASON=\"UNKNOWN_REASON\",e}({}),Vb=function(e){return e[e.Nothing=0]=\"Nothing\",e[e.Audio=1]=\"Audio\",e[e.LwoVideo=2]=\"LwoVideo\",e[e.Video=4]=\"Video\",e[e.Data=8]=\"Data\",e[e.DataStream0=256]=\"DataStream0\",e[e.DataStream1=512]=\"DataStream1\",e[e.DataStream2=1024]=\"DataStream2\",e[e.DataStream3=2048]=\"DataStream3\",e[e.DataStream4=4096]=\"DataStream4\",e[e.DataStream5=8192]=\"DataStream5\",e[e.DataStream6=16384]=\"DataStream6\",e[e.DataStream7=32768]=\"DataStream7\",e}({}),Fb=function(e){return e.CHINA=\"CHINA\",e.ASIA=\"ASIA\",e.NORTH_AMERICA=\"NORTH_AMERICA\",e.EUROPE=\"EUROPE\",e.JAPAN=\"JAPAN\",e.INDIA=\"INDIA\",e.KOREA=\"KOREA\",e.HKMC=\"HKMC\",e.US=\"US\",e.OCEANIA=\"OCEANIA\",e.SOUTH_AMERICA=\"SOUTH_AMERICA\",e.AFRICA=\"AFRICA\",e.OVERSEA=\"OVERSEA\",e.GLOBAL=\"GLOBAL\",e.EXTENSIONS=\"EXTENSIONS\",e}({});const Bb=[Fb.AFRICA,Fb.ASIA,Fb.CHINA,Fb.EUROPE,Fb.GLOBAL,Fb.INDIA,Fb.JAPAN,Fb.NORTH_AMERICA,Fb.OCEANIA,Fb.OVERSEA,Fb.SOUTH_AMERICA];let jb=function(e){return e.CHINA=\"CN\",e.ASIA=\"AS\",e.NORTH_AMERICA=\"NA\",e.EUROPE=\"EU\",e.JAPAN=\"JP\",e.INDIA=\"IN\",e.KOREA=\"KR\",e.HKMC=\"HK\",e.US=\"US\",e.OCEANIA=\"OC\",e.SOUTH_AMERICA=\"SA\",e.AFRICA=\"AF\",e.OVERSEA=\"OVERSEA\",e.GLOBAL=\"GLOBAL\",e.EXTENSIONS=\"GLOBAL\",e}({});const Gb={CHINA:{},ASIA:{CODE:jb.ASIA,WEBCS_DOMAIN:[\"ap-web-1-asia.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-asia.agora.io\"],PROXY_CS:[\"proxy-ap-web-asia.agora.io\"],CDS_AP:[\"cds-ap-web-asia.agora.io\",\"cds-ap-web-asia2.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-asia.agora.io\",\"sua-ap-web-asia2.agora.io\"],UAP_AP:[\"uap-ap-web-asia.agora.io\",\"uap-ap-web-asia2.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1-asia.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-asia.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice-asia.agora.io\"],PROXY_SERVER_TYPE3:[\"southeast-asia.webrtc-cloud-proxy.sd-rtn.com\"]},NORTH_AMERICA:{CODE:jb.NORTH_AMERICA,WEBCS_DOMAIN:[\"ap-web-1-north-america.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-north-america.agora.io\"],PROXY_CS:[\"proxy-ap-web-america.agora.io\"],CDS_AP:[\"cds-ap-web-america.agora.io\",\"cds-ap-web-america2.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-america.agora.io\",\"sua-ap-web-america2.agora.io\"],UAP_AP:[\"uap-ap-web-america.agora.io\",\"uap-ap-web-america2.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1-north-america.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-north-america.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice-north-america.agora.io\"],PROXY_SERVER_TYPE3:[\"east-usa.webrtc-cloud-proxy.sd-rtn.com\"]},EUROPE:{CODE:jb.EUROPE,WEBCS_DOMAIN:[\"ap-web-1-europe.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-europe.agora.io\"],PROXY_CS:[\"proxy-ap-web-europe.agora.io\"],CDS_AP:[\"cds-ap-web-europe.agora.io\",\"cds-ap-web-europe2.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-europe.agora.io\",\"sua-ap-web-europe.agora.io\"],UAP_AP:[\"uap-ap-web-europe.agora.io\",\"uap-ap-web-europe2.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1-europe.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-europe.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice-europe.agora.io\"],PROXY_SERVER_TYPE3:[\"europe.webrtc-cloud-proxy.sd-rtn.com\"]},JAPAN:{CODE:jb.JAPAN,WEBCS_DOMAIN:[\"ap-web-1-japan.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-japan.agora.io\"],PROXY_CS:[\"proxy-ap-web-japan.agora.io\"],CDS_AP:[\"cds-ap-web-japan.agora.io\",\"cds-ap-web-japan2.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-japan.agora.io\",\"sua-ap-web-japan2.agora.io\"],UAP_AP:[\"uap-ap-web-japan.agora.io\",\"uap-ap-web-japan2.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1-japan.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-japan.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice-japan.agora.io\"],PROXY_SERVER_TYPE3:[\"japan.webrtc-cloud-proxy.sd-rtn.com\"]},INDIA:{CODE:jb.INDIA,WEBCS_DOMAIN:[\"ap-web-1-india.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-india.agora.io\"],PROXY_CS:[\"proxy-ap-web-india.agora.io\"],CDS_AP:[\"cds-ap-web-india.agora.io\",\"cds-ap-web-india2.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-india.agora.io\",\"sua-ap-web-india2.agora.io\"],UAP_AP:[\"uap-ap-web-india.agora.io\",\"uap-ap-web-india2.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1-india.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-india.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice-india.agora.io\"],PROXY_SERVER_TYPE3:[\"india.webrtc-cloud-proxy.sd-rtn.com\"]},KOREA:{CODE:jb.KOREA,WEBCS_DOMAIN:[\"ap-web-1-korea.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-korea.agora.io\"],PROXY_CS:[\"proxy-ap-web-korea.agora.io\"],CDS_AP:[\"cds-ap-web-korea.agora.io\",\"cds-ap-web-korea2.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-korea.agora.io\",\"sua-ap-web-korea2.agora.io\"],UAP_AP:[\"uap-ap-web-korea.agora.io\",\"uap-ap-web-korea2.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1-korea.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-korea.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice-korea.agora.io\"],PROXY_SERVER_TYPE3:[\"korea.webrtc-cloud-proxy.sd-rtn.com\"]},HKMC:{CODE:jb.HKMC,WEBCS_DOMAIN:[\"ap-web-1-hkmc.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-hkmc.agora.io\"],PROXY_CS:[\"proxy-ap-web-hkmc.agora.io\"],CDS_AP:[\"cds-ap-web-hkmc.agora.io\",\"cds-ap-web-hkmc2.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-hkmc.agora.io\",\"sua-ap-web-hkmc2.agora.io\"],UAP_AP:[\"uap-ap-web-hkmc.agora.io\",\"uap-ap-web-hkmc2.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1-hkmc.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-hkmc.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice-hkmc.agora.io\"],PROXY_SERVER_TYPE3:[\"hkmc.webrtc-cloud-proxy.sd-rtn.com\"]},US:{CODE:jb.US,WEBCS_DOMAIN:[\"ap-web-1-us.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-us.agora.io\"],PROXY_CS:[\"proxy-ap-web-us.agora.io\"],CDS_AP:[\"cds-ap-web-us.agora.io\",\"cds-ap-web-us2.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-us.agora.io\",\"sua-ap-web-us2.agora.io\"],UAP_AP:[\"uap-ap-web-us.agora.io\",\"uap-ap-web-us2.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1-us.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-us.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice-us.agora.io\"],PROXY_SERVER_TYPE3:[\"us.webrtc-cloud-proxy.sd-rtn.com\"]},OVERSEA:{CODE:jb.OVERSEA,WEBCS_DOMAIN:[\"ap-web-1-oversea.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-oversea.agora.io\"],PROXY_CS:[\"proxy-ap-web-oversea.agora.io\"],CDS_AP:[\"cds-ap-web-oversea.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-oversea.agora.io\"],UAP_AP:[\"uap-ap-web-oversea.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1-oversea.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-oversea.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice-oversea.agora.io\"],PROXY_SERVER_TYPE3:[\"webrtc-cloud-proxy.agora.io\"]},GLOBAL:{CODE:jb.GLOBAL,WEBCS_DOMAIN:[\"webrtc2-ap-web-1.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"webrtc2-ap-web-3.agora.io\"],PROXY_CS:[\"ap-proxy-1.agora.io\",\"ap-proxy-2.agora.io\"],CDS_AP:[\"cds-ap-web-1.agora.io\",\"cds-ap-web-3.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-1.agora.io\",\"sua-ap-web-3.agora.io\"],UAP_AP:[\"uap-ap-web-1.agora.io\",\"uap-ap-web-3.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice.agora.io\"],PROXY_SERVER_TYPE3:[\"webrtc-cloud-proxy.sd-rtn.com\"]},OCEANIA:{CODE:jb.OCEANIA,WEBCS_DOMAIN:[\"ap-web-1-oceania.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-oceania.agora.io\"],PROXY_CS:[\"proxy-ap-web-oceania.agora.io\"],CDS_AP:[\"cds-ap-web-oceania.agora.io\",\"cds-ap-web-oceania2.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-oceania.agora.io\",\"sua-ap-web-oceania2.agora.io\"],UAP_AP:[\"uap-ap-web-oceania.agora.io\",\"uap-ap-web-oceania2.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1-oceania.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-oceania.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice-oceania.agora.io\"],PROXY_SERVER_TYPE3:[\"oceania.webrtc-cloud-proxy.sd-rtn.com\"]},SOUTH_AMERICA:{CODE:jb.SOUTH_AMERICA,WEBCS_DOMAIN:[\"ap-web-1-south-america.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-south-america.agora.io\"],PROXY_CS:[\"proxy-ap-web-south-america.agora.io\"],CDS_AP:[\"cds-ap-web-south-america.agora.io\",\"cds-ap-web-south-america2.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-south-america.agora.io\",\"sua-ap-web-south-america2.agora.io\"],UAP_AP:[\"uap-ap-web-south-america.agora.io\",\"uap-ap-web-south-america2.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1-south-america.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-south-america.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice-south-america.agora.io\"],PROXY_SERVER_TYPE3:[\"south-america.webrtc-cloud-proxy.sd-rtn.com\"]},AFRICA:{CODE:jb.AFRICA,WEBCS_DOMAIN:[\"ap-web-1-africa.agora.io\"],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-africa.agora.io\"],PROXY_CS:[\"proxy-ap-web-africa.agora.io\"],CDS_AP:[\"cds-ap-web-africa.agora.io\",\"cds-ap-web-africa2.agora.io\"],ACCOUNT_REGISTER:[\"sua-ap-web-africa.agora.io\",\"sua-ap-web-africa2.agora.io\"],UAP_AP:[\"uap-ap-web-africa.agora.io\",\"uap-ap-web-africa2.agora.io\"],EVENT_REPORT_DOMAIN:[\"statscollector-1-africa.agora.io\"],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-africa.agora.io\"],LOG_UPLOAD_SERVER:[\"logservice-south-africa.agora.io\"],PROXY_SERVER_TYPE3:[\"africa.webrtc-cloud-proxy.sd-rtn.com\"]},EXTENSIONS:{}};yy&&(Gb.CHINA={CODE:jb.CHINA,WEBCS_DOMAIN:[\"webrtc2-2.ap.sd-rtn.com\"],WEBCS_DOMAIN_BACKUP_LIST:[\"webrtc2-4.ap.sd-rtn.com\"],PROXY_CS:[\"proxy-web.ap.sd-rtn.com\"],CDS_AP:[\"cds-web-2.ap.sd-rtn.com\",\"cds-web-4.ap.sd-rtn.com\"],ACCOUNT_REGISTER:[\"sua-web-2.ap.sd-rtn.com\",\"sua-web-4.ap.sd-rtn.com\"],UAP_AP:[\"uap-web-2.ap.sd-rtn.com\",\"uap-web-4.ap.sd-rtn.com\"],EVENT_REPORT_DOMAIN:[\"web-3.statscollector.sd-rtn.com\"],EVENT_REPORT_BACKUP_DOMAIN:[\"web-4.statscollector.sd-rtn.com\"],LOG_UPLOAD_SERVER:[\"logservice-china.agora.io\"],PROXY_SERVER_TYPE3:[\"east-cn.webrtc-cloud-proxy.sd-rtn.com\"]});let Wb=function(e){return e.UPDATE_BITRATE_LIMIT=\"update_bitrate_limit\",e}({});class Hb extends Sv{constructor(e,t){super(),og(this,\"onICEConnectionStateChange\",void 0),og(this,\"onConnectionStateChange\",void 0),og(this,\"onDTLSTransportStateChange\",void 0),og(this,\"onDTLSTransportError\",void 0),og(this,\"onICETransportStateChange\",void 0),og(this,\"onFirstAudioReceived\",void 0),og(this,\"onFirstVideoReceived\",void 0),og(this,\"onFirstAudioDecoded\",void 0),og(this,\"onFirstVideoDecoded\",void 0),og(this,\"onFirstVideoDecodedTimeout\",void 0),og(this,\"onSelectedLocalCandidateChanged\",void 0),og(this,\"onSelectedRemoteCandidateChanged\",void 0),og(this,\"getLocalVideoStats\",void 0)}}class Kb extends Hb{constructor(e,t){super(e,t),og(this,\"establishPromise\",void 0)}}let Yb=function(e){return e.VIDEO=\"video\",e.AUDIO=\"audio\",e}({}),qb=function(e){return e[e.UDP=0]=\"UDP\",e[e.TCP=1]=\"TCP\",e[e.RELAY=2]=\"RELAY\",e}({}),zb=function(e){return e[e.FIRST_CONNECTION=0]=\"FIRST_CONNECTION\",e[e.TCP_RESTART=1]=\"TCP_RESTART\",e[e.RELAY_RESTART=2]=\"RELAY_RESTART\",e[e.OLD_FIRST_CONNECTION=10]=\"OLD_FIRST_CONNECTION\",e[e.OLD_RESTART=11]=\"OLD_RESTART\",e[e.DISCONNECTED_OR_FAILED=20]=\"DISCONNECTED_OR_FAILED\",e}({}),Jb=function(e){return e.LocalVideoTrack=\"videoTrack\",e.LocalAudioTrack=\"audioTrack\",e.LocalVideoLowTrack=\"videoLowTrack\",e}({}),Xb=function(e){return e.New=\"new\",e.Connected=\"connected\",e.Reconnecting=\"reconnecting\",e.Disconnected=\"disconnected\",e}({}),Qb=function(e){return e.StateChange=\"stateChange\",e.IceConnectionStateChange=\"iceConnectionStateChange\",e.RequestMuteLocal=\"requestMuteLocal\",e.RequestUnmuteLocal=\"requestUnmuteLocal\",e.RequestRePublish=\"requestRePublish\",e.RequestRePublishDataChannel=\"requestRePublishDataChannel\",e.RequestReSubscribe=\"requestReSubscribe\",e.RequestUploadStats=\"requestUploadStats\",e.RequestUpload=\"requestUpload\",e.MediaReconnectStart=\"MediaReconnectStart\",e.MediaReconnectEnd=\"MediaReconnectEnd\",e.NeedSignalRTT=\"NeedSignalRTT\",e.RequestRestartICE=\"RequestRestartIce\",e.PeerConnectionStateChange=\"PeerConnectionStateChange\",e.RequestReconnect=\"RequestReconnect\",e.RequestReconnectPC=\"RequestReconnectPC\",e.RequestUnpublishForReconnectPC=\"RequestUnpublishForReconnectPC\",e.P2PLost=\"P2PLost\",e.UpdateVideoEncoder=\"UpdateVideoEncoder\",e.ConnectionTypeChange=\"ConnectionTypeChange\",e.RequestLowStreamParameter=\"RequestLowStreamParameter\",e.QueryClientConnectionState=\"QueryClientConnectionState\",e.LocalCandidate=\"LocalCandidate\",e.RequestP2PMuteLocal=\"requestP2PMuteLocal\",e.RequestP2PUnPublish=\"RequestP2PUnPublish\",e.RequestP2PUnmuteRemote=\"RequestP2PUnmuteRemote\",e.RequestP2PMuteRemote=\"RequestP2PMuteRemote\",e.RequestP2PRestartICE=\"RequestP2PRestartICE\",e}({}),Zb=function(e){return e.CONNECTING=\"CONNECTING\",e.RECONNECTING=\"RECONNECTING\",e.CONNECTED=\"CONNECTED\",e.CLOSED=\"CLOSED\",e}({}),$b=function(e){return e[e.CONNECT_AP=0]=\"CONNECT_AP\",e[e.AP_CONNECTED=1]=\"AP_CONNECTED\",e[e.CONNECT_WORKER_MANAGER=2]=\"CONNECT_WORKER_MANAGER\",e[e.WORKER_MANAGER_CONNECTED=3]=\"WORKER_MANAGER_CONNECTED\",e[e.GET_WORKER_MANAGER_RESPONSE=4]=\"GET_WORKER_MANAGER_RESPONSE\",e[e.CONNECT_WORKER=5]=\"CONNECT_WORKER\",e[e.WORKER_CONNECTED=6]=\"WORKER_CONNECTED\",e[e.CLOSED=7]=\"CLOSED\",e}({}),ew=function(e){return e.CONNECTION_STATE_CHANGE=\"connection-state-change\",e.STATE_CHANGE=\"state-change\",e.INSPECT_RESULT=\"inspect-result\",e.CLIENT_LOCAL_VIDEO_TRACK=\"client-local-video-track\",e.REQUEST_NEW_WORKER_URL=\"request-new-worker-url\",e}({}),tw=function(e){return e.CONNECTED=\"transmitter:connected\",e.RECONNECTING=\"transmitter:reconnecting\",e.WILL_RECONNECT=\"transmitter:will_reconnect\",e.CLOSED=\"transmitter:closed\",e.FAILED=\"transmitter:failed\",e.ON_MESSAGE=\"transmitter:on_message\",e.REQUEST_NEW_URLS=\"transmitter:request_new_urls\",e.RECONNECT_WAITTING_FINISH=\"transmitter:reconnect_waitting_finish\",e.RECONNECT_CREATE_CONNECTION=\"transmitter:reconnect_create_connection\",e.ON_TOKEN_PRIVILEGE_DID_EXPIRE=\"transmitter:on_token_privilege_did_expire\",e.TO_CONNECT_DATACHANNEL=\"transmitter:to_connect_datachannel\",e.FAILBACK=\"transmitter:failback\",e.PRE_CONNECT_PC=\"transmitter:pre_connect_pc\",e}({}),iw=function(e){return e.CAMERA_CHANGED=\"camera-changed\",e.MICROPHONE_CHANGED=\"microphone-changed\",e.PLAYBACK_DEVICE_CHANGED=\"playback-device-changed\",e.AUDIO_AUTOPLAY_FAILED=\"audio-autoplay-failed\",e.AUTOPLAY_FAILED=\"autoplay-failed\",e.AUDIO_CONTEXT_STATE_CHANGED=\"audio-context-state-changed\",e.SECURITY_POLICY_VIOLATION=\"security-policy-violation\",e}({}),nw=function(e){return e.CONNECTING=\"CONNECTING\",e.RECONNECTING=\"RECONNECTING\",e.CONNECTED=\"CONNECTED\",e.CLOSED=\"CLOSED\",e}({}),rw=function(e){return e.CONNECTION_STATE_CHANGE=\"connection-state-change\",e.STATE_CHANGE=\"state-change\",e.INSPECT_RESULT=\"inspect-result\",e.CLIENT_LOCAL_VIDEO_TRACK=\"client-local-video-track\",e.REQUEST_NEW_WORKER_URL=\"request-new-worker-url\",e}({}),ow=function(e){return e[e.CONNECT_AP=0]=\"CONNECT_AP\",e[e.AP_CONNECTED=1]=\"AP_CONNECTED\",e[e.CONNECT_WORKER_MANAGER=2]=\"CONNECT_WORKER_MANAGER\",e[e.WORKER_MANAGER_CONNECTED=3]=\"WORKER_MANAGER_CONNECTED\",e[e.GET_WORKER_MANAGER_RESPONSE=4]=\"GET_WORKER_MANAGER_RESPONSE\",e[e.CONNECT_WORKER=5]=\"CONNECT_WORKER\",e[e.WORKER_CONNECTED=6]=\"WORKER_CONNECTED\",e[e.CLOSED=7]=\"CLOSED\",e}({}),sw=function(e){return e.CALL=\"call\",e.CANDIDATE=\"candidate\",e.PUBLISH=\"publish\",e.UNPUBLISH=\"unpublish\",e.CONTROL=\"control\",e.RESTART_ICE=\"restart_ice\",e.ACK=\"ack\",e.RESPONSE=\"response\",e.JOIN=\"join\",e.CHECK=\"check\",e}({}),aw=function(e){return e.ABORT=\"abort\",e}({}),cw=function(e){return e.MUTE_LOCAL_AUDIO=\"mute_local_audio\",e.MUTE_LOCAL_VIDEO=\"mute_local_video\",e.UNMUTE_LOCAL_AUDIO=\"unmute_local_audio\",e.UNMUTE_LOCAL_VIDEO=\"unmute_local_video\",e}({}),dw=function(e){return e.P2P_TOKEN_TIMEOUT=\"p2p_token_timeout\",e.P2P_TOKEN_CHANGED=\"p2p_token_changed\",e}({});const lw={[ab.ACCESS_POINT]:{[lb.NO_FLAG_SET]:{desc:\"flag is zero\",retry:!1},[lb.FLAG_SET_BUT_EMPTY]:{desc:\"flag is empty\",retry:!1},[lb.INVALID_FALG_SET]:{desc:\"invalid flag\",retry:!1},[lb.FLAG_SET_BUT_NO_RE]:{desc:\"flag set unilbs but no request\",retry:!1},[lb.INVALID_SERVICE_ID]:{desc:\"invalid service id\",retry:!1},[lb.NO_SERVICE_AVAILABLE]:{desc:\"no service available\",retry:!0},[lb.NO_SERVICE_AVAILABLE_P2P]:{desc:\"no unilbs p2p service available\",retry:!0},[lb.NO_SERVICE_AVAILABLE_VOICE]:{desc:\"no unilbs voice service available\",retry:!0},[lb.NO_SERVICE_AVAILABLE_WEBRTC]:{desc:\"no unilbs webrtc service available\",retry:!0},[lb.NO_SERVICE_AVAILABLE_CDS]:{desc:\"no cds service available\",retry:!0},[lb.NO_SERVICE_AVAILABLE_CDN]:{desc:\"no cdn dispatcher service available\",retry:!0},[lb.NO_SERVICE_AVAILABLE_TDS]:{desc:\"no tds service available\",retry:!0},[lb.NO_SERVICE_AVAILABLE_REPORT]:{desc:\"no unilbs report service available\",retry:!0},[lb.NO_SERVICE_AVAILABLE_APP_CENTER]:{desc:\"no app center service available\",retry:!0},[lb.NO_SERVICE_AVAILABLE_ENV0]:{desc:\"no unilbs sig env0 service available\",retry:!0},[lb.NO_SERVICE_AVAILABLE_VOET]:{desc:\"no unilbs voet service available\",retry:!0},[lb.NO_SERVICE_AVAILABLE_STRING_UID]:{desc:\"no string uid service available\",retry:!0},[lb.NO_SERVICE_AVAILABLE_WEBRTC_UNILBS]:{desc:\"no webrtc unilbs service available\",retry:!0}},[ab.UNILBS]:{[db.INVALID_VENDOR_KEY]:{desc:\"invalid vendor key, can not find appid\",retry:!1},[db.INVALID_CHANNEL_NAME]:{desc:\"invalid channel name\",retry:!1},[db.INTERNAL_ERROR]:{desc:\"unilbs internal error\",retry:!1},[db.NO_AUTHORIZED]:{desc:\"invalid token, authorized failed\",retry:!1},[db.DYNAMIC_KEY_TIMEOUT]:{desc:\"dynamic key or token timeout\",retry:!1},[db.NO_ACTIVE_STATUS]:{desc:\"no active status\",retry:!1},[db.DYNAMIC_KEY_EXPIRED]:{desc:\"dynamic key expired\",retry:!1},[db.STATIC_USE_DYNAMIC_KEY]:{desc:\"static use dynamic key\",retry:!1},[db.DYNAMIC_USE_STATIC_KEY]:{desc:\"dynamic use static key\",retry:!1},[db.USER_OVERLOAD]:{desc:\"amount of users over load\",retry:!1},[db.FORBIDDEN_REGION]:{desc:\"the request is forbidden in this area\",retry:!1},[db.CANNOT_MEET_AREA_DEMAND]:{desc:\"unable to allocate services in this area\",retry:!1}},[ab.STRING_UID_ALLOCATOR]:{[cb.IIIEGAL_APPID]:{desc:\"invalid appid\",retry:!1},[cb.IIIEGAL_UID]:{desc:\"invalid string uid\",retry:!1},[cb.INTERNAL_ERROR]:{desc:\"string uid allocator internal error\",retry:!0}}};function uw(e){const t=lw[Math.floor(e/1e4)];if(!t)return{desc:\"unknown error\",retry:!1};const i=t[e%1e4];if(!i){if(Math.floor(e/1e4)===ab.ACCESS_POINT){const t=e%1e4;if(\"1\"===t.toString()[0])return{desc:e.toString(),retry:!1};if(\"2\"===t.toString()[0])return{desc:e.toString(),retry:!0}}return{desc:\"unknown error\",retry:!1}}return i}const hw={[ub.K_TIMESTAMP_EXPIRED]:{desc:\"K_TIMESTAMP_EXPIRED\",action:\"failed\"},[ub.K_CHANNEL_PERMISSION_INVALID]:{desc:\"K_CHANNEL_PERMISSION_INVALID\",action:\"failed\"},[ub.K_CERTIFICATE_INVALID]:{desc:\"K_CERTIFICATE_INVALID\",action:\"failed\"},[ub.K_CHANNEL_NAME_EMPTY]:{desc:\"K_CHANNEL_NAME_EMPTY\",action:\"failed\"},[ub.K_CHANNEL_NOT_FOUND]:{desc:\"K_CHANNEL_NOT_FOUND\",action:\"failed\"},[ub.K_TICKET_INVALID]:{desc:\"K_TICKET_INVALID\",action:\"failed\"},[ub.K_CHANNEL_CONFLICTED]:{desc:\"K_CHANNEL_CONFLICTED\",action:\"failed\"},[ub.K_SERVICE_NOT_READY]:{desc:\"K_SERVICE_NOT_READY\",action:\"tryNext\"},[ub.K_SERVICE_TOO_HEAVY]:{desc:\"K_SERVICE_TOO_HEAVY\",action:\"tryNext\"},[ub.K_UID_BANNED]:{desc:\"K_UID_BANNED\",action:\"failed\"},[ub.K_IP_BANNED]:{desc:\"K_IP_BANNED\",action:\"failed\"},[ub.K_AUTO_REBALANCE]:{desc:\"k_AUTO_REBALANCE\",action:\"recover\"},[ub.ERR_INVALID_VENDOR_KEY]:{desc:\"ERR_INVALID_VENDOR_KEY\",action:\"failed\"},[ub.ERR_INVALID_CHANNEL_NAME]:{desc:\"ERR_INVALID_CHANNEL_NAME\",action:\"failed\"},[ub.WARN_NO_AVAILABLE_CHANNEL]:{desc:\"WARN_NO_AVAILABLE_CHANNEL\",action:\"failed\"},[ub.WARN_LOOKUP_CHANNEL_TIMEOUT]:{desc:\"WARN_LOOKUP_CHANNEL_TIMEOUT\",action:\"tryNext\"},[ub.WARN_LOOKUP_CHANNEL_REJECTED]:{desc:\"WARN_LOOKUP_CHANNEL_REJECTED\",action:\"failed\"},[ub.WARN_OPEN_CHANNEL_TIMEOUT]:{desc:\"WARN_OPEN_CHANNEL_TIMEOUT\",action:\"tryNext\"},[ub.WARN_OPEN_CHANNEL_REJECTED]:{desc:\"WARN_OPEN_CHANNEL_REJECTED\",action:\"failed\"},[ub.WARN_REQUEST_DEFERRED]:{desc:\"WARN_REQUEST_DEFERRED\",action:\"failed\"},[ub.ERR_DYNAMIC_KEY_TIMEOUT]:{desc:\"ERR_DYNAMIC_KEY_TIMEOUT\",action:\"failed\"},[ub.ERR_NO_AUTHORIZED]:{desc:\"ERR_NO_AUTHORIZED\",action:\"failed\"},[ub.ERR_VOM_SERVICE_UNAVAILABLE]:{desc:\"ERR_VOM_SERVICE_UNAVAILABLE\",action:\"tryNext\"},[ub.ERR_NO_CHANNEL_AVAILABLE_CODE]:{desc:\"ERR_NO_CHANNEL_AVAILABLE_CODE\",action:\"failed\"},[ub.ERR_MASTER_VOCS_UNAVAILABLE]:{desc:\"ERR_MASTER_VOCS_UNAVAILABLE\",action:\"tryNext\"},[ub.ERR_INTERNAL_ERROR]:{desc:\"ERR_INTERNAL_ERROR\",action:\"tryNext\"},[ub.ERR_NO_ACTIVE_STATUS]:{desc:\"ERR_NO_ACTIVE_STATUS\",action:\"failed\"},[ub.ERR_INVALID_UID]:{desc:\"ERR_INVALID_UID\",action:\"failed\"},[ub.ERR_DYNAMIC_KEY_EXPIRED]:{desc:\"ERR_DYNAMIC_KEY_EXPIRED\",action:\"failed\"},[ub.ERR_STATIC_USE_DYANMIC_KE]:{desc:\"ERR_STATIC_USE_DYANMIC_KE\",action:\"failed\"},[ub.ERR_DYNAMIC_USE_STATIC_KE]:{desc:\"ERR_DYNAMIC_USE_STATIC_KE\",action:\"failed\"},[ub.ERR_NO_VOCS_AVAILABLE]:{desc:\"ERR_NO_VOCS_AVAILABLE\",action:\"tryNext\"},[ub.ERR_NO_VOS_AVAILABLE]:{desc:\"ERR_NO_VOS_AVAILABLE\",action:\"tryNext\"},[ub.ERR_JOIN_CHANNEL_TIMEOUT]:{desc:\"ERR_JOIN_CHANNEL_TIMEOUT\",action:\"tryNext\"},[ub.ERR_JOIN_BY_MULTI_IP]:{desc:\"ERR_JOIN_BY_MULTI_IP\",action:\"recover\"},[ub.ERR_NOT_JOINED]:{desc:\"ERR_NOT_JOINED\",action:\"failed\"},[ub.ERR_REPEAT_JOIN_REQUEST]:{desc:\"ERR_REPEAT_JOIN_REQUEST\",action:\"quit\"},[ub.ERR_REPEAT_JOIN_CHANNEL]:{desc:\"ERR_REPEAT_JOIN_CHANNEL\",action:\"quit\"},[ub.ERR_INVALID_STRINGUID]:{desc:\"ERR_INVALID_STRINGUID\",action:\"failed\"},[ub.ERR_TOO_MANY_USERS]:{desc:\"ERR_TOO_MANY_USERS\",action:\"tryNext\"},[ub.ERR_SET_CLIENT_ROLE_TIMEOUT]:{desc:\"ERR_SET_CLIENT_ROLE_TIMEOUT\",action:\"failed\"},[ub.ERR_SET_CLIENT_ROLE_NO_PERMISSION]:{desc:\"ERR_SET_CLIENT_ROLE_TIMEOUT\",action:\"failed\"},[ub.ERR_SET_CLIENT_ROLE_ALREADY_IN_USE]:{desc:\"ERR_SET_CLIENT_ROLE_ALREADY_IN_USE\",action:\"success\"},[ub.ERR_PUBLISH_REQUEST_INVALID]:{desc:\"ERR_PUBLISH_REQUEST_INVALID\",action:\"failed\"},[ub.ERR_SUBSCRIBE_REQUEST_INVALID]:{desc:\"ERR_SUBSCRIBE_REQUEST_INVALID\",action:\"failed\"},[ub.ERR_NOT_SUPPORTED_MESSAGE]:{desc:\"ERR_NOT_SUPPORTED_MESSAGE\",action:\"failed\"},[ub.ERR_ILLEAGAL_PLUGIN]:{desc:\"ERR_ILLEAGAL_PLUGIN\",action:\"failed\"},[ub.ILLEGAL_CLIENT_ROLE_LEVEL]:{desc:\"ILLEGAL_CLIENT_ROLE_LEVEL\",action:\"failed\"},[ub.ERR_REJOIN_TOKEN_INVALID]:{desc:\"ERR_REJOIN_TOKEN_INVALID\",action:\"failed\"},[ub.ERR_REJOIN_USER_NOT_JOINED]:{desc:\"ERR_REJOIN_NOT_JOINED\",action:\"failed\"},[ub.ERR_INVALID_OPTIONAL_INFO]:{desc:\"ERR_INVALID_OPTIONAL_INFO\",action:\"quit\"},[ub.ERR_TEST_RECOVER]:{desc:\"ERR_TEST_RECOVER\",action:\"recover\"},[ub.ERR_TEST_TRYNEXT]:{desc:\"ERR_TEST_TRYNEXT\",action:\"recover\"},[ub.ERR_TEST_RETRY]:{desc:\"ERR_TEST_RETRY\",action:\"recover\"},[ub.ILLEGAL_AES_PASSWORD]:{desc:\"ERR_TEST_RETRY\",action:\"failed\"},[ub.ERR_TOO_MANY_BROADCASTERS]:{desc:\"ERR_TOO_MANY_BROADCASTERS\",action:\"failed\"},[ub.ERR_TOO_MANY_SUBSCRIBERS]:{desc:\"ERR_TOO_MANY_SUBSCRIBERS\",action:\"failed\"},[ub.ERR_LICENSE_ILLEGAL]:{desc:\"ERR_LICENSE_ILLEGAL\",action:\"quit\"},[ub.ERR_LICENSE_MISSING]:{desc:\"ERR_LICENSE_MISSING\",action:\"quit\"},[ub.ERR_LICENSE_EXPIRED]:{desc:\"ERR_LICENSE_EXPIRED\",action:\"quit\"},[ub.ERR_LICENSE_MINUTES_EXCEEDED]:{desc:\"ERR_LICENSE_MINUTES_EXCEEDED\",action:\"quit\"},[ub.ERR_LICENSE_PERIOD_INVALID]:{desc:\"ERR_LICENSE_PERIOD_INVALID\",action:\"quit\"},[ub.ERR_LICENSE_MULTIPLE_SDK_SERVICE]:{desc:\"ERR_LICENSE_MULTIPLE_SDK_SERVICE\",action:\"quit\"}};function pw(e){const t=hw[e];return t||{desc:\"UNKNOWN_ERROR_\".concat(e),action:\"failed\"}}function _w(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function Ew(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?_w(Object(i),!0).forEach((function(t){og(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):_w(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function mw(e){return e.every((e=>e.readyState===WebSocket.CLOSED||e.readyState===WebSocket.CLOSING))}function fw(e,t){if(\"string\"==typeof e)return e;const{proxy:i,host:n,port:r}=e;if(t){const e=Dy(\"JOIN_GATEWAY_FALLBACK_PORT\")||443;return 443===e?\"wss://\".concat(n,\"/ws/?p=\").concat(Number(r)+150):\"wss://\".concat(n,\":\").concat(e,\"/ws/?p=\").concat(Number(r)+150)}return i?\"wss://\".concat(i,\"/ws/?h=\").concat(n,\"&p=\").concat(r):\"wss://\".concat(n,\":\").concat(r)}const Tw=/wss:\\/\\/(.+)\\/ws\\/\\?h=(.+)&p=([0-9]+)\\/?/,Sw=/wss:\\/\\/(.+)\\/ws\\/\\?p=([0-9]+)\\/?/,gw=/wss:\\/\\/(.+):([0-9]+)\\/?/,Rw=/wss:\\/\\/(.[^\\/]+)\\/?/;let Cw=0;class Iw{constructor(e,t){og(this,\"id\",0),og(this,\"store\",void 0),og(this,\"recordIndex\",void 0),og(this,\"websockets\",[]),og(this,\"try443PortDuration\",2e3),og(this,\"forceCloseWSDuration\",5e3),og(this,\"try443PortTimeout\",null),og(this,\"forceCloseTimeout\",null),og(this,\"isTry443PortFailed\",!1),og(this,\"isNormalPortFailed\",!1),og(this,\"useDoubleDomain\",!1),og(this,\"useProxy\",!1),og(this,\"startTime\",Date.now()),this.id=++Cw,this.try443PortDuration=Dy(\"JOIN_GATEWAY_TRY_443PORT_DURATION\")||2e3,this.forceCloseWSDuration=e||5e3,this.store=t}closeAllWebsockets(){this.websockets.forEach((e=>{e.onopen=null,e.onclose=null,e.onmessage=null,e.close()})),this.websockets.length=0}clearTimeout(){this.forceCloseTimeout&&clearTimeout(this.forceCloseTimeout),this.try443PortTimeout&&clearTimeout(this.try443PortTimeout)}logger(){var e;const t=Date.now()-this.startTime;for(var i=arguments.length,n=new Array(i),r=0;r<i;r++)n[r]=arguments[r];Qy.debug(\"[choose-best-ws \".concat(null===(e=this.store)||void 0===e?void 0:e.clientId,\" \").concat(this.id,\"] \").concat(t,\"ms:\"),...n)}createWebSocket(e,t,i){this.logger(\"createWebSocket:\",e,{isTry443Port:t,hasTimeoutDetection:i});const n=Dy(\"GATEWAY_DOMAINS\"),r=Date.now(),o=[],s=n.find((t=>{var i;return Dn(i=e.host).call(i,t)}));s||(this.useDoubleDomain=!1);const a=[];if(this.useDoubleDomain)n.forEach((i=>{a.push(fw(Ew(Ew({},e),{},{host:e.host.replace(s,i)}),t))}));else{const i=Ew({},e);if(t&&s){const e=n.find((e=>e!==s));e&&(i.host=i.host.replace(s,e))}a.push(fw(i,t))}try{a.forEach((e=>{const t=new WebSocket(e);t.binaryType=\"arraybuffer\",o.push(t),this.logger(\"ws is connecting:\",t.url)}))}catch(n){if(this.logger(\"ws create failed\"),o.forEach((e=>e.close())),o.length=0,this.useDoubleDomain)return this.useDoubleDomain=!1,this.createWebSocket(e,t,i);if(!t&&443!==Number(e.port))return this.createWebSocket(e,!0,i);throw new Sb(nv.WS_ERR,\"init websocket failed! Error: \".concat(n.toString()))}const c=fI();this.store&&this.store.recordJoinChannelService({urls:o.map((e=>e.url)),service:\"gateway\"},this.recordIndex),o.forEach((e=>{e.onopen=()=>{this.logger(\"onopen: ws \".concat(e.url,\" open cost \").concat(Date.now()-r,\"ms\")),this.websockets.forEach((t=>{t!==e&&(t.onopen=null,t.onclose=null,t.onmessage=null,t.close(),this.logger(\"close backup websocket: \".concat(t.url)))})),this.websockets.length=0,c.resolve(e)},e.onclose=i=>{this.logger(\"onclose: ws \".concat(e.url,\" closed cost \").concat(Date.now()-r,\"ms state: \").concat(e.readyState)),t?this.isTry443PortFailed=mw(o):this.isNormalPortFailed=mw(o),this.logger(\"443: \".concat(this.useProxy?\"not try\":this.isTry443PortFailed?\"failed\":\"trying\",\" 47xx: \").concat(this.isNormalPortFailed?\"failed\":\"trying\")),(t&&this.isTry443PortFailed||!t&&(this.isTry443PortFailed||this.useProxy)&&this.isNormalPortFailed)&&(this.logger(\"onclose: all websocket is closed, \".concat(i.reason)),c.reject({code:i.code,reason:xb.A_ROUND_WS_FAILED}))},e.onmessage=t=>this.logger(\"\".concat(e.url,\" onmessage: \").concat(t.data))})),this.websockets.push(...o);return i||(()=>{const i=()=>{this.logger(\"5s timeout close un-opens, isWebsocket created: \",c.isResolved),this.websockets.forEach((e=>e.readyState!==WebSocket.OPEN&&e.close()))};if(t||this.useProxy)return this.logger(\"add 5s timeout at \".concat(t?\"try-443\":\"proxy\",\" condition\")),this.forceCloseTimeout=window.setTimeout(i,this.forceCloseWSDuration);this.try443PortTimeout=window.setTimeout((()=>{if(this.logger(\"2s timeout, isWebsocket created: \",c.isResolved),c.isResolved)return i();AI().os===RI.MAC_OS&&kI()&&i(),this.createWebSocket(e,!0,!0).then((e=>c.resolve(e))).catch((e=>{this.isNormalPortFailed&&c.reject(e),this.logger(\"try 443 port to create ws failed\")})),this.forceCloseTimeout=window.setTimeout(i,this.forceCloseWSDuration)}),this.try443PortDuration)})(),c.promise}chooseBestWebsocket(e,t,i,n){return this.useDoubleDomain=!!t,\"string\"==typeof e&&(e=function(e){let t,i,n;return[,t,i,n]=e.match(Tw)||[],t||([,i,n]=e.match(Sw)||[]),i&&n||([,i,n]=e.match(gw)||[]),i&&n||([,i]=e.match(Rw)||[]),i||Qy.warning(\"un-destructible url: \",e),{proxy:t,host:i,port:n||\"443\"}}(e)),this.recordIndex=n,this.useProxy=!!e.proxy,i&&this.useProxy&&(Qy.warn(\"cannot use 443 only when use proxy\"),i=!1),this.createWebSocket(e,!!i,!1).finally((()=>this.clearTimeout()))}}function vw(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}class yw extends Sv{get url(){return this.websocket&&this.websocket.url||null}get reconnectMode(){return this._reconnectMode}set reconnectMode(e){var t;Dn(t=[\"tryNext\",\"recover\"]).call(t,e)&&this.resetReconnectCount(e),this._reconnectMode=e}get state(){return this._state}set state(e){e!==this._state&&(this._state=e,\"reconnecting\"===this._state?this.emit(Tb.RECONNECTING,this.reconnectReason):\"connected\"===this._state?this.emit(Tb.CONNECTED):\"closed\"===this._state?this.emit(Tb.CLOSED):\"failed\"===this._state&&this.emit(Tb.FAILED))}resetReconnectCount(e){Qy.debug(\"websocket reset reconnect count, reason: \"+e),this.reconnectCount=0}constructor(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5?arguments[5]:void 0;super(),og(this,\"connectionID\",0),og(this,\"currentURLIndex\",0),og(this,\"urls\",[]),og(this,\"_reconnectMode\",\"tryNext\"),og(this,\"reconnectReason\",void 0),og(this,\"_initMutex\",new hy(\"websocket\")),og(this,\"name\",void 0),og(this,\"_state\",\"closed\"),og(this,\"reconnectInterrupter\",void 0),og(this,\"websocket\",void 0),og(this,\"retryConfig\",void 0),og(this,\"reconnectCount\",0),og(this,\"forceCloseTimeout\",5e3),og(this,\"onlineReconnectListener\",void 0),og(this,\"useCompress\",void 0),og(this,\"tryDoubleDomain\",!1),og(this,\"use443PortOnly\",!1),og(this,\"wsInflateLength\",0),og(this,\"wsDeflateLength\",0),og(this,\"closeEstablishingWs\",(()=>{})),og(this,\"store\",void 0),og(this,\"joinGatewayRecordIndex\",void 0),this.store=o,this.name=e,this.retryConfig=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?vw(Object(i),!0).forEach((function(t){og(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):vw(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},t),this.useCompress=i,this.tryDoubleDomain=n,this.use443PortOnly=r;const{timeout:s,timeoutFactor:a}=t,c=Math.max(300,Math.floor(3*s/5)),d=Math.max(1.2,Math.floor(8*a)/10);Pv.ONLINE&&(this.retryConfig.timeout=c,this.retryConfig.timeoutFactor=d),Vv.on(Lv.NETWORK_STATE_CHANGE,((e,t)=>{e!==t&&(this.resetReconnectCount(\"network state change: \".concat(t,\" -> \").concat(e)),e===Pv.ONLINE?(this.retryConfig.timeout=c,this.retryConfig.timeoutFactor=d):(this.retryConfig.timeout=s,this.retryConfig.timeoutFactor=a))}))}getConnection(){return this.websocket||void 0}async init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;const i=await this._initMutex.lock();this.forceCloseTimeout=t,this.urls=e,this.state=\"connecting\";try{const e=fI(),t=this.urls[this.currentURLIndex];Dy(\"ENABLE_PREALLOC_PC\")&&this.emit(tw.PRE_CONNECT_PC),this.createWebSocketConnection(t).then(e.resolve).catch(e.reject),this.once(Tb.CLOSED,(()=>{e.reject(new rv(nv.WS_DISCONNECT))})),this.once(Tb.CONNECTED,e.resolve),await e.promise}catch(e){}finally{i()}}close(e,t){if(this.currentURLIndex=0,this.resetReconnectCount(\"close\"),this.reconnectInterrupter&&this.reconnectInterrupter(),this.websocket){this.websocket.onclose=null,this.websocket.onopen=null,this.websocket.onmessage=null;const e=this.websocket;t?setTimeout((()=>e.close()),500):e.close(),this.websocket=void 0}this.state=e?\"failed\":\"closed\",this.closeEstablishingWs&&this.closeEstablishingWs()}reconnect(e,t){if(!this.websocket)return void Qy.warning(\"[\".concat(this.name,\"] can not reconnect, no websocket\"));void 0!==e&&(this.reconnectMode=e),Qy.debug(\"[\".concat(this.name,\"] reconnect is triggered initiative\")),\"number\"==typeof this.joinGatewayRecordIndex&&this.store&&this.store.recordJoinChannelService({status:\"error\",errors:[new Error(t)]},this.joinGatewayRecordIndex);const i=this.websocket.onclose;this.websocket.onclose=null,this.websocket.close(),i&&i.bind(this.websocket)({code:9999,reason:t})}sendMessage(e){let t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!this.websocket||this.websocket.readyState!==WebSocket.OPEN)throw new rv(nv.WS_ABORT,\"websocket is not ready\");try{t||(e=JSON.stringify(e)),this.websocket.send(e)}catch(e){throw new rv(nv.WS_ERR,\"send websocket message error\"+e.toString())}}setWsInflateData(e){this.wsDeflateLength=this.wsDeflateLength+e.originLength,this.wsInflateLength=this.wsInflateLength+e.compressedLength}getWsInflateData(){const e=this.wsInflateLength,t=this.wsDeflateLength;return this.clearWsInflateData(),{wsInflateLength:e,wsDeflateLength:t}}clearWsInflateData(){this.wsInflateLength=0,this.wsDeflateLength=0}async createWebSocketConnection(e){var t;const i=fI();this.connectionID+=1,this.joinGatewayRecordIndex=void 0;const n=e=>{var t;null===(t=this.store)||void 0===t||t.signalChannelOpen(),Qy.debug(\"[\".concat(this.name,\"] websocket opened:\"),e),this.reconnectMode=\"retry\",this.state=\"connected\",this.resetReconnectCount(\"opened\"),i.resolve()},r=async e=>{var t;if(Qy.debug(\"[\".concat(this.name,\"] websocket close \").concat(null===(t=this.websocket)||void 0===t?void 0:t.url,\", code: \").concat(e.code,\", reason: \").concat(e.reason,\", current mode: \").concat(this.reconnectMode)),this.reconnectCount>=this.retryConfig.maxRetryCount)i.reject(new rv(nv.WS_DISCONNECT,\"websocket close: \".concat(e.code))),this.close();else{\"connected\"===this.state&&(this.reconnectReason=e.reason,this.state=\"reconnecting\");const t=Uv(this,Tb.WILL_RECONNECT,this.reconnectMode,e.reason)||this.reconnectMode,n=await this.reconnectWithAction(t);if(\"closed\"===this.state)return void Qy.debug(\"[\".concat(this.connectionID,\"] ws is closed, no need to reconnect\"));if(!n)return i.reject(new rv(nv.WS_DISCONNECT,\"websocket reconnect failed: \".concat(e.code))),this.close(!0);i.resolve()}},o=e=>{this.emit(Tb.ON_MESSAGE,e)},s=e=>{Qy.warn(\"[\".concat(this.connectionID,\"] ws open error \").concat(e))};this.websocket&&(this.websocket.onclose=null,this.websocket.close()),Dy(\"GATEWAY_WSS_ADDRESS\")&&this.name.startsWith(\"gateway\")&&(e=Dy(\"GATEWAY_WSS_ADDRESS\")),Qy.debug(\"[\".concat(this.name,\"] start connect, url:\"),e);const a=null===(t=this.store)||void 0===t?void 0:t.recordJoinChannelService({startTs:Date.now(),status:\"pending\",service:\"gateway\"});try{var c;const t=await this.chooseBestWebsocketConnection(e);this.websocket=t,n&&n(this.websocket.url),this.websocket.onclose=r,this.websocket.onmessage=o,this.websocket.onerror=s,null===(c=this.store)||void 0===c||c.recordJoinChannelService({endTs:Date.now(),status:\"success\"},a),this.joinGatewayRecordIndex=a}catch(e){const t=\"closed\"===this.state,n=e instanceof rv,o=n&&e.code===nv.WS_ABORT,s=n&&e.code===nv.WS_ERR,c=n?e.message:e&&(e.reason||e.toString());Qy.warning(\"[choose-best-ws] chooseBestWebsocket error: \".concat(c)),this.store&&this.store.recordJoinChannelService({endTs:Date.now(),status:o?\"aborted\":\"error\",errors:[e]},a),t||s?(i.reject(t?new rv(nv.WS_DISCONNECT,\"websocket is closed: \".concat(c)):new rv(nv.WS_ERR,\"init websocket failed: \".concat(c))),s&&Qy.error(\"[\".concat(this.name,\"] init websocket failed: \").concat(c))):r&&r(e)}return i.promise}async reconnectWithAction(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.reconnectCount>=this.retryConfig.maxRetryCount)return!1;if(0===this.urls.length)return!1;if(\"closed\"===this.state)return!1;Qy.warning(\"[choose-best-ws] action: =>\",e),this.onlineReconnectListener||Vv.isOnline||!Vv.onlineWaiter||(this.onlineReconnectListener=Vv.onlineWaiter.then((()=>{this.onlineReconnectListener=void 0})));let i=!0;if(this.reconnectInterrupter=()=>i=!1,t){const t=Ey(this.reconnectCount,this.retryConfig);Qy.debug(\"[\".concat(this.name,\"] wait \").concat(t,\"ms to reconnect websocket, mode: \").concat(e)),await Gh.race([$v(t),this.onlineReconnectListener||new Gh((()=>{}))])}if(\"closed\"===this._state||!i)return!1;this.reconnectCount+=1;const n=async(e,t)=>{this.emit(Tb.RECONNECT_CREATE_CONNECTION,t),await this.createWebSocketConnection(e)};try{if(\"retry\"===e)this.emit(Tb.RECONNECT_WAITTING_FINISH,e),await n(this.urls[this.currentURLIndex],e);else if(\"tryNext\"===e){if(this.currentURLIndex+=1,this.currentURLIndex>=this.urls.length)return this.reconnectWithAction(\"recover\",!1);Qy.debug(\"[\".concat(this.name,\"] websocket url length: \").concat(this.urls.length,\" current index: \").concat(this.currentURLIndex)),this.emit(Tb.RECONNECT_WAITTING_FINISH,e),await n(this.urls[this.currentURLIndex],e)}else\"recover\"===e&&(Qy.debug(\"[\".concat(this.name,\"] request new urls\")),this.resetReconnectCount(\"recover mode\"),this.emit(Tb.RECONNECT_WAITTING_FINISH,e),this.urls=await kv(this,Tb.REQUEST_NEW_URLS),this.currentURLIndex=0,await n(this.urls[this.currentURLIndex],e))}catch(i){var r;Qy.error(\"[\".concat(this.name,\"] reconnect failed \").concat(i&&i.toString()));const n=null==i||null===(r=i.data)||void 0===r?void 0:r.desc;return Array.isArray(n)&&Dn(n).call(n,\"dynamic key expired\")?(this.emit(Tb.ON_TOKEN_PRIVILEGE_DID_EXPIRE),!1):this.reconnectWithAction(e,t)}return!0}}class Aw extends yw{constructor(e,t){super(e,t,arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4],arguments.length>5?arguments[5]:void 0)}async chooseBestWebsocketConnection(e,t){const i=fI(),n=function(e,t){return new Iw(e,t)}(this.forceCloseTimeout,this.store);this.closeEstablishingWs=()=>{Qy.debug(\"[choose-best-ws] close establishing websockets\"),n.closeAllWebsockets(),i.reject(new rv(nv.WS_ABORT,\"choose best websocket aborted\"))};const r=Dy(\"GATEWAY_DOMAINS\");return Qy.debug(\"[choose-best-ws] currentDomain: \",e,\", domains: \",r,\"total: \".concat(this.urls.length),\"current: \".concat(this.currentURLIndex+1)),n.chooseBestWebsocket(e,this.tryDoubleDomain,this.use443PortOnly,t).then(i.resolve).catch(i.reject),i.promise.finally((()=>{this.closeEstablishingWs=void 0}))}}class bw extends yw{constructor(e,t){super(e,t,arguments.length>2&&void 0!==arguments[2]&&arguments[2],arguments.length>3&&void 0!==arguments[3]&&arguments[3],arguments.length>4&&void 0!==arguments[4]&&arguments[4],arguments.length>5?arguments[5]:void 0)}async chooseBestWebsocketConnection(e,t){return new Gh(((i,n)=>{let r=!1;const o=[];this.closeEstablishingWs=()=>{Qy.debug(\"[choose-best-ws] close establishing websockets\"),o.forEach((e=>{e.onclose=null,e.onopen=null,e.onmessage=null,e.close()})),n(new rv(nv.WS_ABORT,\"choose best websocket aborted\"))};const s=Dy(\"GATEWAY_DOMAINS\");let a;const c=e.indexOf(\"?h=\"),d=s.find((t=>-1!==c?Dn(e).call(e,t,c):Dn(e).call(e,t)));Qy.debug(\"[choose-best-ws] currentDomain: \",d,\", domains: \",s);let l=!this.tryDoubleDomain||!d;if(!l&&d){var u;const h=Date.now();try{s.forEach((t=>{const i=-1===c?e.replace(d,t):e.substr(0,c)+e.substr(c).replace(d,t),n=new WebSocket(i);n.binaryType=\"arraybuffer\",o.push(n),Qy.debug(\"[choose-best-ws] ws is connecting:\",n.url)}))}catch(e){for(Qy.debug(\"[choose-best-ws] ws create failed, fallback to single url\"),o.forEach((e=>e.close()));o.length;)o.pop();l=!0}null===(u=this.store)||void 0===u||u.recordJoinChannelService({urls:o.map((e=>e.url)),service:\"gateway\"},t),o.forEach((e=>{e.onopen=()=>{if(r)return;const t=Date.now()-h;Qy.debug(\"[choose-best-ws] ws open cost \".concat(t,\"ms\")),o.filter((t=>t!==e)).forEach((e=>{Qy.debug(\"[choose-best-ws]close backup websocket: \".concat(e.url)),e.close()})),r=!0,i(e)},e.onclose=e=>{if(a=e,r)return;o.find((e=>!(e.readyState===WebSocket.CLOSED||e.readyState===WebSocket.CLOSING)))||(Qy.debug(\"[choose-best-ws] all websocket is closed\"),r=!0,n(a))},e.onmessage=t=>{Qy.debug(\"[choose-best-ws]\".concat(e.url,\" onmessage: \").concat(t.data))}})),$v(this.forceCloseTimeout).then((()=>{o.forEach((e=>{e.readyState!==WebSocket.OPEN&&e.close()}))}))}if(l){var h;let r;Qy.debug(\"[choose-best-ws] use single url: \",e),null===(h=this.store)||void 0===h||h.recordJoinChannelService({urls:[e],service:\"gateway\"},t);try{r=new WebSocket(e),o.push(r),r.binaryType=\"arraybuffer\"}catch(e){const t=new rv(nv.WS_ERR,\"init websocket failed! Error: \".concat(e.toString()));return Qy.error(\"[\".concat(this.name,\"]\").concat(t)),void n(t)}r.onopen=()=>{i(r)},r.onclose=e=>{n(e)},r.onmessage=e=>{Qy.debug(\"[choose-best-ws]\".concat(r.url,\" onmessage: \").concat(e.data))},$v(this.forceCloseTimeout).then((()=>{r&&r.readyState!==WebSocket.OPEN&&r.close()}))}})).then((e=>(this.closeEstablishingWs=void 0,e))).catch((e=>{throw this.closeEstablishingWs=void 0,e}))}}class ww extends Sv{get connectionState(){return this._connectionState}set connectionState(e){e!==this._connectionState&&(this._connectionState=e,e===hb.CONNECTED?this.emit(pb.WS_CONNECTED):e===hb.RECONNECTING?this.emit(pb.WS_RECONNECTING,this._websocketReconnectReason):e===hb.CLOSED&&this.emit(pb.WS_CLOSED,this._disconnectedReason))}get currentURLIndex(){return this.websocket.currentURLIndex}get url(){return this.websocket&&this.websocket.url||null}get rtt(){return this.rttRolling.mean()}constructor(e,t){super(),og(this,\"_disconnectedReason\",void 0),og(this,\"_websocketReconnectReason\",void 0),og(this,\"_connectionState\",hb.CLOSED),og(this,\"reconnectToken\",void 0),og(this,\"websocket\",void 0),og(this,\"openConnectionTime\",void 0),og(this,\"clientId\",void 0),og(this,\"lastMsgTime\",Date.now()),og(this,\"uploadCache\",[]),og(this,\"uploadCacheInterval\",void 0),og(this,\"rttRolling\",new fy(5)),og(this,\"pingpongTimer\",void 0),og(this,\"wsInflateDataTimer\",void 0),og(this,\"pingpongTimeoutCount\",0),og(this,\"joinResponse\",void 0),og(this,\"multiIpOption\",void 0),og(this,\"initError\",void 0),og(this,\"spec\",void 0),og(this,\"store\",void 0),og(this,\"onWebsocketMessage\",(e=>{if(e.data instanceof ArrayBuffer)return void this.emit(pb.ON_BINARY_DATA,e.data);const t=JSON.parse(e.data);if(this.lastMsgTime=Date.now(),Object.prototype.hasOwnProperty.call(t,\"_id\")){const e=\"res-@\".concat(t._id);this.emit(e,t._result,t._message)}else if(Object.prototype.hasOwnProperty.call(t,\"_type\")){if(this.emit(t._type,t._message),t._type===mb.ON_NOTIFICATION&&this.handleNotification(t._message),t._type===mb.ON_USER_BANNED)switch(t._message.error_code){case 14:this.close(Av.UID_BANNED);break;case 15:this.close(Av.IP_BANNED);break;case 16:this.close(Av.CHANNEL_BANNED)}if(t._type===mb.ON_USER_LICENSE_BANNED)switch(t._message.error_code){case ub.ERR_LICENSE_MISSING:this.close(Av.LICENSE_MISSING);break;case ub.ERR_LICENSE_EXPIRED:this.close(Av.LICENSE_EXPIRED);break;case ub.ERR_LICENSE_MINUTES_EXCEEDED:this.close(Av.LICENSE_MINUTES_EXCEEDED);break;case ub.ERR_LICENSE_PERIOD_INVALID:this.close(Av.LICENSE_PERIOD_INVALID);break;case ub.ERR_LICENSE_MULTIPLE_SDK_SERVICE:this.close(Av.LICENSE_MULTIPLE_SDK_SERVICE);break;case ub.ERR_LICENSE_ILLEGAL:this.close(Av.LICENSE_ILLEGAL);break;default:this.close()}}})),this.clientId=e.clientId,this.spec=e,this.store=t,this.websocket=new Aw(\"gateway-\".concat(this.clientId),this.spec.retryConfig,!0,Dy(\"JOIN_GATEWAY_USE_DUAL_DOMAIN\"),Dy(\"JOIN_GATEWAY_USE_443PORT_ONLY\"),t),this.handleWebsocketEvents(),window.addEventListener(\"offline\",(()=>{this.connectionState===hb.CONNECTED&&this.reconnect(\"retry\",Dv.OFFLINE)}))}async request(e,t,i,n){const r=ey(6,\"\"),o={_id:r,_type:e,_message:t},s=this.websocket.connectionID,a=()=>new Gh(((t,i)=>{if(this.connectionState===hb.CONNECTED)return t();const n=()=>{this.off(pb.WS_CLOSED,r),t()},r=()=>{this.off(pb.WS_CONNECTED,n),i(new Sb(nv.WS_ABORT))};this.once(pb.WS_CONNECTED,n),this.once(pb.WS_CLOSED,r),e!==_b.PUBLISH&&e!==_b.PUBLISH_DATASTREAM&&e!==_b.SUBSCRIBE&&e!==_b.SUBSCRIBE_DATASTREAM&&e!==_b.UNSUBSCRIBE&&e!==_b.UNSUBSCRIBE_DATASTREAM&&e!==_b.UNPUBLISH&&e!==_b.UNPUBLISH_DATASTREAM&&e!==_b.CONTROL&&e!==_b.RESTART_ICE||this.once(pb.DISCONNECT_P2P,(()=>{i(new Sb(nv.DISCONNECT_P2P))})),e!==_b.PUBLISH&&e!==_b.RESTART_ICE||this.once(pb.ABORT_P2P_EXECUTION,(()=>{i(new Sb(nv.DISCONNECT_P2P))}))}));if(this.connectionState!==hb.CONNECTING&&this.connectionState!==hb.RECONNECTING||e===_b.JOIN||e===_b.REJOIN||await a(),this.websocket.sendMessage(o,!0),n)return;const c=new Gh(((i,n)=>{let o=!1;const a=(n,r)=>{o=!0,i({isSuccess:\"success\"===n,message:r||{}}),this.off(pb.WS_CLOSED,c),this.off(pb.WS_RECONNECTING,c),this.emit(pb.REQUEST_SUCCESS,e,t)};this.once(\"res-@\".concat(r),a);const c=()=>{n(new Sb(nv.WS_ABORT,\"type: \".concat(e))),this.off(pb.WS_CLOSED,c),this.off(pb.WS_RECONNECTING,c),this.off(\"res-@\".concat(r),a)};this.once(pb.WS_CLOSED,c),this.once(pb.WS_RECONNECTING,c),$v(Dy(\"SIGNAL_REQUEST_TIMEOUT\")).then((()=>{this.websocket.connectionID!==s||o||(Qy.warning(\"[\".concat(this.clientId,\"] ws request timeout, type: \").concat(e)),this.emit(pb.REQUEST_TIMEOUT,e,t))}))}));let d=null;try{d=await c}catch(n){if(this.connectionState===hb.CLOSED||e===_b.LEAVE)throw new Sb(nv.WS_ABORT);return!this.spec.forceWaitGatewayResponse||i?n.throw():e===_b.JOIN||e===_b.REJOIN?null:(await a(),await this.request(e,t))}if(d.isSuccess)return d.message;const l=Number(d.message.error_code||d.message.code),u=pw(l),h=new Sb(nv.UNEXPECTED_RESPONSE,\"\".concat(u.desc,\": \").concat(d.message.error_str),{code:l,data:d.message,desc:u.desc});return\"success\"===u.action?d.message:(Qy.warning(\"[\".concat(this.clientId,\"] [\").concat(this.websocket.connectionID,\"] unexpected response from type \").concat(e,\", error_code: \").concat(l,\", message: \").concat(u.desc,\", action: \").concat(u.action)),l===ub.ERR_TOO_MANY_BROADCASTERS?e===_b.JOIN||e===_b.REJOIN?(this.initError=h,this.close(),h.throw()):h.throw():\"failed\"===u.action?h.throw():\"quit\"===u.action?(this.initError=h,this.close(),h.throw()):(l===ub.ERR_JOIN_BY_MULTI_IP?(this.multiIpOption=d.message.option,Qy.warning(\"[\".concat(this.clientId,\"] detect multi ip, recover\")),this.reconnect(\"recover\",Dv.MULTI_IP)):this.reconnect(u.action,Dv.SERVER_ERROR),e===_b.JOIN||e===_b.REJOIN?null:await this.request(e,t)))}waitMessage(e,t){return new Gh((i=>{const n=r=>{(!t||t(r))&&(this.off(e,n),i(r))};this.on(e,n)}))}uploadWRTCStats(e){if(!this.store.sessionId)return void Qy.warn(\"[\".concat(this.clientId,\"] no session id when upload wrtc stats\"));const t={lts:Date.now(),sid:this.store.sessionId,uid:this.store.intUid,stats:e};this.upload(Eb.WRTC_STATS,t)}upload(e,t){const i={_type:e,_message:t};try{this.websocket.sendMessage(i)}catch(e){const t=Dy(\"MAX_UPLOAD_CACHE\")||50;this.uploadCache.push(i),this.uploadCache.length>t&&this.uploadCache.splice(0,1),this.uploadCache.length>0&&!this.uploadCacheInterval&&(this.uploadCacheInterval=window.setInterval((()=>{if(this.connectionState!==hb.CONNECTED)return;const e=this.uploadCache.splice(0,1)[0];0===this.uploadCache.length&&(window.clearInterval(this.uploadCacheInterval),this.uploadCacheInterval=void 0),this.upload(e._type,e._message)}),Dy(\"UPLOAD_CACHE_INTERVAL\")||2e3))}}send(e,t){const i={_type:e,_message:t};this.websocket.sendMessage(i)}init(e,t){return this.initError=void 0,this.multiIpOption=void 0,this.joinResponse=void 0,this.reconnectToken=void 0,this.openConnectionTime=void 0,new Gh(((t,i)=>{this.once(pb.WS_CONNECTED,(()=>t(this.joinResponse))),this.once(pb.WS_CLOSED,(()=>i(this.initError||new Sb(nv.WS_ABORT)))),this.connectionState=hb.CONNECTING,this.websocket.init(e).catch(i),this.wsInflateDataTimer&&window.clearInterval(this.wsInflateDataTimer),this.wsInflateDataTimer=window.setInterval((()=>{this.handleWsInflateData()}),2e4)}))}close(e){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.wsInflateDataTimer&&(this.handleWsInflateData(),window.clearInterval(this.wsInflateDataTimer),this.wsInflateDataTimer=void 0),this.reconnectToken=void 0,this.joinResponse=void 0,this._disconnectedReason=e||Av.LEAVE,this.connectionState=hb.CLOSED,Qy.debug(\"[\".concat(this.clientId,\"] \")+\"will close websocket in signal\"),this.websocket.close()}async join(){if(!this.joinResponse){this.emit(pb.ABORT_P2P_EXECUTION);const e=await kv(this,pb.REQUEST_JOIN_INFO),t=await this.request(_b.JOIN,e);if(!t)return this.emit(pb.REPORT_JOIN_GATEWAY,xb.TIMEOUT,this.url||\"\"),!1;this.joinResponse=t,this.emit(pb.JOIN_RESPONSE,this.joinResponse),this.reconnectToken=this.joinResponse.rejoin_token}return this.connectionState=hb.CONNECTED,this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(this.handlePingPong.bind(this),3e3),!0}async rejoin(){if(!this.reconnectToken)throw new Sb(nv.UNEXPECTED_ERROR,\"can not rejoin, no rejoin token\");const e=xv(this,pb.REQUEST_REJOIN_INFO);e.token=this.reconnectToken;const t=await this.request(_b.REJOIN,e);return!!t&&(this.connectionState=hb.CONNECTED,this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(this.handlePingPong.bind(this),3e3),t.peers&&t.peers.forEach((e=>{this.emit(mb.ON_USER_ONLINE,{uid:e.uid}),e.audio&&this.emit(mb.ON_ADD_AUDIO_STREAM,{uid:e.uid,uint_id:e.uint_id,audio:!0,ssrcId:e.audio_ssrc}),e.video&&this.emit(mb.ON_ADD_VIDEO_STREAM,{uid:e.uid,uint_id:e.uint_id,video:!0,ssrcId:e.video_ssrc}),e.audio_mute?this.emit(mb.MUTE_AUDIO,{uid:e.uid}):this.emit(mb.UNMUTE_AUDIO,{uid:e.uid}),e.video_mute?this.emit(mb.MUTE_VIDEO,{uid:e.uid}):this.emit(mb.UNMUTE_VIDEO,{uid:e.uid}),e.audio_enable_local?this.emit(mb.ENABLE_LOCAL_AUDIO,{uid:e.uid}):this.emit(mb.DISABLE_LOCAL_AUDIO,{uid:e.uid}),e.video_enable_local?this.emit(mb.ENABLE_LOCAL_VIDEO,{uid:e.uid}):this.emit(mb.DISABLE_LOCAL_VIDEO,{uid:e.uid}),e.audio||e.video||this.emit(mb.ON_REMOVE_STREAM,{uid:e.uid,uint_id:e.uint_id})})),!0)}reconnect(e,t){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.websocket.reconnect(e,t)}handleNotification(e){Qy.debug(\"[\".concat(this.clientId,\"] receive notification: \"),e);const t=pw(e.code);if(\"success\"!==t.action){if(\"failed\"!==t.action)return\"quit\"===t.action?(\"ERR_REPEAT_JOIN_CHANNEL\"===t.desc&&this.close(Av.UID_BANNED),void this.close()):void this.reconnect(t.action,Dv.SERVER_ERROR);Qy.error(\"[\".concat(this.clientId,\"] ignore error: \"),t.desc)}}handlePingPong(){if(!this.websocket||\"connected\"!==this.websocket.state)return;this.pingpongTimeoutCount>0&&this.rttRolling.add(3e3),this.pingpongTimeoutCount+=1;const e=Dy(\"PING_PONG_TIME_OUT\"),t=Date.now();this.pingpongTimeoutCount>=e&&(Qy.warning(\"[\".concat(this.clientId,\"] PING-PONG Timeout. Last Socket Message: \").concat(t-this.lastMsgTime,\"ms\")),t-this.lastMsgTime>Dy(\"WEBSOCKET_TIMEOUT_MIN\"))?this.reconnect(\"retry\",Dv.TIMEOUT):this.request(_b.PING,void 0,!0).then((()=>{this.pingpongTimeoutCount=0;const e=Date.now()-t;this.rttRolling.add(e),Dy(\"REPORT_STATS\")&&this.send(_b.PING_BACK,{pingpongElapse:e})})).catch((e=>{}))}handleWsInflateData(){const{wsInflateLength:e,wsDeflateLength:t}=this.websocket.getWsInflateData();0!==e&&0!==t&&this.upload(Eb.WS_INFLATE_DATA_LENGTH,{ws_deflate_length:t,ws_inflate_length:e})}handleWebsocketEvents(){this.websocket.on(Tb.RECONNECT_WAITTING_FINISH,(e=>{this.emit(pb.WS_RECONNECT_WAITTING_FINISH,e)})),this.websocket.on(Tb.RECONNECT_CREATE_CONNECTION,(e=>{this.emit(pb.WS_RECONNECT_CREATE_CONNECTION,e)})),this.websocket.on(Tb.ON_MESSAGE,this.onWebsocketMessage),this.websocket.on(Tb.CLOSED,(()=>{this.connectionState=hb.CLOSED})),this.websocket.on(Tb.FAILED,(()=>{this._disconnectedReason=Av.NETWORK_ERROR,this.connectionState=hb.CLOSED})),this.websocket.on(Tb.RECONNECTING,(e=>{this._websocketReconnectReason=e,this.joinResponse=void 0,this.connectionState===hb.CONNECTED?this.connectionState=hb.RECONNECTING:this.connectionState=hb.CONNECTING})),this.websocket.on(Tb.WILL_RECONNECT,((e,t,i)=>{const n=xv(this,pb.IS_P2P_DISCONNECTED),r=n||\"retry\"!==e;n&&\"retry\"===e&&(Qy.debug(\"\".concat(this.clientId,\" reconnect mode is retry, but p2p lost, change to tryNext\")),e=\"tryNext\",t=xb.P2P_DISCONNECTED),r&&(Qy.debug(\"\".concat(this.clientId,\" will renewSession, reconnect mode: \").concat(e)),this.emit(pb.REPORT_JOIN_GATEWAY,t||xb.UNKNOWN_REASON,this.url||\"\"),this.reconnectToken=void 0,this.emit(pb.DISCONNECT_P2P)),i(e)})),this.websocket.on(Tb.CONNECTED,(()=>{this.openConnectionTime=Date.now(),this.reconnectToken?this.rejoin().catch((e=>{Qy.warning(\"[\".concat(this.clientId,\"] rejoin failed \").concat(e)),this.reconnect(\"tryNext\",Dv.SERVER_ERROR)})):this.join().catch((e=>{if(this.emit(pb.REPORT_JOIN_GATEWAY,e,this.url||\"\"),e instanceof Sb){if(e.code===nv.UNEXPECTED_RESPONSE&&e.data.code===ub.ERR_NO_AUTHORIZED)return this.initError=new Sb(nv.CAN_NOT_GET_GATEWAY_SERVER,\"AgoraRTCError CAN_NOT_GET_GATEWAY_SERVER: dynamic key expired\"),Qy.warning(\"[\".concat(this.clientId,\"] reconnect no authorized, recover\")),void this.reconnect(\"recover\",Dv.SERVER_ERROR);Qy.error(\"[\".concat(this.clientId,\"] join gateway request failed\"),e.toString()),this.spec.forceWaitGatewayResponse?this.reconnect(\"tryNext\",Dv.SERVER_ERROR):(this.initError=e,this.close())}}))})),this.websocket.on(Tb.REQUEST_NEW_URLS,((e,t)=>{kv(this,pb.REQUEST_RECOVER,this.multiIpOption).then(e).catch(t)})),this.websocket.on(Tb.ON_TOKEN_PRIVILEGE_DID_EXPIRE,(()=>{this.emit(mb.ON_TOKEN_PRIVILEGE_DID_EXPIRE)})),this.websocket.on(tw.PRE_CONNECT_PC,(()=>{this.emit(pb.PRE_CONNECT_PC)}))}}let Ow=function(e){return e[e.CHOOSE_SERVER=11]=\"CHOOSE_SERVER\",e[e.CLOUD_PROXY=18]=\"CLOUD_PROXY\",e[e.CLOUD_PROXY_5=20]=\"CLOUD_PROXY_5\",e[e.CLOUD_PROXY_FALLBACK=26]=\"CLOUD_PROXY_FALLBACK\",e}({});function Nw(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function Dw(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Nw(Object(i),!0).forEach((function(t){og(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Nw(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function Pw(e){return e.match(/^[\\.\\:\\d]+$/)?\"\".concat(e.replace(/[^\\d]/g,\"-\"),\".\").concat(Dy(\"TURN_DOMAIN\")):(Qy.info(\"Unidentified as ip: \".concat(e,\", use as host\")),e)}function Lw(e,t){e.addresses||(e.addresses=[]);const i=function(e,t){if(Dy(\"CONNECT_GATEWAY_WITHOUT_DOMAIN\"))return e.map((e=>{let{ip:t,port:i}=e;return{address:\"\".concat(t,\":\").concat(i)}}));const i=Dy(\"GATEWAY_DOMAINS\");let n=i[1]&&Dn(t).call(t,i[1])?1:0;return e.map((e=>{let{domain_prefix:t,port:r,ip:o}=e;if(t)return{address:\"\".concat(t,\".\").concat(i[n++%i.length],\":\").concat(r)};const s=/^[\\.\\:\\d]+$/.test(o),a=s?\"\".concat(o.replace(/[^\\d]/g,\"-\"),\".\").concat(i[n++%i.length],\":\").concat(r):\"\".concat(o,\":\").concat(r);return s||Qy.info(\"Unidentified as ip: \".concat(o,\", use as host\")),{ip:o,port:r,address:a}}))}(e.addresses,t),n=Array.isArray(e.detail)&&e.detail[18];if(n&&\"string\"==typeof n){const e=n.split(\";\");for(let t=0;t<e.length;t++){var r;const n=jp(r=e[t]).call(r);i[t]&&n&&(i[t].ip6=n)}}const o=e.detail&&e.detail.candidate;let s;if(o){const[e,t]=o.split(\":\");e&&t&&(s={port:Number(t),ip:e,address:\"\".concat(e,\":\").concat(t)})}return{gatewayAddrs:i,apGatewayAddress:s,uid:e.uid,cid:e.cid,cert:e.cert,vid:e.detail&&e.detail[8],uni_lbs_ip:e.detail&&e.detail[1],res:e,csIp:e.detail&&e.detail[502]}}function kw(e){return\"number\"==typeof e?e:e.exact||e.ideal||e.max||e.min||0}function Mw(e){const t=e._encoderConfig;if(!t)return{};const i={resolution:t.width&&t.height?\"\".concat(kw(t.width),\"x\").concat(kw(t.height)):void 0,maxVideoBW:t.bitrateMax,minVideoBW:t.bitrateMin};return\"number\"==typeof t.frameRate?(i.maxFrameRate=t.frameRate,i.minFrameRate=t.frameRate):t.frameRate&&(i.maxFrameRate=t.frameRate.max||t.frameRate.ideal||t.frameRate.exact||t.frameRate.min,i.minFrameRate=t.frameRate.min||t.frameRate.ideal||t.frameRate.exact||t.frameRate.max),i}function Uw(e){return e>=0&&e<.17?1:e>=.17&&e<.36?2:e>=.36&&e<.59?3:e>=.59&&e<=1?4:e>1?5:0}function xw(e,t){let i,n,r;switch(t){case Ow.CHOOSE_SERVER:n=4096,r=\"choose server\";break;case Ow.CLOUD_PROXY:n=1048576,r=\"proxy\";break;case Ow.CLOUD_PROXY_5:n=4194304,r=\"proxy5\";break;case Ow.CLOUD_PROXY_FALLBACK:n=4194310,r=\"proxy fallback\";break;default:throw new Sb(nv.UNEXPECTED_ERROR,\"multi unlibs response transformer get unknown service id\",{csIp:e.detail&&e.detail[502],retry:!1})}if(e.response_body.forEach((t=>{t.buffer&&t.buffer.flag===n&&(i={code:t.buffer.code,addresses:(t.buffer.edges_services||[]).map((e=>Dw(Dw({},e),{},{ticket:t.buffer.cert}))),server_ts:e.enter_ts,uid:t.buffer.uid,cid:t.buffer.cid,cname:t.buffer.cname,detail:Dw(Dw({},t.buffer.detail),e.detail),flag:t.buffer.flag,opid:e.opid,cert:t.buffer.cert})})),!i)throw new Sb(nv.MULTI_UNILBS_RESPONSE_ERROR,\"cannot parse response \".concat(r,\" from multi unilbs response\"),{csIp:e.detail&&e.detail[502]});return i}async function Vw(e,t){return await Gh.all(e.addresses.map((async e=>({address:Pw(e.ip),tcpport:e.port,udpport:e.port,username:t&&Dy(\"ENCRYPT_PROXY_USERNAME_AND_PSW\")&&window.isSecureContext?t.toString():cA.username,password:t&&Dy(\"ENCRYPT_PROXY_USERNAME_AND_PSW\")&&window.isSecureContext?await Tv(t.toString()):cA.password}))))}function Fw(e,t){const i=t.getMediaStreamTrack(!0).getSettings(),n=t.videoHeight||i.height,r=t.videoWidth||i.width;return n&&r?Math.max(Math.min(n,r)/Math.min(kw(e.height),kw(e.width)),1):(Qy.warning(\"can't get ori-track's height, default scale down 4 times for low stream\"),4)}function Bw(e){let{candidateType:t,relayProtocol:i,type:n,address:r,port:o,protocol:s}=e;return\"local-candidate\"===n?{candidateType:t,relayProtocol:i,protocol:s}:{candidateType:t,relayProtocol:i,address:r,port:o,protocol:s}}var jw,Gw=i(UA),Ww=Xi(\"Array\").values,Hw=pn,Kw=Ze,Yw=l,qw=Ww,zw=Array.prototype,Jw={DOMTokenList:!0,NodeList:!0},Xw=function(e){var t=e.values;return e===zw||Yw(zw,e)&&t===zw.values||Kw(Jw,Hw(e))?qw:t},Qw=i(Xw),Zw=N,$w=d,eO=L,tO=n,iO=eo,nO=Br,rO=k,oO=Je,sO=K,aO=Object.assign,cO=Object.defineProperty,dO=$w([].concat),lO=!aO||tO((function(){if(Zw&&1!==aO({b:1},aO(cO({},\"a\",{enumerable:!0,get:function(){cO(this,\"b\",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},i=Symbol(),n=\"abcdefghijklmnopqrst\";return e[i]=7,n.split(\"\").forEach((function(e){t[e]=e})),7!=aO({},e)[i]||iO(aO({},t)).join(\"\")!=n}))?function(e,t){for(var i=oO(e),n=arguments.length,r=1,o=nO.f,s=rO.f;n>r;)for(var a,c=sO(arguments[r++]),d=o?dO(iO(c),o(c)):iO(c),l=d.length,u=0;l>u;)a=d[u++],Zw&&!eO(s,c,a)||(i[a]=c[a]);return i}:aO,uO=ii,hO=rs,pO=Xt,_O=L,EO=Je,mO=function(e,t,i,n){try{return n?t(uO(i)[0],i[1]):t(i)}catch(t){hO(e,\"throw\",t)}},fO=jo,TO=jc,SO=Gi,gO=E_,RO=es,CO=qo,IO=Array,vO=d,yO=2147483647,AO=/[^\\0-\\u007E]/,bO=/[.\\u3002\\uFF0E\\uFF61]/g,wO=\"Overflow: input needs wider integers to process\",OO=RangeError,NO=vO(bO.exec),DO=Math.floor,PO=String.fromCharCode,LO=vO(\"\".charCodeAt),kO=vO([].join),MO=vO([].push),UO=vO(\"\".replace),xO=vO(\"\".split),VO=vO(\"\".toLowerCase),FO=function(e){return e+22+75*(e<26)},BO=function(e,t,i){var n=0;for(e=i?DO(e/700):e>>1,e+=DO(e/t);e>455;)e=DO(e/35),n+=36;return DO(n+36*e/(e+38))},jO=function(e){var t=[];e=function(e){for(var t=[],i=0,n=e.length;i<n;){var r=LO(e,i++);if(r>=55296&&r<=56319&&i<n){var o=LO(e,i++);56320==(64512&o)?MO(t,((1023&r)<<10)+(1023&o)+65536):(MO(t,r),i--)}else MO(t,r)}return t}(e);var i,n,r=e.length,o=128,s=0,a=72;for(i=0;i<e.length;i++)(n=e[i])<128&&MO(t,PO(n));var c=t.length,d=c;for(c&&MO(t,\"-\");d<r;){var l=yO;for(i=0;i<e.length;i++)(n=e[i])>=o&&n<l&&(l=n);var u=d+1;if(l-o>DO((yO-s)/u))throw OO(wO);for(s+=(l-o)*u,o=l,i=0;i<e.length;i++){if((n=e[i])<o&&++s>yO)throw OO(wO);if(n==o){for(var h=s,p=36;;){var _=p<=a?1:p>=a+26?26:p-a;if(h<_)break;var E=h-_,m=36-_;MO(t,PO(FO(_+E%m))),h=DO(E/m),p+=36}MO(t,PO(FO(h))),a=BO(s,u,d==c),s=0,d++}}s++,o++}return kO(t,\"\")},GO=wi,WO=N,HO=cg,KO=h,YO=Xt,qO=d,zO=ha,JO=hc,XO=Sc,QO=Ze,ZO=lO,$O=function(e){var t=EO(e),i=TO(this),n=arguments.length,r=n>1?arguments[1]:void 0,o=void 0!==r;o&&(r=pO(r,n>2?arguments[2]:void 0));var s,a,c,d,l,u,h=CO(t),p=0;if(!h||this===IO&&fO(h))for(s=SO(t),a=i?new this(s):IO(s);s>p;p++)u=o?r(t[p],p):t[p],gO(a,p,u);else for(l=(d=RO(t,h)).next,a=i?new this:[];!(c=_O(l,d)).done;p++)u=o?mO(d,r,[c.value,p],!0):c.value,gO(a,p,u);return a.length=p,a},eN=R_,tN=Ch.codeAt,iN=function(e){var t,i,n=[],r=xO(UO(VO(e),bO,\".\"),\".\");for(t=0;t<r.length;t++)i=r[t],MO(n,NO(AO,i)?\"xn--\"+jO(i):i);return kO(n,\".\")},nN=mn,rN=Da,oN=Zc,sN=vR,aN=ra,cN=aN.set,dN=aN.getterFor(\"URL\"),lN=sN.URLSearchParams,uN=sN.getState,hN=KO.URL,pN=KO.TypeError,_N=KO.parseInt,EN=Math.floor,mN=Math.pow,fN=qO(\"\".charAt),TN=qO(/./.exec),SN=qO([].join),gN=qO(1..toString),RN=qO([].pop),CN=qO([].push),IN=qO(\"\".replace),vN=qO([].shift),yN=qO(\"\".split),AN=qO(\"\".slice),bN=qO(\"\".toLowerCase),wN=qO([].unshift),ON=\"Invalid scheme\",NN=\"Invalid host\",DN=\"Invalid port\",PN=/[a-z]/i,LN=/[\\d+-.a-z]/i,kN=/\\d/,MN=/^0x/i,UN=/^[0-7]+$/,xN=/^\\d+$/,VN=/^[\\da-f]+$/i,FN=/[\\0\\t\\n\\r #%/:<>?@[\\\\\\]^|]/,BN=/[\\0\\t\\n\\r #/:<>?@[\\\\\\]^|]/,jN=/^[\\u0000-\\u0020]+/,GN=/(^|[^\\u0000-\\u0020])[\\u0000-\\u0020]+$/,WN=/[\\t\\n\\r]/g,HN=function(e){var t,i,n,r;if(\"number\"==typeof e){for(t=[],i=0;i<4;i++)wN(t,e%256),e=EN(e/256);return SN(t,\".\")}if(\"object\"==typeof e){for(t=\"\",n=function(e){for(var t=null,i=1,n=null,r=0,o=0;o<8;o++)0!==e[o]?(r>i&&(t=n,i=r),n=null,r=0):(null===n&&(n=o),++r);return r>i&&(t=n,i=r),t}(e),i=0;i<8;i++)r&&0===e[i]||(r&&(r=!1),n===i?(t+=i?\":\":\"::\",r=!0):(t+=gN(e[i],16),i<7&&(t+=\":\")));return\"[\"+t+\"]\"}return e},KN={},YN=ZO({},KN,{\" \":1,'\"':1,\"<\":1,\">\":1,\"`\":1}),qN=ZO({},YN,{\"#\":1,\"?\":1,\"{\":1,\"}\":1}),zN=ZO({},qN,{\"/\":1,\":\":1,\";\":1,\"=\":1,\"@\":1,\"[\":1,\"\\\\\":1,\"]\":1,\"^\":1,\"|\":1}),JN=function(e,t){var i=tN(e,0);return i>32&&i<127&&!QO(t,e)?e:encodeURIComponent(e)},XN={ftp:21,file:null,http:80,https:443,ws:80,wss:443},QN=function(e,t){var i;return 2==e.length&&TN(PN,fN(e,0))&&(\":\"==(i=fN(e,1))||!t&&\"|\"==i)},ZN=function(e){var t;return e.length>1&&QN(AN(e,0,2))&&(2==e.length||\"/\"===(t=fN(e,2))||\"\\\\\"===t||\"?\"===t||\"#\"===t)},$N=function(e){return\".\"===e||\"%2e\"===bN(e)},eD={},tD={},iD={},nD={},rD={},oD={},sD={},aD={},cD={},dD={},lD={},uD={},hD={},pD={},_D={},ED={},mD={},fD={},TD={},SD={},gD={},RD=function(e,t,i){var n,r,o,s=nN(e);if(t){if(r=this.parse(s))throw pN(r);this.searchParams=null}else{if(void 0!==i&&(n=new RD(i,!0)),r=this.parse(s,null,n))throw pN(r);(o=uN(new lN)).bindURL(this),this.searchParams=o}};RD.prototype={type:\"URL\",parse:function(e,t,i){var n,r,o,s,a,c=this,d=t||eD,l=0,u=\"\",h=!1,p=!1,_=!1;for(e=nN(e),t||(c.scheme=\"\",c.username=\"\",c.password=\"\",c.host=null,c.port=null,c.path=[],c.query=null,c.fragment=null,c.cannotBeABaseURL=!1,e=IN(e,jN,\"\"),e=IN(e,GN,\"$1\")),e=IN(e,WN,\"\"),n=$O(e);l<=n.length;){switch(r=n[l],d){case eD:if(!r||!TN(PN,r)){if(t)return ON;d=iD;continue}u+=bN(r),d=tD;break;case tD:if(r&&(TN(LN,r)||\"+\"==r||\"-\"==r||\".\"==r))u+=bN(r);else{if(\":\"!=r){if(t)return ON;u=\"\",d=iD,l=0;continue}if(t&&(c.isSpecial()!=QO(XN,u)||\"file\"==u&&(c.includesCredentials()||null!==c.port)||\"file\"==c.scheme&&!c.host))return;if(c.scheme=u,t)return void(c.isSpecial()&&XN[c.scheme]==c.port&&(c.port=null));u=\"\",\"file\"==c.scheme?d=pD:c.isSpecial()&&i&&i.scheme==c.scheme?d=nD:c.isSpecial()?d=aD:\"/\"==n[l+1]?(d=rD,l++):(c.cannotBeABaseURL=!0,CN(c.path,\"\"),d=TD)}break;case iD:if(!i||i.cannotBeABaseURL&&\"#\"!=r)return ON;if(i.cannotBeABaseURL&&\"#\"==r){c.scheme=i.scheme,c.path=eN(i.path),c.query=i.query,c.fragment=\"\",c.cannotBeABaseURL=!0,d=gD;break}d=\"file\"==i.scheme?pD:oD;continue;case nD:if(\"/\"!=r||\"/\"!=n[l+1]){d=oD;continue}d=cD,l++;break;case rD:if(\"/\"==r){d=dD;break}d=fD;continue;case oD:if(c.scheme=i.scheme,r==jw)c.username=i.username,c.password=i.password,c.host=i.host,c.port=i.port,c.path=eN(i.path),c.query=i.query;else if(\"/\"==r||\"\\\\\"==r&&c.isSpecial())d=sD;else if(\"?\"==r)c.username=i.username,c.password=i.password,c.host=i.host,c.port=i.port,c.path=eN(i.path),c.query=\"\",d=SD;else{if(\"#\"!=r){c.username=i.username,c.password=i.password,c.host=i.host,c.port=i.port,c.path=eN(i.path),c.path.length--,d=fD;continue}c.username=i.username,c.password=i.password,c.host=i.host,c.port=i.port,c.path=eN(i.path),c.query=i.query,c.fragment=\"\",d=gD}break;case sD:if(!c.isSpecial()||\"/\"!=r&&\"\\\\\"!=r){if(\"/\"!=r){c.username=i.username,c.password=i.password,c.host=i.host,c.port=i.port,d=fD;continue}d=dD}else d=cD;break;case aD:if(d=cD,\"/\"!=r||\"/\"!=fN(u,l+1))continue;l++;break;case cD:if(\"/\"!=r&&\"\\\\\"!=r){d=dD;continue}break;case dD:if(\"@\"==r){h&&(u=\"%40\"+u),h=!0,o=$O(u);for(var E=0;E<o.length;E++){var m=o[E];if(\":\"!=m||_){var f=JN(m,zN);_?c.password+=f:c.username+=f}else _=!0}u=\"\"}else if(r==jw||\"/\"==r||\"?\"==r||\"#\"==r||\"\\\\\"==r&&c.isSpecial()){if(h&&\"\"==u)return\"Invalid authority\";l-=$O(u).length+1,u=\"\",d=lD}else u+=r;break;case lD:case uD:if(t&&\"file\"==c.scheme){d=ED;continue}if(\":\"!=r||p){if(r==jw||\"/\"==r||\"?\"==r||\"#\"==r||\"\\\\\"==r&&c.isSpecial()){if(c.isSpecial()&&\"\"==u)return NN;if(t&&\"\"==u&&(c.includesCredentials()||null!==c.port))return;if(s=c.parseHost(u))return s;if(u=\"\",d=mD,t)return;continue}\"[\"==r?p=!0:\"]\"==r&&(p=!1),u+=r}else{if(\"\"==u)return NN;if(s=c.parseHost(u))return s;if(u=\"\",d=hD,t==uD)return}break;case hD:if(!TN(kN,r)){if(r==jw||\"/\"==r||\"?\"==r||\"#\"==r||\"\\\\\"==r&&c.isSpecial()||t){if(\"\"!=u){var T=_N(u,10);if(T>65535)return DN;c.port=c.isSpecial()&&T===XN[c.scheme]?null:T,u=\"\"}if(t)return;d=mD;continue}return DN}u+=r;break;case pD:if(c.scheme=\"file\",\"/\"==r||\"\\\\\"==r)d=_D;else{if(!i||\"file\"!=i.scheme){d=fD;continue}if(r==jw)c.host=i.host,c.path=eN(i.path),c.query=i.query;else if(\"?\"==r)c.host=i.host,c.path=eN(i.path),c.query=\"\",d=SD;else{if(\"#\"!=r){ZN(SN(eN(n,l),\"\"))||(c.host=i.host,c.path=eN(i.path),c.shortenPath()),d=fD;continue}c.host=i.host,c.path=eN(i.path),c.query=i.query,c.fragment=\"\",d=gD}}break;case _D:if(\"/\"==r||\"\\\\\"==r){d=ED;break}i&&\"file\"==i.scheme&&!ZN(SN(eN(n,l),\"\"))&&(QN(i.path[0],!0)?CN(c.path,i.path[0]):c.host=i.host),d=fD;continue;case ED:if(r==jw||\"/\"==r||\"\\\\\"==r||\"?\"==r||\"#\"==r){if(!t&&QN(u))d=fD;else if(\"\"==u){if(c.host=\"\",t)return;d=mD}else{if(s=c.parseHost(u))return s;if(\"localhost\"==c.host&&(c.host=\"\"),t)return;u=\"\",d=mD}continue}u+=r;break;case mD:if(c.isSpecial()){if(d=fD,\"/\"!=r&&\"\\\\\"!=r)continue}else if(t||\"?\"!=r)if(t||\"#\"!=r){if(r!=jw&&(d=fD,\"/\"!=r))continue}else c.fragment=\"\",d=gD;else c.query=\"\",d=SD;break;case fD:if(r==jw||\"/\"==r||\"\\\\\"==r&&c.isSpecial()||!t&&(\"?\"==r||\"#\"==r)){if(\"..\"===(a=bN(a=u))||\"%2e.\"===a||\".%2e\"===a||\"%2e%2e\"===a?(c.shortenPath(),\"/\"==r||\"\\\\\"==r&&c.isSpecial()||CN(c.path,\"\")):$N(u)?\"/\"==r||\"\\\\\"==r&&c.isSpecial()||CN(c.path,\"\"):(\"file\"==c.scheme&&!c.path.length&&QN(u)&&(c.host&&(c.host=\"\"),u=fN(u,0)+\":\"),CN(c.path,u)),u=\"\",\"file\"==c.scheme&&(r==jw||\"?\"==r||\"#\"==r))for(;c.path.length>1&&\"\"===c.path[0];)vN(c.path);\"?\"==r?(c.query=\"\",d=SD):\"#\"==r&&(c.fragment=\"\",d=gD)}else u+=JN(r,qN);break;case TD:\"?\"==r?(c.query=\"\",d=SD):\"#\"==r?(c.fragment=\"\",d=gD):r!=jw&&(c.path[0]+=JN(r,KN));break;case SD:t||\"#\"!=r?r!=jw&&(\"'\"==r&&c.isSpecial()?c.query+=\"%27\":c.query+=\"#\"==r?\"%23\":JN(r,KN)):(c.fragment=\"\",d=gD);break;case gD:r!=jw&&(c.fragment+=JN(r,YN))}l++}},parseHost:function(e){var t,i,n;if(\"[\"==fN(e,0)){if(\"]\"!=fN(e,e.length-1))return NN;if(t=function(e){var t,i,n,r,o,s,a,c=[0,0,0,0,0,0,0,0],d=0,l=null,u=0,h=function(){return fN(e,u)};if(\":\"==h()){if(\":\"!=fN(e,1))return;u+=2,l=++d}for(;h();){if(8==d)return;if(\":\"!=h()){for(t=i=0;i<4&&TN(VN,h());)t=16*t+_N(h(),16),u++,i++;if(\".\"==h()){if(0==i)return;if(u-=i,d>6)return;for(n=0;h();){if(r=null,n>0){if(!(\".\"==h()&&n<4))return;u++}if(!TN(kN,h()))return;for(;TN(kN,h());){if(o=_N(h(),10),null===r)r=o;else{if(0==r)return;r=10*r+o}if(r>255)return;u++}c[d]=256*c[d]+r,2!=++n&&4!=n||d++}if(4!=n)return;break}if(\":\"==h()){if(u++,!h())return}else if(h())return;c[d++]=t}else{if(null!==l)return;u++,l=++d}}if(null!==l)for(s=d-l,d=7;0!=d&&s>0;)a=c[d],c[d--]=c[l+s-1],c[l+--s]=a;else if(8!=d)return;return c}(AN(e,1,-1)),!t)return NN;this.host=t}else if(this.isSpecial()){if(e=iN(e),TN(FN,e))return NN;if(t=function(e){var t,i,n,r,o,s,a,c=yN(e,\".\");if(c.length&&\"\"==c[c.length-1]&&c.length--,(t=c.length)>4)return e;for(i=[],n=0;n<t;n++){if(\"\"==(r=c[n]))return e;if(o=10,r.length>1&&\"0\"==fN(r,0)&&(o=TN(MN,r)?16:8,r=AN(r,8==o?1:2)),\"\"===r)s=0;else{if(!TN(10==o?xN:8==o?UN:VN,r))return e;s=_N(r,o)}CN(i,s)}for(n=0;n<t;n++)if(s=i[n],n==t-1){if(s>=mN(256,5-t))return null}else if(s>255)return null;for(a=RN(i),n=0;n<i.length;n++)a+=i[n]*mN(256,3-n);return a}(e),null===t)return NN;this.host=t}else{if(TN(BN,e))return NN;for(t=\"\",i=$O(e),n=0;n<i.length;n++)t+=JN(i[n],KN);this.host=t}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||\"file\"==this.scheme},includesCredentials:function(){return\"\"!=this.username||\"\"!=this.password},isSpecial:function(){return QO(XN,this.scheme)},shortenPath:function(){var e=this.path,t=e.length;!t||\"file\"==this.scheme&&1==t&&QN(e[0],!0)||e.length--},serialize:function(){var e=this,t=e.scheme,i=e.username,n=e.password,r=e.host,o=e.port,s=e.path,a=e.query,c=e.fragment,d=t+\":\";return null!==r?(d+=\"//\",e.includesCredentials()&&(d+=i+(n?\":\"+n:\"\")+\"@\"),d+=HN(r),null!==o&&(d+=\":\"+o)):\"file\"==t&&(d+=\"//\"),d+=e.cannotBeABaseURL?s[0]:s.length?\"/\"+SN(s,\"/\"):\"\",null!==a&&(d+=\"?\"+a),null!==c&&(d+=\"#\"+c),d},setHref:function(e){var t=this.parse(e);if(t)throw pN(t);this.searchParams.update()},getOrigin:function(){var e=this.scheme,t=this.port;if(\"blob\"==e)try{return new CD(e.path[0]).origin}catch(e){return\"null\"}return\"file\"!=e&&this.isSpecial()?e+\"://\"+HN(this.host)+(null!==t?\":\"+t:\"\"):\"null\"},getProtocol:function(){return this.scheme+\":\"},setProtocol:function(e){this.parse(nN(e)+\":\",eD)},getUsername:function(){return this.username},setUsername:function(e){var t=$O(nN(e));if(!this.cannotHaveUsernamePasswordPort()){this.username=\"\";for(var i=0;i<t.length;i++)this.username+=JN(t[i],zN)}},getPassword:function(){return this.password},setPassword:function(e){var t=$O(nN(e));if(!this.cannotHaveUsernamePasswordPort()){this.password=\"\";for(var i=0;i<t.length;i++)this.password+=JN(t[i],zN)}},getHost:function(){var e=this.host,t=this.port;return null===e?\"\":null===t?HN(e):HN(e)+\":\"+t},setHost:function(e){this.cannotBeABaseURL||this.parse(e,lD)},getHostname:function(){var e=this.host;return null===e?\"\":HN(e)},setHostname:function(e){this.cannotBeABaseURL||this.parse(e,uD)},getPort:function(){var e=this.port;return null===e?\"\":nN(e)},setPort:function(e){this.cannotHaveUsernamePasswordPort()||(\"\"==(e=nN(e))?this.port=null:this.parse(e,hD))},getPathname:function(){var e=this.path;return this.cannotBeABaseURL?e[0]:e.length?\"/\"+SN(e,\"/\"):\"\"},setPathname:function(e){this.cannotBeABaseURL||(this.path=[],this.parse(e,mD))},getSearch:function(){var e=this.query;return e?\"?\"+e:\"\"},setSearch:function(e){\"\"==(e=nN(e))?this.query=null:(\"?\"==fN(e,0)&&(e=AN(e,1)),this.query=\"\",this.parse(e,SD)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var e=this.fragment;return e?\"#\"+e:\"\"},setHash:function(e){\"\"!=(e=nN(e))?(\"#\"==fN(e,0)&&(e=AN(e,1)),this.fragment=\"\",this.parse(e,gD)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var CD=function(e){var t=XO(this,ID),i=oN(arguments.length,1)>1?arguments[1]:void 0,n=cN(t,new RD(e,!1,i));WO||(t.href=n.serialize(),t.origin=n.getOrigin(),t.protocol=n.getProtocol(),t.username=n.getUsername(),t.password=n.getPassword(),t.host=n.getHost(),t.hostname=n.getHostname(),t.port=n.getPort(),t.pathname=n.getPathname(),t.search=n.getSearch(),t.searchParams=n.getSearchParams(),t.hash=n.getHash())},ID=CD.prototype,vD=function(e,t){return{get:function(){return dN(this)[e]()},set:t&&function(e){return dN(this)[t](e)},configurable:!0,enumerable:!0}};if(WO&&(JO(ID,\"href\",vD(\"serialize\",\"setHref\")),JO(ID,\"origin\",vD(\"getOrigin\")),JO(ID,\"protocol\",vD(\"getProtocol\",\"setProtocol\")),JO(ID,\"username\",vD(\"getUsername\",\"setUsername\")),JO(ID,\"password\",vD(\"getPassword\",\"setPassword\")),JO(ID,\"host\",vD(\"getHost\",\"setHost\")),JO(ID,\"hostname\",vD(\"getHostname\",\"setHostname\")),JO(ID,\"port\",vD(\"getPort\",\"setPort\")),JO(ID,\"pathname\",vD(\"getPathname\",\"setPathname\")),JO(ID,\"search\",vD(\"getSearch\",\"setSearch\")),JO(ID,\"searchParams\",vD(\"getSearchParams\")),JO(ID,\"hash\",vD(\"getHash\",\"setHash\"))),zO(ID,\"toJSON\",(function(){return dN(this).serialize()}),{enumerable:!0}),zO(ID,\"toString\",(function(){return dN(this).serialize()}),{enumerable:!0}),hN){var yD=hN.createObjectURL,AD=hN.revokeObjectURL;yD&&zO(CD,\"createObjectURL\",YO(yD,hN)),AD&&zO(CD,\"revokeObjectURL\",YO(AD,hN))}rN(CD,\"URL\"),GO({global:!0,constructor:!0,forced:!HO,sham:!WO},{URL:CD});var bD=wi,wD=n,OD=Zc,ND=mn,DD=cg,PD=ae(\"URL\");bD({target:\"URL\",stat:!0,forced:!(DD&&wD((function(){PD.canParse()})))},{canParse:function(e){var t=OD(arguments.length,1),i=ND(e),n=t<2||void 0===arguments[1]?void 0:ND(arguments[1]);try{return!!new PD(i,n)}catch(e){return!1}}});var LD=i(ie.URL);const kD={getDisplayMedia:!1,getStreamFromExtension:!1,supportUnifiedPlan:!1,supportMinBitrate:!1,supportSetRtpSenderParameters:!1,supportDualStream:!0,webAudioMediaStreamDest:!1,supportReplaceTrack:!1,supportWebGL:!1,webAudioWithAEC:!1,supportRequestFrame:!1,supportShareAudio:!1,supportDualStreamEncoding:!1,supportDataChannel:!1,supportPCSetConfiguration:!1,supportWebRTCEncodedTransform:!1,supportWebRTCInsertableStream:!1,supportRequestVideoFrameCallback:!1,supportWebCrypto:!1};function MD(){return kD}function UD(){return\"setSinkId\"in HTMLAudioElement.prototype&&(!Dy(\"RESTRICTION_SET_PLAYBACK_DEVICE\")||(DI()||LI())&&!XI())}function xD(){return!kD.supportUnifiedPlan||Dy(\"CHROME_FORCE_PLAN_B\")&&QI()}let VD=function(e){return e.IOS_15_16_INTERRUPTION_START=\"ios15_16-interruption-start\",e.IOS_15_16_INTERRUPTION_END=\"ios15_16-interruption-end\",e.IOS_INTERRUPTION_START=\"ios-interruption-start\",e.IOS_INTERRUPTION_END=\"ios-interruption-end\",e.STATE_CHANGE=\"state-change\",e}({});function FD(e,t,i){return{sampleRate:e,stereo:t,bitrate:i}}function BD(e,t,i,n,r){return{width:e,height:t,frameRate:i,bitrateMin:n,bitrateMax:r}}function jD(e,t,i,n,r){return{width:{max:e},height:{max:t},frameRate:i,bitrateMin:n,bitrateMax:r}}function GD(e,t){return{numSpatialLayers:e,numTemporalLayers:t}}const WD={\"90p\":BD(160,90),\"90p_1\":BD(160,90),\"120p\":BD(160,120,15,30,65),\"120p_1\":BD(160,120,15,30,65),\"120p_3\":BD(120,120,15,30,50),\"120p_4\":BD(212,120),\"180p\":BD(320,180,15,30,140),\"180p_1\":BD(320,180,15,30,140),\"180p_3\":BD(180,180,15,30,100),\"180p_4\":BD(240,180,15,30,120),\"240p\":BD(320,240,15,40,200),\"240p_1\":BD(320,240,15,40,200),\"240p_3\":BD(240,240,15,40,140),\"240p_4\":BD(424,240,15,40,220),\"360p\":BD(640,360,15,80,400),\"360p_1\":BD(640,360,15,80,400),\"360p_3\":BD(360,360,15,80,260),\"360p_4\":BD(640,360,30,80,600),\"360p_6\":BD(360,360,30,80,400),\"360p_7\":BD(480,360,15,80,320),\"360p_8\":BD(480,360,30,80,490),\"360p_9\":BD(640,360,15,80,800),\"360p_10\":BD(640,360,24,80,800),\"360p_11\":BD(640,360,24,80,1e3),\"480p\":BD(640,480,15,100,500),\"480p_1\":BD(640,480,15,100,500),\"480p_2\":BD(640,480,30,100,1e3),\"480p_3\":BD(480,480,15,100,400),\"480p_4\":BD(640,480,30,100,750),\"480p_6\":BD(480,480,30,100,600),\"480p_8\":BD(848,480,15,100,610),\"480p_9\":BD(848,480,30,100,930),\"480p_10\":BD(640,480,10,100,400),\"720p\":BD(1280,720,15,120,1130),\"720p_auto\":BD(1280,720,30,900,3e3),\"720p_1\":BD(1280,720,15,120,1130),\"720p_2\":BD(1280,720,30,120,2e3),\"720p_3\":BD(1280,720,30,120,1710),\"720p_5\":BD(960,720,15,120,910),\"720p_6\":BD(960,720,30,120,1380),\"1080p\":BD(1920,1080,15,120,2080),\"1080p_1\":BD(1920,1080,15,120,2080),\"1080p_2\":BD(1920,1080,30,120,3e3),\"1080p_3\":BD(1920,1080,30,120,3150),\"1080p_5\":BD(1920,1080,60,120,4780),\"1440p\":BD(2560,1440,30,120,4850),\"1440p_1\":BD(2560,1440,30,120,4850),\"1440p_2\":BD(2560,1440,60,120,7350),\"4k\":BD(3840,2160,30,120,8910),\"4k_1\":BD(3840,2160,30,120,8910),\"4k_3\":BD(3840,2160,60,120,13500)},HD={\"480p\":jD(640,480,5),\"480p_1\":jD(640,480,5),\"480p_2\":jD(640,480,30),\"480p_3\":jD(640,480,15),\"720p\":jD(1280,720,5),\"720p_auto\":BD(1280,720,30,900,3e3),\"720p_1\":jD(1280,720,5),\"720p_2\":jD(1280,720,30),\"720p_3\":jD(1280,720,15),\"1080p\":jD(1920,1080,5),\"1080p_1\":jD(1920,1080,5),\"1080p_2\":jD(1920,1080,30),\"1080p_3\":jD(1920,1080,15)},KD={\"1SL1TL\":GD(1,1),\"3SL3TL\":GD(3,3),\"2SL3TL\":GD(2,3)};function YD(e){return e||(e=\"480p_1\"),\"string\"==typeof e?Object.assign({},WD[e]):e}function qD(e){return\"string\"==typeof e?Object.assign({},HD[e]):e}function zD(e){return\"string\"==typeof e?Object.assign({},KD[e]):e}const JD={speech_low_quality:FD(16e3,!1),speech_standard:FD(32e3,!1,18),music_standard:FD(48e3,!1),standard_stereo:FD(48e3,!0,56),high_quality:FD(48e3,!1,128),high_quality_stereo:FD(48e3,!0,192)};function XD(e){return\"string\"==typeof e?Object.assign({},JD[e]):e}const QD=[];function ZD(e){return sv(e,\"mediaSource\",[\"screen\",\"window\",\"application\"]),!0}let $D=function(e){return e.NEED_RENEGOTIATE=\"@need_renegotiate\",e.NEED_REPLACE_TRACK=\"@need_replace_track\",e.NEED_REPLACE_MIXING_TRACK=\"@need_replace_mixing_track\",e.NEED_CLOSE=\"@need_close\",e.NEED_ENABLE_TRACK=\"@need_enable_track\",e.NEED_DISABLE_TRACK=\"@need_disable_track\",e.NEED_SESSION_ID=\"@need_sid\",e.SET_OPTIMIZATION_MODE=\"@set_optimization_mode\",e.GET_STATS=\"@get_stats\",e.GET_RTC_STATS=\"@get_rtc_stats\",e.GET_LOW_VIDEO_TRACK=\"@get_low_video_track\",e.NEED_RESET_REMOTE_SDP=\"@need_reset_remote_sdp\",e.NEED_UPDATE_VIDEO_ENCODER=\"@need_update_video_encoder\",e.NEED_UPDATE_VIDEO_SEND_PARAMETERS=\"@need_update_video_send_parameters\",e.NEED_MUTE_TRACK=\"@need_mute_track\",e.NEED_UNMUTE_TRACK=\"@need_unmute_track\",e}({}),eP=function(e){return e.SCREEN_TRACK=\"screen_track\",e.CUSTOM_TRACK=\"custome_track\",e.LOW_STREAM=\"low_stream\",e}({});let tP=function(e){return e[e.HIGH_STREAM=0]=\"HIGH_STREAM\",e[e.LOW_STREAM=1]=\"LOW_STREAM\",e}({}),iP=function(e){return e[e.HIGH_STREAM=0]=\"HIGH_STREAM\",e[e.LOW_STREAM=1]=\"LOW_STREAM\",e}({}),nP=function(e){return e[e.DISABLE=0]=\"DISABLE\",e[e.LOW_STREAM=1]=\"LOW_STREAM\",e[e.AUDIO_ONLY=2]=\"AUDIO_ONLY\",e}({}),rP=function(e){return e.TRANSCEIVER_UPDATED=\"transceiver-updated\",e.SEI_TO_SEND=\"sei-to-send\",e.SEI_RECEIVED=\"sei-received\",e.TRACK_UPDATED=\"track-updated\",e}({}),oP=function(e){return e.SOURCE_STATE_CHANGE=\"source-state-change\",e.TRACK_ENDED=\"track-ended\",e.BEAUTY_EFFECT_OVERLOAD=\"beauty-effect-overload\",e.VIDEO_ELEMENT_VISIBLE_STATUS=\"video-element-visible-status\",e.CLOSED=\"closed\",e}({}),sP=function(e){return e.FIRST_FRAME_DECODED=\"first-frame-decoded\",e.VIDEO_ELEMENT_VISIBLE_STATUS=\"video-element-visible-status\",e.VIDEO_STATE_CHANGED=\"video-state-changed\",e}({}),aP=function(e){return e.AUDIO=\"audio\",e.VIDEO=\"video\",e.DATA=\"data\",e}({}),cP=function(e){return e.AUDIO_SOURCE_STATE_CHANGE=\"audio_source_state_change\",e.RECEIVE_TRACK_BUFFER=\"receive_track_buffer\",e.ON_AUDIO_BUFFER=\"on_audio_buffer\",e.UPDATE_SOURCE=\"update_source\",e}({});!function(e){e.UPDATE_TRACK_SOURCE=\"update-track-source\"}({});const dP={sendVolumeLevel:0,sendBitrate:0,sendBytes:0,sendPackets:0,sendPacketsLost:0,sendJitterMs:0,sendRttMs:0,currentPacketLossRate:0},lP={sendBytes:0,sendBitrate:0,sendPackets:0,sendPacketsLost:0,sendJitterMs:0,sendRttMs:0,sendResolutionHeight:0,sendResolutionWidth:0,captureResolutionHeight:0,captureResolutionWidth:0,targetSendBitrate:0,totalDuration:0,totalFreezeTime:0,currentPacketLossRate:0},uP={transportDelay:0,end2EndDelay:0,receiveBitrate:0,receiveLevel:0,receiveBytes:0,receiveDelay:0,receivePackets:0,receivePacketsLost:0,receivePacketsDiscarded:0,totalDuration:0,totalFreezeTime:0,freezeRate:0,packetLossRate:0,currentPacketLossRate:0,publishDuration:-1},hP={uplinkNetworkQuality:0,downlinkNetworkQuality:0},pP={transportDelay:0,end2EndDelay:0,receiveBitrate:0,receiveBytes:0,receiveDelay:0,receivePackets:0,receivePacketsLost:0,receiveResolutionHeight:0,receiveResolutionWidth:0,totalDuration:0,totalFreezeTime:0,freezeRate:0,packetLossRate:0,currentPacketLossRate:0,publishDuration:-1};let _P=function(e){return e.ON_TRACK=\"on_track\",e.ON_NODE=\"on_node\",e}({}),EP=function(e){return e.REQUEST_UPDATE_CONSTRAINTS=\"request_update_constraints\",e.REQUEST_CONSTRAINTS=\"request_constraints\",e}({}),mP=function(e){return e.IDLE=\"IDLE\",e.INITING=\"INITING\",e.INITEND=\"INITEND\",e}({}),fP=function(e){return e.STATE_CHANGE=\"state_change\",e.RECORDING_DEVICE_CHANGED=\"recordingDeviceChanged\",e.PLAYOUT_DEVICE_CHANGED=\"playoutDeviceChanged\",e.CAMERA_DEVICE_CHANGED=\"cameraDeviceChanged\",e}({}),TP=function(e){return e.NONE=\"none\",e.INIT=\"init\",e.CANPLAY=\"canplay\",e.PLAYING=\"playing\",e.PAUSED=\"paused\",e.SUSPEND=\"suspend\",e.STALLED=\"stalled\",e.WAITING=\"waiting\",e.ERROR=\"error\",e.DESTROYED=\"destroyed\",e.ABORT=\"abort\",e.ENDED=\"ended\",e.EMPTIED=\"emptied\",e.LOADEDDATA=\"loadeddata\",e}({}),SP=function(e){return e[e.VideoStateStopped=0]=\"VideoStateStopped\",e[e.VideoStateStarting=1]=\"VideoStateStarting\",e[e.VideoStateDecoding=2]=\"VideoStateDecoding\",e[e.VideoStateFrozen=3]=\"VideoStateFrozen\",e}({});const gP={uninit:100,none:110,init:120,loadeddata:130,canplay:200,playing:210,paused:220,suspend:300,stalled:310,waiting:320,error:330,destroyed:340,abort:350,ended:360,emptied:370};let RP=function(e){return e.OPEN=\"open\",e.MESSAGE=\"message\",e.CLOSE=\"close\",e.CLOSING=\"closing\",e.ERROR=\"error\",e}({});function CP(e,t,i,n,r){var o,s,a={};return Object.keys(n).forEach((function(e){a[e]=n[e]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,(\"value\"in a||a.initializer)&&(a.writable=!0),a=Jn(o=Gw(s=i.slice()).call(s)).call(o,(function(i,n){return n(e,t,i)||i}),a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(e,t,a),a=null),a}function IP(e,t,i){return(t=function(e){var t=function(e,t){if(\"object\"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,\"string\");if(\"object\"!=typeof n)return n;throw new TypeError(\"@@toPrimitive must return a primitive value.\")}return String(e)}(e);return\"symbol\"==typeof t?t:t+\"\"}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function vP(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function yP(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?vP(Object(i),!0).forEach((function(t){IP(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):vP(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}class AP extends Sv{set _mediaStreamTrack(e){e!==this.mediaStreamTrack&&(this.safeEmit(rP.TRACK_UPDATED,e),this.mediaStreamTrack=e)}get _mediaStreamTrack(){return this.mediaStreamTrack}constructor(e,t){super(),IP(this,\"trackMediaType\",void 0),IP(this,\"_ID\",void 0),IP(this,\"_rtpTransceiver\",void 0),IP(this,\"_lowRtpTransceiver\",void 0),IP(this,\"_hints\",[]),IP(this,\"_isClosed\",!1),IP(this,\"_originMediaStreamTrack\",void 0),IP(this,\"mediaStreamTrack\",void 0),IP(this,\"_external\",{}),this._ID=t||ey(8,\"track-\"),this._originMediaStreamTrack=e,this.mediaStreamTrack=e,function(e){Dn(QD).call(QD,e)||QD.push(e)}(this)}toString(){return this._ID}getTrackId(){return this._ID}getMediaStreamTrack(e){return e||Kv((()=>{var e;sA.reportApiInvoke(null,{name:Cv.GET_MEDIA_STREAM_TRACK,options:[],tag:Iv.TRACER}).onSuccess((null===(e=this._mediaStreamTrack)||void 0===e?void 0:e.label)||\"\")}),this.mediaStreamTrack.id||this.getTrackId()),this._mediaStreamTrack}getRTCRtpTransceiver(e){return e===tP.LOW_STREAM?this._lowRtpTransceiver:this._rtpTransceiver}getMediaStreamTrackSettings(){return this.getMediaStreamTrack(!0).getSettings()}close(){this._isClosed=!0,this._lowRtpTransceiver=void 0,this._rtpTransceiver=void 0,function(e){const t=QD.indexOf(e);-1!==t&&QD.splice(t,1)}(this),this.emit(oP.CLOSED),this.removeAllListeners(rP.SEI_RECEIVED)}_updateRtpTransceiver(e,t){if(t===tP.LOW_STREAM){if(this._lowRtpTransceiver===e)return;this._lowRtpTransceiver=e}else{if(this._rtpTransceiver===e)return;this._rtpTransceiver=e}this.emit(rP.TRANSCEIVER_UPDATED,e,t)}}class bP extends AP{get isExternalTrack(){return this._isExternalTrack}get muted(){return this._muted}get enabled(){return this._enabled}get processorContext(){return this._processorContext}constructor(e,t){super(e,t),IP(this,\"_enabled\",!0),IP(this,\"_muted\",!1),IP(this,\"_isExternalTrack\",!1),IP(this,\"_isClosed\",!1),IP(this,\"_enabledMutex\",void 0),IP(this,\"processor\",void 0),IP(this,\"_processorContext\",void 0),IP(this,\"_handleTrackEnded\",(()=>{this.onTrackEnded()})),this._enabledMutex=new hy(\"\".concat(this.getTrackId())),e.addEventListener(\"ended\",this._handleTrackEnded)}getTrackLabel(){var e,t;return null!==(e=null===(t=this._originMediaStreamTrack)||void 0===t?void 0:t.label)&&void 0!==e?e:\"\"}close(){this._isClosed||(this.stop(),this._originMediaStreamTrack.stop(),this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack.stop(),this._mediaStreamTrack=null),this._originMediaStreamTrack=null,this._enabledMutex=null,Qy.debug(\"[\".concat(this.getTrackId(),\"] close\")),this.emit($D.NEED_CLOSE),super.close())}async _updateOriginMediaStreamTrack(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._isExternalTrack=i,e!==this._originMediaStreamTrack&&(this._originMediaStreamTrack&&(this._originMediaStreamTrack.removeEventListener(\"ended\",this._handleTrackEnded),t&&this._originMediaStreamTrack.stop()),e.addEventListener(\"ended\",this._handleTrackEnded),this._originMediaStreamTrack=e,this._muted&&(this._originMediaStreamTrack.enabled=!1),this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource(),await Mv(this,$D.NEED_REPLACE_TRACK,this),this.processor&&this._processorContext&&this.processor.updateInput({track:this._originMediaStreamTrack,context:this._processorContext}))}_getDefaultPlayerConfig(){return{}}onTrackEnded(){Qy.debug(\"[\".concat(this.getTrackId(),\"] track ended\")),this.safeEmit(oP.TRACK_ENDED)}stateCheck(e,t){if(Qy.debug(\"check track state, [muted: \".concat(this._muted,\", enabled: \").concat(this._enabled,\"] to [\").concat(e,\": \").concat(t,\"]\")),ov(t,e),this._enabled&&this._muted&&\"enabled\"===e&&!1===t)throw new rv(nv.TRACK_STATE_UNREACHABLE,\"cannot set enabled while the track is muted\").print(\"error\",Qy);if(!this._enabled&&!this._muted&&\"muted\"===e&&!0===t)throw new rv(nv.TRACK_STATE_UNREACHABLE,\"cannot set muted while the track is disabled\").print(\"error\",Qy)}getProcessorStats(){return this._processorContext&&this._processorContext.gatherStats()||[]}getProcessorUsage(){return this._processorContext?this._processorContext.gatherUsage():Gh.resolve([])}}const wP=window.AudioContext||window.webkitAudioContext;let OP=null;const NP=new class extends Sv{constructor(){super(...arguments),IP(this,\"prevState\",void 0),IP(this,\"curState\",void 0),IP(this,\"currentTime\",void 0),IP(this,\"currentTimeStuckAt\",void 0),IP(this,\"interruptDetectorTrack\",void 0),IP(this,\"onLocalAudioTrackMute\",(()=>{Qy.info(\"ios15-interruption-start\"),this.emit(VD.IOS_15_16_INTERRUPTION_START)})),IP(this,\"onLocalAudioTrackUnmute\",(async()=>{Qy.info(\"ios15-interruption-end\"),\"running\"!==this.curState||this.duringInterruption?Qy.info(\"ios15-interruption-end-canceled\"):(OP&&await OP.suspend(),this.emit(VD.IOS_15_16_INTERRUPTION_END))}))}get duringInterruption(){return\"running\"===this.prevState&&\"interrupted\"===this.curState}bindInterruptDetectorTrack(e){Qy.debug(\"webaudio bindInterruptDetectorTrack \".concat(e.getTrackId())),this.interruptDetectorTrack||(this.interruptDetectorTrack=e,this.interruptDetectorTrack._mediaStreamTrack.onmute=this.onLocalAudioTrackMute,this.interruptDetectorTrack._mediaStreamTrack.onunmute=this.onLocalAudioTrackUnmute)}unbindInterruptDetectorTrack(e){Qy.debug(\"webaudio unbindInterruptDetectorTrack \".concat(e.getTrackId())),this.interruptDetectorTrack&&this.interruptDetectorTrack===e&&(this.interruptDetectorTrack._mediaStreamTrack&&(this.interruptDetectorTrack._mediaStreamTrack.onmute=null,this.interruptDetectorTrack._mediaStreamTrack.onunmute=null),this.interruptDetectorTrack=void 0)}};function DP(){if(!OP){if(function(){if(!wP)return void Qy.error(\"your browser is not support web audio\");Qy.info(\"create audio context\");const e=yP({},Dy(\"WEBAUDIO_INIT_OPTIONS\"));Qy.debug(\"audio context init option:\",JSON.stringify(e)),OP=new wP(e),NP.curState=OP.state,OP.onstatechange=()=>{NP.prevState=NP.curState,NP.curState=OP?OP.state:void 0;const{prevState:e,curState:t}=NP,i=\"running\"===t,n=\"interrupted\"===t,r=\"running\"===e,o=\"suspended\"===e,s=\"interrupted\"===e,a=AI().osVersion;(MI()||qI())&&r&&n&&(Qy.info(\"ios\".concat(a,\"-interruption-start\")),NP.emit(VD.IOS_INTERRUPTION_START)),(MI()||qI())&&(o||s)&&i&&(Qy.info(\"ios\".concat(a,\"-interruption-end\")),NP.emit(VD.IOS_INTERRUPTION_END)),e!==t&&NP.emit(VD.STATE_CHANGE,t,e)},setInterval((()=>{var e;const t=null===(e=OP)||void 0===e?void 0:e.currentTime;NP.currentTime!==t?(NP.currentTimeStuckAt&&(Qy.debug(\"AudioContext current time resume at \".concat(t)),NP.currentTimeStuckAt=void 0),NP.currentTime=t):(t!==NP.currentTimeStuckAt&&(sA.reportApiInvoke(null,{name:\"WEB_AUDIO_CURRENT_TIME_STUCK\",options:{currentTime:t},tag:Iv.TRACER}).onSuccess(),Qy.warning(\"AudioContext current time stuck at \".concat(t))),NP.currentTimeStuckAt=t)}),5e3),async function(e){const t=[\"click\",\"contextmenu\",\"auxclick\",\"dblclick\",\"mousedown\",\"mouseup\",\"touchend\",\"keydown\",\"keyup\"];let i,n=!1,r=!1,o=!1;function s(t){\"running\"===e.state?a(!1):MI()||qI()?\"suspended\"===e.state&&(a(!0),t&&e.resume().then(c,c)):\"closed\"!==e.state&&(a(!0),t&&e.resume().then(c,c))}function a(e){if(n!==e){n=e;for(let i=0,n=t;i<n.length;i+=1){const t=n[i];e?window.addEventListener(t,d,{capture:!0,passive:!0}):window.removeEventListener(t,d,{capture:!0,passive:!0})}}}function c(){s(!1)}function d(){s(!0)}function l(e){if(!o)if(i.paused)if(e){let t;u(!1),o=!0;try{t=i.play(),t?t.then(h,h):(i.addEventListener(\"playing\",h),i.addEventListener(\"abort\",h),i.addEventListener(\"error\",h))}catch(e){h()}}else u(!0);else u(!1)}function u(e){if(r!==e){r=e;for(let i=0,n=t;i<n.length;i++){const t=n[i];e?window.addEventListener(t,p,{capture:!0,passive:!0}):window.removeEventListener(t,p,{capture:!0,passive:!0})}}}function h(){i.removeEventListener(\"playing\",h),i.removeEventListener(\"abort\",h),i.removeEventListener(\"error\",h),o=!1,l(!1)}function p(){l(!0)}if(MI()){const t=e.createMediaStreamDestination(),n=document.createElement(\"div\");n.innerHTML=\"<audio x-webkit-airplay='deny'></audio>\",i=n.children.item(0),i.controls=!1,i.disableRemotePlayback=!0,i.preload=\"auto\",i.srcObject=t.stream,l(!0)}NP.on(VD.STATE_CHANGE,(function(){s(!0)})),s(!1)}(OP)}(),!OP)throw new rv(nv.NOT_SUPPORTED,\"can not create audio context\");return OP}return OP}function PP(e){if(function(){if(null!==LP)return LP;const e=DP(),t=e.createBufferSource(),i=e.createGain(),n=e.createGain();t.connect(i),t.connect(n),t.disconnect(i);let r=!1;try{t.disconnect(i)}catch(e){r=!0}return t.disconnect(),LP=r,r}())return;const t=e.connect,i=e.disconnect;e.connect=(i,n,r)=>{var o;return e._inputNodes||(e._inputNodes=[]),Dn(o=e._inputNodes).call(o,i)||(i instanceof AudioNode?(e._inputNodes.push(i),t.call(e,i,n,r)):t.call(e,i,n)),e},e.disconnect=(n,r,o)=>{i.call(e),n?Fv(e._inputNodes,n):e._inputNodes=[];for(const i of e._inputNodes)t.call(e,i)}}let LP=null;function kP(e,t){let i=!1;const n=1/t;if(Dy(\"DISABLE_WEBAUDIO\")){const t=window.setInterval((()=>{i?window.clearInterval(t):e(performance.now()/1e3)}),1e3*n)}else{const t=DP();let r=t.createGain();r.gain.value=0,r.connect(t.destination);const o=()=>{if(i)return void(r=null);const s=t.createOscillator();s.onended=o,s.connect(r),s.start(0),s.stop(t.currentTime+n),e(t.currentTime)};o()}return()=>{i=!0}}class MP{constructor(){IP(this,\"context\",void 0),IP(this,\"analyserNode\",void 0),IP(this,\"sourceNode\",void 0),this.context=DP(),this.analyserNode=this.context.createAnalyser(),this.analyserNode.fftSize=2048,this.analyserNode.smoothingTimeConstant=.4}updateSource(e){if(e!==this.sourceNode){if(this.sourceNode)try{this.sourceNode.disconnect(this.analyserNode)}catch(e){}this.sourceNode=e,null==e||e.connect(this.analyserNode)}}getVolumeLevel(){if(!this.sourceNode)return 0;if(!this.context||MI()||qI()||\"running\"!==this.context.state&&this.context.resume(),!this.analyserNode)return 0;const e=new Float32Array(this.analyserNode.fftSize);if(this.analyserNode.getFloatTimeDomainData)this.analyserNode.getFloatTimeDomainData(e);else{const t=new Uint8Array(this.analyserNode.fftSize);this.analyserNode.getByteTimeDomainData(t);for(let i=0;i<e.length;++i)e[i]=t[i]/128-1}const t=Jn(e).call(e,((e,t)=>e+t*t),0)/e.length;return Math.max(10*Math.log10(t)+100,0)/100}getAnalyserNode(){return this.analyserNode}rebuildAnalyser(){try{var e,t;null===(e=this.sourceNode)||void 0===e||e.disconnect(this.analyserNode),this.analyserNode=this.context.createAnalyser(),this.analyserNode.fftSize=2048,this.analyserNode.smoothingTimeConstant=.4,null===(t=this.sourceNode)||void 0===t||t.connect(this.analyserNode)}catch(e){Qy.warning(\"rebuild analyser node failed.\")}}destroy(){this.updateSource(void 0)}}class UP extends Sv{get processSourceNode(){return this.sourceNode}set processedNode(e){var t;if(!this.isDestroyed&&this._processedNode!==e){try{var i;null===(i=this.sourceNode)||void 0===i||i.disconnect(this.outputNode)}catch(e){}null===(t=this._processedNode)||void 0===t||t.disconnect(),this._processedNode=e,this.connect()}}get processedNode(){return this._processedNode}constructor(){super(),IP(this,\"outputNode\",void 0),IP(this,\"outputTrack\",void 0),IP(this,\"isPlayed\",!1),IP(this,\"sourceNode\",void 0),IP(this,\"context\",void 0),IP(this,\"audioBufferNode\",void 0),IP(this,\"destNode\",void 0),IP(this,\"audioOutputLevel\",0),IP(this,\"volumeLevelAnalyser\",void 0),IP(this,\"_processedNode\",void 0),IP(this,\"playNode\",void 0),IP(this,\"isDestroyed\",!1),IP(this,\"onNoAudioInput\",void 0),IP(this,\"isNoAudioInput\",!1),IP(this,\"_noAudioInputCount\",0),this.context=DP(),this.playNode=this.context.destination,this.outputNode=this.context.createGain(),PP(this.outputNode),this.volumeLevelAnalyser=new MP}startGetAudioBuffer(e){this.audioBufferNode||(this.audioBufferNode=this.context.createScriptProcessor(e),this.outputNode.connect(this.audioBufferNode),this.audioBufferNode.connect(this.context.destination),this.audioBufferNode.onaudioprocess=e=>{this.emit(cP.ON_AUDIO_BUFFER,function(e){for(let t=0;t<e.outputBuffer.numberOfChannels;t+=1){const i=e.outputBuffer.getChannelData(t);for(let e=0;e<i.length;e+=1)i[e]=0}return e.inputBuffer}(e))})}stopGetAudioBuffer(){this.audioBufferNode&&(this.audioBufferNode.onaudioprocess=null,this.outputNode.disconnect(this.audioBufferNode),this.audioBufferNode=void 0)}createOutputTrack(){if(!MD().webAudioMediaStreamDest)throw new rv(nv.NOT_SUPPORTED,\"your browser is not support audio processor\");return this.destNode&&this.outputTrack||(this.destNode=this.context.createMediaStreamDestination(),this.outputNode.connect(this.destNode),this.outputTrack=this.destNode.stream.getAudioTracks()[0]),this.outputTrack}play(e){\"running\"!==this.context.state&&jv((()=>{NP.emit(\"autoplay-failed\")})),this.isPlayed=!0,this.playNode=e||this.context.destination,this.outputNode.connect(this.playNode)}stop(){if(this.isPlayed)try{this.outputNode.disconnect(this.playNode)}catch(e){}this.isPlayed=!1}getAccurateVolumeLevel(){return this.volumeLevelAnalyser.getVolumeLevel()}async checkHasAudioInput(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(e>5)return this.isNoAudioInput=!0,this.onNoAudioInput&&this.onNoAudioInput(),!1;MI()||qI()?\"suspended\"===this.context.state&&this.context.resume():\"running\"!==this.context.state&&this.context.resume();const t=this.volumeLevelAnalyser.getAnalyserNode();let i;t.getFloatTimeDomainData?(i=new Float32Array(t.fftSize),t.getFloatTimeDomainData(i)):(i=new Uint8Array(t.fftSize),t.getByteTimeDomainData(i));let n=!1;for(let e=0;e<i.length;e++)0!==i[e]&&(n=!0);return n?(this.isNoAudioInput=!1,!0):(await $v(200),await this.checkHasAudioInput(e?e+1:1)&&n)}getAudioVolume(){return this.outputNode.gain.value}setVolume(e){this.outputNode.gain.setValueAtTime(e,this.context.currentTime)}destroy(){this.disconnect(),this.stop(),this.isDestroyed=!0,this.onNoAudioInput=void 0}disconnect(){var e,t;null===(e=this.processedNode)||void 0===e||e.disconnect(),null===(t=this.sourceNode)||void 0===t||t.disconnect(),this.outputNode&&this.outputNode.disconnect()}connect(){var e;this.processedNode?null===(e=this.processedNode)||void 0===e||e.connect(this.outputNode):this.sourceNode&&this.sourceNode.connect(this.outputNode),this.volumeLevelAnalyser.updateSource(this.outputNode)}}class xP extends UP{get isFreeze(){return!1}constructor(e,t,i){var n;if(super(),IP(this,\"sourceNode\",void 0),IP(this,\"track\",void 0),IP(this,\"clonedTrack\",void 0),IP(this,\"audioElement\",void 0),IP(this,\"isCurrentTrackCloned\",!1),IP(this,\"isRemoteTrack\",!1),IP(this,\"originVolumeLevelAnalyser\",void 0),IP(this,\"rebuildWebAudio\",(async()=>{if(Qy.debug(\"ready to rebuild web audio, state:\",this.context.state),this.isNoAudioInput&&await this.checkHasAudioInput(),!this.isNoAudioInput||this.isDestroyed)return document.body.removeEventListener(\"click\",this.rebuildWebAudio,!0),void Qy.debug(\"rebuild web audio success, current volume status\",this.getAccurateVolumeLevel());this.context.resume().then((()=>Qy.info(\"resume success\"))),Qy.debug(\"rebuild web audio because of ios 12 bugs\"),this.disconnect();const e=this.track;this.track=this.track.clone(),this.isCurrentTrackCloned?e.stop():this.isCurrentTrackCloned=!0;const t=new MediaStream([this.track]);this.sourceNode=this.context.createMediaStreamSource(t),PP(this.sourceNode),this.volumeLevelAnalyser.rebuildAnalyser();const i=this.outputNode.gain.value;this.outputNode=this.context.createGain(),this.outputNode.gain.setValueAtTime(i,this.context.currentTime),PP(this.outputNode),this.emit(cP.UPDATE_SOURCE),this.connect(),this.audioElement.srcObject=t,this.isPlayed&&this.play(this.playNode),this.checkHasAudioInput()})),\"audio\"!==e.kind)throw new rv(nv.UNEXPECTED_ERROR);this.track=e;const r=new MediaStream([this.track]);if(this.isRemoteTrack=!!t,this.sourceNode=this.context.createMediaStreamSource(r),PP(this.sourceNode),i){const e=i.clone();e.enabled=!0,this.clonedTrack=e,Qy.debug(\"create an unmuted track \".concat(e.id,\" from the original track \").concat(i.id,\" to get the volume\"));const t=this.context.createMediaStreamSource(new MediaStream([e]));PP(t),this.originVolumeLevelAnalyser=new MP,this.originVolumeLevelAnalyser.updateSource(t)}this.connect(),this.audioElement=document.createElement(\"audio\"),this.audioElement.srcObject=r;const o=AI();t&&o.os===RI.IOS&&Number(null===(n=o.osVersion)||void 0===n?void 0:n.split(\".\")[0])<15&&(NP.on(VD.STATE_CHANGE,(()=>{\"suspended\"===this.context.state?document.body.addEventListener(\"click\",this.rebuildWebAudio,!0):\"running\"===this.context.state&&this.rebuildWebAudio()})),this.checkHasAudioInput().then((e=>{e||document.body.addEventListener(\"click\",this.rebuildWebAudio,!0)})))}updateTrack(e){this.sourceNode.disconnect(),this.track=e,this.isCurrentTrackCloned=!1;const t=new MediaStream([e]);this.sourceNode=this.context.createMediaStreamSource(t),PP(this.sourceNode),this.processedNode||this.sourceNode.connect(this.outputNode),this.emit(cP.UPDATE_SOURCE),this.audioElement.srcObject=t}destroy(){var e;this.audioElement.srcObject=null,this.audioElement.remove(),NP.off(\"state-change\",this.rebuildWebAudio),null===(e=this.originVolumeLevelAnalyser)||void 0===e||e.destroy(),this.clonedTrack=void 0,super.destroy()}createMediaStreamSourceNode(e){return this.context.createMediaStreamSource(new MediaStream([e]))}updateOriginTrack(e){const t=e.clone();t.enabled=!0,this.clonedTrack&&(this.clonedTrack.stop(),this.clonedTrack=t),Qy.debug(\"create an unmuted track \".concat(t.id,\" from the original track \").concat(e.id,\" to get the volume\"));const i=this.context.createMediaStreamSource(new MediaStream([t]));PP(i),this.originVolumeLevelAnalyser&&this.originVolumeLevelAnalyser.updateSource(i)}getOriginVolumeLevel(){return this.originVolumeLevelAnalyser?this.originVolumeLevelAnalyser.getVolumeLevel():this.getAccurateVolumeLevel()}}async function VP(e,t,i){const n=(e,t)=>e?\"number\"!=typeof e?e.max||e.exact||e.ideal||e.min||t:e:t,r={audio:!!i&&{mandatory:{chromeMediaSource:\"desktop\"}},video:{mandatory:{chromeMediaSource:\"desktop\",chromeMediaSourceId:e,maxHeight:n(t.height,1080),maxWidth:n(t.width,1920)}}};return t.frameRate&&\"number\"!=typeof t.frameRate?(r.video.mandatory.maxFrameRate=t.frameRate.max,r.video.mandatory.minFrameRate=t.frameRate.min):\"number\"==typeof t.frameRate&&(r.video.mandatory.maxFrameRate=t.frameRate),await navigator.mediaDevices.getUserMedia(r)}async function FP(e,t){const i=await BP(e.mediaSource),{sourceId:n,audio:r}=await function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new Gh(((i,n)=>{const r=document.createElement(\"div\");r.innerText=\"share screen\",r.setAttribute(\"style\",\"text-align: center; height: 25px; line-height: 25px; border-radius: 4px 4px 0 0; background: #D4D2D4; border-bottom:  solid 1px #B9B8B9;\");const o=document.createElement(\"div\");o.setAttribute(\"style\",\"width: 100%; height: 500px; padding: 15px 25px ; box-sizing: border-box;\");const s=document.createElement(\"div\");s.innerText=\"Agora Web Screensharing wants to share the contents of your screen with webdemo.agorabeckon.com. Choose what you'd like to share.\",s.setAttribute(\"style\",\"height: 12%;\");const a=document.createElement(\"div\");a.setAttribute(\"style\",\"width: 100%; height: 80%; background: #FFF; border:  solid 1px #CBCBCB; display: flex; flex-wrap: wrap; justify-content: space-around; overflow-y: scroll; padding: 0 15px; box-sizing: border-box;\");const c=document.createElement(\"div\");c.setAttribute(\"style\",\"display: flex; justify-content: space-between; padding: 16px 0;\");const d=document.createElement(\"button\");d.innerHTML=\"cancel\",d.setAttribute(\"style\",\"width: 85px;\"),d.onclick=()=>{document.body.removeChild(h);const e=new Error(\"NotAllowedError\");e.name=\"NotAllowedError\",n(e)};let l=t;const u=document.createElement(\"div\");if(t){const e=document.createElement(\"input\");e.setAttribute(\"type\",\"checkbox\");const t=document.createElement(\"span\");e.setAttribute(\"style\",\"margin-right: 6px;\"),t.innerText=\"Share audio\",e.checked=l,e.onchange=()=>{l=e.checked},u.appendChild(e),u.appendChild(t)}c.appendChild(u),c.appendChild(d),o.appendChild(s),o.appendChild(a),o.appendChild(c);const h=document.createElement(\"div\");h.setAttribute(\"style\",\"position: fixed; z-index: 99999999; top: 50%; left: 50%; width: 620px; height: 525px; background: #ECECEC; border-radius: 4px; -webkit-transform: translate(-50%,-50%); transform: translate(-50%,-50%);\"),h.appendChild(r),h.appendChild(o),document.body.appendChild(h),e.map((e=>{if(e.id){const t=document.createElement(\"div\");t.setAttribute(\"style\",\"width: 30%; height: 160px; padding: 20px 0; text-align: center;box-sizing: content-box;\");let n=e.thumbnail;try{const{width:e}=n.getSize();e>1920&&(n=n.resize({width:1920}))}catch(e){throw e&&e.message.startsWith(\"Illegal invocation\")&&console.error(\"Operate thumbnail error, please try to set contextIsolation: false. (https://github.com/electron/electron/issues/34953)\"),e}t.innerHTML='<div style=\"height: 120px; display: table-cell; vertical-align: middle;\"><img style=\"width: 100%; background: #333333; box-shadow: 1px 1px 1px 1px rgba(0, 0, 0, 0.2);\" src='+n.toDataURL()+' /></div><span style=\"\\theight: 40px; line-height: 40px; display: inline-block; width: 70%; word-break: keep-all; white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\">'+e.name.replace(/[\\u00A0-\\u9999<>\\&]/g,(function(e){return\"&#\"+e.charCodeAt(0)+\";\"}))+\"</span>\",t.onclick=()=>{document.body.removeChild(h),i({sourceId:e.id,audio:l})},a.appendChild(t)}}))}))}(i,t);return await VP(n,e,r)}async function BP(e){let t=[\"window\",\"screen\"];\"application\"!==e&&\"window\"!==e||(t=[\"window\"]),\"screen\"===e&&(t=[\"screen\"]);const i=Rv();if(!i)throw console.error(\"failed to fetch electron, please mount it to window\"),new rv(nv.ELECTRON_IS_NULL);let n=null;try{var r;n=(null===(r=i.desktopCapturer)||void 0===r?void 0:r.getSources({types:t}))||i.ipcRenderer.invoke(\"DESKTOP_CAPTURER_GET_SOURCES\",{types:t})}catch(e){n=null}n&&n.then||(n=new Gh(((e,n)=>{i.desktopCapturer.getSources({types:t},((t,i)=>{t?n(t):e(i)}))})));try{return await n}catch(e){throw new rv(nv.ELECTRON_DESKTOP_CAPTURER_GET_SOURCES_ERROR,e.toString())}}const jP=new hy(\"safari\");let GP=!1,WP=!1;async function HP(e,t){let i=0,n=null;for(;i<2;)try{n=await KP(e,t,i>0);break}catch(e){if(e instanceof rv)throw Qy.error(\"[\".concat(t,\"] \").concat(e.toString())),e;const n=YP(e.name||e.code||e,e.message);if(n.code===nv.MEDIA_OPTION_INVALID){Qy.debug(\"[\".concat(t,\"] detect media option invalid, retry\")),i+=1,await $v(500);continue}throw Qy.error(\"[\".concat(t,\"] \").concat(n.toString())),n}if(!n)throw new rv(nv.UNEXPECTED_ERROR,\"can not find stream after getUserMedia\");return n}async function KP(e,t,i){if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new rv(nv.NOT_SUPPORTED,\"can not find getUserMedia\");i&&(e.video&&(delete e.video.width,delete e.video.height),e.screen&&(delete e.screen.width,delete e.screen.height));const n=MD(),r=new MediaStream;if(e.audioSource&&r.addTrack(e.audioSource),e.videoSource&&r.addTrack(e.videoSource),!e.audio&&!e.video&&!e.screen)return Qy.debug(\"Using Video Source/ Audio Source\"),r;if(e.screen)if(Rv())e.screen.sourceId?qP(r,await VP(e.screen.sourceId,e.screen,e.screenAudio)):qP(r,await FP(e.screen,e.screenAudio));else if(DI()&&e.screen.extensionId&&e.screen.mandatory){if(!n.getStreamFromExtension)throw new rv(nv.NOT_SUPPORTED,\"This browser does not support screen sharing\");Qy.debug(\"[\".concat(t,'] Screen access on chrome stable, looking for extension\"'));const i=await(s=e.screen.extensionId,a=t,new Gh(((e,t)=>{try{chrome.runtime.sendMessage(s,{getStream:!0},(i=>{if(!i||!i.streamId)return Qy.error(\"[\".concat(a,\"] No response from Chrome Plugin. Plugin not installed properly\"),i),void t(new rv(nv.CHROME_PLUGIN_NO_RESPONSE,\"No response from Chrome Plugin. Plugin not installed properly\"));e(i.streamId)}))}catch(e){Qy.error(\"[\".concat(a,\"] AgoraRTC screensharing plugin is not accessible(\").concat(s,\")\"),e.toString()),t(new rv(nv.CHROME_PLUGIN_NOT_INSTALL))}})));e.screen.mandatory.chromeMediaSourceId=i,qP(r,await navigator.mediaDevices.getUserMedia({video:{mandatory:e.screen.mandatory}}))}else if(n.getDisplayMedia){var o;e.screen.mediaSource&&ZD(e.screen.mediaSource);const i={width:e.screen.width,height:e.screen.height,frameRate:e.screen.frameRate,displaySurface:null!==(o=e.screen.displaySurface)&&void 0!==o?o:\"screen\"===e.screen.mediaSource?\"monitor\":e.screen.mediaSource},{selfBrowserSurface:n,surfaceSwitching:s,systemAudio:a}=e.screen,c={selfBrowserSurface:n,surfaceSwitching:s,systemAudio:a};!n&&delete c.selfBrowserSurface,!s&&delete c.surfaceSwitching,!a&&delete c.systemAudio,Qy.debug(\"[\".concat(t,\"] getDisplayMedia:\"),JSON.stringify({video:i,audio:!!e.screenAudio,controls:c})),qP(r,await navigator.mediaDevices.getDisplayMedia(yP({video:i,audio:!!e.screenAudio},c)))}else{if(!kI())throw Qy.error(\"[\".concat(t,\"] This browser does not support screenSharing\")),new rv(nv.NOT_SUPPORTED,\"This browser does not support screen sharing\");{e.screen.mediaSource&&ZD(e.screen.mediaSource);const i={video:{mediaSource:e.screen.mediaSource,width:e.screen.width,height:e.screen.height,frameRate:e.screen.frameRate}};Qy.debug(\"[\".concat(t,\"] getUserMedia: \").concat(JSON.stringify(i))),qP(r,await navigator.mediaDevices.getUserMedia(i))}}var s,a;if(!e.video&&!e.audio)return r;let c={video:e.video,audio:e.audio},d=Dy(\"MEDIA_DEVICE_CONSTRAINTS\");if(d)try{\"string\"==typeof d&&(d=JSON.parse(d)),c=sy(c,d)}catch(e){}Qy.debug(\"[\".concat(t,\"] GetUserMedia\"),JSON.stringify(c)),AI();let l,u=null;(PI()||MI()||NI())&&(u=await jP.lock());try{l=await navigator.mediaDevices.getUserMedia(c)}catch(e){throw u&&u(),e}return c.audio&&(GP=!0),c.video&&(WP=!0),qP(r,l),u&&u(),r}function YP(e,t){switch(e){case\"Starting video failed\":case\"OverconstrainedError\":case\"TrackStartError\":return new rv(nv.MEDIA_OPTION_INVALID,\"\".concat(e,\": \").concat(t));case\"NotFoundError\":case\"DevicesNotFoundError\":return new rv(nv.DEVICE_NOT_FOUND,\"\".concat(e,\": \").concat(t));case\"NotSupportedError\":return new rv(nv.NOT_SUPPORTED,\"\".concat(e,\": \").concat(t));case\"NotReadableError\":return new rv(nv.NOT_READABLE,\"\".concat(e,\": \").concat(t));case\"InvalidStateError\":case\"NotAllowedError\":case\"PERMISSION_DENIED\":case\"PermissionDeniedError\":return new rv(nv.PERMISSION_DENIED,\"\".concat(e,\": \").concat(t));case\"ConstraintNotSatisfiedError\":return new rv(nv.CONSTRAINT_NOT_SATISFIED,\"\".concat(e,\": \").concat(t));default:return Qy.error(\"getUserMedia unexpected error\",e),new rv(nv.UNEXPECTED_ERROR,\"\".concat(e,\": \").concat(t))}}function qP(e,t){const i=e.getVideoTracks()[0],n=e.getAudioTracks()[0],r=t.getVideoTracks()[0],o=t.getAudioTracks()[0];o&&(n&&e.removeTrack(n),e.addTrack(o)),r&&(i&&e.removeTrack(i),e.addTrack(r))}const zP=new class extends Sv{get state(){return this._state}set state(e){e!==this._state&&(this.emit(fP.STATE_CHANGE,e),this._state=e)}constructor(){super(),IP(this,\"_state\",mP.IDLE),IP(this,\"isAccessMicrophonePermission\",!1),IP(this,\"isAccessCameraPermission\",!1),IP(this,\"lastAccessMicrophonePermission\",!1),IP(this,\"lastAccessCameraPermission\",!1),IP(this,\"checkdeviceMatched\",!1),IP(this,\"deviceInfoMap\",new Map),this.init().then((()=>{navigator.mediaDevices.addEventListener&&navigator.mediaDevices.addEventListener(\"devicechange\",this.updateDevicesInfo.bind(this)),window.setInterval((()=>{(Dy(\"ENUMERATE_DEVICES_INTERVAL\")||(ZI()||wI()===RI.HARMONY_OS)&&QI())&&this.updateDevicesInfo()}),Dy(\"ENUMERATE_DEVICES_INTERVAL_TIME\"))})).catch((e=>Qy.error(e.toString())))}async enumerateDevices(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!navigator.mediaDevices||!navigator.mediaDevices.enumerateDevices)return new rv(nv.NOT_SUPPORTED,\"enumerateDevices() not supported.\").throw();const n=await navigator.mediaDevices.enumerateDevices(),r=this.checkMediaDeviceInfoIsOk(n);let o=!this.isAccessMicrophonePermission&&e,s=!this.isAccessCameraPermission&&t;r.audio&&(o=!1),r.video&&(s=!1);let a=null,c=null,d=null;if(!i&&(o||s)){if(jP.isLocked&&(Qy.debug(\"[device manager] wait GUM lock\"),(await jP.lock())(),Qy.debug(\"[device manager] GUM unlock\")),GP&&(o=!1,this.isAccessMicrophonePermission=!0),WP&&(s=!1,this.isAccessCameraPermission=!0),Qy.debug(\"[device manager] check media device permissions\",e,t,o,s),o&&s){try{d=await navigator.mediaDevices.getUserMedia({audio:!0,video:!0})}catch(e){const t=YP(e.name||e.code||e,e.message);if(t.code===nv.PERMISSION_DENIED)throw t;Qy.warning(\"getUserMedia failed in getDevices\",t)}this.isAccessCameraPermission=!0,this.isAccessMicrophonePermission=!0}else if(o){try{a=await navigator.mediaDevices.getUserMedia({audio:e})}catch(e){const t=YP(e.name||e.code||e,e.message);if(t.code===nv.PERMISSION_DENIED)throw t;Qy.warning(\"getUserMedia failed in getDevices\",t)}this.isAccessMicrophonePermission=!0}else if(s){try{c=await navigator.mediaDevices.getUserMedia({video:t})}catch(e){const t=YP(e.name||e.code||e,e.message);if(t.code===nv.PERMISSION_DENIED)throw t;Qy.warning(\"getUserMedia failed in getDevices\",t)}this.isAccessCameraPermission=!0}Qy.debug(\"[device manager] mic permission\",e,\"cam permission\",t)}try{const e=await navigator.mediaDevices.enumerateDevices();return a&&a.getTracks().forEach((e=>e.stop())),c&&c.getTracks().forEach((e=>e.stop())),d&&d.getTracks().forEach((e=>e.stop())),a=null,c=null,d=null,e}catch(e){return a&&a.getTracks().forEach((e=>e.stop())),c&&c.getTracks().forEach((e=>e.stop())),d&&d.getTracks().forEach((e=>e.stop())),a=null,c=null,d=null,new rv(nv.ENUMERATE_DEVICES_FAILED,e.toString()).throw()}}async getRecordingDevices(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(await this.enumerateDevices(!0,!1,e)).filter((e=>\"audioinput\"===e.kind))}async getCamerasDevices(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(await this.enumerateDevices(!1,!0,e)).filter((e=>\"videoinput\"===e.kind))}async getSpeakers(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(await this.enumerateDevices(!0,!1,e)).filter((e=>\"audiooutput\"===e.kind))}searchDeviceIdByName(e){let t=null;return this.deviceInfoMap.forEach((i=>{i.device.label===e&&(t=i.device.deviceId)})),t}async getDeviceById(e){const t=(await this.enumerateDevices(!0,!0,!0)).find((t=>t.deviceId===e));if(!t)throw new rv(nv.DEVICE_NOT_FOUND,\"deviceId: \".concat(e));return t}async init(){this.state=mP.INITING;try{await this.updateDevicesInfo(),this.state=mP.INITEND}catch(e){throw Qy.warning(\"Device Detection functionality cannot start properly.\",e.toString()),this.state=mP.IDLE,(\"boolean\"==typeof isSecureContext?isSecureContext:\"https:\"===location.protocol||\"file:\"===location.protocol||\"localhost\"===location.hostname||\"127.0.0.1\"===location.hostname||\"::1\"===location.hostname)||new rv(nv.WEB_SECURITY_RESTRICT,\"Your context is limited by web security, please try using https protocol or localhost.\").throw(),e}}async updateDevicesInfo(){const e=await this.enumerateDevices(!0,!0,!0),t=Date.now(),i=[];if(e[0]&&e[0].label&&!1===this.checkdeviceMatched){this.checkdeviceMatched=!0;const t=e.find((e=>\"audioinput\"===e.kind&&\"default\"===e.deviceId)),i=e.find((e=>\"audiooutput\"===e.kind&&\"default\"===e.deviceId));t&&i?i.groupId===t.groupId?Qy.debug(\"[device-check] default input \".concat(t.label,\" and output \").concat(i.label,\" is the same group\")):Qy.warning(\"[device-check] default input \".concat(t.label,\" and output \").concat(i.label,\" is not the same group\")):Qy.debug(\"[device-check] default input or output not found\")}const n=this.checkMediaDeviceInfoIsOk(e);if(e.forEach((e=>{if(!e.deviceId)return;const n=this.deviceInfoMap.get(\"\".concat(e.kind,\"_\").concat(e.deviceId));if(\"ACTIVE\"!==(n?n.state:\"INACTIVE\")){const n={initAt:t,updateAt:t,device:e,state:\"ACTIVE\"};this.deviceInfoMap.set(\"\".concat(e.kind,\"_\").concat(e.deviceId),n),i.push(n)}n&&(n.updateAt=t)})),this.deviceInfoMap.forEach(((e,n)=>{\"ACTIVE\"===e.state&&e.updateAt!==t&&(e.state=\"INACTIVE\",i.push(e))})),this.state!==mP.INITEND)return n.audio&&(this.lastAccessMicrophonePermission=!0,this.isAccessMicrophonePermission=!0),void(n.video&&(this.lastAccessCameraPermission=!0,this.isAccessCameraPermission=!0));i.forEach((e=>{switch(e.device.kind){case\"audioinput\":this.lastAccessMicrophonePermission&&this.isAccessMicrophonePermission&&this.emit(fP.RECORDING_DEVICE_CHANGED,e);break;case\"videoinput\":this.lastAccessCameraPermission&&this.isAccessCameraPermission&&this.emit(fP.CAMERA_DEVICE_CHANGED,e);break;case\"audiooutput\":this.lastAccessMicrophonePermission&&this.isAccessMicrophonePermission&&this.emit(fP.PLAYOUT_DEVICE_CHANGED,e)}})),n.audio&&(this.lastAccessMicrophonePermission=!0,this.isAccessMicrophonePermission=!0),n.video&&(this.lastAccessCameraPermission=!0,this.isAccessCameraPermission=!0)}checkMediaDeviceInfoIsOk(e){const t=e.filter((e=>\"audioinput\"===e.kind)),i=e.filter((e=>\"videoinput\"===e.kind)),n={audio:!1,video:!1};for(const e of t)if(e.label&&e.deviceId){n.audio=!0;break}for(const e of i)if(e.label&&e.deviceId){n.video=!0;break}return n}};let JP=!1;const XP=new class extends Sv{constructor(){super(...arguments),IP(this,\"onAutoplayFailed\",void 0),IP(this,\"onAudioAutoplayFailed\",void 0)}};function QP(){if(AI(),!JP){const e=t=>{t.preventDefault(),JP=!1,$I()?document.body.removeEventListener(\"click\",e,!0):(document.body.removeEventListener(\"touchstart\",e,!0),document.body.removeEventListener(\"mousedown\",e,!0))};JP=!0,$I()?document.body.addEventListener(\"click\",e,!0):(document.body.addEventListener(\"touchstart\",e,!0),document.body.addEventListener(\"mousedown\",e,!0)),Qy.info(\"detect media autoplay failed, document: https://docs.agora.io/cn/Voice/autoplay_policy_web_ng?platform=Web\"),XP.onAutoplayFailed?XP.onAutoplayFailed():XP.onAudioAutoplayFailed?Qy.warning(\"AgoraRTC.onAudioAutoplayFailed has been deprecated in favor of AgoraRTC.onAutoplayFailed.\\n\\n  Please refer to the Agora document to migrate the newer API, https://docs.agora.io/en/Voice/autoplay_policy_web_ng?platform=Web .\"):Qy.warning(\"We have detected a media autoplay failed event, and found out that you haven't implemented AgoraRTC.onAutoplayFailed callback yet.\\n\\n  It will cause audio/video element not playing automatically on some browsers without user interaction, possibly hurting user experiences.\\n\\n  Please refer to the Agora document to properly handle autoplay failed event, https://docs.agora.io/en/Voice/autoplay_policy_web_ng?platform=Web .\"),XP.emit(\"autoplay-failed\")}}function ZP(e,t,i,n){if(!e)return;const r=sA.getBaseInfoBySessionId(e);if(!r)return;const o=r.info,s=Date.now(),a=yP(yP({},o),{},{vid:void 0===o.vid?0:Number(o.vid),lts:s,elapse:s-r.startTime,cbRegistered:XP.onAutoplayFailed||XP.onAudioAutoplayFailed?1:-1,errorMsg:i,mediaType:t,trackId:n,extend:void 0});sA.send({type:iA.AUTOPLAY_FAILED,data:a},!0)}const $P=[\"play\",\"playing\",\"loadeddata\",\"canplay\",\"pause\",\"stalled\",\"suspend\",\"waiting\",\"abort\",\"emptied\",\"ended\",\"error\"],eL=new class{constructor(){IP(this,\"onAutoplayFailed\",void 0),IP(this,\"elementMap\",new Map),IP(this,\"elementStateMap\",new Map),IP(this,\"elementsNeedToResume\",[]),IP(this,\"sinkIdMap\",new Map),IP(this,\"autoResumeAfterInterruption\",(e=>{Array.from(this.elementMap.entries()).forEach((t=>{let[i,n]=t;const r=this.elementStateMap.get(i),o=n.srcObject.getAudioTracks()[0],s=o&&o.readyState;if(Qy.debug(\"resume after interrupted, ele: \".concat(r,\" audio: \").concat(s,\" \").concat(e)),\"live\"===s){if(e)return n.pause(),void n.play();if(\"running\"===NP.curState)return HI()?(n.pause(),void n.play()):void(r&&\"paused\"===r&&n.play())}}))})),IP(this,\"autoResumeAfterInterruptionOnIOS15_16\",(()=>{Array.from(this.elementMap.entries()).forEach((e=>{let[t,i]=e;const n=i.srcObject.getAudioTracks()[0];n&&\"live\"===n.readyState&&(Qy.debug(\"auto resume after interruption inside autoResumeAfterInterruptionOnIOS15\"),i.pause(),i.play())}))})),this.autoResumeAudioElement(),NP.on(VD.IOS_INTERRUPTION_END,this.autoResumeAfterInterruption),NP.on(VD.IOS_15_16_INTERRUPTION_END,this.autoResumeAfterInterruptionOnIOS15_16),NP.on(VD.STATE_CHANGE,(()=>{MI()&&\"suspended\"===NP.prevState&&\"running\"===NP.curState&&this.autoResumeAfterInterruption()}))}async setSinkID(e,t){const i=this.elementMap.get(e);if(this.sinkIdMap.set(e,t),i)try{await i.setSinkId(t)}catch(e){throw new rv(nv.PERMISSION_DENIED,\"can not set sink id: \"+e.toString())}}play(e,t,i,n){if(this.elementMap.has(t))return;const r=document.createElement(\"audio\");r.autoplay=!0,r.srcObject=new MediaStream([e]),this.bindAudioElementEvents(t,r),this.elementMap.set(t,r),this.elementStateMap.set(t,TP.INIT),this.setVolume(t,i);const o=this.sinkIdMap.get(t);if(o)try{r.setSinkId(o).catch((e=>{Qy.warning(\"[\".concat(t,\"] set sink id failed\"),e.toString())}))}catch(e){Qy.warning(\"[\".concat(t,\"] set sink id failed\"),e.toString())}const s=r.play();s&&s.then&&s.catch((e=>{n&&ZP(n,\"audio\",e.message,t),Qy.warning(\"audio element play warning\",e.toString()),this.elementMap.has(t)&&\"NotAllowedError\"===e.name&&(Qy.warning(\"detected audio element autoplay failed\"),this.elementsNeedToResume.push(r),jv((()=>{this.onAutoplayFailed&&this.onAutoplayFailed(),QP()})))}))}updateTrack(e,t){const i=this.elementMap.get(e);i&&(i.srcObject=new MediaStream([t]))}isPlaying(e){return this.elementMap.has(e)&&\"playing\"===this.elementStateMap.get(e)}setVolume(e,t){const i=this.elementMap.get(e);i&&(t=Math.max(0,Math.min(100,t)),i.volume=t/100)}stop(e){const t=this.elementMap.get(e);if(this.sinkIdMap.delete(e),!t)return;const i=this.elementsNeedToResume.indexOf(t);this.elementsNeedToResume.splice(i,1),t.srcObject=null,t.remove(),this.elementMap.delete(e),this.elementStateMap.delete(e)}bindAudioElementEvents(e,t){$P.forEach((i=>{t.addEventListener(i,(i=>{const n=this.elementStateMap.get(e),r=\"pause\"===i.type?\"paused\":i.type;if(Qy.debug(\"[\".concat(e,\"] audio-element-status change \").concat(n,\" => \").concat(r)),\"error\"===i.type){const i=null==t?void 0:t.error;i&&Qy.error(\"[\".concat(e,\"] media error, code: \").concat(i.code,\", message: \").concat(i.message))}this.elementStateMap.set(e,r)}))}))}getPlayerState(e){return this.elementStateMap.get(e)||\"uninit\"}autoResumeAudioElement(){const e=()=>{this.elementsNeedToResume.forEach((e=>{e.play().then((e=>{Qy.debug(\"Auto resume audio element success\")})).catch((e=>{Qy.warning(\"Auto resume audio element failed!\",e)}))})),this.elementsNeedToResume=[]};new Gh((e=>{document.body?e():window.addEventListener(\"load\",(()=>e()))})).then((()=>{$I()?document.body.addEventListener(\"click\",e,!0):(document.body.addEventListener(\"touchstart\",e,!0),document.body.addEventListener(\"mousedown\",e,!0))}))}};function tL(){return function(e,t,i){const n=i.value;return\"function\"==typeof n&&(i.value=function(){this._isClosed&&new rv(nv.INVALID_OPERATION,\"[\".concat(this.getTrackId(),\"] cannot operate a closed track\")).print(\"warning\",Qy);for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];const r=n.apply(this,t);return r instanceof Gh?new Gh(((e,t)=>{r.then(e).catch(t)})):r}),i}}class iL extends Sv{constructor(e){super(),IP(this,\"name\",\"VideoProcessorDestination\"),IP(this,\"ID\",\"0\"),IP(this,\"_source\",void 0),IP(this,\"videoContext\",void 0),IP(this,\"inputTrack\",void 0),this.videoContext=e}get kind(){return\"video\"}get enabled(){return!0}pipe(){throw new rv(nv.NOT_SUPPORTED,\"VideoProcessor cannot pipe to any other Processor\")}unpipe(){throw new rv(nv.NOT_SUPPORTED,\"VideoProcessor cannot unpipe to any other Processor\")}enable(){}disable(){}updateInput(e){if(e.context!==this.videoContext)throw new Error(\"ProcessorContext passed to VideoTrack.processorDestination doesn't match it's belonging VideoTrack's context.\\nProbably you are making pipeline like this:\\nvideoTrack1.pipe(processor).pipe(videoTrack2.processorDestination).\");e.track&&e.track!==this.inputTrack&&(this.videoContext.chained=!0,this.inputTrack=e.track,this.emit(_P.ON_TRACK,e.track))}reset(){this.inputTrack=void 0,this.videoContext.chained=!1,this.emit(_P.ON_TRACK,void 0)}}class nL extends Sv{set chained(e){this._chained=e}get chained(){return this._chained}constructor(e,t){super(),IP(this,\"constraintsMap\",new Map),IP(this,\"statsRegistry\",[]),IP(this,\"usageRegistry\",[]),IP(this,\"trackId\",void 0),IP(this,\"direction\",void 0),IP(this,\"_chained\",!1),this.trackId=e,this.direction=t}async getConstraints(){return await kv(this,EP.REQUEST_CONSTRAINTS)}async requestApplyConstraints(e,t){var i;return Qy.info(\"processor \".concat(t.name,\" requestApplyConstraints for \").concat(this.trackId)),e&&this.constraintsMap.set(t,e),Mv(this,EP.REQUEST_UPDATE_CONSTRAINTS,Array.from(Qw(i=this.constraintsMap).call(i)))}async requestRevertConstraints(e){var t;if(this.constraintsMap.has(e))return Qy.info(\"processor \".concat(e.name,\" requestRevertConstraints for \").concat(this.trackId)),this.constraintsMap.delete(e),Mv(this,EP.REQUEST_UPDATE_CONSTRAINTS,Array.from(Qw(t=this.constraintsMap).call(t)))}registerStats(e,t,i){this.statsRegistry.find((i=>i.processorID===e.ID&&i.processorName===e.name&&i.type===t))||this.statsRegistry.push({processorName:e.name,processorID:e.ID,type:t,cb:i})}unregisterStats(e,t){const i=this.statsRegistry.findIndex((i=>i.processorID===e.ID&&i.processorName===e.name&&i.type===t));-1!==i&&this.statsRegistry.splice(i,1)}gatherStats(){const e=[];for(const{processorID:t,processorName:i,type:n,cb:r}of this.statsRegistry)try{const o=r();e.push({processorID:t,processorName:i,type:n,stats:o})}catch(e){Qy.error(new rv(nv.UNEXPECTED_ERROR,e.message))}return e}registerUsage(e,t){this.usageRegistry.find((t=>t.processorID===e.ID&&t.processorName===e.name))||this.usageRegistry.push({processorID:e.ID,processorName:e.name,cb:t})}unregisterUsage(e){const t=this.usageRegistry.findIndex((t=>t.processorID===e.ID&&t.processorName===e.name));-1!==t&&this.usageRegistry.splice(t,1)}async gatherUsage(){const e=[];if(!this.chained)return[];for(const{cb:t}of this.usageRegistry)try{let i=t();i instanceof Gh&&(i=await i),e.push(yP(yP({},i),{},{direction:this.direction}))}catch(e){Qy.error(\"gather extension usage error\",e)}return e}getDirection(){return this.direction}}class rL extends Sv{constructor(e){super(),IP(this,\"name\",\"AudioProcessorDestination\"),IP(this,\"ID\",\"0\"),IP(this,\"inputTrack\",void 0),IP(this,\"inputNode\",void 0),IP(this,\"audioProcessorContext\",void 0),IP(this,\"_source\",void 0),this.audioProcessorContext=e}get kind(){return\"audio\"}get enabled(){return!0}pipe(){throw new rv(nv.NOT_SUPPORTED,\"AudioProcessorDestination cannot pipe to any other Processor\")}unpipe(){throw new rv(nv.NOT_SUPPORTED,\"AudioProcessor cannot unpipe to any other Processor\")}enable(){}disable(){}reset(){this.inputTrack=void 0,this.inputNode=void 0,this.audioProcessorContext.chained=!1,this.emit(_P.ON_TRACK,void 0),this.emit(_P.ON_NODE,void 0)}updateInput(e){if(e.context!==this.audioProcessorContext)throw new Error(\"ProcessorContext passed to AudioTrack.processorDestination doesn't match it's belonging AudioTrack's context.\\n        Probably you are making pipeline like this: audioTrack1.pipe(processor).pipe(audioTrack2.processorDestination).\");e.track&&this.inputTrack!==e.track&&(this.audioProcessorContext.chained=!0,this.inputTrack=e.track,this.emit(_P.ON_TRACK,this.inputTrack)),e.node&&this.inputNode!==e.node&&(this.audioProcessorContext.chained=!0,this.inputNode=e.node,this.emit(_P.ON_NODE,this.inputNode))}}class oL extends Sv{set chained(e){this._chained=e}get chained(){return this._chained}constructor(e,t,i){super(),IP(this,\"constraintsMap\",new Map),IP(this,\"statsRegistry\",[]),IP(this,\"audioContext\",void 0),IP(this,\"trackId\",void 0),IP(this,\"direction\",void 0),IP(this,\"usageRegistry\",[]),IP(this,\"_chained\",!1),this.audioContext=e,this.trackId=t,this.direction=i}async getConstraints(){return kv(this,EP.REQUEST_CONSTRAINTS)}getAudioContext(){return this.audioContext}async requestApplyConstraints(e,t){var i;return Qy.info(\"processor \".concat(t.name,\" requestApplyConstraints for \").concat(this.trackId)),e&&this.constraintsMap.set(t,e),Mv(this,EP.REQUEST_UPDATE_CONSTRAINTS,Array.from(Qw(i=this.constraintsMap).call(i)))}async requestRevertConstraints(e){var t;if(this.constraintsMap.has(e))return this.constraintsMap.delete(e),Mv(this,EP.REQUEST_UPDATE_CONSTRAINTS,Array.from(Qw(t=this.constraintsMap).call(t)))}registerStats(e,t,i){this.statsRegistry.find((i=>i.processorID===e.ID&&i.processorName===e.name&&i.type===t))||this.statsRegistry.push({processorName:e.name,processorID:e.ID,type:t,cb:i})}unregisterStats(e,t){const i=this.statsRegistry.findIndex((i=>i.processorID===e.ID&&i.processorName===e.name&&i.type===t));-1!==i&&this.statsRegistry.splice(i,1)}gatherStats(){const e=[];for(const{processorID:t,processorName:i,type:n,cb:r}of this.statsRegistry)try{const o=r();e.push({processorID:t,processorName:i,type:n,stats:o})}catch(e){Qy.error(new rv(nv.UNEXPECTED_ERROR,e.message))}return e}registerUsage(e,t){this.usageRegistry.find((t=>t.processorID===e.ID&&t.processorName===e.name))||this.usageRegistry.push({processorID:e.ID,processorName:e.name,cb:t})}unregisterUsage(e){const t=this.usageRegistry.findIndex((t=>t.processorID===e.ID&&t.processorName===e.name));-1!==t&&this.usageRegistry.splice(t,1)}async gatherUsage(){const e=[];if(!this.chained)return[];for(const{cb:t}of this.usageRegistry)try{let i=t();i instanceof Gh&&(i=await i),e.push(yP(yP({},i),{},{direction:this.direction}))}catch(e){Qy.error(\"gather extension usage error\",e)}return e}getDirection(){return this.direction}}class sL extends Sv{get isPlayed(){return!0}get isFreeze(){return!1}constructor(){super(),IP(this,\"context\",void 0),IP(this,\"processSourceNode\",void 0),IP(this,\"outputTrack\",void 0),IP(this,\"processedNode\",void 0),IP(this,\"clonedTrack\",void 0),IP(this,\"outputNode\",void 0),this.outputNode=new aL}setVolume(){}createOutputTrack(){throw new rv(nv.NOT_SUPPORTED,\"can not create output MediaStreamTrack when WebAudio disabled\")}getOriginVolumeLevel(){return 0}getAccurateVolumeLevel(){return 0}stopGetAudioBuffer(){}startGetAudioBuffer(){}play(){}stop(){}destroy(){}updateTrack(){}updateOriginTrack(){}createMediaStreamSourceNode(){}}class aL{disconnect(){}connect(){}}function cL(e){return new Gh(((t,i)=>{let n=!1;const r=document.createElement(\"video\");r.setAttribute(\"autoplay\",\"\"),r.setAttribute(\"muted\",\"\"),r.muted=!0,r.autoplay=!0,r.setAttribute(\"playsinline\",\"\"),r.setAttribute(\"style\",\"position: fixed; top: 0; left: 0; width: 1px; height: 1px\"),document.body.appendChild(r);const o=MI()?\"canplay\":\"playing\";r.addEventListener(o,(()=>{const e=r.videoWidth,i=r.videoHeight;!e&&kI()||(n=!0,r.srcObject=null,r.remove(),t([e,i]))})),r.srcObject=new MediaStream([e]),r.play().catch(iy),setTimeout((()=>{n||(r.srcObject=null,r.remove(),t([r.videoWidth,r.videoHeight]))}),4e3)}))}function dL(e){const t={};e.facingMode&&(t.facingMode=e.facingMode),e.cameraId&&(t.deviceId={exact:e.cameraId});const i=YD(e.encoderConfig);return null!=i.width&&(t.width=i.width),null!=i.height&&(t.height=i.height),!JI()&&i.frameRate&&(t.frameRate=i.frameRate),LI()&&\"object\"==typeof t.frameRate&&(t.frameRate.max=60),kI()&&(t.frameRate={ideal:30,max:30}),t}function lL(e){const t={};if(JI()||(void 0!==e.AGC&&(t.autoGainControl=e.AGC),void 0!==e.AEC&&(t.echoCancellation=e.AEC),void 0!==e.ANS&&(t.noiseSuppression=e.ANS,DI()&&e.ANS&&(t.googHighpassFilter=e.ANS))),e.encoderConfig){const i=XD(e.encoderConfig);t.channelCount=i.stereo?2:1,t.sampleRate=i.sampleRate,t.sampleSize=i.sampleSize}return e.microphoneId&&(t.deviceId={exact:e.microphoneId}),ZI()&&(t.sampleRate=void 0),t}const uL=e=>{const t=e._encoderConfig;if(!t)return;const{frameRate:i,width:n,height:r}=e.getMediaStreamTrackSettings();let{frameRate:o=i,width:s=n,height:a=r}=t;if(!o||!s||!a)return;s=cy(s),a=cy(a),o=cy(o);const{max:c,min:d}=function(e,t,i){const n=200*Math.pow(i/15,.6)*Math.pow(e*t/640/360,.75);return{min:Math.floor(n),max:Math.floor(4*n)}}(s,a,o),{bitrateMax:l,bitrateMin:u}=t||{};l||Qy.debug(\"calculate bitrate: [w: \".concat(s,\", h: \").concat(a,\", fps: \").concat(o,\"] => [brMax: \").concat(l,\", brMin: \").concat(u,\"]\"));const{maxFramerate:h}=Dy(\"ENCODER_CONFIG_LIMIT\");return h&&\"number\"==typeof h&&(o=Math.min(o,h)),{frameRate:o,bitrateMax:l||c,bitrateMin:u||d,scaleResolutionDownBy:1,scale:0}},hL=async(e,t,i)=>await(async(e,t,i)=>{const n=function(e){const t=[];for(let i=0;i<e.length;i+=2)t.push(parseInt(e.slice(i,i+2),16));return Uint8Array.from(t)}(dy(\"\"+t+i)).slice(0,16),r=n.slice(0,12),o=await window.crypto.subtle.importKey(\"raw\",n,\"AES-GCM\",!0,[\"encrypt\"]);return new Uint8Array(await window.crypto.subtle.encrypt({name:\"AES-GCM\",iv:r},o,e))})(e.buffer,t,i),pL=e=>{const t=document.createElement(\"canvas\");return t.width=2,t.height=2,new Gh(((i,n)=>{t.toBlob((async e=>{if(t.remove(),e){const n=await _L(e);i({buffer:n,width:t.width,height:t.height})}else n(new rv(nv.CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED))}),e,1)}))},_L=async e=>{const t=await e.arrayBuffer();return new Uint8Array(t)};var EL,mL,fL,TL,SL,gL,RL,CL,IL,vL,yL,AL,bL,wL,OL,NL,DL,PL,LL,kL,ML,UL,xL,VL,FL,BL,jL,GL,WL,HL,KL,YL,qL,zL,JL,XL,QL,ZL,$L,ek;let tk=(EL=oA({argsMap:(e,t)=>[e.getTrackId(),t],throttleTime:300}),mL=oA({argsMap:(e,t)=>[e.getTrackId(),t]}),fL=tL(),TL=py(\"LocalAudioTrack\",\"_enabledMutex\"),SL=oA({argsMap:(e,t)=>[e.getTrackId(),t]}),gL=tL(),RL=py(\"LocalAudioTrack\",\"_enabledMutex\"),CL=oA({argsMap:(e,t)=>[e.getTrackId(),t]}),IL=tL(),vL=tL(),yL=tL(),AL=oA({argsMap:e=>[e.getTrackId()]}),bL=tL(),wL=oA({argsMap:e=>[e.getTrackId()]}),OL=tL(),NL=oA({argsMap:e=>[e.getTrackId()]}),DL=oA({argsMap:(e,t)=>[e.getTrackId(),t.name]}),PL=oA({argsMap:e=>[e.getTrackId()]}),CP((LL=class extends bP{get _source(){return this.initWebAudio()}set _source(e){this._trackSource=e}get processorContext(){return this._processorContext||(this._processorContext=this.initProcessor().processorContext),this._processorContext}get processorDestination(){return this._processorDestination||(this._processorDestination=this.initProcessor().processorDestination),this._processorDestination}get isPlaying(){return this._useAudioElement?eL.isPlaying(this.getTrackId()):this._source.isPlayed}get __className__(){return\"LocalAudioTrack\"}constructor(e,t,i,n){super(e,i),IP(this,\"trackMediaType\",aP.AUDIO),IP(this,\"_encoderConfig\",void 0),IP(this,\"_trackSource\",void 0),IP(this,\"_enabled\",!0),IP(this,\"_volume\",100),IP(this,\"_useAudioElement\",!0),IP(this,\"_bypassWebAudio\",!1),IP(this,\"processor\",void 0),IP(this,\"_processorContext\",void 0),IP(this,\"_processorDestination\",void 0),IP(this,\"_getOriginVolumeLevel\",void 0),this._encoderConfig=t,this._getOriginVolumeLevel=!!n,this._trackSource=new sL,Dy(\"DISABLE_WEBAUDIO\")&&(this._bypassWebAudio=!0),Dy(\"LOCAL_AUDIO_TRACK_USES_WEB_AUDIO\")&&(this._useAudioElement=!1),PI()&&!OP?setTimeout((()=>this.initWebAudio())):this.initWebAudio()}setVolume(e){av(e,\"volume\",0,1e3),this._volume=e,this._source.setVolume(e/100),this._useAudioElement&&eL.setVolume(this.getTrackId(),e);try{if(this._bypassWebAudio)return void Qy.debug(\"[\".concat(this.getTrackId(),\"] setVolume returned because no pass through WebAudio.\"));const e=this._source.createOutputTrack();this._mediaStreamTrack!==e&&(this._mediaStreamTrack=e,Mv(this,$D.NEED_REPLACE_TRACK,this).then((()=>{Qy.debug(\"[\".concat(this.getTrackId(),\"] replace web audio track success\"))})).catch((e=>{Qy.warning(\"[\".concat(this.getTrackId(),\"] replace web audio track failed\"),e)})))}catch(e){}}getVolumeLevel(){return this._muted&&this.enabled&&this._getOriginVolumeLevel?this._source.getOriginVolumeLevel():this._source.getAccurateVolumeLevel()}async setPlaybackDevice(e){if(!this._useAudioElement||!UD())throw new rv(nv.NOT_SUPPORTED,\"your browser does not support setting the audio output device\");await eL.setSinkID(this.getTrackId(),e)}async setEnabled(e,t,i){return this._setEnabled(e,t,i)}async _setEnabled(e,t,i){if(!i){if(e===this._enabled)return;this.stateCheck(\"enabled\",e)}if(Qy.info(\"[\".concat(this.getTrackId(),\"] start setEnabled\"),e),e){this._originMediaStreamTrack.enabled=!0;try{i||(this._enabled=!0),await Mv(this,$D.NEED_ENABLE_TRACK,this),Qy.info(\"[\".concat(this.getTrackId(),\"] setEnabled to \").concat(e,\" success\"))}catch(e){throw i||(this._enabled=!1),Qy.error(\"[\".concat(this.getTrackId(),\"] setEnabled to true error\"),e.toString()),e}}else{this._originMediaStreamTrack.enabled=!1,i||(this._enabled=!1);try{await Mv(this,$D.NEED_DISABLE_TRACK,this)}catch(e){throw i||(this._enabled=!0),Qy.error(\"[\".concat(this.getTrackId(),\"] setEnabled to false error\"),e.toString()),e}}}async setMuted(e){e!==this._muted&&(this.stateCheck(\"muted\",e),this._muted=e,this._originMediaStreamTrack.enabled=!e,Qy.debug(\"[\".concat(this.getTrackId(),\"] start set muted: \").concat(e)),e?await Mv(this,$D.NEED_MUTE_TRACK,this):await Mv(this,$D.NEED_UNMUTE_TRACK,this))}getStats(){Kv((()=>{Qy.warning(\"[deprecated] LocalAudioTrack.getStats will be removed in the future, use AgoraRTCClient.getLocalAudioStats instead\")}),\"localAudioTrackGetStatsWarning\");return Uv(this,$D.GET_STATS)||yP({},dP)}setAudioFrameCallback(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4096;if(!e)return this._source.removeAllListeners(cP.ON_AUDIO_BUFFER),void this._source.stopGetAudioBuffer();this._source.startGetAudioBuffer(t),this._source.removeAllListeners(cP.ON_AUDIO_BUFFER),this._source.on(cP.ON_AUDIO_BUFFER,(t=>e(t)))}play(){Qy.debug(\"[\".concat(this.getTrackId(),\"] start audio playback\")),this._useAudioElement?(Qy.debug(\"[\".concat(this.getTrackId(),\"] start audio playback in element\")),eL.play(this._mediaStreamTrack,this.getTrackId(),this._volume)):this._source.play()}stop(){Qy.debug(\"[\".concat(this.getTrackId(),\"] stop audio playback\")),this._useAudioElement?eL.stop(this.getTrackId()):this._source.stop()}close(){super.close(),this._processorDestination&&this.unbindProcessorDestinationEvents(this._processorDestination),this._processorContext&&this.unbindProcessorContextEvents(this._processorContext),this.unpipe(),this._processorDestination&&this._processorDestination._source&&this._processorDestination._source.unpipe(),this._source.destroy()}_updatePlayerSource(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];Qy.debug(\"[\".concat(this.getTrackId(),\"] update player source track\")),e&&this._source.updateTrack(this._mediaStreamTrack),this._useAudioElement&&eL.updateTrack(this.getTrackId(),this._mediaStreamTrack)}async _updateOriginMediaStreamTrack(e,t){this._originMediaStreamTrack!==e&&(this._originMediaStreamTrack&&(this._originMediaStreamTrack.removeEventListener(\"ended\",this._handleTrackEnded),t&&this._originMediaStreamTrack.stop()),e.addEventListener(\"ended\",this._handleTrackEnded),this._originMediaStreamTrack=e,this._muted&&(this._originMediaStreamTrack.enabled=!1),this.processor&&this._processorContext&&this.processor.updateInput({track:e,context:this._processorContext}),this._mediaStreamTrack!==this._source.outputTrack?(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource(),await Mv(this,$D.NEED_REPLACE_TRACK,this)):this._source.updateTrack(this._originMediaStreamTrack),this._getOriginVolumeLevel&&this._source.updateOriginTrack(e))}renewMediaStreamTrack(e){return Gh.resolve(void 0)}pipe(e){if(this._bypassWebAudio)throw new rv(nv.INVALID_OPERATION,\"Can not process AudioTrack when bypassWebAudio set to true.\");if(this.processor===e)return e;if(e._source)throw new rv(nv.INVALID_OPERATION,\"Processor \".concat(e.name,\" already piped, please call unpipe beforehand.\"));return this.unpipe(),this.processor=e,this.processor._source=this,e.updateInput({track:this._originMediaStreamTrack,node:this._source.processSourceNode,context:this.processorContext}),e}unpipe(){var e;if(!this.processor)return;const t=this.processor;null===(e=this._source.processSourceNode)||void 0===e||e.disconnect(),this.processor._source=!1,this.processor=void 0,t.reset()}bindProcessorDestinationEvents(e){e.on(_P.ON_TRACK,(async e=>{e?e!==this._mediaStreamTrack&&(this._mediaStreamTrack=e,this._updatePlayerSource(!1),this._source.processedNode=this._source.createMediaStreamSourceNode(e),await Mv(this,$D.NEED_REPLACE_TRACK,this)):this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource(),await Mv(this,$D.NEED_REPLACE_TRACK,this))})),e.on(_P.ON_NODE,(e=>{this._source.processedNode=e}))}unbindProcessorDestinationEvents(e){e.removeAllListeners(_P.ON_TRACK),e.removeAllListeners(_P.ON_NODE)}bindProcessorContextEvents(e){e.on(EP.REQUEST_CONSTRAINTS,(async e=>{e(this._originMediaStreamTrack.getSettings())}))}unbindProcessorContextEvents(e){e.removeAllListeners(EP.REQUEST_CONSTRAINTS)}initWebAudio(){return this._trackSource instanceof sL&&(this._trackSource=new xP(this._mediaStreamTrack,!1,this._getOriginVolumeLevel?this._mediaStreamTrack:void 0)),this._trackSource}initProcessor(){const e=new oL(this._source.context,this.getTrackId(),\"local\"),t=new rL(e);return this._processorContext=e,this._processorDestination=t,this.bindProcessorContextEvents(e),this.bindProcessorDestinationEvents(t),this._source.on(cP.UPDATE_SOURCE,(()=>{this.processor&&this.processor.updateInput({node:this._source.processSourceNode,context:e})})),this._useAudioElement&&(this._useAudioElement=!1,this.isPlaying&&(eL.stop(this.getTrackId()),this._source.play()),Mv(this,$D.NEED_REPLACE_MIXING_TRACK,this).then((()=>{Qy.debug(\"[\".concat(this.getTrackId(),\"] replace from origin track to web audio track success\"))})).catch((e=>{Qy.warning(\"[\".concat(this.getTrackId(),\"] replace from origin track to web audio track failed\"),e)}))),{processorContext:e,processorDestination:t}}}).prototype,\"setVolume\",[EL],Object.getOwnPropertyDescriptor(LL.prototype,\"setVolume\"),LL.prototype),CP(LL.prototype,\"setPlaybackDevice\",[mL,fL],Object.getOwnPropertyDescriptor(LL.prototype,\"setPlaybackDevice\"),LL.prototype),CP(LL.prototype,\"setEnabled\",[TL,SL,gL],Object.getOwnPropertyDescriptor(LL.prototype,\"setEnabled\"),LL.prototype),CP(LL.prototype,\"setMuted\",[RL,CL,IL],Object.getOwnPropertyDescriptor(LL.prototype,\"setMuted\"),LL.prototype),CP(LL.prototype,\"getStats\",[vL],Object.getOwnPropertyDescriptor(LL.prototype,\"getStats\"),LL.prototype),CP(LL.prototype,\"setAudioFrameCallback\",[yL],Object.getOwnPropertyDescriptor(LL.prototype,\"setAudioFrameCallback\"),LL.prototype),CP(LL.prototype,\"play\",[AL,bL],Object.getOwnPropertyDescriptor(LL.prototype,\"play\"),LL.prototype),CP(LL.prototype,\"stop\",[wL,OL],Object.getOwnPropertyDescriptor(LL.prototype,\"stop\"),LL.prototype),CP(LL.prototype,\"close\",[NL],Object.getOwnPropertyDescriptor(LL.prototype,\"close\"),LL.prototype),CP(LL.prototype,\"pipe\",[DL],Object.getOwnPropertyDescriptor(LL.prototype,\"pipe\"),LL.prototype),CP(LL.prototype,\"unpipe\",[PL],Object.getOwnPropertyDescriptor(LL.prototype,\"unpipe\"),LL.prototype),LL),ik=(kL=oA({argsMap:(e,t)=>[e.getTrackId(),t]}),ML=tL(),UL=py(\"MicrophoneAudioTrack\",\"_enabledMutex\"),xL=oA({argsMap:(e,t,i)=>[e.getTrackId(),t,i]}),VL=tL(),FL=oA({argsMap:e=>[e.getTrackId()]}),CP((BL=class extends tk{get __className__(){return\"MicrophoneAudioTrack\"}constructor(e,t,i,n){super(e,t.encoderConfig?XD(t.encoderConfig):{},n,Dy(\"GET_VOLUME_OF_MUTED_AUDIO_TRACK\")),IP(this,\"_config\",void 0),IP(this,\"_deviceName\",\"default\"),IP(this,\"_constraints\",void 0),IP(this,\"_originalConstraints\",void 0),IP(this,\"_enabled\",!0),this._config=t,this._constraints=i,this._originalConstraints=i,this._deviceName=e.label,\"boolean\"==typeof t.bypassWebAudio&&(this._bypassWebAudio=t.bypassWebAudio),(HI()||KI())&&NP.bindInterruptDetectorTrack(this)}async setDevice(e){if(Qy.info(\"[\".concat(this.getTrackId(),\"] start set device to \").concat(e)),this._enabled)try{const t=await zP.getDeviceById(e),i={};i.audio=yP({},this._constraints),i.audio.deviceId={exact:e},this._originMediaStreamTrack.stop();let n=null;try{n=await HP(i,this.getTrackId())}catch(e){throw Qy.error(\"[\".concat(this.getTrackId(),\"] setDevice failed\"),e.toString()),n=await HP({audio:this._constraints},this.getTrackId()),await this._updateOriginMediaStreamTrack(n.getAudioTracks()[0],!1),e}await this._updateOriginMediaStreamTrack(n.getAudioTracks()[0],!1),this._deviceName=t.label,this._config.microphoneId=e,this._constraints.deviceId={exact:e}}catch(e){throw Qy.error(\"[\".concat(this.getTrackId(),\"] setDevice error\"),e.toString()),e}else try{const t=await zP.getDeviceById(e);this._deviceName=t.label,this._config.microphoneId=e,this._constraints.deviceId={exact:e}}catch(e){throw Qy.error(\"[\".concat(this.getTrackId(),\"] setDevice error\"),e.toString()),e}Qy.info(\"[\".concat(this.getTrackId(),\"] set device to \").concat(e,\" success\"))}async setEnabled(e,t,i){if(t)return Qy.debug(\"[\".concat(this.getTrackId(),\"] setEnabled false (do not close microphone)\")),await super._setEnabled(e);if(!i){if(e===this._enabled)return;this.stateCheck(\"enabled\",e)}if(Qy.info(\"[\".concat(this.getTrackId(),\"] start setEnabled\"),e),Dy(\"AUTO_RESET_AUDIO_ROUTE\")&&(MI()||qI())){const t=navigator.audioSession;t&&(e||(t.type=\"playback\"),t.type=\"auto\")}if(!e){var n;this._originMediaStreamTrack.onended=null,this._originMediaStreamTrack.stop(),null===(n=this._source.clonedTrack)||void 0===n||n.stop(),i||(this._enabled=!1);try{await Mv(this,$D.NEED_DISABLE_TRACK,this)}catch(e){throw Qy.error(\"[\".concat(this.getTrackId(),\"] setEnabled false failed\"),e.toString()),e}return}const r=yP({},this._constraints),o=zP.searchDeviceIdByName(this._deviceName);o&&!r.deviceId&&(r.deviceId=o);try{i||(this._enabled=!0);const e=await HP({audio:this._constraints},this.getTrackId());await this._updateOriginMediaStreamTrack(e.getAudioTracks()[0],!1),await Mv(this,$D.NEED_ENABLE_TRACK,this)}catch(e){throw i||(this._enabled=!1),Qy.error(\"[\".concat(this.getTrackId(),\"] setEnabled true failed\"),e.toString()),e}Qy.info(\"[\".concat(this.getTrackId(),\"] setEnabled success\"))}close(){super.close(),(HI()||KI())&&NP.unbindInterruptDetectorTrack(this)}onTrackEnded(){if((MI()||qI())&&this._enabled&&!this._isClosed&&NP.duringInterruption){const e=async()=>{NP.off(VD.IOS_INTERRUPTION_END,e),this._enabled&&!this._isClosed&&(Qy.debug(\"[\".concat(this.getTrackId(),\"] try capture microphone media device for interrupted iOS device.\")),await this.setEnabled(!1),await this.setEnabled(!0))};NP.on(VD.IOS_INTERRUPTION_END,e)}else Qy.debug(\"[\".concat(this.getTrackId(),\"] track ended\")),this.safeEmit(oP.TRACK_ENDED)}async renewMediaStreamTrack(e){const t=e||this._constraints,i=zP.searchDeviceIdByName(this._deviceName);if(i&&!t.deviceId&&(t.deviceId=i),this._constraints=t,this._enabled){this._originMediaStreamTrack.stop();const e=await HP({audio:this._constraints},this.getTrackId());await this._updateOriginMediaStreamTrack(e.getAudioTracks()[0],!0)}}bindProcessorContextEvents(e){super.bindProcessorContextEvents(e),e.on(EP.REQUEST_UPDATE_CONSTRAINTS,(async(e,t,i)=>{try{const i=Object.assign({},this._originalConstraints,...e);await this.renewMediaStreamTrack(i),t()}catch(e){i(e)}}))}unbindProcessorContextEvents(e){super.unbindProcessorContextEvents(e),e.removeAllListeners(EP.REQUEST_UPDATE_CONSTRAINTS)}}).prototype,\"setDevice\",[kL,ML],Object.getOwnPropertyDescriptor(BL.prototype,\"setDevice\"),BL.prototype),CP(BL.prototype,\"setEnabled\",[UL,xL,VL],Object.getOwnPropertyDescriptor(BL.prototype,\"setEnabled\"),BL.prototype),CP(BL.prototype,\"close\",[FL],Object.getOwnPropertyDescriptor(BL.prototype,\"close\"),BL.prototype),BL),nk=(jL=oA({argsMap:(e,t)=>[e.getTrackId(),t,e.duration]}),GL=tL(),WL=oA({argsMap:e=>[e.getTrackId()]}),HL=tL(),KL=oA({argsMap:e=>[e.getTrackId()]}),YL=tL(),qL=oA({argsMap:e=>[e.getTrackId()]}),zL=tL(),JL=oA({argsMap:e=>[e.getTrackId()]}),XL=tL(),QL=oA({argsMap:e=>[e.getTrackId()]}),ZL=oA({argsMap:e=>[e.getTrackId()]}),$L=tL(),CP((ek=class extends tk{get __className__(){return\"BufferSourceAudioTrack\"}constructor(e,t,i,n){super(t.createOutputTrack(),i,n),IP(this,\"source\",void 0),IP(this,\"_bufferSource\",void 0),this._useAudioElement=!1,this.source=e,this._bufferSource=t,this._bufferSource.on(cP.AUDIO_SOURCE_STATE_CHANGE,(e=>{this.safeEmit(oP.SOURCE_STATE_CHANGE,e)}));try{this._mediaStreamTrack=this._source.createOutputTrack()}catch(e){}}get currentState(){return this._bufferSource.currentState}get duration(){return this._bufferSource.duration}get playbackSpeed(){return this._bufferSource.playbackSpeed}getCurrentTime(){return this._bufferSource.currentTime}startProcessAudioBuffer(e){e&&this._bufferSource.updateOptions(e),this._bufferSource.startProcessAudioBuffer()}pauseProcessAudioBuffer(){this._bufferSource.pauseProcessAudioBuffer()}seekAudioBuffer(e){this._bufferSource.seekAudioBuffer(e)}resumeProcessAudioBuffer(){this._bufferSource.resumeProcessAudioBuffer()}stopProcessAudioBuffer(){this._bufferSource.stopProcessAudioBuffer()}close(){this.source=null,this._bufferSource.destroy(),super.close()}setAudioBufferPlaybackSpeed(e){av(e,\"speed\",0),this._bufferSource.setAudioBufferPlaybackSpeed(e)}}).prototype,\"startProcessAudioBuffer\",[jL,GL],Object.getOwnPropertyDescriptor(ek.prototype,\"startProcessAudioBuffer\"),ek.prototype),CP(ek.prototype,\"pauseProcessAudioBuffer\",[WL,HL],Object.getOwnPropertyDescriptor(ek.prototype,\"pauseProcessAudioBuffer\"),ek.prototype),CP(ek.prototype,\"seekAudioBuffer\",[KL,YL],Object.getOwnPropertyDescriptor(ek.prototype,\"seekAudioBuffer\"),ek.prototype),CP(ek.prototype,\"resumeProcessAudioBuffer\",[qL,zL],Object.getOwnPropertyDescriptor(ek.prototype,\"resumeProcessAudioBuffer\"),ek.prototype),CP(ek.prototype,\"stopProcessAudioBuffer\",[JL,XL],Object.getOwnPropertyDescriptor(ek.prototype,\"stopProcessAudioBuffer\"),ek.prototype),CP(ek.prototype,\"close\",[QL],Object.getOwnPropertyDescriptor(ek.prototype,\"close\"),ek.prototype),CP(ek.prototype,\"setAudioBufferPlaybackSpeed\",[ZL,$L],Object.getOwnPropertyDescriptor(ek.prototype,\"setAudioBufferPlaybackSpeed\"),ek.prototype),ek);class rk extends tk{get __className__(){return\"MixingAudioTrack\"}get isActive(){for(const e of this.trackList)if(e._enabled&&!e._isClosed&&!e.muted)return!0;return!1}constructor(){const e=DP().createMediaStreamDestination();super(e.stream.getAudioTracks()[0],void 0,ey(8,\"track-mix-\")),IP(this,\"trackList\",void 0),IP(this,\"destNode\",void 0),this._useAudioElement=!1;try{this._mediaStreamTrack=this._source.createOutputTrack()}catch(e){}this.destNode=e,this.trackList=[]}hasAudioTrack(e){return-1!==this.trackList.indexOf(e)}addAudioTrack(e){-1===this.trackList.indexOf(e)?(Qy.debug(\"add \".concat(e.getTrackId(),\" to mixing track\")),e._source.outputNode.connect(this.destNode),this.trackList.push(e),this.updateEncoderConfig()):Qy.debug(\"track \".concat(e.getTrackId(),\" is already added\"))}removeAudioTrack(e){if(-1!==this.trackList.indexOf(e)){Qy.debug(\"remove \".concat(e.getTrackId(),\" from mixing track\"));try{e._source.outputNode.disconnect(this.destNode)}catch(e){}Fv(this.trackList,e),this.updateEncoderConfig()}}updateEncoderConfig(){const e={};this.trackList.forEach((t=>{t._encoderConfig&&((t._encoderConfig.bitrate||0)>(e.bitrate||0)&&(e.bitrate=t._encoderConfig.bitrate),(t._encoderConfig.sampleRate||0)>(e.sampleRate||0)&&(e.sampleRate=t._encoderConfig.sampleRate),(t._encoderConfig.sampleSize||0)>(e.sampleSize||0)&&(e.sampleSize=t._encoderConfig.sampleSize),t._encoderConfig.stereo&&(e.stereo=!0))})),this._encoderConfig=e}_updateRtpTransceiver(e){this._rtpTransceiver!==e&&(this._rtpTransceiver=e,this.trackList.forEach((t=>{t instanceof rk?t.emit(rP.TRANSCEIVER_UPDATED,e):t._updateRtpTransceiver(e)})))}}class ok extends UP{set currentState(e){e!==this._currentState&&(this._currentState=e,this.safeEmit(cP.AUDIO_SOURCE_STATE_CHANGE,this._currentState))}get currentState(){return this._currentState}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(),IP(this,\"audioBuffer\",void 0),IP(this,\"sourceNode\",void 0),IP(this,\"startPlayTime\",0),IP(this,\"startPlayOffset\",0),IP(this,\"pausePlayTime\",0),IP(this,\"options\",void 0),IP(this,\"currentLoopCount\",0),IP(this,\"currentPlaybackSpeed\",100),IP(this,\"_currentState\",\"stopped\"),this.audioBuffer=e,this.options=t,this.startPlayOffset=this.options.startPlayTime||0}createWebAudioDiagram(){return this.context.createGain()}get duration(){return this.audioBuffer?this.audioBuffer.duration:0}get playbackSpeed(){return this.currentPlaybackSpeed}get currentTime(){return this.audioBuffer?\"stopped\"===this.currentState?0:\"paused\"===this.currentState?this.pausePlayTime:((this.context.currentTime-this.startPlayTime)*(this.playbackSpeed/100)+this.startPlayOffset)%this.audioBuffer.duration:0}updateOptions(e){\"stopped\"===this.currentState?(this.options=e,this.startPlayOffset=this.options.startPlayTime||0):Qy.warning(\"can not set audio source options\")}startProcessAudioBuffer(){this.sourceNode&&this.stopProcessAudioBuffer(),this.sourceNode=this.createSourceNode(),this.startSourceNode(),this.currentState=\"playing\"}pauseProcessAudioBuffer(){this.sourceNode&&\"playing\"===this.currentState&&(this.pausePlayTime=this.currentTime,this.sourceNode.onended=null,this.sourceNode.stop(),this.sourceNode.buffer=null,this.sourceNode=this.createSourceNode(),this.currentState=\"paused\")}seekAudioBuffer(e){this.sourceNode&&(this.sourceNode.onended=null,\"playing\"===this.currentState&&this.sourceNode.stop(),this.sourceNode=this.createSourceNode(),\"playing\"===this.currentState?(this.startPlayOffset=e,this.startSourceNode()):\"paused\"===this.currentState&&(this.pausePlayTime=e))}resumeProcessAudioBuffer(){\"paused\"===this.currentState&&this.sourceNode&&(this.startPlayOffset=this.pausePlayTime,this.pausePlayTime=0,this.startSourceNode(),this.currentState=\"playing\")}stopProcessAudioBuffer(){if(this.sourceNode){this.sourceNode.onended=null;try{this.sourceNode.stop()}catch(e){}this.reset()}}destroy(){this.audioBuffer=null,super.destroy()}setAudioBufferPlaybackSpeed(e){this.sourceNode&&(\"playing\"===this.currentState&&(this.startPlayOffset=this.currentTime,this.startPlayTime=this.context.currentTime),this.sourceNode.playbackRate.value=e/100),this.currentPlaybackSpeed=e}startSourceNode(){this.sourceNode&&this.sourceNode.buffer&&(this.sourceNode.start(0,this.startPlayOffset),this.startPlayTime=this.context.currentTime,this.sourceNode.onended=this.handleSourceNodeEnded.bind(this))}createSourceNode(){const e=this.context.createBufferSource();return e.buffer=this.audioBuffer,e.loop=!!this.options.loop,e.connect(this.outputNode),e.playbackRate.value=this.currentPlaybackSpeed/100,e}handleSourceNodeEnded(){if(this.currentLoopCount+=1,this.options.cycle&&this.options.cycle>this.currentLoopCount)return this.startPlayOffset=0,this.sourceNode=void 0,void this.startProcessAudioBuffer();this.reset()}reset(){this.startPlayOffset=this.options.startPlayTime||0,this.currentState=\"stopped\",this.sourceNode&&(this.sourceNode.disconnect(),this.sourceNode=void 0),this.currentLoopCount=0}}const sk=new Map;class ak{get rendFrameRate(){if(this.renderStats&&this.renderStats.curTs!==this.renderStats.lastTs){const e=this.renderStats.curTs-this.renderStats.lastTs,t=(this.renderStats.renderNum-this.renderStats.lastRenderNum)/e;return this.renderStats.lastRenderNum=this.renderStats.renderNum,this.renderStats.lastTs=this.renderStats.curTs,t}return 0}get videoElementStatus(){return this._videoElementStatus}set videoElementStatus(e){e!==this._videoElementStatus&&(Qy.debug(\"[\".concat(this.trackId,\"] video-element-status change \").concat(this._videoElementStatus,\" => \").concat(e)),this._videoElementStatus=e)}get videoState(){return this._videoState}set videoState(e){var t;e!==this._videoState&&(this._videoState=e,null===(t=this.onVideoStateChanged)||void 0===t||t.call(this,this.videoState))}constructor(e){IP(this,\"trackId\",void 0),IP(this,\"config\",void 0),IP(this,\"onFirstVideoFrameDecoded\",void 0),IP(this,\"onVideoStateChanged\",void 0),IP(this,\"freezeTimeCounterList\",[]),IP(this,\"renderFreezeAccTime\",0),IP(this,\"isKeepLastFrame\",!1),IP(this,\"timeUpdatedCount\",0),IP(this,\"freezeTime\",0),IP(this,\"playbackTime\",0),IP(this,\"lastTimeUpdatedTime\",0),IP(this,\"autoplayFailed\",!1),IP(this,\"videoTrack\",void 0),IP(this,\"videoElement\",void 0),IP(this,\"cacheVideoElement\",void 0),IP(this,\"renderStats\",void 0),IP(this,\"_videoState\",SP.VideoStateStopped),IP(this,\"videoElementCheckInterval\",void 0),IP(this,\"videoElementFreezeTimeout\",void 0),IP(this,\"_videoElementStatus\",TP.NONE),IP(this,\"isGettingVideoDimensions\",!1),IP(this,\"startGetVideoDimensions\",(()=>{const e=()=>{if(this.isGettingVideoDimensions=!0,this.videoElement.videoWidth*this.videoElement.videoHeight>4)return Qy.debug(\"[\".concat(this.trackId,\"] current video dimensions:\"),this.videoElement.videoWidth,this.videoElement.videoHeight),void(this.isGettingVideoDimensions=!1);setTimeout(e,500)};!this.isGettingVideoDimensions&&e()})),IP(this,\"autoResumeAfterInterruption\",(()=>{this.videoTrack&&\"live\"===this.videoTrack.readyState&&\"running\"===NP.curState&&(Qy.debug(\"[track-\".concat(this.trackId,\"] video element paused, auto resume for \").concat(OI())),YI()?(this.videoElement.srcObject=null,this.videoElement.srcObject=new MediaStream([this.videoTrack]),this.videoElement.play()):(this.videoElement.pause(),this.videoElement.play()))})),IP(this,\"handleVideoEvents\",(e=>{switch(e.type){case\"play\":case\"playing\":this.startGetVideoDimensions(),this.videoElementStatus=TP.PLAYING;break;case\"loadeddata\":if(this.videoState=SP.VideoStateStarting,this.onFirstVideoFrameDecoded&&this.onFirstVideoFrameDecoded(),this.cacheVideoElement){try{this.cacheVideoElement.srcObject=null,this.cacheVideoElement.remove()}catch(e){}this.cacheVideoElement=void 0}break;case\"canplay\":this.videoElementStatus=TP.CANPLAY;break;case\"stalled\":this.videoElementStatus=TP.STALLED;break;case\"suspend\":this.videoElementStatus=TP.SUSPEND;break;case\"pause\":this.videoElementStatus=TP.PAUSED,MI()||qI()||PI()&&this.autoplayFailed||!this.videoTrack||\"live\"!==this.videoTrack.readyState||(Qy.debug(\"[track-\".concat(this.trackId,\"] video element paused, auto resume\")),this.videoElement.play());break;case\"waiting\":this.videoElementStatus=TP.WAITING;break;case\"abort\":this.videoElementStatus=TP.ABORT;break;case\"ended\":this.videoElementStatus=TP.ENDED;break;case\"emptied\":this.videoElementStatus=TP.EMPTIED;break;case\"error\":{const e=this.videoElement.error;e?(this.videoElementStatus=TP.ERROR,Qy.error(\"[\".concat(this.trackId,\"] media error: \").concat(e.message,\" (\").concat(e.code,\")\"))):Qy.debug(\"[\".concat(this.trackId,\"] media not been an error.\"));break}case\"timeupdate\":{const e=performance.now();if(this.timeUpdatedCount+=1,this.timeUpdatedCount<10)return void(this.lastTimeUpdatedTime=e);const t=e-this.lastTimeUpdatedTime,i=this.lastTimeUpdatedTime;if(this.lastTimeUpdatedTime=e,cM.lastVisibleTime<cM.lastHiddenTime||i<cM.lastHiddenTime||i<cM.lastVisibleTime)return;for(t>Dy(\"VIDEO_FREEZE_DURATION\")&&(this.freezeTime+=t),this.playbackTime+=t;this.playbackTime>=6e3;){this.playbackTime-=6e3;const e=Math.min(6e3,this.freezeTime);this.freezeTimeCounterList.push(e),this.freezeTime=Math.max(0,this.freezeTime-6e3)}break}}})),IP(this,\"autoResumeAfterInterruptionOnIOS15_16\",(()=>{this.videoTrack&&\"live\"===this.videoTrack.readyState&&(Qy.debug(\"[track-\".concat(this.trackId,\"] video element paused, auto resume for \").concat(OI())),YI()?(this.videoElement.srcObject=null,this.videoElement.srcObject=new MediaStream([this.videoTrack]),this.videoElement.play()):(this.videoElement.pause(),this.videoElement.play()))})),this.trackId=e.trackId,this.config=e,e.element instanceof HTMLVideoElement?this.videoElement=e.element:this.videoElement=document.createElement(\"video\"),NP.on(VD.IOS_INTERRUPTION_END,this.autoResumeAfterInterruption),NP.on(VD.IOS_15_16_INTERRUPTION_END,this.autoResumeAfterInterruptionOnIOS15_16)}getVideoElement(){return this.videoElement}getContainerElement(){var e;return null!==(e=this.videoElement.parentElement)&&void 0!==e?e:void 0}updateConfig(e){this.config=e,this.trackId=e.trackId,e.element!==this.videoElement&&(this.destroy(),this.videoElement=e.element),this.videoTrack&&this.initVideoElement()}updateVideoTrack(e){this.videoTrack!==e&&(this.videoTrack=e,this.initVideoElement())}play(e){const t=this.videoElement.play();t&&t.catch&&t.catch((t=>{e&&ZP(e,\"video\",t.message,this.trackId),\"NotAllowedError\"===t.name?(Qy.warning(\"detected video element autoplay failed\",t),this.autoplayFailed=!0,this.handleAutoPlayFailed()):Qy.warning(\"[\".concat(this.trackId,\"] play warning: \"),t)}));const i=AI();if((\"Safari\"===i.name&&15===Number(i.version)||HI())&&t&&t.then){const e=()=>{this.config.mirror&&(this.videoElement.style.transform=\"rotateY(180deg)\")};t.then(e).catch(e)}}getCurrentFrame(){const e=document.createElement(\"canvas\");e.width=this.videoElement.videoWidth,e.height=this.videoElement.videoHeight;const t=e.getContext(\"2d\");if(!t)return Qy.error(\"create canvas context failed!\"),new ImageData(2,2);t.drawImage(this.videoElement,0,0,e.width,e.height);const i=t.getImageData(0,0,e.width,e.height);return e.remove(),i}async getCurrentFrameToUint8Array(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const i=document.createElement(\"canvas\");i.width=this.videoElement.videoWidth,i.height=this.videoElement.videoHeight;const n=i.getContext(\"2d\");return n?(n.drawImage(this.videoElement,0,0,i.width,i.height),new Gh(((n,r)=>{i.toBlob((async e=>{if(i.remove(),e){const t=await _L(e);n({buffer:t,width:i.width,height:i.height})}else r(new rv(nv.CONVERTING_VIDEO_FRAME_TO_BLOB_FAILED))}),e,t<0?.1:t>1?1:t)}))):await pL(e)}destroy(){this.renderStats=void 0,NP.off(VD.IOS_INTERRUPTION_END,this.autoResumeAfterInterruption),NP.off(VD.IOS_15_16_INTERRUPTION_END,this.autoResumeAfterInterruptionOnIOS15_16),this.videoElement.srcObject=null,this.resetVideoElement(),this.freezeTimeCounterList=[],this.videoState=SP.VideoStateStopped}initVideoElement(){if(this.videoElementStatus=TP.INIT,!this.videoElementCheckInterval&&(ck.forEach((e=>{this.videoElement.addEventListener(e,this.handleVideoEvents)})),this.videoElementCheckInterval=window.setInterval((()=>{(function(e){return e!==document.body&&document.body.contains(e)})(this.videoElement)||(this.videoElementStatus=TP.DESTROYED)}),1e3),Dy(\"ENABLE_VIDEO_FRAME_CALLBACK\"))){var e,t;let i;const n=()=>{\"visible\"===document.visibilityState&&(document.removeEventListener(\"visibilitychange\",n),this.videoElementFreezeTimeout=window.setTimeout(r,Dy(\"VIDEO_FREEZE_DURATION\")))},r=()=>{this.videoElementFreezeTimeout=void 0,this.videoState===SP.VideoStateDecoding&&(\"visible\"===document.visibilityState?this.videoState=SP.VideoStateFrozen:document.addEventListener(\"visibilitychange\",n))},o=(e,t)=>{if(this.videoElementStatus===TP.PLAYING){if(this.renderStats?(this.renderStats.renderNum++,this.renderStats.curTs=t.mediaTime):this.renderStats={lastTs:t.mediaTime,curTs:t.mediaTime,lastRenderNum:0,renderNum:0},i){const e=t.presentationTime-i.presentationTime;this.videoState===SP.VideoStateStarting&&(this.videoState=SP.VideoStateDecoding),this.videoState===SP.VideoStateDecoding&&this.onVideoStateChanged&&(this.videoElementFreezeTimeout&&window.clearTimeout(this.videoElementFreezeTimeout),this.videoElementFreezeTimeout=window.setTimeout(r,Dy(\"VIDEO_FREEZE_DURATION\"))),e<Dy(\"VIDEO_FREEZE_DURATION\")&&this.videoState===SP.VideoStateFrozen&&(this.videoState=SP.VideoStateDecoding),e>Dy(\"VIDEO_FREEZE_DURATION\")&&cM.lastVisibleTime>=cM.lastHiddenTime&&i.timestamp>cM.lastVisibleTime&&i.timestamp>cM.lastHiddenTime&&(this.renderFreezeAccTime+=e)}i=yP(yP({},t),{},{timestamp:e})}var n,s;Dy(\"ENABLE_VIDEO_FRAME_CALLBACK\")&&(null===(n=(s=this.videoElement).requestVideoFrameCallback)||void 0===n||n.call(s,o))};null===(e=(t=this.videoElement).requestVideoFrameCallback)||void 0===e||e.call(t,o)}this.videoElement.controls=!1,this.videoElement.setAttribute(\"playsinline\",\"\"),ZI()&&!Dy(\"HIDE_NO_POSTER\")&&(this.videoElement.poster=\"noposter\");const i=AI();\"Safari\"===i.name&&15===Number(i.version)||HI()||!this.config.mirror||(this.videoElement.style.transform=\"rotateY(180deg)\"),this.config.fit?this.videoElement.style.objectFit=this.config.fit:this.videoElement.style.objectFit=\"cover\",this.videoElement.setAttribute(\"muted\",\"\"),this.videoElement.muted=!0,this.videoElement.srcObject&&this.videoElement.srcObject instanceof MediaStream?this.videoElement.srcObject.getVideoTracks()[0]!==this.videoTrack&&(this.videoElement.srcObject=this.videoTrack?new MediaStream([this.videoTrack]):null,kI()&&this.videoElement.load()):(this.videoElement.srcObject=this.videoTrack?new MediaStream([this.videoTrack]):null,kI()&&this.videoElement.load());const n=this.videoElement.play();void 0!==n&&n.catch((e=>{Qy.debug(\"[\".concat(this.trackId,\"] playback interrupted\"),e.toString())}))}resetVideoElement(){ck.forEach((e=>{this.videoElement&&this.videoElement.removeEventListener(e,this.handleVideoEvents)})),this.videoElementCheckInterval&&(window.clearInterval(this.videoElementCheckInterval),this.videoElementCheckInterval=void 0),this.videoElementStatus=TP.NONE}handleAutoPlayFailed(){const e=t=>{t.preventDefault(),this.videoElement.play().then((()=>{Qy.debug(\"[\".concat(this.trackId,\"] Video element for trackId:\").concat(this.trackId,\" autoplay resumed.\"))})).catch((e=>{Qy.error(e)})),this.autoplayFailed=!1,$I()?document.body.removeEventListener(\"click\",e,!0):(document.body.removeEventListener(\"touchstart\",e,!0),document.body.removeEventListener(\"mousedown\",e,!0))};$I()?document.body.addEventListener(\"click\",e,!0):(document.body.addEventListener(\"touchstart\",e,!0),document.body.addEventListener(\"mousedown\",e,!0)),QP()}}const ck=[\"play\",\"playing\",\"loadeddata\",\"canplay\",\"pause\",\"stalled\",\"suspend\",\"waiting\",\"abort\",\"emptied\",\"ended\",\"timeupdate\",\"error\"];class dk extends ak{constructor(e){super(e),IP(this,\"container\",void 0),IP(this,\"slot\",void 0),this.slot=e.element,this.updateConfig(e)}updateConfig(e){this.config=e,this.trackId=e.trackId;const t=e.element;t!==this.slot&&(this.destroy(),this.slot=t),this.createElements()}updateVideoTrack(e){this.videoTrack!==e&&(this.videoTrack=e,this.createElements())}play(e){var t;null!==(t=this.container)&&void 0!==t&&t.contains(this.videoElement)&&super.play(e)}getCurrentFrame(){var e;return null!==(e=this.container)&&void 0!==e&&e.contains(this.videoElement)?super.getCurrentFrame():new ImageData(2,2)}async getCurrentFrameToUint8Array(e){var t;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return null!==(t=this.container)&&void 0!==t&&t.contains(this.videoElement)?await super.getCurrentFrameToUint8Array(e,i):await pL(e)}destroy(){if(super.destroy(),this.videoElement.remove(),this.videoElement=document.createElement(\"video\"),this.container){try{this.container.remove(),this.slot.removeChild(this.container)}catch(e){}this.container=void 0}}createElements(){this.container||(this.container=document.createElement(\"div\")),this.container.id=\"agora-video-player-\".concat(this.trackId),this.container.style.width=\"100%\",this.container.style.height=\"100%\",this.container.style.position=\"relative\",this.container.style.overflow=\"hidden\",this.videoTrack?(this.container.style.backgroundColor=\"black\",Dy(\"KEEP_LAST_FRAME\")&&this.isKeepLastFrame&&this.videoElement.paused&&this.resetVideoElement(),this.mountedVideoElement()):this.unmountedVideoElement(),this.slot.appendChild(this.container)}mountedVideoElement(){var e;!this.container||null!==(e=this.container)&&void 0!==e&&e.contains(this.videoElement)||this.container.appendChild(this.videoElement),super.initVideoElement(),this.videoElement.id=\"video_\".concat(this.trackId),this.videoElement.className=\"agora_video_player\",this.videoElement.style.width=\"100%\",this.videoElement.style.height=\"100%\",this.videoElement.style.position=\"absolute\",this.videoElement.style.left=\"0\",this.videoElement.style.top=\"0\"}unmountedVideoElement(){var e;if(null!==(e=this.container)&&void 0!==e&&e.contains(this.videoElement)){super.resetVideoElement();try{this.container&&this.container.removeChild(this.videoElement)}catch(e){}this.videoElement=document.createElement(\"video\")}}resetVideoElement(){var e;null!==(e=this.container)&&void 0!==e&&e.contains(this.videoElement)&&(super.resetVideoElement(),this.cacheVideoElement=this.videoElement,this.videoElement=document.createElement(\"video\"))}getContainerElement(){return this.container}}var lk,uk,hk,pk,_k,Ek,mk,fk,Tk,Sk,gk,Rk,Ck,Ik,vk,yk,Ak,bk,wk,Ok,Nk,Dk,Pk,Lk,kk,Mk,Uk,xk,Vk,Fk,Bk,jk,Gk,Wk;let Hk=(lk=oA({argsMap:(e,t,i)=>[e.getTrackId(),\"string\"==typeof t?t:t instanceof HTMLVideoElement?\"HTMLVideoElement\":\"HTMLElement\",i]}),uk=tL(),hk=oA({argsMap:e=>[e.getTrackId()]}),pk=py(\"LocalVideoTrack\",\"_enabledMutex\"),_k=oA({argsMap:(e,t)=>[e.getTrackId(),t]}),Ek=tL(),mk=py(\"LocalVideoTrack\",\"_enabledMutex\"),fk=oA({argsMap:(e,t)=>[e.getTrackId(),t]}),Tk=tL(),Sk=oA({argsMap:(e,t)=>[e.getTrackId(),t]}),gk=tL(),Rk=tL(),Ck=oA({argsMap:(e,t,i)=>[e.getTrackId(),t,i]}),Ik=tL(),vk=tL(),yk=tL(),Ak=tL(),bk=tL(),wk=tL(),Ok=tL(),Nk=oA({argsMap:(e,t)=>[e.getTrackId(),t.name]}),Dk=oA({argsMap:e=>[e.getTrackId()]}),Pk=oA({argsMap:e=>[e.getTrackId()]}),Lk=oA({argsMap:(e,t,i)=>[e.getTrackId(),t.label,i]}),kk=class e extends bP{get videoHeight(){if(PI()){const{height:e}=this._mediaStreamTrack.getSettings();return this._videoHeight=e,this._videoHeight}return this._videoHeight}get videoWidth(){if(PI()){const{width:e}=this._mediaStreamTrack.getSettings();return this._videoWidth=e,this._videoWidth}return this._videoWidth}get isPlaying(){return!(!this._player||this._player.videoElementStatus!==TP.PLAYING)}get processorDestination(){return this._processorDestination}get processorContext(){return this._processorContext}set processorContext(e){this._processorContext=e}get __className__(){return\"LocalVideoTrack\"}constructor(e,t,i,n,r,o){if(super(e,r),IP(this,\"trackMediaType\",aP.VIDEO),IP(this,\"_player\",void 0),IP(this,\"isUseScaleResolutionDownBy\",!1),IP(this,\"_videoVisibleTimer\",null),IP(this,\"_previousVideoVisibleStatus\",void 0),IP(this,\"_clearPreviousVideoVisibleStatus\",(()=>this._previousVideoVisibleStatus=void 0)),IP(this,\"_encoderConfig\",void 0),IP(this,\"_scalabilityMode\",{numSpatialLayers:1,numTemporalLayers:1}),IP(this,\"_optimizationMode\",void 0),IP(this,\"_videoHeight\",void 0),IP(this,\"_videoWidth\",void 0),IP(this,\"_forceBitrateLimit\",void 0),IP(this,\"_enabled\",!0),IP(this,\"_processorDestination\",void 0),IP(this,\"_processorContext\",void 0),PI()){const{width:t,height:i}=e.getSettings();this._videoWidth=t,this._videoHeight=i}else this.updateMediaStreamTrackResolution();if(this._encoderConfig=t,this._scalabilityMode=i,this._optimizationMode=n,this._hints=o||[],-1===this._hints.indexOf(eP.SCREEN_TRACK))this.updateBitrateFromProfile();else if(function(e,t,i){const n=AI();return!(n.name!==e||!n.osVersion)&&(i?Number(n.version)>=t&&Number(n.version)<=i:Number(n.version)===t)}(CI.CHROME,115)&&-1!==wI().indexOf(\"Windows\")){const t=function(e,t){if(\"VideoFrame\"in window&&\"TransformStream\"in window&&MD().supportWebRTCInsertableStream){const i=new MediaStreamTrackProcessor(e),n=new MediaStreamTrackGenerator({kind:\"video\"});let r,o,s=Date.now();const a=()=>{c&&(clearInterval(c),c=void 0),r&&(r.close(),r=void 0),e.stop(),o=void 0,n.removeEventListener(\"ended\",a)};let c=window.setInterval((()=>{if(o&&r&&Date.now()-s>(null!=t?t:1e3))try{\"live\"===n.readyState?o.enqueue(r.clone()):a()}catch(e){a()}}),null!=t?t:1e3);const d=new TransformStream({transform:(e,t)=>{\"live\"===n.readyState?(o=t,s=Date.now(),void 0===r?(r=e,t.enqueue(e.clone())):(t.enqueue(r),r=e)):e.close()}});return n.addEventListener(\"ended\",a),i.readable.pipeThrough(d).pipeTo(n.writable),n}}(e);t&&(Qy.info(\"local screen video track begin to inject frame\"),this._mediaStreamTrack=t)}t&&-1!==this._hints.indexOf(eP.CUSTOM_TRACK)&&this.setEncoderConfiguration(t),this._processorContext=new nL(this.getTrackId(),\"local\"),this._processorDestination=new iL(this.processorContext),this.bindProcessorDestinationEvents()}play(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(\"string\"==typeof e){const t=document.getElementById(e);t?e=t:(Qy.warning(\"[\".concat(this.getTrackId(),'] can not find \"#').concat(e,'\" element, use document.body')),e=document.body)}Qy.debug(\"[\".concat(this.getTrackId(),\"] start video playback in \").concat(e instanceof HTMLVideoElement?\"HTMLVideoElement\":\"HTMLElement\"),JSON.stringify(t));const i=yP(yP(yP({},this._getDefaultPlayerConfig()),t),{},{trackId:this.getTrackId(),element:e});this._player?this._player.updateConfig(i):(e instanceof HTMLVideoElement?this._player=new ak(i):this._player=new dk(i),this._player.updateVideoTrack(this._mediaStreamTrack)),this._player.play(),this._videoVisibleTimer&&window.clearInterval(this._videoVisibleTimer),this._clearPreviousVideoVisibleStatus(),this._videoVisibleTimer=window.setInterval((()=>{try{const e=this.getVideoElementVisibleStatus();this.safeEmit(oP.VIDEO_ELEMENT_VISIBLE_STATUS,e)}catch(e){}}),Dy(\"CHECK_VIDEO_VISIBLE_INTERVAL\"))}stop(){this._player&&(this._videoVisibleTimer&&(window.clearInterval(this._videoVisibleTimer),this._videoVisibleTimer=null),this._clearPreviousVideoVisibleStatus(),this._player.destroy(),this._player=void 0,Qy.debug(\"[\".concat(this.getTrackId(),\"] stop video playback\")))}async setEnabled(e,t){if(!t){if(e===this._enabled)return;this.stateCheck(\"enabled\",e)}if(Qy.info(\"[\".concat(this.getTrackId(),\"] start setEnabled\"),e),!e){this._originMediaStreamTrack.enabled=!1;try{await Mv(this,$D.NEED_DISABLE_TRACK,this)}catch(e){throw Qy.error(\"[\".concat(this.getTrackId(),\"] setEnabled to false error\"),e.toString()),e}return t||(this._enabled=!1),void Qy.info(\"[\".concat(this.getTrackId(),\"] setEnabled to false success\"))}this._originMediaStreamTrack.enabled=!0;try{await Mv(this,$D.NEED_ENABLE_TRACK,this)}catch(e){throw Qy.error(\"[\".concat(this.getTrackId(),\"] setEnabled to true error\"),e.toString()),e}Qy.info(\"[\".concat(this.getTrackId(),\"] setEnabled to true success\")),t||(this._enabled=!0)}async setMuted(e){e!==this._muted&&(this.stateCheck(\"muted\",e),this._muted=e,this._originMediaStreamTrack.enabled=!e,Qy.debug(\"[\".concat(this.getTrackId(),\"] start set muted: \").concat(e)),e?await Mv(this,$D.NEED_MUTE_TRACK,this):await Mv(this,$D.NEED_UNMUTE_TRACK,this))}async setEncoderConfiguration(e,t){if(!this._enabled)throw new rv(nv.TRACK_IS_DISABLED,\"can not set encoder configuration when track is disabled\");if(e=YD(e),this._forceBitrateLimit&&(e.bitrateMax=this._forceBitrateLimit.max_bitrate?this._forceBitrateLimit.max_bitrate:e.bitrateMax,e.bitrateMin=this._forceBitrateLimit.min_bitrate?this._forceBitrateLimit.min_bitrate:e.bitrateMin),e.width||e.height||e.frameRate){const t=dL({encoderConfig:e});(PI()||MI()||qI())&&(t.deviceId=void 0),Qy.debug(\"[\".concat(this.getTrackId(),\"] setEncoderConfiguration applyConstraints\"),JSON.stringify(e),JSON.stringify(t));try{await this._originMediaStreamTrack.applyConstraints(t),this.updateMediaStreamTrackResolution()}catch(e){const t=new rv(nv.UNEXPECTED_ERROR,e.toString());throw Qy.error(\"[\".concat(this.getTrackId(),\"] applyConstraints error\"),t.toString()),t}}this._encoderConfig=e,-1===this._hints.indexOf(eP.SCREEN_TRACK)&&this.updateBitrateFromProfile();try{await Mv(this,$D.NEED_UPDATE_VIDEO_ENCODER,this)}catch(e){return e.throw(Qy)}}getStats(){Kv((()=>{Qy.warning(\"[deprecated] LocalVideoTrack.getStats will be removed in the future, use AgoraRTCClient.getLocalVideoStats instead\")}),\"localVideoTrackGetStatsWarning\");return Uv(this,$D.GET_STATS)||yP({},lP)}async setBeautyEffect(e){Qy.error(\"LocalVideoTrack.setBeautyEffect was deprecated, please migrate to agora-extension-beauty-effect\")}getCurrentFrameData(){return this._player?this._player.getCurrentFrame():new ImageData(2,2)}async getCurrentFrameImage(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this._player?this._player.getCurrentFrameToUint8Array(e,t):await pL(e)}async setBitrateLimit(e){if(Qy.debug(\"[\".concat(this.getTrackId(),\"] set bitrate limit, \").concat(JSON.stringify(e))),e){this._forceBitrateLimit=e,this._encoderConfig&&(this._encoderConfig.bitrateMax?this._encoderConfig.bitrateMax=this._encoderConfig.bitrateMax<e.max_bitrate?this._encoderConfig.bitrateMax:e.max_bitrate:this._encoderConfig.bitrateMax=e.max_bitrate,this._encoderConfig.bitrateMin,this._encoderConfig.bitrateMin=e.min_bitrate);try{await Mv(this,$D.NEED_UPDATE_VIDEO_ENCODER,this)}catch(e){return e.throw(Qy)}}}async setOptimizationMode(e){if(\"motion\"!==e&&\"detail\"!==e&&\"balanced\"!==e)return void Qy.error(nv.INVALID_PARAMS,\"optimization mode must be motion, detail or balanced\");const t=this._optimizationMode;try{this._optimizationMode=e,await Mv(this,$D.NEED_UPDATE_VIDEO_SEND_PARAMETERS,this)}catch(e){throw this._optimizationMode=t,Qy.error(\"[\".concat(this.getTrackId(),\"] set optimization mode failed\"),e.toString()),e}Qy.info(\"[\".concat(this.getTrackId(),\"] set optimization mode success (\").concat(e,\")\"))}setScalabiltyMode(e){if(1===e.numSpatialLayers&&1!==e.numTemporalLayers)return Qy.error(nv.INVALID_PARAMS,\"scalability mode currently not supported, no SVC.\"),void(this._scalabilityMode={numSpatialLayers:1,numTemporalLayers:1});this._scalabilityMode=e,Qy.info(\"[\".concat(this.getTrackId(),\"] set scalability mode success (\").concat(e,\")\"))}updateMediaStreamTrackResolution(){cL(this._originMediaStreamTrack).then((e=>{let[t,i]=e;this._videoHeight=i,this._videoWidth=t})).catch(iy)}_updatePlayerSource(){this._player&&this._player.updateVideoTrack(this._mediaStreamTrack)}_getDefaultPlayerConfig(){return{fit:\"contain\"}}async setSenderConfiguration(e){if(!this._enabled)throw new rv(nv.TRACK_IS_DISABLED,\"can not set encoder configuration when track is disabled\");Qy.debug(\"[\".concat(this.getTrackId(),\"] setSenderConfiguration applyConstraints\"),JSON.stringify(e)),e=YD(e),this._forceBitrateLimit&&(e.bitrateMax=this._forceBitrateLimit.max_bitrate?this._forceBitrateLimit.max_bitrate:e.bitrateMax,e.bitrateMin=this._forceBitrateLimit.min_bitrate?this._forceBitrateLimit.min_bitrate:e.bitrateMin),this._encoderConfig=e,-1===this._hints.indexOf(eP.SCREEN_TRACK)&&this.updateBitrateFromProfile();try{await Mv(this,$D.NEED_UPDATE_VIDEO_ENCODER,this)}catch(e){return e.throw(Qy)}}updateBitrateFromProfile(){if(!this._encoderConfig)return;const{width:e,height:t,frameRate:i}=this.getMediaStreamTrackSettings();if(!e||!t||!i)return;const{bitrateMax:n,bitrateMin:r}=this._encoderConfig;if(null==r||null==n){const{max:o,min:s}=function(e,t,i,n,r){const o=Dy(\"BITRATE_ADAPTER_TYPE\");if(\"DEFAULT_BITRATE\"===o)return{min:n,max:r};if(void 0===r){var s;const a=Math.floor(200*Math.pow(i/15,.6)*Math.pow(e*t/640/360,.75));r=\"STANDARD_BITRATE\"===o?4*a:2*a,n=null!==(s=n)&&void 0!==s?s:a}else{var a;n=null!==(a=n)&&void 0!==a?a:Math.floor(r/10)}return{min:n,max:r}}(e,t,i,r,n);this._encoderConfig.bitrateMin=s,this._encoderConfig.bitrateMax=o,Qy.debug(\"[\".concat(this.getTrackId(),\"] update bitrate from profile, [w: \").concat(e,\", h: \").concat(t,\", fps: \").concat(i,\"] => [brMax: \").concat(o,\", brMin: \").concat(s,\"]\"))}}getVideoElementVisibleStatus(){try{var e,t;const i=null==this||null===(e=this._player)||void 0===e?void 0:e.getContainerElement(),n={track:this,element:null==this||null===(t=this._player)||void 0===t?void 0:t.getVideoElement(),slot:null==i?void 0:i.parentElement},{element:r,slot:o}=n;if(this.isPlaying&&r instanceof HTMLVideoElement&&o instanceof HTMLElement){const e=Ev.checkOneElementVisible(r),t=Object.assign({},e);if(t.visible!==this._previousVideoVisibleStatus){this._previousVideoVisibleStatus=t.visible;const e=sA.reportApiInvoke(null,{tag:Iv.TRACER,name:Cv.LOCAL_VIDEO_TRACK_GET_VIDEO_VISIBLE,options:[this.getTrackId()]});t.visible?e.onSuccess(\"Video is visible\"):e.onSuccess(\"Invisible because of \".concat(t.reason))}return t}return}catch(e){throw new rv(nv.GET_VIDEO_ELEMENT_VISIBLE_ERROR,e.message)}}async renewMediaStreamTrack(e){}pipe(e){if(this.processor===e)return e;if(e._source)throw new rv(nv.INVALID_OPERATION,\"Processor \".concat(e.name,\" already piped, please call unpipe beforehand.\"));return this.unpipe(),this.processor=e,this.processor._source=this,e.updateInput({track:this._originMediaStreamTrack,context:this.processorContext}),e}unpipe(){if(!this.processor)return;const e=this.processor;this.processor._source=void 0,this.processor=void 0,e.reset()}close(){super.close(),this.unbindProcessorDestinationEvents(),this.unbindProcessorContextEvents(),this.unpipe(),this.processorDestination._source&&this.processorDestination._source.unpipe()}clone(t){let i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this._encoderConfig;t&&(n=yP(yP({},n),YD(t))),n=Wv(n);const r=ey(8,\"track-video-cloned-\"),o=new e(i?this._mediaStreamTrack.clone():this._mediaStreamTrack,n,Wv(this._scalabilityMode),this._optimizationMode,r,Wv(this._hints));return t&&n&&o.setEncoderConfiguration(n),Qy.debug(\"clone video track from \".concat(this.getTrackId(),\" to \").concat(r,\", clone \").concat(i)),o}async replaceTrack(e,t){if(!(e instanceof MediaStreamTrack))throw new rv(nv.INVALID_PARAMS,\"track should be an instance of MediaStreamTrack\");if(\"video\"!==e.kind)throw new rv(nv.INVALID_PARAMS,\"track should be a video MediaStreamTrack\");await this._updateOriginMediaStreamTrack(e,t,!0),this.updateMediaStreamTrackResolution()}sendSeiData(e){if(Kv((()=>{sA.reportApiInvoke(null,{name:Cv.LOCAL_VIDEO_SEND_SEI_DATA,options:[],tag:Iv.TRACER}).onSuccess(\"\")}),this._mediaStreamTrack.id||this.getTrackId()),!Dy(\"ENABLE_VIDEO_SEI\")||!Dy(\"ENABLE_ENCODED_TRANSFORM\"))return void Qy.warning('To send/receive SEI, please call AgoraRTC.setParameter(\"ENABLE_VIDEO_SEI\", true) before instantiate IAgoraRtcClient');if(e instanceof Uint8Array==0)return new rv(nv.INVALID_PARAMS,\"Invalid argument type, ILocalVideoTrack.sendSeiData() only accept Uint8Array argument.\").throw();const t=this.getRTCRtpTransceiver();if(!t)return void Qy.warning(\"Video track is not published, SEI can not be send\");const i=t.sender.getParameters();if(0===i.codecs.length)return;const n=i.codecs[0].mimeType.toLocaleLowerCase();\"video/h264\"===n?this.safeEmit(\"sei-to-send\",e):Qy.warning(\"SEI is not supported by \".concat(n))}bindProcessorDestinationEvents(){this.processorDestination.on(_P.ON_TRACK,(async e=>{e?e!==this._mediaStreamTrack&&(this._mediaStreamTrack=e,this._updatePlayerSource(),await Mv(this,$D.NEED_REPLACE_TRACK,this)):this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource(),await Mv(this,$D.NEED_REPLACE_TRACK,this))}))}unbindProcessorDestinationEvents(){this.processorDestination.removeAllListeners(_P.ON_TRACK)}unbindProcessorContextEvents(){this.processorContext.removeAllListeners(EP.REQUEST_UPDATE_CONSTRAINTS),this.processorContext.removeAllListeners(EP.REQUEST_CONSTRAINTS)}},CP(kk.prototype,\"play\",[lk,uk],Object.getOwnPropertyDescriptor(kk.prototype,\"play\"),kk.prototype),CP(kk.prototype,\"stop\",[hk],Object.getOwnPropertyDescriptor(kk.prototype,\"stop\"),kk.prototype),CP(kk.prototype,\"setEnabled\",[pk,_k,Ek],Object.getOwnPropertyDescriptor(kk.prototype,\"setEnabled\"),kk.prototype),CP(kk.prototype,\"setMuted\",[mk,fk,Tk],Object.getOwnPropertyDescriptor(kk.prototype,\"setMuted\"),kk.prototype),CP(kk.prototype,\"setEncoderConfiguration\",[Sk,gk],Object.getOwnPropertyDescriptor(kk.prototype,\"setEncoderConfiguration\"),kk.prototype),CP(kk.prototype,\"getStats\",[Rk],Object.getOwnPropertyDescriptor(kk.prototype,\"getStats\"),kk.prototype),CP(kk.prototype,\"setBeautyEffect\",[Ck,Ik],Object.getOwnPropertyDescriptor(kk.prototype,\"setBeautyEffect\"),kk.prototype),CP(kk.prototype,\"getCurrentFrameData\",[vk],Object.getOwnPropertyDescriptor(kk.prototype,\"getCurrentFrameData\"),kk.prototype),CP(kk.prototype,\"getCurrentFrameImage\",[yk],Object.getOwnPropertyDescriptor(kk.prototype,\"getCurrentFrameImage\"),kk.prototype),CP(kk.prototype,\"setBitrateLimit\",[Ak],Object.getOwnPropertyDescriptor(kk.prototype,\"setBitrateLimit\"),kk.prototype),CP(kk.prototype,\"setOptimizationMode\",[bk],Object.getOwnPropertyDescriptor(kk.prototype,\"setOptimizationMode\"),kk.prototype),CP(kk.prototype,\"setScalabiltyMode\",[wk],Object.getOwnPropertyDescriptor(kk.prototype,\"setScalabiltyMode\"),kk.prototype),CP(kk.prototype,\"updateMediaStreamTrackResolution\",[Ok],Object.getOwnPropertyDescriptor(kk.prototype,\"updateMediaStreamTrackResolution\"),kk.prototype),CP(kk.prototype,\"pipe\",[Nk],Object.getOwnPropertyDescriptor(kk.prototype,\"pipe\"),kk.prototype),CP(kk.prototype,\"unpipe\",[Dk],Object.getOwnPropertyDescriptor(kk.prototype,\"unpipe\"),kk.prototype),CP(kk.prototype,\"close\",[Pk],Object.getOwnPropertyDescriptor(kk.prototype,\"close\"),kk.prototype),CP(kk.prototype,\"replaceTrack\",[Lk],Object.getOwnPropertyDescriptor(kk.prototype,\"replaceTrack\"),kk.prototype),kk),Kk=(Mk=oA({argsMap:(e,t)=>[e.getTrackId(),t]}),Uk=tL(),xk=py(\"CameraVideoTrack\",\"_enabledMutex\"),Vk=oA({argsMap:(e,t)=>[e.getTrackId(),t]}),Fk=tL(),Bk=oA({argsMap:(e,t)=>[e.getTrackId(),t]}),jk=tL(),Gk=oA({argsMap:e=>[e.getTrackId()]}),Wk=class e extends Hk{get __className__(){return\"CameraVideoTrack\"}constructor(e,t,i,n,r,o){super(e,YD(t.encoderConfig),n,r,o),IP(this,\"_config\",void 0),IP(this,\"_originalConstraints\",void 0),IP(this,\"_constraints\",void 0),IP(this,\"_enabled\",!0),IP(this,\"_deviceName\",\"default\"),IP(this,\"tryResumeVideoForIOS15_16WeChat\",(async()=>{(HI()||KI())&&!function(){const e=AI();if(e.os!==RI.IOS||!e.osVersion)return!1;const t=e.osVersion.split(\".\");return 15===Number(t[0])&&Number(t[1])>=2}()&&zI()&&this._enabled&&!this._isClosed&&(Qy.debug(\"[\".concat(this.getTrackId(),\"] try capture camera media device for interrupted iOS 15 device on WeChat.\")),await this.renewMediaStreamTrack())})),this._config=t,this._originalConstraints=i,this._constraints=i,this._deviceName=e.label,this._encoderConfig=YD(this._config.encoderConfig),NP.on(VD.IOS_15_16_INTERRUPTION_END,this.tryResumeVideoForIOS15_16WeChat),NP.on(VD.IOS_INTERRUPTION_END,this.tryResumeVideoForIOS15_16WeChat),this.bindProcessorContextEvents()}async setDevice(e){return\"string\"==typeof e?this._setDeviceById(e):e.deviceId?this._setDeviceById(e.deviceId):e.facingMode?this._setDeviceByFacingModel(e.facingMode):void 0}async _setDeviceById(e){if(Qy.info(\"[\".concat(this.getTrackId(),\"] set device to \").concat(e)),this._enabled)try{const t=await zP.getDeviceById(e),i={};i.video=yP({},this._constraints),i.video.deviceId={exact:e},i.video.facingMode=void 0,this._originMediaStreamTrack.stop();let n=null;try{n=await HP(i,this.getTrackId())}catch(e){throw Qy.error(\"[\".concat(this.getTrackId(),\"] setDevice failed\"),e.toString()),n=await HP({video:this._constraints},this.getTrackId()),await this._updateOriginMediaStreamTrack(n.getVideoTracks()[0],!1),e}await this._updateOriginMediaStreamTrack(n.getVideoTracks()[0],!1),this.updateMediaStreamTrackResolution(),this._deviceName=t.label,this._config.cameraId=e,this._constraints.deviceId={exact:e}}catch(e){throw Qy.error(\"[\".concat(this.getTrackId(),\"] setDevice error\"),e.toString()),e}else try{const t=await zP.getDeviceById(e);this._deviceName=t.label,this._config.cameraId=e,this._constraints.deviceId={exact:e}}catch(e){throw Qy.error(\"[\".concat(this.getTrackId(),\"] setDevice error\"),e.toString()),e}Qy.info(\"[\".concat(this.getTrackId(),\"] setDevice success\"))}async _setDeviceByFacingModel(e){Qy.info(\"[\".concat(this.getTrackId(),\"] set facingMode \").concat(e));const t={video:yP(yP({},this._constraints),{},{deviceId:void 0,facingMode:{exact:e}})};if(this._enabled){this._originMediaStreamTrack.stop();let e=null;try{e=await HP(t,this.getTrackId())}catch(t){throw Qy.error(\"[\".concat(this.getTrackId(),\"] setDeviceByFacingModel failed\"),t.toString()),e=await HP({video:this._constraints},this.getTrackId()),await this._updateOriginMediaStreamTrack(e.getVideoTracks()[0],!1),t}await this._updateOriginMediaStreamTrack(e.getVideoTracks()[0],!1),this.updateMediaStreamTrackResolution()}this._deviceName=\"\",this._config.facingMode=e,this._config.cameraId=void 0,this._constraints=yP({},t.video),Qy.info(\"[\".concat(this.getTrackId(),\"] setDeviceByFacingModel success\"))}async setEnabled(e,t){if(!t){if(e===this._enabled)return;this.stateCheck(\"enabled\",e)}if(Qy.info(\"[\".concat(this.getTrackId(),\"] start setEnabled\"),e),e){try{if(this.isExternalTrack)this._originMediaStreamTrack.enabled=!0;else{const e=await HP({video:this._constraints},this.getTrackId());await this._updateOriginMediaStreamTrack(e.getVideoTracks()[0],!1)}await Mv(this,$D.NEED_ENABLE_TRACK,this)}catch(e){throw Qy.error(\"[\".concat(this.getTrackId(),\"] setEnabled true error\"),e.toString()),e}this.updateMediaStreamTrackResolution(),Qy.info(\"[\".concat(this.getTrackId(),\"] setEnabled to true success\")),t||(this._enabled=!0)}else{this.isExternalTrack?this._originMediaStreamTrack.enabled=!1:(this._originMediaStreamTrack.onended=null,this._originMediaStreamTrack.stop()),t||(this._enabled=!1);try{await Mv(this,$D.NEED_DISABLE_TRACK,this)}catch(e){throw Qy.error(\"[\".concat(this.getTrackId(),\"] setEnabled to false error\"),e.toString()),e}Qy.info(\"[\".concat(this.getTrackId(),\"] setEnabled to false success\"))}}async setEncoderConfiguration(e,t){if(!this._enabled)throw new rv(nv.TRACK_IS_DISABLED,\"can not set encoder configuration when track is disabled\");e=YD(e),this._forceBitrateLimit&&(e.bitrateMax=this._forceBitrateLimit.max_bitrate||e.bitrateMax,e.bitrateMin=this._forceBitrateLimit.min_bitrate||e.bitrateMin);const i=Gv(this._config);i.encoderConfig=e;const n=dL(i);(PI()||MI()||qI())&&(n.deviceId=void 0),Qy.debug(\"[\".concat(this.getTrackId(),\"] setEncoderConfiguration applyConstraints\"),JSON.stringify(e),JSON.stringify(n));try{await this._originMediaStreamTrack.applyConstraints(n),this.updateMediaStreamTrackResolution()}catch(e){const t=new rv(nv.UNEXPECTED_ERROR,e.toString());throw Qy.error(\"[\".concat(this.getTrackId(),\"] applyConstraints error\"),t.toString()),t}this._config=i,this._constraints=n,this._originalConstraints=n,this._encoderConfig=e,-1===this._hints.indexOf(eP.SCREEN_TRACK)&&this.updateBitrateFromProfile();try{await Mv(this,$D.NEED_UPDATE_VIDEO_ENCODER,this)}catch(e){return e.throw(Qy)}}_getDefaultPlayerConfig(){return{mirror:!0,fit:\"cover\"}}onTrackEnded(){if((MI()||qI())&&this._enabled&&!this._isClosed&&NP.duringInterruption){const e=async()=>{NP.off(VD.IOS_INTERRUPTION_END,e),this._enabled&&!this._isClosed&&(Qy.debug(\"[\".concat(this.getTrackId(),\"] try capture camera media device for interrupted iOS device.\")),await this.setEnabled(!1),await this.setEnabled(!0))};NP.on(VD.IOS_INTERRUPTION_END,e)}else Qy.debug(\"[\".concat(this.getTrackId(),\"] track ended\")),this.safeEmit(oP.TRACK_ENDED)}async renewMediaStreamTrack(e){const t=e||this._constraints,i=zP.searchDeviceIdByName(this._deviceName);if(i&&!t.deviceId&&(t.deviceId={exact:i}),this._enabled){const e=await HP({video:t},this.getTrackId());this._constraints=t,await this._updateOriginMediaStreamTrack(e.getVideoTracks()[0],!0),this.updateMediaStreamTrackResolution()}}close(){super.close(),NP.off(VD.IOS_15_16_INTERRUPTION_END,this.tryResumeVideoForIOS15_16WeChat),NP.off(VD.IOS_INTERRUPTION_END,this.tryResumeVideoForIOS15_16WeChat)}clone(t){let i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this._encoderConfig;t&&(n=yP(yP({},n),YD(t))),n=Wv(n);const r=ey(8,\"track-cam-cloned-\"),o=new e(i?this._mediaStreamTrack.clone():this._mediaStreamTrack,Wv(yP(yP({},this._config),{},{encoderConfig:n})),Wv(this._constraints),Wv(this._scalabilityMode),this._optimizationMode,r);return t&&n&&o.setEncoderConfiguration(n),Qy.debug(\"clone track from \".concat(this.getTrackId(),\" to \").concat(r,\", clone \").concat(i)),o}bindProcessorContextEvents(){this.processorContext.on(EP.REQUEST_UPDATE_CONSTRAINTS,(async(e,t,i)=>{try{const i=Object.assign({},this._originalConstraints,...e);await this.renewMediaStreamTrack(i),t()}catch(e){i(e)}})),this.processorContext.on(EP.REQUEST_CONSTRAINTS,(async e=>{e(this._originMediaStreamTrack.getSettings())}))}},CP(Wk.prototype,\"setDevice\",[Mk,Uk],Object.getOwnPropertyDescriptor(Wk.prototype,\"setDevice\"),Wk.prototype),CP(Wk.prototype,\"setEnabled\",[xk,Vk,Fk],Object.getOwnPropertyDescriptor(Wk.prototype,\"setEnabled\"),Wk.prototype),CP(Wk.prototype,\"setEncoderConfiguration\",[Bk,jk],Object.getOwnPropertyDescriptor(Wk.prototype,\"setEncoderConfiguration\"),Wk.prototype),CP(Wk.prototype,\"close\",[Gk],Object.getOwnPropertyDescriptor(Wk.prototype,\"close\"),Wk.prototype),Wk);function Yk(e,t,i,n){i.optimizationMode&&(n&&n.width&&n.height?(i.encoderConfig=yP(yP({},n),{},{bitrateMin:n.bitrateMin,bitrateMax:n.bitrateMax}),\"motion\"!==i.optimizationMode&&\"detail\"!==i.optimizationMode||(t.contentHint=i.optimizationMode,t.contentHint===i.optimizationMode?Qy.debug(\"[\".concat(e,\"] set content hint to\"),i.optimizationMode):Qy.debug(\"[\".concat(e,\"] set content hint failed\")))):Qy.warning(\"[\".concat(e,\"] can not apply optimization mode bitrate config, no encoderConfig\")))}var qk,zk,Jk,Xk,Qk,Zk,$k,eM,tM,iM,nM,rM;class oM extends AP{getUserId(){return this._userId}constructor(e,t,i,n){super(e,\"track-\".concat(e.kind,\"-\").concat(t,\"-\").concat(n.clientId,\"_\").concat(ey(5,\"\"))),IP(this,\"_userId\",void 0),IP(this,\"_uintId\",void 0),IP(this,\"_isDestroyed\",!1),IP(this,\"store\",void 0),IP(this,\"processor\",void 0),IP(this,\"processorContext\",void 0),this._userId=t,this._uintId=i,this.store=n}_updateOriginMediaStreamTrack(e){this._originMediaStreamTrack=e,this._mediaStreamTrack=e,this._updatePlayerSource(),this.processor&&this.processor.updateInput({track:this._originMediaStreamTrack,context:this.processorContext})}_destroy(){this._isDestroyed=!0,Qy.info(\"[\".concat(this.getTrackId(),\"] is destroyed\")),this.stop(),super.close()}getProcessorStats(){return this.processorContext.gatherStats()}getProcessorUsage(){return this.processorContext.gatherUsage()}}let sM=(qk=oA({argsMap:(e,t,i)=>[e.getTrackId(),\"string\"==typeof t?t:t instanceof HTMLVideoElement?\"HTMLVideoElement\":\"HTMLElement\",i]}),zk=oA({argsMap:e=>[e.getTrackId()]}),Jk=oA({argsMap:(e,t)=>[e.getTrackId(),t.name]}),Xk=oA({argsMap:e=>[e.getTrackId()]}),CP((Qk=class extends oM{get isPlaying(){return!(!this._player||this._player.videoElementStatus!==TP.PLAYING)}get __className__(){return\"RemoteVideoTrack\"}constructor(e,t,i,n){super(e,t,i,n),IP(this,\"_videoVisibleTimer\",null),IP(this,\"_previousVideoVisibleStatus\",void 0),IP(this,\"_clearPreviousVideoVisibleStatus\",(()=>this._previousVideoVisibleStatus=void 0)),IP(this,\"trackMediaType\",aP.VIDEO),IP(this,\"_videoWidth\",void 0),IP(this,\"_videoHeight\",void 0),IP(this,\"_player\",void 0),IP(this,\"processorDestination\",void 0),IP(this,\"processorContext\",void 0),this.updateMediaStreamTrackResolution(),this.processorContext=new nL(this.getTrackId(),\"remote\"),this.processorDestination=new iL(this.processorContext),this.bindProcessorDestinationEvents()}getStats(){return Kv((()=>{Qy.warning(\"[deprecated] RemoteVideoTrack.getStats will be removed in the future, use AgoraRTCClient.getRemoteVideoStats instead\")}),\"remoteVideoTrackGetStatsWarning\"),Uv(this,$D.GET_STATS)||yP({},pP)}play(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(\"string\"==typeof e){const t=document.getElementById(e);t?e=t:(Qy.warning(\"[\".concat(this.getTrackId(),'] can not find \"#').concat(e,'\" element, use document.body')),e=document.body)}Qy.debug(\"[\".concat(this.getTrackId(),\"] start video playback in \").concat(e instanceof HTMLVideoElement?\"HTMLVideoElement\":\"HTMLElement\"),JSON.stringify(t));const i=yP(yP({fit:\"cover\"},t),{},{trackId:this.getTrackId(),element:e});this._player?this._player.updateConfig(i):(e instanceof HTMLVideoElement?this._player=new ak(i):this._player=new dk(i),this._player.updateVideoTrack(this._mediaStreamTrack),this._player.onFirstVideoFrameDecoded=()=>{this.store.subscribe(this.getUserId(),\"video\",void 0,void 0,Date.now()),this.safeEmit(sP.FIRST_FRAME_DECODED)},this._player.onVideoStateChanged=e=>{this.safeEmit(sP.VIDEO_STATE_CHANGED,e)}),this._player.play(this.store.sessionId||void 0),this._videoVisibleTimer&&window.clearInterval(this._videoVisibleTimer),this._clearPreviousVideoVisibleStatus(),this._videoVisibleTimer=window.setInterval((()=>{try{const e=this.getVideoElementVisibleStatus();this.safeEmit(sP.VIDEO_ELEMENT_VISIBLE_STATUS,e)}catch(e){}}),Dy(\"CHECK_VIDEO_VISIBLE_INTERVAL\"))}stop(){this._player&&(this._videoVisibleTimer&&(window.clearInterval(this._videoVisibleTimer),this._videoVisibleTimer=null),this._clearPreviousVideoVisibleStatus(),this._player.destroy(),this._player=void 0,Qy.debug(\"[\".concat(this.getTrackId(),\"] stop video playback\")))}getCurrentFrameData(){return this._player?this._player.getCurrentFrame():new ImageData(2,2)}updateMediaStreamTrackResolution(){cL(this._originMediaStreamTrack).then((e=>{let[t,i]=e;this._videoHeight=i,this._videoWidth=t})).catch(iy)}_updatePlayerSource(){Qy.debug(\"[\".concat(this.getTrackId(),\"] update player source track\")),this._player&&this._player.updateVideoTrack(this._mediaStreamTrack)}getVideoElementVisibleStatus(){try{var e,t;const i=null==this||null===(e=this._player)||void 0===e?void 0:e.getContainerElement(),n={track:this,element:null==this||null===(t=this._player)||void 0===t?void 0:t.getVideoElement(),slot:null==i?void 0:i.parentElement},{element:r,slot:o}=n;if(this.isPlaying&&r instanceof HTMLVideoElement&&o instanceof HTMLElement){const e=Ev.checkOneElementVisible(r),t=Object.assign({},e);if(t.visible!==this._previousVideoVisibleStatus){this._previousVideoVisibleStatus=t.visible;const e=sA.reportApiInvoke(null,{tag:Iv.TRACER,name:Cv.REMOTE_VIDEO_TRACK_GET_VIDEO_VISIBLE,options:[this.getTrackId()]});t.visible?e.onSuccess(\"Video is visible\"):e.onSuccess(\"Invisible because of \".concat(t.reason))}return t}return}catch(e){throw new rv(nv.GET_VIDEO_ELEMENT_VISIBLE_ERROR,e.message)}}pipe(e){if(this.processor===e)return e;if(e._source)throw new rv(nv.INVALID_OPERATION,\"Processor \".concat(e.name,\" already piped, please call unpipe beforehand.\"));return this.unpipe(),this.processor=e,this.processor._source=this,e.updateInput({track:this._originMediaStreamTrack,context:this.processorContext}),e}unpipe(){if(!this.processor)return;const e=this.processor;this.processor._source=void 0,this.processor=void 0,e.reset()}bindProcessorDestinationEvents(){this.processorDestination.on(_P.ON_TRACK,(async e=>{e?e!==this._mediaStreamTrack&&(this._mediaStreamTrack=e,this._updatePlayerSource()):this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource())}))}unbindProcessorDestinationEvents(){this.processorDestination.removeAllListeners(_P.ON_TRACK)}_destroy(){super._destroy(),this.unbindProcessorDestinationEvents()}_onSei(e){this.emit(rP.SEI_RECEIVED,e)}}).prototype,\"play\",[qk],Object.getOwnPropertyDescriptor(Qk.prototype,\"play\"),Qk.prototype),CP(Qk.prototype,\"stop\",[zk],Object.getOwnPropertyDescriptor(Qk.prototype,\"stop\"),Qk.prototype),CP(Qk.prototype,\"pipe\",[Jk],Object.getOwnPropertyDescriptor(Qk.prototype,\"pipe\"),Qk.prototype),CP(Qk.prototype,\"unpipe\",[Xk],Object.getOwnPropertyDescriptor(Qk.prototype,\"unpipe\"),Qk.prototype),Qk),aM=(Zk=oA({argsMap:(e,t)=>[e.getTrackId(),t],throttleTime:300}),$k=oA({argsMap:(e,t)=>[e.getTrackId(),t]}),eM=oA({argsMap:e=>[e.getTrackId()]}),tM=oA({argsMap:e=>[e.getTrackId()]}),iM=oA({argsMap:(e,t)=>[e.getTrackId(),t.name]}),nM=oA({argsMap:e=>[e.getTrackId()]}),CP((rM=class extends oM{get isPlaying(){return this._useAudioElement?eL.isPlaying(this.getTrackId()):this._source.isPlayed}get __className__(){return\"RemoteAudioTrack\"}constructor(e,t,i,n){super(e,t,i,n),IP(this,\"trackMediaType\",aP.AUDIO),IP(this,\"_source\",void 0),IP(this,\"_useAudioElement\",!0),IP(this,\"_volume\",100),IP(this,\"processorContext\",void 0),IP(this,\"processorDestination\",void 0),IP(this,\"_played\",!1),IP(this,\"_bypassWebAudio\",!1),Dy(\"DISABLE_WEBAUDIO\")?(this._source=new sL,this._bypassWebAudio=!0,this._useAudioElement=!0):(this._source=new xP(e,!0),Dy(\"REMOTE_AUDIO_TRACK_USES_WEB_AUDIO\")&&(this._useAudioElement=!1)),this._source.once(cP.RECEIVE_TRACK_BUFFER,(()=>{this.safeEmit(sP.FIRST_FRAME_DECODED)})),this.processorContext=new oL(this._source.context,this.getTrackId(),\"remote\"),this.processorDestination=new rL(this.processorContext),this.bindProcessorDestinationEvents(),this._source.on(cP.UPDATE_SOURCE,(()=>{this.processor&&this.processor.updateInput({node:this._source.processSourceNode,context:this.processorContext})}))}setAudioFrameCallback(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4096;if(!e)return this._source.removeAllListeners(cP.ON_AUDIO_BUFFER),void this._source.stopGetAudioBuffer();this._source.startGetAudioBuffer(t),this._source.removeAllListeners(cP.ON_AUDIO_BUFFER),this._source.on(cP.ON_AUDIO_BUFFER,(t=>e(t)))}setVolume(e){this._volume=e,this._useAudioElement?eL.setVolume(this.getTrackId(),e):this._source.setVolume(e/100)}async setPlaybackDevice(e){if(!this._useAudioElement||!UD())throw new rv(nv.NOT_SUPPORTED,\"your browser does not support setting the audio output device\");await eL.setSinkID(this.getTrackId(),e)}getVolumeLevel(){return this._source.getAccurateVolumeLevel()}getStats(){return Kv((()=>{Qy.warning(\"[deprecated] RemoteAudioTrack.getStats will be removed in the future, use AgoraRTCClient.getRemoteAudioStats instead\")}),\"remoteAudioTrackGetStatsWarning\"),Uv(this,$D.GET_STATS)||yP({},uP)}play(){Qy.debug(\"[\".concat(this.getTrackId(),\"] start audio playback\")),this._played=!0,this._useAudioElement?(Qy.debug(\"[\".concat(this.getTrackId(),\"] use audio element to play\")),eL.play(this._mediaStreamTrack,this.getTrackId(),this._volume,this.store.sessionId||void 0)):this._source.play()}stop(){Qy.debug(\"[\".concat(this.getTrackId(),\"] stop audio playback\")),this._played=!1,this._useAudioElement?eL.stop(this.getTrackId()):this._source.stop()}_destroy(){super._destroy(),this._played=!1,this.unbindProcessorDestinationEvents(),this._source.destroy()}_isFreeze(){return this._source.isFreeze}_updatePlayerSource(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];Qy.debug(\"[\".concat(this.getTrackId(),\"] update player source track\")),e&&this._source.updateTrack(this._mediaStreamTrack),this._useAudioElement&&eL.updateTrack(this.getTrackId(),this._mediaStreamTrack)}pipe(e){if(this._bypassWebAudio)throw new rv(nv.NOT_SUPPORTED,\"can not pipe extension when WebAudio disabled\");if(this.processor===e)return e;if(e._source)throw new rv(nv.INVALID_OPERATION,\"Processor \".concat(e.name,\" already piped, please call unpipe beforehand.\"));return this.unpipe(),this.processor=e,this.processor._source=this,e.updateInput({track:this._originMediaStreamTrack,node:this._source.processSourceNode,context:this.processorContext}),e}unpipe(){var e;if(this._bypassWebAudio)throw new rv(nv.NOT_SUPPORTED,\"can not unpipe extension when WebAudio disabled\");if(!this.processor)return;const t=this.processor;null===(e=this._source.processSourceNode)||void 0===e||e.disconnect(),this.processor._source=!1,this.processor=void 0,t.reset()}bindProcessorDestinationEvents(){this.processorDestination.on(_P.ON_TRACK,(async e=>{e?e!==this._mediaStreamTrack&&(this._mediaStreamTrack=e,this._updatePlayerSource(!1),this._source.processedNode=this._source.createMediaStreamSourceNode(e)):this._mediaStreamTrack!==this._originMediaStreamTrack&&(this._mediaStreamTrack=this._originMediaStreamTrack,this._updatePlayerSource())})),this.processorDestination.on(_P.ON_NODE,(e=>{this._source.processedNode=e;const t=!e;this._useAudioElement!==t&&(this._played?(this.stop(),this._useAudioElement=t,this.play()):this._useAudioElement=t)}))}unbindProcessorDestinationEvents(){this.processorDestination.removeAllListeners(_P.ON_TRACK),this.processorDestination.removeAllListeners(_P.ON_NODE)}}).prototype,\"setVolume\",[Zk],Object.getOwnPropertyDescriptor(rM.prototype,\"setVolume\"),rM.prototype),CP(rM.prototype,\"setPlaybackDevice\",[$k],Object.getOwnPropertyDescriptor(rM.prototype,\"setPlaybackDevice\"),rM.prototype),CP(rM.prototype,\"play\",[eM],Object.getOwnPropertyDescriptor(rM.prototype,\"play\"),rM.prototype),CP(rM.prototype,\"stop\",[tM],Object.getOwnPropertyDescriptor(rM.prototype,\"stop\"),rM.prototype),CP(rM.prototype,\"pipe\",[iM],Object.getOwnPropertyDescriptor(rM.prototype,\"pipe\"),rM.prototype),CP(rM.prototype,\"unpipe\",[nM],Object.getOwnPropertyDescriptor(rM.prototype,\"unpipe\"),rM.prototype),rM);const cM=new class extends Sv{get visibility(){return document.visibilityState}get lastHiddenTime(){return this._lastHiddenTime}get lastVisibleTime(){return this._lastVisibleTime}constructor(){super(),IP(this,\"_lastHiddenTime\",0),IP(this,\"_lastVisibleTime\",0),document.addEventListener(\"visibilitychange\",(()=>{\"hidden\"===document.visibilityState?this._lastHiddenTime=performance.now():this._lastVisibleTime=performance.now(),Qy.debug(\"document visibility went \".concat(document.visibilityState)),this.emit(\"VISIBILITY_CHANGE\",document.visibilityState)}))}};class dM extends Sv{constructor(e,t){super(),IP(this,\"trackMediaType\",aP.DATA),IP(this,\"_version\",1),IP(this,\"_type\",3),IP(this,\"_config\",void 0),IP(this,\"_originDataChannel\",void 0),IP(this,\"_dataStreamPacketHeader\",new ArrayBuffer(4)),IP(this,\"_dataStreamPacketHandler\",{serialize:e=>e,deserialize:e=>e}),IP(this,\"_datachannelEventMap\",new Map),this._config=e,t&&(this._originDataChannel=t,this._bandDataChannelEvents(t)),this._initPacketHeader()}useDataStream(e){this._dataStreamPacketHandler=e}get id(){return this._config.id}get ordered(){return this._config.ordered}get maxRetransmits(){return Dy(\"DATASTREAM_MAX_RETRANSMITS\")}get metadata(){return this._config.metadata}get readyState(){var e,t;return null!==(e=null===(t=this._originDataChannel)||void 0===t?void 0:t.readyState)&&void 0!==e?e:\"connecting\"}get _originDataChannelId(){var e,t;return null!==(e=null===(t=this._originDataChannel)||void 0===t?void 0:t.id)&&void 0!==e?e:null}getChannelId(){return this.id}getConfig(){return this._config}_close(){this._originDataChannel&&(this._unbindDataChannelEvents(this._originDataChannel),this._originDataChannel=void 0)}async _waitTillOpen(){return new Gh(((e,t)=>{if(this._originDataChannel){\"open\"===this._originDataChannel.readyState&&e();const i=setTimeout((()=>{var e;t(new rv(nv.DATACHANNEL_CONNECTION_TIMEOUT,\"Cannot create datachannel, id: \".concat(null===(e=this._originDataChannel)||void 0===e?void 0:e.id)))}),1e4);this._originDataChannel.onopen=()=>{clearTimeout(i),this._originDataChannel&&this._bandDataChannelEvents(this._originDataChannel),e()},this._originDataChannel.onerror=()=>{throw clearTimeout(i),new rv(nv.DATACHANNEL_CONNECTION_TIMEOUT)}}else t(new rv(nv.DATACHANNEL_CONNECTION_TIMEOUT,\"cannot find dataChannel\"))}))}_updateOriginDataChannel(e){this._originDataChannel=e,this._bandDataChannelEvents(e)}_initPacketHeader(){const e=new DataView(this._dataStreamPacketHeader);e.setUint16(0,this._version),e.setUint8(2,this._type),e.setUint8(3,this._config.id)}_bandDataChannelEvents(e){this._unbindDataChannelEvents(e),[RP.OPEN,RP.CLOSE,RP.ERROR].forEach((t=>{const i=()=>{this.emit(t)};this._datachannelEventMap.set(t,i),e.addEventListener(t,i)}))}_unbindDataChannelEvents(e){Array.from(this._datachannelEventMap.entries()).forEach((t=>{let[i,n]=t;e.removeEventListener(i,n)})),this._datachannelEventMap.clear()}}class lM extends dM{constructor(e){super(e),IP(this,\"_messageListener\",void 0),this._messageListener=e=>{if(e.data.byteLength<this._dataStreamPacketHeader.byteLength)throw Error(\"invalid byteLength: the byte length must exceed \"+this._dataStreamPacketHeader.byteLength);const t=e.data.slice(0,this._dataStreamPacketHeader.byteLength),i=new DataView(t).getUint8(3);if(i!==this.id)return void(Dy(\"SHOW_DATASTREAM2_LOG\")&&Qy.debug(\"invalid datachannel id: \".concat(i,\" !== \").concat(this.id)));let n=e.data.slice(this._dataStreamPacketHeader.byteLength);n=this._dataStreamPacketHandler.deserialize(n),this.emit(RP.MESSAGE,n)}}_updateOriginDataChannel(e){super._updateOriginDataChannel(e),this._bandRemoteDataChannelEvents()}_close(){this._originDataChannel&&(this._originDataChannel.removeEventListener(\"message\",this._messageListener),super._close())}_bandRemoteDataChannelEvents(){this._originDataChannel&&this._originDataChannel.addEventListener(\"message\",this._messageListener)}}class uM extends dM{send(e){if(this._originDataChannel){let t=e;t=this._dataStreamPacketHandler.serialize(e);const i=new Uint8Array(this._dataStreamPacketHeader.byteLength+t.byteLength);i.set(new Uint8Array(this._dataStreamPacketHeader),0),i.set(new Uint8Array(t),this._dataStreamPacketHeader.byteLength),this._originDataChannel.send(i.buffer)}}}function hM(){const e=new Blob([atob(\"ZnVuY3Rpb24gZShlLHQsbil7bGV0IHI9bmV3IFVpbnQ4QXJyYXkoZSx0LG4pLGE9W10sbz0wO2Zvcig7YS5sZW5ndGg8bjspbyszPG4mJjA9PT1yW29dJiYwPT09cltvKzFdJiYzPT09cltvKzJdJiYoMD09PXJbbyszXXx8MT09PXJbbyszXXx8Mj09PXJbbyszXXx8Mz09PXJbbyszXSk/KGEucHVzaChyW29dLHJbbysxXSxyW28rM10pLG8rPTQpOihhLnB1c2gocltvXSksbysrKTtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoYSl9ZnVuY3Rpb24gdChlLHQpe2NvbnN0IG49ZnVuY3Rpb24oZSl7Y29uc3QgdD1lLmxlbmd0aDtsZXQgbj1bXSxyPTA7Zm9yKDtyPHQ7KXIrMjx0JiYwPT09ZVtyXSYmMD09PWVbcisxXSYmKDA9PT1lW3IrMl18fDE9PT1lW3IrMl18fDI9PT1lW3IrMl18fDM9PT1lW3IrMl0pPyhuLnB1c2goZVtyXSxlW3IrMV0sMyxlW3IrMl0pLHIrPTMpOihuLnB1c2goZVtyXSkscisrKTtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkobil9KHQpLHI9bi5sZW5ndGgsYT1NYXRoLmZsb29yKHIvMjU1KSxvPXIlMjU1LHM9bmV3IFVpbnQ4QXJyYXkoNithKzErcitlLmJ5dGVMZW5ndGgpO3NbMF09MCxzWzFdPTAsc1syXT0wLHNbM109MSxzWzRdPTYsc1s1XT0xMDE7bGV0IGk9MDtmb3IoO2k8YTspc1s2K2ldPTI1NSxpKys7cmV0dXJuIHNbNitpXT1vLGkrKyxzLnNldChuLDYraSkscy5zZXQobmV3IFVpbnQ4QXJyYXkoZSksNitpK3IpLHMuYnVmZmVyfW5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZigiU2FmYXJpIik+LTEmJi0xPT09bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCJDaHJvbWUiKSYmKHNlbGYub25ydGN0cmFuc2Zvcm09bj0+e2NvbnN0IHI9bi50cmFuc2Zvcm1lcjtsZXQgYT1bXTtyLm9wdGlvbnMucG9ydC5vbm1lc3NhZ2U9ZT0+e2UuZGF0YS5zZWkmJmEucHVzaChlLmRhdGEuc2VpKX0sc2VsZi5wb3N0TWVzc2FnZSgic3RhcnRlZCIpO2NvbnN0IG89ci5yZWFkYWJsZS5nZXRSZWFkZXIoKSxzPXIud3JpdGFibGUuZ2V0V3JpdGVyKCk7InJ4Ij09PXIub3B0aW9ucy5uYW1lP2Z1bmN0aW9uIHQobil7by5yZWFkKCkudGhlbigocj0+e2lmKCFyLmRvbmUpe2lmKHIudmFsdWUgaW5zdGFuY2VvZiBSVENFbmNvZGVkVmlkZW9GcmFtZSl7Y29uc3QgdD1mdW5jdGlvbih0KXtjb25zdCBuPW5ldyBEYXRhVmlldyh0LmRhdGEpO2xldCByPTA7Zm9yKDtyKzQ8dC5kYXRhLmJ5dGVMZW5ndGg7KXtpZigwPT09bi5nZXRVaW50OChyKzApJiYwPT09bi5nZXRVaW50OChyKzEpJiYwPT09bi5nZXRVaW50OChyKzIpJiYxPT09bi5nZXRVaW50OChyKzMpJiY2PT09bi5nZXRVaW50OChyKzQpKXtsZXQgYT1yKzYsbz0wLHM9MDtmb3IoOzI1NT09PShzPW4uZ2V0VWludDgoYSsrKSk7KW8rPTI1NTtvKz1zO2NvbnN0IGk9ZSh0LmRhdGEsYSxvKTtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoaSl9cisrfXJldHVybiBudWxsfShyLnZhbHVlKTt0JiZuLm9wdGlvbnMucG9ydC5wb3N0TWVzc2FnZSh7c2VpOnR9KX1zLndyaXRlKHIudmFsdWUpLG4ub3B0aW9ucy5wb3J0LnBvc3RNZXNzYWdlKHt0cmFuc2Zvcm1lZDohMH0pLHQobil9fSkpfShyKToidHgiPT09ci5vcHRpb25zLm5hbWUmJmZ1bmN0aW9uIGUobil7by5yZWFkKCkudGhlbigocj0+e2lmKCFyLmRvbmUpe2lmKHIudmFsdWUgaW5zdGFuY2VvZiBSVENFbmNvZGVkVmlkZW9GcmFtZSl7Y29uc3QgZT1hLnNoaWZ0KCk7ZSYmKHIudmFsdWUuZGF0YT10KHIudmFsdWUuZGF0YSxlKSl9cy53cml0ZShyLnZhbHVlKSxuLm9wdGlvbnMucG9ydC5wb3N0TWVzc2FnZSh7dHJhbnNmb3JtZWQ6ITB9KSxlKG4pfX0pKX0ocil9LHNlbGYucG9zdE1lc3NhZ2UoInJlZ2lzdGVyZWQiKSk7Cg==\")],{type:\"text/javascript\"});return setTimeout((()=>LD.revokeObjectURL(e)),0),new Worker(LD.createObjectURL(e))}const pM=new Map;const _M=new Map;function EM(e,t,i){let n=new Uint8Array(e,t,i),r=[],o=0;for(;r.length<i;)o+3<i&&0===n[o]&&0===n[o+1]&&3===n[o+2]&&(0===n[o+3]||1===n[o+3]||2===n[o+3]||3===n[o+3])?(r.push(n[o],n[o+1],n[o+3]),o+=4):(r.push(n[o]),o++);return new Uint8Array(r)}const mM=new Map;async function fM(e,t){if(!MD().supportWebRTCEncodedTransform)return void Qy.warning(\"browser not support video encoded transform\");if(mM.has(e))return;if(!e.track)return;const i={track:e.track};if(DI()){if(!e.createEncodedStreams)return void Qy.warning(\"browser not support createEncodedStreams() API\");let r=null;try{r=e.createEncodedStreams()}catch(e){return void Qy.error(\"create video-encoded-streams error\",e&&e.message)}let o=[];t.on(\"sei-to-send\",(e=>{o.push(e)}));const s=new TransformStream({transform(t,r){i.controller||(i.controller=r),e.track&&e.track.id!==i.track.id&&(Qy.debug(\"video track changed: \".concat(i.track.id,\" => \").concat(e.track.id)),i.track.removeEventListener(\"ended\",n),i.track=e.track,i.track.addEventListener(\"ended\",n));const s=o.shift();s&&(t.data=function(e,t){const i=function(e){const t=e.length;let i=[],n=0;for(;n<t;)n+2<t&&0===e[n]&&0===e[n+1]&&(0===e[n+2]||1===e[n+2]||2===e[n+2]||3===e[n+2])?(i.push(e[n],e[n+1],3,e[n+2]),n+=3):(i.push(e[n]),n++);return new Uint8Array(i)}(t),n=i.length,r=Math.floor(n/255),o=n%255,s=new Uint8Array(6+r+1+n+e.byteLength);s[0]=0,s[1]=0,s[2]=0,s[3]=1,s[4]=6,s[5]=101;let a=0;for(;a<r;)s[6+a]=255,a++;return s[6+a]=o,a++,s.set(i,6+a),s.set(new Uint8Array(e),6+a+n),s.buffer}(t.data,s)),r.enqueue(t)}});r.readable.pipeThrough(s).pipeTo(r.writable)}else{if(!PI())return;{if(\"undefined\"==typeof RTCRtpScriptTransform)return void Qy.warning(\"browser not support RTCRtpScriptTransform\");const r=hM(),o=new MessageChannel;await new Gh((e=>r.onmessage=t=>{\"registered\"===t.data&&e(void 0)}));const s=new RTCRtpScriptTransform(r,{name:\"tx\",port:o.port2},[o.port2]);e.transform=s,await new Gh((e=>r.onmessage=t=>{\"started\"===t.data&&e(void 0)})),t.on(\"sei-to-send\",(e=>{o.port1.postMessage({sei:e})})),o.port1.onmessage=t=>{var r;t.data.transformed&&e.track&&(null===(r=e.track)||void 0===r?void 0:r.id)!==i.track.id&&(Qy.debug(\"video track changed: \".concat(i.track.id,\" => \").concat(e.track.id)),i.track.removeEventListener(\"ended\",n),i.track=e.track,i.track.addEventListener(\"ended\",n))},i.worker=r}}function n(){if(e.track){if(this.id!==e.track.id)return;e.track.removeEventListener(\"ended\",n)}const t=mM.get(e);if(t){mM.delete(e);try{var i,r;null===(i=t.controller)||void 0===i||i.terminate(),null===(r=t.worker)||void 0===r||r.terminate()}catch(e){Qy.warning(e&&e.message)}}}mM.set(e,i),e.track.addEventListener(\"ended\",n)}const TM=new Map;!function(){const e=AI();kD.getDisplayMedia=!(!navigator.mediaDevices||!navigator.mediaDevices.getDisplayMedia),kD.getStreamFromExtension=e.name===CI.CHROME&&Number(e.version)>34,kD.supportUnifiedPlan=function(){if(!window.RTCRtpTransceiver)return!1;if(!(\"currentDirection\"in RTCRtpTransceiver.prototype))return!1;const e=new RTCPeerConnection;let t=!1;try{e.addTransceiver(\"audio\"),t=!0}catch(e){}return e.close(),t}(),kD.supportMinBitrate=e.name===CI.CHROME||e.name===CI.EDGE,kD.supportSetRtpSenderParameters=function(){const e=AI();return!!(window.RTCRtpSender&&window.RTCRtpSender.prototype.setParameters&&window.RTCRtpSender.prototype.getParameters)&&(!!QI()||!(!PI()&&!NI())||e.name===CI.FIREFOX&&Number(e.version)>=64)}(),e.name===CI.SAFARI&&(Number(e.version)>=14?kD.supportDualStream=!0:kD.supportDualStream=!1),kD.webAudioMediaStreamDest=function(){const e=AI();return!(e.name===CI.SAFARI&&Number(e.version)<12)}(),kD.supportReplaceTrack=!!window.RTCRtpSender&&\"function\"==typeof RTCRtpSender.prototype.replaceTrack,kD.supportWebGL=\"undefined\"!=typeof WebGLRenderingContext,kD.supportRequestFrame=!!window.CanvasCaptureMediaStreamTrack,QI()||(kD.webAudioWithAEC=!0),kD.supportShareAudio=function(){const e=AI();return(e.os===RI.WIN_10||e.os===RI.WIN_81||e.os===RI.WIN_7||e.os===RI.LINUX||e.os===RI.MAC_OS||e.os===RI.CHROMIUM_OS)&&e.name===CI.CHROME&&Number(e.version)>=74}(),kD.supportDataChannel=!!(UI(76)||function(e){const t=AI();return!(t.name!==CI.FIREFOX||!t.osVersion)&&Number(t.version)>=e}(68)||FI(14)),kD.supportPCSetConfiguration=function(){const e=window.RTCPeerConnection;return!kI()&&!!e&&e.prototype.setConfiguration instanceof Function}(),kD.supportWebRTCEncodedTransform=function(){const e=AI();return\"Chrome\"===e.name&&Number(e.version)>=86||\"Safari\"===e.name&&Number(e.version)>=15}(),kD.supportWebRTCInsertableStream=function(){const e=AI();return(e.name===CI.CHROME||e.name===CI.EDGE)&&Number(e.version)>=94&&\"MediaStreamTrackGenerator\"in window&&\"MediaStreamTrackProcessor\"in window}(),kD.supportRequestVideoFrameCallback=\"requestVideoFrameCallback\"in HTMLVideoElement.prototype,kD.supportWebCrypto=\"undefined\"!=typeof window&&void 0!==window.crypto&&void 0!==window.crypto.subtle,jv((()=>{kD.supportDualStreamEncoding=function(){const e=AI();return!!Dy(\"DISABLE_WEBAUDIO\")||(\"Safari\"===e.name&&Number(e.version)>=14||!!(\"Chrome\"===e.name&&/Windows/i.test(e.os||\"\")&&Number(e.version)>=100&&Dy(\"CHROME_DUAL_STREAM_USE_ENCODING\")))}(),Qy.info(\"browser compatibility\",JSON.stringify(kD),JSON.stringify(e))}))}();class SM extends Sv{constructor(e,t){super(),og(this,\"signal\",void 0),og(this,\"token\",void 0),og(this,\"tokenTimeout\",void 0),og(this,\"tokenInterval\",void 0),og(this,\"_sequence\",0),og(this,\"userMap\",new Map),og(this,\"encoder\",new TextEncoder),this.signal=e,this.token=t;const i=()=>{this.signal.connectionState===hb.CONNECTED&&this.check(),0===this.userMap.size?this.tokenInterval=window.setTimeout(i,1e3):this.tokenInterval=window.setTimeout(i,3*Dy(\"P2P_TOKEN_INTERVAL\"))};i()}async send(e,t,i,n,r){var o,s,a;if(0===this.userMap.size)return;const c=Array.from(Qw(o=this.userMap).call(o))[0].token;\"string\"!=typeof t&&(t=JSON.stringify(t)),n=null!==(s=n)&&void 0!==s?s:ey(6,\"\"),r=null!==(a=r)&&void 0!==a?a:this._sequence++;const d={_id:n,_type:e,_seq:r,_message:t,token:\"\".concat(this.token,\"_\").concat(c)};Dy(\"SHOW_P2P_LOG\")&&Qy.debug(\"send message\",d,\"noNeedResponse : \".concat(i));this.splitMessage(JSON.stringify(d)).forEach((e=>{this.signal.request(_b.DATA_STREAM,{payload:qv(this.encoder.encode(e))})}));const l=new Gh(((t,r)=>{const o=window.setTimeout((()=>{this.off(\"res-@\".concat(n,\"_ack\"),s),this.off(\"res-@\".concat(n),c),this.off(aw.ABORT,a),Qy.debug(\"[external-signal] request timeout, type: \".concat(e,\", requestId: \").concat(n)),0===this.userMap.size?r(new rv(nv.INVALID_REMOTE_USER)):r(new rv(nv.TIMEOUT))}),Dy(\"EXTERNAL_SIGNAL_REQUEST_TIMEOUT\")),s=()=>{o&&window.clearTimeout(o),this.off(aw.ABORT,a),i&&t()},a=()=>{o&&window.clearTimeout(o),this.off(\"res-@\".concat(n,\"_ack\"),s),this.off(\"res-@\".concat(n),c),r(new rv(nv.EXTERNAL_SIGNAL_ABORT,\"type: \".concat(e,\", requestId: \").concat(n)))};this.once(aw.ABORT,a),this.once(\"res-@\".concat(n,\"_ack\"),s);const c=(i,c)=>{l=!0,o&&window.clearTimeout(o),this.off(\"res-@\".concat(n,\"_ack\"),s),this.off(aw.ABORT,a),\"success\"===i?t(c):r(new rv(nv.P2P_MESSAGE_FAILED,\"request \".concat(e,\" failed, requestId: \").concat(n)))};let l=!1;i||(this.once(\"res-@\".concat(n),c),$v(Dy(\"SIGNAL_REQUEST_TIMEOUT\")).then((()=>{l||Qy.warning(\"external_signal request timeout, type: \".concat(e,\", requestId: \").concat(n,\", \").concat(d))})))}));try{return await l}catch(o){if(o.code===nv.TIMEOUT)return await this.send(e,t,i,n,r);throw o}}onMessage(e){var t;const{_uid:i}=e;let n,r=this.userMap.get(i);if(r)n=r.splitMessageMap;else{if(this.userMap.size>0||!(\"_type\"in e)||e._type!==sw.CHECK)return;const{token:t}=e;n=new Map,r={uid:i,isStart:!0,token:t,splitMessageMap:n,nextExpectedSequenceNumber:0,receivedMessagesMap:new Map},this.userMap.set(i,r),this.signal.emit(mb.ON_USER_ONLINE,{uid:i}),this.handleUserOnline()}if(\"id\"in e&&\"total\"in e){var o;const{id:t,total:r}=e,s=null!==(o=n.get(t))&&void 0!==o?o:[];if(s.push(e),n.has(t)||n.set(t,s),s.length!==r)return;{const r=aE(s).call(s,((e,t)=>e.index-t.index)).map((e=>e.payload)).join(\"\");n.delete(t),(e=JSON.parse(r))._uid=i}}const{_type:s,token:a}=e;if(Dn(t=[sw.ACK,sw.CHECK]).call(t,s))return s===sw.CHECK&&this.handleCheckToken(r,a),void this.receiveMessage(e);a===\"\".concat(r.token,\"_\").concat(this.token)?this.handleReceivedMessage(e):Qy.debug('Receive unexpected message\", '.concat(a,\", cur_token: \").concat(r.token,\"_\").concat(this.token),e)}check(){const e={_id:ey(6,\"\"),token:this.token,_type:sw.CHECK};Dy(\"SHOW_P2P_LOG\")&&Qy.debug(\"send message\",e),this.signal.request(_b.DATA_STREAM,{payload:qv(this.encoder.encode(JSON.stringify(e)))})}ack(e){const t={_id:e,_type:sw.ACK,token:this.token};Dy(\"SHOW_P2P_LOG\")&&Qy.debug(\"send message\",t),this.signal.request(_b.DATA_STREAM,{payload:qv(this.encoder.encode(JSON.stringify(t)))})}response(e,t,i){this.send(sw.RESPONSE,JSON.stringify({success:!i,message:t}),!0,e)}handleReceivedMessage(e){const t=()=>{this.userMap.forEach((e=>{const{receivedMessagesMap:t,nextExpectedSequenceNumber:i}=e;for(;t.has(i);){const n=t.get(i);t.delete(i),this.receiveMessage(n),e.nextExpectedSequenceNumber++}}))};if(!e)return void t();const{_uid:i,_seq:n}=e,r=this.userMap.get(i),{receivedMessagesMap:o,isStart:s,nextExpectedSequenceNumber:a}=r;if(n<a)return this.ack(e._id),void Qy.debug(\"[external-signal] receive old message, seq: \".concat(n,\", \").concat(e._message));o.set(n,e),s&&n===a&&(this.receiveMessage(e),o.delete(a),r.nextExpectedSequenceNumber++,t())}receiveMessage(e){const{_id:t,_type:i,_message:n,_uid:r}=e;if(Dy(\"SHOW_P2P_LOG\")&&Qy.debug(\"receive message\",e),t){let o;switch(e._type!==sw.ACK&&(n&&(o=JSON.parse(n)),this.ack(e._id)),e._type){case sw.CANDIDATE:case sw.CONTROL:this.signal.emit(i,o,r);break;case sw.PUBLISH:case sw.UNPUBLISH:case sw.RESTART_ICE:case sw.CALL:o.uid=r,kv(this.signal,i,o).then((t=>{this.response(e._id,t)})).catch((()=>{this.response(e._id,void 0,!0)}));break;case sw.ACK:this.getListeners(\"res-@\".concat(t,\"_ack\")).length>0&&this.emit(\"res-@\".concat(t,\"_ack\"));break;case sw.RESPONSE:{const{success:e,message:i}=o;this.emit(\"res-@\".concat(t),e?\"success\":\"failed\",i);break}}}}splitMessage(e){if(e.length<SM.MAX_MESSAGE_SIZE)return[e];const t=[],{remoteToken:i}=JSON.parse(e),n=ey(6,\"\");let r=0,o=800;const s=Math.ceil(e.length/o);for(;e.length>0;){r++;const a={id:n,index:r,total:s,payload:e.slice(0,o),token:\"\".concat(this.token,\"_\").concat(i)};JSON.stringify(a).length>SM.MAX_MESSAGE_SIZE?o-=50:(t.push(a),e=e.slice(o))}return t.map((e=>JSON.stringify(e)))}handleCheckToken(e,t){return e.token!==t?(Qy.debug(\"token changed, from \".concat(e.token,\" to \").concat(t)),this.reset(e.uid,t),!1):(this.tokenTimeout&&(window.clearTimeout(this.tokenTimeout),this.tokenTimeout=void 0),this.tokenTimeout=window.setTimeout((()=>{Qy.debug(\"token timeout, \".concat(t)),this.reset(e.uid)}),Dy(\"MAX_P2P_TIMEOUT\")),!0)}async handleUserOnline(){const e=await kv(this.signal,sw.CALL,void 0),t=await this.send(sw.CALL,e);this.signal.emit(pb.P2P_CONNECTION,t,!0)}async reset(e,t){const i=this.userMap.get(e);i&&(this.emit(aw.ABORT),this.signal.emit(mb.ON_USER_OFFLINE,{uid:i.uid,reason:dw.P2P_TOKEN_CHANGED}),this._sequence=0,this.userMap.clear(),t||(Qy.debug(\"change local token from \".concat(t,\" to \").concat(t)),this.token=ey(6,\"\")))}clear(){this._sequence=0,this.userMap.clear(),this.tokenInterval&&window.clearTimeout(this.tokenInterval),this.tokenInterval=void 0,this.tokenTimeout&&window.clearTimeout(this.tokenTimeout),this.tokenTimeout=void 0,this.emit(aw.ABORT)}}og(SM,\"MAX_SIZE\",1),og(SM,\"MAX_MESSAGE_SIZE\",1024);class gM extends Sv{get connectionState(){return this._connectionState}set connectionState(e){e!==this._connectionState&&(this._connectionState=e,e===hb.CONNECTED?this.emit(pb.WS_CONNECTED):e===hb.RECONNECTING?this.emit(pb.WS_RECONNECTING,this._websocketReconnectReason):e===hb.CLOSED&&this.emit(pb.WS_CLOSED,this._disconnectedReason))}get currentURLIndex(){return this.websocket.currentURLIndex}get url(){return this.websocket&&this.websocket.url||null}get rtt(){return this.rttRolling.mean()}constructor(e,t){super(),og(this,\"_disconnectedReason\",void 0),og(this,\"_websocketReconnectReason\",void 0),og(this,\"_connectionState\",hb.CLOSED),og(this,\"reconnectToken\",void 0),og(this,\"p2pToken\",void 0),og(this,\"websocket\",void 0),og(this,\"openConnectionTime\",void 0),og(this,\"clientId\",void 0),og(this,\"lastMsgTime\",Date.now()),og(this,\"uploadCache\",[]),og(this,\"uploadCacheInterval\",void 0),og(this,\"rttRolling\",new fy(5)),og(this,\"pingpongTimer\",void 0),og(this,\"pingpongTimeoutCount\",0),og(this,\"joinResponse\",void 0),og(this,\"multiIpOption\",void 0),og(this,\"initError\",void 0),og(this,\"spec\",void 0),og(this,\"store\",void 0),og(this,\"_external_signal\",void 0),og(this,\"onWebsocketMessage\",(e=>{if(e.data instanceof ArrayBuffer)return void this.emit(pb.ON_BINARY_DATA,e.data);const t=JSON.parse(e.data);if(this.lastMsgTime=Date.now(),Object.prototype.hasOwnProperty.call(t,\"_id\")){const e=\"res-@\".concat(t._id);this.emit(e,t._result,t._message)}else if(Object.prototype.hasOwnProperty.call(t,\"_type\")){switch(t._type){case mb.ON_DATA_STREAM:return void this.handleDataStream(t._message);case mb.MUTE_AUDIO:case mb.MUTE_VIDEO:case mb.ON_P2P_LOST:case mb.ON_USER_ONLINE:return;case mb.ON_USER_OFFLINE:const{uid:e}=t._message;return Qy.debug(\"[\".concat(this.clientId,\"] user-offline uid: \").concat(e)),void this._external_signal.reset(e)}if(this.emit(t._type,t._message),t._type===mb.ON_NOTIFICATION&&this.handleNotification(t._message),t._type===mb.ON_USER_BANNED)switch(t._message.error_code){case 14:this.close(Av.UID_BANNED);break;case 15:this.close(Av.IP_BANNED);break;case 16:this.close(Av.CHANNEL_BANNED)}if(t._type===mb.ON_USER_LICENSE_BANNED)switch(t._message.error_code){case ub.ERR_LICENSE_MISSING:this.close(Av.LICENSE_MISSING);break;case ub.ERR_LICENSE_EXPIRED:this.close(Av.LICENSE_EXPIRED);break;case ub.ERR_LICENSE_MINUTES_EXCEEDED:this.close(Av.LICENSE_MINUTES_EXCEEDED);break;case ub.ERR_LICENSE_PERIOD_INVALID:this.close(Av.LICENSE_PERIOD_INVALID);break;case ub.ERR_LICENSE_MULTIPLE_SDK_SERVICE:this.close(Av.LICENSE_MULTIPLE_SDK_SERVICE);break;case ub.ERR_LICENSE_ILLEGAL:this.close(Av.LICENSE_ILLEGAL);break;default:this.close()}}})),this.clientId=e.clientId,this.spec=e,this.store=t,this.websocket=new Aw(\"gateway-\".concat(this.clientId),this.spec.retryConfig,!0,Dy(\"JOIN_GATEWAY_USE_DUAL_DOMAIN\"),Dy(\"JOIN_GATEWAY_USE_443PORT_ONLY\"),t),this.handleWebsocketEvents(),window.addEventListener(\"offline\",(()=>{this.connectionState===hb.CONNECTED&&this.reconnect(\"retry\",Dv.OFFLINE)})),this.p2pToken=ey(6,\"\"),this._external_signal=new SM(this,this.p2pToken)}async request(e,t,i,n){const r=ey(6,\"\"),o={_id:r,_type:e,_message:t},s=this.websocket.connectionID,a=()=>new Gh(((e,t)=>{if(this.connectionState===hb.CONNECTED)return e();const i=()=>{this.off(pb.WS_CLOSED,n),e()},n=()=>{this.off(pb.WS_CONNECTED,i),t(new rv(nv.WS_ABORT))};this.once(pb.WS_CONNECTED,i),this.once(pb.WS_CLOSED,n)}));if(this.connectionState!==hb.CONNECTING&&this.connectionState!==hb.RECONNECTING||e===_b.JOIN||e===_b.REJOIN||await a(),this.websocket.sendMessage(o,!0),n)return;const c=new Gh(((i,n)=>{let o=!1;const a=(n,r)=>{o=!0,i({isSuccess:\"success\"===n,message:r||{}}),this.off(pb.WS_CLOSED,c),this.off(pb.WS_RECONNECTING,c),this.emit(pb.REQUEST_SUCCESS,e,t)};this.once(\"res-@\".concat(r),a);const c=()=>{n(new rv(nv.WS_ABORT,\"type: \".concat(e))),this.off(pb.WS_CLOSED,c),this.off(pb.WS_RECONNECTING,c),this.off(\"res-@\".concat(r),a)};this.once(pb.WS_CLOSED,c),this.once(pb.WS_RECONNECTING,c),$v(Dy(\"SIGNAL_REQUEST_TIMEOUT\")).then((()=>{this.websocket.connectionID!==s||o||(Qy.warning(\"[\".concat(this.clientId,\"] ws request timeout, type: \").concat(e)),this.emit(pb.REQUEST_TIMEOUT,e,t))}))}));let d=null;try{d=await c}catch(n){if(this.connectionState===hb.CLOSED||e===_b.LEAVE)throw new rv(nv.WS_ABORT);return!this.spec.forceWaitGatewayResponse||i?n.throw():e===_b.JOIN||e===_b.REJOIN?null:(await a(),await this.request(e,t))}if(d.isSuccess)return d.message;const l=Number(d.message.error_code||d.message.code),u=pw(l),h=new rv(nv.UNEXPECTED_RESPONSE,\"\".concat(u.desc,\": \").concat(d.message.error_str),{code:l,data:d.message,desc:u.desc});return\"success\"===u.action?d.message:(Qy.warning(\"[\".concat(this.clientId,\"] [\").concat(this.websocket.connectionID,\"] unexpected response from type \").concat(e,\", error_code: \").concat(l,\", message: \").concat(u.desc,\", action: \").concat(u.action)),l===ub.ERR_TOO_MANY_BROADCASTERS?e===_b.JOIN||e===_b.REJOIN?(this.initError=h,this.close(),h.throw()):h.throw():\"failed\"===u.action?h.throw():\"quit\"===u.action?(this.initError=h,this.close(),h.throw()):(l===ub.ERR_JOIN_BY_MULTI_IP?(this.multiIpOption=d.message.option,Qy.warning(\"[\".concat(this.clientId,\"] detect multi ip, recover\")),this.reconnect(\"recover\",Dv.MULTI_IP)):this.reconnect(u.action,Dv.SERVER_ERROR),e===_b.JOIN||e===_b.REJOIN?null:await this.request(e,t)))}waitMessage(e,t){return new Gh((i=>{const n=r=>{(!t||t(r))&&(this.off(e,n),i(r))};this.on(e,n)}))}uploadWRTCStats(e){if(!this.store.sessionId)return void Qy.warn(\"[\".concat(this.clientId,\"] no session id when upload wrtc stats\"));const t={lts:Date.now(),sid:this.store.sessionId,uid:this.store.intUid,stats:e};this.upload(Eb.WRTC_STATS,t)}upload(e,t){const i={_type:e,_message:t};try{this.websocket.sendMessage(i)}catch(e){const t=Dy(\"MAX_UPLOAD_CACHE\")||50;this.uploadCache.push(i),this.uploadCache.length>t&&this.uploadCache.splice(0,1),this.uploadCache.length>0&&!this.uploadCacheInterval&&(this.uploadCacheInterval=window.setInterval((()=>{if(this.connectionState!==hb.CONNECTED)return;const e=this.uploadCache.splice(0,1)[0];0===this.uploadCache.length&&(window.clearInterval(this.uploadCacheInterval),this.uploadCacheInterval=void 0),this.upload(e._type,e._message)}),Dy(\"UPLOAD_CACHE_INTERVAL\")||2e3))}}send(e,t){const i={_type:e,_message:t};this.websocket.sendMessage(i)}async sendExtensionMessage(e,t,i){return await this._external_signal.send(e,t,i)}init(e){return this.initError=void 0,this.multiIpOption=void 0,this.joinResponse=void 0,this.reconnectToken=void 0,this.openConnectionTime=void 0,new Gh(((t,i)=>{this.once(pb.WS_CONNECTED,(()=>t(this.joinResponse))),this.once(pb.WS_CLOSED,(()=>i(this.initError||new rv(nv.WS_ABORT)))),this.connectionState=hb.CONNECTING,this.websocket.init(e).catch(i)}))}close(e){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.reconnectToken=void 0,this.joinResponse=void 0,this._external_signal.clear(),this._disconnectedReason=e||Av.LEAVE,this.connectionState=hb.CLOSED,Qy.debug(\"[\".concat(this.clientId,\"] \")+\"will close websocket in signal\"),this.websocket.close(),this.p2pToken=ey(6,\"\"),this._external_signal.clear(),this._external_signal=new SM(this,this.p2pToken)}async join(){if(!this.joinResponse){this.emit(pb.ABORT_P2P_EXECUTION);const e=await kv(this,pb.REQUEST_JOIN_INFO),t=await this.request(_b.JOIN,e);if(!t)return this.emit(pb.REPORT_JOIN_GATEWAY,nv.TIMEOUT,this.url||\"\"),!1;this.joinResponse=t,this.emit(pb.JOIN_RESPONSE,this.joinResponse),this.reconnectToken=this.joinResponse.rejoin_token}return this.connectionState=hb.CONNECTED,this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval(this.handlePingPong.bind(this),3e3),!0}reconnect(e,t){this.pingpongTimer&&(this.pingpongTimeoutCount=0,window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0),this.websocket.reconnect(e,t)}handleDataStream(e){try{var t;const i=Yv(e.payload),n=(new TextDecoder).decode(i),r=JSON.parse(n);\"total\"in r&&\"id\"in r||Dn(t=Object.values(sw)).call(t,r._type)?(r._uid=e.uid,this._external_signal.onMessage(r)):this.emit(mb.ON_DATA_STREAM,e)}catch(t){this.emit(mb.ON_DATA_STREAM,e)}}handleNotification(e){Qy.debug(\"[\".concat(this.clientId,\"] receive notification: \"),e);const t=pw(e.code);if(\"success\"!==t.action){if(\"failed\"!==t.action)return\"quit\"===t.action?(\"ERR_REPEAT_JOIN_CHANNEL\"===t.desc&&this.close(Av.UID_BANNED),void this.close()):void this.reconnect(t.action,Dv.SERVER_ERROR);Qy.error(\"[\".concat(this.clientId,\"] ignore error: \"),t.desc)}}handlePingPong(){if(!this.websocket||\"connected\"!==this.websocket.state)return;this.pingpongTimeoutCount>0&&this.rttRolling.add(3e3),this.pingpongTimeoutCount+=1;const e=Dy(\"PING_PONG_TIME_OUT\"),t=Date.now();this.pingpongTimeoutCount>=e&&(Qy.warning(\"[\".concat(this.clientId,\"] PINGPONG Timeout. Last Socket Message: \").concat(t-this.lastMsgTime,\"ms\")),t-this.lastMsgTime>Dy(\"WEBSOCKET_TIMEOUT_MIN\"))?this.reconnect(\"retry\",Dv.TIMEOUT):this.request(_b.PING,void 0,!0).then((()=>{this.pingpongTimeoutCount=0;const e=Date.now()-t;this.rttRolling.add(e),Dy(\"REPORT_STATS\")&&this.send(_b.PING_BACK,{pingpongElapse:e})})).catch((e=>{}))}handleWebsocketEvents(){this.websocket.on(Tb.RECONNECT_WAITTING_FINISH,(e=>{this.emit(pb.WS_RECONNECT_WAITTING_FINISH,e)})),this.websocket.on(Tb.RECONNECT_CREATE_CONNECTION,(e=>{this.emit(pb.WS_RECONNECT_CREATE_CONNECTION,e)})),this.websocket.on(Tb.ON_MESSAGE,this.onWebsocketMessage),this.websocket.on(Tb.CLOSED,(()=>{this.connectionState=hb.CLOSED})),this.websocket.on(Tb.FAILED,(()=>{this._disconnectedReason=Av.NETWORK_ERROR,this.connectionState=hb.CLOSED})),this.websocket.on(Tb.RECONNECTING,(e=>{this._websocketReconnectReason=e,this.joinResponse=void 0,this.connectionState===hb.CONNECTED?this.connectionState=hb.RECONNECTING:this.connectionState=hb.CONNECTING})),this.websocket.on(Tb.WILL_RECONNECT,((e,t,i)=>{\"retry\"!==e?(Qy.debug(\"\".concat(this.clientId,\" websocket will_connect event, renewSession reconnectMode is \").concat(e)),this.reconnectToken=void 0):Qy.debug(\"\".concat(this.clientId,\" reconnect mode is retry, no need to renew session\")),i(e)})),this.websocket.on(Tb.CONNECTED,(()=>{this.openConnectionTime=Date.now(),this.join().catch((e=>{if(this.emit(pb.REPORT_JOIN_GATEWAY,e,this.url||\"\"),e instanceof rv&&e.code===nv.UNEXPECTED_RESPONSE&&e.data.code===ub.ERR_NO_AUTHORIZED)return Qy.warning(\"[\".concat(this.clientId,\"] reconnect no authorized, recover\")),void this.reconnect(\"recover\",Dv.SERVER_ERROR);Qy.error(\"[\".concat(this.clientId,\"] join gateway request failed\"),e.toString()),this.spec.forceWaitGatewayResponse?this.reconnect(\"tryNext\",Dv.SERVER_ERROR):(this.initError=e,this.close())}))})),this.websocket.on(Tb.REQUEST_NEW_URLS,((e,t)=>{kv(this,pb.REQUEST_RECOVER,this.multiIpOption).then(e).catch(t)})),this.websocket.on(Tb.ON_TOKEN_PRIVILEGE_DID_EXPIRE,(()=>{this.emit(mb.ON_TOKEN_PRIVILEGE_DID_EXPIRE)}))}}var RM={exports:{}};RM.exports=(()=>{var e={8:(e,t,i)=>{i.r(t),i.d(t,{Parser:()=>C,Printer:()=>b,parse:()=>D,print:()=>P});const n=\"\\n\",r=\"\".concat(\"\\r\").concat(n),o=\" \";let s;function a(e){return e>=\"0\"&&e<=\"9\"}function c(e){return e>=\"!\"&&e<=\"~\"}function d(e){return c(e)||e>=\"Â\"&&e<=\"Ã¿\"}function l(e){return\"!\"===e||e>=\"#\"&&e<=\"'\"||e>=\"*\"&&e<=\"+\"||e>=\"-\"&&e<=\".\"||e>=\"0\"&&e<=\"9\"||e>=\"A\"&&e<=\"Z\"||e>=\"^\"&&e<=\"~\"}function u(e){return e>=\"1\"&&e<=\"9\"}function h(e){return e>=\"A\"&&e<=\"Z\"||e>=\"a\"&&e<=\"z\"}function p(e){return\"d\"===e||\"h\"===e||\"m\"===e||\"s\"===e}function _(e){return e>\"\u0001\"&&e<\"\\t\"||e>\"\\v\"&&e<\"\\f\"||e>\"\u000e\"&&e<\"Ã¿\"}function E(e){return h(e)||a(e)||\"+\"===e||\"/\"===e}function m(e){return a(e)||h(e)||\"+\"===e||\"/\"===e||\"-\"===e||\"_\"===e}function f(e){return h(e)||a(e)||\"+\"===e||\"/\"===e}function T(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function S(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?T(Object(i),!0).forEach((function(t){g(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):T(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function g(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}!function(e){e.VERSION=\"v\",e.ORIGIN=\"o\",e.SESSION_NAME=\"s\",e.INFORMATION=\"i\",e.URI=\"u\",e.EMAIL=\"e\",e.PHONE=\"p\",e.CONNECTION=\"c\",e.BANDWIDTH=\"b\",e.TIME=\"t\",e.REPEAT=\"r\",e.ZONE_ADJUSTMENTS=\"z\",e.KEY=\"k\",e.ATTRIBUTE=\"a\",e.MEDIA=\"m\"}(s||(s={}));class R{consumeText(e,t){let i=t;for(;i<e.length;){const t=e[i];if(\"\\0\"===t||\"\\r\"===t||t===n)break;i+=1}if(i-t==0)throw new Error(\"Invalid text, at \".concat(e));return i}consumeUnicastAddress(e,t,i){return this.consumeTill(e,t,o)}consumeOneOrMore(e,t,i){let n=t;for(;i(e[n]);)n++;if(n-t==0)throw new Error(\"Invalid rule at \".concat(t,\".\"));return n}consumeSpace(e,t){if(e[t]===o)return t+1;throw new Error(\"Invalid space at \".concat(t,\".\"))}consumeIP4Address(e,t){let i=t;for(let t=0;t<4;t++)if(i=this.consumeDecimalUChar(e,i),3!==t){if(\".\"!==e[i])throw new Error(\"Invalid IP4 address.\");i++}return i}consumeDecimalUChar(e,t){let i=t;for(let t=0;t<3&&a(e[i]);t++,i++);if(i-t==0)throw new Error(\"Invalid decimal uchar.\");const n=parseInt(e.slice(t,i));if(n>=0&&n<=255)return i;throw new Error(\"Invalid decimal uchar\")}consumeIP6Address(e,t){let i=this.consumeHexpart(e,t);return\":\"===e[i]?(i+=1,i=this.consumeIP4Address(e,i),i):i}consumeHexpart(e,t){let i=t;if(\":\"===e[i]&&\":\"===e[i+1]){i+=2;try{i=this.consumeHexseq(e,i)}catch(e){}return i}if(i=this.consumeHexseq(e,i),\":\"===e[i]&&\":\"===e[i+1]){i+=2;try{i=this.consumeHexseq(e,i)}catch(e){}return i}return i}consumeHexseq(e,t){let i=t;for(;i=this.consumeHex4(e,i),\":\"===e[i]&&\":\"!==e[i+1];)i+=1;return i}consumeHex4(e,t){let i=0;for(;i<4;i++)if(!((n=e[t+i])>=\"0\"&&n<=\"9\"||n>=\"a\"&&n<=\"f\"||n>=\"A\"&&n<=\"F\")){if(0===i)throw new Error(\"Invalid hex 4\");break}var n;return t+i}consumeFQDN(e,t){let i=t;for(;a(e[i])||h(e[i])||\"-\"===e[i]||\".\"===e[i];)i+=1;if(i-t<4)throw new Error(\"Invalid FQDN\");return i}consumeExtnAddr(e,t){return this.consumeOneOrMore(e,t,d)}consumeMulticastAddress(e,t,i){switch(i){case\"IP4\":case\"ip4\":return this.consumeIP4MulticastAddress(e,t);case\"IP6\":case\"ip6\":return this.consumeIP6MulticastAddress(e,t);default:try{return this.consumeFQDN(e,t)}catch(i){return this.consumeExtnAddr(e,t)}}}consumeIP6MulticastAddress(e,t){const i=this.consumeHexpart(e,t);return\"/\"===e[i]?this.consumeInteger(e,i+1):i}consumeIP4MulticastAddress(e,t){let i=t+3;const n=e.slice(t,i),r=parseInt(n);if(r<224||r>239)throw new Error(\"Invalid IP4 multicast address, IPv4 multicast addresses may be in the range 224.0.0.0 to 239.255.255.255.\");for(let t=0;t<3;t++){if(\".\"!==e[i])throw new Error(\"Invalid IP4 multicast address.\");i+=1,i=this.consumeDecimalUChar(e,i)}return\"/\"===e[i]&&(i+=1),i=this.consumeTTL(e,i),\"/\"===e[i]&&(i=this.consumeInteger(e,i)),i}consumeInteger(e,t){if(!u(e[t]))throw new Error(\"Invalid integer.\");for(t+=1;a(e[t]);)t+=1;return t}consumeTTL(e,t){if(\"0\"===e[t])return t+1;if(!u(e[t]))throw new Error(\"Invalid TTL.\");t+=1;for(let i=0;i<2&&a(e[t]);i++)t+=1;return t}consumeToken(e,t){return this.consumeOneOrMore(e,t,l)}consumeTime(e,t){let i=t;if(\"0\"===e[i])return i+1;for(u(e[i])&&(i+=1);a(e[i]);)i++;if(i-t<10)throw new Error(\"Invalid time\");return i}consumeAddress(e,t){return this.consumeTill(e,t,o)}consumeTypedTime(e,t){let i=t;return i=this.consumeOneOrMore(e,i,a),p(e[i])?i+1:i}consumeRepeatInterval(e,t){if(!u(e[t]))throw new Error(\"Invalid repeat interval\");for(t+=1;a(e[t]);)t+=1;return p(e[t])&&(t+=1),t}consumePort(e,t){return this.consumeOneOrMore(e,t,a)}consume(e,t,i){for(let n=0;n<i.length;n++){if(t+n>=e.length)throw new Error(\"consume exceeding value length\");if(e[t+n]!==i[n])throw new Error(\"consume \".concat(i,\" failed at \").concat(n))}return t+i.length}consumeTill(e,t,i){let n=t;for(;n<e.length&&(\"string\"!=typeof i||e[n]!==i)&&(\"function\"!=typeof i||!i(e[n]));)n++;return n}}class C extends R{constructor(){super(),g(this,\"records\",[]),g(this,\"currentLine\",0)}parse(e){const t=this.probeEOL(e);this.records=e.split(t).filter((e=>!!jp(e).call(e))).map(this.parseLine),this.currentLine=0;const i=this.parseVersion(),n=this.parseOrigin(),r=this.parseSessionName(),o=this.parseInformation(),s=this.parseUri(),a=this.parseEmail(),c=this.parsePhone(),d=this.parseConnection(),l=this.parseBandWidth(),u=this.parseTimeFields(),h=this.parseKey(),p=this.parseSessionAttribute(),_=this.parseMediaDescription();if(this.currentLine!==this.records.length)throw new Error(\"parsing failed, non exhaustive sdp lines.\");return{version:i,origin:n,sessionName:r,information:o,uri:s,emails:a,phones:c,connection:d,bandwidths:l,timeFields:u,key:h,attributes:p,mediaDescriptions:_}}getCurrentRecord(){const e=this.records[this.currentLine];if(!e)throw new Error(\"Record doesn't exit.\");return e}probeEOL(e){for(let t=0;t<e.length;t++)if(e[t]===n)return\"\\r\"===e[t-1]?r:n;throw new Error(\"Invalid newline character.\")}parseLine(e,t){if(e.length<2)throw new Error(\"Invalid sdp line, sdp line should be of form <type>=<value>.\");const i=e[0];if(\"=\"!==e[1])throw new Error('Invalid sdp line, <type> should be a single character followed by an \"=\" sign.');return{type:i,value:e.slice(2),line:t,cur:0}}parseSessionAttribute(){const e=new v;for(;this.currentLine<this.records.length;){const t=this.getCurrentRecord();if(t.type!==s.ATTRIBUTE)break;const i={attField:this.extractOneOrMore(t,(e=>l(e)&&\":\"!==e)),_cur:0};\":\"===t.value[t.cur]&&(t.cur+=1,i.attValue=this.extractOneOrMore(t,_)),e.parse(i),this.currentLine++}return e.digest()}parseMediaAttributes(e){const t=new y(e);for(;this.currentLine<this.records.length;){const e=this.getCurrentRecord();if(e.type!==s.ATTRIBUTE)break;const i={attField:this.extractOneOrMore(e,(e=>l(e)&&\":\"!==e)),_cur:0};\":\"===e.value[e.cur]&&(e.cur+=1,i.attValue=this.extractOneOrMore(e,_)),t.parse(i),this.currentLine++}return t.digest()}parseKey(){const e=this.getCurrentRecord();if(e.type===s.KEY){if(\"prompt\"===e.value||\"clear:\"===e.value||\"base64:\"===e.value||\"uri:\"===e.value)return e.value;throw this.currentLine++,new Error(\"Invalid key.\")}}parseZone(){const e=this.getCurrentRecord();if(e.type===s.ZONE_ADJUSTMENTS){const t=[];for(;;)try{const i=this.extract(e,this.consumeTime);this.consumeSpaceForRecord(e);let n=!1;\"-\"===e.value[e.cur]&&(n=!0,e.cur+=1);const r=this.extract(e,this.consumeTypedTime);t.push({time:i,typedTime:r,back:n})}catch(e){break}if(0===t.length)throw new Error(\"Invalid zone adjustments\");return this.currentLine++,t}return[]}parseRepeat(){const e=[];for(;;){const t=this.getCurrentRecord();if(t.type!==s.REPEAT)break;{const i=this.extract(t,this.consumeRepeatInterval),n=this.parseTypedTime(t);e.push({repeatInterval:i,typedTimes:n}),this.currentLine++}}return e}parseTypedTime(e){const t=[];for(;;)try{this.consumeSpaceForRecord(e),t.push(this.extract(e,this.consumeTypedTime))}catch(e){break}if(0===t.length)throw new Error(\"Invalid typed time.\");return t}parseTime(){const e=this.getCurrentRecord(),t=this.extract(e,this.consumeTime);this.consumeSpaceForRecord(e);const i=this.extract(e,this.consumeTime);return this.currentLine++,{startTime:t,stopTime:i}}parseBandWidth(){const e=[];for(;this.currentLine<this.records.length;){const t=this.getCurrentRecord();if(t.type!==s.BANDWIDTH)break;{const i=this.extractOneOrMore(t,l);if(\":\"!==t.value[t.cur])throw new Error(\"Invalid bandwidth field.\");t.cur++;const n=this.extractOneOrMore(t,a);e.push({bwtype:i,bandwidth:n}),this.currentLine++}}return e}parseVersion(){const e=this.getCurrentRecord();if(e.type!==s.VERSION)throw new Error(\"first sdp record must be version\");const t=e.value.slice(0,this.consumeOneOrMore(e.value,0,a));if(t.length!==e.value.length)throw new Error('invalid proto version, \"v='.concat(e.value,'\"'));return this.currentLine++,t}parseOrigin(){const e=this.getCurrentRecord();if(e.type!==s.ORIGIN)throw new Error(\"second line of sdp must be origin\");const t=this.extractOneOrMore(e,d);this.consumeSpaceForRecord(e);const i=this.extractOneOrMore(e,a);this.consumeSpaceForRecord(e);const n=this.extractOneOrMore(e,a);this.consumeSpaceForRecord(e);const r=this.extractOneOrMore(e,l);this.consumeSpaceForRecord(e);const o=this.extractOneOrMore(e,l);this.consumeSpaceForRecord(e);const c=this.extract(e,this.consumeUnicastAddress);return this.currentLine++,{username:t,sessId:i,sessVersion:n,nettype:r,addrtype:o,unicastAddress:c}}parseSessionName(){const e=this.getCurrentRecord();if(e.type===s.SESSION_NAME){const t=this.extract(e,this.consumeText);return this.currentLine++,t}}parseInformation(){const e=this.getCurrentRecord();if(e.type!==s.INFORMATION)return;const t=this.extract(e,this.consumeText);return this.currentLine++,t}parseUri(){const e=this.getCurrentRecord();if(e.type===s.URI)return this.currentLine++,e.value}parseEmail(){const e=[];for(;;){const t=this.getCurrentRecord();if(t.type!==s.EMAIL)break;e.push(t.value),this.currentLine++}return e}parsePhone(){const e=[];for(;;){const t=this.getCurrentRecord();if(t.type!==s.PHONE)break;e.push(t.value),this.currentLine++}return e}parseConnection(){const e=this.getCurrentRecord();if(e.type===s.CONNECTION){const t=this.extractOneOrMore(e,l);this.consumeSpaceForRecord(e);const i=this.extractOneOrMore(e,l);this.consumeSpaceForRecord(e);const n=this.extract(e,this.consumeAddress);return this.currentLine++,{nettype:t,addrtype:i,address:n}}}parseMedia(){const e=this.getCurrentRecord(),t=this.extract(e,this.consumeToken);this.consumeSpaceForRecord(e);let i=this.extract(e,this.consumePort);\"/\"===e.value[e.cur]&&(e.cur+=1,i+=this.extract(e,this.consumeInteger)),this.consumeSpaceForRecord(e);const n=[];for(n.push(this.extract(e,this.consumeToken));\"/\"===e.value[e.cur];)e.cur+=1,n.push(this.extract(e,this.consumeToken));if(0===n.length)throw new Error(\"Invalid proto\");const r=this.parseFmt(e);return this.currentLine++,{mediaType:t,port:i,protos:n,fmts:r}}parseTimeFields(){const e=[];for(;this.getCurrentRecord().type===s.TIME;){const t=this.parseTime(),i=this.parseRepeat(),n=this.parseZone();e.push({time:t,repeats:i,zones:n})}return e}parseMediaDescription(){const e=[];for(;this.currentLine<this.records.length&&this.getCurrentRecord().type===s.MEDIA;){const t=this.parseMedia(),i=this.parseInformation(),n=this.parseConnections(),r=this.parseBandWidth(),o=this.parseKey(),s=this.parseMediaAttributes(t);e.push({media:t,information:i,connections:n,bandwidths:r,key:o,attributes:s})}return e}parseConnections(){const e=[];for(;this.currentLine<this.records.length&&this.getCurrentRecord().type===s.CONNECTION;)e.push(this.parseConnection());return e}parseFmt(e){const t=[];for(;;)try{this.consumeSpaceForRecord(e),t.push(this.extract(e,this.consumeToken))}catch(e){break}if(0===t.length)throw new Error(\"Invalid fmts\");return t}extract(e,t){for(var i=arguments.length,n=new Array(i>2?i-2:0),r=2;r<i;r++)n[r-2]=arguments[r];const o=t.call(this,e.value,e.cur,...n),s=e.value.slice(e.cur,o);return e.cur=o,s}extractOneOrMore(e,t){const i=this.consumeOneOrMore(e.value,e.cur,t),n=e.value.slice(e.cur,i);return e.cur=i,n}consumeSpaceForRecord(e){if(e.value[e.cur]!==o)throw new Error(\"Invalid space at \".concat(e.cur,\".\"));e.cur+=1}}class I extends R{constructor(){super(...arguments),g(this,\"attributes\",void 0),g(this,\"digested\",!1)}extractOneOrMore(e,t,i){const n=this.consumeOneOrMore(e.attValue,e._cur,t),r=e.attValue.slice(e._cur,n),[o,s]=i||[];if(\"number\"==typeof o&&r.length<o)throw new Error(\"error in length, should be more or equal than \".concat(o,\" characters.\"));if(\"number\"==typeof s&&r.length>s)throw new Error(\"error in length, should be less or equal than \".concat(s,\" characters.\"));return e._cur=n,r}consumeAttributeSpace(e){if(e.attValue[e._cur]!==o)throw new Error(\"Invalid space at \".concat(e._cur,\".\"));e._cur+=1}extract(e,t){if(!e.attValue)throw new Error(\"Nothing to extract from attValue.\");for(var i=arguments.length,n=new Array(i>2?i-2:0),r=2;r<i;r++)n[r-2]=arguments[r];const o=t.call(this,e.attValue,e._cur,...n),s=e.attValue.slice(e._cur,o);return e._cur=o,s}atEnd(e){if(!e.attValue)throw new Error;return e._cur>=e.attValue.length}peekChar(e){if(!e.attValue)throw new Error;return e.attValue[e._cur]}peek(e,t){if(!e.attValue)throw new Error;for(let i=0;i<t.length;i++)if(t[i]!==e.attValue[e._cur+i])return!1;return!0}parseIceUfrag(e){if(this.attributes.iceUfrag)throw new Error(\"Invalid ice-ufrag, should be only a single line if 'a=ice-ufrag'\");this.attributes.iceUfrag=this.extractOneOrMore(e,E,[4,256])}parseIcePwd(e){if(this.attributes.icePwd)throw new Error(\"Invalid ice-pwd, should be only a single line if 'a=ice-pwd'\");this.attributes.icePwd=this.extractOneOrMore(e,E,[22,256])}parseIceOptions(e){if(this.attributes.iceOptions)throw new Error(\"Invalid ice-options, should be only one 'ice-options' line\");const t=[];for(;!this.atEnd(e);){t.push(this.extractOneOrMore(e,E));try{this.consumeAttributeSpace(e)}catch(t){if(this.atEnd(e))break;throw t}}this.attributes.iceOptions=t}parseFingerprint(e){const t=this.extract(e,this.consumeToken);this.consumeAttributeSpace(e);const i=this.extract(e,this.consumeTill);this.attributes.fingerprints.push({hashFunction:t,fingerprint:i})}parseExtmap(e){const t=this.extractOneOrMore(e,a);let i;\"/\"===this.peekChar(e)&&(this.extract(e,this.consume,\"/\"),i=this.extract(e,this.consumeToken)),this.consumeAttributeSpace(e);const n=this.extract(e,this.consumeTill,o),r=S(S({entry:parseInt(t,10)},i&&{direction:i}),{},{extensionName:n});this.peekChar(e)===o&&(this.consumeAttributeSpace(e),r.extensionAttributes=this.extract(e,this.consumeTill)),this.attributes.extmaps.push(r)}parseSetup(e){if(this.attributes.setup)throw new Error(\"must only be one single 'a=setup' line.\");const t=this.extract(e,this.consumeTill);if(\"active\"!==t&&\"passive\"!==t&&\"actpass\"!==t&&\"holdconn\"!==t)throw new Error(\"role must be one of 'active', 'passive', 'actpass', 'holdconn'.\");this.attributes.setup=t}}class v extends I{constructor(){super(...arguments),g(this,\"attributes\",{unrecognized:[],groups:[],extmaps:[],fingerprints:[],identities:[]})}parse(e){if(this.digested)throw new Error(\"already digested\");try{switch(e.attField){case\"group\":this.parseGroup(e);break;case\"ice-lite\":this.parseIceLite();break;case\"ice-ufrag\":this.parseIceUfrag(e);break;case\"ice-pwd\":this.parseIcePwd(e);break;case\"ice-options\":this.parseIceOptions(e);break;case\"fingerprint\":this.parseFingerprint(e);break;case\"setup\":this.parseSetup(e);break;case\"tls-id\":this.parseTlsId(e);break;case\"identity\":this.parseIdentity(e);break;case\"extmap\":this.parseExtmap(e);break;case\"msid-semantic\":this.parseMsidSemantic(e);break;default:e.ignored=!0,this.attributes.unrecognized.push(e)}}catch(t){throw console.error(\"parsing session attribute \".concat(e.attField,' error, \"a=').concat(e.attField,\":\").concat(e.attValue,'\"')),t}if(!e.ignored&&e.attValue&&!this.atEnd(e))throw new Error(\"attribute parsing error\")}digest(){return this.digested=!0,this.attributes}parseGroup(e){const t=this.extract(e,this.consumeToken),i=[];for(;!this.atEnd(e)&&this.peekChar(e)===o;)this.consumeAttributeSpace(e),i.push(this.extract(e,this.consumeToken));this.attributes.groups.push({semantic:t,identificationTag:i})}parseIceLite(){if(this.attributes.iceLite)throw new Error(\"Invalid ice-lite, should be only a single line of 'a=ice-lite'\");this.attributes.iceLite=!0}parseTlsId(e){if(this.attributes.tlsId)throw new Error(\"must be only one tld-id line\");this.attributes.tlsId=this.extractOneOrMore(e,m)}parseIdentity(e){const t=this.extractOneOrMore(e,f),i=[];for(;!this.atEnd(e)&&this.peekChar(e)===o;){this.consumeAttributeSpace(e);const t=this.extract(e,this.consumeToken);this.extract(e,this.consume,\"=\");const n=this.extractOneOrMore(e,(e=>e!==o&&_(e)));i.push({name:t,value:n})}this.attributes.identities.push({assertionValue:t,extensions:i})}parseMsidSemantic(e){this.peekChar(e)===o&&this.consumeAttributeSpace(e);const t={semantic:this.extract(e,this.consumeToken),identifierList:[]};for(;;){try{this.consumeAttributeSpace(e)}catch(e){break}if(\"*\"===this.peekChar(e)){this.extract(e,this.consume,\"*\"),t.applyForAll=!0;break}{const i=this.extract(e,this.consumeTill,o);t.identifierList.push(i)}}this.attributes.msidSemantic=t}}class y extends I{constructor(e){super(),g(this,\"attributes\",void 0),-1!==e.protos.indexOf(\"RTP\")||e.protos.indexOf(\"rtp\"),this.attributes={unrecognized:[],candidates:[],extmaps:[],fingerprints:[],imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:[],ssrcGroups:[],rtcpFeedbackWildcards:[],payloads:[]}}parse(e){if(this.digested)throw new Error(\"already digested\");try{switch(e.attField){case\"extmap\":this.parseExtmap(e);break;case\"setup\":this.parseSetup(e);break;case\"ice-ufrag\":this.parseIceUfrag(e);break;case\"ice-pwd\":this.parseIcePwd(e);break;case\"ice-options\":this.parseIceOptions(e);break;case\"candidate\":this.parseCandidate(e);break;case\"remote-candidate\":this.parseRemoteCandidate(e);break;case\"end-of-candidates\":this.parseEndOfCandidates();break;case\"fingerprint\":this.parseFingerprint(e);break;case\"rtpmap\":this.parseRtpmap(e);break;case\"ptime\":this.parsePtime(e);break;case\"maxptime\":this.parseMaxPtime(e);break;case\"sendrecv\":case\"recvonly\":case\"sendonly\":case\"inactive\":this.parseDirection(e);break;case\"ssrc\":this.parseSSRC(e);break;case\"fmtp\":this.parseFmtp(e);break;case\"rtcp-fb\":this.parseRtcpFb(e);break;case\"rtcp-mux\":this.parseRTCPMux();break;case\"rtcp-mux-only\":this.parseRTCPMuxOnly();break;case\"rtcp-rsize\":this.parseRTCPRsize();break;case\"rtcp\":this.parseRTCP(e);break;case\"mid\":this.parseMid(e);break;case\"msid\":this.parseMsid(e);break;case\"imageattr\":this.parseImageAttr(e);break;case\"rid\":this.parseRid(e);break;case\"simulcast\":this.parseSimulcast(e);break;case\"sctp-port\":this.parseSctpPort(e);break;case\"max-message-size\":this.parseMaxMessageSize(e);break;case\"ssrc-group\":this.parseSSRCGroup(e);break;default:e.ignored=!0,this.attributes.unrecognized.push(e)}}catch(t){throw console.error(\"parsing media attribute \".concat(e.attField,' error, \"a=').concat(e.attField,\":\").concat(e.attValue,'\"')),t}if(!e.ignored&&e.attValue&&!this.atEnd(e))throw new Error(\"attribute parsing error\")}parseCandidate(e){const t=this.extractOneOrMore(e,E,[1,32]);this.consumeAttributeSpace(e);const i=this.extractOneOrMore(e,a,[1,5]);this.consumeAttributeSpace(e);const n=this.extract(e,this.consumeToken);this.consumeAttributeSpace(e);const r=this.extractOneOrMore(e,a,[1,10]);this.consumeAttributeSpace(e);const s=this.extract(e,this.consumeAddress);this.consumeAttributeSpace(e);const d=this.extract(e,this.consumePort);this.consumeAttributeSpace(e),this.extract(e,this.consume,\"typ\"),this.consumeAttributeSpace(e);const l={foundation:t,componentId:i,transport:n,priority:r,connectionAddress:s,port:d,type:this.extract(e,this.consumeToken),extension:{}};for(this.peek(e,\" raddr\")&&(this.extract(e,this.consume,\" raddr\"),this.consumeAttributeSpace(e),l.relAddr=this.extract(e,this.consumeAddress)),this.peek(e,\" rport\")&&(this.extract(e,this.consume,\" rport\"),this.consumeAttributeSpace(e),l.relPort=this.extract(e,this.consumePort));this.peekChar(e)===o;){this.consumeAttributeSpace(e);const t=this.extract(e,this.consumeToken);this.consumeAttributeSpace(e),l.extension[t]=this.extractOneOrMore(e,c)}this.attributes.candidates.push(l)}parseRemoteCandidate(e){const t=[];for(;;){const i=this.extractOneOrMore(e,a,[1,5]);this.consumeAttributeSpace(e);const n=this.extract(e,this.consumeAddress);this.consumeAttributeSpace(e);const r=this.extract(e,this.consumePort);t.push({componentId:i,connectionAddress:n,port:r});try{this.consumeAttributeSpace(e)}catch(e){break}}this.attributes.remoteCandidatesList.push(t)}parseEndOfCandidates(){if(this.attributes.endOfCandidates)throw new Error(\"must be only one line of end-of-candidates\");this.attributes.endOfCandidates=!0}parseRtpmap(e){const t=this.extract(e,this.consumeToken);this.consumeAttributeSpace(e);const i=this.extract(e,this.consumeTill,\"/\");this.extract(e,this.consume,\"/\");const n={encodingName:i,clockRate:this.extractOneOrMore(e,a)};this.atEnd(e)||\"/\"!==this.peekChar(e)||(this.extract(e,this.consume,\"/\"),n.encodingParameters=parseInt(this.extract(e,this.consumeTill),10));const r=this.attributes.payloads.find((e=>e.payloadType===parseInt(t,10)));r?r.rtpMap=n:this.attributes.payloads.push({payloadType:parseInt(t,10),rtpMap:n,rtcpFeedbacks:[]})}parsePtime(e){if(this.attributes.ptime)throw new Error(\"must be only one line of ptime\");this.attributes.ptime=this.extract(e,this.consumeTill)}parseMaxPtime(e){if(this.attributes.maxPtime)throw new Error(\"must be only one line of ptime\");this.attributes.maxPtime=this.extract(e,this.consumeTill)}parseDirection(e){if(this.attributes.direction)throw new Error(\"must be only one line of direction info\");this.attributes.direction=e.attField}parseSSRC(e){const t=this.extractOneOrMore(e,a);this.consumeAttributeSpace(e);const i=this.extract(e,this.consumeTill,\":\");let n;\":\"===this.peekChar(e)&&(this.extract(e,this.consume,\":\"),n=this.extract(e,this.consumeTill));const r=this.attributes.ssrcs.find((e=>e.ssrcId===parseInt(t,10)));r?r.attributes[i]=n:this.attributes.ssrcs.push({ssrcId:parseInt(t,10),attributes:{[i]:n}})}parseFmtp(e){const t=this.extract(e,this.consumeTill,o);this.consumeAttributeSpace(e);const i=this.extract(e,this.consumeTill),n={};i.split(\";\").forEach((e=>{let[t,i]=e.split(\"=\");t=jp(t).call(t);const r=\"string\"==typeof i?jp(i).call(i):null;\"string\"==typeof t&&t.length>0&&(n[t]=r)}));const r=this.attributes.payloads.find((e=>e.payloadType===parseInt(t,10)));r?r.fmtp={parameters:n}:this.attributes.payloads.push({payloadType:parseInt(t,10),rtcpFeedbacks:[],fmtp:{parameters:n}})}parseFmtParameters(e){const t={},i=this.extract(e,this.consumeTill,\"=\");e._cur++;const n=this.extract(e,this.consumeTill,\";\");for(t[i]=n;\";\"===e.attValue[e._cur];){const i=this.extract(e,this.consumeTill,\"=\");e._cur++;const n=this.extract(e,this.consumeTill,\";\");t[i]=n}return t}parseRtcpFb(e){let t=\"\";t=\"*\"===this.peekChar(e)?this.extract(e,this.consume,\"*\"):this.extract(e,this.consumeTill,o),this.consumeAttributeSpace(e);const i=this.extract(e,this.consumeTill,o);let n;if(\"trr-int\"===i)n={type:i,interval:this.extract(e,this.consumeTill)};else{const t={type:i};this.peekChar(e)===o&&(this.consumeAttributeSpace(e),t.parameter=this.extract(e,this.consumeToken),this.peekChar(e)===o&&(t.additional=this.extract(e,this.consumeTill))),n=t}if(\"*\"===t)this.attributes.rtcpFeedbackWildcards.push(n);else{const e=this.attributes.payloads.find((e=>e.payloadType===parseInt(t,10)));e?e.rtcpFeedbacks.push(n):this.attributes.payloads.push({payloadType:parseInt(t,10),rtcpFeedbacks:[n]})}}parseRTCPMux(){if(this.attributes.rtcpMux)throw new Error(\"must be single line of rtcp-mux\");this.attributes.rtcpMux=!0}parseRTCPMuxOnly(){if(this.attributes.rtcpMuxOnly)throw new Error(\"must be single line of rtcp-only\");this.attributes.rtcpMuxOnly=!0}parseRTCPRsize(){if(this.attributes.rtcpRsize)throw new Error(\"must be single line of rtcp-rsize\");this.attributes.rtcpRsize=!0}parseRTCP(e){if(this.attributes.rtcp)throw new Error(\"must be single line of rtcp\");const t={port:this.extract(e,this.consumePort)};this.peekChar(e)===o&&(this.consumeAttributeSpace(e),t.netType=this.extractOneOrMore(e,l),this.consumeAttributeSpace(e),t.addressType=this.extractOneOrMore(e,l),this.consumeAttributeSpace(e),t.address=this.extract(e,this.consumeAddress)),this.attributes.rtcp=t}parseMsid(e){const t={id:this.extractOneOrMore(e,l,[1,64])};this.peekChar(e)===o&&(this.consumeAttributeSpace(e),t.appdata=this.extractOneOrMore(e,l,[1,64])),this.attributes.msids.push(t)}parseImageAttr(e){this.attributes.imageattr.push(e.attValue)}parseRid(e){const t=this.extractOneOrMore(e,(e=>h(e)||a(e)||\"_\"===e||\"-\"===e));this.consumeAttributeSpace(e);const i={id:t,direction:this.extract(e,this.consumeToken),params:[]};if(this.peekChar(e)===o){if(this.consumeAttributeSpace(e),this.peek(e,\"pt=\")){this.extract(e,this.consume,\"pt=\");const t=[];for(;;){const i=this.extract(e,this.consumeToken);t.push(i);try{this.extract(e,this.consume,\",\")}catch(e){break}}i.payloads=t,this.peekChar(e)===o&&this.extract(e,this.consume,o)}for(;;){const t=this.extract(e,this.consumeToken);switch(t){case\"depend\":{const n={type:t,rids:this.extract(e,this.consume,\"=\").split(\",\")};i.params.push(n);break}default:{const n={type:t};\"=\"===this.peekChar(e)&&(this.extract(e,this.consume,\"=\"),n.val=this.extract(e,this.consumeTill,\";\")),i.params.push(n)}}try{this.extract(e,this.consume,\";\")}catch(e){break}}}this.attributes.rids.push(i)}parseSimulcast(e){if(this.attributes.simulcast)throw new Error(\"must be single line of simulcast\");this.attributes.simulcast=e.attValue,this.extract(e,this.consumeTill)}parseSctpPort(e){this.attributes.sctpPort=this.extractOneOrMore(e,a,[1,5])}parseMaxMessageSize(e){this.attributes.maxMessageSize=this.extractOneOrMore(e,a,[1,void 0])}digest(){return this.digested=!0,this.attributes}parseMid(e){this.attributes.mid=this.extract(e,this.consumeToken)}parseSSRCGroup(e){const t=this.extract(e,this.consumeToken),i=[];for(;;)try{this.consumeAttributeSpace(e);const t=this.extract(e,this.consumeInteger);i.push(parseInt(t,10))}catch(e){break}this.attributes.ssrcGroups.push({semantic:t,ssrcIds:i})}}function A(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class b{constructor(){A(this,\"eol\",r)}print(e,t){let i=\"\";return t&&(this.eol=t),i+=this.printVersion(e.version),i+=this.printOrigin(e.origin),i+=this.printSessionName(e.sessionName),i+=this.printInformation(e.information),i+=this.printUri(e.uri),i+=this.printEmail(e.emails),i+=this.printPhone(e.phones),i+=this.printConnection(e.connection),i+=this.printBandwidth(e.bandwidths),i+=this.printTimeFields(e.timeFields),i+=this.printKey(e.key),i+=this.printSessionAttributes(e.attributes),i+=this.printMediaDescription(e.mediaDescriptions),i}printVersion(e){return\"v=\".concat(e).concat(this.eol)}printOrigin(e){return\"o=\".concat(e.username,\" \").concat(e.sessId,\" \").concat(e.sessVersion,\" \").concat(e.nettype,\" \").concat(e.addrtype,\" \").concat(e.unicastAddress).concat(this.eol)}printSessionName(e){return e?\"s=\".concat(e).concat(this.eol):\"\"}printInformation(e){return e?\"i=\".concat(e).concat(this.eol):\"\"}printUri(e){return e?\"u=\".concat(e).concat(this.eol):\"\"}printEmail(e){let t=\"\";for(const i of e)t+=\"e=\".concat(i).concat(this.eol);return t}printPhone(e){let t=\"\";for(const i of e)t+=\"e=\".concat(i).concat(this.eol);return t}printConnection(e){return e?\"c=\".concat(e.nettype,\" \").concat(e.addrtype,\" \").concat(e.address).concat(this.eol):\"\"}printBandwidth(e){let t=\"\";for(const i of e)t+=\"b=\".concat(i.bwtype,\":\").concat(i.bandwidth).concat(this.eol);return t}printTimeFields(e){let t=\"\";for(const i of e){t+=\"t=\".concat(i.time.startTime,\" \").concat(i.time.startTime).concat(this.eol);for(const e of i.repeats)t+=\"r=\".concat(e.repeatInterval,\" \").concat(e.typedTimes.join(\" \")).concat(this.eol);i.zoneAdjustments&&(t+=\"z=\",t+=\"z=\".concat(i.zoneAdjustments.map((e=>\"\".concat(e.time,\" \").concat(e.back?\"-\":\"\",\" \").concat(e.typedTime))).join(\" \")).concat(this.eol),t+=this.eol)}return t}printKey(e){return e?\"k=\".concat(e).concat(this.eol):\"\"}printAttributes(e){let t=\"\";for(const i of e)t+=\"a=\".concat(i.attField).concat(i.attValue?\":\".concat(i.attValue):\"\").concat(this.eol);return t}printMediaDescription(e){let t=\"\";for(const i of e)t+=this.printMedia(i.media),t+=this.printInformation(i.information),t+=this.printConnections(i.connections),t+=this.printBandwidth(i.bandwidths),t+=this.printKey(i.key),t+=this.printMediaAttributes(i);return t}printConnections(e){let t=\"\";for(const i of e)t+=this.printConnection(i);return t}printMedia(e){return\"m=\".concat(e.mediaType,\" \").concat(e.port,\" \").concat(e.protos.join(\"/\"),\" \").concat(e.fmts.join(\" \")).concat(this.eol)}printSessionAttributes(e){return new O(this.eol).print(e)}printMediaAttributes(e){return new N(this.eol).print(e)}}class w{constructor(e){A(this,\"eol\",void 0),this.eol=e}printIceUfrag(e){return void 0===e?\"\":\"a=ice-ufrag:\".concat(e).concat(this.eol)}printIcePwd(e){return void 0===e?\"\":\"a=ice-pwd:\".concat(e).concat(this.eol)}printIceOptions(e){return void 0===e?\"\":\"a=ice-options:\".concat(e.join(o)).concat(this.eol)}printFingerprints(e){return e.length>0?e.map((e=>\"a=fingerprint:\".concat(e.hashFunction).concat(o).concat(e.fingerprint))).join(this.eol)+this.eol:\"\"}printExtmap(e){return e.map((e=>\"a=extmap:\".concat(e.entry).concat(e.direction?\"/\".concat(e.direction):\"\").concat(o).concat(e.extensionName).concat(e.extensionAttributes?\"\".concat(o).concat(e.extensionAttributes):\"\").concat(this.eol))).join(\"\")}printSetup(e){return void 0===e?\"\":\"a=setup:\".concat(e).concat(this.eol)}printUnrecognized(e){return e.map((e=>\"a=\".concat(e.attField).concat(e.attValue?\":\".concat(e.attValue):\"\").concat(this.eol))).join(\"\")}}class O extends w{print(e){let t=\"\";return t+=this.printGroups(e.groups),t+=this.printMsidSemantic(e.msidSemantic),t+=this.printIceLite(e.iceLite),t+=this.printIceUfrag(e.iceUfrag),t+=this.printIcePwd(e.icePwd),t+=this.printIceOptions(e.iceOptions),t+=this.printFingerprints(e.fingerprints),t+=this.printSetup(e.setup),t+=this.printTlsId(e.tlsId),t+=this.printIdentity(e.identities),t+=this.printExtmap(e.extmaps),t+=this.printUnrecognized(e.unrecognized),t}printGroups(e){let t=\"\";return e.length>0&&(t+=e.map((e=>\"a=group:\".concat(e.semantic).concat(e.identificationTag.map((e=>\"\".concat(o).concat(e))).join(\"\")).concat(this.eol))).join(\"\")),t}printIceLite(e){return void 0===e?\"\":\"a=ice-lite\"+this.eol}printTlsId(e){return e?\"a=tls-id:\".concat(e).concat(this.eol):\"\"}printIdentity(e){return 0===e.length?\"\":e.map((e=>\"a=identity:\".concat(e.assertionValue).concat(e.extensions.map((e=>\"\".concat(o).concat(e.name).concat(e.value?\"=\".concat(e.value):\"\")))))).join(this.eol)+this.eol}printMsidSemantic(e){if(!e)return\"\";let t=\"a=msid-semantic:\".concat(e.semantic);return e.applyForAll?t+=\"\".concat(o,\"*\"):e.identifierList.length>0&&(t+=e.identifierList.map((e=>\"\".concat(o).concat(e)))),t+this.eol}}class N extends w{print(e){const t=e.attributes;let i=\"\";return i+=this.printRTCP(t.rtcp),i+=this.printIceUfrag(t.iceUfrag),i+=this.printIcePwd(t.icePwd),i+=this.printIceOptions(t.iceOptions),i+=this.printCandidates(t.candidates),i+=this.printRemoteCandidatesList(t.remoteCandidatesList),i+=this.printEndOfCandidates(t.endOfCandidates),i+=this.printFingerprints(t.fingerprints),i+=this.printSetup(t.setup),i+=this.printMid(t.mid),i+=this.printExtmap(t.extmaps),i+=this.printRTPRelated(t),i+=this.printPtime(t.ptime),i+=this.printMaxPtime(t.maxPtime),i+=this.printDirection(t.direction),i+=this.printSSRCGroups(t.ssrcGroups),i+=this.printSSRC(t.ssrcs),i+=this.printRTCPMux(t.rtcpMux),i+=this.printRTCPMuxOnly(t.rtcpMuxOnly),i+=this.printRTCPRsize(t.rtcpRsize),i+=this.printMSId(t.msids),i+=this.printImageattr(t.imageattr),i+=this.printRid(t.rids),i+=this.printSimulcast(t.simulcast),i+=this.printSCTPPort(t.sctpPort),i+=this.printMaxMessageSize(t.maxMessageSize),i+=this.printUnrecognized(t.unrecognized),i}printCandidates(e){return e.map((e=>\"a=candidate:\".concat(e.foundation).concat(o).concat(e.componentId).concat(o).concat(e.transport).concat(o).concat(e.priority).concat(o).concat(e.connectionAddress).concat(o).concat(e.port).concat(o,\"typ\").concat(o).concat(e.type).concat(e.relAddr?\"\".concat(o,\"raddr\").concat(o).concat(e.relAddr):\"\").concat(e.relPort?\"\".concat(o,\"rport\").concat(o).concat(e.relPort):\"\").concat(Object.keys(e.extension).map((t=>\"\".concat(o).concat(t).concat(o).concat(e.extension[t]))).join(\"\")).concat(this.eol))).join(\"\")}printRemoteCandidatesList(e){return e.map((e=>\"a=remote-candidates:\".concat(e.join(o)).concat(this.eol))).join(\"\")}printEndOfCandidates(e){return void 0===e?\"\":\"a=end-of-candidates\"+this.eol}printRTPRelated(e){if(!e.payloads)return\"\";const t=e.payloads;let i=\"\";i+=e.rtcpFeedbackWildcards.map((e=>this.printRTCPFeedback(\"*\",e))).join(\"\");for(const e of t)i+=this.printRtpMap(e.payloadType,e.rtpMap),i+=this.printFmtp(e.payloadType,e.fmtp),i+=e.rtcpFeedbacks.map((t=>this.printRTCPFeedback(e.payloadType,t))).join(\"\");return i}printFmtp(e,t){if(!t)return\"\";const i=Object.keys(t.parameters);return 1===i.length&&null===t.parameters[i[0]]?\"a=fmtp:\".concat(e).concat(o).concat(i[0]).concat(this.eol):\"a=fmtp:\".concat(e).concat(o).concat(Object.keys(t.parameters).map((e=>\"\".concat(e,\"=\").concat(t.parameters[e]))).join(\";\")).concat(this.eol)}printRtpMap(e,t){return t?\"a=rtpmap:\".concat(e).concat(o).concat(t.encodingName,\"/\").concat(t.clockRate).concat(t.encodingParameters?\"/\".concat(t.encodingParameters):\"\").concat(this.eol):\"\"}printRTCPFeedback(e,t){let i=\"a=rtcp-fb:\".concat(e).concat(o),n=t;return\"trr-int\"===n.type?i+=\"ttr-int\".concat(o).concat(n.interval):(i+=\"\".concat(n.type),n.parameter&&(i+=\"\".concat(o).concat(n.parameter),n.additional&&(i+=\"\".concat(o).concat(n.additional)))),i+this.eol}printPtime(e){return void 0===e?\"\":\"a=ptime:\".concat(e).concat(this.eol)}printMaxPtime(e){return void 0===e?\"\":\"a=maxptime:\".concat(e).concat(this.eol)}printDirection(e){return void 0===e?\"\":\"a=\".concat(e).concat(this.eol)}printSSRC(e){return e.map((e=>Object.keys(e.attributes).map((t=>\"a=ssrc:\".concat(e.ssrcId.toString(10)).concat(o).concat(t).concat(e.attributes[t]?\":\".concat(e.attributes[t]):\"\").concat(this.eol))).join(\"\"))).join(\"\")}printRTCPMux(e){return void 0===e?\"\":\"a=rtcp-mux\".concat(this.eol)}printRTCPMuxOnly(e){return void 0===e?\"\":\"a=rtcp-mux-only\".concat(this.eol)}printRTCPRsize(e){return void 0===e?\"\":\"a=rtcp-rsize\".concat(this.eol)}printRTCP(e){if(void 0===e)return\"\";let t=\"a=rtcp:\".concat(e.port);return e.netType&&(t+=\"\".concat(o).concat(e.netType)),e.addressType&&(t+=\"\".concat(o).concat(e.addressType)),e.address&&(t+=\"\".concat(o).concat(e.address)),t+this.eol}printMSId(e){return e.map((e=>\"a=msid:\".concat(e.id).concat(e.appdata?\"\".concat(o).concat(e.appdata):\"\").concat(this.eol))).join(\"\")}printImageattr(e){return e.map((e=>\"a=imageattr:\".concat(e).concat(this.eol))).join(\"\")}printRid(e){return e.map((e=>{let t=\"a=rid:\".concat(e.id).concat(o).concat(e.direction);return e.payloads&&(t+=\"\".concat(o,\"pt=\").concat(e.payloads.join(\",\"))),e.params.length>0&&(t+=\"\".concat(o).concat(e.params.map((e=>\"depend\"===e.type?\"depend=\".concat(e.rids.join(\",\")):\"\".concat(e.type,\"=\").concat(e.val))).join(\";\"))),t+this.eol})).join(\"\")}printSimulcast(e){return void 0===e?\"\":\"a=simulcast:\".concat(e).concat(this.eol)}printSCTPPort(e){return void 0===e?\"\":\"a=sctp-port:\".concat(e).concat(this.eol)}printMaxMessageSize(e){return void 0===e?\"\":\"a=max-message-size:\".concat(e).concat(this.eol)}printMid(e){return void 0===e?\"\":\"a=mid:\".concat(e).concat(this.eol)}printSSRCGroups(e){return e.map((e=>\"a=ssrc-group:\".concat(e.semantic).concat(e.ssrcIds.map((e=>\"\".concat(o).concat(e.toString(10)))).join(\"\")).concat(this.eol))).join(\"\")}}function D(e){return(new C).parse(e)}function P(e,t){return(new b).print(e,t)}}},t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={exports:{}};return e[n](r,r.exports,i),r.exports}return i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},i(8)})();var CM=RM.exports;function IM(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Dy(\"SVC_MODE\");if(Dy(\"ENABLE_SVC\"))return function(e){return e in ob}(e)?e:ob.L1T3}function vM(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function yM(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?vM(Object(i),!0).forEach((function(t){og(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):vM(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function AM(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0;const{filterRTX:r,filterVideoFec:o,filterAudioFec:s,filterAudioCodec:a,filterVideoCodec:c}=t,{useXR:d}=i;let l=[],u=[],h=[],p=[],_=!1,E=!1;if(CM.parse(e).mediaDescriptions.forEach((e=>{n&&n!==e.attributes.direction||(\"video\"!==e.media.mediaType||_||(u=e.attributes.payloads,p=e.attributes.extmaps,_=!0),\"audio\"!==e.media.mediaType||E||(l=e.attributes.payloads,h=e.attributes.extmaps,E=!0))})),!p||0===u.length)throw new Error(\"Cannot get video capabilities from SDP.\");if(!h||0===l.length)throw new Error(\"Cannot get audio capabilities from SDP.\");if(u.forEach((e=>{var t;null!==(t=e.rtpMap)&&void 0!==t&&t.clockRate&&(e.rtpMap.clockRate=parseInt(e.rtpMap.clockRate)),d&&e.rtcpFeedbacks.push({type:\"rrtr\"})})),l.forEach((e=>{var t;null!==(t=e.rtpMap)&&void 0!==t&&t.clockRate&&(e.rtpMap.clockRate=parseInt(e.rtpMap.clockRate)),d&&e.rtcpFeedbacks.push({type:\"rrtr\"})})),r&&(l=l.filter((e=>{var t;return\"rtx\"!==(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())})),u=u.filter((e=>{var t;return\"rtx\"!==(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())}))),o&&(u=u.filter((e=>{var t;return!/(red)|(ulpfec)|(flexfec)/i.test((null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName)||\"\")}))),s&&(l=l.filter((e=>{var t;return!/(red)|(ulpfec)|(flexfec)/i.test((null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName)||\"\")}))),a&&(null==a?void 0:a.length)>0&&(l=l.filter((e=>{var t;return Dn(a).call(a,(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())||\"\")}))),c&&(null==c?void 0:c.length)>0){const e=u.filter((e=>{var t;return Dn(c).call(c,(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())||\"\")}));u=e.concat(r?[]:HM(e,u))}const m=Dy(\"UNSUPPORTED_VIDEO_CODEC\");return m&&m.length>0&&(u=u.filter((e=>!(e.rtpMap&&Dn(m).call(m,e.rtpMap.encodingName.toLowerCase()))))),{audioCodecs:l,videoCodecs:u,audioExtensions:h,videoExtensions:p}}function bM(e){const t=CM.parse(e);let i,n;for(const e of t.mediaDescriptions){if(!i){const t=e.attributes.iceUfrag,n=e.attributes.icePwd;if(!t||!n)throw new Error(\"Cannot get iceUfrag or icePwd from SDP.\");i={iceUfrag:t,icePwd:n}}if(!n){const t=e.attributes.fingerprints;t.length>0&&(n={fingerprints:t})}}if(!n&&t.attributes.fingerprints.length>0&&(n={fingerprints:t.attributes.fingerprints}),!n||!i)throw new Error(\"Cannot get iceParameters or dtlsParameters from SDP.\");return{iceParameters:i,dtlsParameters:n}}function wM(e,t){const i=[],n=e.attributes.ssrcGroups.filter((e=>\"FID\"===e.semantic)),r=e.attributes.ssrcGroups.find((e=>\"SIM\"===e.semantic)),o=e.attributes.ssrcs;if(r)r.ssrcIds.forEach((e=>{var r;const o=null===(r=n.find((t=>t.ssrcIds[0]===e)))||void 0===r?void 0:r.ssrcIds[1];i.push({ssrcId:e,rtx:t?o:void 0})}));else if(n.length>0){const e=n[0].ssrcIds[0],r=n[0].ssrcIds[1];i.push({ssrcId:e,rtx:t?r:void 0})}else{if(0===o.length)throw new Error(\"No ssrcs found on local media description.\");i.push({ssrcId:o[0].ssrcId})}return i}function OM(e,t,i){const{cname:n}=e;let r;t?r=NM(t):(r=e.iceParameters.candidates.map((e=>({foundation:e.foundation,componentId:\"1\",transport:e.protocol,priority:e.priority.toString(),connectionAddress:e.ip,port:e.port.toString(),type:e.type,extension:{}}))),Qy.debug(\"Using candidates from gateway.\"));const o={fingerprints:e.dtlsParameters.fingerprints.map((e=>({hashFunction:e.algorithm,fingerprint:e.fingerprint})))},s={iceUfrag:e.iceParameters.iceUfrag,icePwd:e.iceParameters.icePwd};let a;switch(e.dtlsParameters.role){case\"server\":a=\"passive\";break;case\"client\":a=\"active\";break;case\"auto\":a=\"actpass\"}const c=jM(e.rtpCapabilities),d=[];return Array.isArray(i)&&i.length>0&&i.forEach((e=>{d.push({kind:Yb.VIDEO,ssrcId:e.v,rtx:e.v_rtx,mslabel:\"\".concat(e.v,\"_\").concat(e.a)},{kind:Yb.AUDIO,ssrcId:e.a,mslabel:\"\".concat(e.v,\"_\").concat(e.a)})})),{dtlsParameters:o,iceParameters:s,candidates:r,rtpCapabilities:c,setup:a,cname:n,preSSRCs:d}}function NM(e){let t=[];return e.ip&&\"number\"==typeof e.port&&(t=[{foundation:\"udpcandidate\",componentId:\"1\",transport:\"udp\",priority:\"2103266323\",connectionAddress:e.ip,port:e.port.toString(),type:\"host\",extension:{}}],Qy.debug(\"Using remote candidate from AP \".concat(e.ip,\":\").concat(e.port)),e.ip6&&(t.push({foundation:\"udpcandidate\",componentId:\"1\",transport:\"udp\",priority:\"2103266323\",connectionAddress:e.ip6,port:e.port.toString(),type:\"host\",extension:{}}),Qy.debug(\"Using IPV6 remote candidate from AP \".concat(e.ip6,\":\").concat(e.port)))),t}function DM(e,t,i){const n=[],r=[];return e.forEach((e=>{let{ssrcId:o,rtx:s}=e;const a=ey(8,\"track-\"),c={ssrcId:o,attributes:yM({label:a,mslabel:i=i||ey(10,\"\"),msid:\"\".concat(i,\" \").concat(a)},t&&{cname:t})};if(n.push(c),void 0!==s){const e={ssrcId:s,attributes:yM({label:a,mslabel:i,msid:\"\".concat(i,\" \").concat(a)},t&&{cname:t})};n.push(e),r.push({semantic:\"FID\",ssrcIds:[o,s]})}})),e.length>1&&r.push({semantic:\"SIM\",ssrcIds:e.map((e=>{let{ssrcId:t}=e;return t}))}),{ssrcs:n,ssrcGroups:r}}function PM(e,t){t instanceof tk&&e.attributes.payloads.forEach((e=>{var i;const n=null===(i=e.rtpMap)||void 0===i?void 0:i.encodingName.toLowerCase();if(!n||-1===[\"opus\",\"pcmu\",\"pcma\",\"g722\"].indexOf(n))return;e.fmtp||(e.fmtp={parameters:{}}),e.fmtp.parameters.minptime=\"10\",e.fmtp.parameters.useinbandfec=\"1\";const r=t._encoderConfig;r&&\"pcmu\"!==n&&\"pcma\"!==n&&\"g722\"!==n&&(r.bitrate&&!kI()&&(e.fmtp.parameters.maxaveragebitrate=\"\".concat(Math.floor(1e3*r.bitrate))),r.sampleRate&&(e.fmtp.parameters.maxplaybackrate=\"\".concat(r.sampleRate),e.fmtp.parameters[\"sprop-maxcapturerate\"]=\"\".concat(r.sampleRate)),r.stereo&&(e.fmtp.parameters.stereo=\"1\",e.fmtp.parameters[\"sprop-stereo\"]=\"1\"))}))}function LM(e){const t=e.attributes.unrecognized.findIndex((e=>\"x-google-flag\"===e.attField&&\"conference\"===e.attValue));-1!==t&&e.attributes.unrecognized.splice(t,1)}function kM(e,t){var i;if(!(t instanceof Hk&&t._encoderConfig&&-1===t._hints.indexOf(eP.SCREEN_TRACK)))return;const n=t._encoderConfig;MD().supportMinBitrate&&n.bitrateMin&&e.attributes.payloads.forEach((e=>{var t,i;Dn(t=[\"h264\",\"h265\",\"vp8\",\"vp9\",\"av1\"]).call(t,(null===(i=e.rtpMap)||void 0===i?void 0:i.encodingName.toLowerCase())||\"\")&&(e.fmtp||(e.fmtp={parameters:{}}),e.fmtp.parameters[\"x-google-min-bitrate\"]=\"\".concat(n.bitrateMin))})),MD().supportMinBitrate&&!Dn(i=t._hints).call(i,eP.LOW_STREAM)&&n.bitrateMax&&e.attributes.payloads.forEach((e=>{var t,i;Dn(t=[\"h264\",\"h265\",\"vp8\",\"vp9\",\"av1\"]).call(t,(null===(i=e.rtpMap)||void 0===i?void 0:i.encodingName.toLowerCase())||\"\")&&(e.fmtp||(e.fmtp={parameters:{}}),e.fmtp.parameters[\"x-google-start-bitrate\"]=\"\".concat(Dy(\"X_GOOGLE_START_BITRATE\")||Math.floor(n.bitrateMax)))}))}function MM(e){if(\"video\"!==e.media.mediaType)return;const t=AI();if(t.name!==CI.SAFARI&&t.os!==RI.IOS)return;const i=e.attributes.extmaps.findIndex((e=>/video-orientation/g.test(e.extensionName)));-1!==i&&e.attributes.extmaps.splice(i,1)}function UM(e,t,i){if(!t)return;let n,r;if(\"video\"===e.media.mediaType?(n=i.videoExtensions,r=i.videoCodecs):(n=i.audioExtensions,r=i.audioCodecs),!0===t.twcc){const t=n.find((e=>\"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\"===e.extensionName));if(t){e.attributes.extmaps.find((e=>\"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\"===e.extensionName))||e.attributes.extmaps.push({entry:t.entry,extensionName:\"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\"});const i=function(e,t){return t.filter((t=>!!e.find((e=>e.payloadType===t.payloadType&&!!e.rtcpFeedbacks.find((e=>\"transport-cc\"===e.type))))))}(r,e.attributes.payloads);i.forEach((e=>{e.rtcpFeedbacks.find((e=>\"transport-cc\"===e.type))||e.rtcpFeedbacks.push({type:\"transport-cc\"})}))}}else if(!1===t.twcc){const t=e.attributes.extmaps.findIndex((e=>\"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\"===e.extensionName));-1!==t&&e.attributes.extmaps.splice(t,1),e.attributes.payloads.forEach((e=>{const t=e.rtcpFeedbacks.findIndex((e=>\"transport-cc\"===e.type));-1!==t&&e.rtcpFeedbacks.splice(t,1)}))}if(!0===t.remb){const t=n.find((e=>\"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\"===e.extensionName));if(t){e.attributes.extmaps.find((e=>\"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\"===e.extensionName))||e.attributes.extmaps.push({entry:t.entry,extensionName:\"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\"});const i=function(e,t){return t.filter((t=>!!e.find((e=>e.payloadType===t.payloadType&&!!e.rtcpFeedbacks.find((e=>\"goog-remb\"===e.type))))))}(r,e.attributes.payloads);i.forEach((e=>{e.rtcpFeedbacks.find((e=>\"goog-remb\"===e.type))||e.rtcpFeedbacks.push({type:\"goog-remb\"})}))}}else if(!1===t.remb){const t=e.attributes.extmaps.findIndex((e=>\"http://www.webrtc.org/experiments/rtp-hdrext/abs-send-time\"===e.extensionName));-1!==t&&e.attributes.extmaps.splice(t,1),e.attributes.payloads.forEach((e=>{const t=e.rtcpFeedbacks.findIndex((e=>\"goog-remb\"===e.type));-1!==t&&e.rtcpFeedbacks.splice(t,1)}))}}function xM(e,t,i){if(kI())return;if(\"video\"!==e.media.mediaType)return;if(!(t instanceof Hk))return;if(\"vp9\"!==i&&\"vp8\"!==i)return;if(\"vp8\"===i&&!Dy(\"SIMULCAST\"))return;if(\"vp9\"===i&&Dy(\"ENABLE_SVC\"))return;if(void 0===t._scalabilityMode||t._scalabilityMode.numSpatialLayers<=1)return;const n=\"vp8\"===i?2:t._scalabilityMode.numSpatialLayers,r=e.attributes.ssrcs[0],o=e.attributes.ssrcGroups.find((e=>\"FID\"===e.semantic&&e.ssrcIds[0]===r.ssrcId)),s={semantic:\"SIM\",ssrcIds:[r.ssrcId]};for(let t=1;t<n;t++)e.attributes.ssrcs.push({ssrcId:r.ssrcId+t,attributes:Gv(r.attributes)}),s.ssrcIds.push(r.ssrcId+t),o&&(e.attributes.ssrcs.push({ssrcId:o.ssrcIds[1]+t,attributes:Gv(r.attributes)}),e.attributes.ssrcGroups.push({semantic:\"FID\",ssrcIds:[r.ssrcId+t,o.ssrcIds[1]+t]}));e.attributes.ssrcGroups.unshift(s)}async function VM(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=new RTCPeerConnection;i.addTransceiver(\"video\",{direction:\"sendonly\"}),i.addTransceiver(\"audio\",{direction:\"sendonly\"}),i.addTransceiver(\"video\",{direction:\"recvonly\"}),i.addTransceiver(\"audio\",{direction:\"recvonly\"});const n=(await i.createOffer()).sdp,{send:r,recv:o,sendrecv:s}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;const n=AM(i,e,t,\"sendonly\"),r=AM(i,e,t,\"recvonly\"),o={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},s={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},a={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]};if(BM(n,r,\"videoExtensions\",o,s,a),BM(n,r,\"videoCodecs\",o,s,a),BM(n,r,\"audioExtensions\",o,s,a),BM(n,r,\"audioCodecs\",o,s,a),Dy(\"RAISE_H264_BASELINE_PRIORITY\")){const e=a.videoCodecs.findIndex((e=>{var t,i;return\"h264\"===(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLocaleLowerCase())&&\"42001f\"===(null===(i=e.fmtp)||void 0===i?void 0:i.parameters[\"profile-level-id\"])}));if(-1!==e){const t=a.videoCodecs.findIndex((e=>{var t;return\"h264\"===(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLocaleLowerCase())}));if(t<e){Qy.debug(\"raising H264 baseline profile priority\");const i=a.videoCodecs[e];a.videoCodecs.splice(e,1),a.videoCodecs.splice(t,0,i)}-1!==t&&(s.videoCodecs=s.videoCodecs.filter((e=>{var t,i;return!(\"h264\"===(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLocaleLowerCase())&&\"42001f\"!==(null===(i=e.fmtp)||void 0===i?void 0:i.parameters[\"profile-level-id\"]))}))),-1!==t&&Dy(\"FILTER_SEND_H264_BASELINE\")&&(o.videoCodecs=o.videoCodecs.filter((e=>{var t,i;return!(\"h264\"===(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLocaleLowerCase())&&\"42001f\"!==(null===(i=e.fmtp)||void 0===i?void 0:i.parameters[\"profile-level-id\"]))})))}}return{send:o,recv:s,sendrecv:a}}(e,t,n);try{i.close()}catch(e){}return{send:r,recv:o,sendrecv:s}}function FM(){const e={audioCodecs:[],videoCodecs:[],audioExtensions:[],videoExtensions:[]},t=AM(arguments.length>2?arguments[2]:void 0,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},\"recvonly\"),i={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},n={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},r={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]};if(BM(e,t,\"videoExtensions\",i,n,r),BM(e,t,\"videoCodecs\",i,n,r),BM(e,t,\"audioExtensions\",i,n,r),BM(e,t,\"audioCodecs\",i,n,r),Dy(\"RAISE_H264_BASELINE_PRIORITY\")){const e=r.videoCodecs.findIndex((e=>e.rtpMap&&\"h264\"===e.rtpMap.encodingName.toLocaleLowerCase()&&e.fmtp&&\"42001f\"===e.fmtp.parameters[\"profile-level-id\"]));if(-1!==e){const t=r.videoCodecs.findIndex((e=>e.rtpMap&&\"h264\"===e.rtpMap.encodingName.toLocaleLowerCase()));if(t<e){Qy.debug(\"raising H264 baseline profile priority\");const i=r.videoCodecs[e];r.videoCodecs.splice(e,1),r.videoCodecs.splice(t,0,i)}-1!==t&&(n.videoCodecs=n.videoCodecs.filter((e=>!(e.rtpMap&&\"h264\"===e.rtpMap.encodingName.toLocaleLowerCase()&&e.fmtp&&\"42001f\"!==e.fmtp.parameters[\"profile-level-id\"]))))}}return{send:i,recv:n,sendrecv:r}}function BM(e,t,i,n,r,o){if(\"videoExtensions\"===i||\"audioExtensions\"===i){const s=[];return e[i].forEach((e=>{t[i].some(((t,i)=>{if(e.entry===t.entry&&e.extensionName===t.extensionName)return s.push(i),!0}))?o[i].push(e):n[i].push(e)})),void t[i].forEach(((e,t)=>{-1===s.indexOf(t)&&r[i].push(e)}))}if(\"videoCodecs\"===i||\"audioCodecs\"===i){const s=[];return e[i].forEach((e=>{t[i].some(((t,i)=>{if(e.payloadType===t.payloadType&&JSON.stringify(e)===JSON.stringify(t))return s.push(i),!0}))?o[i].push(e):n[i].push(e)})),void t[i].forEach(((e,t)=>{-1===s.indexOf(t)&&r[i].push(e)}))}}function jM(e){const{send:t,recv:i,sendrecv:n}=e;if(!n){if(!t||!i)throw new Error(\"cannot merge rtp capabilities because one of send or recv is empty!\");return{send:t,recv:i}}let r,o;return t?(r={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},r.audioCodecs=[...t.audioCodecs,...n.audioCodecs],r.videoCodecs=[...t.videoCodecs,...n.videoCodecs],r.audioExtensions=[...t.audioExtensions,...n.audioExtensions],r.videoExtensions=[...t.videoExtensions,...n.videoExtensions]):r=n,i?(o={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},o.audioCodecs=[...i.audioCodecs,...n.audioCodecs],o.videoCodecs=[...i.videoCodecs,...n.videoCodecs],o.audioExtensions=[...i.audioExtensions,...n.audioExtensions],o.videoExtensions=[...i.videoExtensions,...n.videoExtensions]):o=n,{send:r,recv:o}}function GM(e){if(\"audio\"!==e.media.mediaType)return;e.attributes.payloads.filter((e=>{var t;return\"opus\"===(null===(t=e.rtpMap)||void 0===t?void 0:t.encodingName.toLowerCase())})).forEach((e=>{e.fmtp||(e.fmtp={parameters:{}}),e.fmtp.parameters.stereo=\"1\",e.fmtp.parameters[\"sprop-stereo\"]=\"1\"}))}function WM(e,t,i,n){let r=[];if(e===Yb.VIDEO){if(Dy(\"H264_PROFILE_LEVEL_ID\")&&\"h264\"===n&&(r=t.videoCodecs.filter((e=>{var t;return Dn(t=e.rtpMap&&e.rtpMap.encodingName.toLowerCase()||\"\").call(t,n)&&e&&e.fmtp&&e.fmtp.parameters[\"profile-level-id\"]===Dy(\"H264_PROFILE_LEVEL_ID\")}))),!Array.isArray(r)||0===r.length){let e=[];const o=[],s=[],a=[];if(i.videoCodecs.forEach((t=>{const i=t.rtpMap&&t.rtpMap.encodingName.toLowerCase()||\"\";Dn(i).call(i,n)?e.push(t):Dn(i).call(i,\"vp9\")?o.push(t):Dn(i).call(i,\"vp8\")?s.push(t):Dn(i).call(i,\"h264\")&&a.push(t)})),0===e.length){let t=\"\";0!==o.length?(e=o,t=\"vp9\"):0!==s.length?(e=s,t=\"vp8\"):0!==a.length&&(e=a,t=\"h264\"),Qy.warning(\"codec \".concat(n,\" not included in rtpCapabilities, fallback to default payloads: \").concat(t))}0!==e.length&&(r=t.videoCodecs.filter((t=>e.some((e=>e.payloadType===t.payloadType)))))}if(0===r.length&&(Qy.warning(\"codec \".concat(n,\" not included in rtpCapabilities, fallback to default payloads: \").concat(t.videoCodecs[0].rtpMap&&t.videoCodecs[0].rtpMap.encodingName)),r=t.videoCodecs),Dy(\"USE_PUB_RTX\")||Dy(\"USE_SUB_RTX\")){const e=HM(r,t.videoCodecs);r=[...r,...e]}}else r=t.audioCodecs.filter((e=>{var t;return Dn(t=e.rtpMap&&e.rtpMap.encodingName.toLowerCase()||\"\").call(t,n)})),0===r.length&&(Qy.warning(\"codec \".concat(n,\" not included in rtpCapabilities, fallback to opus\")),r=t.audioCodecs.filter((e=>{var t;return Dn(t=e.rtpMap&&e.rtpMap.encodingName.toLowerCase()||\"\").call(t,\"opus\")})));return r}function HM(e,t){const i=e.map((e=>e.payloadType.toString()));return t.filter((e=>e.rtpMap&&\"rtx\"===e.rtpMap.encodingName&&e.fmtp&&e.fmtp.parameters.apt&&Dn(i).call(i,e.fmtp&&e.fmtp.parameters.apt)))}async function KM(e,t,i){const n=t.toString(),r=qM(n,\"offer\",\"remote\",\"exchangeSDP\");await e.setRemoteDescription({type:\"offer\",sdp:n});const o=await e.createAnswer();if(!o.sdp)throw new Error(\"cannot get answer sdp\");let s=o.sdp;s=YM(s,i||{}),null==r||r(s||\"\"),await e.setLocalDescription({type:\"answer\",sdp:s})}function YM(e,t,i){const n=CM.parse(e),{useXR:r}=t;return n.mediaDescriptions.forEach((e=>{var t;e.attributes.mid&&(Array.isArray(i)&&!Dn(i).call(i,e.attributes.mid)||(\"audio\"===e.media.mediaType&&GM(e),r&&Dn(t=[\"audio\",\"video\"]).call(t,e.media.mediaType)&&e.attributes.payloads.forEach((e=>{-1===e.rtcpFeedbacks.findIndex((e=>\"rrtr\"===e.type))&&e.rtcpFeedbacks.push({type:\"rrtr\"})}))))})),CM.print(n)}function qM(e,t,i,n){if(Dy(\"SDP_LOGGING\"))return Qy.upload(\"exchanging \".concat(i,\" \").concat(t,\" SDP during P2PConnection.\").concat(n,\"\\n\"),e),\"offer\"===t?e=>{qM(e,\"answer\",\"local\"===i?\"remote\":\"local\",n)}:void 0}function zM(e,t){return typeof Dy(e)===t?Dy(e):void 0}function JM(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function XM(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?JM(Object(i),!0).forEach((function(t){og(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):JM(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}const QM=new Map;class ZM extends Sv{get state(){return this._state}set state(e){if(e===this._state)return;const t=this._state;this._state=e,\"DISCONNECTED\"===e&&this._disconnectedReason?this.emit(Ub.CONNECTION_STATE_CHANGE,e,t,this._disconnectedReason):this.emit(Ub.CONNECTION_STATE_CHANGE,e,t)}get joinGatewayStartTime(){return this._joinGatewayStartTime}set joinGatewayStartTime(e){Qy.debug(\"[\".concat(this.store.clientId,\"] set joinGatewayStartTime at \").concat(e)),this._joinGatewayStartTime=e}constructor(e,t){super(),og(this,\"store\",void 0),og(this,\"joinInfo\",void 0),og(this,\"key\",void 0),og(this,\"ntpOffset\",0),og(this,\"signal\",void 0),og(this,\"role\",void 0),og(this,\"inChannelInfo\",{joinAt:null,duration:0}),og(this,\"spec\",void 0),og(this,\"_state\",\"DISCONNECTED\"),og(this,\"_statsCollector\",void 0),og(this,\"_disconnectedReason\",void 0),og(this,\"isSignalRecover\",!1),og(this,\"hasChangeBGPAddress\",!1),og(this,\"trafficStatsInterval\",void 0),og(this,\"networkQualityInterval\",void 0),og(this,\"_joinGatewayStartTime\",0),og(this,\"_signalTimeout\",!1),og(this,\"_clientRoleOptions\",void 0),og(this,\"_isProactiveJoin\",!1),this.store=e,this.spec=t,this.signal=this.store.useP2P?new gM(XM(XM({},t),{},{retryConfig:t.websocketRetryConfig}),e):new ww(XM(XM({},t),{},{retryConfig:t.websocketRetryConfig}),e),this._statsCollector=t.statsCollector,this.role=t.role||\"audience\",this._clientRoleOptions=t.clientRoleOptions,this.handleSignalEvents()}async join(e,t,i){this.store.joinGatewayStart(),\"disabled\"!==e.cloudProxyServer&&(this.hasChangeBGPAddress=!0);const n=Date.now();let r=QM.get(e.cname);if(r||(r=new Map,QM.set(e.cname,r)),this._isProactiveJoin=!0,r.has(e.uid)){const t=new Sb(nv.UID_CONFLICT);throw sA.joinGateway(e.sid,{lts:n,succ:!1,ec:t.code,addr:null,uid:e.uid,cid:e.cid,firstSuccess:this._isProactiveJoin,avoidJoinStartTime:this.store.avoidJoinStart,isProxy:!!e.proxyServer,signalChannel:\"0\",preload:e.preload}),this._isProactiveJoin=!1,t}r.set(e.uid,!0),this.joinInfo=e,this.key=t;let o=0;this.joinGatewayStartTime=n;const s=e.proxyServer;try{Qy.debug(\"[\".concat(this.store.clientId,\"] use websocket join uid \").concat(o));const t=e.gatewayAddrs.map((t=>{let{address:i}=t;const[n,r]=i.split(\":\"),o={host:n,port:r};return e.proxyServer&&(o.proxy=e.proxyServer),o}));o=(await this.signal.init(t,i)).uid,Qy.debug(\"[\".concat(this.store.clientId,\"] websocket join uid \").concat(o,\" cost \").concat(Date.now()-this.joinGatewayStartTime))}catch(t){var a;throw Qy.error(\"[\".concat(this.store.clientId,\"] User join failed\"),t.toString()),sA.joinGateway(e.sid,{lts:n,succ:!1,ec:(null===(a=t.data)||void 0===a?void 0:a.desc)||t.code,errorMsg:t.message,addr:this.signal.url,uid:e.uid,cid:e.cid,firstSuccess:this._isProactiveJoin,avoidJoinStartTime:this.store.avoidJoinStart,isProxy:!!s,signalChannel:\"0\",preload:e.preload}),this._isProactiveJoin=!1,r.delete(e.uid),this.signal.close(),t}return this.state=\"CONNECTED\",this.inChannelInfo.joinAt=Date.now(),Qy.debug(\"[\".concat(this.store.clientId,\"] Connected to gateway server\")),this.trafficStatsInterval=window.setInterval((()=>{this.updateTrafficStats().catch((e=>{Qy.warning(\"[\".concat(this.store.clientId,\"] get traffic stats error\"),e.toString())}))}),3e3),this.networkQualityInterval=window.setInterval((()=>{navigator&&void 0!==navigator.onLine&&!navigator.onLine?this.emit(Ub.NETWORK_QUALITY,{downlinkNetworkQuality:6,uplinkNetworkQuality:6}):this._signalTimeout?this.emit(Ub.NETWORK_QUALITY,{downlinkNetworkQuality:5,uplinkNetworkQuality:5}):\"CONNECTED\"===this.state&&this._statsCollector.trafficStats?this.emit(Ub.NETWORK_QUALITY,{uplinkNetworkQuality:Uw(this._statsCollector.trafficStats.B_unq),downlinkNetworkQuality:Uw(this._statsCollector.trafficStats.B_dnq)}):this.emit(Ub.NETWORK_QUALITY,{uplinkNetworkQuality:0,downlinkNetworkQuality:0})}),2e3),this.store.joinGatewayEnd(),o}async leave(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;if(\"DISCONNECTED\"!==this.state){t!==Av.FALLBACK&&(this.state=\"DISCONNECTING\");try{e||this.signal.connectionState!==hb.CONNECTED||await function(e,t){return t===1/0?e:Gh.race([e,Zv(t)])}(this.signal.request(_b.LEAVE,void 0,!0),3e3)}catch(e){Qy.warning(\"[\".concat(this.store.clientId,\"] leave request failed, ignore\"),e)}this.signal.close(t),t!==Av.FALLBACK&&(this.state=\"DISCONNECTED\"),this.reset()}}async publish(e,t,i){if(\"CONNECTED\"!==this.state&&\"RECONNECTING\"!==this.state)throw new Sb(nv.INVALID_OPERATION,\"can not publish when connection state is \".concat(this.state));const n={state:\"offer\",p2p_id:this.store.p2pId,ortc:t,mode:this.spec.mode,extend:Dy(\"PUB_EXTEND\"),twcc:!!Dy(\"PUBLISH_TWCC\"),rtx:!!Dy(\"USE_PUB_RTX\")};try{return(await this.signal.request(_b.PUBLISH,n,!0))._message}catch(n){if(i&&n.data&&n.data.code===ub.ERR_PUBLISH_REQUEST_INVALID)return Qy.warning(\"[\".concat(this.store.clientId,\"] receive publish error code, retry\"),n.toString()),await this.tryUnpubBeforeRepub(e,t),this.publish(e,t,!1);throw n}}async publishDataChannel(e,t,i){var n;if(\"CONNECTED\"!==this.state&&\"RECONNECTING\"!==this.state)throw new Sb(nv.INVALID_OPERATION,\"can not publish when connection state is \".concat(this.state));const r={stream_id:t.streamId,ordered:t.ordered?1:0,max_retrans_times:null!==(n=t.maxRetransmits)&&void 0!==n?n:10,channel_id:t.channelId,metadata:t.metadata};try{await this.signal.request(_b.PUBLISH_DATASTREAM,r,!0)}catch(n){if(i&&n.data&&n.data.code===ub.ERR_PUBLISH_REQUEST_INVALID)return Qy.warning(\"[\".concat(this.store.clientId,\"] receive publish datachannels error code, retry\"),n.toString()),await this.tryUnpubDataChannelBeforeRepub(e,t),this.publishDataChannel(e,t,!1);throw n}}async unpublish(e,t){try{if(\"CONNECTED\"!==this.state&&\"RECONNECTING\"!==this.state)throw new Sb(nv.INVALID_OPERATION,\"can not publish when connection state is \".concat(this.state));await this.signal.request(_b.UNPUBLISH,{stream_id:t,ortc:e},!0)}catch(e){Qy.warning(\"[\".concat(this.store.clientId,\"] unpublish warning: \"),e)}}async unpublishDataChannel(e){try{if(\"CONNECTED\"!==this.state&&\"RECONNECTING\"!==this.state)throw new Sb(nv.INVALID_OPERATION,\"can not publish when connection state is \".concat(this.state));await Gh.all(e.map((e=>this.signal.request(_b.UNPUBLISH_DATASTREAM,{channel_id:e},!0))))}catch(e){Qy.warning(\"unpublish datachannels warning: \",e)}}async presubscribe(e,t,i){if(\"CONNECTED\"!==this.state&&\"RECONNECTING\"!==this.state)throw new Sb(nv.INVALID_OPERATION,\"can not presubscribe when connection state is \".concat(this.state));const n={stream_id:e,stream_type:t,mode:this.spec.mode,codec:this.spec.codec,p2p_id:this.store.p2pId,twcc:!!Dy(\"SUBSCRIBE_TWCC\"),rtx:!!Dy(\"USE_SUB_RTX\")||void 0,extend:Dy(\"SUB_EXTEND\"),svc:Array.isArray(Dy(\"SVC\"))&&0!==Dy(\"SVC\").length?Dy(\"SVC\"):void 0};try{return await this.signal.request(_b.PRE_SUBSCRIBE,n,!0)}catch(n){if(i&&n.data&&n.data.code===ub.ERR_SUBSCRIBE_REQUEST_INVALID)return Qy.warning(\"[\".concat(this.store.clientId,\"] pre-subscribe error, retry\"),n.toString()),this.presubscribe(e,t,!1);throw n}}async subscribe(e,t,i){if(\"CONNECTED\"!==this.state&&\"RECONNECTING\"!==this.state)throw new Sb(nv.INVALID_OPERATION,\"can not subscribe when connection state is \".concat(this.state));const n={stream_id:e,stream_type:t.stream_type,mode:this.spec.mode,codec:this.spec.codec,p2p_id:this.store.p2pId,twcc:!!Dy(\"SUBSCRIBE_TWCC\"),rtx:!!Dy(\"USE_SUB_RTX\"),extend:Dy(\"SUB_EXTEND\"),ssrcId:t.ssrcId,svc:Array.isArray(Dy(\"SVC\"))&&0!==Dy(\"SVC\").length?Dy(\"SVC\"):void 0};try{return(await this.signal.request(_b.SUBSCRIBE,n,!0))._message}catch(n){if(i&&n.data&&n.data.code===ub.ERR_SUBSCRIBE_REQUEST_INVALID)return Qy.warning(\"[\".concat(this.store.clientId,\"] receiver subscribe error code, retry\"),n.toString()),await this.tryUnsubBeforeResub(e,t),await this.subscribe(e,t,!1);throw n}}async subscribeDataChannel(e,t,i){if(\"CONNECTED\"!==this.state&&\"RECONNECTING\"!==this.state)throw new Sb(nv.INVALID_OPERATION,\"can not subscribe datachannel when connection state is \".concat(this.state));const n={uid:e,stream_id:t.id,channel_id:t.datachannelId};try{return void await this.signal.request(_b.SUBSCRIBE_DATASTREAM,n,!0)}catch(n){if(i&&n.data&&n.data.code===ub.ERR_SUBSCRIBE_REQUEST_INVALID)return Qy.warning(\"[\".concat(this.store.clientId,\"] receiver subscribe datachannel error code, retry\"),n.toString()),await this.tryUnsubDataChannelBeforeResub(e,t),await this.subscribeDataChannel(e,t,!1);throw n}}async subscribeAll(e,t){if(\"CONNECTED\"!==this.state&&\"RECONNECTING\"!==this.state)throw new Sb(nv.INVALID_OPERATION,\"can not massSubscribe when connection state is \".concat(this.state));const i={p2p_id:this.store.p2pId,users:e,dtx:!1,rtx:!!Dy(\"USE_SUB_RTX\"),twcc:!!Dy(\"SUBSCRIBE_TWCC\"),svc:Array.isArray(Dy(\"SVC\"))&&0!==Dy(\"SVC\").length?Dy(\"SVC\"):void 0};try{return await this.signal.request(_b.SUBSCRIBE_STREAMS,i,!0)}catch(i){if(t&&i.data&&i.data.code===ub.ERR_SUBSCRIBE_REQUEST_INVALID)return Qy.warning(\"[\".concat(this.store.clientId,\"] receiver massSubscribe error code, retry\"),i.toString()),await this.tryMassUnsubBeforeResub(e),await this.subscribeAll(e,!1);throw i}}async setVideoProfile(e){const t=function(e){if(!(e.bitrateMax&&e.bitrateMin&&e.frameRate&&e.height&&e.width))return;let t=e.frameRate,i=e.width,n=e.height,r=!0;return\"number\"!=typeof t&&(t=t.exact||t.ideal||t.max||t.min||0,t||(r=!1)),\"number\"!=typeof i&&(i=i.exact||i.ideal||i.max||i.min||0,i||(r=!1)),\"number\"!=typeof n&&(n=n.exact||n.ideal||n.max||n.min||0,t||(r=!1)),r?{stream_type:0,width:i,height:n,fps:t,start_bps:1e3*e.bitrateMax,min_bps:1e3*e.bitrateMin,target_bps:1e3*e.bitrateMax}:void 0}(e);if(t)return this.signal.request(_b.SET_VIDEO_PROFILE,t);Qy.debug(\"[\".concat(this.store.clientId,\"] encoder config is not complete, do not report to gateway\"))}async unsubscribe(e,t){try{await this.signal.request(_b.UNSUBSCRIBE,{p2p_id:this.store.p2pId,ortc:e,stream_id:t},!0)}catch(e){Qy.warning(\"[\".concat(this.store.clientId,\"] unsubscribe warning: \"),e)}}async unsubscribeDataChannel(e,t){try{if(\"CONNECTED\"!==this.state&&\"RECONNECTING\"!==this.state)throw new Sb(nv.INVALID_OPERATION,\"can not publish when connection state is \".concat(this.state));await Gh.all(e.map((e=>this.signal.request(_b.UNSUBSCRIBE_DATASTREAM,{stream_id:e,uid:t},!0))))}catch(e){Qy.warning(\"unsubscribeDataChannel warning: \",e)}}async massUnsubscribe(e){try{await this.signal.request(_b.UNSUBSCRIBE_STREAMS,e,!0)}catch(e){Qy.warning(\"[\".concat(this.store.clientId,\"] massUnsubscribeAll warning: \"),e)}}async reconnectPC(e){const{iceParameters:t,dtlsParameters:i,rtpCapabilities:n}=e;return{gatewayEstablishParams:await this.signal.request(_b.CONNECT_PC,{p2p_id:this.store.p2pId,stream_id:this.store.uid,ortc:{iceParameters:t,dtlsParameters:i,rtpCapabilities:n}},!0),gatewayAddress:this.getCurrentGatewayAddress()}}getGatewayInfo(){return this.signal.request(_b.GATEWAY_INFO)}async renewToken(e){await this.signal.request(_b.RENEW_TOKEN,e),this.key=e.token}async setClientRole(e,t){if(t&&(this._clientRoleOptions=Object.assign({},t)),\"CONNECTED\"!==this.state)return void(this.role=e);let i,n=0;\"audience\"===e?this._clientRoleOptions&&this._clientRoleOptions.delay?(i=this._clientRoleOptions.delay,n=1):n=this._clientRoleOptions&&this._clientRoleOptions.level?this._clientRoleOptions.level:2:n=0,await this.signal.request(_b.SET_CLIENT_ROLE,{role:e,level:n,delay:i,client_ts:Date.now()}),this.role=e}async setRemoteVideoStreamType(e,t){await this.signal.request(_b.SWITCH_VIDEO_STREAM,{stream_id:e,stream_type:t})}async setDefaultRemoteVideoStreamType(e){await this.signal.request(_b.DEFAULT_VIDEO_STREAM,{stream_type:e})}async setStreamFallbackOption(e,t){await this.signal.request(_b.SET_FALLBACK_OPTION,{stream_id:e,fallback_type:t})}async pickSVCLayer(e,t){await this.signal.request(_b.PICK_SVC_LAYER,{stream_id:e,spatial_layer:t.spatialLayer,temporal_layer:t.temporalLayer})}async setRTM2Flag(e){await this.signal.request(_b.SET_RTM2_FLAG,{rtm2_flag:e})}async sendExtensionMessage(e,t,i){if(this.signal instanceof gM)return this.signal.sendExtensionMessage(e,t,i)}getInChannelInfo(){return this.inChannelInfo.joinAt&&(this.inChannelInfo.duration=Date.now()-this.inChannelInfo.joinAt),XM({},this.inChannelInfo)}async getGatewayVersion(){return(await this.signal.request(_b.GATEWAY_INFO)).version}reset(){if(this.inChannelInfo.joinAt&&(this.inChannelInfo.duration=Date.now()-this.inChannelInfo.joinAt,this.inChannelInfo.joinAt=null),this.trafficStatsInterval&&(window.clearInterval(this.trafficStatsInterval),this.trafficStatsInterval=void 0),this.joinInfo){const e=QM.get(this.joinInfo.cname);e&&e.delete(this.joinInfo.uid)}this.joinInfo=void 0,this.key=void 0,this.networkQualityInterval&&(window.clearInterval(this.networkQualityInterval),this.networkQualityInterval=void 0)}updateTurnConfigFromSignal(){if(!this.joinInfo)return;const e=function(e){let t;return t=e.startsWith(\"dc\")?e.match(/(dc\\:\\/\\/)?([^:]+):(\\d+)/):e.match(/(wss\\:\\/\\/)?([^:]+):(\\d+)/),t?{username:cA.username,password:cA.password,turnServerURL:t[2],tcpport:parseInt(t[3])+30,udpport:parseInt(t[3])+30,forceturn:!1}:null}((\"disabled\"===this.joinInfo.cloudProxyServer?this.signal.url:this.joinInfo.gatewayAddrs[this.signal.currentURLIndex].address)||\"\");this.joinInfo.turnServer.serversFromGateway=[],e&&\"off\"!==this.joinInfo.turnServer.mode&&\"disabled\"===this.joinInfo.cloudProxyServer&&this.joinInfo.turnServer.serversFromGateway.push(XM(XM({},cA),{},{turnServerURL:e.turnServerURL,tcpport:e.tcpport,udpport:e.udpport,username:this.joinInfo.uid.toString(),password:this.joinInfo.token}))}async updateTrafficStats(){if(\"CONNECTED\"!==this.state)return;const e=await this.signal.request(_b.TRAFFIC_STATS,void 0,!0);e.timestamp=Date.now(),null!=e.ntp_offset&&(this.ntpOffset=e.ntp_offset),e.peer_delay.forEach((e=>{const t=this._statsCollector.trafficStats&&this._statsCollector.trafficStats.peer_delay.find((t=>t.peer_uid===e.peer_uid));t&&t.B_st!==e.B_st&&jv((()=>{this.emit(Ub.STREAM_TYPE_CHANGE,e.peer_uid,e.B_st)}))})),this._statsCollector.updateTrafficStats(e)}getJoinMessage(e){if(!this.joinInfo||!this.key)throw new Sb(nv.UNEXPECTED_ERROR,\"can not generate join message, no join info\");const t=Object.assign({},this.joinInfo.apResponse);let i=Dy(\"REPORT_APP_SCENARIO\");if(\"string\"!=typeof i)try{i=JSON.stringify(i)}catch(e){i=void 0}i&&i.length>128&&(i=void 0);const n=!(kI()||xI(87)||xD())&&(\"boolean\"==typeof Dy(\"ENABLE_PRE_SUB\")&&Dy(\"ENABLE_PRE_SUB\")),r=!xD()&&zM(\"ENABLE_PREALLOC_PC\",\"boolean\"),o=XM({license:this.joinInfo.license,p2p_id:this.store.p2pId,session_id:this.joinInfo.sid,app_id:this.joinInfo.appId,channel_key:this.key,channel_name:this.joinInfo.cname,sdk_version:vy,browser:navigator.userAgent,process_id:Dy(\"PROCESS_ID\"),mode:this.store.useP2P?\"p2p\":this.spec.mode,codec:this.spec.codec,role:this.role,has_changed_gateway:this.hasChangeBGPAddress,ap_response:t,extend:Dy(\"JOIN_EXTEND\"),details:{6:this.joinInfo.stringUid,cservice_map:\"proxy3\"===this.joinInfo.cloudProxyServer?\"1\":\"proxy5\"===this.joinInfo.cloudProxyServer?\"2\":void 0},features:{rejoin:!0},optionalInfo:this.joinInfo.optionalInfo,appScenario:i,attributes:{userAttributes:{enablePublishedUserList:Dy(\"ENABLE_PUBLISHED_USER_LIST\"),maxSubscription:Dy(\"MAX_SUBSCRIPTION\"),subscribeAudioFilterTopN:\"number\"==typeof Dy(\"SUBSCRIBE_AUDIO_FILTER_TOPN\")?Dy(\"SUBSCRIBE_AUDIO_FILTER_TOPN\"):void 0,enablePublishAudioFilter:\"boolean\"==typeof Dy(\"ENABLE_PUBLISH_AUDIO_FILTER\")?Dy(\"ENABLE_PUBLISH_AUDIO_FILTER\"):void 0,enableUserLicenseCheck:\"boolean\"==typeof Dy(\"ENABLE_USER_LICENSE_CHECK\")?Dy(\"ENABLE_USER_LICENSE_CHECK\"):void 0,enableRTX:!0===Dy(\"USE_PUB_RTX\")||!0===Dy(\"USE_SUB_RTX\")||void 0,disableFEC:Dy(\"DISABLE_FEC\"),enableNTPReport:!!Dy(\"ENABLE_NTP_REPORT\")||void 0,enableInstantVideo:!!Dy(\"ENABLE_INSTANT_VIDEO\")||void 0,enableFulllinkAvSync:!!Dy(\"ENABLE_FULL_LINK_AV_SYNC\")||void 0,enableDataStream2:zM(\"ENABLE_DATASTREAM_2\",\"boolean\"),enableAutFeedback:!!Dy(\"ENABLE_AUT_FEEDBACK\")||void 0,rtm2Flag:\"number\"==typeof this.joinInfo.rtmFlag?this.joinInfo.rtmFlag:void 0,enableUserAutoRebalanceCheck:!!Dy(\"ENABLE_USER_AUTO_REBALANCE_CHECK\"),enableXR:zM(\"USE_XR\",\"boolean\"),enableLossbasedBwe:zM(\"ENABLE_LOSSBASED_BWE\",\"boolean\"),enableAutCC:!!Dy(\"ENABLE_AUT_CC\")||void 0,enableCCFallback:zM(\"ENABLE_CC_FALLBACK\",\"boolean\"),enablePreallocPC:r,preSubNum:n?zM(\"PRE_SUB_NUM\",\"number\"):void 0,enablePubTWCC:zM(\"PUBLISH_TWCC\",\"boolean\"),enableSubTWCC:zM(\"SUBSCRIBE_TWCC\",\"boolean\"),enablePubRTX:zM(\"USE_PUB_RTX\",\"boolean\"),enableSubRTX:zM(\"USE_SUB_RTX\",\"boolean\"),enableSubSVC:Dy(\"ENABLE_SVC\")?Dy(\"ENABLE_SVC_DEFAULT_CODECS\"):Array.isArray(Dy(\"SVC\"))&&0!==Dy(\"SVC\").length?Dy(\"SVC\"):void 0}},join_ts:this.joinGatewayStartTime},e);return this.joinInfo.stringUid&&(o.string_uid=this.joinInfo.stringUid),this.joinInfo.aesmode&&this.joinInfo.aespassword&&(o.aes_mode=this.joinInfo.aesmode,Dy(\"ENCRYPT_AES\")?(o.aes_secret=this.joinInfo.aespassword,o.aes_encrypt=!0):o.aes_secret=this.joinInfo.aespassword,this.joinInfo.aessalt&&(o.aes_salt=this.joinInfo.aessalt)),t.addresses[this.signal.websocket.currentURLIndex]&&(o.ap_response.ticket=t.addresses[this.signal.websocket.currentURLIndex].ticket,delete t.addresses),void 0!==this.joinInfo.defaultVideoStream&&(o.default_video_stream=this.joinInfo.defaultVideoStream),o}getRejoinMessage(){if(!this.joinInfo)throw new Sb(nv.UNEXPECTED_ERROR,\"can not generate rejoin message, no join info\");return{session_id:this.joinInfo.sid,channel_name:this.joinInfo.cname,cid:this.joinInfo.cid,uid:this.joinInfo.uid,vid:Number(this.joinInfo.vid)}}handleSignalEvents(){this.signal.on(pb.WS_RECONNECT_WAITTING_FINISH,(e=>{var t;Dn(t=[\"tryNext\",\"recover\"]).call(t,e)&&this.joinInfo&&sA.adjustSessionStartTime(this.joinInfo.sid)})),this.signal.on(pb.WS_RECONNECT_CREATE_CONNECTION,(e=>{this.joinGatewayStartTime=Date.now()})),this.signal.on(pb.WS_RECONNECTING,(e=>{this.joinInfo&&sA.WebSocketQuit(this.joinInfo.sid,{lts:Date.now(),succ:-1,cname:this.joinInfo.cname,uid:this.joinInfo.uid,cid:this.joinInfo.cid,errorCode:e||Dv.NETWORK_ERROR}),this.joinInfo&&(this.state=\"RECONNECTING\",sA.sessionInit(this.joinInfo.sid,{lts:(new Date).getTime(),extend:this.isSignalRecover?{recover:!0}:{rejoin:!0},cname:this.joinInfo.cname,appid:this.joinInfo.appId,mode:this.spec.mode,stringUid:this.joinInfo.stringUid,channelProfile:\"live\"===this.spec.mode?1:0,channelMode:0,lsid:this.joinInfo.sid,clientRole:\"audience\"===this.role?2:1,buildFormat:2}),this.isSignalRecover=!1,this.joinGatewayStartTime=Date.now())})),this.signal.on(pb.WS_CLOSED,(e=>{let t;switch(e){case Av.LEAVE:t=Dv.LEAVE;break;case Av.UID_BANNED:case Av.IP_BANNED:case Av.CHANNEL_BANNED:case Av.SERVER_ERROR:t=Dv.SERVER_ERROR;break;case Av.FALLBACK:t=Dv.FALLBACK;break;case Av.LICENSE_MISSING:case Av.LICENSE_EXPIRED:case Av.LICENSE_MINUTES_EXCEEDED:case Av.LICENSE_PERIOD_INVALID:case Av.LICENSE_MULTIPLE_SDK_SERVICE:case Av.LICENSE_ILLEGAL:case Av.TOKEN_EXPIRE:t=e;break;default:t=Dv.NETWORK_ERROR}Qy.debug(\"[\".concat(this.store.clientId,\"] [signal] websocket closed, reason: \").concat(t||\"undefined -> \"+Dv.NETWORK_ERROR)),this.joinInfo&&sA.WebSocketQuit(this.joinInfo.sid,{lts:Date.now(),succ:e===Av.LEAVE?1:-1,cname:this.joinInfo.cname,uid:this.joinInfo.uid,cid:this.joinInfo.cid,errorCode:t}),this._disconnectedReason=e,e!==Av.FALLBACK&&(this.state=\"DISCONNECTED\"),this.reset()})),this.signal.on(pb.WS_CONNECTED,(()=>{if(this.updateTurnConfigFromSignal(),this.state=\"CONNECTED\",this.joinInfo&&(\"audience\"===this.role&&this._clientRoleOptions&&(this._clientRoleOptions.level||this._clientRoleOptions.delay)&&(Qy.debug(\"[\".concat(this.store.clientId,\"] patch to send set client role, role: \").concat(this.role,\", mode: \").concat(this.spec.mode,\", level: \").concat(this._clientRoleOptions.level,\", delay: \").concat(this._clientRoleOptions.delay)),this.setClientRole(this.role,this._clientRoleOptions)),sA.joinGateway(this.joinInfo.sid,{lts:this.joinGatewayStartTime,succ:!0,ec:null,vid:this.joinInfo.vid,addr:this.signal.url,uid:this.joinInfo.uid,cid:this.joinInfo.cid,firstSuccess:this._isProactiveJoin,avoidJoinStartTime:this.store.avoidJoinStart,isProxy:!!this.joinInfo.proxyServer,signalChannel:\"0\",preload:this.joinInfo.preload}),this._isProactiveJoin=!1,this.joinInfo.useLocalAccessPoint&&1===this.joinInfo.setLocalAPVersion)){const e=this.signal.url&&this.signal.url.match(/wss\\:\\/\\/([^:]+):(\\d+)/);if(!e)return void Qy.error(\"[\".concat(this.store.clientId,\"] set local access point after joined failed: \").concat(e));Ny(\"EVENT_REPORT_DOMAIN\",e[1]),Ny(\"EVENT_REPORT_BACKUP_DOMAIN\",e[1]),Ny(\"LOG_UPLOAD_SERVER\",\"\".concat(e[1],\":6444\"))}})),this.signal.on(mb.ON_UPLINK_STATS,(e=>{this._statsCollector.updateUplinkStats(e)})),this.signal.on(pb.REQUEST_RECOVER,((e,t,i)=>{if(!this.joinInfo)return i(new Sb(nv.UNEXPECTED_ERROR,\"gateway: can not recover, no join info\"));e&&(this.joinInfo.multiIP=e,this.hasChangeBGPAddress=!0),this.isSignalRecover=!0,kv(this,Ub.REQUEST_NEW_GATEWAY_LIST).then(t).catch(i)})),this.signal.on(pb.REQUEST_JOIN_INFO,(async e=>{var t;if(this.updateTurnConfigFromSignal(),this.store.useP2P)return void e(this.getJoinMessage({ortc:{}}));const{iceParameters:i,dtlsParameters:n,rtpCapabilities:r}=await kv(this,Ub.REQUEST_P2P_CONNECTION_PARAMS,{turnServer:null===(t=this.joinInfo)||void 0===t?void 0:t.turnServer});e(this.getJoinMessage({ortc:{iceParameters:i,dtlsParameters:n,rtpCapabilities:r,version:\"2\"}}))})),this.signal.on(pb.REQUEST_REJOIN_INFO,(e=>{e(this.getRejoinMessage())})),this.signal.on(pb.REPORT_JOIN_GATEWAY,((e,t)=>{if(!this.joinInfo)return;let i,n=\"\";var r;e instanceof Sb?(i=(null===(r=e.data)||void 0===r?void 0:r.desc)||e.code,n=e.message):i=e;sA.joinGateway(this.joinInfo.sid,{lts:this.joinGatewayStartTime,succ:!1,ec:i,errorMsg:n,addr:t,uid:this.joinInfo.uid,cid:this.joinInfo.cid,firstSuccess:this._isProactiveJoin,avoidJoinStartTime:this.store.avoidJoinStart,isProxy:!!this.joinInfo.proxyServer,signalChannel:\"0\",preload:this.joinInfo.preload}),this._isProactiveJoin=!1})),this.signal.on(pb.IS_P2P_DISCONNECTED,(e=>{e(xv(this,Ub.IS_P2P_DISCONNECTED))})),this.signal.on(pb.DISCONNECT_P2P,(()=>{this.emit(Ub.DISCONNECT_P2P)})),this.signal.on(pb.REQUEST_SUCCESS,(()=>{this._signalTimeout=!1})),this.signal.on(pb.REQUEST_TIMEOUT,(()=>{this._signalTimeout=!0})),this.signal.on(pb.JOIN_RESPONSE,(e=>{const t=this.getCurrentGatewayAddress();this.emit(Ub.JOIN_RESPONSE,e,t)})),this.signal.on(pb.PRE_CONNECT_PC,(async()=>{if(this.joinInfo){this.updateTurnConfigFromSignal();const e=this.getCurrentGatewayAddress(),t=Dy(\"FINGERPRINT\")||this.joinInfo.apResponse.addresses[this.signal.currentURLIndex].fingerprint;if(e&&t){const i=NM(e);this.emit(Ub.PRE_CONNECT_PC,{candidates:i,fingerprint:t})}}}))}async tryUnsubBeforeResub(e,t){try{await this.signal.request(_b.UNSUBSCRIBE,{p2p_id:this.store.p2pId,stream_id:e,ortc:[t]},!0)}catch(e){throw Qy.warning(\"[\".concat(this.store.clientId,\"] tryUnsubBeforeResub warning\"),e),e}}async tryUnsubDataChannelBeforeResub(e,t){try{await this.signal.request(_b.UNSUBSCRIBE,{stream_id:t.id},!0)}catch(e){throw Qy.warning(\"unsubscribe datachannel warning\",e),e}}async tryUnpubBeforeRepub(e,t){try{await this.signal.request(_b.UNPUBLISH,{stream_id:e,ortc:t},!0)}catch(e){throw Qy.warning(\"[\".concat(this.store.clientId,\"] tryUnpubBeforeRepub warning: \"),e),e}}async tryUnpubDataChannelBeforeRepub(e,t){try{await this.signal.request(_b.UNPUBLISH_DATASTREAM,{channnel_id:t.channelId},!0)}catch(e){throw Qy.warning(\"unpublish datastream warning: \",e),e}}async tryMassUnsubBeforeResub(e){const t={users:e.map((e=>({stream_id:e.stream_id,stream_type:e.stream_type})))};try{await this.signal.request(_b.UNSUBSCRIBE_STREAMS,t,!0)}catch(e){throw Qy.warning(\"[\".concat(this.store.clientId,\"] tryMassUnsubBeforeResub warning\"),e),e}}async muteLocal(e,t){const i={action:e.find((e=>e.stream_type===Mb.Audio))?\"mute_local_audio\":\"mute_local_video\",p2p_id:this.store.p2pId,ortc:e,stream_id:t};try{await this.signal.request(_b.CONTROL,i,!0,!0)}catch(e){throw Qy.warning(\"[\".concat(this.store.clientId,\"] gateway muteLocal warning: \"),e),e}}async unmuteLocal(e,t){const i={action:e.find((e=>e.stream_type===Mb.Audio))?\"unmute_local_audio\":\"unmute_local_video\",p2p_id:this.store.p2pId,ortc:e,stream_id:t};try{await this.signal.request(_b.CONTROL,i,!0,!0)}catch(e){throw Qy.warning(\"[\".concat(this.store.clientId,\"] gateway unmuteLocal warning: \"),e),e}}async muteRemote(e,t){const i={action:e===Yb.AUDIO?\"mute_remote_audio\":\"mute_remote_video\",p2p_id:this.store.p2pId,stream_id:t};try{await this.signal.request(_b.CONTROL,i,!0,!0)}catch(e){throw Qy.warning(\"[\".concat(this.store.clientId,\"] gateway muteRemote warning: \"),e),e}}async unmuteRemote(e,t){const i={action:e===Yb.AUDIO?\"unmute_remote_audio\":\"unmute_remote_video\",p2p_id:this.store.p2pId,stream_id:t};try{await this.signal.request(_b.CONTROL,i,!0,!0)}catch(e){throw Qy.warning(\"[\".concat(this.store.clientId,\"] gateway unmuteRemote warning: \"),e),e}}uploadWRTCStats(e){this.signal.uploadWRTCStats(e)}upload(e,t){this.signal.upload(e,t)}getSignalRTT(){return this.signal.rtt}async restartICE(e){const t={p2p_id:this.store.p2pId,stream_id:this.store.uid,ortc:e};try{return await this.signal.request(_b.RESTART_ICE,t,!0)}catch(e){throw Qy.warning(\"[\".concat(this.store.clientId,\"] P2PChannel.restartICE warning: \"),e),e}}reconnect(){\"CONNECTED\"===this.state&&this.signal.reconnect(void 0,Dv.P2P_FAILED)}getCurrentGatewayAddress(){var e,t;if(!Dy(\"GATEWAY_WSS_ADDRESS\"))return Dy(\"USE_CANDIDATE_FROM_AP_DETAIL\")&&null!==(e=this.joinInfo)&&void 0!==e&&e.apGatewayAddress?(Qy.debug(\"[\".concat(this.store.clientId,\"] use candidate from ap detail, \").concat(JSON.stringify(this.joinInfo.apGatewayAddress))),this.joinInfo.apGatewayAddress):null!==(t=this.joinInfo)&&void 0!==t&&t.gatewayAddrs?this.joinInfo.gatewayAddrs[this.signal.currentURLIndex]:void 0}async setPublishAudioFilterEnabled(e){await this.signal.request(_b.SET_PARAMETER,{enablePublishAudioFilter:e})}}let $M=0,eU=0;function tU(e,t,i,n){return new Gh(((r,o)=>{t.timeout=t.timeout||Dy(\"HTTP_CONNECT_TIMEOUT\"),t.responseType=t.responseType||\"json\",t.data&&!i?(t.data=JSON.stringify(t.data),$M+=Xv(t.data)):i&&(t.data.size?$M+=t.data.size:t.data instanceof FormData?$M+=Qv(t.data):$M+=Xv(JSON.stringify(t.data))),t.headers=t.headers||{},t.headers[\"Content-Type\"]=t.headers[\"Content-Type\"]||\"application/json\",t.method=\"POST\",t.url=e,EI.request(t).then((e=>{\"string\"==typeof e.data?eU+=Xv(e.data):e.data instanceof ArrayBuffer||e.data instanceof Uint8Array?eU+=e.data.byteLength:eU+=Xv(JSON.stringify(e.data)),n&&r({data:e.data,headers:e.headers}),r(e.data)})).catch((e=>{EI.isCancel(e)?o(new Sb(nv.OPERATION_ABORTED,\"cancel token canceled\")):\"ECONNABORTED\"===e.code?o(new Sb(nv.NETWORK_TIMEOUT,e.message)):e.response?o(new Sb(nv.NETWORK_RESPONSE_ERROR,e.response.status)):o(new Sb(nv.NETWORK_ERROR,e.message))}))}))}\n/*! formdata-polyfill. MIT License. Jimmy W?rting <https://jimmy.warting.se/opensource> */!function(){var e;function i(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}var n=\"function\"==typeof Object.defineProperties?Object.defineProperty:function(e,t,i){return e==Array.prototype||e==Object.prototype||(e[t]=i.value),e};var r,o=function(e){e=[\"object\"==typeof globalThis&&globalThis,e,\"object\"==typeof window&&window,\"object\"==typeof self&&self,\"object\"==typeof t&&t];for(var i=0;i<e.length;++i){var n=e[i];if(n&&n.Math==Math)return n}throw Error(\"Cannot find global object\")}(this);function s(e,t){if(t)e:{var i=o;e=e.split(\".\");for(var r=0;r<e.length-1;r++){var s=e[r];if(!(s in i))break e;i=i[s]}(t=t(r=i[e=e[e.length-1]]))!=r&&null!=t&&n(i,e,{configurable:!0,writable:!0,value:t})}}function a(e){return(e={next:e})[Symbol.iterator]=function(){return this},e}function c(e){var t=\"undefined\"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:i(e)}}if(s(\"Symbol\",(function(e){function t(e,t){this.A=e,n(this,\"description\",{configurable:!0,writable:!0,value:t})}if(e)return e;t.prototype.toString=function(){return this.A};var i=\"jscomp_symbol_\"+(1e9*Math.random()>>>0)+\"_\",r=0;return function e(n){if(this instanceof e)throw new TypeError(\"Symbol is not a constructor\");return new t(i+(n||\"\")+\"_\"+r++,n)}})),s(\"Symbol.iterator\",(function(e){if(e)return e;e=Symbol(\"Symbol.iterator\");for(var t=\"Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array\".split(\" \"),r=0;r<t.length;r++){var s=o[t[r]];\"function\"==typeof s&&\"function\"!=typeof s.prototype[e]&&n(s.prototype,e,{configurable:!0,writable:!0,value:function(){return a(i(this))}})}return e})),\"function\"==typeof Object.setPrototypeOf)r=Object.setPrototypeOf;else{var d;e:{var l={};try{l.__proto__={a:!0},d=l.a;break e}catch(e){}d=!1}r=d?function(e,t){if(e.__proto__=t,e.__proto__!==t)throw new TypeError(e+\" is not extensible\");return e}:null}var u=r;function h(){this.m=!1,this.j=null,this.v=void 0,this.h=1,this.u=this.C=0,this.l=null}function p(e){if(e.m)throw new TypeError(\"Generator is already running\");e.m=!0}function _(e,t){return e.h=3,{value:t}}function E(e){this.g=new h,this.G=e}function m(e,t,i,n){try{var r=t.call(e.g.j,i);if(!(r instanceof Object))throw new TypeError(\"Iterator result \"+r+\" is not an object\");if(!r.done)return e.g.m=!1,r;var o=r.value}catch(t){return e.g.j=null,e.g.s(t),f(e)}return e.g.j=null,n.call(e.g,o),f(e)}function f(e){for(;e.g.h;)try{var t=e.G(e.g);if(t)return e.g.m=!1,{value:t.value,done:!1}}catch(t){e.g.v=void 0,e.g.s(t)}if(e.g.m=!1,e.g.l){if(t=e.g.l,e.g.l=null,t.F)throw t.D;return{value:t.return,done:!0}}return{value:void 0,done:!0}}function T(e){this.next=function(t){return e.o(t)},this.throw=function(t){return e.s(t)},this.return=function(t){return function(e,t){p(e.g);var i=e.g.j;return i?m(e,\"return\"in i?i.return:function(e){return{value:e,done:!0}},t,e.g.return):(e.g.return(t),f(e))}(e,t)},this[Symbol.iterator]=function(){return this}}function S(e,t){return t=new T(new E(t)),u&&e.prototype&&u(t,e.prototype),t}if(h.prototype.o=function(e){this.v=e},h.prototype.s=function(e){this.l={D:e,F:!0},this.h=this.C||this.u},h.prototype.return=function(e){this.l={return:e},this.h=this.u},E.prototype.o=function(e){return p(this.g),this.g.j?m(this,this.g.j.next,e,this.g.o):(this.g.o(e),f(this))},E.prototype.s=function(e){return p(this.g),this.g.j?m(this,this.g.j.throw,e,this.g.o):(this.g.s(e),f(this))},s(\"Array.prototype.entries\",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+=\"\");var i=0,n=!1,r={next:function(){if(!n&&i<e.length){var r=i++;return{value:t(r,e[r]),done:!1}}return n=!0,{done:!0,value:void 0}}};return r[Symbol.iterator]=function(){return r},r}(this,(function(e,t){return[e,t]}))}})),\"undefined\"!=typeof Blob&&(\"undefined\"==typeof FormData||!FormData.prototype.keys)){var g=function(e,t){for(var i=0;i<e.length;i++)t(e[i])},R=function(e){return e.replace(/\\r?\\n|\\r/g,\"\\r\\n\")},C=function(e,t,i){return t instanceof Blob?(i=void 0!==i?String(i+\"\"):\"string\"==typeof t.name?t.name:\"blob\",t.name===i&&\"[object Blob]\"!==Object.prototype.toString.call(t)||(t=new File([t],i)),[String(e),t]):[String(e),String(t)]},I=function(e,t){if(e.length<t)throw new TypeError(t+\" argument required, but only \"+e.length+\" present.\")},v=\"object\"==typeof globalThis?globalThis:\"object\"==typeof window?window:\"object\"==typeof self?self:this,y=v.FormData,A=v.XMLHttpRequest&&v.XMLHttpRequest.prototype.send,b=v.Request&&v.fetch,w=v.navigator&&v.navigator.sendBeacon,O=v.Element&&v.Element.prototype,N=v.Symbol&&Symbol.toStringTag;N&&(Blob.prototype[N]||(Blob.prototype[N]=\"Blob\"),\"File\"in v&&!File.prototype[N]&&(File.prototype[N]=\"File\"));try{new File([],\"\")}catch(e){v.File=function(e,t,i){return e=new Blob(e,i||{}),Object.defineProperties(e,{name:{value:t},lastModified:{value:+(i&&void 0!==i.lastModified?new Date(i.lastModified):new Date)},toString:{value:function(){return\"[object File]\"}}}),N&&Object.defineProperty(e,N,{value:\"File\"}),e}}var D=function(e){return e.replace(/\\n/g,\"%0A\").replace(/\\r/g,\"%0D\").replace(/\"/g,\"%22\")},P=function(e){this.i=[];var t=this;e&&g(e.elements,(function(e){if(e.name&&!e.disabled&&\"submit\"!==e.type&&\"button\"!==e.type&&!e.matches(\"form fieldset[disabled] *\"))if(\"file\"===e.type){var i=e.files&&e.files.length?e.files:[new File([],\"\",{type:\"application/octet-stream\"})];g(i,(function(i){t.append(e.name,i)}))}else\"select-multiple\"===e.type||\"select-one\"===e.type?g(e.options,(function(i){!i.disabled&&i.selected&&t.append(e.name,i.value)})):\"checkbox\"===e.type||\"radio\"===e.type?e.checked&&t.append(e.name,e.value):(i=\"textarea\"===e.type?R(e.value):e.value,t.append(e.name,i))}))};if((e=P.prototype).append=function(e,t,i){I(arguments,2),this.i.push(C(e,t,i))},e.delete=function(e){I(arguments,1);var t=[];e=String(e),g(this.i,(function(i){i[0]!==e&&t.push(i)})),this.i=t},e.entries=function e(){var t,i=this;return S(e,(function(e){if(1==e.h&&(t=0),3!=e.h)return t<i.i.length?e=_(e,i.i[t]):(e.h=0,e=void 0),e;t++,e.h=2}))},e.forEach=function(e,t){I(arguments,1);for(var i=c(this),n=i.next();!n.done;n=i.next()){var r=c(n.value);n=r.next().value,r=r.next().value,e.call(t,r,n,this)}},e.get=function(e){I(arguments,1);var t=this.i;e=String(e);for(var i=0;i<t.length;i++)if(t[i][0]===e)return t[i][1];return null},e.getAll=function(e){I(arguments,1);var t=[];return e=String(e),g(this.i,(function(i){i[0]===e&&t.push(i[1])})),t},e.has=function(e){I(arguments,1),e=String(e);for(var t=0;t<this.i.length;t++)if(this.i[t][0]===e)return!0;return!1},e.keys=function e(){var t,i,n,r,o=this;return S(e,(function(e){if(1==e.h&&(t=c(o),i=t.next()),3!=e.h)return i.done?void(e.h=0):(n=i.value,r=c(n),_(e,r.next().value));i=t.next(),e.h=2}))},e.set=function(e,t,i){I(arguments,2),e=String(e);var n=[],r=C(e,t,i),o=!0;g(this.i,(function(t){t[0]===e?o&&(o=!n.push(r)):n.push(t)})),o&&n.push(r),this.i=n},e.values=function e(){var t,i,n,r,o=this;return S(e,(function(e){if(1==e.h&&(t=c(o),i=t.next()),3!=e.h)return i.done?void(e.h=0):(n=i.value,(r=c(n)).next(),_(e,r.next().value));i=t.next(),e.h=2}))},P.prototype._asNative=function(){for(var e=new y,t=c(this),i=t.next();!i.done;i=t.next()){var n=c(i.value);i=n.next().value,n=n.next().value,e.append(i,n)}return e},P.prototype._blob=function(){var e=\"----formdata-polyfill-\"+Math.random(),t=[],i=\"--\"+e+'\\r\\nContent-Disposition: form-data; name=\"';return this.forEach((function(e,n){return\"string\"==typeof e?t.push(i+D(R(n))+'\"\\r\\n\\r\\n'+R(e)+\"\\r\\n\"):t.push(i+D(R(n))+'\"; filename=\"'+D(e.name)+'\"\\r\\nContent-Type: '+(e.type||\"application/octet-stream\")+\"\\r\\n\\r\\n\",e,\"\\r\\n\")})),t.push(\"--\"+e+\"--\"),new Blob(t,{type:\"multipart/form-data; boundary=\"+e})},P.prototype[Symbol.iterator]=function(){return this.entries()},P.prototype.toString=function(){return\"[object FormData]\"},O&&!O.matches&&(O.matches=O.matchesSelector||O.mozMatchesSelector||O.msMatchesSelector||O.oMatchesSelector||O.webkitMatchesSelector||function(e){for(var t=(e=(this.document||this.ownerDocument).querySelectorAll(e)).length;0<=--t&&e.item(t)!==this;);return-1<t}),N&&(P.prototype[N]=\"FormData\"),A){var L=v.XMLHttpRequest.prototype.setRequestHeader;v.XMLHttpRequest.prototype.setRequestHeader=function(e,t){L.call(this,e,t),\"content-type\"===e.toLowerCase()&&(this.B=!0)},v.XMLHttpRequest.prototype.send=function(e){e instanceof P?(e=e._blob(),this.B||this.setRequestHeader(\"Content-Type\",e.type),A.call(this,e)):A.call(this,e)}}b&&(v.fetch=function(e,t){return t&&t.body&&t.body instanceof P&&(t.body=t.body._blob()),b.call(this,e,t)}),w&&(v.navigator.sendBeacon=function(e,t){return t instanceof P&&(t=t._asNative()),w.call(this,e,t)}),v.FormData=P}}();const iU=()=>{const e=Dy(\"AREAS\");0===e.length&&e.push(Fb.GLOBAL);return Jn(e).call(e,((e,t,i)=>{const n=nU(t);return n?0===i?n:\"\".concat(e,\",\").concat(n):e}),\"\")},nU=e=>e===Fb.OVERSEA?\"\".concat(jb.ASIA,\",\").concat(jb.EUROPE,\",\").concat(jb.AFRICA,\",\").concat(jb.NORTH_AMERICA,\",\").concat(jb.SOUTH_AMERICA,\",\").concat(jb.OCEANIA):jb[e],rU=e=>{const t={CODE:\"\",WEBCS_DOMAIN:[],WEBCS_DOMAIN_BACKUP_LIST:[],PROXY_CS:[],CDS_AP:[],ACCOUNT_REGISTER:[],UAP_AP:[],EVENT_REPORT_DOMAIN:[],EVENT_REPORT_BACKUP_DOMAIN:[],LOG_UPLOAD_SERVER:[],PROXY_SERVER_TYPE3:[]};return e.map((e=>{const i=Gb[e],n=Object.keys(i);n&&n.map((e=>{\"CODE\"!==e&&(t[e]=t[e].concat(i[e]))}))})),t},oU={GLOBAL:{ASIA:[Fb.CHINA,Fb.JAPAN,Fb.INDIA,Fb.KOREA,Fb.HKMC],EUROPE:[],NORTH_AMERICA:[Fb.US],SOUTH_AMERICA:[],OCEANIA:[],AFRICA:[]}},sU=Object.keys(oU[Fb.GLOBAL]),aU=[Fb.CHINA,Fb.NORTH_AMERICA,Fb.EUROPE,Fb.ASIA,Fb.JAPAN,Fb.INDIA,Fb.OCEANIA,Fb.SOUTH_AMERICA,Fb.AFRICA,Fb.KOREA,Fb.HKMC,Fb.US],cU=function(e,t){let i=[];if(Dn(e).call(e,Fb.GLOBAL)){const o=[Fb.GLOBAL,Fb.OVERSEA],s=Object.keys(Gb);if(t===Fb.GLOBAL)throw new Sb(nv.INVALID_PARAMS,\"GLOBAL is an invalid excludedArea value\");if(t===Fb.CHINA)i=[Fb.OVERSEA];else if(r=t,Dn(sU).call(sU,r)){const e=(n=t,oU[Fb.GLOBAL][n]||[]),r=[...o,t,...e];i=s.filter((e=>!Dn(r).call(r,e)))}else if(function(e){let t=!1;return sU.forEach((i=>{var n;Dn(n=oU[Fb.GLOBAL][i]).call(n,e)&&(t=!0)})),t}(t)){const e=function(e){let t;return sU.forEach((i=>{var n;Dn(n=oU[Fb.GLOBAL][i]).call(n,e)&&(t=i)})),t}(t),n=[...o,e,t];i=s.filter((e=>!Dn(n).call(n,e)))}else i=e;i=function(e){const t=[];return aU.forEach((i=>{Dn(e).call(e,i)&&t.push(i)})),t.concat(e.filter((e=>!Dn(aU).call(aU,e))))}(i)}else i=e;var n,r;return i};function dU(e){var t,i;if(!e&&Dn(t=Dy(\"AREAS\")).call(t,Fb.EXTENSIONS))return Qy.debug(\"update area from ap : reset\"),void lU(aA,!0);if(!Dn(i=Dy(\"AREAS\")).call(i,Fb.GLOBAL)||!e)return;let n=Gb.EXTENSIONS;n&&(n={CODE:nU(Fb.EXTENSIONS),WEBCS_DOMAIN:[\"ap-web-1-\".concat(e,\".agora.io\")],WEBCS_DOMAIN_BACKUP_LIST:[\"ap-web-2-\".concat(e,\".ap.sd-rtn.com\")],PROXY_CS:[\"proxy-ap-web-\".concat(e,\".agora.io\")],CDS_AP:[\"cds-ap-web-1-\".concat(e,\".agora.io\"),\"cds-ap-web-2-\".concat(e,\".ap.sd-rtn.com\")],ACCOUNT_REGISTER:[\"sua-ap-web-1-\".concat(e,\".agora.io\"),\"sua-ap-web-2-\".concat(e,\".ap.sd-rtn.com\")],UAP_AP:[\"uap-ap-web-1-\".concat(e,\".agora.io\"),\"uap-ap-web-2-\".concat(e,\".ap.sd-rtn.com\")],EVENT_REPORT_DOMAIN:[\"statscollector-1-\".concat(e,\".agora.io\")],EVENT_REPORT_BACKUP_DOMAIN:[\"statscollector-2-\".concat(e,\".agora.io\")],LOG_UPLOAD_SERVER:[\"logservice-\".concat(e,\".agora.io\")],PROXY_SERVER_TYPE3:[\"webrtc-cloud-proxy-\".concat(e,\".agora.io\")]},Qy.debug(\"update area from ap success: \".concat(e,\",config is \"),n),Ny(\"AREAS\",[Fb.EXTENSIONS],!0),Object.keys(n).map((e=>{if(\"LOG_UPLOAD_SERVER\"===e||\"EVENT_REPORT_DOMAIN\"===e||\"EVENT_REPORT_BACKUP_DOMAIN\"===e||\"PROXY_SERVER_TYPE3\"===e){Ny(e,n[e][0])}else Ny(e,n[e])})))}function lU(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=sA.reportApiInvoke(null,{name:Cv.SET_AREA,options:e,tag:Iv.TRACER});try{let n=[];if(\"string\"==typeof e&&(n=[e]),Array.isArray(e)&&(e.forEach((e=>{if(!Dn(Bb).call(Bb,e))throw new Sb(nv.INVALID_PARAMS,\"invalid area code\")})),n=e),\"[object Object]\"===Object.prototype.toString.call(e)){const{areaCode:t,excludedArea:i}=e;if(!t)throw new Sb(nv.INVALID_PARAMS,\"area code is needed\");let r=t;\"string\"==typeof t&&(r=[t]),n=i?cU(r,i):r}if(!t){if(Py.AREAS){const e=new Sb(nv.PROHIBITED_OPERATION,\"setArea is prohibited because of config-distribute\");return i.onError(e),void Qy.warning(\"setArea is prohibited because of config-distribute\")}if(Dn(n).call(n,Fb.GLOBAL)&&Dy(\"AREAS\")===Fb.EXTENSIONS){const e=new Sb(nv.PROHIBITED_OPERATION,\"setArea is prohibited because of ap extensions\");return i.onError(e),void Qy.warning(\"setArea is prohibited because of ap extensions\")}}Ny(\"AREAS\",n,t);const r=rU(n);Object.keys(r).map((e=>{if(\"LOG_UPLOAD_SERVER\"===e||\"EVENT_REPORT_DOMAIN\"===e||\"EVENT_REPORT_BACKUP_DOMAIN\"===e||\"PROXY_SERVER_TYPE3\"===e){Ny(e,r[e][0])}else Ny(e,r[e])})),Qy.debug(\"set area success:\",n.join(\",\"))}catch(e){throw i.onError(e),e}i.onSuccess()}function uU(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function hU(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?uU(Object(i),!0).forEach((function(t){og(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):uU(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}let pU=1;function _U(e,t,i,n,r){pU+=1;const o={sid:i.sid,command:\"convergeAllocateEdge\",uid:\"666\",appId:i.appId,ts:Math.floor(Date.now()/1e3),seq:pU,requestId:pU,version:vy,cname:i.cname},s={service_name:t,json_body:JSON.stringify(o)};let a,c,d=e[0];return my((async()=>{a=Date.now();const e=await tU(d,{data:s,cancelToken:n,headers:{\"X-Packet-Service-Type\":\"0\",\"X-Packet-URI\":\"61\"}});if(c=Date.now()-a,0!==e.code){const t=new Sb(nv.UNEXPECTED_RESPONSE,\"live streaming ap error, code\"+e.code,{retry:!0,responseTime:c});throw Qy.error(t.toString()),t}const i=JSON.parse(e.json_body);if(200!==i.code){const e=new Sb(nv.UNEXPECTED_RESPONSE,\"live streaming app center error, code: \".concat(i.code,\", reason: \").concat(i.reason),{code:i.code,responseTime:c});throw Qy.error(e.toString()),e}if(!i.servers||0===i.servers.length){const e=new Sb(nv.UNEXPECTED_RESPONSE,\"live streaming app center empty server\",{code:i.code,responseTime:c});throw Qy.error(e.toString()),e}const r=function(e,t){return{addressList:e.servers.map((e=>\"wss://\".concat(e.address.replace(/\\./g,\"-\"),\".\").concat(Dy(\"WORKER_DOMAIN\"),\":\").concat(e.wss,\"?serviceName=\").concat(encodeURIComponent(t)))),workerToken:e.workerToken,vid:e.vid}}(i,t);return Dy(\"LIVE_STREAMING_ADDRESS\")&&(r.addressList=Dy(\"LIVE_STREAMING_ADDRESS\")instanceof Array?Dy(\"LIVE_STREAMING_ADDRESS\"):[Dy(\"LIVE_STREAMING_ADDRESS\")]),hU(hU({},r),{},{responseTime:c})}),((n,r)=>(sA.apworkerEvent(i.sid,{success:!0,sc:200,serviceName:t,responseDetail:JSON.stringify(n.addressList),firstSuccess:0===r,responseTime:c,serverIp:e[r%e.length]}),!1)),((n,r)=>(sA.apworkerEvent(i.sid,{success:!1,sc:n.data&&n.data.code||200,serviceName:t,responseTime:c,serverIp:e[r%e.length]}),!!(n.code!==nv.OPERATION_ABORTED&&n.code!==nv.UNEXPECTED_RESPONSE||n.data&&n.data.retry)&&(d=e[(r+1)%e.length],!0))),r)}let EU=1;function mU(e,t,i,n){let{url:r,areaCode:o}=e;const{clientId:s,sid:a}=t,c=Date.now();let d;const[l,u]=RU(t,o,[Ow.CHOOSE_SERVER]);let h=Vv.networkState;return my((async()=>{h&&Vv.networkState===Pv.OFFLINE&&Vv.onlineWaiter&&await Gh.race([Vv.onlineWaiter,$v(n&&n.maxRetryTimeout||_y.maxRetryTimeout)]),h=Vv.networkState;const{data:e,headers:o}=await tU(r,{data:l,cancelToken:i,headers:{\"Content-Type\":\"multipart/form-data;\"}},!0,!0);d=\"1\"===o.http3?1:-1,sA.reportResourceTiming(r,a),TU(e,r,t,c,[Ow.CHOOSE_SERVER],d);const s=xw(e,Ow.CHOOSE_SERVER);return SU(s),Lw(s,r)}),(e=>(e&&sA.joinChooseServer(a,{lts:c,succ:!0,csAddr:r,opid:u,serverList:e.gatewayAddrs.map((e=>e.address)),ec:null,cid:e.cid.toString(),uid:e.uid.toString(),csIp:e.csIp,unilbsServerIds:[Ow.CHOOSE_SERVER].toString(),isHttp3:d}),!1)),(e=>e.code!==nv.OPERATION_ABORTED&&(e.code===nv.CAN_NOT_GET_GATEWAY_SERVER?e.data.retry:(sA.joinChooseServer(a,{lts:c,succ:!1,csAddr:r,serverList:null,opid:u,ec:e.code,csIp:e.data&&e.data.csIp,unilbsServerIds:[Ow.CHOOSE_SERVER].toString(),extend:JSON.stringify({networkState:h}),isHttp3:d}),Qy.warning(\"[\".concat(s||\"sid-\".concat(a.slice(0,6)),\"] Choose server network error, retry\"),e),!0))),n)}function fU(e,t,i,n){let r,{url:o,areaCode:s,serviceIds:a}=e;const c=Date.now(),[d,l]=RU(t,s,a);let u;return my((async()=>{u&&Vv.networkState===Pv.OFFLINE&&Vv.onlineWaiter&&await Gh.race([Vv.onlineWaiter,$v(n&&n.maxRetryTimeout||_y.maxRetryTimeout)]),u=Vv.networkState;const{data:e,headers:s}=await tU(o,{data:d,cancelToken:i,headers:{\"Content-Type\":\"multipart/form-data;\"}},!0,!0);r=\"1\"===s.http3?1:-1,sA.reportResourceTiming(o,t.sid),TU(e,o,t,c,a,r);const l=xw(e,Ow.CHOOSE_SERVER),h=xw(e,\"proxy5\"===t.cloudProxyServer?Ow.CLOUD_PROXY_5:\"proxy3\"===t.cloudProxyServer||\"proxy4\"===t.cloudProxyServer?Ow.CLOUD_PROXY:Ow.CLOUD_PROXY_FALLBACK);return SU(l),{gatewayInfo:Lw(l,o),proxyInfo:h,url:o}}),(e=>(e.gatewayInfo&&sA.joinChooseServer(t.sid,{lts:c,succ:!0,csAddr:o,serverList:e.gatewayInfo.gatewayAddrs.map((e=>e.address)),ec:null,opid:l,cid:e.gatewayInfo.cid.toString(),uid:e.gatewayInfo.uid.toString(),csIp:e.gatewayInfo.csIp,unilbsServerIds:a.toString(),isHttp3:r}),e.proxyInfo&&sA.joinWebProxyAP(t.sid,{lts:c,sucess:1,apServerAddr:o,turnServerAddrList:e.proxyInfo.addresses.map((e=>e.ip)).join(\",\"),errorCode:null,eventType:t.cloudProxyServer,unilbsServerIds:a.toString()}),!1)),(e=>e.code!==nv.OPERATION_ABORTED&&(e.code===nv.CAN_NOT_GET_GATEWAY_SERVER?e.data.retry:(sA.joinWebProxyAP(t.sid,{lts:c,sucess:0,apServerAddr:o,turnServerAddrList:null,errorCode:e.code,eventType:t.cloudProxyServer,unilbsServerIds:a.toString(),extend:JSON.stringify({networkState:u})}),Qy.warning(\"[\".concat(t.clientId,\"] multi unilbs network error, retry\"),e),!0))),n)}const TU=(e,t,i,n,r,o)=>{const{sid:s,clientId:a,cloudProxyServer:c}=i,d=[],l=i=>{4096===i.flag?sA.joinChooseServer(s,{lts:n,succ:!1,csAddr:t,opid:e.opid,serverList:null,ec:i.error.message,csIp:i.error.data&&i.error.data.csIp,unilbsServerIds:r.toString(),isHttp3:o}):1048576!==i.flag&&4194304!==i.flag&&4194310!==i.flag||sA.joinWebProxyAP(s,{lts:n,sucess:0,apServerAddr:t,turnServerAddrList:null,errorCode:i.error.code,eventType:c,unilbsServerIds:r.toString()})};if(e.response_body.forEach((t=>{const i=t.buffer.code;if(23===t.uri&&0===i&&!t.buffer.edges_services)if(4194310===t.buffer.flag)Qy.warning(\"no edge services in ap response of proxy fallback, will not set proxy in iceServers\"),t.buffer.edges_services=[];else{const i={error:new Sb(nv.CAN_NOT_GET_GATEWAY_SERVER,\"no edge services in ap response\",{retry:!0,csIp:e.detail[502]}),flag:t.buffer.flag};d.push(i),l(i)}if(0!==i){const n=uw(i),r={error:new Sb(nv.CAN_NOT_GET_GATEWAY_SERVER,n.desc,{desc:n.desc,retry:n.retry,csIp:e.detail[502]}),flag:t.buffer.flag};4194310===t.buffer.flag?Qy.warning(r.error.toString()):d.push(r),l(r)}})),d.length)throw Qy.warning(\"[\".concat(a||\"sid-\".concat(s.slice(0,6)),\"] multi unilbs \").concat(t,\" failed, \").concat(d.map((e=>\"flag: \".concat(e.flag,\", message: \").concat(e.error.message,\", retry: \").concat(e.error.data.retry))).join(\" | \"))),new Sb(nv.CAN_NOT_GET_GATEWAY_SERVER,d.map((e=>\"flag: \".concat(e.flag,\", message: \").concat(e.error.message))).join(\" | \"),{retry:!!d.find((e=>e.error.data.retry)),csIp:e.detail[502],desc:[...new Set(d.map((e=>{var t;return null==e||null===(t=e.error)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.desc})).filter((e=>!!e)))]})},SU=e=>{var t,i,n,r;if(e.addresses&&0===e.addresses.length&&0===e.code)throw new Sb(nv.CAN_NOT_GET_GATEWAY_SERVER,\"void gateway address\",{retry:!0,csIp:e.detail&&e.detail[502]});Dy(\"AP_AREA\")&&(null!==(n=e.detail)&&void 0!==n&&n[23]&&\"string\"==typeof(null===(r=e.detail)||void 0===r?void 0:r[23])?dU(e.detail[23].toLowerCase()):dU());if(null!==(t=e.detail)&&void 0!==t&&t[19]&&\"string\"==typeof(null===(i=e.detail)||void 0===i?void 0:i[19])){const t=e.detail[19],i=null==t?void 0:t.split(\";\");for(let t=0;t<i.length;t++){var o;const n=jp(o=i[t]).call(o);e.addresses[t]&&i&&(e.addresses[t].fingerprint=n)}}if(Dy(\"GATEWAY_ADDRESS\")&&Dy(\"GATEWAY_ADDRESS\").length>0){Qy.debug(\"assign gateway address to\",Dy(\"GATEWAY_ADDRESS\"));const t=Dy(\"GATEWAY_ADDRESS\").map((t=>{var i,n;const r=null!==(i=null===(n=e.addresses.find((e=>e.ip===t.ip&&e.port===t.port)))||void 0===n?void 0:n.fingerprint)&&void 0!==i?i:\"\";return{ip:t.ip,port:t.port,ticket:e.addresses[0]&&e.addresses[0].ticket,fingerprint:r}}));e.addresses=t}},gU=(e,t)=>{if(e.response_body&&e.response_body.length){const t=e.response_body[0];if(0!==t.buffer.code){const e=uw(t.buffer.code);throw new Sb(nv.UPDATE_TICKET_FAILED,\"[\".concat(t.buffer.code,\"]: \").concat(e.desc),{retry:e.retry})}return t.buffer.ticket}throw Qy.debug(\"update ticket request received ap response without response body:\",t),new Sb(nv.UPDATE_TICKET_FAILED,\"cannot find response body from ap response\",{retry:!1})},RU=(e,t,i)=>{const n=Math.floor(Math.random()*10**12),r={appid:e.appId,client_ts:Date.now(),opid:n,sid:e.sid,request_bodies:[{uri:22,buffer:{cname:e.cname,detail:hU({6:e.stringUid,11:t,12:Dy(\"USE_NEW_TOKEN\")?\"1\":void 0,22:t},e.apRTM?{26:\"RTM2\"}:{}),key:e.token,service_ids:i,uid:e.uid||0}}]};r.request_bodies.forEach((t=>{e.multiIP&&e.multiIP.gateway_ip&&(t.buffer.detail[5]=JSON.stringify({vocs_ip:[e.multiIP.uni_lbs_ip],vos_ip:[e.multiIP.gateway_ip]}))}));const o=new FormData;return o.append(\"request\",JSON.stringify(r)),[o,n]},CU=(e,t)=>{const i=Math.floor(Math.random()*10**12),n={appid:e.appId,client_ts:Date.now(),opid:i,sid:e.sid,request_bodies:[{uri:28,buffer:{cname:e.cname,detail:{1:\"\",6:e.stringUid,12:\"1\"},token:e.token,service_ids:t,uid:e.uid||0,edges_services:e.apResponse.addresses.map((e=>({ip:e.ip,port:e.port})))}}]},r=new FormData;return r.append(\"request\",JSON.stringify(n)),[r,i]};let IU=0;function vU(e){return Gh.all(e.map((e=>e.then((e=>{throw e}),(e=>e))))).then((e=>{throw e}),(e=>e))}const yU=async e=>{let{fragementLength:t,referenceList:i,asyncMapHandler:n,allFailedhandler:r,promisesCollector:o}=e,s=0;const a=t;let c,d=0;const l=async()=>{const e=(()=>{const e=s*a,t=e+a;return i.slice(e,t).map(n)})();o&&o.push(...e);try{c=await vU(e)}catch(e){if(d+=a,s++,!(d>=i.length))return void await l();r(e)}e.forEach((e=>e.cancel()))};return await l(),c},AU=async e=>{let{referenceList:t,asyncMapHandler:i,closeFn:n}=e;const r=t.length;let o=0;const s=async()=>{const e=i(t.shift());try{return await e}catch(e){if(o++,o>=r||null!=n&&n(e))throw e;return s()}};return s()};async function bU(e,t,i,n){const r=async function(e,t,i,n){let r=null;const o=[],s=async()=>{const r=Dy(\"WEBCS_DOMAIN\").slice(0,Dy(\"AJAX_REQUEST_CONCURRENT\")).map((t=>({url:e.proxyServer?\"https://\".concat(e.proxyServer,\"/ap/?url=\").concat(t+\"/api/v2/transpond/webrtc?v=2\"):\"https://\".concat(t,\"/api/v2/transpond/webrtc?v=2\"),areaCode:iU()}))),s=n.recordJoinChannelService({startTs:Date.now(),status:\"pending\",service:\"chooseServer\",urls:r.map((e=>e.url))}),a=await yU({fragementLength:Dy(\"FRAGEMENT_LENGTH\"),referenceList:r,asyncMapHandler:n=>(Qy.debug(\"[\".concat(e.clientId,\"] Connect to choose_server:\"),n.url),mU(n,e,t,i)),allFailedhandler:e=>{throw n.recordJoinChannelService({endTs:Date.now(),status:\"error\",errors:e},s),e[0]},promisesCollector:o});return n.recordJoinChannelService({endTs:Date.now(),status:\"success\"},s),a},a=async()=>{if(await $v(1e3),null!==r)return r;const s=Dy(\"WEBCS_DOMAIN_BACKUP_LIST\").map((t=>({url:e.proxyServer?\"https://\".concat(e.proxyServer,\"/ap/?url=\").concat(t+\"/api/v2/transpond/webrtc?v=2\"):\"https://\".concat(t,\"/api/v2/transpond/webrtc?v=2\"),areaCode:iU()}))),a=n.recordJoinChannelService({endTs:void 0,startTs:Date.now(),status:\"pending\",service:\"chooseServer\",urls:s.map((e=>e.url))}),c=await yU({fragementLength:Dy(\"FRAGEMENT_LENGTH\"),referenceList:s,asyncMapHandler:n=>(Qy.debug(\"[\".concat(e.clientId,\"] Connect to backup choose_server:\"),n.url),mU(n,e,t,i)),allFailedhandler:e=>{throw n.recordJoinChannelService({endTs:Date.now(),status:\"error\",errors:e},a),e[0]},promisesCollector:o});return n.recordJoinChannelService({endTs:Date.now(),status:\"success\"},a),c};try{return r=await vU([s(),a()]),o.length&&o.forEach((e=>e.cancel&&\"function\"==typeof e.cancel&&e.cancel())),r}catch(e){throw e[0]}}(e,t,i,n);return{gatewayInfo:await r}}async function wU(e,t,i,n,r){const o=e.cloudProxyServer;if(\"disabled\"===o){if(!n)return;if(e.useLocalAccessPoint)return await bU(e,t,i,r);if(Dy(\"JOIN_WITH_FALLBACK_MEDIA_PROXY\")){const{gatewayInfo:n,proxyInfo:o}=await LU(e,t,i,r);if(e.turnServer&&\"auto\"!==e.turnServer.mode)return{gatewayInfo:n};const a=o.map((e=>({turnServerURL:e.address,tcpport:e.tcpport||cA.tcpport,udpport:e.udpport||cA.udpport,username:e.username||cA.username,password:e.password||cA.password,forceturn:!1,security:!0})));if(r.useP2P){var s;const t=null!==(s=e.uid)&&void 0!==s?s:n.uid,i=\"glb:\".concat(t.toString()),r=await Tv(i),c=o.map((e=>({turnServerURL:e.address,tcpport:e.tcpport||cA.tcpport,udpport:e.udpport||cA.udpport,username:i,password:r,forceturn:!1,security:!0})));a.push(...c)}return e.turnServer={mode:\"manual\",servers:a},{gatewayInfo:n}}return await bU(e,t,i,r)}const{proxyInfo:a,gatewayInfo:c}=await LU(e,t,i,r),d={gatewayInfo:c},l=a.map((e=>({turnServerURL:e.address,tcpport:\"proxy3\"===o?void 0:e.tcpport?e.tcpport:cA.tcpport,udpport:\"proxy4\"===o?void 0:e.udpport?e.udpport:cA.udpport,username:e.username||cA.username,password:e.password||cA.password,forceturn:\"proxy4\"!==o,security:\"proxy5\"===o})));if(r.useP2P){var u;const t=null!==(u=e.uid)&&void 0!==u?u:c.uid,i=\"glb:\".concat(t.toString()),n=await Tv(i),r=a.map((e=>({turnServerURL:e.address,tcpport:\"proxy3\"===o?void 0:e.tcpport||cA.tcpport,udpport:\"proxy4\"===o?void 0:e.udpport||cA.udpport,username:i,password:n,forceturn:\"proxy4\"!==o,security:\"proxy5\"===o})));l.push(...r)}return e.turnServer={mode:\"manual\",servers:l},Qy.debug(\"[\".concat(e.clientId,\"] set proxy server: \").concat(e.proxyServer,\", mode: \").concat(o)),d}async function OU(e,t,i,n,r){const o=Dy(\"ACCOUNT_REGISTER\").slice(0,Dy(\"AJAX_REQUEST_CONCURRENT\"));let s=[];s=t.proxyServer?o.map((e=>\"https://\".concat(t.proxyServer,\"/ap/?url=\").concat(e+\"/api/v1\"))):o.map((e=>\"https://\".concat(e,\"/api/v1\")));const a=null==r?void 0:r.recordJoinChannelService({startTs:Date.now(),status:\"pending\",service:\"stringUID\",urls:s});try{const o=await async function(e,t,i,n,r){const o=Date.now(),s={sid:i.sid,opid:10,appid:i.appId,string_uid:t};let a=e[0];const c=await my((()=>tU(a+\"\".concat(-1===a.indexOf(\"?\")?\"?\":\"&\",\"action=stringuid\"),{data:s,cancelToken:n,headers:{\"X-Packet-Service-Type\":0,\"X-Packet-URI\":72}})),((i,n)=>{if(0===i.code){if(i.uid<=0||i.uid>=Math.pow(2,32))throw Qy.error(\"Invalid Uint Uid \".concat(t,\" => \").concat(i.uid),i),sA.reqUserAccount(s.sid,{lts:o,success:!1,serverAddr:a,stringUid:s.string_uid,uid:i.uid,errorCode:nv.INVALID_UINT_UID_FROM_STRING_UID,extend:s}),new Sb(nv.INVALID_UINT_UID_FROM_STRING_UID);return sA.reqUserAccount(s.sid,{lts:o,success:!0,serverAddr:a,stringUid:s.string_uid,uid:i.uid,errorCode:null,extend:s}),!1}const r=uw(i.code);return r.retry&&(a=e[(n+1)%e.length]),sA.reqUserAccount(s.sid,{lts:o,success:!1,serverAddr:a,stringUid:s.string_uid,uid:i.uid,errorCode:r.desc,extend:s}),r.retry}),((t,i)=>t.code!==nv.OPERATION_ABORTED&&(sA.reqUserAccount(s.sid,{lts:o,success:!1,serverAddr:a,stringUid:s.string_uid,uid:null,errorCode:t.code,extend:s}),a=e[(i+1)%e.length],!0)),r);if(0!==c.code){const e=uw(c.code);throw new Sb(nv.UNEXPECTED_RESPONSE,e.desc)}return c}(s,e,t,i,n);return null==r||r.recordJoinChannelService({status:\"success\",endTs:Date.now()},a),o.uid}catch(e){throw null==r||r.recordJoinChannelService({status:\"error\",endTs:Date.now(),errors:[e]},a),e}}async function NU(e,t,i){const n=Dy(\"ACCOUNT_REGISTER\");let r=[];r=t.proxyServer?n.map((e=>\"https://\".concat(t.proxyServer,\"/ap/?url=\").concat(e+\"/api/v1\"))):n.map((e=>\"https://\".concat(e,\"/api/v1\")));try{const n=await AU({referenceList:r,asyncMapHandler:n=>async function(e,t,i,n){const r=Date.now(),o={sid:i.sid,opid:10,appid:i.appId,string_uid:t};try{const t=await tU(e+\"\".concat(-1===e.indexOf(\"?\")?\"?\":\"&\",\"action=stringuid\"),{data:o,cancelToken:n,headers:{\"X-Packet-Service-Type\":0,\"X-Packet-URI\":72}});if(0!==t.code){const e=uw(t.code);throw new Sb(nv.UNEXPECTED_RESPONSE,\"preload sua error:\".concat(e.desc),e)}if(t.uid<=0||t.uid>=Math.pow(2,32))throw new Sb(nv.INVALID_UINT_UID_FROM_STRING_UID);return{requestTime:r,url:e,req:o,uid:t.uid,elapse:Date.now()-r}}catch(e){throw e}}(n,e,t,i),closeFn:e=>e.code===nv.OPERATION_ABORTED||e.code===nv.UNEXPECTED_RESPONSE&&!e.data.retry});return n}catch(e){throw e}}async function DU(e,t,i){const n=Dy(\"CDS_AP\").slice(0,Dy(\"AJAX_REQUEST_CONCURRENT\")).map((t=>e.proxyServer?\"https://\".concat(e.proxyServer,\"/ap/?url=\").concat(t+\"/api/v1\"):\"https://\".concat(t,\"/api/v1?action=config\"))),r=n.map((n=>function(e,t,i,n){const r=AI(),o={flag:64,cipher_method:0,features:{device:r.name,system:r.os,system_general:navigator.userAgent,vendor:t.appId,version:vy,cname:t.cname,sid:t.sid,session_id:t.sid,detail:\"\",proxyServer:t.proxyServer}};return my((()=>tU(e,{data:o,timeout:1e3,cancelToken:i,headers:{\"X-Packet-Service-Type\":0,\"X-Packet-URI\":54}})),void 0,(e=>e.code!==nv.OPERATION_ABORTED),n)}(n,e,t,i)));let o=null,s=null,a={};try{o=await vU(r)}catch(e){if(e.code===nv.OPERATION_ABORTED)throw e;s=e}r.forEach((e=>e.cancel()));if(sA.reportApiInvoke(e.sid,{name:Cv.REQUEST_CONFIG_DISTRIBUTE,options:{error:s,res:o}}).onSuccess(),o&&o.test_tags)try{a=function(e){if(!e.test_tags)return{};const t=e.test_tags,i=Object.keys(t),n={};return i.forEach((e=>{var i;const r=jp(i=e.slice(4)).call(i),o=JSON.parse(t[e])[1];n[r]=o})),n}(o)}catch(e){}return a}async function PU(e,t){const i=Dy(\"WEBCS_DOMAIN\").concat(Dy(\"WEBCS_DOMAIN_BACKUP_LIST\")).map((e=>({url:\"https://\".concat(e,\"/api/v2/transpond/webrtc?v=2\"),areaCode:iU(),serviceIds:[Ow.CHOOSE_SERVER,Ow.CLOUD_PROXY_FALLBACK]})));try{const n=await AU({referenceList:i,asyncMapHandler:i=>async function(e,t,i){let n,{url:r,areaCode:o,serviceIds:s}=e;const a=Date.now(),[c,d]=RU(t,o,s);let l=Vv.networkState;try{l&&Vv.networkState===Pv.OFFLINE&&Vv.onlineWaiter&&await Gh.race([Vv.onlineWaiter,$v(_y.maxRetryTimeout)]),l=Vv.networkState;const{data:e,headers:t}=await tU(r,{data:c,cancelToken:i,headers:{\"Content-Type\":\"multipart/form-data;\"}},!0,!0);n=\"1\"===t.http3?1:-1;const o=e=>{const t=[];if(e.response_body.forEach((i=>{const n=i.buffer.code;if(23===i.uri&&0===n&&!i.buffer.edges_services)if(4194310===i.buffer.flag)i.buffer.edges_services=[];else{const n={error:new Sb(nv.CAN_NOT_GET_GATEWAY_SERVER,\"no edge services in ap response\",{retry:!0,csIp:e.detail[502]}),flag:i.buffer.flag};t.push(n)}if(0!==n){const r=uw(n),o={error:new Sb(nv.CAN_NOT_GET_GATEWAY_SERVER,r.desc,{desc:r.desc,retry:r.retry,csIp:e.detail[502]}),flag:i.buffer.flag};4194310===i.buffer.flag?Qy.warning(o.error.toString()):t.push(o)}})),t.length)throw new Sb(nv.CAN_NOT_GET_GATEWAY_SERVER,t.map((e=>\"flag: \".concat(e.flag,\", message: \").concat(e.error.message))).join(\" | \"),{retry:!!t.find((e=>e.error.data.retry)),csIp:e.detail[502],desc:[...new Set(t.map((e=>{var t;return null==e||null===(t=e.error)||void 0===t||null===(t=t.data)||void 0===t?void 0:t.desc})).filter((e=>!!e)))]})};o(e);const s=xw(e,Ow.CHOOSE_SERVER),u=xw(e,Ow.CLOUD_PROXY_FALLBACK);return SU(s),{gatewayInfo:Lw(s,r),proxyInfo:u,opid:d,requestTime:a,url:r,isHttp3:n,elapse:Date.now()-a}}catch(e){throw e}}(i,e,t),closeFn:e=>e.code===nv.OPERATION_ABORTED||e.code===nv.CAN_NOT_GET_GATEWAY_SERVER&&!e.data.retry});return n}catch(e){throw e}}async function LU(e,t,i,n){const r=Dy(\"PROXY_SERVER_TYPE3\"),o=(e,t,i)=>{let n=i||r;return Array.isArray(n)&&(n=t%2==0?r[1]:r[0]),\"https://\".concat(n,\"/ap/?url=\").concat(e)};let s=null;const a=[],c=async()=>{const r=Dy(\"WEBCS_DOMAIN\").slice(0,Dy(\"AJAX_REQUEST_CONCURRENT\")).map(((t,i)=>{let n;return n=\"disabled\"===e.cloudProxyServer&&e.proxyServer?o(\"\".concat(t,\"/api/v2/transpond/webrtc?v=2\"),i,e.proxyServer):\"disabled\"===e.cloudProxyServer||\"fallback\"===e.cloudProxyServer?\"https://\".concat(t,\"/api/v2/transpond/webrtc?v=2\"):o(\"\".concat(t,\"/api/v2/transpond/webrtc?v=2\"),i),{url:n,areaCode:iU(),serviceIds:[Ow.CHOOSE_SERVER,\"proxy5\"===e.cloudProxyServer?Ow.CLOUD_PROXY_5:\"proxy3\"===e.cloudProxyServer||\"proxy4\"===e.cloudProxyServer?Ow.CLOUD_PROXY:Ow.CLOUD_PROXY_FALLBACK]}})),s=n.recordJoinChannelService({startTs:Date.now(),status:\"pending\",service:\"chooseServer\",urls:r.map((e=>e.url))}),c=await yU({fragementLength:Dy(\"FRAGEMENT_LENGTH\"),referenceList:r,asyncMapHandler:n=>(Qy.debug(\"[\".concat(e.clientId,\"] Connect to choose_server:\"),n.url),fU(n,e,t,i)),allFailedhandler:e=>{throw n.recordJoinChannelService({endTs:Date.now(),status:\"error\",errors:e},s),e[0]},promisesCollector:a});return n.recordJoinChannelService({endTs:Date.now(),status:\"success\"},s),c},d=async()=>{if(await $v(1e3),null!==s)return s;const r=Dy(\"WEBCS_DOMAIN_BACKUP_LIST\").map(((t,i)=>{let n;return n=\"disabled\"===e.cloudProxyServer&&e.proxyServer?o(\"\".concat(t,\"/api/v2/transpond/webrtc?v=2\"),i,e.proxyServer):\"disabled\"===e.cloudProxyServer||\"fallback\"===e.cloudProxyServer?\"https://\".concat(t,\"/api/v2/transpond/webrtc?v=2\"):o(\"\".concat(t,\"/api/v2/transpond/webrtc?v=2\"),i),{url:n,areaCode:iU(),serviceIds:[Ow.CHOOSE_SERVER,\"proxy5\"===e.cloudProxyServer?Ow.CLOUD_PROXY_5:\"proxy3\"===e.cloudProxyServer||\"proxy4\"===e.cloudProxyServer?Ow.CLOUD_PROXY:Ow.CLOUD_PROXY_FALLBACK]}})),c=n.recordJoinChannelService({startTs:Date.now(),status:\"pending\",service:\"chooseServer\",urls:r.map((e=>e.url))}),d=await yU({fragementLength:Dy(\"FRAGEMENT_LENGTH\"),referenceList:r,asyncMapHandler:n=>(Qy.debug(\"[\".concat(e.clientId,\"] Connect to backup choose_server:\"),n.url),fU(n,e,t,i)),allFailedhandler:e=>{throw n.recordJoinChannelService({endTs:Date.now(),status:\"error\",errors:e},c),e[0]},promisesCollector:a});return n.recordJoinChannelService({endTs:Date.now(),status:\"success\"},c),d};let l,u,h;try{({gatewayInfo:l,proxyInfo:u,url:h}=await vU([c(),d()]))}catch(e){throw e[0]}if(a.length&&a.forEach((e=>e.cancel&&\"function\"==typeof e.cancel&&e.cancel())),!l||!u)throw new Sb(nv.UNEXPECTED_ERROR,\"missing gateway or proxy response\").print();if(e.apUrl=h,\"disabled\"!==e.cloudProxyServer&&Array.isArray(r)&&h){const t=/^https?:\\/\\/(.+?)(\\/.*)?$/.exec(h)[1];Dn(r).call(r,t)&&(e.proxyServer=t,Qy.setProxyServer(t),sA.setProxyServer(t))}return s={gatewayInfo:l,proxyInfo:await Vw(u,l.uid)},s}async function kU(e,t,i){const n=Dy(\"UAP_AP\").slice(0,Dy(\"AJAX_REQUEST_CONCURRENT\")).map((t=>e.proxyServer?\"https://\".concat(e.proxyServer,\"/ap/?url=\").concat(t+\"/api/v1?action=uap\"):\"https://\".concat(t,\"/api/v1?action=uap\"))),r=n.map((n=>function(e,t,i,n){const r={command:\"convergeAllocateEdge\",sid:t.sid,appId:t.appId,token:t.token,ts:Date.now(),version:vy,cname:t.cname,uid:t.uid.toString(),requestId:EU,seq:EU};EU+=1;const o={service_name:\"tele_channel\",json_body:JSON.stringify(r)};return my((async()=>{const t=await tU(e,{data:o,cancelToken:i,headers:{\"X-Packet-Service-Type\":0,\"X-Packet-URI\":61}});if(0!==t.code){const e=new Sb(nv.UNEXPECTED_RESPONSE,\"cross channel ap error, code\"+t.code,{retry:!0});throw Qy.error(e.toString()),e}const n=JSON.parse(t.json_body);if(200!==n.code){const e=new Sb(nv.UNEXPECTED_RESPONSE,\"cross channel app center error, code: \".concat(n.code,\", reason: \").concat(n.reason));throw Qy.error(e.toString()),e}if(!n.servers||0===n.servers.length){const e=new Sb(nv.UNEXPECTED_RESPONSE,\"cross channel app center empty server\");throw Qy.error(e.toString()),e}return{vid:n.vid,workerToken:n.workerToken,addressList:(Dy(\"CHANNEL_MEDIA_RELAY_SERVERS\")||n.servers).map((e=>\"wss://\".concat(e.address.replace(/\\./g,\"-\"),\".\").concat(Dy(\"WORKER_DOMAIN\"),\":\").concat(e.wss)))}}),void 0,(e=>!!(e.code!==nv.OPERATION_ABORTED&&e.code!==nv.UNEXPECTED_RESPONSE||e.data&&e.data.retry)),n)}(n,e,t,i)));try{const e=await vU(r);return r.forEach((e=>e.cancel())),e}catch(e){throw e[0]}}async function MU(e,t,i){let n=null;const r=[],o=async o=>{const s=Dy(o?\"WEBCS_DOMAIN_BACKUP_LIST\":\"WEBCS_DOMAIN\").map((t=>e.proxyServer?\"https://\".concat(e.proxyServer,\"/ap/?url=\").concat(t+\"/api/v2/transpond/webrtc?v=2\"):\"https://\".concat(t,\"/api/v2/transpond/webrtc?v=2\")));return o&&(await $v(1e3),null!==n)?n:await yU({fragementLength:Dy(\"FRAGEMENT_LENGTH\"),referenceList:s,asyncMapHandler:n=>(Qy.debug(\"[\".concat(e.clientId,\"] update ticket, Connect to \").concat(o?\"backup\":\"\",\" choose_server:\"),n),function(e,t,i,n){const[r]=CU(t,[Ow.CHOOSE_SERVER]);let o=Vv.networkState;return my((async()=>{o&&Vv.networkState===Pv.OFFLINE&&Vv.onlineWaiter&&await Gh.race([Vv.onlineWaiter,$v(n&&n.maxRetryTimeout||_y.maxRetryTimeout)]),o=Vv.networkState;const t=await tU(e,{data:r,cancelToken:i,headers:{\"Content-Type\":\"multipart/form-data;\"}},!0);return gU(t,e)}),(()=>!1),(e=>e.code!==nv.OPERATION_ABORTED&&(e.code===nv.UPDATE_TICKET_FAILED?e.data.retry:(Qy.warning(\"[\".concat(t.clientId,\"] update ticket network error, retry\"),e),!0))),n)}(n,e,t,i)),allFailedhandler:e=>{throw e[0]},promisesCollector:r})};try{return n=await vU([o(!1),o(!0)]),r.length&&r.forEach((e=>e.cancel&&\"function\"==typeof e.cancel&&e.cancel())),n}catch(e){throw e[0]}}function UU(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function xU(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?UU(Object(i),!0).forEach((function(t){og(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):UU(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}class VU extends Sv{get isSuccess(){return!!this.configs}constructor(){super(),og(this,\"configs\",void 0),og(this,\"joinInfo\",void 0),og(this,\"cancelToken\",void 0),og(this,\"retryConfig\",{timeout:3e3,timeoutFactor:1.5,maxRetryCount:1,maxRetryTimeout:1e4}),og(this,\"interval\",void 0),og(this,\"mutex\",new hy(\"config-distribute\")),og(this,\"mutableParamsRead\",!1)}startGetConfigDistribute(e,t){this.joinInfo=e,this.cancelToken=t,this.interval&&this.stopGetConfigDistribute(),Dy(\"ENABLE_CONFIG_DISTRIBUTE\")&&(this.updateConfigDistribute(),this.interval=window.setInterval((()=>{this.updateConfigDistribute()}),Dy(\"CONFIG_DISTRIBUTE_INTERVAL\")))}stopGetConfigDistribute(){this.interval&&clearInterval(this.interval),this.interval=void 0,this.joinInfo=void 0,this.cancelToken=void 0}async awaitConfigDistributeComplete(){if(!this.mutex.isLocked)return;(await this.mutex.lock())()}async updateConfigDistribute(){if(!this.mutableParamsRead){this.mutableParamsRead=!0;sA.reportApiInvoke(null,{options:void 0,name:Cv.LOAD_CONFIG_FROM_LOCALSTORAGE,tag:Iv.TRACER}).onSuccess(JSON.stringify(Py))}if(!this.joinInfo||!this.cancelToken||!this.retryConfig)return void Qy.debug(\"[config-distribute] get config distribute interrupted have no joininfo\");let e;const t=await this.mutex.lock();try{e=await DU(this.joinInfo,this.cancelToken,this.retryConfig),Qy.debug(\"[config-distribute] get config distribute\",JSON.stringify(e)),e.limit_bitrate&&this.handleBitrateLimit(e.limit_bitrate),this.cacheGlobalParameterConfig(e),this.configs=e}catch(e){const t=new Sb(nv.NETWORK_RESPONSE_ERROR,e);Qy.warning(\"[config-distribute] \".concat(t.toString()))}finally{t()}}getBitrateLimit(){return this.configs?this.configs.limit_bitrate:void 0}handleBitrateLimit(e){var t;(t=e)&&t.uplink&&t.id&&void 0!==t.uplink.max_bitrate&&void 0!==t.uplink.min_bitrate&&(this.configs&&this.configs.limit_bitrate?this.configs&&this.configs.limit_bitrate&&this.configs.limit_bitrate.id!==e.id&&this.emit(Wb.UPDATE_BITRATE_LIMIT,e):this.emit(Wb.UPDATE_BITRATE_LIMIT,e))}getLowStreamConfigDistribute(){return this.configs&&this.configs.limit_bitrate&&xU({},this.configs.limit_bitrate.low_stream_uplink)}cacheGlobalParameterConfig(e){var t;const i=aE(t=Object.keys(e).filter((e=>/^webrtc_ng_global_parameter/.test(e)))).call(t);for(let t=0;t<i.length;t++)for(let n=i.length-1;n>t;n--){const t=i[n];if(\"number\"==typeof e[t].__priority){const r=e[t].__priority,o=i[n-1];if(\"number\"==typeof e[o].__priority){if(!(r>e[o].__priority))continue;{const e=t;i[n]=i[n-1],i[n-1]=e}}else{const e=t;i[n]=i[n-1],i[n-1]=e}}}const n={};i.forEach((t=>{const i=e[t],r=i.__expires;Object.keys(i).forEach((e=>{\"__priority\"===e||\"__expires\"===e||Object.prototype.hasOwnProperty.call(n,e)||(n[e]=xU({value:i[e]},r&&{expires:r}))}))}));try{!function(e){try{const t=Date.now();Object.keys(e).forEach((i=>{switch(i){case\"ENABLE_EVENT_REPORT\":case\"UPLOAD_LOG\":case\"ENABLE_AG_ADAPTATION\":case\"FORCE_AG_HIGH_FRAMERATE\":case\"FORCE_SUPPORT_AG_ADAPTATION\":case\"ENCODER_CONFIG_LIMIT\":case\"CAMERA_CAPTURE_CONFIG\":case\"ENABLE_PRELOAD\":if(Object.prototype.hasOwnProperty.call(Oy,i)){const{value:n,expires:r}=e[i];if(r&&r<=t)return;Py[i]=n,Oy[i]=n,Qy.debug(\"Update global parameters from config distribute\",i,n)}}}))}catch(t){Qy.error(\"Error update config immediately: \".concat(e),t.message)}}(n);const e=JSON.stringify(n),t=window.btoa(e);window.localStorage.setItem(\"websdk_ng_global_parameter\",t),Qy.debug(\"Caching global parameters \".concat(e))}catch(e){Qy.error(\"Error caching global parameters:\",e.message)}}}class FU extends Sv{constructor(){super(...arguments),og(this,\"resultStorage\",new Map)}setLocalAudioStats(e,t,i){this.record(\"AUDIO_INPUT_LEVEL_TOO_LOW\",e,this.checkAudioInputLevel(i,t)),this.record(\"SEND_AUDIO_BITRATE_TOO_LOW\",e,this.checkSendAudioBitrate(i,t))}setLocalVideoStats(e,t,i){this.record(\"SEND_VIDEO_BITRATE_TOO_LOW\",e,this.checkSendVideoBitrate(i,t)),this.record(\"FRAMERATE_INPUT_TOO_LOW\",e,this.checkFramerateInput(i,t)),this.record(\"FRAMERATE_SENT_TOO_LOW\",e,this.checkFramerateSent(i))}setRemoteAudioStats(e,t){const i=e.getUserId();this.record(\"AUDIO_OUTPUT_LEVEL_TOO_LOW\",i,this.checkAudioOutputLevel(t))}setRemoteVideoStats(e,t){const i=e.getUserId();this.record(\"RECV_VIDEO_DECODE_FAILED\",i,this.checkVideoDecode(t))}record(e,t,i){if(Dy(\"STATS_UPDATE_INTERVAL\")>500)return;this.resultStorage.has(e)||this.resultStorage.set(e,{result:[],isPrevNormal:!0});const n=this.resultStorage.get(e);if(n&&(n.result.push(i),n.result.length>=5)){var r;const i=Dn(r=n.result).call(r,!0);n.isPrevNormal&&!i&&this.emit(\"exception\",BU[e],e,t),!n.isPrevNormal&&i&&this.emit(\"exception\",BU[e]+2e3,e+\"_RECOVER\",t),n.isPrevNormal=i,n.result=[]}}checkAudioOutputLevel(e){return!(e.receiveBitrate>0&&0===e.receiveLevel)}checkAudioInputLevel(e,t){return t instanceof rk&&!t.isActive||(!!t.muted||0!==e.sendVolumeLevel)}checkFramerateInput(e,t){let i=null;t._encoderConfig&&t._encoderConfig.frameRate&&(i=kw(t._encoderConfig.frameRate));const n=e.captureFrameRate;return!i||!n||!(i>10&&n<5||i<10&&i>=5&&n<=1)}checkFramerateSent(e){return!(e.captureFrameRate&&e.sendFrameRate&&e.captureFrameRate>5&&e.sendFrameRate<=1)}checkSendVideoBitrate(e,t){return!!t.muted||0!==e.sendBitrate}checkSendAudioBitrate(e,t){return t instanceof rk&&!t.isActive||(!!t.muted||0!==e.sendBitrate)}checkVideoDecode(e){return 0===e.receiveBitrate||0!==e.decodeFrameRate}}const BU={FRAMERATE_INPUT_TOO_LOW:1001,FRAMERATE_SENT_TOO_LOW:1002,SEND_VIDEO_BITRATE_TOO_LOW:1003,RECV_VIDEO_DECODE_FAILED:1005,AUDIO_INPUT_LEVEL_TOO_LOW:2001,AUDIO_OUTPUT_LEVEL_TOO_LOW:2002,SEND_AUDIO_BITRATE_TOO_LOW:2003};const jU=new class{markSubscribeStart(e,t){performance.mark(\"agora-web-sdk/\".concat(e,\"/subscribe-\").concat(t))}markPublishStart(e,t){performance.mark(\"agora-web-sdk/\".concat(e,\"/publish-\").concat(t))}measureFromSubscribeStart(e,t){const i=performance.getEntriesByName(\"agora-web-sdk/\".concat(e,\"/subscribe-\").concat(t));if(i.length>0){const e=i[i.length-1];return Math.round(performance.now()-e.startTime)}return 0}measureFromPublishStart(e,t){const i=performance.getEntriesByName(\"agora-web-sdk/\".concat(e,\"/publish-\").concat(t));if(i.length>0){const e=i[i.length-1];return Math.round(performance.now()-e.startTime)}return 0}};function GU(e,t){this.v=e,this.k=t}function WU(e){return new GU(e,0)}var HU=jh,KU=Sl;wi({target:\"Promise\",stat:!0,forced:!0},{withResolvers:function(){var e=KU.f(this);return{promise:e.promise,resolve:e.resolve,reject:e.reject}}});var YU=Sl,qU=el;wi({target:\"Promise\",stat:!0,forced:!0},{try:function(e){var t=YU.f(this),i=qU(e);return(i.error?t.reject:t.resolve)(i.value),t.promise}});var zU=i(HU),JU=rf.f(\"asyncIterator\"),XU=i(JU);function QU(e){var t,i;function n(t,i){try{var o=e[t](i),s=o.value,a=s instanceof GU;zU.resolve(a?s.v:s).then((function(i){if(a){var c=\"return\"===t?\"return\":\"next\";if(!s.k||i.done)return n(c,i);i=e[c](i).value}r(o.done?\"return\":\"normal\",i)}),(function(e){n(\"throw\",e)}))}catch(e){r(\"throw\",e)}}function r(e,r){switch(e){case\"return\":t.resolve({value:r,done:!0});break;case\"throw\":t.reject(r);break;default:t.resolve({value:r,done:!1})}(t=t.next)?n(t.key,t.arg):i=null}this._invoke=function(e,r){return new zU((function(o,s){var a={key:e,arg:r,resolve:o,reject:s,next:null};i?i=i.next=a:(t=i=a,n(e,r))}))},\"function\"!=typeof e.return&&(this.return=void 0)}function ZU(e){return function(){return new QU(e.apply(this,arguments))}}QU.prototype[\"function\"==typeof eg&&XU||\"@@asyncIterator\"]=function(){return this},QU.prototype.next=function(e){return this._invoke(\"next\",e)},QU.prototype.throw=function(e){return this._invoke(\"throw\",e)},QU.prototype.return=function(e){return this._invoke(\"return\",e)};var $U=i(ie.Object.getOwnPropertySymbols),ex=wi,tx=qi.indexOf,ix=Bn,nx=v([].indexOf),rx=!!nx&&1/nx([1],1,-0)<0;ex({target:\"Array\",proto:!0,forced:rx||!ix(\"indexOf\")},{indexOf:function(e){var t=arguments.length>1?arguments[1]:void 0;return rx?nx(this,e,t)||0:tx(this,e,t)}});var ox=Xi(\"Array\").indexOf,sx=l,ax=ox,cx=Array.prototype,dx=function(e){var t=e.indexOf;return e===cx||sx(cx,e)&&t===cx.indexOf?ax:t},lx=i(dx);function ux(e,t){if(null==e)return{};var i,n,r=function(e,t){if(null==e)return{};var i,n,r={},o=yA(e);for(n=0;n<o.length;n++)i=o[n],lx(t).call(t,i)>=0||(r[i]=e[i]);return r}(e,t);if($U){var o=$U(e);for(n=0;n<o.length;n++)i=o[n],lx(t).call(t,i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}function hx(e){if(Array.isArray(e))return e.map((e=>e));if(!px(e))return e;const t={};for(const i in e){const n=e[i];px(n)||Array.isArray(n)?t[i]=hx(n):t[i]=n}return t}function px(e){return!(\"object\"!=typeof e||Array.isArray(e)||!e)}class _x{constructor(e){og(this,\"input\",[]),og(this,\"size\",void 0),this.size=e}add(e){this.input.push(e),this.input.length>this.size&&this.input.splice(0,1)}diffMean(){return 0===this.input.length?0:(this.input[this.input.length-1]-this.input[0])/this.input.length}}const Ex={address:\"unknown\",candidateType:\"unknown\",id:\"unknown\",port:0,priority:0,protocol:\"unknown\",type:\"unknown\"},mx={timestamp:0,bitrate:{actualEncoded:0,transmit:0},sendPacketLossRate:0,recvPacketLossRate:0,videoRecv:[],videoSend:[],audioRecv:[],audioSend:[],selectedCandidatePair:{id:\"unknown\",localCandidate:Ex,remoteCandidate:Ex}},fx={firsCount:0,nacksCount:0,plisCount:0,framesDecodeCount:0,framesDecodeInterval:0,framesDecodeFreezeTime:0,decodeFrameRate:0,bytes:0,packetsLost:0,packetLostRate:0,packets:0,ssrc:0,qpSumPerFrame:0,framesDroppedCount:0,outputFrameRate:0},Tx={firsCount:0,nacksCount:0,plisCount:0,frameCount:0,bytes:0,packets:0,packetsLost:0,packetLostRate:0,ssrc:0,rttMs:0,jitterMs:0,qpSumPerFrame:0},Sx={bytes:0,packets:0,packetsLost:0,packetLostRate:0,ssrc:0,rttMs:0,jitterMs:0},gx={jitterBufferMs:0,jitterMs:0,bytes:0,packetsLost:0,packetLostRate:0,packetsDiscarded:0,packets:0,ssrc:0,receivedFrames:0,droppedFrames:0,concealedSamples:0};function Rx(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function Cx(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Rx(Object(i),!0).forEach((function(t){og(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Rx(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}class Ix{constructor(e,t){og(this,\"onFirstVideoReceived\",void 0),og(this,\"onFirstVideoDecoded\",void 0),og(this,\"onFirstAudioReceived\",void 0),og(this,\"onFirstVideoDecodedTimeout\",void 0),og(this,\"onFirstAudioDecoded\",void 0),og(this,\"onSelectedLocalCandidateChanged\",void 0),og(this,\"onSelectedRemoteCandidateChanged\",void 0),og(this,\"videoIsReady\",!1),og(this,\"videoIsReady2\",{}),og(this,\"pc\",void 0),og(this,\"options\",void 0),og(this,\"intervalTimer\",void 0),og(this,\"stats\",hx(mx)),og(this,\"isFirstVideoReceived\",{}),og(this,\"isFirstVideoDecoded\",{}),og(this,\"isFirstAudioReceived\",{}),og(this,\"isFirstAudioDecoded\",{}),og(this,\"isFirstVideoDecodedTimeout\",{}),og(this,\"lossRateWindowStats\",[]),this.pc=e,this.options=t,this.intervalTimer=window.setInterval((async()=>{this.updateStats()}),this.options.updateInterval)}getStats(){return this.stats}getSelectedCandidatePair(){return new Gh((e=>{e({local:Cx({},Ex),remote:Cx({},Ex)})}))}setVideoIsReady(e){this.videoIsReady=e}setVideoIsReady2(e,t){this.videoIsReady2[e]=t}getVideoIsReady(e){return this.videoIsReady2[e]||!1}setIsFirstAudioDecoded(e){}destroy(){window.clearInterval(this.intervalTimer),this.pc=void 0}calcLossRate(e){this.lossRateWindowStats.push(e),this.lossRateWindowStats.length>this.options.lossRateInterval&&this.lossRateWindowStats.splice(0,1);const t=this.lossRateWindowStats.length,i=[\"videoSend\",\"audioSend\",\"videoRecv\",\"audioRecv\"];let n=0,r=0,o=0,s=0;for(const a of i)e[a].forEach(((e,i)=>{if(!this.lossRateWindowStats[t-1][a][i]||!this.lossRateWindowStats[0][a][i])return;const c=this.lossRateWindowStats[t-1][a][i].packets-this.lossRateWindowStats[0][a][i].packets,d=this.lossRateWindowStats[t-1][a][i].packetsLost-this.lossRateWindowStats[0][a][i].packetsLost;\"videoSend\"===a||\"audioSend\"===a?(n+=c,o+=d):(r+=c,s+=d),Number.isNaN(c)||Number.isNaN(c)?e.packetLostRate=0:e.packetLostRate=c<=0||d<=0?0:d/(c+d)}));e.sendPacketLossRate=n<=0||o<=0?0:o/(n+o),e.recvPacketLossRate=r<=0||s<=0?0:s/(r+s)}}function vx(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function yx(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?vx(Object(i),!0).forEach((function(t){og(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):vx(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}class Ax extends Ix{constructor(){super(...arguments),og(this,\"_stats\",mx),og(this,\"lastDecodeVideoReceiverStats\",new Map)}async updateStats(){const e=await this._getStats(),t=this.statsResponsesToObjects(e);this._stats=hx(mx);const i=t.filter((e=>\"ssrc\"===e.type));this.processSSRCStats(i);const n=t.find((e=>\"VideoBwe\"===e.type));n&&this.processBandwidthStats(n),this._stats.timestamp=Date.now(),this.calcLossRate(this._stats),this.stats=this._stats}processBandwidthStats(e){this._stats.bitrate={actualEncoded:Number(e.googActualEncBitrate),targetEncoded:Number(e.googTargetEncBitrate),retransmit:Number(e.googRetransmitBitrate),transmit:Number(e.googTransmitBitrate)},this._stats.sendBandwidth=Number(e.googAvailableSendBandwidth)}processSSRCStats(e){e.forEach((e=>{var t;const i=Dn(t=e.id).call(t,\"send\");switch(\"\".concat(e.mediaType,\"_\").concat(i?\"send\":\"recv\")){case\"video_send\":{const t=hx(Tx);t.codec=e.googCodecName,t.adaptionChangeReason=\"none\",e.googCpuLimitedResolution&&(t.adaptionChangeReason=\"cpu\"),e.googBandwidthLimitedResolution&&(t.adaptionChangeReason=\"bandwidth\"),t.avgEncodeMs=Number(e.googAvgEncodeMs),t.inputFrame={width:Number(e.googFrameWidthInput)||Number(e.googFrameWidthSent),height:Number(e.googFrameHeightInput)||Number(e.googFrameHeightSent),frameRate:Number(e.googFrameRateInput)},t.sentFrame={width:Number(e.googFrameWidthSent),height:Number(e.googFrameHeightSent),frameRate:Number(e.googFrameRateInput)},t.firsCount=Number(e.googFirReceived),t.nacksCount=Number(e.googNacksReceived),t.plisCount=Number(e.googPlisReceived),t.frameCount=Number(e.framesEncoded),t.bytes=Number(e.bytesSent),t.packets=Number(e.packetsSent),t.packetsLost=Number(e.packetsLost),t.ssrc=Number(e.ssrc),t.rttMs=Number(e.googRtt||0),this._stats.videoSend.push(t),this._stats.rtt=t.rttMs;break}case\"video_recv\":{const t=hx(fx),i=this.lastDecodeVideoReceiverStats.get(Number(e.ssrc));if(t.codec=e.googCodecName,t.targetDelayMs=Number(e.googTargetDelayMs),t.renderDelayMs=Number(e.googRenderDelayMs),t.currentDelayMs=Number(e.googCurrentDelayMs),t.minPlayoutDelayMs=Number(e.googMinPlayoutDelayMs),t.decodeMs=Number(e.googDecodeMs),t.maxDecodeMs=Number(e.googMaxDecodeMs),t.receivedFrame={width:Number(e.googFrameWidthReceived),height:Number(e.googFrameHeightReceived),frameRate:Number(e.googFrameRateReceived)},t.decodedFrame={width:Number(e.googFrameWidthReceived),height:Number(e.googFrameHeightReceived),frameRate:Number(e.googFrameRateDecoded)},t.decodeFrameRate=Number(e.googFrameRateDecoded),t.outputFrame={width:Number(e.googFrameWidthReceived),height:Number(e.googFrameHeightReceived),frameRate:Number(e.googFrameRateOutput)},t.jitterBufferMs=Number(e.googJitterBufferMs),t.firsCount=Number(e.googFirsSent),t.nacksCount=Number(e.googNacksSent),t.plisCount=Number(e.googPlisSent),t.framesDecodeCount=Number(e.framesDecoded),t.bytes=Number(e.bytesReceived),t.packets=Number(e.packetsReceived),t.packetsLost=Number(e.packetsLost),t.ssrc=Number(e.ssrc),t.packets>0&&!this.isFirstVideoReceived[t.ssrc]&&(this.onFirstVideoReceived&&this.onFirstVideoReceived(t.ssrc),this.isFirstVideoReceived[t.ssrc]=!0),t.framesDecodeCount>0&&!this.isFirstVideoDecoded[t.ssrc]&&(this.onFirstVideoDecoded&&this.onFirstVideoDecoded(t.ssrc,t.decodedFrame.width,t.decodedFrame.height),this.isFirstVideoDecoded[t.ssrc]=!0),i){const n=i.stats,r=Date.now()-i.lts;t.framesDecodeFreezeTime=n.framesDecodeFreezeTime,t.framesDecodeInterval=n.framesDecodeInterval,t.framesDecodeCount>n.framesDecodeCount&&this.isFirstVideoDecoded[t.ssrc]?(i.lts=Date.now(),t.framesDecodeInterval=r,t.framesDecodeInterval>=this.options.freezeRateLimit&&(this.getVideoIsReady(parseInt(e.ssrc,10))?t.framesDecodeFreezeTime+=t.framesDecodeInterval:this.setVideoIsReady2(parseInt(e.ssrc,10),!0))):t.framesDecodeCount<i.stats.framesDecodeCount&&(t.framesDecodeInterval=0)}this.lastDecodeVideoReceiverStats.set(t.ssrc,{stats:yx({},t),lts:Date.now()}),this._stats.videoRecv.push(t);break}case\"audio_recv\":{const t=hx(gx);t.codec=e.googCodecName,t.outputLevel=Math.abs(Number(e.audioOutputLevel))/32767,t.decodingCNG=Number(e.googDecodingCNG),t.decodingCTN=Number(e.googDecodingCTN),t.decodingCTSG=Number(e.googDecodingCTSG),t.decodingNormal=Number(e.googDecodingNormal),t.decodingPLC=Number(e.googDecodingPLC),t.decodingPLCCNG=Number(e.googDecodingPLCCNG),t.expandRate=Number(e.googExpandRate),t.accelerateRate=Number(e.googAccelerateRate),t.preemptiveExpandRate=Number(e.googPreemptiveExpandRate),t.secondaryDecodedRate=Number(e.googSecondaryDecodedRate),t.speechExpandRate=Number(e.googSpeechExpandRate),t.preferredJitterBufferMs=Number(e.googPreferredJitterBufferMs),t.jitterBufferMs=Number(e.googJitterBufferMs),t.jitterMs=Number(e.googJitterReceived),t.bytes=Number(e.bytesReceived),t.packets=Number(e.packetsReceived),t.packetsLost=Number(e.packetsLost),t.ssrc=Number(e.ssrc),t.receivedFrames=Number(e.googDecodingCTN)||Number(e.packetsReceived),t.droppedFrames=Number(e.googDecodingPLC)+Number(e.googDecodingPLCCNG)||Number(e.packetsLost),t.receivedFrames>0&&!this.isFirstAudioReceived[t.ssrc]&&(this.onFirstAudioReceived&&this.onFirstAudioReceived(t.ssrc),this.isFirstAudioReceived[t.ssrc]=!0),t.decodingNormal>0&&!this.isFirstAudioDecoded[t.ssrc]&&(this.onFirstAudioDecoded&&this.onFirstAudioDecoded(t.ssrc),this.isFirstAudioDecoded[t.ssrc]=!0),this._stats.audioRecv.push(t);break}case\"audio_send\":{const t=hx(Sx);t.codec=e.googCodecName,t.inputLevel=Math.abs(Number(e.audioInputLevel))/32767,t.aecReturnLoss=Number(e.googEchoCancellationReturnLoss||0),t.aecReturnLossEnhancement=Number(e.googEchoCancellationReturnLossEnhancement||0),t.residualEchoLikelihood=Number(e.googResidualEchoLikelihood||0),t.residualEchoLikelihoodRecentMax=Number(e.googResidualEchoLikelihoodRecentMax||0),t.bytes=Number(e.bytesSent),t.packets=Number(e.packetsSent),t.packetsLost=Number(e.packetsLost),t.ssrc=Number(e.ssrc),t.rttMs=Number(e.googRtt||0),this._stats.rtt=t.rttMs,this._stats.audioSend.push(t);break}}}))}_getStats(){return new Gh(((e,t)=>{this.pc.getStats(e,t)}))}statsResponsesToObjects(e){const t=[];return e.result().forEach((e=>{const i={id:e.id,timestamp:e.timestamp.valueOf().toString(),type:e.type};e.names().forEach((t=>{i[t]=e.stat(t)})),t.push(i)})),t}}function bx(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function wx(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?bx(Object(i),!0).forEach((function(t){og(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):bx(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}class Ox extends Ix{constructor(){super(...arguments),og(this,\"_stats\",mx),og(this,\"report\",void 0),og(this,\"lastDecodeVideoReceiverStats\",new Map),og(this,\"lastVideoFramesRecv\",new Map),og(this,\"lastVideoFramesSent\",new Map),og(this,\"lastVideoFramesDecode\",new Map),og(this,\"lastVideoFramesOutput\",new Map),og(this,\"lastVideoJBDelay\",new Map),og(this,\"lastAudioJBDelay\",new Map),og(this,\"mediaBytesSent\",new Map),og(this,\"mediaBytesRetransmit\",new Map),og(this,\"mediaBytesTargetEncode\",new Map),og(this,\"lastEncoderMs\",new Map)}async updateStats(){this.report=await this.pc.getStats(),this._stats=hx(mx),this.report.forEach((e=>{switch(e.type){case sb.OUTBOUND:case sb.INBOUND:{const t=e.mediaType||e.kind,i=!t&&\"frameWidth\"in e,n=!t&&!(\"frameWidth\"in e);e.type===sb.OUTBOUND?\"audio\"===t||n?this.processAudioOutboundStats(e):(\"video\"===t||i)&&this.processVideoOutboundStats(e):e.type===sb.INBOUND&&(\"audio\"===t||n?this.processAudioInboundStats(e):(\"video\"===t||i)&&this.processVideoInboundStats(e));break}case sb.TRANSPORT:{const t=this.report.get(e.selectedCandidatePairId);t&&this.processCandidatePairStats(t);break}case sb.CANDIDATE_PAIR:e.selected&&this.processCandidatePairStats(e)}})),this.updateSendBitrate(),this._stats.timestamp=Date.now(),this.calcLossRate(this._stats),this.stats=this._stats}async getSelectedCandidatePair(){const e=await this.pc.getStats(),t={local:wx({},Ex),remote:wx({},Ex)};return e.forEach((i=>{let n;if(i.type===sb.TRANSPORT&&(n=e.get(i.selectedCandidatePairId)),i.type===sb.CANDIDATE_PAIR&&i.selected&&(n=i),n){const i=(e,t)=>{e.type=t.type,e.id=t.id,t.address&&(e.address=t.address),t.candidateType&&(e.candidateType=t.candidateType),t.port&&(e.port=t.port),t.priority&&(e.priority=t.priority),t.protocol&&(e.protocol=t.protocol),t.relayProtocol&&(e.relayProtocol=t.relayProtocol)};if(n.localCandidateId){const r=e.get(n.localCandidateId);r&&i(t.local,r)}if(n.remoteCandidateId){const r=e.get(n.remoteCandidateId);r&&i(t.remote,r)}}})),t}processCandidatePairStats(e){if(this._stats.sendBandwidth=e.availableOutgoingBitrate||0,e.currentRoundTripTime&&(this._stats.rtt=1e3*e.currentRoundTripTime),this._stats.videoSend.forEach((t=>{e.currentRoundTripTime&&(t.rttMs=1e3*e.currentRoundTripTime)})),this._stats.audioSend.forEach((t=>{e.currentRoundTripTime&&(t.rttMs=1e3*e.currentRoundTripTime)})),this._stats.selectedCandidatePair.id=e.id,e.localCandidateId){const t=this.report.get(e.localCandidateId);t&&this.processCandidateStats(t)}if(e.remoteCandidateId){const t=this.report.get(e.remoteCandidateId);t&&this.processCandidateStats(t)}}processCandidateStats(e){let t;e.type===sb.LOCAL_CANDIDATE&&(t=this._stats.selectedCandidatePair.localCandidate),e.type===sb.REMOTE_CANDIDATE&&(t=this._stats.selectedCandidatePair.remoteCandidate),t&&(t.type=e.type,t.id=e.id,e.address&&(t.address=e.address),e.candidateType&&(t.candidateType=e.candidateType),e.port&&(t.port=e.port),e.priority&&(t.priority=e.priority),e.protocol&&(t.protocol=e.protocol),e.relayProtocol&&(t.relayProtocol=e.relayProtocol),e.type===sb.LOCAL_CANDIDATE&&this.stats.selectedCandidatePair.localCandidate.id!==t.id&&this.onSelectedLocalCandidateChanged&&this.onSelectedLocalCandidateChanged(wx({},t),wx({},this.stats.selectedCandidatePair.localCandidate)),e.type===sb.REMOTE_CANDIDATE&&this.stats.selectedCandidatePair.remoteCandidate.id!==t.id&&this.onSelectedRemoteCandidateChanged&&this.onSelectedRemoteCandidateChanged(wx({},t),wx({},this.stats.selectedCandidatePair.remoteCandidate)))}processAudioInboundStats(e){let t=this._stats.audioRecv.find((t=>t.ssrc===e.ssrc));t||(t=hx(gx),this._stats.audioRecv.push(t)),t.ssrc=e.ssrc,t.packets=e.packetsReceived,t.packetsLost=e.packetsLost,t.packetsDiscarded=e.packetsDiscarded,t.bytes=e.bytesReceived,t.jitterMs=1e3*e.jitter,this.processAudioTrackReceiverStats(e,e.trackId,t),e.codecId&&(t.codec=this.getCodecFromCodecStats(e.codecId)),t.receivedFrames||(t.receivedFrames=e.packetsReceived),t.droppedFrames||(t.droppedFrames=e.packetsLost),t.receivedFrames>0&&!this.isFirstAudioReceived[t.ssrc]&&(this.onFirstAudioReceived&&this.onFirstAudioReceived(t.ssrc),this.isFirstAudioReceived[t.ssrc]=!0),t.outputLevel&&t.outputLevel>0&&!this.isFirstAudioDecoded[t.ssrc]&&(this.onFirstAudioDecoded&&this.onFirstAudioDecoded(t.ssrc),this.isFirstAudioDecoded[t.ssrc]=!0),\"number\"==typeof e.concealedSamples&&(t.concealedSamples=e.concealedSamples)}processVideoInboundStats(e){let t=this._stats.videoRecv.find((t=>t.ssrc===e.ssrc));t||(t=hx(fx),this._stats.videoRecv.push(t)),t.ssrc=e.ssrc,t.packets=e.packetsReceived,t.packetsLost=e.packetsLost,t.bytes=e.bytesReceived,t.firsCount=e.firCount,t.nacksCount=e.nackCount,t.plisCount=e.pliCount,t.framesDecodeCount=e.framesDecoded,t.framesDroppedCount=e.framesDropped,t.totalInterFrameDelay=e.totalInterFrameDelay,t.totalSquaredInterFrameDelay=e.totalSquaredInterFrameDelay,t.totalFreezesDuration=e.totalFreezesDuration;const i=this.lastDecodeVideoReceiverStats.get(t.ssrc),n=this.lastVideoFramesDecode.get(t.ssrc),r=this.lastVideoFramesOutput.get(t.ssrc),o=Date.now();if(t.framesDecodeCount>0&&!this.isFirstVideoDecoded[t.ssrc]){const e=t.decodedFrame?t.decodedFrame.width:0,i=t.decodedFrame?t.decodedFrame.height:0;this.onFirstVideoDecoded&&this.onFirstVideoDecoded(t.ssrc,e,i),this.isFirstVideoDecoded[t.ssrc]=!0}if(i){const n=i.stats,r=o-i.lts;t.framesDecodeFreezeTime=n.framesDecodeFreezeTime,t.framesDecodeInterval=n.framesDecodeInterval,!this.isFirstVideoDecoded[t.ssrc]&&r>this.options.firstVideoDecodedTimeout&&!this.isFirstVideoDecodedTimeout[t.ssrc]&&(this.onFirstVideoDecodedTimeout&&this.onFirstVideoDecodedTimeout(t.ssrc),this.isFirstVideoDecodedTimeout[t.ssrc]=!0),t.framesDecodeCount>n.framesDecodeCount&&this.isFirstVideoDecoded[t.ssrc]?(i.lts=Date.now(),t.framesDecodeInterval=r,t.framesDecodeInterval>=this.options.freezeRateLimit&&(this.getVideoIsReady(parseInt(e.ssrc))?t.framesDecodeFreezeTime+=t.framesDecodeInterval:this.setVideoIsReady2(parseInt(e.ssrc,10),!0))):t.framesDecodeCount<n.framesDecodeCount&&(t.framesDecodeInterval=0),e.framesDecoded&&e.qpSum&&(i.stats.framesDecodeCount>e.framesDecoded?t.qpSumPerFrame=e.qpSum/e.framesDecoded:t.qpSumPerFrame=(e.qpSum-i.qpSum)/(e.framesDecoded-i.stats.framesDecodeCount))}n&&o-n.lts>=800?(t.decodeFrameRate=Math.round((t.framesDecodeCount-n.count)/((o-n.lts)/1e3)),this.lastVideoFramesDecode.set(t.ssrc,{count:t.framesDecodeCount,lts:o,rate:t.decodeFrameRate})):n?t.decodeFrameRate=n.rate:this.lastVideoFramesDecode.set(t.ssrc,{count:t.framesDecodeCount,lts:o,rate:0}),t.framesDroppedCount&&e.framesReceived&&(r&&o-r.lts>=800?(t.outputFrameRate=Math.round((e.framesReceived-t.framesDroppedCount-r.count)/((o-r.lts)/1e3)),this.lastVideoFramesOutput.set(t.ssrc,{count:e.framesReceived-t.framesDroppedCount,lts:o,rate:Math.max(t.outputFrameRate,0)})):r?t.outputFrameRate=r.rate:this.lastVideoFramesOutput.set(t.ssrc,{count:e.framesReceived-t.framesDroppedCount,lts:o,rate:0})),e.totalDecodeTime&&(t.decodeMs=1e3*e.totalDecodeTime),this.processVideoTrackReceiverStats(e,e.trackId,t),e.codecId&&(t.codec=this.getCodecFromCodecStats(e.codecId)),e.framerateMean&&(t.framesRateFirefox=e.framerateMean),t.packets>0&&!this.isFirstVideoReceived[t.ssrc]&&(this.onFirstVideoReceived&&this.onFirstVideoReceived(t.ssrc),this.isFirstVideoReceived[t.ssrc]=!0),this.lastDecodeVideoReceiverStats.set(t.ssrc,{stats:wx({},t),lts:i?i.lts:Date.now(),qpSum:e.qpSum})}processVideoOutboundStats(e){let t=this._stats.videoSend.find((t=>t.ssrc===e.ssrc));t||(t=hx(Tx),this._stats.videoSend.push(t));const i=this.mediaBytesSent.get(e.ssrc);if(i)i.add(e.bytesSent);else{const t=new _x(10);t.add(e.bytesSent),this.mediaBytesSent.set(e.ssrc,t)}if(void 0!==e.retransmittedBytesSent){const t=this.mediaBytesRetransmit.get(e.ssrc);if(t)t.add(e.retransmittedBytesSent);else{const t=new _x(10);t.add(e.retransmittedBytesSent),this.mediaBytesRetransmit.set(e.ssrc,t)}}if(e.totalEncodedBytesTarget){const t=this.mediaBytesTargetEncode.get(e.ssrc);if(t)t.add(e.totalEncodedBytesTarget);else{const t=new _x(10);t.add(e.totalEncodedBytesTarget),this.mediaBytesTargetEncode.set(e.ssrc,t)}}if(t.ssrc=e.ssrc,t.bytes=e.bytesSent,t.packets=e.packetsSent,t.firsCount=e.firCount,t.nacksCount=e.nackCount,t.plisCount=e.pliCount,t.frameCount=e.framesEncoded,t.adaptionChangeReason=e.qualityLimitationReason,t.scalabilityMode=e.scalabilityMode,e.totalEncodeTime&&e.framesEncoded){const i=this.lastEncoderMs.get(e.ssrc);if(!i||i.lastFrameCount>e.framesEncoded)t.avgEncodeMs=1e3*e.totalEncodeTime/e.framesEncoded;else{const n=e.framesEncoded-i.lastFrameCount,r=e.totalEncodeTime-i.lastEncoderTime;t.avgEncodeMs=1e3*r/n}}if(e.framesEncoded&&e.qpSum){const i=this.lastEncoderMs.get(e.ssrc);!i||i.lastFrameCount>e.framesEncoded?t.qpSumPerFrame=e.qpSum/e.framesEncoded:t.qpSumPerFrame=(e.qpSum-i.lastQpSum)/(e.framesEncoded-i.lastFrameCount)}if(this.lastEncoderMs.set(e.ssrc,{lastFrameCount:e.framesEncoded,lastEncoderTime:e.totalEncodeTime,lastQpSum:e.qpSum,lts:Date.now()}),e.codecId&&(t.codec=this.getCodecFromCodecStats(e.codecId)),e.mediaSourceId&&this.processVideoMediaSource(e.mediaSourceId,t),this.processVideoTrackSenderStats(e,e.trackId,t),e.remoteId)this.processRemoteInboundStats(e.remoteId,t);else{const i=this.findRemoteStatsId(e.ssrc,sb.REMOTE_INBOUND);i&&this.processRemoteInboundStats(i,t)}}processAudioOutboundStats(e){let t=this._stats.audioSend.find((t=>t.ssrc===e.ssrc));if(t||(t=hx(Sx),this._stats.audioSend.push(t)),t.ssrc=e.ssrc,t.packets=e.packetsSent,t.bytes=e.bytesSent,e.mediaSourceId&&this.processAudioMediaSource(e.mediaSourceId,t),e.codecId&&(t.codec=this.getCodecFromCodecStats(e.codecId)),this.processAudioTrackSenderStats(e,e.trackId,t),e.remoteId)this.processRemoteInboundStats(e.remoteId,t);else{const i=this.findRemoteStatsId(e.ssrc,sb.REMOTE_INBOUND);i&&this.processRemoteInboundStats(i,t)}}findRemoteStatsId(e,t){var i;const n=Array.from(Qw(i=this.report).call(i)).find((i=>i.type===t&&i.ssrc===e));return n?n.id:null}processVideoMediaSource(e,t){const i=this.report.get(e);i&&i.width&&i.height&&i.framesPerSecond&&(t.inputFrame={width:i.width,height:i.height,frameRate:i.framesPerSecond})}processAudioMediaSource(e,t){const i=this.report.get(e);i&&(t.inputLevel=i.audioLevel)}processVideoTrackSenderStats(e,t,i){var n,r,o,s;const a=t?this.report.get(t):void 0,c=null!==(n=null==a?void 0:a.framesSent)&&void 0!==n?n:e.framesSent;if(\"number\"!=typeof c)return;let d=null!==(r=null==a?void 0:a.frameWidth)&&void 0!==r?r:e.frameWidth,l=null!==(o=null==a?void 0:a.frameHeight)&&void 0!==o?o:e.frameHeight,u=null!==(s=null==a?void 0:a.framesPerSecond)&&void 0!==s?s:e.framesPerSecond;if(\"number\"==typeof d&&\"number\"==typeof l||(d=0,l=0),null==u){const e=Date.now(),t=this.lastVideoFramesSent.get(i.ssrc);t&&e-t.lts>=800?(u=Math.round((c-t.count)/((e-t.lts)/1e3)),this.lastVideoFramesSent.set(i.ssrc,{count:c,lts:e,rate:u})):t?u=t.rate:this.lastVideoFramesSent.set(i.ssrc,{count:c,lts:e,rate:0})}i.sentFrame={width:d,height:l,frameRate:Math.max(0,u)}}processVideoTrackReceiverStats(e,t,i){var n,r,o,s,a;const c=t?this.report.get(t):void 0,d=null!==(n=null==c?void 0:c.framesReceived)&&void 0!==n?n:e.framesReceived,l=null!==(r=null==c?void 0:c.frameWidth)&&void 0!==r?r:e.frameWidth,u=null!==(o=null==c?void 0:c.frameHeight)&&void 0!==o?o:e.frameHeight,h=null!==(s=null==c?void 0:c.jitterBufferDelay)&&void 0!==s?s:e.jitterBufferDelay,p=null!==(a=null==c?void 0:c.jitterBufferEmittedCount)&&void 0!==a?a:e.jitterBufferEmittedCount;if(\"number\"==typeof d){const e=this.lastVideoFramesRecv.get(i.ssrc),t=Date.now();i.framesReceivedCount=d;let n=0;e&&t-e.lts>=800?(n=Math.round((d-e.count)/((t-e.lts)/1e3)),this.lastVideoFramesRecv.set(i.ssrc,{count:d,lts:t,rate:n})):e?n=e.rate:this.lastVideoFramesRecv.set(i.ssrc,{count:d,lts:t,rate:0}),i.receivedFrame={width:l||0,height:u||0,frameRate:n||0},i.decodedFrame={width:l||0,height:u||0,frameRate:i.decodeFrameRate||0},i.outputFrame={width:l||0,height:u||0,frameRate:i.outputFrameRate||i.decodeFrameRate||0}}if(h&&p){const e=this.lastVideoJBDelay.get(i.ssrc)||{jitterBufferDelay:0,jitterBufferEmittedCount:0,jitterBufferMs:0};let t=e.jitterBufferMs;const n=p-e.jitterBufferEmittedCount;n>0&&(t=1e3*(h-e.jitterBufferDelay)/n),i.jitterBufferMs=t,i.currentDelayMs=Math.round(t),this.lastVideoJBDelay.set(i.ssrc,{jitterBufferDelay:h,jitterBufferEmittedCount:p,jitterBufferMs:i.currentDelayMs})}}processAudioTrackSenderStats(e,t,i){var n,r,o,s;const a=t?this.report.get(t):void 0,c=null!==(n=null!==(r=null==a?void 0:a.echoReturnLoss)&&void 0!==r?r:e.echoReturnLoss)&&void 0!==n?n:0,d=null!==(o=null!==(s=null==a?void 0:a.echoReturnLossEnhancement)&&void 0!==s?s:e.echoReturnLossEnhancement)&&void 0!==o?o:0;i.aecReturnLoss=c,i.aecReturnLossEnhancement=d}processAudioTrackReceiverStats(e,t,i){var n,r,o,s,a,c,d;const l=t?this.report.get(t):void 0,u=null!==(n=null==l?void 0:l.removedSamplesForAcceleration)&&void 0!==n?n:e.removedSamplesForAcceleration,h=null!==(r=null==l?void 0:l.totalSamplesReceived)&&void 0!==r?r:e.totalSamplesReceived,p=null!==(o=null==l?void 0:l.jitterBufferDelay)&&void 0!==o?o:e.jitterBufferDelay,_=null!==(s=null==l?void 0:l.jitterBufferEmittedCount)&&void 0!==s?s:e.jitterBufferEmittedCount,E=null!==(a=null==l?void 0:l.audioLevel)&&void 0!==a?a:null==e?void 0:e.audioLevel,m=null!==(c=null==l?void 0:l.totalSamplesDuration)&&void 0!==c?c:null==e?void 0:e.totalSamplesDuration,f=null!==(d=null==l?void 0:l.concealedSamples)&&void 0!==d?d:e.concealedSamples;if(u&&h&&(i.accelerateRate=u/h),p&&_){const e=this.lastAudioJBDelay.get(i.ssrc)||{jitterBufferDelay:0,jitterBufferEmittedCount:0,jitterBufferMs:0};let t=e.jitterBufferMs;const n=_-e.jitterBufferEmittedCount;n>0&&(t=1e3*(p-e.jitterBufferDelay)/n),i.jitterBufferMs=Math.round(t),this.lastAudioJBDelay.set(i.ssrc,{jitterBufferDelay:p,jitterBufferEmittedCount:_,jitterBufferMs:i.jitterBufferMs})}i.outputLevel=E;let T=1920;m&&h&&(T=h/m/50,i.receivedFrames=Math.round(h/T)),f&&(i.droppedFrames=Math.round(f/T))}processRemoteInboundStats(e,t){const i=this.report.get(e);i&&(t.packetsLost=i.packetsLost,i.roundTripTime&&(t.rttMs=1e3*i.roundTripTime),i.jitter&&(t.jitterMs=1e3*i.jitter),i.timestamp&&(t.timestamp=i.timestamp))}getCodecFromCodecStats(e){const t=this.report.get(e);if(!t)return\"\";const i=t.mimeType.match(/\\/(.*)$/);return i&&i[1]?i[1]:\"\"}updateSendBitrate(){let e=0,t=null,i=null;this.mediaBytesSent.forEach((t=>{e+=t.diffMean()})),this.mediaBytesRetransmit.forEach((e=>{t=null===t?e.diffMean():t+e.diffMean()})),this.mediaBytesTargetEncode.forEach((e=>{i=null===i?e.diffMean():i+e.diffMean()}));const n=null!==t?e-t:e;this._stats.bitrate={actualEncoded:8*n/(this.options.updateInterval/1e3),transmit:8*e/(this.options.updateInterval/1e3)},null!==t&&(this._stats.bitrate.retransmit=8*t/(this.options.updateInterval/1e3)),null!==i&&(this._stats.bitrate.targetEncoded=8*i/(this.options.updateInterval/1e3))}}class Nx extends Ix{updateStats(){return Gh.resolve()}}function Dx(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:8,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1e4;const o=function(){const e=navigator.userAgent.toLocaleLowerCase().match(/chrome\\/[\\d]*/i);return e&&e[0]?Number(e[0].split(\"/\")[1]):null}();return o?o<76?new Ax(e,{updateInterval:t,lossRateInterval:i,freezeRateLimit:n,firstVideoDecodedTimeout:r}):new Ox(e,{updateInterval:t,lossRateInterval:i,freezeRateLimit:n,firstVideoDecodedTimeout:r}):function(e){if(!window.RTCStatsReport)return!1;const t=e.getStats();return!!(t instanceof Gh||function(e){return!!e&&(\"object\"==typeof e||\"function\"==typeof e)&&\"function\"==typeof e.then}(t))}(e)?new Ox(e,{updateInterval:t,lossRateInterval:i,freezeRateLimit:n,firstVideoDecodedTimeout:r}):new Nx(e,{updateInterval:t,lossRateInterval:i,freezeRateLimit:n,firstVideoDecodedTimeout:r})}let Px=class{get localCapabilities(){return Gv(this._localCapabilities)}get rtpCapabilities(){return Gv(this._rtpCapabilities)}get candidates(){return Gv(this._candidates)}get iceParameters(){return Gv(this._iceParameters)}get dtlsParameters(){return Gv(this._dtlsParameters)}constructor(e){og(this,\"sessionDesc\",void 0),og(this,\"_localCapabilities\",void 0),og(this,\"_rtpCapabilities\",void 0),og(this,\"_candidates\",void 0),og(this,\"_iceParameters\",void 0),og(this,\"_dtlsParameters\",void 0),og(this,\"setup\",void 0),og(this,\"currentMidIndex\",void 0),og(this,\"cname\",\"o/i14u9pJrxRKAsu\"),og(this,\"firefoxSsrcMidMap\",new Map),e=Gv(e);const{remoteIceParameters:t,remoteDtlsParameters:i,candidates:n,remoteRTPCapabilities:r,localCapabilities:o,direction:s,setup:a,videoCodec:c,audioCodec:d}=e;let l;this.setup=a,l=s===fb.RECEIVE_ONLY?CM.parse(\"v=0\\no=- 0 0 IN IP4 127.0.0.1\\ns=AgoraGateway\\nt=0 0\\na=group:BUNDLE 0 1\\na=msid-semantic: WMS\\na=extmap-allow-mixed\\nm=video 9 UDP/TLS/RTP/SAVPF 0\\nc=IN IP4 127.0.0.1\\na=rtcp:9 IN IP4 0.0.0.0\\na=sendonly\\na=rtcp-mux\\na=rtcp-rsize\\na=mid:0\\nm=audio 9 UDP/TLS/RTP/SAVPF 0\\nc=IN IP4 127.0.0.1\\na=rtcp:9 IN IP4 0.0.0.0\\na=sendonly\\na=rtcp-mux\\na=rtcp-rsize\\na=mid:1\\n\"):CM.parse(\"v=0\\no=- 0 0 IN IP4 127.0.0.1\\ns=AgoraGateway\\nt=0 0\\na=group:BUNDLE 0 1\\na=msid-semantic: WMS\\na=extmap-allow-mixed\\nm=video 9 UDP/TLS/RTP/SAVPF 0\\nc=IN IP4 127.0.0.1\\na=rtcp:9 IN IP4 0.0.0.0\\na=recvonly\\na=rtcp-mux\\na=rtcp-rsize\\na=mid:0\\nm=audio 9 UDP/TLS/RTP/SAVPF 0\\nc=IN IP4 127.0.0.1\\na=rtcp:9 IN IP4 0.0.0.0\\na=recvonly\\na=rtcp-mux\\na=rtcp-rsize\\na=mid:1\\n\"),this._rtpCapabilities=r,this._candidates=n,this._iceParameters=t,this._dtlsParameters=i,this._localCapabilities=o;const u=s===fb.RECEIVE_ONLY?this.rtpCapabilities.send:this.rtpCapabilities.recv,h=s===fb.RECEIVE_ONLY?this._localCapabilities.recv:this._localCapabilities.send,p=s===fb.RECEIVE_ONLY?r.send.videoCodecs:WM(Yb.VIDEO,u,h,c),_=s===fb.RECEIVE_ONLY?r.send.audioCodecs:WM(Yb.AUDIO,u,h,d);for(const e of l.mediaDescriptions)e.attributes.iceUfrag=t.iceUfrag,e.attributes.icePwd=t.icePwd,e.attributes.fingerprints=i.fingerprints,e.attributes.candidates=n,e.attributes.setup=this.setup,\"application\"===e.media.mediaType&&(e.attributes.sctpPort=\"5000\"),\"video\"===e.media.mediaType&&(e.media.fmts=p.map((e=>e.payloadType.toString(10))),e.attributes.payloads=p,e.attributes.extmaps=u.videoExtensions),\"audio\"===e.media.mediaType&&(e.media.fmts=_.map((e=>e.payloadType.toString(10))),e.attributes.payloads=_,e.attributes.extmaps=u.audioExtensions,GM(e));this.sessionDesc=l,this.currentMidIndex=l.mediaDescriptions.length-1}toString(){return CM.print(this.sessionDesc)}hasMid(e){return Array.isArray(e)?e.every((e=>this.hasMid(e))):this.sessionDesc.mediaDescriptions.some((t=>t.attributes.mid===e))}send(e,t,i,n,r){i=i.replace(/ /g,\"-\");const{ssrcs:o,ssrcGroups:s}=DM(t,this.cname,Dy(\"SYNC_GROUP\")?i:void 0),a=this.findPreloadMediaDesc(o);if(a){if(kI()&&this.firefoxSsrcMidMap.set(o[0].ssrcId,a.attributes.mid),r&&(r.twcc||r.remb)){const e=this.sessionDesc.mediaDescriptions.indexOf(a);return this.sessionDesc.mediaDescriptions[e]=this.mungSendMediaDesc(a,r),{mid:a.attributes.mid,needExchangeSDP:!0}}return{mid:a.attributes.mid,needExchangeSDP:!1}}{const t=this.findAvailableMediaIndex(e,o,n);let i;return-1===t?(i=this.createOrRecycleSendMedia(e,o,s,\"sendonly\",n,r),this.updateBundleMids()):(i=Gv(this.sessionDesc.mediaDescriptions[t]),i.attributes.direction=\"sendonly\",i.attributes.ssrcs=o,i.attributes.ssrcGroups=s,this.sessionDesc.mediaDescriptions[t]=this.mungSendMediaDesc(i,r)),kI()&&this.firefoxSsrcMidMap.set(o[0].ssrcId,i.attributes.mid),{needExchangeSDP:!0,mid:i.attributes.mid}}}stopSending(e){const t=this.sessionDesc.mediaDescriptions.filter((t=>t.attributes.mid&&-1!==e.indexOf(t.attributes.mid)));if(t.length!==e.length)throw new Error(\"mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.stopSending.\");t.forEach((e=>{e.attributes.ssrcs=[]})),this.updateBundleMids()}receive(e,t,i){const n=[];return e.forEach((e=>{const r=e._mediaStreamTrack.kind,o=this.findAvailableRecvMediaIndex(r);let s,a=!1;-1===o?(a=!0,s=this.createOrRecycleRecvMedia(e,[],\"recvonly\",t,i),this.updateBundleMids()):(s=Gv(this.sessionDesc.mediaDescriptions[o]),s.attributes.direction=\"recvonly\"),n.push({mid:s.attributes.mid,needCreateTransceiver:a})})),n}stopReceiving(e){const t=this.sessionDesc.mediaDescriptions.filter((t=>-1!==e.indexOf(t.attributes.mid)));if(t.length!==e.length)throw new Error(\"MediaDescriptions' length doesn't match mids's length when calling RemoteSDP.receive.\");t.forEach((e=>{e.media.port=\"0\",e.attributes.direction=\"inactive\"})),this.updateBundleMids()}addRemoteCandidate(e){const{foundation:t,protocol:i,address:n,port:r,type:o,relatedAddress:s,relatedPort:a,priority:c}=new RTCIceCandidate(e),d={foundation:null!=t?t:\"\",componentId:\"1\",transport:null!=i?i:\"\",priority:c?c+\"\":\"\",connectionAddress:null!=n?n:\"\",port:r?r+\"\":\"\",type:o?o+\"\":\"\",relAddr:null!=s?s:\"\",relPort:a?a+\"\":\"\",extension:{}};this.candidates.some((e=>e.priority===d.priority&&e.connectionAddress===d.connectionAddress&&e.port===d.port))||(this._candidates.push(d),this.sessionDesc.mediaDescriptions.forEach((e=>{e.attributes.candidates=this.candidates})))}clearRemoteCandidate(){this._candidates=[],this.sessionDesc.mediaDescriptions[0].attributes.candidates=this._candidates}createOrRecycleRecvMedia(e,t,i,n,r){const o=e._mediaStreamTrack.kind,s=this.rtpCapabilities.recv,a=WM(o,s,this.localCapabilities.send,o===Yb.AUDIO?r:n),c=o===Yb.VIDEO?s.videoExtensions:s.audioExtensions,d=\"\".concat(++this.currentMidIndex);let l={media:{mediaType:o,port:\"9\",protos:[\"UDP\",\"TLS\",\"RTP\",\"SAVPF\"],fmts:a.map((e=>e.payloadType.toString(10)))},connections:[{nettype:\"IN\",addrtype:\"IP4\",address:\"127.0.0.1\"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:[],extmaps:c,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:t,ssrcGroups:[],rtcpFeedbackWildcards:[],payloads:a,rtcp:{port:\"9\",netType:\"IN\",addressType:\"IP4\",address:\"0.0.0.0\"},setup:this.setup,direction:i,rtcpMux:!0,rtcpRsize:!0,mid:\"\".concat(d)}};l=this.mungRecvMediaDsec(l,e);const u=this.findFirstClosedMedia(o);if(u){const e=this.sessionDesc.mediaDescriptions.indexOf(u);this.sessionDesc.mediaDescriptions[e]=l}else this.sessionDesc.mediaDescriptions.push(l);return l}muteRemote(e){const t=this.sessionDesc.mediaDescriptions.filter((t=>Dn(e).call(e,t.attributes.mid||\"\")));if(t.length!==e.length)throw new Error(\"mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.\");t.forEach((e=>{e.attributes.direction=\"inactive\"}))}unmuteRemote(e){const t=this.sessionDesc.mediaDescriptions.filter((t=>Dn(e).call(e,t.attributes.mid||\"\")));if(t.length!==e.length)throw new Error(\"mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.\");t.forEach((e=>{e.attributes.direction=\"recvonly\"}))}findAvailableMediaIndex(e,t,i){return this.sessionDesc.mediaDescriptions.findIndex((n=>{const r=n.media.mediaType===e&&\"0\"!==n.media.port&&(\"sendonly\"===n.attributes.direction||\"sendrecv\"===n.attributes.direction)&&0===n.attributes.ssrcs.length;if(kI()){if(r){const e=this.firefoxSsrcMidMap.get(t[0].ssrcId);return!(e||\"0\"!==n.attributes.mid&&\"1\"!==n.attributes.mid)||!(!e||e!==n.attributes.mid)}return!1}return r&&n.attributes.mid===i}))}findAvailableRecvMediaIndex(e){return this.sessionDesc.mediaDescriptions.findIndex((t=>{const i=t.media.mediaType===e&&\"0\"!==t.media.port&&(\"recvonly\"===t.attributes.direction||\"sendrecv\"===t.attributes.direction);return\"0\"!==t.attributes.mid&&\"1\"!==t.attributes.mid&&i}))}predictReceivingMids(e){const t=[];for(let i=0;i<e;i++)t.push((this.currentMidIndex+i+1).toString(10));return t}restartICE(e){e=Gv(e),this._iceParameters=e,this.sessionDesc.mediaDescriptions.forEach((t=>{t.attributes.iceUfrag=e.iceUfrag,t.attributes.icePwd=e.icePwd}))}createOrRecycleSendMedia(e,t,i,n,r,o){const s=this.rtpCapabilities.send,a=e===Yb.VIDEO?s.videoCodecs:s.audioCodecs,c=e===Yb.VIDEO?s.videoExtensions:s.audioExtensions;kI()&&(r=\"\".concat(++this.currentMidIndex));let d={media:{mediaType:e,port:\"9\",protos:[\"UDP\",\"TLS\",\"RTP\",\"SAVPF\"],fmts:a.map((e=>e.payloadType.toString(10)))},connections:[{nettype:\"IN\",addrtype:\"IP4\",address:\"127.0.0.1\"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:[],extmaps:c,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:t,ssrcGroups:i,rtcpFeedbackWildcards:[],payloads:a,rtcp:{port:\"9\",netType:\"IN\",addressType:\"IP4\",address:\"0.0.0.0\"},setup:this.setup,direction:n,rtcpMux:!0,rtcpRsize:!0,mid:r}};d=this.mungSendMediaDesc(d,o);const l=this.findFirstClosedMedia(e);if(l){const e=this.sessionDesc.mediaDescriptions.indexOf(l);this.sessionDesc.mediaDescriptions[e]=d}else this.sessionDesc.mediaDescriptions.push(d);return d}mungRecvMediaDsec(e,t,i){const n=Gv(e);return LM(n),PM(n,t),kM(n,t),MM(n),UM(n,i,this.localCapabilities.send),n}mungSendMediaDesc(e,t){const i=Gv(e);return UM(i,t,this.localCapabilities.recv),GM(i),i}updateRecvMedia(e,t){const i=this.sessionDesc.mediaDescriptions.findIndex((t=>t.attributes.mid===e));if(-1!==i){const e=this.mungRecvMediaDsec(this.sessionDesc.mediaDescriptions[i],t);this.sessionDesc.mediaDescriptions[i]=e}}updateBundleMids(){this.sessionDesc.attributes.groups[0].identificationTag=this.sessionDesc.mediaDescriptions.filter((e=>\"0\"!==e.media.port)).map((e=>e.attributes.mid))}findPreloadMediaDesc(e){return this.sessionDesc.mediaDescriptions.find((t=>{var i;return(null===(i=t.attributes)||void 0===i||null===(i=i.ssrcs[0])||void 0===i?void 0:i.ssrcId)===e[0].ssrcId}))}findFirstClosedMedia(e){return this.sessionDesc.mediaDescriptions.find((t=>kI()?\"0\"===t.media.port&&t.media.mediaType===e:\"0\"===t.media.port))}};const Lx=[\"sdp\"];var kx;function Mx(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function Ux(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Mx(Object(i),!0).forEach((function(t){og(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Mx(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}let xx=(kx=class e extends Hb{get currentLocalDescription(){return this.peerConnection.currentLocalDescription}get currentRemoteDescription(){return this.peerConnection.currentRemoteDescription}get peerConnectionState(){return this.peerConnection.connectionState}get iceConnectionState(){return this.peerConnection.iceConnectionState}get dtlsTransportState(){var e,t;return null!==(e=null===(t=this.peerConnection.getReceivers()[0])||void 0===t||null===(t=t.transport)||void 0===t?void 0:t.state)&&void 0!==e?e:null}get localCodecs(){return[]}set isInRestartIce(e){this._isInRestartIce=e}get isInRestartIce(){return this._isInRestartIce}constructor(t,i,n){super(t,i),og(this,\"direction\",void 0),og(this,\"name\",void 0),og(this,\"store\",void 0),og(this,\"spec\",void 0),og(this,\"peerConnection\",void 0),og(this,\"initialOffer\",void 0),og(this,\"transport\",void 0),og(this,\"statsFilter\",void 0),og(this,\"localCandidateCount\",0),og(this,\"_isInRestartIce\",!1),og(this,\"mutex\",new hy(\"P2PConnection-mutex\")),og(this,\"onLocalCandidate\",void 0),og(this,\"remoteSDP\",void 0),og(this,\"pendingCandidates\",[]),og(this,\"localCapabilities\",void 0),og(this,\"isReady\",!1),og(this,\"restartCnt\",0),og(this,\"curTurnServerIndex\",0),this.store=i,this.spec=t,this.peerConnection=new RTCPeerConnection(e.resolvePCConfiguration(t,i.p2pTransport),{optional:[{googDscp:!0}]}),this.direction=null!=n?n:fb.SEND_ONLY,this.name=this.direction===fb.SEND_ONLY?\"sendP2PConnection\":\"recvP2PConnection\",this.statsFilter=Dx(this.peerConnection,Dy(\"STATS_UPDATE_INTERVAL\"),void 0,kI()?1200:void 0),this.bindPCEvents(),this.bindStatsEvents(),this.store.p2pId=this.store.p2pId+1}async establish(e){try{const t=await VM();if(this.localCapabilities=jM(t),e){const{sdp:t}=e,i=ux(e,Lx),n=function(){const e={audioCodecs:[],videoCodecs:[],audioExtensions:[],videoExtensions:[]},t=AM(arguments.length>2?arguments[2]:void 0,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},\"sendonly\"),i={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},n={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},r={audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]};if(BM(t,e,\"videoExtensions\",i,n,r),BM(t,e,\"videoCodecs\",i,n,r),BM(t,e,\"audioExtensions\",i,n,r),BM(t,e,\"audioCodecs\",i,n,r),Dy(\"RAISE_H264_BASELINE_PRIORITY\")){const e=r.videoCodecs.findIndex((e=>e.rtpMap&&\"h264\"===e.rtpMap.encodingName.toLocaleLowerCase()&&e.fmtp&&\"42001f\"===e.fmtp.parameters[\"profile-level-id\"]));if(-1!==e){const t=r.videoCodecs.findIndex((e=>e.rtpMap&&\"h264\"===e.rtpMap.encodingName.toLocaleLowerCase()));if(t<e){Qy.debug(\"raising H264 baseline profile priority\");const i=r.videoCodecs[e];r.videoCodecs.splice(e,1),r.videoCodecs.splice(t,0,i)}-1!==t&&Dy(\"FILTER_SEND_H264_BASELINE\")&&(i.videoCodecs=i.videoCodecs.filter((e=>!(e.rtpMap&&\"h264\"===e.rtpMap.encodingName.toLocaleLowerCase()&&e.fmtp&&\"42001f\"!==e.fmtp.parameters[\"profile-level-id\"]))))}}return{send:i,recv:n,sendrecv:r}}({},{},t);this.remoteSDP=new Px({remoteIceParameters:i.iceParameters,remoteDtlsParameters:i.dtlsParameters,candidates:[],remoteRTPCapabilities:n,localCapabilities:this.localCapabilities,direction:this.direction,setup:\"actpass\",videoCodec:this.store.codec,audioCodec:this.store.audioCodec}),await this.setRemoteDescription({type:\"offer\",sdp:this.remoteSDP.toString()}),this.isReady=!0;const r=await this.peerConnection.createAnswer();if(!r.sdp)throw new Error(\"Cannot get answer sdp when trying to establish PeerConnection.\");const o=bM(r.sdp);await this.peerConnection.setLocalDescription(r);const s=await FM({},{},r.sdp);this.localCapabilities=jM(s);const a=this.peerConnection.getTransceivers()[0];return null!=a&&a.receiver&&a.receiver.transport&&this.tryBindTransportEvents(a.receiver.transport),Ux(Ux({},o),{},{sdp:r.sdp})}{this.peerConnection.addTransceiver(\"video\",{direction:\"sendonly\"}),this.peerConnection.addTransceiver(\"audio\",{direction:\"sendonly\"});const e=await this.peerConnection.createOffer();if(!e.sdp)throw new Error(\"Cannot get initialOffer.sdp when trying to establish PeerConnection.\");const t=bM(e.sdp);return this.initialOffer=e,Ux(Ux({},t),{},{sdp:e.sdp})}}catch(e){throw new rv(nv.GET_LOCAL_CONNECTION_PARAMS_FAILED,e.toString())}}async connect(e){try{if(!this.initialOffer)throw new Error(\"Cannot establish P2PConnection without initial offer.\");await this.peerConnection.setLocalDescription(this.initialOffer);const{sdp:t,iceParameters:i,dtlsParameters:n}=e,r=await FM({},{},t);this.remoteSDP=new Px({remoteIceParameters:i,remoteDtlsParameters:n,candidates:[],remoteRTPCapabilities:r,localCapabilities:this.localCapabilities,direction:this.direction,setup:\"active\",videoCodec:this.store.codec,audioCodec:this.store.audioCodec}),await this.setRemoteDescription({type:\"answer\",sdp:this.remoteSDP.toString()});const o=this.peerConnection.getTransceivers()[0];null!=o&&o.sender&&o.sender.transport&&this.tryBindTransportEvents(o.sender.transport)}catch(e){throw new rv(nv.EXCHANGE_SDP_FAILED,\"P2PConnection.connect failed; \".concat(e.toString()))}}async addRemoteCandidate(e){try{e&&this.pendingCandidates.push(e),this.peerConnection.remoteDescription&&this.isReady&&(this.pendingCandidates.forEach((e=>{this.peerConnection.addIceCandidate(e)})),this.pendingCandidates=[])}catch(e){throw new rv(nv.ADD_CANDIDATE_FAILED,\"P2PConnection.addRemoteCandidate failed; \".concat(e.toString()))}}send(e,t,i){var n=this;return ZU((function*(){const r=yield WU(n.mutex.lock(\"From P2PConnection.send\"));try{if(!n.remoteSDP)throw new Error(\"Cannot call P2PConnection.send before remote SDP created\");const o=[],s=n.remoteSDP.receive(e,t,i);e.forEach(((e,t)=>{if(s[t].needCreateTransceiver){const t=n.peerConnection.addTransceiver(e._mediaStreamTrack,{direction:\"sendonly\"});o.push(t),e._updateRtpTransceiver(t)}else{const i=n.peerConnection.getTransceivers().find((e=>e.mid===s[t].mid));if(!i)throw new Error(\"cannot find transceiver when sendPeerconnection send, mid is \".concat(s[t].mid));o.push(i),e._updateRtpTransceiver(i)}})),kI()&&!0===Dy(\"SIMULCAST\")&&(yield WU(n.applySimulcastForFirefox(o,e)));const a=s.map((e=>e.mid)),c=yield WU(n.peerConnection.createOffer()),d=n.mungSendOfferSDP(c.sdp,e,a),l=CM.parse(d),u=a.map((e=>{const t=l.mediaDescriptions.find((t=>t.attributes.mid===e));if(!t)throw new Error(\"Cannot extract ssrc from mediaDescription.\");return wM(t,Dy(\"USE_PUB_RTX\"))})),h=o.map(((e,t)=>{const i=a[t];return{localSSRC:u[t],id:i}}));yield WU(n.peerConnection.setLocalDescription({type:\"offer\",sdp:d}));try{yield h}catch(e){const t=n.remoteSDP.toString();throw yield WU(n.peerConnection.setLocalDescription({type:\"offer\",sdp:d})),yield WU(n.peerConnection.setRemoteDescription({type:\"answer\",sdp:t})),yield WU(n.stopSending(a,!0)),e}yield WU(n.applySimulcastEncodings(o,e)),yield WU(n.applySendEncodings(o,e));const p=n.remoteSDP.toString(),_=n.logSDPExchange(d,\"offer\",\"local\",\"send\");return null==_||_(p),yield WU(n.setRemoteDescription({type:\"answer\",sdp:p})),o.map(((e,t)=>{const i=a[t];return{localSSRC:u[t],id:i}}))}catch(e){throw e instanceof rv?e:new rv(nv.EXCHANGE_SDP_FAILED,\"P2PConnection.send failed; \".concat(e.toString()))}finally{r()}}))()}async stopSending(e,t){const i=t?void 0:await this.mutex.lock(\"From P2PConnection.stopSending\");try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.stopSending before remote SDP created\");const t=this.peerConnection.getTransceivers().filter((t=>-1!==e.indexOf(t.mid)));if(t.length!==e.length)throw new Error(\"Transceivers' length (\".concat(t.length,\") doesn't match mids' length (\").concat(e.length,\") when trying to call P2PConnection.stopSending.\"));t.map((e=>{var t;e.direction=\"inactive\",null===(t=e.stop)||void 0===t||t.call(e)}));const n=await this.peerConnection.createOffer(),r=this.logSDPExchange(n.sdp||\"\",\"offer\",\"local\",\"stopSending\");await this.peerConnection.setLocalDescription(n),this.remoteSDP.stopReceiving(e);const o=this.remoteSDP.toString();null==r||r(o),await this.setRemoteDescription({type:\"answer\",sdp:o})}catch(e){throw new rv(nv.EXCHANGE_SDP_FAILED,\"P2PConnection.stopSending failed; \".concat(e.toString()))}finally{i&&i()}}async receive(e,t,i,n){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.receive \".concat(e,\" before remoteSDP created.\"));const{mid:r,needExchangeSDP:o}=this.remoteSDP.send(e,t,i,n);if(o){const t=this.remoteSDP.toString(),i=this.logSDPExchange(t,\"offer\",\"remote\",\"receive\");await this.setRemoteDescription({type:\"offer\",sdp:t});const n=await this.peerConnection.createAnswer(),o=this.mungReceiveAnswerSDP(n.sdp,r,e);null==i||i(o||\"\"),await this.peerConnection.setLocalDescription({type:\"answer\",sdp:o}),Qy.debug(\"[\".concat(this.store.clientId,\"] [P2PConnection] receive \").concat(e,\" by exchanging SDP.\"))}else Qy.debug(\"[\".concat(this.store.clientId,\"] [P2PConnection] receive \").concat(e,\" no need to exchange SDP.\"));const s=this.peerConnection.getTransceivers().find((e=>e.mid===r));if(!s||null===s.mid)throw new Error(\"Cannot get transceiver after setLocalDescription.\");return{track:s.receiver.track,mid:s.mid,transceiver:s}}catch(e){throw new rv(nv.EXCHANGE_SDP_FAILED,\"P2PConnection.receive failed; \".concat(e.toString()))}}async mockReceive(e,t,i,n){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.receive \".concat(e,\" before remoteSDP created.\"));const{mid:r,needExchangeSDP:o}=this.remoteSDP.send(e,t,i,n);if(o){const t=this.remoteSDP.toString(),i=this.logSDPExchange(t,\"offer\",\"remote\",\"receive\");await this.setRemoteDescription({type:\"offer\",sdp:t});const n=await this.peerConnection.createAnswer(),o=this.mungReceiveAnswerSDP(n.sdp,r,e);null==i||i(o||\"\"),await this.peerConnection.setLocalDescription({type:\"answer\",sdp:o}),Qy.debug(\"[\".concat(this.store.clientId,\"] [P2PConnection] receive \").concat(e,\" by exchanging SDP.\"))}else Qy.debug(\"[\".concat(this.store.clientId,\"] [P2PConnection] receive \").concat(e,\" no need to exchange SDP.\"))}catch(e){throw new rv(nv.EXCHANGE_SDP_FAILED,\"P2PConnection.receive failed; \".concat(e.toString()))}}async stopReceiving(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.stopReceiving before remote SDP created.\");this.remoteSDP.stopSending(e);const t=this.remoteSDP.toString(),i=this.logSDPExchange(t,\"offer\",\"remote\",\"stopReceiving\");await this.setRemoteDescription({type:\"offer\",sdp:t});const n=await this.peerConnection.createAnswer();null==i||i(n.sdp||\"\"),await this.peerConnection.setLocalDescription(n)}catch(e){throw new rv(nv.EXCHANGE_SDP_FAILED,\"P2PConnection stopReceiving failed; \".concat(e.toString()))}}async restartICE(t){try{if(this.store.p2pTransport===Ay.Auto&&(this.store.p2pTransport=Ay.SdRtn,MD().supportPCSetConfiguration&&this.peerConnection.setConfiguration(e.resolvePCConfiguration(this.spec,this.store.p2pTransport))),this.restartCnt>3&&(this.restartCnt=0,MD().supportPCSetConfiguration&&this.peerConnection.setConfiguration(e.resolvePCConfiguration(this.spec,this.store.p2pTransport,++this.curTurnServerIndex))),!t){this.restartCnt++,this.isReady=!1;const e=await this.peerConnection.createOffer({iceRestart:!0});if(!e.sdp)throw new Error(\"Cannot restartICE because restart offer SDP does not exist.\");const{iceParameters:t}=bM(e.sdp);return this.store.descriptionStart(),this.direction===fb.SEND_ONLY&&await this.peerConnection.setLocalDescription(e),t}if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.stopReceiving before remote SDP created.\");if(this.remoteSDP.restartICE(t),this.store.descriptionStart(),this.direction===fb.RECEIVE_ONLY){this.restartCnt++,await this.setRemoteDescription({type:\"offer\",sdp:this.remoteSDP.toString()});const e=await this.peerConnection.createAnswer();if(!e.sdp)throw new Error(\"Cannot get answer sdp when trying to iceRestart.\");const{iceParameters:t}=bM(e.sdp);return await this.peerConnection.setLocalDescription(e),t}await this.setRemoteDescription({type:\"answer\",sdp:this.remoteSDP.toString()}),this.isReady=!0}catch(e){throw new rv(nv.EXCHANGE_SDP_FAILED,\"P2PConnection stopReceiving failed; \".concat(e.toString()))}}close(){var e;this.peerConnection.close(),this.peerConnection.onicecandidate=null,null===(e=this.onConnectionStateChange)||void 0===e||e.call(this,\"closed\"),this.tryUnbindTransportEvents(),this.unbindPCEvents(),this.unbindStatsEvents(),this.transport=void 0,this.statsFilter.destroy()}getStats(){return this.statsFilter.getStats()}getRemoteVideoIsReady(e){return this.statsFilter.getVideoIsReady(e)}async updateEncoderConfig(e,t){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.updateEncoderConfig before remote SDP created.\");const i=await this.peerConnection.createOffer(),n=this.mungSendOfferSDP(i.sdp,[t],[e]);this.remoteSDP.updateRecvMedia(e,t);const r=this.remoteSDP.toString(),o=this.logSDPExchange(n,\"offer\",\"local\",\"updateEncoderConfig\");await this.peerConnection.setLocalDescription({type:\"offer\",sdp:n}),null==o||o(r),await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:r})}catch(e){throw new rv(nv.EXCHANGE_SDP_FAILED,e.toString())}}async updateSendParameters(e,t){const i=this.peerConnection.getTransceivers().filter((t=>t.mid===e));1===i.length&&(this.isVP8Simulcast(t)?kI()||await this.applySimulcastEncodings(i,[t]):await this.applySendEncodings(i,[t]))}setStatsRemoteVideoIsReady(e,t){this.statsFilter.setVideoIsReady2(e,t)}async replaceTrack(e,t){const i=this.peerConnection.getTransceivers().find((e=>e.mid===t));i&&await i.sender.replaceTrack(e._mediaStreamTrack)}async getSelectedCandidatePair(){const e=this.peerConnection.getReceivers();if(e.length>0&&e[0].transport&&e[0].transport.iceTransport&&e[0].transport.iceTransport.getSelectedCandidatePair&&e[0].transport.iceTransport.getSelectedCandidatePair()){const t=e[0].transport.iceTransport,{local:i,remote:n}=t.getSelectedCandidatePair();return{local:Ux(Ux({},Ex),{},{candidateType:i.type,protocol:i.protocol,address:i.address,port:i.port}),remote:Ux(Ux({},Ex),{},{candidateType:n.type,protocol:n.protocol,address:n.address,port:n.port})}}return this.statsFilter.getSelectedCandidatePair()}bindPCEvents(){this.peerConnection.oniceconnectionstatechange=()=>{var e,t;Dn(e=[\"connected\",\"completed\"]).call(e,this.peerConnection.iceConnectionState)&&(this.isReady=!1),null===(t=this.onICEConnectionStateChange)||void 0===t||t.call(this,this.peerConnection.iceConnectionState)},this.peerConnection.onconnectionstatechange=()=>{var e;\"connected\"===this.peerConnection.connectionState&&(this.restartCnt=0),null===(e=this.onConnectionStateChange)||void 0===e||e.call(this,this.peerConnection.connectionState)},this.startICECandidate()}startICECandidate(){this.peerConnection.onicecandidate||(this.localCandidateCount=0,this.peerConnection.onicecandidate=e=>{if(e.candidate){var t;if(e.candidate.candidate)null===(t=this.onLocalCandidate)||void 0===t||t.call(this,e.candidate.toJSON());this.localCandidateCount+=1}else Qy.debug(\"[\".concat(this.store.clientId,\"] [pc-\").concat(this.store.p2pId,\"] local candidate count\"),this.localCandidateCount)})}unbindPCEvents(){this.peerConnection.oniceconnectionstatechange=null,this.peerConnection.onconnectionstatechange=null,this.peerConnection.onsignalingstatechange=null,this.peerConnection.onicecandidateerror=null,this.peerConnection.onicecandidate=null,this.peerConnection.ontrack=null}static resolvePCConfiguration(t,i){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r={iceServers:[]};var o;t.iceServers?r.iceServers=t.iceServers:t.turnServer&&\"off\"!==t.turnServer.mode&&(bv(t.turnServer.servers)?r.iceServers=t.turnServer.servers:(r.iceServers&&r.iceServers.push(...e.turnServerConfigToIceServers(t.turnServer.servers,i,n)),Dy(\"USE_TURN_SERVER_OF_GATEWAY\")&&r.iceServers&&t.turnServer.serversFromGateway&&r.iceServers.push(...e.turnServerConfigToIceServers(t.turnServer.serversFromGateway,i,n)),Dn(o=[Ay.Relay,Ay.SdRtn]).call(o,i)&&(r.iceTransportPolicy=\"relay\"),Dy(\"FORCE_TURN_TCP\")?r.iceTransportPolicy=\"relay\":t.turnServer.servers.concat(t.turnServer.serversFromGateway||[]).forEach((e=>{e.forceturn&&(r.iceTransportPolicy=\"relay\")}))));return Dy(\"ENABLE_ENCODED_TRANSFORM\")&&MD().supportWebRTCEncodedTransform&&(r.encodedInsertableStreams=!0),Qy.debug(\"P2PConnection p2pTransport is \".concat(i)),r}static turnServerConfigToIceServers(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const n=[],r=e.filter((e=>e.tcpport));Qy.debug(\"P2PConnection turnServers is \".concat(r,\", current index is \").concat(i));const o=r.length>i?r[i]:r[0];switch(t){case Ay.SdRtn:const t=e.filter((e=>{var t;return Dn(t=e.username).call(t,\"glb:\")&&e.turnServerURL==e.turnServerURL})),r=t.length>i?t[i]:t[0];r&&(n.push({username:r.username,credential:r.password,credentialType:\"password\",urls:\"turn:\".concat(Pw(r.turnServerURL),\":\").concat(r.tcpport,\"?transport=udp\")}),n.push({username:r.username,credential:r.password,credentialType:\"password\",urls:\"turns:\".concat(Pw(r.turnServerURL),\":\").concat(r.tcpport,\"?transport=tcp\")}));break;case Ay.Relay:o&&(n.push({username:o.username,credential:o.password,credentialType:\"password\",urls:\"turn:\".concat(o.turnServerURL,\":\").concat(o.tcpport,\"?transport=udp\")}),n.push({username:o.username,credential:o.password,credentialType:\"password\",urls:\"turns:\".concat(Pw(o.turnServerURL),\":\").concat(o.tcpport,\"?transport=tcp\")}));break;default:o&&(n.push({username:o.username,credential:o.password,credentialType:\"password\",urls:\"turn:\".concat(o.turnServerURL,\":\").concat(o.tcpport,\"?transport=udp\")}),n.push({username:o.username,credential:o.password,credentialType:\"password\",urls:\"turns:\".concat(Pw(o.turnServerURL),\":\").concat(o.tcpport,\"?transport=tcp\")}),n.push({username:o.username,credential:o.password,credentialType:\"password\",urls:\"stun:\".concat(o.turnServerURL,\":\").concat(o.tcpport)}))}return n}tryBindTransportEvents(e){if(e){this.transport=e,e.onstatechange=()=>{var t;null!=e&&e.state&&(null===(t=this.onDTLSTransportStateChange)||void 0===t||t.call(this,e.state))},e.onerror=e=>{var t;null===(t=this.onDTLSTransportError)||void 0===t||t.call(this,\"error\"in e?e.error:e)};const t=e.iceTransport;t&&(t.onstatechange=()=>{const t=null==e?void 0:e.iceTransport.state;var i;t&&(null===(i=this.onICETransportStateChange)||void 0===i||i.call(this,t))},t.getSelectedCandidatePair&&(t.onselectedcandidatepairchange=()=>{if(t.getSelectedCandidatePair()){const{local:e,remote:i}=t.getSelectedCandidatePair();Qy.info(\"[\".concat(this.store.clientId,\"] [pc-\").concat(this.store.p2pId,\"] selectedcandidatepairchange: local \").concat(JSON.stringify({candidateType:e.type,protocol:e.protocol}),\", remote \").concat(JSON.stringify({candidateType:i.type,protocol:i.protocol,address:i.address,port:i.port}),\" )\"))}}))}}tryUnbindTransportEvents(){this.transport&&(this.transport.onstatechange=null,this.transport.onerror=null,this.transport.iceTransport&&(this.transport.iceTransport.onstatechange=null))}async updateRtpSenderEncodings(e,t){var i;if(!t){t=this.peerConnection.getSenders().find((t=>t.track===e._mediaStreamTrack))}if(!t)return Qy.warn(\"[\".concat(e.getTrackId(),\"] no rtpSender found}\"));if(this.isVP8Simulcast(e))return Qy.warn(\"[updateRtpSenderEncodings] Track is VP8 simulcast, please apply simulcast encodings\");if(!MD().supportSetRtpSenderParameters)return Qy.warn(\"[updateRtpSenderEncodings] Browser not support set rtp-sender parameters\");const n={},r={};switch(e._optimizationMode){case\"motion\":n.degradationPreference=\"maintain-framerate\";break;case\"detail\":n.degradationPreference=\"maintain-resolution\";break;default:n.degradationPreference=\"balanced\"}if(e._encoderConfig){var o;const{bitrateMax:t,frameRate:i,scaleResolutionDownBy:n}=e._encoderConfig;t&&(r.maxBitrate=1e3*t),Dn(o=e._hints).call(o,eP.LOW_STREAM)&&(i&&(r.maxFramerate=kw(i)),n&&n>=1&&(r.scaleResolutionDownBy=n))}if(Dy(\"DSCP_TYPE\")&&QI()){var s;const e=Dy(\"DSCP_TYPE\");Dn(s=[\"very-low\",\"low\",\"medium\",\"high\"]).call(s,e)&&(r.networkPriority=e)}const a=t.getParameters(),c=null===(i=a.encodings)||void 0===i?void 0:i[0];kI()&&!c&&(n.encodings=[r]),c&&Object.assign(c,r),Object.assign(a,n),Qy.debug(\"[\".concat(e.getTrackId(),\"] updateRtpSenderEncodings: \").concat(JSON.stringify(a.encodings))),await t.setParameters(a)}async applySendEncodings(e,t){try{if(!MD().supportSetRtpSenderParameters)return;if(e.length!==t.length)return;for(let i=0;i<e.length;i++){const n=e[i],r=t[i];r instanceof Hk&&!this.isVP8Simulcast(r)&&await this.updateRtpSenderEncodings(r,n.sender)}}catch(e){Qy.debug(\"[\".concat(this.store.clientId,\"] Apply RTPSendEncodings failed.\"))}}mungSendOfferSDP(e,t,i){const n=CM.parse(e);return t.forEach(((e,t)=>{const r=i[t],o=n.mediaDescriptions.find((e=>e.attributes.mid===r));o&&(PM(o,e),xM(o,e,this.store.codec))})),CM.print(n)}bindStatsEvents(){this.statsFilter.onFirstAudioReceived=e=>{var t;null===(t=this.onFirstAudioReceived)||void 0===t||t.call(this,e)},this.statsFilter.onFirstVideoReceived=e=>{var t;null===(t=this.onFirstVideoReceived)||void 0===t||t.call(this,e)},this.statsFilter.onFirstAudioDecoded=e=>{var t;null===(t=this.onFirstAudioDecoded)||void 0===t||t.call(this,e)},this.statsFilter.onFirstVideoDecoded=(e,t,i)=>{var n;null===(n=this.onFirstVideoDecoded)||void 0===n||n.call(this,e,t,i)},this.statsFilter.onSelectedLocalCandidateChanged=(e,t)=>{var i;null===(i=this.onSelectedLocalCandidateChanged)||void 0===i||i.call(this,e,t)},this.statsFilter.onSelectedRemoteCandidateChanged=(e,t)=>{var i;null===(i=this.onSelectedRemoteCandidateChanged)||void 0===i||i.call(this,e,t)},this.statsFilter.onFirstVideoDecodedTimeout=e=>{var t;null===(t=this.onFirstVideoDecodedTimeout)||void 0===t||t.call(this,e)}}unbindStatsEvents(){this.statsFilter.onFirstAudioReceived=void 0,this.statsFilter.onFirstVideoReceived=void 0,this.statsFilter.onFirstAudioDecoded=void 0,this.statsFilter.onFirstVideoDecoded=void 0,this.statsFilter.onSelectedLocalCandidateChanged=void 0,this.statsFilter.onSelectedRemoteCandidateChanged=void 0,this.statsFilter.onFirstVideoDecodedTimeout=void 0}async applySimulcastForFirefox(e,t){if(e.length===t.length)for(let a=0;a<e.length;a++){var i,n,r,o,s;const c=e[a],d=t[a];if(d instanceof Hk&&!Dn(i=d._hints).call(i,eP.LOW_STREAM)&&null!==(n=d._encoderConfig)&&void 0!==n&&n.bitrateMax&&(null===(r=d._encoderConfig)||void 0===r?void 0:r.bitrateMax)>200&&null!==(o=d._scalabilityMode)&&void 0!==o&&o.numSpatialLayers&&(null===(s=d._scalabilityMode)||void 0===s?void 0:s.numSpatialLayers)>1&&\"vp8\"===this.store.codec){const e={},t={high:1e3*(d._encoderConfig.bitrateMax-50),medium:5e4};e.encodings=[{rid:\"m\",active:!0,maxBitrate:t.medium,scaleResolutionDownBy:4},{rid:\"h\",active:!0,maxBitrate:t.high}];const i=c.sender.getParameters();await c.sender.setParameters(Object.assign(i,e))}}}async applySimulcastEncodings(e,t){if(!kI()&&e.length===t.length)for(let i=0;i<e.length;i++){const n=t[i];if(n instanceof Hk&&this.isVP8Simulcast(n)){const t=e[i],r={},o={high:1e3*(n._encoderConfig.bitrateMax-50),medium:5e4};r.encodings=[{active:!0,adaptivePtime:!1,networkPriority:\"high\",priority:\"high\",maxBitrate:o.high},{active:!0,adaptivePtime:!1,networkPriority:\"low\",priority:\"low\",maxBitrate:o.medium,scaleResolutionDownBy:4}];const s=t.sender.getParameters();await t.sender.setParameters(Object.assign(s,r))}}}isVP8Simulcast(e){var t,i,n,r,o;return!!(e instanceof Hk&&Dy(\"SIMULCAST\")&&\"vp8\"===this.store.codec&&!Dn(t=e._hints).call(t,eP.LOW_STREAM)&&null!==(i=e._encoderConfig)&&void 0!==i&&i.bitrateMax&&(null===(n=e._encoderConfig)||void 0===n?void 0:n.bitrateMax)>200&&null!==(r=e._scalabilityMode)&&void 0!==r&&r.numSpatialLayers&&(null===(o=e._scalabilityMode)||void 0===o?void 0:o.numSpatialLayers)>1)}logSDPExchange(e,t,i,n){if(Dy(\"SDP_LOGGING\"))return Qy.upload(\"[\".concat(this.store.clientId,\"] exchanging \").concat(i,\" \").concat(t,\" SDP during P2PConnection.\").concat(n,\"\\n\"),e),\"offer\"===t?e=>{this.logSDPExchange(e,\"answer\",\"local\"===i?\"remote\":\"local\",n)}:void 0}async muteLocal(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.muteLocal before remote SDP created.\");const t=this.peerConnection.getTransceivers().filter((t=>t.mid&&-1!==e.indexOf(t.mid)));if(t.length!==e.length)throw new Error(\"Transceivers' length doesn't match mids' length.\");t.map((e=>{e.direction=\"inactive\"}));const i=await this.peerConnection.createOffer(),n=this.logSDPExchange(i.sdp||\"\",\"offer\",\"local\",\"muteLocal\");await this.peerConnection.setLocalDescription(i),this.remoteSDP.muteRemote(e);const r=this.remoteSDP.toString();null==n||n(r),await this.setRemoteDescription({type:\"answer\",sdp:r})}catch(e){throw new rv(nv.EXCHANGE_SDP_FAILED,\"P2PConnection.muteLocal failed; \".concat(e.toString()))}}async unmuteLocal(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.unmuteLocal before remote SDP created.\");const t=this.peerConnection.getTransceivers().filter((t=>t.mid&&-1!==e.indexOf(t.mid)));if(t.length!==e.length)throw new Error(\"Transceivers' length doesn't match mids' length.\");t.map((async e=>{e.direction=\"sendonly\"}));const i=await this.peerConnection.createOffer(),n=this.logSDPExchange(i.sdp||\"\",\"offer\",\"local\",\"unmuteLocal\");await this.peerConnection.setLocalDescription(i),this.remoteSDP.unmuteRemote(e);const r=this.remoteSDP.toString();null==n||n(r),await this.setRemoteDescription({type:\"answer\",sdp:r})}catch(e){throw new rv(nv.EXCHANGE_SDP_FAILED,\"P2PConnection.unmuteLocal failed; \".concat(e.toString()))}}async getRemoteSSRC(e,t){var i,n;if(t=null!==(i=t)&&void 0!==i?i:null===(n=this.currentRemoteDescription)||void 0===n?void 0:n.sdp){var r;const i=null===(r=CM.parse(t).mediaDescriptions.find((t=>t.attributes.mid===e)))||void 0===r?void 0:r.attributes.ssrcs;return null==i?void 0:i[0].ssrcId}}async setRemoteDescription(e){var t;await this.peerConnection.setRemoteDescription(e),Dn(t=[\"connected\",\"completed\"]).call(t,this.peerConnection.iceConnectionState)||(this.isReady=!0,this.addRemoteCandidate())}mungReceiveAnswerSDP(e,t,i){const n=CM.parse(e),r=n.mediaDescriptions.find((e=>e.attributes.mid===t));return r&&i===Yb.AUDIO&&\"audio\"===r.media.mediaType&&GM(r),CM.print(n)}},rb(kx.prototype,\"establish\",[Vx],Object.getOwnPropertyDescriptor(kx.prototype,\"establish\"),kx.prototype),rb(kx.prototype,\"connect\",[Vx],Object.getOwnPropertyDescriptor(kx.prototype,\"connect\"),kx.prototype),rb(kx.prototype,\"receive\",[Vx],Object.getOwnPropertyDescriptor(kx.prototype,\"receive\"),kx.prototype),rb(kx.prototype,\"mockReceive\",[Vx],Object.getOwnPropertyDescriptor(kx.prototype,\"mockReceive\"),kx.prototype),rb(kx.prototype,\"stopReceiving\",[Vx],Object.getOwnPropertyDescriptor(kx.prototype,\"stopReceiving\"),kx.prototype),rb(kx.prototype,\"restartICE\",[Vx],Object.getOwnPropertyDescriptor(kx.prototype,\"restartICE\"),kx.prototype),rb(kx.prototype,\"close\",[Vx],Object.getOwnPropertyDescriptor(kx.prototype,\"close\"),kx.prototype),rb(kx.prototype,\"updateEncoderConfig\",[Vx],Object.getOwnPropertyDescriptor(kx.prototype,\"updateEncoderConfig\"),kx.prototype),rb(kx.prototype,\"updateSendParameters\",[Vx],Object.getOwnPropertyDescriptor(kx.prototype,\"updateSendParameters\"),kx.prototype),rb(kx.prototype,\"replaceTrack\",[Vx],Object.getOwnPropertyDescriptor(kx.prototype,\"replaceTrack\"),kx.prototype),rb(kx.prototype,\"muteLocal\",[Vx],Object.getOwnPropertyDescriptor(kx.prototype,\"muteLocal\"),kx.prototype),rb(kx.prototype,\"unmuteLocal\",[Vx],Object.getOwnPropertyDescriptor(kx.prototype,\"unmuteLocal\"),kx.prototype),kx);function Vx(e,t,i){const n=e[t];if(\"function\"!=typeof n)throw new Error(\"Cannot use mutex on object property.\");return i.value=async function(){const e=this.mutex,i=await e.lock(\"From P2PConnection.\".concat(t));try{for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return await n.apply(this,o)}finally{i()}},i}function Fx(e,t){let i=document.createElement(\"video\"),n=document.createElement(\"canvas\");i.setAttribute(\"style\",\"display:none\"),n.setAttribute(\"style\",\"display:none\"),i.setAttribute(\"muted\",\"\"),i.muted=!0,i.setAttribute(\"autoplay\",\"\"),i.autoplay=!0,i.setAttribute(\"playsinline\",\"\"),n.width=kw(t.width),n.height=kw(t.height);const r=kw(t.framerate||15);document.body.append(i),document.body.append(n);let o=e._mediaStreamTrack;i.srcObject=new MediaStream([o]),i.play();const s=n.getContext(\"2d\");if(!s)throw new Sb(nv.UNEXPECTED_ERROR,\"can not get canvas context\");const a=MD(),c=n.captureStream(a.supportRequestFrame?0:r).getVideoTracks()[0];c.canvas||(c.canvas=n),n.startCapture=()=>{if(!i)return n.stopCapture&&n.stopCapture();if(i.paused&&i.play(),i.videoHeight>2&&i.videoWidth>2){const e=i.videoWidth,t=i.videoHeight/e,r=n.width*t;Math.abs(r-n.height)>=2&&(Qy.debug(\"adjust low stream resolution\",\"\".concat(n.width,\"x\").concat(n.height,\" -> \").concat(n.width,\"x\").concat(r)),n.height=r)}s.drawImage(i,0,0,n.width,n.height),c.requestFrame&&c.requestFrame(),o!==e._mediaStreamTrack&&(o=e._mediaStreamTrack,i.srcObject=new MediaStream([o]))},n.stopCapture=kP((()=>n.startCapture&&n.startCapture()),r);const d=c.stop;return c.stop=()=>{d.call(c),i&&(i.remove(),i.srcObject=null,i=null),n&&(n.width=0,n.remove(),n.stopCapture&&n.stopCapture(),n.startCapture=void 0,n.stopCapture=void 0,n=null),Qy.debug(\"clean low stream renderer\")},c}var Bx=function(e){return e[e.HEIGHT=2033]=\"HEIGHT\",e[e.FRAME_RATE=2034]=\"FRAME_RATE\",e[e.WIDTH=2035]=\"WIDTH\",e}(Bx||{}),jx=function(e){return e[e.FRAME_RATE=2002]=\"FRAME_RATE\",e[e.WIDTH=2003]=\"WIDTH\",e[e.HEIGHT=2004]=\"HEIGHT\",e[e.PACKAGE_LOST=2005]=\"PACKAGE_LOST\",e[e.AVG_ENCODE=2007]=\"AVG_ENCODE\",e[e.NACKS=2009]=\"NACKS\",e[e.PLIS=2010]=\"PLIS\",e[e.FIRS=2011]=\"FIRS\",e[e.BITRATE=2012]=\"BITRATE\",e[e.PACKAGE_RATE=2031]=\"PACKAGE_RATE\",e[e.ADAPTATION=2032]=\"ADAPTATION\",e[e.ACTUAL_ENCODED=2060]=\"ACTUAL_ENCODED\",e[e.BANDWIDTH=2061]=\"BANDWIDTH\",e[e.RETRANSMIT=2062]=\"RETRANSMIT\",e[e.TARGET_ENCODED=2064]=\"TARGET_ENCODED\",e[e.TRANSMIT=2066]=\"TRANSMIT\",e[e.FREEZE=2082]=\"FREEZE\",e[e.DISABLED=2095]=\"DISABLED\",e[e.PLAYER_STATUS=2128]=\"PLAYER_STATUS\",e[e.QP_SUM=2143]=\"QP_SUM\",e}(jx||{}),Gx=function(e){return e[e.BITRATE=2069]=\"BITRATE\",e[e.PACKAGE_LOST=2070]=\"PACKAGE_LOST\",e[e.PACKAGE_RATE=2071]=\"PACKAGE_RATE\",e[e.HEIGHT=2073]=\"HEIGHT\",e[e.FRAME_RATE=2075]=\"FRAME_RATE\",e[e.WIDTH=2077]=\"WIDTH\",e}(Gx||{}),Wx=function(e){return e[e.JITTER=-1]=\"JITTER\",e[e.PACKAGE_LOST=2014]=\"PACKAGE_LOST\",e[e.WIDTH=2018]=\"WIDTH\",e[e.HEIGHT=2019]=\"HEIGHT\",e[e.FRAME_RATE=2020]=\"FRAME_RATE\",e[e.JITTER_BUFFER=2023]=\"JITTER_BUFFER\",e[e.CURRENT_DELAY=2024]=\"CURRENT_DELAY\",e[e.NACKS=2026]=\"NACKS\",e[e.PLIS=2027]=\"PLIS\",e[e.FIRS=2028]=\"FIRS\",e[e.BITRATE=2029]=\"BITRATE\",e[e.PACKAGE_RATE=2078]=\"PACKAGE_RATE\",e[e.FREEZE=2084]=\"FREEZE\",e[e.DISABLED=2101]=\"DISABLED\",e[e.PLAYER_STATUS=2129]=\"PLAYER_STATUS\",e[e.QP_SUM=2144]=\"QP_SUM\",e[e.I_FRAME_DELAY=2149]=\"I_FRAME_DELAY\",e}(Wx||{}),Hx=function(e){return e[e.FRAME_RATE_DECODE=2021]=\"FRAME_RATE_DECODE\",e[e.FRAME_RATE_RENDER=2022]=\"FRAME_RATE_RENDER\",e[e.FRAME_RATE_OUTPUT=2155]=\"FRAME_RATE_OUTPUT\",e[e.FREEZE_TIME=2109]=\"FREEZE_TIME\",e[e.FREEZE_TIME_RENDER=2147]=\"FREEZE_TIME_RENDER\",e[e.FREEZE_DURATION=2156]=\"FREEZE_DURATION\",e}(Hx||{}),Kx=function(e){return e[e.PCM_LEVEL=2104]=\"PCM_LEVEL\",e}(Kx||{}),Yx=function(e){return e[e.PACKAGE_LOST=-1]=\"PACKAGE_LOST\",e[e.LEVEL=2038]=\"LEVEL\",e[e.BITRATE=2039]=\"BITRATE\",e[e.PACKAGE_RATE=2040]=\"PACKAGE_RATE\",e[e.AEC_RETURN_LOSS=2041]=\"AEC_RETURN_LOSS\",e[e.AEC_RETURN_LOSS_ENH=2042]=\"AEC_RETURN_LOSS_ENH\",e[e.FREEZE=2081]=\"FREEZE\",e[e.DISABLED=2096]=\"DISABLED\",e}(Yx||{}),qx=function(e){return e[e.BITRATE=2044]=\"BITRATE\",e[e.PACKAGE_LOST=2045]=\"PACKAGE_LOST\",e[e.PACKAGE_RATE=2046]=\"PACKAGE_RATE\",e[e.CURRENT_DELAY=2047]=\"CURRENT_DELAY\",e[e.JITTER_BUFFER=2054]=\"JITTER_BUFFER\",e[e.JITTER=2055]=\"JITTER\",e[e.FREEZE=2083]=\"FREEZE\",e[e.DISABLED=2102]=\"DISABLED\",e[e.PCM_LEVEL=2105]=\"PCM_LEVEL\",e[e.PLAYER_STATUS=2130]=\"PLAYER_STATUS\",e[e.CONCEALED_SAMPLES=2148]=\"CONCEALED_SAMPLES\",e}(qx||{}),zx=function(e){return e[e.FREEZE_TIME=-1]=\"FREEZE_TIME\",e[e.LEVEL=2043]=\"LEVEL\",e}(zx||{}),Jx=function(e){return e[e.RTT=2006]=\"RTT\",e[e.CONN_TYPE=801]=\"CONN_TYPE\",e}(Jx||{});const Xx=1e3,Qx=3;function Zx(e,t,i){null!=i&&Number.isFinite(i)&&(e[t]=Math.round(Math.max(0,i)))}function $x(e){const t={[Jx.CONN_TYPE]:0,[Jx.RTT]:e.rtt};switch(e.selectedCandidatePair.localCandidate.candidateType){case\"relay\":{const i=e.selectedCandidatePair.localCandidate.relayProtocol;\"udp\"===i&&(t[Jx.CONN_TYPE]=1),\"tcp\"===i&&(t[Jx.CONN_TYPE]=3),\"tls\"===i&&(t[Jx.CONN_TYPE]=4);break}case\"srflx\":t[Jx.CONN_TYPE]=2}return t}function eV(e){let t=0;switch(e){case\"none\":t=0;break;case\"cpu\":t=1;break;case\"bandwidth\":t=2;break;case\"other\":t=3}return t}class tV extends Sv{constructor(e){super(),og(this,\"store\",void 0),og(this,\"uploadWRTCStatsTimer\",void 0),og(this,\"uploadOutboundDenoiserStatsTimer\",void 0),og(this,\"uploadExtStatsTimer\",void 0),og(this,\"uploadExtUsageStatsTimer\",void 0),og(this,\"uploadInboundExtStatsTimer\",void 0),og(this,\"requestStats\",void 0),og(this,\"requestTransportStats\",void 0),og(this,\"requestLocalMedia\",void 0),og(this,\"requestRemoteMedia\",void 0),og(this,\"requestAllTracks\",void 0),og(this,\"requestVideoIsReady\",void 0),og(this,\"requestUploadStats\",void 0),og(this,\"requestUpload\",void 0),og(this,\"uploadOutboundStarted\",!1),og(this,\"uploadInboundStarted\",!1),og(this,\"uploadTransportStarted\",!1),og(this,\"uploadExtensionUsageStarted\",!1),og(this,\"lastRecvStats\",void 0),og(this,\"lastSendStats\",void 0),og(this,\"lastFullRecvStats\",void 0),og(this,\"lastFullSendStats\",void 0),og(this,\"needUploadRenderFreezeTime\",!0),this.store=e}uploadWRTCStats(e){if(!this.requestStats||!this.requestUploadStats)return;let t,i;if(this.uploadTransportStarted&&(t=this.requestStats(),this.store.useP2P&&(i=this.requestStats(!0))),!t&&this.uploadOutboundStarted&&(t=this.requestStats()),!i&&this.uploadInboundStarted&&(i=this.requestStats(!0)),t||i){const n={};if(this.uploadTransportStarted&&t){const r=this.getTransportStats(t,i,e);r&&(n.misc=[r])}if(this.uploadOutboundStarted&&t){const i=this.getOutboundStats(t,e?this.lastSendStats:this.lastFullSendStats,e);i&&(n.outbound=[i])}if(this.uploadInboundStarted&&i){const t=this.getInboundStats(i,e?this.lastRecvStats:this.lastFullRecvStats,e);t&&(n.inbound=t)}this.requestUploadStats(n)}this.lastRecvStats=i,this.lastSendStats=t,e||(this.lastFullRecvStats=i,this.lastFullSendStats=t)}startUploadWRTCStats(){if(this.uploadWRTCStatsTimer)return;let e=1;this.uploadWRTCStatsTimer=window.setInterval((()=>{if(!this.uploadTransportStarted&&!this.uploadInboundStarted&&!this.uploadOutboundStarted)return this.stopUploadWRTCStats();this.uploadWRTCStats(e!==Qx),++e===Qx+1&&(e=1)}),Xx)}stopUploadWRTCStats(){window.clearInterval(this.uploadWRTCStatsTimer),this.uploadWRTCStatsTimer=void 0,this.lastSendStats&&(this.lastSendStats.videoSend=[],this.lastSendStats.audioSend=[],this.lastSendStats=void 0),this.lastRecvStats&&(this.lastRecvStats.videoRecv=[],this.lastRecvStats.audioRecv=[],this.lastRecvStats=void 0)}getTransportStats(e,t,i){if(!this.requestStats)return;if(i)return null==e.rtt?void 0:{addition:{[Jx.RTT]:e.rtt,[Jx.CONN_TYPE]:void 0}};const n=$x(e);if(this.store.useP2P){if(t){const e=$x(t);n[Jx.CONN_TYPE]+=e[Jx.CONN_TYPE]<<3}n[Jx.CONN_TYPE]+=110}else n[Jx.CONN_TYPE]+=100;return{addition:n}}getOutboundStats(e,t,i){if(!this.requestUploadStats||!this.requestLocalMedia)return;const n=this.requestLocalMedia();if(!n||0===n.length)return;let r,o,s;return n.forEach((n=>{let[a,{track:c,ssrcs:d}]=n;switch(a){case Jb.LocalVideoLowTrack:case Jb.LocalVideoTrack:if(a===Jb.LocalVideoTrack){const n=function(e,t,i,n,r){const o=t.videoSend.find((t=>t.ssrc===e));if(!o)return;const s={},{sentFrame:a,inputFrame:c}=o;if(c&&a){const e=c.frameRate,t=a.frameRate;s[jx.FREEZE]=function(e,t){let i=!0;return i=!(e<=5)&&(e<=10?t<3:e<=20?t<4:t<5),i}(e,t)?1:0}if(Zx(s,jx.QP_SUM,o.qpSumPerFrame),r)return s;switch(a&&(Zx(s,jx.HEIGHT,a.height),Zx(s,jx.WIDTH,a.width),Zx(s,jx.FRAME_RATE,a.frameRate)),s[jx.DISABLED]=n._originMediaStreamTrack&&!n._originMediaStreamTrack.enabled||n._mediaStreamTrack&&!n._mediaStreamTrack.enabled?1:0,o.adaptionChangeReason){case\"none\":s[jx.ADAPTATION]=0;break;case\"cpu\":s[jx.ADAPTATION]=1;break;case\"bandwidth\":s[jx.ADAPTATION]=2;break;case\"other\":s[jx.ADAPTATION]=3}let d=0;o.adaptionChangeReason&&(d+=eV(o.adaptionChangeReason)),t.qualityLimitationReason&&(d+=eV(t.qualityLimitationReason)<<3),s[jx.ADAPTATION]=d,s[jx.PLAYER_STATUS]=gP[n._player?n._player.videoElementStatus:\"uninit\"],Zx(s,jx.NACKS,o.nacksCount),Zx(s,jx.PLIS,o.plisCount),Zx(s,jx.FIRS,o.firsCount),Zx(s,jx.AVG_ENCODE,o.avgEncodeMs);const l=i&&i.videoSend.find((t=>t.ssrc===e));if(l){let e=r?Xx:Xx*Qx;l.timestamp&&o.timestamp&&(e=o.timestamp-l.timestamp),null!=l.packets&&null!=o.packets&&Zx(s,jx.PACKAGE_RATE,1e3*(o.packets-l.packets)/e),null!=o.packetsLost&&null!=l.packetsLost&&Zx(s,jx.PACKAGE_LOST,o.packetsLost-l.packetsLost),null!=l.bytes&&null!=o.bytes&&Zx(s,jx.BITRATE,8*(o.bytes-l.bytes)/e)}return s}(d[0].ssrcId,e,t,c,i),r=i?null:function(e,t,i){const n=t.videoSend.find((t=>t.ssrc===e));if(!n)return null;const r={},o=n.inputFrame,s=o&&o.height||i&&i.videoHeight||0,a=o&&o.width||i&&i.videoWidth||0,c=o&&o.frameRate||0;return Zx(r,Bx.HEIGHT,s),Zx(r,Bx.WIDTH,a),Zx(r,Bx.FRAME_RATE,c),r}(d[0].ssrcId,e,c),s=i?null:function(e){const t={};return Zx(t,jx.RETRANSMIT,e.bitrate.retransmit),Zx(t,jx.TARGET_ENCODED,e.bitrate.targetEncoded),Zx(t,jx.ACTUAL_ENCODED,e.bitrate.actualEncoded),Zx(t,jx.TRANSMIT,e.bitrate.transmit),Zx(t,jx.BANDWIDTH,e.sendBandwidth),t}(e);o=Object.assign({},n,r,s)}else s=i?void 0:function(e,t,i){const n=t.videoSend.find((t=>t.ssrc===e));if(!n)return;const r={},o=n.sentFrame;if(o&&(Zx(r,Gx.HEIGHT,o.height),Zx(r,Gx.WIDTH,o.width),Zx(r,Gx.FRAME_RATE,o.frameRate)),i){const t=i.videoSend.find((t=>t.ssrc===e));if(t){let e=Xx*Qx;t.timestamp&&n.timestamp&&(e=n.timestamp-t.timestamp),null!=t.packets&&null!=n.packets&&Zx(r,Gx.PACKAGE_RATE,1e3*(n.packets-t.packets)/e),null!=n.packetsLost&&null!=t.packetsLost&&Zx(r,Gx.PACKAGE_LOST,n.packetsLost-t.packetsLost),null!=t.bytes&&null!=n.bytes&&Zx(r,Gx.BITRATE,8*(n.bytes-t.bytes)/e)}}return r}(d[0].ssrcId,e,t);break;case Jb.LocalAudioTrack:r=i?void 0:function(e,t,i,n){const r=t.audioSend.find((t=>t.ssrc===e));if(!r)return;const o={};o[Yx.DISABLED]=n._originMediaStreamTrack&&!n._originMediaStreamTrack.enabled||n._mediaStreamTrack&&!n._mediaStreamTrack.enabled?1:0;const s=100*n._source.getAccurateVolumeLevel(),a=r.inputLevel;if(null!=a){const e=Math.ceil(50*Math.log10(100*a+1));Zx(o,Yx.LEVEL,e)}Zx(o,Kx.PCM_LEVEL,s),Zx(o,Yx.AEC_RETURN_LOSS,r.aecReturnLoss),Zx(o,Yx.AEC_RETURN_LOSS_ENH,r.aecReturnLossEnhancement),o[Yx.FREEZE]=0;const c=i&&i.audioSend.find((t=>t.ssrc===e));if(c){let e=Xx*Qx;c.timestamp&&r.timestamp&&(e=r.timestamp-c.timestamp),null!=c.bytes&&null!=r.bytes&&Zx(o,Yx.BITRATE,8*(r.bytes-c.bytes)/e),null!=c.packets&&null!=r.packets&&Zx(o,Yx.PACKAGE_RATE,1e3*(r.packets-c.packets)/e)}return o}(d[0].ssrcId,e,t,c)}})),{high:o,low:s,audio:r}}getInboundStats(e,t,i){if(!this.requestRemoteMedia)return;const n=this.requestRemoteMedia()||[],r=[];return n.forEach((n=>{let[o,s]=n;const a={peer:o.uid};if(s.has(Yb.VIDEO)&&o.videoTrack){const n=o._videoSSRC&&this.requestVideoIsReady&&this.requestVideoIsReady(o._videoSSRC)||!1,r=o.videoTrack?function(e,t,i,n,r,o,s){var a;const c=t.videoRecv.find((t=>t.ssrc===e));if(!c)return;const d={},{receivedFrame:l,outputFrame:u,decodeFrameRate:h}=c,p=i&&i.videoRecv.find((t=>t.ssrc===e));if(d[Wx.FREEZE]=r&&yV.isRemoteVideoFreeze(n,c,p)?1:0,Zx(d,Hx.FRAME_RATE_DECODE,h),Zx(d,Wx.QP_SUM,c.qpSumPerFrame),c.framesRateFirefox&&Zx(d,Wx.FRAME_RATE,c.framesRateFirefox),l&&Zx(d,Wx.FRAME_RATE,l.frameRate),p){const e=t.timestamp-i.timestamp||(s?Xx:Qx*Xx);null!=c.packetsLost&&null!=p.packetsLost&&Zx(d,Wx.PACKAGE_LOST,c.packetsLost-p.packetsLost),null!=p.bytes&&null!=c.bytes&&Zx(d,Wx.BITRATE,8*(c.bytes-p.bytes)/e),null!=p.packets&&null!=c.packets&&Zx(d,Wx.PACKAGE_RATE,1e3*(c.packets-p.packets)/e)}if(s)return d;l?(Zx(d,Wx.HEIGHT,l.height),Zx(d,Wx.WIDTH,l.width)):n&&(Zx(d,Wx.HEIGHT,n._videoHeight||0),Zx(d,Wx.WIDTH,n._videoWidth||0)),u&&Zx(d,Hx.FRAME_RATE_OUTPUT,u.frameRate);const _=null===(a=n._player)||void 0===a?void 0:a.rendFrameRate.toFixed(0);if(_&&Zx(d,Hx.FRAME_RATE_RENDER,+_),Zx(d,Wx.JITTER_BUFFER,c.jitterBufferMs),Zx(d,Wx.CURRENT_DELAY,c.currentDelayMs),Zx(d,Wx.FIRS,c.firsCount),Zx(d,Wx.NACKS,c.nacksCount),Zx(d,Wx.PLIS,c.plisCount),n){d[Wx.DISABLED]=n._originMediaStreamTrack.enabled&&n._mediaStreamTrack.enabled?0:1;const e=n._player;if(e){const{freezeTimeCounterList:t,renderFreezeAccTime:i,videoElementStatus:n}=e;if(t&&t.length>0&&Zx(d,Hx.FREEZE_TIME,t.splice(0,1)[0]),o&&\"visible\"===cM.visibility&&n===TP.PLAYING&&MD().supportRequestVideoFrameCallback){const t=Math.min(6e3,i);e.renderFreezeAccTime=Math.max(0,i-t),Zx(d,Hx.FREEZE_TIME_RENDER,t)}if(\"number\"==typeof c.totalFreezesDuration){const e=p&&p.totalFreezesDuration?c.totalFreezesDuration-p.totalFreezesDuration:c.totalFreezesDuration;Zx(d,Hx.FREEZE_DURATION,1e3*e)}}}if(d[Wx.PLAYER_STATUS]=gP[n._player?n._player.videoElementStatus:\"uninit\"],p&&void 0!==c.totalInterFrameDelay&&void 0!==c.totalSquaredInterFrameDelay&&void 0!==p.totalInterFrameDelay&&void 0!==p.totalSquaredInterFrameDelay){const e=c.totalInterFrameDelay-p.totalInterFrameDelay,t=c.totalSquaredInterFrameDelay-p.totalSquaredInterFrameDelay,i=c.framesDecodeCount-p.framesDecodeCount,n=e/i*1e3,r=Math.round(1e3*Math.sqrt((t-Math.pow(e,2)/i)/i));!isNaN(r)&&n+r>Math.max(3*n,n+150)&&(d[Wx.I_FRAME_DELAY]=r)}return d}(o._videoSSRC,e,t,o.videoTrack,!0===n,this.needUploadRenderFreezeTime,i):void 0;r&&(a.video=r)}if(s.has(Yb.AUDIO)&&o.audioTrack){const n=o.audioTrack?function(e,t,i,n,r){const o=t.audioRecv.find((t=>t.ssrc===e));if(!o)return;const s={},a=i&&i.audioRecv.find((t=>t.ssrc===e)),{receivedFrames:c,droppedFrames:d}=o;var l,u;if(Zx(s,qx.JITTER,o.jitterMs),null!=c&&null!=d&&(s[qx.FREEZE]=(u=d,0===(l=c)||100*u/l>20?1:0)),a){const e=t.timestamp-i.timestamp||(r?Xx:Xx*Qx);null!=o.packets&&null!=a.packets&&Zx(s,qx.PACKAGE_RATE,1e3*(o.packets-a.packets)/e),null!=a.bytes&&null!=o.bytes&&Zx(s,qx.BITRATE,8*(o.bytes-a.bytes)/e),null!=o.packetsLost&&null!=a.packetsLost&&Zx(s,qx.PACKAGE_LOST,o.packetsLost-a.packetsLost)}if(r)return s;const h=100*n._source.getAccurateVolumeLevel(),p=o.outputLevel;if(null!=p){const e=Math.ceil(50*Math.log10(100*p+1));Zx(s,zx.LEVEL,e)}if(Zx(s,qx.PCM_LEVEL,h),n&&(s[qx.DISABLED]=n._originMediaStreamTrack.enabled&&n._mediaStreamTrack.enabled?0:1),Zx(s,qx.JITTER_BUFFER,o.jitterBufferMs),Zx(s,qx.CURRENT_DELAY,o.jitterBufferMs),s[qx.PLAYER_STATUS]=gP[eL.getPlayerState(n.getTrackId())],a){const e=o.concealedSamples-a.concealedSamples;e>0&&Zx(s,qx.CONCEALED_SAMPLES,e)}return s}(o._audioSSRC,e,t,o.audioTrack,i):void 0;n&&(a.audio=n)}(a.video||a.audio)&&r.push(a)})),this.needUploadRenderFreezeTime=!this.needUploadRenderFreezeTime,r}startUploadTransportStats(){this.uploadTransportStarted=!0,this.uploadWRTCStatsTimer||this.startUploadWRTCStats()}stopUploadTransportStats(){this.uploadTransportStarted=!1}startUploadOutboundStats(){this.uploadOutboundStarted||(this.uploadOutboundStarted=!0,this.uploadWRTCStatsTimer||this.startUploadWRTCStats(),this.uploadOutboundDenoiserStatsTimer&&window.clearInterval(this.uploadOutboundDenoiserStatsTimer),this.uploadOutboundDenoiserStatsTimer=window.setInterval((()=>{if(!this.requestAllTracks||!this.requestUpload)return;const e=(this.requestAllTracks()||[]).find((e=>e instanceof ik));if(e&&e._external.getDenoiserStats){const t=e._external.getDenoiserStats();t&&this.requestUpload(Eb.DENOISER_STATS,t)}}),2e3),this.uploadExtStatsTimer&&window.clearInterval(this.uploadExtStatsTimer),this.uploadExtStatsTimer=window.setInterval((()=>{if(!this.requestAllTracks||!this.requestUpload)return;this.requestAllTracks().forEach((e=>{e.getProcessorStats().forEach((e=>{this.requestUpload&&this.requestUpload(e.type,e.stats)}))}))}),2e3))}stopUploadOutboundStats(){this.uploadOutboundStarted&&(this.uploadOutboundStarted=!1,this.lastSendStats&&(this.lastSendStats.videoSend=[],this.lastSendStats.audioSend=[],this.lastSendStats=void 0),this.uploadOutboundDenoiserStatsTimer&&window.clearInterval(this.uploadOutboundDenoiserStatsTimer),this.uploadOutboundDenoiserStatsTimer=void 0)}startUploadInboundStats(){this.uploadInboundStarted||(this.uploadInboundStarted=!0,this.uploadWRTCStatsTimer||this.startUploadWRTCStats(),this.uploadInboundExtStatsTimer&&window.clearInterval(this.uploadInboundExtStatsTimer),this.uploadInboundExtStatsTimer=window.setInterval((()=>{if(!this.requestUpload||!this.requestRemoteMedia)return;(this.requestRemoteMedia()||[]).forEach((e=>{let[t,i]=e;if(i.has(Yb.VIDEO)&&t.videoTrack){t.videoTrack.getProcessorStats().forEach((e=>{this.requestUpload&&this.requestUpload(e.type,e.stats)}))}if(i.has(Yb.AUDIO)&&t.audioTrack){t.audioTrack.getProcessorStats().forEach((e=>{this.requestUpload&&this.requestUpload(e.type,e.stats)}))}}))}),2e3))}stopUploadInboundStats(){this.uploadInboundStarted&&(this.uploadInboundStarted=!1,this.lastRecvStats&&(this.lastRecvStats.videoRecv=[],this.lastRecvStats.audioRecv=[],this.lastRecvStats=void 0))}startUploadExtensionUsageStats(){if(this.uploadExtensionUsageStarted)return;this.uploadExtensionUsageStarted=!0,this.uploadExtUsageStatsTimer&&window.clearInterval(this.uploadExtUsageStatsTimer);const e=new Map;this.uploadExtUsageStatsTimer=window.setInterval((async()=>{const t=Date.now(),i={connectionInterval:Dy(\"EXTENSION_USAGE_UPLOAD_INTERVAL\")/1e3,details:[],lts:t};let n=[];const r=this.requestAllTracks&&this.requestAllTracks()||[];for(const e of r)!e.muted&&e.enabled&&(n=n.concat(await e.getProcessorUsage()));const o=this.requestRemoteMedia&&this.requestRemoteMedia()||[];for(const[e,t]of o)t.has(Yb.VIDEO)&&e.videoTrack&&(n=n.concat(await e.videoTrack.getProcessorUsage())),t.has(Yb.AUDIO)&&e.audioTrack&&(n=n.concat(await e.audioTrack.getProcessorUsage()));if(0===n.length)return;i.details=function(e,t){const i={};for(const{id:s,value:a,level:c,direction:d}of e){var n;const e=null!==(n=t.get(s))&&void 0!==n?n:0,l=2===a?e+Dy(\"EXTENSION_USAGE_UPLOAD_INTERVAL\")/1e3:e;var r,o;t.set(s,l),i[s]?(2===a&&(i[s].value=a),c>i[s].level&&(i[s].level=c),\"remote\"===d&&(i[s].remoteUidCount+=1),i[s].totalTs=null!==(r=t.get(s))&&void 0!==r?r:0):i[s]={value:a,level:c,remoteUidCount:\"local\"===d?0:1,totalTs:null!==(o=t.get(s))&&void 0!==o?o:0}}return Object.keys(i).map((e=>{const{level:t,value:n,totalTs:r}=i[e];return{id:e,level:t,value:n,totalTs:r}}))}(n,e);const s=Date.now(),a=s>t?s:t+1;this.requestUpload&&this.requestUpload(Eb.EXTENSION_USAGE_STATS,{usageStats:i,sendTs:a})}),Dy(\"EXTENSION_USAGE_UPLOAD_INTERVAL\"))}stopUploadExtensionUsageStats(){this.uploadExtensionUsageStarted&&(this.uploadExtensionUsageStarted=!1,this.uploadExtUsageStatsTimer&&window.clearInterval(this.uploadExtUsageStatsTimer),this.uploadExtUsageStatsTimer=void 0)}}class iV{get hasVideo(){return this._video_enabled_&&!this._video_muted_&&this._video_added_}get hasAudio(){return this._audio_enabled_&&!this._audio_muted_&&this._audio_added_}get audioTrack(){if(this.hasAudio||this._audio_pre_subscribed)return this._audioTrack}get videoTrack(){if(this.hasVideo||this._video_pre_subscribed)return this._videoTrack}get dataChannels(){return this._dataChannels}constructor(e,t){og(this,\"uid\",void 0),og(this,\"_uintid\",void 0),og(this,\"_trust_in_room_\",!0),og(this,\"_trust_audio_enabled_state_\",!0),og(this,\"_trust_video_enabled_state_\",!0),og(this,\"_trust_audio_mute_state_\",!0),og(this,\"_trust_video_mute_state_\",!0),og(this,\"_audio_muted_\",!1),og(this,\"_video_muted_\",!1),og(this,\"_audio_enabled_\",!0),og(this,\"_video_enabled_\",!0),og(this,\"_audio_added_\",!1),og(this,\"_video_added_\",!1),og(this,\"_is_pre_created\",!1),og(this,\"_video_pre_subscribed\",!1),og(this,\"_audio_pre_subscribed\",!1),og(this,\"_trust_video_stream_added_state_\",!0),og(this,\"_trust_audio_stream_added_state_\",!0),og(this,\"_audioTrack\",void 0),og(this,\"_videoTrack\",void 0),og(this,\"_dataChannels\",[]),og(this,\"_audioSSRC\",void 0),og(this,\"_videoSSRC\",void 0),og(this,\"_audioOrtc\",void 0),og(this,\"_videoOrtc\",void 0),og(this,\"_cname\",void 0),og(this,\"_rtxSsrcId\",void 0),og(this,\"_videoMid\",void 0),og(this,\"_audioMid\",void 0),this.uid=e,this._uintid=t}}let nV=function(e){return e.SEND_ONLY=\"SEND_ONLY\",e.RECEIVE_ONLY=\"RECEIVE_ONLY\",e}({});function rV(e,t){var i;let n;switch(t){case Jb.LocalAudioTrack:n=Mb.Audio;break;case Jb.LocalVideoTrack:n=Dn(i=e._hints).call(i,eP.SCREEN_TRACK)?Mb.Screen:Mb.High;break;case Jb.LocalVideoLowTrack:n=Mb.Low}return n}function oV(e){const t=MD();if(e.some((e=>e._bypassWebAudio)))throw new rv(nv.NOT_SUPPORTED,\"cannot publish multiple tracks which one of them configured with bypassWebAudio\");if(!t.webAudioMediaStreamDest)throw new rv(nv.NOT_SUPPORTED,\"cannot publish multiple tracks because your browser does not support audio mixing\")}function sV(e,t){oV(e);const i=t||new rk;return e.forEach((e=>i.addAudioTrack(e))),i}var aV,cV,dV,lV,uV,hV,pV,_V,EV,mV,fV,TV;function SV(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function gV(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?SV(Object(i),!0).forEach((function(t){og(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):SV(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}let RV=(aV=CV(nV.SEND_ONLY),cV=CV(nV.SEND_ONLY),dV=CV(),lV=CV(nV.RECEIVE_ONLY),uV=CV(nV.RECEIVE_ONLY),hV=CV(nV.RECEIVE_ONLY),pV=CV(nV.RECEIVE_ONLY),_V=CV(nV.RECEIVE_ONLY),EV=CV(nV.RECEIVE_ONLY),mV=CV(),fV=CV(nV.RECEIVE_ONLY),TV=class extends Sv{get state(){return this._state}set state(e){const t=this._state;this._state=e,this.emit(Qb.StateChange,t,this._state)}constructor(e,t){super(),og(this,\"isPlanB\",!1),og(this,\"store\",void 0),og(this,\"statsUploader\",void 0),og(this,\"sendConnection\",void 0),og(this,\"recvConnection\",void 0),og(this,\"localTrackMap\",new Map),og(this,\"remoteUserMap\",new Map),og(this,\"localDataChannels\",[]),og(this,\"pendingLocalTracks\",[]),og(this,\"pendingRemoteTracks\",[]),og(this,\"statsCollector\",void 0),og(this,\"dtlsFailedCount\",0),og(this,\"sendMutex\",new hy(\"P2PChannel2-send-mutex\")),og(this,\"recvMutex\",new hy(\"P2PChannel2-recv-mutex\")),og(this,\"_state\",Xb.Disconnected),og(this,\"_restartStates\",[\"disconnected\",\"failed\"]),og(this,\"reconnectInterval\",void 0),og(this,\"uploadUnplinkStarted\",!1),og(this,\"uploadDownlinkStarted\",!1),og(this,\"uplinkStateUploadInterval\",void 0),og(this,\"downlinkStatsUploadInterval\",void 0),og(this,\"handleMuteLocalTrack\",(async(e,t,i)=>{const n=await this.sendMutex.lock(\"Locking from P2PChannel2.handleMuteLocalTrack\");try{if(!this.sendConnection||this.state!==Xb.Connected)return void i(new rv(nv.INVALID_OPERATION,\"Cannot call P2PChannel2.handleMuteLocalTrack before sendConnection established.\"));const s=this.filterTobeMutedTracks(e);if(0===s.length)return void t();const a=s.find((e=>\"videoLowTrack\"===e[0]));if(a){a[1].track._originMediaStreamTrack.stop()}await this.sendConnection.muteLocal(s.map((e=>{let[,{id:t}]=e;return t})));let c=!1;var r,o;if(\"video\"===e.trackMediaType)c=!(null===(r=this.localTrackMap.get(Jb.LocalAudioTrack))||void 0===r||!r.track._muted);else c=void 0===(null===(o=this.localTrackMap.get(Jb.LocalVideoTrack))||void 0===o?void 0:o.id);const d=this.createMuteMessage(s);await Mv(this,Qb.RequestMuteLocal,d);const l=\"video\"===e.trackMediaType?cw.MUTE_LOCAL_VIDEO:cw.MUTE_LOCAL_AUDIO;await Mv(this,Qb.RequestP2PMuteLocal,{action:l,message:d,isMuteAll:c}),t()}catch(e){i(e)}finally{n()}})),og(this,\"handleUnmuteLocalTrack\",(async(e,t,i)=>{const n=await this.sendMutex.lock(\"Locking from P2PChannel2.handleUnmuteLocalTrack\");try{if(!this.sendConnection||this.state!==Xb.Connected)return void i(new rv(nv.INVALID_OPERATION,\"Cannot call P2PChannel2.handleUnmuteLocalTrack before sendConnection established.\"));const r=this.filterTobeUnmutedTracks(e);if(0===r.length)return void t();await this.sendConnection.unmuteLocal(r.map((e=>{let[,{id:t}]=e;return t})));const o=this.createUnmuteMessage(r),s=\"video\"===e.trackMediaType?cw.UNMUTE_LOCAL_VIDEO:cw.UNMUTE_LOCAL_AUDIO;await Mv(this,Qb.RequestP2PMuteLocal,{action:s,message:o}),t()}catch(e){i(e)}finally{n()}})),og(this,\"handleUpdateVideoEncoder\",(async(e,t,i)=>{const n=await this.sendMutex.lock(\"Locking from P2PChannel2.handleSetVideoEncoder\");try{const i=this.localTrackMap.get(Jb.LocalVideoTrack);if(!this.sendConnection||!i||i.track!==e||this.state!==Xb.Connected)return void t();const{id:r,track:o}=i;r&&(await this.sendConnection.updateSendParameters(r,o),await this.sendConnection.updateEncoderConfig(r,o),this.emit(Qb.UpdateVideoEncoder,o)),t()}catch(e){i(e)}finally{n()}})),og(this,\"handleUpdateVideoSendParameters\",(async(e,t,i)=>{const n=await this.sendMutex.lock(\"Locking from P2PChannel2.handleUpdateVideoSendParameters\");try{const i=this.localTrackMap.get(Jb.LocalVideoTrack);if(!this.sendConnection||!i||i.track!==e||this.state!==Xb.Connected)return void t();const{id:r,track:o}=i;r&&await this.sendConnection.updateSendParameters(r,o),t()}catch(e){i(e)}finally{n()}})),og(this,\"handleReplaceTrack\",(async(e,t,i,n)=>{let r;Qy.debug(\"[\".concat(this.store.clientId,\"] P2PChannel2 handleReplaceTrack for [track-id-\").concat(e.getTrackId(),\"]\")),\"boolean\"==typeof n&&n||(r=await this.sendMutex.lock(\"From P2PChannel2.handleReplaceTrack\"));try{var o;const i=Array.from(this.localTrackMap.entries()).find((t=>{let[,{track:i}]=t;return e===i}));if(!this.sendConnection||!i||void 0===i[1].id||this.state!==Xb.Connected)return void t();if(await(null===(o=this.sendConnection)||void 0===o?void 0:o.replaceTrack(e,i[1].id)),i[0]===Jb.LocalVideoTrack&&MD().supportDualStreamEncoding){const t=this.localTrackMap.get(Jb.LocalVideoLowTrack);if(t){const i=e._mediaStreamTrack.clone();t.track._originMediaStreamTrack.stop(),t.track._mediaStreamTrack=i,t.track._originMediaStreamTrack=i,await new Gh(((e,i)=>{this.handleReplaceTrack(t.track,e,i,!0)}))}}t()}catch(e){i(e)}finally{var s;null===(s=r)||void 0===s||s()}})),og(this,\"handleGetLocalVideoStats\",(e=>{e(this.statsCollector.getLocalVideoTrackStats())})),og(this,\"handleGetLocalAudioStats\",(e=>{e(this.statsCollector.getLocalAudioTrackStats())})),og(this,\"handleGetRemoteVideoStats\",(e=>this.statsCollector.getRemoteVideoTrackStats(e.uid)[e.uid])),og(this,\"handleGetRemoteAudioStats\",(e=>this.statsCollector.getRemoteAudioTrackStats(e.uid)[e.uid])),this.store=e,this.statsCollector=t,this.statsCollector.addP2PChannel(this),this.statsUploader=new tV(e),this.bindStatsUploaderEvents(),this.reconnectInterval=window.setInterval((()=>{[this.sendConnection,this.recvConnection].forEach((e=>{e&&(\"disconnected\"!==e.iceConnectionState&&\"failed\"!==e.iceConnectionState||this.handleDisconnect(e.direction))}))}),Dy(\"ICE_RESTART_INTERVAL\"))}async startP2PConnection(e,t){throw new rv(nv.NOT_SUPPORTED,\"p2p mode does not support startP2PConnection.\")}async connect(e){throw new rv(nv.NOT_SUPPORTED,\"p2p mode does not support connect.\")}async startP2P(e,t){let i;try{if(t){this.recvConnection&&(Qy.warning(\"[\".concat(this.store.clientId,\"] P2PChannel.startP2P reset recvConnection.\")),this.recvConnection.close(),this.unbindConnectionEvents(this.recvConnection)),i=await this.recvMutex.lock(\"From P2PChannel.startP2P\"),this.recvConnection=new xx(e,this.store,fb.RECEIVE_ONLY),this.bindConnectionEvents(this.recvConnection);const n=await this.recvConnection.establish(t);return{iceParameters:n.iceParameters,dtlsParameters:n.dtlsParameters,sdp:n.sdp}}{this.state=Xb.New,this.sendConnection&&(Qy.warning(\"[\".concat(this.store.clientId,\"] P2PChannel.startP2P reset sendConnection.\")),this.sendConnection.close(),this.unbindConnectionEvents(this.sendConnection)),i=await this.sendMutex.lock(\"From P2PChannel.startP2P\"),this.sendConnection=new xx(e,this.store),this.store.peerConnectionStart(),this.bindConnectionEvents(this.sendConnection);const t=await this.sendConnection.establish();return{iceParameters:t.iceParameters,dtlsParameters:t.dtlsParameters,sdp:t.sdp}}}finally{i&&i()}}async p2pConnect(e){if(!this.sendConnection)throw new rv(nv.UNEXPECTED_ERROR,\"Cannot P2PChannel2.p2pConnect before P2PChannel2.startP2PConnection .\");this.store.peerConnectionStart(),await this.sendConnection.connect(e),this.statsUploader.startUploadTransportStats(),this.statsUploader.startUploadExtensionUsageStats(),this.state=Xb.Connected}async addRemoteCandidate(e,t){if(t===fb.RECEIVE_ONLY){if(!this.sendConnection)throw new rv(nv.UNEXPECTED_ERROR,\"Cannot P2PChannel2.connect before P2PChannel2.addRemoteCandidate .\");await this.sendConnection.addRemoteCandidate(e)}else{if(!this.recvConnection)throw new rv(nv.UNEXPECTED_ERROR,\"Cannot P2PChannel2.connect before P2PChannel2.addRemoteCandidate .\");await this.recvConnection.addRemoteCandidate(e)}}publish(e,t,i){var n=this;return ZU((function*(){const r=yield WU(n.sendMutex.lock(\"From P2PChannel.publish\"));try{if(!n.sendConnection||n.state!==Xb.Connected){n.throwIfTrackTypeNotMatch(e);const t=e.filter((e=>-1===n.pendingLocalTracks.indexOf(e)));return void(n.pendingLocalTracks=n.pendingLocalTracks.concat(t))}n.store.pubId=n.store.pubId+1,jU.markPublishStart(n.store.clientId,n.store.pubId);const o=n.filterTobePublishedTracks(e,t,i);if(0===o.length)return void(yield WU(n.tryToUnmuteAudio(e)));o.forEach((e=>{let{track:t,type:i}=e;const r=Date.now();n.store.publish(t.getTrackId(),i===Jb.LocalAudioTrack?\"audio\":\"video\",r)})),n.bindLocalTrackEvents(o);const s=yield WU(n.sendConnection.send(o.map((e=>{let{track:t}=e;return t})),n.store.codec,n.store.audioCodec)),a=(yield WU(s.next())).value,c=n.createGatewayPublishMessage(o,a);try{yield c}catch(e){throw s.throw(e),(null==e?void 0:e.code)===nv.WS_ABORT&&o.forEach((e=>{let{track:t}=e;-1===n.pendingLocalTracks.indexOf(t)&&n.pendingLocalTracks.push(t)})),n.unbindLocalTrackEvents(o),e}yield WU(s.next()),o.forEach((e=>{let{type:t}=e;n.statsCollector.addLocalStats(t)})),n.statsUploader.startUploadOutboundStats(),n.assignLocalTracks(o,a),o.forEach((e=>{let{track:t,type:i}=e;const r=Date.now();n.store.publish(t.getTrackId(),i===Jb.LocalAudioTrack?\"audio\":\"video\",void 0,r)})),n.startUploadUplinkState()}finally{r()}}))()}async unpublish(e){if(!this.sendConnection||this.state!==Xb.Connected)return void(0===e.length?this.pendingLocalTracks.length=0:this.pendingLocalTracks=this.pendingLocalTracks.filter((t=>!Dn(e).call(e,t))));const t=this.filterTobeUnpublishedTracks(e);if(0===t.length)return;const i=t.find((e=>\"videoLowTrack\"===e[0]));if(i){i[1].track.close()}const n=this.createGatewayUnpublishMessage(t);if(await this.sendConnection.stopSending(t.map((e=>{let[,{id:t}]=e;return t}))),this.withdrawLocalTracks(t),this.unbindLocalTrackEvents(t.map((e=>{let[t,{track:i}]=e;return{type:t,track:i}}))),t.forEach((e=>{let[t]=e;this.statsCollector.removeLocalStats(t)})),0===this.localTrackMap.size&&(this.statsUploader.stopUploadOutboundStats(),this.stopUploadUplinkState()),this.sendConnection&&this.state===Xb.Connected){if(i){i[1].track.close()}return n}e.forEach((e=>{const t=this.pendingLocalTracks.indexOf(e);-1!==t&&this.pendingLocalTracks.splice(t,1)}))}startUploadUplinkState(){if(this.uploadUnplinkStarted)return;this.uploadUnplinkStarted=!0,this.uplinkStateUploadInterval&&window.clearInterval(this.uplinkStateUploadInterval);const e=()=>{const e=[],t=[];Array.from(this.localTrackMap.entries()).forEach((i=>{let[n,{track:r,ssrcs:o}]=i;const s={stream_type:rV(r,n),ssrcs:o};r._muted||!r._enabled?e.push(s):t.push(s)})),e.length>0&&e.forEach((e=>{Mv(this,Qb.RequestMuteLocal,[e])})),t.length>0&&t.forEach((e=>{Mv(this,Qb.RequestUnmuteLocal,[e])}))};e(),this.uplinkStateUploadInterval=window.setInterval((()=>{e()}),3e3)}stopUploadUplinkState(){this.uploadUnplinkStarted&&(this.uploadUnplinkStarted=!1,this.uplinkStateUploadInterval&&window.clearInterval(this.uplinkStateUploadInterval))}publishLowStream(e){return ZU((function*(){throw new rv(nv.NOT_SUPPORTED,\"p2p mode does not support publishLowStream.\")}))()}async republish(){this.pendingLocalTracks.length>0&&(Qy.debug(\"[\".concat(this.store.clientId,\"] Emit P2PChannelEvents.RequestRePublish to republish tracks.\")),await kv(this,Qb.RequestRePublish,this.pendingLocalTracks),this.emit(Qb.MediaReconnectEnd,this.store.uid),this.pendingLocalTracks=[])}async unpublishLowStream(){throw new rv(nv.NOT_SUPPORTED,\"p2p mode does not support unpublishLowStream.\")}async subscribe(e,t,i,n){var r;if(!this.recvConnection)throw new rv(nv.INVALID_OPERATION,\"Cannot subscribe remote user when recvConnection disconnected.\");if(null!==(r=this.remoteUserMap.get(e))&&void 0!==r&&r.has(t))return;const{track:o,mid:s,transceiver:a}=await this.recvConnection.receive(t,[{ssrcId:i}],String(e.uid),n);t===Yb.AUDIO?(e._audioTrack?e._audioTrack._updateOriginMediaStreamTrack(o):(e._audioTrack=new aM(o,e.uid,e._uintid,this.store),Qy.info(\"[\".concat(this.store.clientId,\"] [\").concat(this.store.p2pId,\"] create remote audio track: \").concat(e._audioTrack.getTrackId()))),a&&e._audioTrack._updateRtpTransceiver(a),this.bindRemoteTrackEvents(e,e._audioTrack)):(e._videoSSRC=i,e._videoTrack?e._videoTrack._updateOriginMediaStreamTrack(o):(e._videoTrack=new sM(o,e.uid,e._uintid,this.store),Qy.info(\"[\".concat(this.store.clientId,\"] [\").concat(this.store.p2pId,\"] create remote video track: \").concat(e._videoTrack.getTrackId()))),a&&e._videoTrack._updateRtpTransceiver(a),this.bindRemoteTrackEvents(e,e._videoTrack));const c=this.remoteUserMap.get(e);c?c.set(t,s):this.remoteUserMap.set(e,new Map([[t,s]])),this.statsCollector.addRemoteStats(e.uid),this.statsUploader.startUploadInboundStats(),this.startUploadDownlinkState();const d=this.pendingRemoteTracks.findIndex((i=>{let{user:n,kind:r}=i;return n.uid===e.uid&&t===r}));-1!==d&&(this.pendingRemoteTracks.splice(d,1),this.emit(Qb.MediaReconnectEnd,e.uid))}async mockSubscribe(e,t,i,n){if(!this.recvConnection)throw new rv(nv.INVALID_OPERATION,\"Cannot subscribe remote user when recvConnection disconnected.\");await this.recvConnection.mockReceive(t,[{ssrcId:i}],String(e.uid),n)}async unsubscribe(e,t,i){const n=this.pendingRemoteTracks.filter((i=>{let{user:n,kind:r}=i;return void 0!==t?n.uid===e.uid&&t===r:n.uid===e.uid}));if(n.forEach((e=>{const t=this.pendingRemoteTracks.indexOf(e);this.pendingRemoteTracks.splice(t,1)})),this.recvConnection||i||n.forEach((t=>{let{kind:i}=t;var n;if(i===Yb.AUDIO)null===(n=e._audioTrack)||void 0===n||n._destroy(),e._audioTrack=void 0;else if(i===Yb.VIDEO){var r;null===(r=e._videoTrack)||void 0===r||r._destroy(),e._videoTrack=void 0}})),!this.recvConnection)return;const r=this.filterTobeUnSubscribedTracks(e,t);0!==r.length&&(await this.recvConnection.stopReceiving(r.map((e=>{let[,{id:t}]=e;return t}))),this.withdrawRemoteTracks(r),0===this.remoteUserMap.size&&(this.statsUploader.stopUploadInboundStats(),this.stopUploadDownlinkState()),r.forEach((e=>{let[t,{kind:n}]=e;var r,o;n===Yb.VIDEO&&t._videoSSRC&&(null===(r=this.recvConnection)||void 0===r||r.setStatsRemoteVideoIsReady(t._videoSSRC,!1));if(n===Yb.VIDEO)this.unbindRemoteTrackEvents(t._videoTrack),i||(null===(o=t._videoTrack)||void 0===o||o._destroy(),t._videoTrack=void 0);else if(n===Yb.AUDIO){var s;if(this.unbindRemoteTrackEvents(t._audioTrack),!i)null===(s=t._audioTrack)||void 0===s||s._destroy(),t._audioTrack=void 0}})),r.forEach((e=>{let[,{kind:t}]=e;Mv(this,Qb.RequestP2PMuteRemote,t)})))}startUploadDownlinkState(){if(this.uploadDownlinkStarted)return;this.uploadDownlinkStarted=!0,this.downlinkStatsUploadInterval&&window.clearInterval(this.downlinkStatsUploadInterval);const e=()=>Array.from(this.remoteUserMap.entries()).forEach((e=>{let[,t]=e;[Yb.VIDEO,Yb.AUDIO].forEach((e=>{t.has(e)?Mv(this,Qb.RequestP2PUnmuteRemote,e):Mv(this,Qb.RequestP2PMuteRemote,e)}))}));e(),this.downlinkStatsUploadInterval=window.setInterval((()=>{e()}),3e3)}stopUploadDownlinkState(){this.uploadDownlinkStarted&&(this.uploadDownlinkStarted=!1,this.downlinkStatsUploadInterval&&window.clearInterval(this.downlinkStatsUploadInterval))}getAllDataChannels(){return this.localDataChannels}async massSubscribe(e){throw new rv(nv.NOT_SUPPORTED,\"p2p mode does not support massSubscribe.\")}async massSubscribeNoLock(e){throw new rv(nv.NOT_SUPPORTED,\"p2p mode does not support massSubscribeNoLock.\")}async massUnsubscribe(e){throw new rv(nv.NOT_SUPPORTED,\"p2p mode does not support massUnsubscribe.\")}async massUnsubscribeNoLock(e){throw new rv(nv.NOT_SUPPORTED,\"p2p mode does not support massUnsubscribeNoLock.\")}async muteRemote(e,t){if(!this.recvConnection)return;const i=this.remoteUserMap.get(e);if(!i)return void Qy.warning(\"[\".concat(this.store.clientId,\"] P2PChannel2.muteRemote has no remote user \").concat(e.uid,\".\"));if(!i.get(t))return void Qy.warning(\"[\".concat(this.store.clientId,\"] P2PChannel2.muteRemote has no remote user \").concat(e.uid,\" media type \").concat(t,\".\"));const n=t===Yb.VIDEO?e._videoSSRC:e._audioSSRC;void 0!==n&&this.recvConnection.setStatsRemoteVideoIsReady(n,!1)}async unmuteRemote(e,t){return this.unmuteRemoteNoLock(e,t)}async unmuteRemoteNoLock(e,t){if(!this.recvConnection)return;const i=this.remoteUserMap.get(e);if(!i)return void Qy.warning(\"[\".concat(this.store.clientId,\"] P2PChannel2.unmuteRemote has no remote user \").concat(e.uid,\".\"));i.get(t)||Qy.warning(\"[\".concat(this.store.clientId,\"] P2PChannel2.unmuteRemote has no remote user \").concat(e.uid,\" media type \").concat(t,\".\"))}getAllTracks(e){const t=this.localTrackMap.get(Jb.LocalAudioTrack);if((null==t?void 0:t.track)instanceof rk){const i=t.track;return Array.from(this.localTrackMap.entries()).filter((e=>{let[t]=e;return t!==Jb.LocalAudioTrack})).filter((t=>{let[i]=t;return!(e&&i===Jb.LocalVideoLowTrack)})).map((e=>{let[,{track:t}]=e;return t})).concat(i.trackList)}return Array.from(this.localTrackMap.entries()).filter((t=>{let[i]=t;return!(e&&i===Jb.LocalVideoLowTrack)})).map((e=>{let[,{track:t}]=e;return t}))}reportPublishEvent(e,t,i,n,r){if(e){const i=this.localTrackMap.get(Jb.LocalAudioTrack),o=n?this.localTrackMap.get(Jb.LocalVideoLowTrack):this.localTrackMap.get(Jb.LocalVideoTrack);sA.publish(this.store.sessionId,{eventElapse:jU.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:e,ec:t,audioName:null==i?void 0:i.track.getTrackLabel(),videoName:null==o?void 0:o.track.getTrackLabel(),screenshare:-1!==(null==o?void 0:o.track._hints.indexOf(eP.SCREEN_TRACK)),audio:!!i,video:!!o,p2pid:this.store.p2pId,publishRequestid:this.store.pubId,extend:r})}else{var o;i||(i=[]);const s=i.find((e=>e instanceof tk)),a=n?null===(o=this.localTrackMap.get(Jb.LocalVideoTrack))||void 0===o?void 0:o.track:i.find((e=>e instanceof Hk));sA.publish(this.store.sessionId,{eventElapse:jU.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:e,ec:t,audioName:null==s?void 0:s.getTrackLabel(),videoName:null==a?void 0:a.getTrackLabel(),screenshare:-1!==(null==a?void 0:a._hints.indexOf(eP.SCREEN_TRACK)),audio:!!s,video:!!a,p2pid:this.store.p2pId,publishRequestid:this.store.pubId,extend:r})}}reportSubscribeEvent(e,t,i,n){const r=n===Yb.VIDEO?i._videoSSRC:i._audioSSRC;r&&sA.subscribe(this.store.sessionId,{succ:e,ec:t,video:n===Yb.VIDEO,audio:n===Yb.AUDIO,peerid:i.uid,subscribeRequestid:n===Yb.VIDEO?i._videoSSRC:i._audioSSRC,p2pid:this.store.p2pId,eventElapse:jU.measureFromSubscribeStart(this.store.clientId,r)})}reset(){Qy.debug(\"[\".concat(this.store.clientId,\"] P2PChannel2.reset\")),this.sendMutex=new hy(\"P2PChannel2-send-mutex\"),this.sendMutex=new hy(\"P2PChannel2-recv-mutex\"),this.sendConnection&&(this.sendConnection.close(),this.unbindConnectionEvents(this.sendConnection),this.sendConnection=void 0),this.recvConnection&&(this.recvConnection.close(),this.unbindConnectionEvents(this.recvConnection),this.recvConnection=void 0),this.statsUploader.stopUploadOutboundStats(),this.statsUploader.stopUploadInboundStats(),this.statsUploader.stopUploadTransportStats(),this.statsUploader.stopUploadExtensionUsageStats(),this.stopUploadUplinkState(),this.stopUploadDownlinkState(),this.unbindLocalTrackEvents(),this.unbindAllRemoteTrackEvents(),this.unbindRtpTransceiver();const e=this.localTrackMap.get(Jb.LocalAudioTrack);if((null==e?void 0:e.track)instanceof rk){if(e.track.trackList.length>0){const t=e.track;e.track.trackList.forEach((e=>{t.removeAudioTrack(e)}))}e.track.close()}this.localTrackMap.clear(),this.remoteUserMap.clear(),this.statsCollector.removeRemoteStats(),this.statsCollector.removeLocalStats(),this.dtlsFailedCount=0,this.pendingLocalTracks=[],this.pendingRemoteTracks=[],this.reconnectInterval&&(window.clearInterval(this.reconnectInterval),this.reconnectInterval=void 0),this.state=Xb.Disconnected}getStats(e){var t,i;return e?null===(i=this.recvConnection)||void 0===i?void 0:i.getStats():null===(t=this.sendConnection)||void 0===t?void 0:t.getStats()}getRemoteVideoIsReady(e){var t;return(null===(t=this.recvConnection)||void 0===t?void 0:t.getRemoteVideoIsReady(e))||!1}getLocalAudioVolume(){const e=this.localTrackMap.get(Jb.LocalAudioTrack);if(e)return e.track.getVolumeLevel()}getLocalVideoSize(){const e=this.localTrackMap.get(Jb.LocalVideoTrack);if(e)return{width:e.track.videoWidth||0,height:e.track.videoHeight||0}}getEncoderConfig(e){const t=this.localTrackMap.get(e);return t&&t.track instanceof Hk||t&&t.track instanceof tk?t.track._encoderConfig:void 0}getLocalMedia(e){return this.localTrackMap.get(e)}hasLocalMedia(){return this.localTrackMap.size>0}hasRemoteMedia(e,t){if(!e)return this.remoteUserMap.size>0;const i=this.remoteUserMap.get(e);return!!i&&(!t||i.has(t))}async hasRemoteMediaWithLock(e,t){if(!e)return this.remoteUserMap.size>0;const i=this.remoteUserMap.get(e);return!!i&&(!t||i.has(t))}getRemoteMedia(e){var t;const i=Array.from(d_(t=this.remoteUserMap).call(t)).find((t=>t.uid===e));return i?{audioTrack:i.audioTrack,audioSSRC:i._audioSSRC,videoTrack:i.videoTrack,videoSSRC:i._videoSSRC}:{}}getAudioLevels(){let e=Array.from(this.remoteUserMap.entries()).map((e=>{let[t]=e;return{uid:t.uid,level:t.audioTrack?100*t.audioTrack._source.getAccurateVolumeLevel():0}}));const t=this.localTrackMap.get(Jb.LocalAudioTrack);return t&&e.push({level:100*t.track._source.getAccurateVolumeLevel(),uid:this.store.uid}),e=aE(e).call(e,((e,t)=>e.level-t.level)),e}async disconnectForReconnect(){this.sendConnection&&this.recvConnection&&(Qy.debug(\"[\".concat(this.store.clientId,\"] P2PChannel2.disconnectForReconnect closing P2PConnection\")),this.state=Xb.Reconnecting,Dy(\"KEEP_LAST_FRAME\")&&0!==this.remoteUserMap.size&&Array.from(this.remoteUserMap.entries()).forEach((e=>{let[t]=e;var i;t._videoTrack&&t._videoTrack._player&&(null===(i=t._videoTrack._player.getVideoElement())||void 0===i||i.pause(),t._videoTrack._player.isKeepLastFrame=!0,t._videoTrack._originMediaStreamTrack.stop())})),this.sendConnection.close(),this.unbindConnectionEvents(this.sendConnection),this.sendConnection=void 0,this.recvConnection.close(),this.unbindConnectionEvents(this.recvConnection),this.recvConnection=void 0,0!==this.localTrackMap.size&&(Array.from(this.localTrackMap.entries()).forEach((e=>{var t;let[i,{track:n}]=e;switch(i){case Jb.LocalVideoTrack:Dn(t=n._hints).call(t,eP.LOW_STREAM)?n.close():this.pendingLocalTracks.push(n);break;case Jb.LocalAudioTrack:n instanceof rk?this.pendingLocalTracks=this.pendingLocalTracks.concat(n.trackList):this.pendingLocalTracks.push(n);case Jb.LocalVideoLowTrack:}})),this.emit(Qb.MediaReconnectStart,this.store.uid)),this.unbindLocalTrackEvents(),this.localTrackMap.clear(),0!==this.remoteUserMap.size&&Array.from(this.remoteUserMap.entries()).forEach((e=>{let[t,i]=e;Array.from(d_(i).call(i)).forEach((e=>{this.setPendingRemoteMedia(t,e)})),this.emit(Qb.MediaReconnectStart,t.uid)})),this.unbindAllRemoteTrackEvents(),this.remoteUserMap.clear(),this.stopUploadUplinkState(),this.stopUploadDownlinkState(),this.statsUploader.stopUploadOutboundStats(),this.statsUploader.stopUploadInboundStats(),this.statsUploader.stopUploadTransportStats(),Qy.debug(\"[\".concat(this.store.clientId,\"] P2PChannel2 disconnected, waiting to reconnect.\")))}hasPendingRemoteMedia(e,t){for(const i of this.pendingRemoteTracks){const{user:n,kind:r}=i;if((e instanceof iV?e.uid:e)===n.uid&&t===r)return!0}return!1}setPendingRemoteMedia(e,t){this.hasPendingRemoteMedia(e,t)||this.pendingRemoteTracks.push({user:e,kind:t})}async restartICE(e,t){let i,n;if(e===fb.SEND_ONLY){if(!this.sendConnection)throw new rv(nv.INVALID_OPERATION,\"Cannot call P2PChannel2.handleMuteLocalTrack before sendConnection established.\");i=await this.sendMutex.lock(\"From P2PChannel.restartICE\"),n=this.sendConnection}else{if(!this.recvConnection)throw new rv(nv.INVALID_OPERATION,\"Cannot call P2PChannel2.handleMuteLocalTrack before recvConnection established.\");i=await this.recvMutex.lock(\"From P2PChannel.restartICE\"),n=this.recvConnection}try{if(t){const e=await n.restartICE(t);return n.isInRestartIce=!1,e}{const e=await n.restartICE();if(e){const t=await kv(this,Qb.RequestP2PRestartICE,{direction:fb.RECEIVE_ONLY,iceParameter:e});await n.restartICE(t),n.isInRestartIce=!1}}}finally{i()}}getUplinkNetworkQuality(){if(!this.sendConnection)return 0;const e=this.sendConnection.getStats(),t=this.localTrackMap.get(Jb.LocalVideoTrack),i=this.localTrackMap.get(Jb.LocalAudioTrack),n=e.videoSend.find((e=>{var i;return e.ssrc===(null==t||null===(i=t.ssrcs)||void 0===i?void 0:i[0].ssrcId)})),r=e.audioSend.find((e=>{var t;return e.ssrc===(null==i||null===(t=i.ssrcs)||void 0===t?void 0:t[0].ssrcId)}));if(!n||!r)return 1;const o=Uv(this,Qb.NeedSignalRTT),s=n?n.rttMs:void 0,a=r?r.rttMs:void 0,c=s&&a?(s+a)/2:s||a,d=(c&&o?(c+o)/2:c||o)||0,l=100*e.sendPacketLossRate*.7/50+.3*d/1500,u=l<.17?1:l<.36?2:l<.59?3:l<.1?4:5,h=null==t?void 0:t.track;if(h&&h._encoderConfig&&-1===h._hints.indexOf(eP.SCREEN_TRACK)){const t=h._encoderConfig.bitrateMax,i=e.bitrate.actualEncoded;if(t&&i){const e=(1e3*t-i)/(1e3*t);return dA[e<.15?0:e<.3?1:e<.45?2:e<.6?3:4][u]}}return u}getDownlinkNetworkQuality(){if(!this.recvConnection)return 0;const e=this.recvConnection.getStats();let t=0;return Array.from(this.remoteUserMap.entries()).forEach((i=>{let[n]=i;const r=n._audioSSRC,o=n._videoSSRC,s=e.audioRecv.find((e=>e.ssrc===r)),a=e.videoRecv.find((e=>e.ssrc===o));if(!s&&!a)return void(t+=1);const c=Uv(this,Qb.NeedSignalRTT),d=e.rtt,l=(d&&c?(d+c)/2:d||c)||0,u=s?s.jitterMs:void 0,h=e.recvPacketLossRate;let p=.7*h*100/50+.3*l/1500;u&&(p=.6*h*100/50+.2*l/1500+.2*u/400);t+=p<.1?1:p<.17?2:p<.36?3:p<.59?4:5})),this.remoteUserMap.size>0?Math.round(t/this.remoteUserMap.size):t}async muteLocalTrack(e){return new Gh(((t,i)=>{this.handleMuteLocalTrack(e,t,i)}))}filterTobePublishedTracks(e,t,i){const n=[],r=MD(),o=this.getAllTracks();e=Bv(e=e.filter((e=>-1===o.indexOf(e))));let s=!1,a=!1;for(const o of e){if(o instanceof Hk&&(this.localTrackMap.has(Jb.LocalVideoTrack)||s?new rv(nv.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS).throw():(n.push({track:o,type:Jb.LocalVideoTrack}),s=!0),t)){const e=this.getLowVideoTrack(o,i);n.push({track:e,type:Jb.LocalVideoLowTrack})}if(o instanceof tk){const e=this.localTrackMap.get(Jb.LocalAudioTrack);if(e){if(!(e.track instanceof rk))throw new rv(nv.NOT_SUPPORTED,\"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser does not support audio mixing\");if(o._bypassWebAudio)throw new rv(nv.NOT_SUPPORTED,\"cannot publish multiple tracks which one of them configured with bypassWebAudio\");e.track.addAudioTrack(o),this.bindLocalAudioTrackEvents(o,!0)}else if(a){const e=n.find((e=>{let{type:t}=e;return t===Jb.LocalAudioTrack}));if(!(e.track instanceof rk))throw new rv(nv.NOT_SUPPORTED,\"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser does not support audio mixing\");if(o._bypassWebAudio)throw new rv(nv.NOT_SUPPORTED,\"cannot publish multiple tracks which one of them configured with bypassWebAudio\");e.track.addAudioTrack(o)}else{if(!r.webAudioMediaStreamDest||o instanceof rk||o._bypassWebAudio)n.push({track:o,type:Jb.LocalAudioTrack});else{const e=new rk;e.addAudioTrack(o),n.push({track:e,type:Jb.LocalAudioTrack})}a=!0}}}return n}filterTobeUnpublishedTracks(e){const t=[],i=this.getAllTracks();e=Bv(e=e.filter((e=>-1!==i.indexOf(e))));for(const i of e){if(i instanceof tk){const e=this.localTrackMap.get(Jb.LocalAudioTrack);if(!e)continue;e.track instanceof rk?(e.track.removeAudioTrack(i),this.unbindLocalAudioTrackEvents(i),0===e.track.trackList.length&&(t.push([Jb.LocalAudioTrack,e]),e.track.close())):t.push([Jb.LocalAudioTrack,e])}if(i instanceof Hk){const e=this.localTrackMap.get(Jb.LocalVideoTrack);if(!e)continue;t.push([Jb.LocalVideoTrack,e]);const i=this.localTrackMap.get(Jb.LocalVideoLowTrack);i&&t.push([Jb.LocalVideoLowTrack,i])}}return t}bindLocalTrackEvents(e){e.forEach((e=>{let{track:t,type:i}=e;switch(i){case Jb.LocalVideoTrack:t.addListener($D.GET_STATS,this.handleGetLocalVideoStats),t.addListener($D.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),t.addListener($D.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),t.addListener($D.NEED_UPDATE_VIDEO_ENCODER,this.handleUpdateVideoEncoder),t.addListener($D.NEED_UPDATE_VIDEO_SEND_PARAMETERS,this.handleUpdateVideoSendParameters),t.addListener($D.NEED_REPLACE_TRACK,this.handleReplaceTrack),t.addListener($D.NEED_MUTE_TRACK,this.handleMuteLocalTrack),t.addListener($D.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack);break;case Jb.LocalAudioTrack:this.bindLocalAudioTrackEvents(t);case Jb.LocalVideoLowTrack:}}))}bindLocalAudioTrackEvents(e,t){e instanceof rk?e.trackList.forEach((e=>{e.addListener($D.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.addListener($D.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.addListener($D.GET_STATS,this.handleGetLocalAudioStats),e.addListener($D.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.addListener($D.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack)})):(e.addListener($D.GET_STATS,this.handleGetLocalAudioStats),e.addListener($D.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.addListener($D.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.addListener($D.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.addListener($D.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack),t||e.addListener($D.NEED_REPLACE_TRACK,this.handleReplaceTrack))}unbindLocalTrackEvents(e){e||(e=Array.from(this.localTrackMap.entries()).map((e=>{let[t,{track:i}]=e;return{track:i,type:t}}))),e.forEach((e=>{let{track:t,type:i}=e;switch(i){case Jb.LocalVideoTrack:t.off($D.GET_STATS,this.handleGetLocalVideoStats),t.off($D.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),t.off($D.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),t.off($D.NEED_UPDATE_VIDEO_ENCODER,this.handleUpdateVideoEncoder),t.off($D.NEED_UPDATE_VIDEO_SEND_PARAMETERS,this.handleUpdateVideoSendParameters),t.off($D.NEED_REPLACE_TRACK,this.handleReplaceTrack),t.off($D.NEED_MUTE_TRACK,this.handleMuteLocalTrack),t.off($D.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack);break;case Jb.LocalAudioTrack:this.unbindLocalAudioTrackEvents(t);case Jb.LocalVideoLowTrack:}}))}unbindLocalAudioTrackEvents(e){e instanceof rk?e.trackList.forEach((e=>{e.off($D.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.off($D.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.off($D.GET_STATS,this.handleGetLocalAudioStats),e.off($D.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.off($D.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack)})):(e.off($D.GET_STATS,this.handleGetLocalAudioStats),e.off($D.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.off($D.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.off($D.NEED_REPLACE_TRACK,this.handleReplaceTrack),e.off($D.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.off($D.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack))}bindRemoteTrackEvents(e,t){t instanceof sM&&t.addListener($D.GET_STATS,(t=>{t(this.handleGetRemoteVideoStats(e))})),t instanceof aM&&t.addListener($D.GET_STATS,(t=>{t(this.handleGetRemoteAudioStats(e))}))}unbindRemoteTrackEvents(e){e&&e.removeAllListeners($D.GET_STATS)}unbindAllRemoteTrackEvents(){Array.from(this.remoteUserMap.entries()).forEach((e=>{let[t,i]=e;i.has(Yb.AUDIO)&&this.unbindRemoteTrackEvents(t._audioTrack),i.has(Yb.VIDEO)&&this.unbindRemoteTrackEvents(t._videoTrack)}))}createGatewayPublishMessage(e,t){return e.map(((e,i)=>{var n;let r,{track:o,type:s}=e;switch(s){case Jb.LocalAudioTrack:r=Mb.Audio;break;case Jb.LocalVideoTrack:r=Dn(n=o._hints).call(n,eP.SCREEN_TRACK)?Mb.Screen:Mb.High;break;case Jb.LocalVideoLowTrack:r=Mb.Low}return{kind:s===Jb.LocalAudioTrack?Yb.AUDIO:Yb.VIDEO,stream_type:r,mid:t[i].id,ssrcs:t[i].localSSRC,isMuted:o.muted||!o.enabled}}))}createGatewayUnpublishMessage(e){return e.map((e=>{var t;let i,[n,{track:r,ssrcs:o,id:s}]=e;switch(n){case Jb.LocalVideoTrack:i=Dn(t=r._hints).call(t,eP.SCREEN_TRACK)?Mb.Screen:Mb.High;break;case Jb.LocalAudioTrack:i=Mb.Audio;break;case Jb.LocalVideoLowTrack:i=Mb.Low}return{stream_type:i,ssrcs:o,mid:s}}))}assignLocalTracks(e,t){e.forEach(((e,i)=>{let{track:n,type:r}=e;this.localTrackMap.set(r,{track:n,id:t[i].id,ssrcs:t[i].localSSRC})}))}withdrawLocalTracks(e){e.forEach((e=>{let[t]=e;this.localTrackMap.delete(t)}))}bindConnectionEvents(e){e.onConnectionStateChange=async t=>{var i;Qy.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: \").concat(e.name,\".onConnectionStateChange(\").concat(t,\")\")),this.emit(Qb.PeerConnectionStateChange,t),\"connected\"!==t||this.store.keyMetrics.peerConnectionEnd||this.store.peerConnectionEnd(),\"connected\"===t&&(e.isInRestartIce=!1),Dn(i=this._restartStates).call(i,t)&&!e.isInRestartIce&&(\"disconnected\"===t&&await $v(800),\"disconnected\"!==e.iceConnectionState&&\"failed\"!==e.iceConnectionState||this.handleDisconnect(e.direction))},e.onICEConnectionStateChange=e=>{\"connected\"!==e||this.store.keyMetrics.iceConnectionEnd||this.store.iceConnectionEnd(),Qy.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection.onICEConnectionStateChange(\").concat(e,\")\")),sA.reportApiInvoke(this.store.sessionId,{name:\"ICEConnectionStateChange\",options:e,tag:Iv.TRACER}).onSuccess(),this.emit(Qb.IceConnectionStateChange,e)},e.onICETransportStateChange=e=>{Qy.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection.onICETransportStateChange(\").concat(e,\")\"))},e.onDTLSTransportStateChange=e=>{Qy.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection.onDTLSTransportStateChange(\").concat(e,\")\"))},e.onDTLSTransportError=e=>{Qy.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection.onDTLSTransportError(\").concat(e,\")\"))},e.onFirstAudioDecoded=e=>{var t;const i=Array.from(d_(t=this.remoteUserMap).call(t)).find((t=>t._audioSSRC===e));var n;i&&(this.store.subscribe(i.uid,\"audio\",void 0,void 0,void 0,Date.now()),null===(n=i.audioTrack)||void 0===n||n.emit(sP.FIRST_FRAME_DECODED),sA.firstRemoteFrame(this.store.sessionId,tA.FIRST_AUDIO_DECODE,iA.FIRST_AUDIO_DECODE,{peer:i._uintid,subscribeElapse:jU.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId}))},e.onFirstAudioReceived=e=>{var t;const i=Array.from(d_(t=this.remoteUserMap).call(t)).find((t=>t._audioSSRC===e));i&&sA.firstRemoteFrame(this.store.sessionId,tA.FIRST_AUDIO_RECEIVED,iA.FIRST_AUDIO_RECEIVED,{peer:i._uintid,subscribeElapse:jU.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId})},e.onFirstVideoDecoded=(e,t,i)=>{this.reportVideoFirstFrameDecoded(e,t,i)},e.onFirstVideoReceived=e=>{var t;const i=Array.from(d_(t=this.remoteUserMap).call(t)).find((t=>t._videoSSRC===e));i&&sA.firstRemoteFrame(this.store.sessionId,tA.FIRST_VIDEO_RECEIVED,iA.FIRST_VIDEO_RECEIVED,{peer:i._uintid,subscribeElapse:jU.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId})},e.onSelectedLocalCandidateChanged=(e,t)=>{const i=\"relay\"===e.candidateType,n=\"relay\"===t.candidateType;\"unknown\"!==t.candidateType&&i===n||this.emit(Qb.ConnectionTypeChange,i),Qy.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection.SelectedLocalCandidateChanged(\").concat(JSON.stringify(Bw(t)),\" -> \").concat(JSON.stringify(Bw(e)),\")\"))},e.onSelectedRemoteCandidateChanged=(e,t)=>{Qy.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection.SelectedRemoteCandidateChanged(\").concat(JSON.stringify(Bw(t)),\" -> \").concat(JSON.stringify(Bw(e)),\")\"))},e.onFirstVideoDecodedTimeout=e=>{this.reportVideoFirstFrameDecoded(e,void 0,void 0,!0)},e.onLocalCandidate=t=>{this.emit(Qb.LocalCandidate,{candidate:t,direction:e.direction})}}unbindConnectionEvents(e){e.onConnectionStateChange=void 0,e.onICEConnectionStateChange=void 0,e.onICETransportStateChange=void 0,e.onDTLSTransportStateChange=void 0,e.onDTLSTransportError=void 0,e.onFirstAudioDecoded=void 0,e.onFirstAudioReceived=void 0,e.onFirstVideoDecoded=void 0,e.onFirstVideoReceived=void 0,e.onSelectedLocalCandidateChanged=void 0,e.onSelectedRemoteCandidateChanged=void 0,e.onFirstVideoDecodedTimeout=void 0,e.onLocalCandidate=void 0}async handleDisconnect(e){const t=e===fb.SEND_ONLY?this.sendConnection:this.recvConnection;t&&!t.isInRestartIce&&(t.isInRestartIce=!0,Qy.debug(\"[\".concat(this.store.clientId,\"] [P2PChannel-\").concat(t.name,\"] start use restartICE\")),e===fb.SEND_ONLY?this.restartICE(e):kv(this,Qb.RequestP2PRestartICE,{direction:fb.SEND_ONLY}))}filterTobeMutedTracks(e){const t=[];if(-1===this.getAllTracks().indexOf(e))return t;const i=this.localTrackMap.get(Jb.LocalAudioTrack);if(e instanceof tk&&(null==i?void 0:i.track)instanceof rk)return i.track.isActive||t.push([Jb.LocalAudioTrack,i]),t;const n=Array.from(this.localTrackMap.entries()).find((t=>{let[,{track:i}]=t;return e===i}));if(n&&(t.push(n),n[0]===Jb.LocalVideoTrack)){const e=this.localTrackMap.get(Jb.LocalVideoLowTrack);e&&t.push([Jb.LocalVideoLowTrack,e])}return t}filterTobeUnmutedTracks(e){const t=[],i=this.localTrackMap.get(Jb.LocalAudioTrack);if(e instanceof tk&&(null==i?void 0:i.track)instanceof rk)return i.track.isActive&&t.push([Jb.LocalAudioTrack,i]),t;const n=Array.from(this.localTrackMap.entries()).find((t=>{let[,{track:i}]=t;return e===i}));if(n)if(n[0]===Jb.LocalVideoTrack){t.push(n);const e=this.localTrackMap.get(Jb.LocalVideoLowTrack);e&&t.push([Jb.LocalVideoLowTrack,e])}else t.push(n);return t}createMuteMessage(e){return e.map((e=>{var t;let i,[n,{track:r,ssrcs:o,id:s}]=e;switch(n){case Jb.LocalAudioTrack:i=Mb.Audio;break;case Jb.LocalVideoTrack:i=Dn(t=r._hints).call(t,eP.SCREEN_TRACK)?Mb.Screen:Mb.High;break;case Jb.LocalVideoLowTrack:i=Mb.Low}return{stream_type:i,ssrcs:o,mid:s}}))}createUnmuteMessage(e){return e.map((e=>{var t;let i,[n,{track:r,ssrcs:o,id:s}]=e;switch(n){case Jb.LocalAudioTrack:i=Mb.Audio;break;case Jb.LocalVideoTrack:i=Dn(t=r._hints).call(t,eP.SCREEN_TRACK)?Mb.Screen:Mb.High;break;case Jb.LocalVideoLowTrack:i=Mb.Low}return{stream_type:i,ssrcs:o,mid:s}}))}filterTobeUnSubscribedTracks(e,t){const i=[],n=this.remoteUserMap.get(e);if(!n)return i;if(t){const r=n.get(t);if(!r)return i;i.push([e,{kind:t,id:r}])}else Array.from(n.entries()).forEach((t=>{let[n,r]=t;i.push([e,{kind:n,id:r}])}));return i}createUnsubscribeMessage(e){const t=[];return e.forEach((e=>{let[i,{kind:n,id:r}]=e;switch(n){case Yb.VIDEO:return void(i._videoSSRC&&t.push({stream_type:Yb.VIDEO,ssrcId:i._videoSSRC}));case Yb.AUDIO:return void(i._audioSSRC&&t.push({stream_type:Yb.AUDIO,ssrcId:i._audioSSRC}))}})),t}withdrawRemoteTracks(e){e.forEach((e=>{let[t,{kind:i}]=e;const n=this.remoteUserMap.get(t);n&&(n.delete(i),0===Array.from(n.entries()).length&&this.remoteUserMap.delete(t))}))}async updateBitrateLimit(e){const t=this.localTrackMap.get(Jb.LocalVideoTrack),i=this.localTrackMap.get(Jb.LocalVideoLowTrack);t&&await t.track.setBitrateLimit(e.uplink),i&&e.low_stream_uplink&&await i.track.setBitrateLimit({max_bitrate:e.low_stream_uplink.bitrate,min_bitrate:e.low_stream_uplink.bitrate||0})}isP2PDisconnected(){if(this.sendConnection&&this.recvConnection){const e=this.sendConnection.peerConnectionState,t=this.recvConnection.peerConnectionState;return\"connected\"!==e&&\"connected\"!==t}return!0}async tryToUnmuteAudio(e){for(let t=0;t<e.length;t++)if(e[t]instanceof tk){const i=this.filterTobeUnmutedTracks(e[t]);if(0===i.length)continue;const n=this.createUnmuteMessage(i);return void await Mv(this,Qb.RequestUnmuteLocal,n)}}bindStatsUploaderEvents(){this.statsUploader.requestStats=e=>this.getStats(e),this.statsUploader.requestLocalMedia=()=>Array.from(this.localTrackMap.entries()).filter((e=>{let[,{ssrcs:t}]=e;return!!t})),this.statsUploader.requestRemoteMedia=()=>Array.from(this.remoteUserMap.entries()),this.statsUploader.requestVideoIsReady=e=>{var t;return!(null===(t=this.recvConnection)||void 0===t||!t.getRemoteVideoIsReady(e))},this.statsUploader.requestUpload=(e,t)=>this.emit(Qb.RequestUpload,e,t),this.statsUploader.requestUploadStats=e=>this.emit(Qb.RequestUploadStats,e),this.statsUploader.requestAllTracks=()=>this.getAllTracks()}unbindStatsUploaderEvents(){this.statsUploader.requestStats=void 0,this.statsUploader.requestLocalMedia=void 0,this.statsUploader.requestRemoteMedia=void 0,this.statsUploader.requestVideoIsReady=void 0}async requestReconnect(){this.dtlsFailedCount+=1,await $v(Ey(this.dtlsFailedCount,_y)),this.emit(Qb.RequestReconnect)}async reconnectP2P(){}canPublishLowStream(){return this.localTrackMap.has(Jb.LocalVideoTrack)||this.pendingLocalTracks.some((e=>e instanceof Hk))}throwIfTrackTypeNotMatch(e){if(e.filter((e=>e instanceof Hk)).length>1)throw new rv(nv.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS);if(e.filter((e=>e instanceof tk)).length>1&&(e.some((e=>e instanceof tk&&e._bypassWebAudio))||!MD().webAudioMediaStreamDest))throw new rv(nv.NOT_SUPPORTED,\"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser doesn't support MediaStreamDestNode\");for(const t of e){if(t instanceof Hk&&this.pendingLocalTracks.some((e=>e instanceof Hk)))throw new rv(nv.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS);if(t instanceof tk&&this.pendingLocalTracks.some((e=>e instanceof tk))&&(!MD().webAudioMediaStreamDest||t._bypassWebAudio||this.pendingLocalTracks.some((e=>e instanceof tk&&e._bypassWebAudio))))throw new rv(nv.NOT_SUPPORTED,\"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser doesn't support MediaStreamDestNode\")}}getLowVideoTrack(e,t){const i=!Dy(\"DISABLE_DUAL_STREAM_USE_ENCODING\")&&MD().supportDualStreamEncoding,n=gV(gV({},{width:160,height:120,framerate:15,bitrate:50}),t);let r;r=i?e._mediaStreamTrack.clone():Fx(e,n);const o=ey(8,\"track-low-\"),s=new Hk(r,gV(gV({},i&&{scaleResolutionDownBy:Fw(n,e)}),{},{frameRate:n.framerate,bitrateMax:n.bitrate,bitrateMin:n.bitrate}),void 0,void 0,o);return s.on(rP.TRANSCEIVER_UPDATED,(t=>{e._updateRtpTransceiver(t,tP.LOW_STREAM)})),s._hints.push(eP.LOW_STREAM),e.addListener($D.NEED_CLOSE,(()=>{s.close()})),s}async globalLock(){return this.recvMutex.lock(\"From P2PChannel2.globalLock\")}reportVideoFirstFrameDecoded(e,t,i,n){var r;const o=Array.from(d_(r=this.remoteUserMap).call(r)).find((t=>t._videoSSRC===e));if(o){n||this.store.subscribe(o.uid,\"video\",void 0,void 0,void 0,void 0,Date.now());const r=this.store.keyMetrics,s=r.subscribe.find((e=>e.userId===o.uid&&\"video\"===e.type));sA.firstRemoteVideoDecode(this.store.sessionId,tA.FIRST_VIDEO_DECODE,iA.FIRST_VIDEO_DECODE,{peer:o._uintid,videowidth:t,videoheight:i,subscribeElapse:jU.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId,apEnd:r.requestAPEnd||0,apStart:r.requestAPStart||0,joinGwEnd:r.joinGatewayEnd||0,joinGwStart:r.joinGatewayStart||0,pcEnd:r.peerConnectionEnd||0,pcStart:r.peerConnectionStart||0,subscriberEnd:(null==s?void 0:s.subscribeEnd)||0,subscriberStart:(null==s?void 0:s.subscribeStart)||0,videoAddNotify:(null==s?void 0:s.streamAdded)||0,state:n?1:0})}}async remoteMediaSsrcChanged(e,t,i){if(!this.recvConnection)return!1;const n=this.remoteUserMap.get(e);if(!n)return!1;const r=n.get(t);if(!r)return!1;const o=await this.recvConnection.getRemoteSSRC(r);return void 0!==o&&o!==i}isPreSubScribe(e){return!1}async publishDataChannel(e){throw new rv(nv.NOT_SUPPORTED)}async unpublishDataChannel(e){throw new rv(nv.NOT_SUPPORTED)}async subscribeDataChannel(e,t){throw new rv(nv.NOT_SUPPORTED)}async unsubscribeDataChannel(e,t){throw new rv(nv.NOT_SUPPORTED)}hasPendingRemoteDataChannel(e,t){throw new rv(nv.NOT_SUPPORTED)}setPendingRemoteDataChannel(e,t){throw new rv(nv.NOT_SUPPORTED)}async preConnect(e){throw new rv(nv.NOT_SUPPORTED)}getEstablishParams(){throw new rv(nv.NOT_SUPPORTED)}async reSubscribe(e){throw new rv(nv.NOT_SUPPORTED)}async updateVideoStreamParameter(e,t){throw new rv(nv.NOT_SUPPORTED)}unbindRtpTransceiver(){0!==this.localTrackMap.size&&Array.from(this.localTrackMap.entries()).forEach((e=>{let[t,{track:i}]=e;t===Jb.LocalVideoLowTrack?i._updateRtpTransceiver(void 0,tP.LOW_STREAM):i._updateRtpTransceiver(void 0)}))}},rb(TV.prototype,\"p2pConnect\",[aV],Object.getOwnPropertyDescriptor(TV.prototype,\"p2pConnect\"),TV.prototype),rb(TV.prototype,\"unpublish\",[cV],Object.getOwnPropertyDescriptor(TV.prototype,\"unpublish\"),TV.prototype),rb(TV.prototype,\"unpublishLowStream\",[dV],Object.getOwnPropertyDescriptor(TV.prototype,\"unpublishLowStream\"),TV.prototype),rb(TV.prototype,\"subscribe\",[lV],Object.getOwnPropertyDescriptor(TV.prototype,\"subscribe\"),TV.prototype),rb(TV.prototype,\"mockSubscribe\",[uV],Object.getOwnPropertyDescriptor(TV.prototype,\"mockSubscribe\"),TV.prototype),rb(TV.prototype,\"unsubscribe\",[hV],Object.getOwnPropertyDescriptor(TV.prototype,\"unsubscribe\"),TV.prototype),rb(TV.prototype,\"muteRemote\",[pV],Object.getOwnPropertyDescriptor(TV.prototype,\"muteRemote\"),TV.prototype),rb(TV.prototype,\"unmuteRemote\",[_V],Object.getOwnPropertyDescriptor(TV.prototype,\"unmuteRemote\"),TV.prototype),rb(TV.prototype,\"hasRemoteMediaWithLock\",[EV],Object.getOwnPropertyDescriptor(TV.prototype,\"hasRemoteMediaWithLock\"),TV.prototype),rb(TV.prototype,\"disconnectForReconnect\",[mV],Object.getOwnPropertyDescriptor(TV.prototype,\"disconnectForReconnect\"),TV.prototype),rb(TV.prototype,\"remoteMediaSsrcChanged\",[fV],Object.getOwnPropertyDescriptor(TV.prototype,\"remoteMediaSsrcChanged\"),TV.prototype),TV);function CV(e){return function(t,i,n){const r=t[i];if(\"function\"!=typeof r)throw new Error(\"Cannot use mutex on object property.\");return n.value=async function(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];switch(e){case nV.SEND_ONLY:{const e=await this.sendMutex.lock(\"From P2PChannel2.\".concat(i));try{return await r.apply(this,n)}finally{e()}}case nV.RECEIVE_ONLY:{const e=await this.recvMutex.lock(\"From P2PChannel2.\".concat(i));try{return await r.apply(this,n)}finally{e()}}default:{const e=await this.sendMutex.lock(\"From P2PChannel2.\".concat(i)),t=await this.recvMutex.lock(\"From P2PChannel2.\".concat(i));try{return await r.apply(this,n)}finally{e(),t()}}}},n}}function IV(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function vV(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?IV(Object(i),!0).forEach((function(t){og(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):IV(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}class yV{constructor(e){og(this,\"store\",void 0),og(this,\"onStatsException\",void 0),og(this,\"onUploadPublishDuration\",void 0),og(this,\"onStatsChanged\",void 0),og(this,\"localStats\",new Map),og(this,\"remoteStats\",new Map),og(this,\"updateStatsInterval\",void 0),og(this,\"trafficStats\",void 0),og(this,\"trafficStatsPeerList\",[]),og(this,\"uplinkStats\",void 0),og(this,\"exceptionMonitor\",void 0),og(this,\"p2pChannel\",void 0),og(this,\"scalabilityMode\",ob.L1T1),og(this,\"updateStats\",(()=>{this.p2pChannel&&(this.updateRemoteStats(this.p2pChannel),this.updateLocalStats(this.p2pChannel))})),this.store=e,this.exceptionMonitor=new FU,this.exceptionMonitor.on(\"exception\",((e,t,i)=>{this.onStatsException&&this.onStatsException(e,t,i)}))}startUpdateStats(){this.updateStatsInterval||(this.updateStatsInterval=window.setInterval(this.updateStats,1e3))}stopUpdateStats(){this.updateStatsInterval&&(window.clearInterval(this.updateStatsInterval),this.updateStatsInterval=void 0)}reset(){this.localStats=new Map,this.remoteStats=new Map,this.trafficStats=void 0,this.trafficStatsPeerList=[],this.uplinkStats=void 0}getLocalAudioTrackStats(){return this.localStats.get(Jb.LocalAudioTrack)||vV({},dP)}getLocalVideoTrackStats(){return this.localStats.get(Jb.LocalVideoTrack)||vV({},lP)}getRemoteAudioTrackStats(e){const t=(e,t)=>{if(!this.trafficStats)return t;const i=this.trafficStats.peer_delay.find((t=>t.peer_uid===e));return i&&(t.publishDuration=i.B_ppad+(Date.now()-this.trafficStats.timestamp)),t},i={};if(e){var n;const r=null===(n=this.remoteStats.get(e))||void 0===n?void 0:n.audioStats;r&&(i[e]=t(e,r))}else Array.from(this.remoteStats.entries()).forEach((e=>{let[n,{audioStats:r}]=e;r&&(i[n]=t(n,r))}));return i}getRemoteNetworkQualityStats(e){const t={};if(e){var i;const n=null===(i=this.remoteStats.get(e))||void 0===i?void 0:i.networkStats;n&&(t[e]=n)}else Array.from(this.remoteStats.entries()).forEach((e=>{let[i,{networkStats:n}]=e;n&&(t[i]=n)}));return t}getRemoteVideoTrackStats(e){const t=(e,t)=>{if(!this.trafficStats)return t;const i=this.trafficStats.peer_delay.find((t=>t.peer_uid===e));return i&&(t.publishDuration=i.B_ppvd+(Date.now()-this.trafficStats.timestamp)),t},i={};if(e){var n;const r=null===(n=this.remoteStats.get(e))||void 0===n?void 0:n.videoStats;r&&(i[e]=t(e,r))}else Array.from(this.remoteStats.entries()).forEach((e=>{let[n,{videoStats:r}]=e;r&&(i[n]=t(n,r))}));return i}getRTCStats(){let e=0,t=0,i=0,n=0;const r=this.localStats.get(Jb.LocalAudioTrack);r&&(e+=r.sendBytes,t+=r.sendBitrate);const o=this.localStats.get(Jb.LocalVideoTrack);o&&(e+=o.sendBytes,t+=o.sendBitrate);const s=this.localStats.get(Jb.LocalVideoLowTrack);s&&(e+=s.sendBytes,t+=s.sendBitrate),this.remoteStats.forEach((e=>{let{audioStats:t,videoStats:r}=e;t&&(i+=t.receiveBytes,n+=t.receiveBitrate),r&&(i+=r.receiveBytes,n+=r.receiveBitrate)}));let a=1;return this.trafficStats&&(a+=this.trafficStats.peer_delay.length),{Duration:0,UserCount:a,SendBitrate:t,SendBytes:e,RecvBytes:i,RecvBitrate:n,OutgoingAvailableBandwidth:this.uplinkStats?this.uplinkStats.B_uab/1e3:0,RTT:this.trafficStats?2*this.trafficStats.B_acd:0}}addLocalStats(e){this.localStats.set(e,void 0)}removeLocalStats(e){e?this.localStats.delete(e):this.localStats.clear()}addRemoteStats(e){this.remoteStats.set(e,{})}removeRemoteStats(e){e?this.remoteStats.delete(e):this.remoteStats.clear()}addP2PChannel(e){this.p2pChannel=e}updateTrafficStats(e){e.peer_delay=e.peer_delay.filter((e=>void 0!==e.B_ppad||void 0!==e.B_ppvd));e.peer_delay.filter((e=>-1===this.trafficStatsPeerList.indexOf(e.peer_uid))).forEach((e=>{var t;const i=null===(t=this.p2pChannel)||void 0===t?void 0:t.getRemoteMedia(e.peer_uid),n=null!=i&&i.videoSSRC?jU.measureFromSubscribeStart(this.store.clientId,i.videoSSRC):0,r=null!=i&&i.audioSSRC?jU.measureFromSubscribeStart(this.store.clientId,i.audioSSRC):0;void 0!==e.B_ppad&&void 0!==e.B_ppvd&&(this.onUploadPublishDuration&&this.onUploadPublishDuration(e.peer_uid,e.B_ppad,e.B_ppvd,n>r?n:r),this.trafficStatsPeerList.push(e.peer_uid))})),this.trafficStats=e}updateUplinkStats(e){this.uplinkStats&&this.uplinkStats.B_fir!==e.B_fir&&Qy.debug(\"[\".concat(this.store.clientId,\"]: Period fir changes to \").concat(e.B_fir)),this.uplinkStats=e}static isRemoteVideoFreeze(e,t,i){if(!e)return!1;const n=!!i&&t.framesDecodeFreezeTime>i.framesDecodeFreezeTime,r=!i||t.framesDecodeCount>i.framesDecodeCount;return n||!r}static isRemoteAudioFreeze(e){return!!e&&e._isFreeze()}isLocalVideoFreeze(e){return!(!e.inputFrame||!e.sentFrame)&&(e.inputFrame.frameRate>5&&e.sentFrame.frameRate<3)}updateLocalStats(e){Array.from(this.localStats.entries()).forEach((t=>{let[i,n]=t;switch(i){case Jb.LocalVideoTrack:case Jb.LocalVideoLowTrack:{const t=n,o=vV({},lP),s=e.getStats(),a=e.getLocalMedia(i);if(s){const i=s.videoSend.find((e=>e.ssrc===(null==a?void 0:a.ssrcs[0].ssrcId)));if(i){const n=e.getLocalVideoSize(),r=e.getEncoderConfig(Jb.LocalVideoTrack);\"H264\"!==i.codec&&\"H265\"!==i.codec&&\"VP8\"!==i.codec&&\"VP9\"!==i.codec&&\"AV1X\"!==i.codec&&\"AV1\"!==i.codec||(o.codecType=i.codec),o.sendBytes=i.bytes,o.sendBitrate=t?8*Math.max(0,o.sendBytes-t.sendBytes):0,i.inputFrame?(o.captureFrameRate=i.inputFrame.frameRate,o.captureResolutionHeight=i.inputFrame.height,o.captureResolutionWidth=i.inputFrame.width):n&&(o.captureResolutionWidth=n.width,o.captureResolutionHeight=n.height),i.sentFrame?(o.sendFrameRate=i.sentFrame.frameRate,o.sendResolutionHeight=i.sentFrame.height,o.sendResolutionWidth=i.sentFrame.width):n&&(o.sendResolutionWidth=n.width,o.sendResolutionHeight=n.height),i.avgEncodeMs&&(o.encodeDelay=i.avgEncodeMs),r&&r.bitrateMax&&(o.targetSendBitrate=1e3*r.bitrateMax),o.sendPackets=i.packets,o.sendPacketsLost=i.packetsLost,o.sendJitterMs=i.jitterMs,o.sendRttMs=i.rttMs,o.totalDuration=t?t.totalDuration+1:1,o.totalFreezeTime=t?t.totalFreezeTime:0,this.isLocalVideoFreeze(i)&&(o.totalFreezeTime+=1),i.scalabilityMode&&this.scalabilityMode!==i.scalabilityMode&&(Qy.debug(\"[\".concat(this.store.clientId,\"]: The scalabilityMode of the video sending stream is \").concat(i.scalabilityMode)),this.scalabilityMode=i.scalabilityMode)}this.trafficStats&&(o.currentPacketLossRate=(this.trafficStats.B_pvlr4||0)/100)}var r;if(this.localStats.set(i,o),(null==t?void 0:t.sendResolutionWidth)!==o.sendResolutionWidth||(null==t?void 0:t.sendResolutionHeight)!==o.sendResolutionHeight)null===(r=this.onStatsChanged)||void 0===r||r.call(this,\"resolution\",{width:o.sendResolutionWidth,height:o.sendResolutionHeight});o&&a&&this.exceptionMonitor.setLocalVideoStats(this.store.uid,a.track,o);break}case Jb.LocalAudioTrack:{const t=n,r=vV({},dP),o=e.getStats(),s=e.getLocalMedia(i);if(o){const i=o.audioSend.find((e=>e.ssrc===(null==s?void 0:s.ssrcs[0].ssrcId)));if(i){if(\"opus\"!==i.codec&&\"aac\"!==i.codec&&\"PCMU\"!==i.codec&&\"PCMA\"!==i.codec&&\"G722\"!==i.codec||(r.codecType=i.codec),i.inputLevel)r.sendVolumeLevel=Math.round(32767*i.inputLevel);else{const t=e.getLocalAudioVolume();t&&(r.sendVolumeLevel=Math.round(32767*t))}r.sendBytes=i.bytes,r.sendPackets=i.packets,r.sendPacketsLost=i.packetsLost,r.sendJitterMs=i.jitterMs,r.sendRttMs=i.rttMs,r.sendBitrate=t?8*Math.max(0,r.sendBytes-t.sendBytes):0}}this.trafficStats&&(r.currentPacketLossRate=(this.trafficStats.B_palr4||0)/100),this.localStats.set(Jb.LocalAudioTrack,r),r&&s&&this.exceptionMonitor.setLocalAudioStats(this.store.uid,s.track,r);break}}}))}updateRemoteStats(e){Array.from(this.remoteStats.entries()).forEach((t=>{var i,n;let[r,{videoStats:o,audioStats:s,videoPcStats:a}]=t;const c=s,d=o,l=a,u=vV({},uP),h=vV({},pP),p=vV({},hP),{audioTrack:_,videoTrack:E,audioSSRC:m,videoSSRC:f}=e.getRemoteMedia(r);let T;T=e instanceof RV?e.getStats(!0):e.getStats();const S=null===(i=T)||void 0===i?void 0:i.audioRecv.find((e=>e.ssrc===m)),g=null===(n=T)||void 0===n?void 0:n.videoRecv.find((e=>e.ssrc===f)),R=this.trafficStats&&this.trafficStats.peer_delay.find((e=>e.peer_uid===r));if(S&&(\"opus\"!==S.codec&&\"aac\"!==S.codec&&\"PCMU\"!==S.codec&&\"PCMA\"!==S.codec&&\"G722\"!==S.codec||(u.codecType=S.codec),S.outputLevel?u.receiveLevel=Math.round(32767*S.outputLevel):_&&(u.receiveLevel=Math.round(32767*_.getVolumeLevel())),u.receiveBytes=S.bytes,u.receivePackets=S.packets,u.receivePacketsLost=S.packetsLost,u.receivePacketsDiscarded=S.packetsDiscarded,u.packetLossRate=u.receivePacketsLost/(u.receivePackets+u.receivePacketsLost),u.receiveBitrate=c?8*Math.max(0,u.receiveBytes-c.receiveBytes):0,u.totalDuration=c?c.totalDuration+1:1,u.totalFreezeTime=c?c.totalFreezeTime:0,u.freezeRate=u.totalFreezeTime/u.totalDuration,u.receiveDelay=S.jitterBufferMs,u.totalDuration>10&&yV.isRemoteAudioFreeze(_)&&(u.totalFreezeTime+=1)),g){\"H264\"!==g.codec&&\"H265\"!==g.codec&&\"VP8\"!==g.codec&&\"VP9\"!==g.codec&&\"AV1X\"!==g.codec&&\"AV1\"!==g.codec||(h.codecType=g.codec),h.receiveBytes=g.bytes,h.receiveBitrate=d?8*Math.max(0,h.receiveBytes-d.receiveBytes):0,h.decodeFrameRate=g.decodeFrameRate<0?0:g.decodeFrameRate,h.renderFrameRate=g.decodeFrameRate<0?0:g.decodeFrameRate,g.outputFrame&&(h.renderFrameRate=g.outputFrame.frameRate),g.receivedFrame?(h.receiveFrameRate=g.receivedFrame.frameRate,h.receiveResolutionHeight=g.receivedFrame.height,h.receiveResolutionWidth=g.receivedFrame.width):E&&(h.receiveResolutionHeight=E._videoHeight||0,h.receiveResolutionWidth=E._videoWidth||0),void 0!==g.framesRateFirefox&&(h.receiveFrameRate=Math.round(g.framesRateFirefox)),h.receivePackets=g.packets,h.receivePacketsLost=g.packetsLost,h.packetLossRate=h.receivePacketsLost/(h.receivePackets+h.receivePacketsLost),h.totalDuration=d?d.totalDuration+1:1,h.totalFreezeTime=d?d.totalFreezeTime:0,h.receiveDelay=g.jitterBufferMs||0;const t=!!f&&e.getRemoteVideoIsReady(f);E&&t&&yV.isRemoteVideoFreeze(E,g,l)&&(h.totalFreezeTime+=1),h.freezeRate=h.totalFreezeTime/h.totalDuration}R&&(u.end2EndDelay=R.B_ad,h.end2EndDelay=R.B_vd,u.transportDelay=R.B_ed,h.transportDelay=R.B_ed,u.currentPacketLossRate=R.B_ealr4/100,h.currentPacketLossRate=R.B_evlr4/100,p.uplinkNetworkQuality=R.B_punq?R.B_punq:0,p.downlinkNetworkQuality=R.B_pdnq?R.B_pdnq:0),this.remoteStats.set(r,{audioStats:u,videoStats:h,videoPcStats:g,networkStats:p}),_&&this.exceptionMonitor.setRemoteAudioStats(_,u),E&&this.exceptionMonitor.setRemoteVideoStats(E,h)}))}}class AV{constructor(){og(this,\"destChannelMediaInfos\",new Map),og(this,\"srcChannelMediaInfo\",void 0)}setSrcChannelInfo(e){Nb(e),this.srcChannelMediaInfo=e}addDestChannelInfo(e){Nb(e),this.destChannelMediaInfos.set(e.channelName,e)}removeDestChannelInfo(e){gb(e),this.destChannelMediaInfos.delete(e)}getSrcChannelMediaInfo(){return this.srcChannelMediaInfo}getDestChannelMediaInfo(){return this.destChannelMediaInfos}}function bV(e){if(!(e instanceof AV)){return new Sb(nv.INVALID_PARAMS,\"Config should be instance of [ChannelMediaRelayConfiguration]\").throw()}const t=e.getSrcChannelMediaInfo(),i=e.getDestChannelMediaInfo();if(!t){return new Sb(nv.INVALID_PARAMS,\"srcChannelMediaInfo should not be empty\").throw()}if(0===i.size){return new Sb(nv.INVALID_PARAMS,\"destChannelMediaInfo should not be empty\").throw()}}function wV(e){var t={},i=!1;function n(t,n){return i=!0,{done:!1,value:new GU(n=new zU((function(i){i(e[t](n))})),1)}}return t[void 0!==eg&&tg||\"@@iterator\"]=function(){return this},t.next=function(e){return i?(i=!1,e):n(\"next\",e)},\"function\"==typeof e.throw&&(t.throw=function(e){if(i)throw i=!1,e;return n(\"throw\",e)}),\"function\"==typeof e.return&&(t.return=function(e){return i?(i=!1,e):n(\"return\",e)}),t}var OV=i(JU);function NV(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function DV(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?NV(Object(i),!0).forEach((function(t){og(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):NV(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}var PV;function LV(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function kV(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?LV(Object(i),!0).forEach((function(t){og(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):LV(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}let MV=(PV=class e extends Kb{get peerConnectionState(){return this.peerConnection.connectionState}get iceConnectionState(){return this.peerConnection.iceConnectionState}get currentLocalDescription(){return this.peerConnection.currentLocalDescription}get currentRemoteDescription(){return this.peerConnection.currentRemoteDescription}get localCodecs(){return[...new Set(this.localCapabilities&&this.localCapabilities.videoCodecs.map((e=>e.rtpMap&&e.rtpMap.encodingName.toLowerCase()||\"\")).filter((e=>{var t;return Dn(t=Object.keys(My)).call(t,e)})))]}constructor(t,i){super(t,i),og(this,\"store\",void 0),og(this,\"peerConnection\",void 0),og(this,\"remoteSDP\",void 0),og(this,\"initialOffer\",void 0),og(this,\"statsFilter\",void 0),og(this,\"useRTX\",!1),og(this,\"localCapabilities\",void 0),og(this,\"localCandidateCount\",0),og(this,\"allCandidatesReceived\",!1),og(this,\"establishPromise\",void 0),og(this,\"mutex\",new hy(\"P2PConnection-mutex\")),this.store=i,this.peerConnection=new RTCPeerConnection(e.resolvePCConfiguration(t),{optional:[{googDscp:!0}]}),this.statsFilter=Dx(this.peerConnection,Dy(\"STATS_UPDATE_INTERVAL\"),void 0,kI()?1200:void 0),this.bindPCEvents(),this.bindStatsEvents(),this.store.p2pId=this.store.p2pId+1,this.establishPromise=this.establish()}async establish(){try{const e=await this.peerConnection.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0});if(!e.sdp)throw new Error(\"Cannot get initialOffer.sdp when trying to establish PeerConnection.\");const t=bM(e.sdp),i=AM(e.sdp,{filterRTX:!this.useRTX,filterVideoFec:Dy(\"FILTER_VIDEO_FEC\"),filterAudioFec:Dy(\"FILTER_AUDIO_FEC\"),filterAudioCodec:[\"opus\"]});return this.localCapabilities=i,this.initialOffer=e,kV(kV({},t),{},{rtpCapabilities:{send:{audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},recv:{audioCodecs:[],audioExtensions:[],videoCodecs:[],videoExtensions:[]},sendrecv:i},offerSDP:e.sdp})}catch(e){throw new rv(nv.GET_LOCAL_CONNECTION_PARAMS_FAILED,e.toString())}}async updateRemoteConnect(){}async connect(e){try{if(!this.initialOffer)throw new Error(\"Cannot establish P2PConnection without initial offer.\");this.remoteSDP=new class{constructor(e){og(this,\"sessionDesc\",void 0),og(this,\"localCapabilities\",void 0),og(this,\"rtpCapabilities\",void 0),og(this,\"candidates\",void 0),og(this,\"iceParameters\",void 0),og(this,\"dtlsParameters\",void 0),og(this,\"setup\",void 0),og(this,\"currentMidIndex\",void 0),og(this,\"cname\",void 0),e=Gv(e);const{iceParameters:t,dtlsParameters:i,candidates:n,rtpCapabilities:r,setup:o,localCapabilities:s,sdkCodec:a,cname:c}=e,d=CM.parse(\"v=0\\no=- 0 0 IN IP4 127.0.0.1\\ns=AgoraGateway\\nt=0 0\\na=group:BUNDLE audio video\\na=msid-semantic: WMS\\na=ice-lite\\nm=audio 9 UDP/TLS/RTP/SAVPF 0\\nc=IN IP4 127.0.0.1\\na=rtcp:9 IN IP4 0.0.0.0\\na=sendrecv\\na=rtcp-mux\\na=rtcp-rsize\\na=mid:audio\\nm=video 9 UDP/TLS/RTP/SAVPF 0\\nc=IN IP4 127.0.0.1\\na=rtcp:9 IN IP4 0.0.0.0\\na=sendrecv\\na=rtcp-mux\\na=rtcp-rsize\\na=mid:video\\n\");this.rtpCapabilities=r,this.candidates=n,this.iceParameters=t,this.dtlsParameters=i,this.setup=o,this.localCapabilities=s,this.cname=c;for(let e=0;e<d.mediaDescriptions.length;e++){const s=d.mediaDescriptions[e];if(s.attributes.iceUfrag=t.iceUfrag,s.attributes.icePwd=t.icePwd,s.attributes.fingerprints=i.fingerprints,s.attributes.candidates=n,s.attributes.setup=o,\"video\"===s.media.mediaType){s.media.fmts=r.videoCodecs.map((e=>e.payloadType.toString(10)));let e=r.videoCodecs.filter((e=>{var t,i;return null===(t=e.rtpMap)||void 0===t?void 0:Dn(i=t.encodingName.toLowerCase()).call(i,a)}));0===e.length&&(e=r.videoCodecs),s.attributes.payloads=e,s.attributes.extmaps=r.videoExtensions}\"audio\"===s.media.mediaType&&(s.media.fmts=r.audioCodecs.map((e=>e.payloadType.toString(10))),s.attributes.payloads=r.audioCodecs,s.attributes.extmaps=r.audioExtensions),d.mediaDescriptions[e]=this.mungMediaDesc(s)}this.sessionDesc=d,this.currentMidIndex=d.mediaDescriptions.length-1}toString(){return CM.print(this.sessionDesc)}send(e,t,i){const{ssrcs:n,ssrcGroups:r}=DM(t,this.cname),o=this.sessionDesc.mediaDescriptions.find((t=>e===Yb.VIDEO?\"video\"===t.media.mediaType:\"audio\"===t.media.mediaType)),s=n[0].attributes.label,a=n[0].attributes.mslabel;return o.attributes.ssrcs=o.attributes.ssrcs.concat(n),o.attributes.ssrcGroups=o.attributes.ssrcGroups.concat(r),{id:s,mslabel:a}}batchSend(e){return e.map((e=>{let{kind:t,ssrcMsg:i}=e;return this.send(t,i,void 0)}))}stopSending(e){this.sessionDesc.mediaDescriptions.forEach((t=>{const i=[],n=[],r=[];t.attributes.ssrcs.forEach((t=>{Dn(e).call(e,t.attributes.label||\"\")?r.push(t):i.push(t)})),t.attributes.ssrcGroups.forEach((e=>{var t;Dn(t=r.map((e=>e.ssrcId))).call(t,e.ssrcIds[0])||n.push(e)})),t.attributes.ssrcs=i,t.attributes.ssrcGroups=n}))}mute(e){const t=this.sessionDesc.mediaDescriptions.find((t=>t.attributes.mid===e));if(!t)throw new Error(\"mediaDescription not found with \".concat(e,\" in remote SDP when calling RemoteSDP.mute.\"));t.attributes.direction=\"inactive\"}unmute(e){const t=this.sessionDesc.mediaDescriptions.find((t=>t.attributes.mid===e));if(!t)throw new Error(\"mediaDescription not found with \".concat(e,\" in remote SDP when calling RemoteSDP.unmute.\"));t.attributes.direction=\"sendonly\"}receive(e,t,i){e.forEach(((e,t)=>{const i=e._mediaStreamTrack,n=this.sessionDesc.mediaDescriptions.findIndex((e=>e.attributes.mid===i.kind)),r=this.mungRecvMediaDsec(this.sessionDesc.mediaDescriptions[n],e);this.sessionDesc.mediaDescriptions[n]=r}))}stopReceiving(e){}updateCandidates(e){e===qb.TCP?this.candidates.forEach((e=>{-1===this.candidates.findIndex((t=>\"tcp\"===t.transport&&t.connectionAddress===e.connectionAddress&&t.port===e.port))&&this.candidates.push(DV(DV({},e),{},{foundation:\"tcpcandidate\",priority:Number(e.priority)-1+\"\",transport:\"tcp\",port:Number(e.port)+90+\"\"}))})):this.candidates=this.candidates.filter((e=>\"tcp\"!==e.transport));for(const e of this.sessionDesc.mediaDescriptions)e.attributes.candidates=this.candidates}restartICE(e){e=Gv(e),this.iceParameters=e,this.sessionDesc.mediaDescriptions.forEach((t=>{t.attributes.iceUfrag=e.iceUfrag,t.attributes.icePwd=e.icePwd}))}predictReceivingMids(e){const t=[];for(let i=0;i<e;i++)t.push((this.currentMidIndex+i+1).toString(10));return t}mungRecvMediaDsec(e,t){const i=Gv(e);return PM(i,t),kM(i,t),i}updateRecvMedia(e,t){const i=this.sessionDesc.mediaDescriptions.findIndex((t=>t.attributes.mid===e));if(-1!==i){const e=this.mungRecvMediaDsec(this.sessionDesc.mediaDescriptions[i],t);this.sessionDesc.mediaDescriptions[i]=e}}bumpMid(e){this.currentMidIndex+=e}updateTrackLabel(e,t,i){const n=this.sessionDesc.mediaDescriptions.find((t=>e===Yb.VIDEO?\"video\"===t.attributes.mid:\"audio\"===t.attributes.mid));if(n){const e=n.attributes.ssrcs.find((e=>e.attributes.label===t));var r;e&&(e.attributes.label=i,null===(r=e.attributes.msid)||void 0===r||r.replace(t,i))}}mungMediaDesc(e){const t=Gv(e);return LM(t),function(e){const t=e.attributes.extmaps.find((e=>\"http://www.ietf.org/id/draft-holmer-rmcat-transport-wide-cc-extensions-01\"===e.extensionName));t&&e.attributes.extmaps.splice(e.attributes.extmaps.indexOf(t),1),e.attributes.payloads.forEach((e=>{const t=e.rtcpFeedbacks.findIndex((e=>\"transport-cc\"===e.type));-1!==t&&e.rtcpFeedbacks.splice(t,1)}))}(t),t}getSSRC(e){for(const t of this.sessionDesc.mediaDescriptions)for(const i of t.attributes.ssrcs)if(i.attributes.label===e)return[i]}}(kV(kV({},e),{},{rtpCapabilities:e.rtpCapabilities.send,localCapabilities:this.localCapabilities,sdkCodec:this.store.codec}));const t=this.remoteSDP.toString();await this.peerConnection.setLocalDescription(this.initialOffer),await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:t})}catch(e){throw new rv(nv.EXCHANGE_SDP_FAILED,\"P2PConnection.connect failed; \".concat(e.toString()))}}async updateRemoteRTPCapabilities(e,t){throw new rv(nv.NOT_SUPPORTED,\"Planb mode does not support createDataChannels.\")}getPreMedia(e){}send(e,t){var i=this;return ZU((function*(){const n=yield WU(i.mutex.lock());try{if(!i.remoteSDP)throw new Error(\"Cannot call P2PConnection.send before remote SDP created\");const r=e.map((e=>i.peerConnection.addTrack(e._mediaStreamTrack))),o=yield WU(i.peerConnection.createOffer()),s=CM.parse(o.sdp),a=e.map((e=>{const t=e._mediaStreamTrack,n=s.mediaDescriptions.find((e=>e.attributes.mid===t.kind));if(!n)throw new Error(\"Cannot extract ssrc from mediaDescription.\");return function(e,t,i){const n=e.attributes.ssrcs.filter((e=>e.attributes.label===t)),r=e.attributes.ssrcGroups;if(0===n.length)throw new Error(\"Cannot extract ssrc from plan-b SDP.\");if(r&&n.length>1){const e=r.find((e=>-1!==e.ssrcIds.indexOf(n[0].ssrcId)));return e?[{ssrcId:e.ssrcIds[0],rtx:i?e.ssrcIds[1]:void 0}]:[{ssrcId:n[0].ssrcId}]}return[{ssrcId:n[0].ssrcId}]}(n,t.id,i.useRTX)}));let c;try{c=yield a}catch(e){throw r.forEach((e=>{PI()&&e.replaceTrack(null),i.peerConnection.removeTrack(e)})),e}const d=i.mungSendOfferSDP(o.sdp,e);i.remoteSDP.receive(e,t,c);const l=i.remoteSDP.toString();return yield WU(i.peerConnection.setLocalDescription({type:\"offer\",sdp:d})),yield WU(i.applySendEncodings(r,e)),yield WU(i.peerConnection.setRemoteDescription({type:\"answer\",sdp:l})),e.map(((e,t)=>{const i=e._mediaStreamTrack.id;return{localSSRC:a[t],id:i}}))}catch(e){throw new rv(nv.EXCHANGE_SDP_FAILED,\"P2PConnection.send failed; \".concat(e.toString()))}finally{n()}}))()}async stopSending(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.stopSending before remote SDP created\");const t=this.peerConnection.getSenders().filter((t=>{var i;return-1!==e.indexOf((null===(i=t.track)||void 0===i?void 0:i.id)||\"\")}));if(t.length!==e.length)throw new Error(\"Transceivers' length doesn't match mids' length when trying to call P2PConnection.stopSending.\");t.map((e=>{PI()&&e.replaceTrack(null),this.peerConnection.removeTrack(e)}));const i=await this.peerConnection.createOffer();await this.peerConnection.setLocalDescription(i),this.remoteSDP.stopReceiving(e);const n=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:n})}catch(e){throw new rv(nv.EXCHANGE_SDP_FAILED,\"P2PConnection.stopSending failed; \".concat(e.toString()))}}async receive(e,t,i,n){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.receive \".concat(e,\" before remoteSDP created.\"));const{id:i,mslabel:r}=this.remoteSDP.send(e,t,n),o=new Gh(((t,n)=>{const o=setTimeout((()=>{n(new Error(\"Cannot receive track, id: \".concat(i)))}),1e4),s=n=>{const a=AI();if((\"Safari\"===a.name&&11===Number(a.version)||MI())&&n.track.id!==i&&n.streams[0].id===r){var c;const r=n.streams[0].getTracks()[0];return null===(c=this.remoteSDP)||void 0===c||c.updateTrackLabel(e,i,n.track.id),this.peerConnection.removeEventListener(\"track\",s),clearTimeout(o),void t(r)}if(n.track.id===i)return this.peerConnection.removeEventListener(\"track\",s),clearTimeout(o),void t(n.track)};this.peerConnection.addEventListener(\"track\",s)})),s=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:s});const a=await this.peerConnection.createAnswer();await this.peerConnection.setLocalDescription(a);return{track:await o,id:i}}catch(e){throw new rv(nv.EXCHANGE_SDP_FAILED,\"P2PConnection.receive failed; \".concat(e.toString()))}}async stopReceiving(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.stopReceiving before remote SDP created.\");this.remoteSDP.stopSending(e);const t=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:t});const i=await this.peerConnection.createAnswer();await this.peerConnection.setLocalDescription(i)}catch(e){throw new rv(nv.EXCHANGE_SDP_FAILED,\"P2PConnection stopReceiving failed; \".concat(e.toString()))}}async muteRemote(e){}async unmuteRemote(e){}async muteLocal(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.muteLocal before remote SDP created.\");const t=this.peerConnection.getSenders().filter((t=>{var i;return-1!==e.indexOf((null===(i=t.track)||void 0===i?void 0:i.id)||\"\")}));if(t.length!==e.length)throw new Error(\"sender' length doesn't match mids' length.\");t.map((e=>{if(PI()&&e.track)e.track.enabled=!1;else{const t=e.getParameters();t.encodings.forEach((e=>e.active=!1)),e.setParameters(t)}}))}catch(e){throw new rv(nv.EXCHANGE_SDP_FAILED,\"P2PConnection.muteLocal failed; \".concat(e.toString()))}}async unmuteLocal(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.unmuteLocal before remote SDP created.\");const t=this.peerConnection.getSenders().filter((t=>{var i;return-1!==e.indexOf((null===(i=t.track)||void 0===i?void 0:i.id)||\"\")}));if(t.length!==e.length)throw new Error(\"Senders' length doesn't match mids' length.\");t.map((async e=>{if(PI()&&e.track)e.track.enabled=!0;else{const t=e.getParameters();t.encodings.forEach((e=>e.active=!0)),await e.setParameters(t)}}));const i=await this.peerConnection.createOffer();await this.peerConnection.setLocalDescription(i);const n=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:n})}catch(e){throw new rv(nv.EXCHANGE_SDP_FAILED,\"P2PConnection.unmuteLocal failed; \".concat(e.toString()))}}restartICE(e){var t=this;return ZU((function*(){const i=yield WU(t.mutex.lock(\"From P2PConnection.restartICE\"));try{if(!t.remoteSDP)throw new Error(\"Cannot restartICE before remoteSDP created.\");if(MD().supportPCSetConfiguration){const i=t.peerConnection.getConfiguration(),n=e===qb.RELAY?\"relay\":\"all\";i.iceTransportPolicy!==n&&(Qy.debug(\"[\".concat(t.store.clientId,\"] restartICE change iceTransportPolicy from [\").concat(i.iceTransportPolicy,\"] to [\").concat(n,\"]\")),i.iceTransportPolicy=n,t.peerConnection.setConfiguration(i))}else if(e===qb.RELAY)return;e!==qb.RELAY&&t.remoteSDP.updateCandidates(e);const n=yield WU(t.peerConnection.createOffer({iceRestart:!0}));if(!n.sdp)throw new Error(\"Cannot restartICE because restart offer SDP does not exist.\");const r=bM(n.sdp),{remoteIceParameters:o}=yield r.iceParameters;t.remoteSDP.restartICE(o);const s=t.remoteSDP.toString();yield WU(t.peerConnection.setLocalDescription(n)),yield WU(t.peerConnection.setRemoteDescription({type:\"answer\",sdp:s}))}catch(e){Qy.warning(\"[\".concat(t.store.clientId,\"] restart ICE failed, abort operation\"),e)}finally{i()}}))()}close(){var e;this.peerConnection.close(),null===(e=this.onConnectionStateChange)||void 0===e||e.call(this,\"closed\"),this.unbindPCEvents(),this.unbindStatsEvents(),this.removeAllListeners(),this.statsFilter.destroy()}getStats(){return this.statsFilter.getStats()}getRemoteVideoIsReady(e){return this.statsFilter.getVideoIsReady(e)}async updateEncoderConfig(e,t){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.updateEncoderConfig before remote SDP created.\");const e=await this.peerConnection.createOffer(),i=this.mungSendOfferSDP(e.sdp,[t]);this.remoteSDP.updateRecvMedia(t._mediaStreamTrack.kind,t);const n=this.remoteSDP.toString();await this.peerConnection.setLocalDescription({type:\"offer\",sdp:i}),await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:n})}catch(e){throw new rv(nv.EXCHANGE_SDP_FAILED,e.toString())}}async updateSendParameters(e,t){const i=this.peerConnection.getSenders().filter((t=>{var i;return(null===(i=t.track)||void 0===i?void 0:i.id)===e}));1===i.length&&await this.applySendEncodings(i,[t])}setStatsRemoteVideoIsReady(e,t){this.statsFilter.setVideoIsReady2(e,t)}async replaceTrack(e,t){const i=this.peerConnection.getSenders().find((e=>{var i;return(null===(i=e.track)||void 0===i?void 0:i.id)===t}));i&&await i.replaceTrack(e._mediaStreamTrack)}createDataChannels(e,t){throw new rv(nv.NOT_SUPPORTED,\"Planb mode does not support createDataChannels.\")}stopDataChannels(e){throw new rv(nv.NOT_SUPPORTED,\"Planb mode does not support stopDataChannels.\")}bindPCEvents(){this.peerConnection.oniceconnectionstatechange=()=>{var e;null===(e=this.onICEConnectionStateChange)||void 0===e||e.call(this,this.peerConnection.iceConnectionState)},this.peerConnection.onconnectionstatechange=()=>{var e;null===(e=this.onConnectionStateChange)||void 0===e||e.call(this,this.peerConnection.connectionState)},this.peerConnection.onicecandidate=e=>{e.candidate?this.localCandidateCount+=1:(this.peerConnection.onicecandidate=null,this.allCandidatesReceived=!0,Qy.debug(\"[\".concat(this.store.clientId,\"] [pc-\").concat(this.store.p2pId,\"] local candidate count\"),this.localCandidateCount))},setTimeout((()=>{this.allCandidatesReceived||(this.allCandidatesReceived=!0,Qy.debug(\"[\".concat(this.store.clientId,\"] [pc-\").concat(this.store.p2pId,\"] onicecandidate timeout, local candidate count\"),this.localCandidateCount))}),Dy(\"CANDIDATE_TIMEOUT\"))}unbindPCEvents(){this.peerConnection.oniceconnectionstatechange=null,this.peerConnection.onconnectionstatechange=null,this.peerConnection.onsignalingstatechange=null,this.peerConnection.onicecandidateerror=null,this.peerConnection.onicecandidate=null,this.peerConnection.ontrack=null}static resolvePCConfiguration(t){const i={iceServers:[],sdpSemantics:\"plan-b\"};return t.iceServers?i.iceServers=t.iceServers:t.turnServer&&\"off\"!==t.turnServer.mode&&(bv(t.turnServer.servers)?i.iceServers=t.turnServer.servers:(i.iceServers&&i.iceServers.push(...e.turnServerConfigToIceServers(t.turnServer.servers)),Dy(\"USE_TURN_SERVER_OF_GATEWAY\")&&i.iceServers&&t.turnServer.serversFromGateway&&i.iceServers.push(...e.turnServerConfigToIceServers(t.turnServer.serversFromGateway)),t.turnServer.servers.concat(t.turnServer.serversFromGateway||[]).forEach((e=>{e.forceturn&&(i.iceTransportPolicy=\"relay\")})))),i}static turnServerConfigToIceServers(e){const t=[];return e.forEach((e=>{e.security?e.tcpport&&t.push({username:e.username,credential:e.password,credentialType:\"password\",urls:\"turns:\".concat(e.turnServerURL,\":\").concat(e.tcpport,\"?transport=tcp\")}):(e.udpport&&t.push({username:e.username,credential:e.password,credentialType:\"password\",urls:\"turn:\".concat(e.turnServerURL,\":\").concat(e.udpport,\"?transport=udp\")}),e.tcpport&&t.push({username:e.username,credential:e.password,credentialType:\"password\",urls:\"turn:\".concat(e.turnServerURL,\":\").concat(e.tcpport,\"?transport=tcp\")}))})),t}async updateRtpSenderEncodings(e,t){var i;if(!t){t=this.peerConnection.getSenders().find((t=>{var i;return(null===(i=t.track)||void 0===i?void 0:i.id)===e._mediaStreamTrack.id}))}if(!t)return Qy.warn(\"[\".concat(e.getTrackId(),\"] no rtpSender found}\"));if(!MD().supportSetRtpSenderParameters)return Qy.warn(\"Browser not support set rtp-sender parameters\");const n={},r={};if(e instanceof Hk)switch(e._optimizationMode){case\"motion\":n.degradationPreference=\"maintain-framerate\";break;case\"detail\":n.degradationPreference=\"maintain-resolution\";break;default:n.degradationPreference=\"balanced\"}if(Dy(\"DSCP_TYPE\")&&QI()){var o;const e=Dy(\"DSCP_TYPE\");Dn(o=[\"very-low\",\"low\",\"medium\",\"high\"]).call(o,e)&&(r.networkPriority=e)}const s=t.getParameters(),a=null===(i=s.encodings)||void 0===i?void 0:i[0];a&&Object.assign(a,r),Object.assign(s,n),Qy.debug(\"[\".concat(e.getTrackId(),\"] updateRtpSenderEncodings: \").concat(JSON.stringify(s.encodings))),await t.setParameters(s)}async applySendEncodings(e,t){try{if(!MD().supportSetRtpSenderParameters)return;if(e.length!==t.length)return;for(let i=0;i<e.length;i++){const n=e[i],r=t[i];n&&r&&await this.updateRtpSenderEncodings(r,n)}}catch(e){Qy.debug(\"[\".concat(this.store.clientId,\"] Apply RTPSendEncodings failed.\"))}}mungSendOfferSDP(e,t){const i=CM.parse(e);return t.forEach(((e,t)=>{const n=e._mediaStreamTrack,r=i.mediaDescriptions.find((e=>e.attributes.mid===n.kind));r&&PM(r,e)})),CM.print(i)}bindStatsEvents(){this.statsFilter.onFirstAudioReceived=e=>{var t;null===(t=this.onFirstAudioReceived)||void 0===t||t.call(this,e)},this.statsFilter.onFirstVideoReceived=e=>{var t;null===(t=this.onFirstVideoReceived)||void 0===t||t.call(this,e)},this.statsFilter.onFirstAudioDecoded=e=>{var t;null===(t=this.onFirstAudioDecoded)||void 0===t||t.call(this,e)},this.statsFilter.onFirstVideoDecoded=(e,t,i)=>{var n;null===(n=this.onFirstVideoDecoded)||void 0===n||n.call(this,e,t,i)},this.statsFilter.onSelectedLocalCandidateChanged=(e,t)=>{var i;null===(i=this.onSelectedLocalCandidateChanged)||void 0===i||i.call(this,e,t)},this.statsFilter.onSelectedRemoteCandidateChanged=(e,t)=>{var i;null===(i=this.onSelectedRemoteCandidateChanged)||void 0===i||i.call(this,e,t)}}unbindStatsEvents(){this.statsFilter.onFirstAudioReceived=void 0,this.statsFilter.onFirstVideoReceived=void 0,this.statsFilter.onFirstAudioDecoded=void 0,this.statsFilter.onFirstVideoDecoded=void 0,this.statsFilter.onSelectedLocalCandidateChanged=void 0,this.statsFilter.onSelectedRemoteCandidateChanged=void 0}async batchReceive(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.batchReceive before remoteSDP created.\");const t=this.remoteSDP.batchSend(e).map(((t,i)=>{let{id:n,mslabel:r}=t;const{kind:o}=e[i];return new Gh(((e,t)=>{const i=setTimeout((()=>{t(new Error(\"Cannot receive track, id: \".concat(n)))}),1e4),s=t=>{const a=AI();if(\"Safari\"===a.name&&11===Number(a.version)&&t.track.id!==n&&t.streams[0].id===r){var c;const r=t.streams[0].getTracks()[0];return null===(c=this.remoteSDP)||void 0===c||c.updateTrackLabel(o,n,t.track.id),this.peerConnection.removeEventListener(\"track\",s),clearTimeout(i),void e({track:r,id:n})}if(t.track.id===n)return this.peerConnection.removeEventListener(\"track\",s),clearTimeout(i),void e({track:t.track,id:n})};this.peerConnection.addEventListener(\"track\",s)}))})),i=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:i});const n=await this.peerConnection.createAnswer();return await this.peerConnection.setLocalDescription(n),await Gh.all(t)}catch(e){throw new rv(nv.EXCHANGE_SDP_FAILED,\"P2PConnection.receive failed; \".concat(e.toString()))}}async getRemoteSSRC(e){if(!this.remoteSDP)return;const t=this.remoteSDP.getSSRC(e);return null==t?void 0:t[0].ssrcId}setConfiguration(t){if(MD().supportPCSetConfiguration){const i=e.resolvePCConfiguration(t);this.peerConnection.setConfiguration(i)}}},rb(PV.prototype,\"connect\",[UV],Object.getOwnPropertyDescriptor(PV.prototype,\"connect\"),PV.prototype),rb(PV.prototype,\"stopSending\",[UV],Object.getOwnPropertyDescriptor(PV.prototype,\"stopSending\"),PV.prototype),rb(PV.prototype,\"receive\",[UV],Object.getOwnPropertyDescriptor(PV.prototype,\"receive\"),PV.prototype),rb(PV.prototype,\"stopReceiving\",[UV],Object.getOwnPropertyDescriptor(PV.prototype,\"stopReceiving\"),PV.prototype),rb(PV.prototype,\"muteRemote\",[UV],Object.getOwnPropertyDescriptor(PV.prototype,\"muteRemote\"),PV.prototype),rb(PV.prototype,\"unmuteRemote\",[UV],Object.getOwnPropertyDescriptor(PV.prototype,\"unmuteRemote\"),PV.prototype),rb(PV.prototype,\"muteLocal\",[UV],Object.getOwnPropertyDescriptor(PV.prototype,\"muteLocal\"),PV.prototype),rb(PV.prototype,\"unmuteLocal\",[UV],Object.getOwnPropertyDescriptor(PV.prototype,\"unmuteLocal\"),PV.prototype),rb(PV.prototype,\"close\",[UV],Object.getOwnPropertyDescriptor(PV.prototype,\"close\"),PV.prototype),rb(PV.prototype,\"updateEncoderConfig\",[UV],Object.getOwnPropertyDescriptor(PV.prototype,\"updateEncoderConfig\"),PV.prototype),rb(PV.prototype,\"updateSendParameters\",[UV],Object.getOwnPropertyDescriptor(PV.prototype,\"updateSendParameters\"),PV.prototype),rb(PV.prototype,\"replaceTrack\",[UV],Object.getOwnPropertyDescriptor(PV.prototype,\"replaceTrack\"),PV.prototype),rb(PV.prototype,\"getRemoteSSRC\",[UV],Object.getOwnPropertyDescriptor(PV.prototype,\"getRemoteSSRC\"),PV.prototype),PV);function UV(e,t,i){const n=e[t];if(\"function\"!=typeof n)throw new Error(\"Cannot use mutex on object property.\");return i.value=async function(){const e=this.mutex,i=await e.lock(\"Locking from P2PConnection.\".concat(t));try{for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return await n.apply(this,o)}finally{i()}},i}function xV(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function VV(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?xV(Object(i),!0).forEach((function(t){og(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):xV(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}const FV=\"9\",BV=4e4;class jV{get localCapabilities(){return Gv(this._localCapabilities)}get rtpCapabilities(){return Gv(this._rtpCapabilities)}get candidates(){return Gv(this._candidates)}get iceParameters(){return Gv(this._iceParameters)}get dtlsParameters(){return Gv(this._dtlsParameters)}constructor(e){og(this,\"sessionDesc\",void 0),og(this,\"_localCapabilities\",void 0),og(this,\"_rtpCapabilities\",void 0),og(this,\"_candidates\",void 0),og(this,\"_iceParameters\",void 0),og(this,\"_dtlsParameters\",void 0),og(this,\"setup\",void 0),og(this,\"currentMidIndex\",void 0),og(this,\"cname\",void 0),og(this,\"firefoxSsrcMidMap\",new Map),e=Gv(e);const{iceParameters:t,dtlsParameters:i,candidates:n,rtpCapabilities:r,setup:o,localCapabilities:s,cname:a}=e;this._rtpCapabilities=r,this._candidates=n,this._iceParameters=t,this._dtlsParameters=i,this._localCapabilities=s,this.setup=o,this.cname=a,this.sessionDesc=this.updateRemoteRTPCapabilities(r),this.currentMidIndex=this.sessionDesc.mediaDescriptions.length-1}preloadRemoteMedia(e){const t=this.candidates,i=this.dtlsParameters,n=this.iceParameters,r=this.rtpCapabilities.send;let o=this.sessionDesc.mediaDescriptions.length-1;for(let s=1;s<e;s++){const e=2*s+2e4,a=2*s+BV,{ssrcs:c,ssrcGroups:d}=DM([{ssrcId:e}],this.cname),{ssrcs:l,ssrcGroups:u}=DM([{ssrcId:a,rtx:Dy(\"USE_SUB_RTX\")?a+1:void 0}],this.cname);this.sessionDesc.mediaDescriptions.push({media:{mediaType:\"video\",port:FV,protos:[\"UDP\",\"TLS\",\"RTP\",\"SAVPF\"],fmts:r.videoCodecs.map((e=>e.payloadType.toString(10)))},connections:[{nettype:\"IN\",addrtype:\"IP4\",address:\"127.0.0.1\"}],bandwidths:[],attributes:{iceUfrag:n.iceUfrag,icePwd:n.icePwd,unrecognized:[],candidates:t,extmaps:r.videoExtensions,fingerprints:i.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:l,ssrcGroups:u,rtcpFeedbackWildcards:[],payloads:r.videoCodecs,rtcp:{port:\"9\",netType:\"IN\",addressType:\"IP4\",address:\"0.0.0.0\"},setup:this.setup,direction:\"sendonly\",rtcpMux:!0,rtcpRsize:!0,mid:\"\".concat(++o)}}),this.sessionDesc.mediaDescriptions.push({media:{mediaType:\"audio\",port:FV,protos:[\"UDP\",\"TLS\",\"RTP\",\"SAVPF\"],fmts:r.audioCodecs.map((e=>e.payloadType.toString(10)))},connections:[{nettype:\"IN\",addrtype:\"IP4\",address:\"127.0.0.1\"}],bandwidths:[],attributes:{iceUfrag:n.iceUfrag,icePwd:n.icePwd,unrecognized:[],candidates:t,extmaps:r.audioExtensions,fingerprints:i.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:c,ssrcGroups:d,rtcpFeedbackWildcards:[],payloads:r.audioCodecs,rtcp:{port:\"9\",netType:\"IN\",addressType:\"IP4\",address:\"0.0.0.0\"},setup:this.setup,direction:\"sendonly\",rtcpMux:!0,rtcpRsize:!0,mid:\"\".concat(++o)}}),this.currentMidIndex+=2}this.updateBundleMids()}toString(){return CM.print(this.sessionDesc)}send(e,t,i,n){const{ssrcs:r,ssrcGroups:o}=DM(t,this.cname,Dy(\"SYNC_GROUP\")?i:void 0),s=this.findPreloadMediaDesc(r);if(s){if(kI()&&this.firefoxSsrcMidMap.set(r[0].ssrcId,s.attributes.mid),n&&(n.twcc||n.remb)){const e=this.sessionDesc.mediaDescriptions.indexOf(s);return this.sessionDesc.mediaDescriptions[e]=this.mungSendMediaDesc(s,n),{mid:s.attributes.mid,needExchangeSDP:!0}}return{mid:s.attributes.mid,needExchangeSDP:!1}}{const t=this.findAvailableMediaIndex(e,r);let i;return-1===t||1===t&&(PI()||function(){const e=AI();return!(e.name!==CI.CHROME||!e.osVersion)&&Number(e.version)<=90}())||0===t&&Dy(\"USE_SUB_RTX\")||WI()?(i=this.createOrRecycleSendMedia(e,r,o,\"sendonly\",n),this.updateBundleMids()):(i=Gv(this.sessionDesc.mediaDescriptions[t]),i.attributes.direction=\"sendonly\",i.attributes.ssrcs=r,i.attributes.ssrcGroups=o,this.sessionDesc.mediaDescriptions[t]=this.mungSendMediaDesc(i,n)),kI()&&this.firefoxSsrcMidMap.set(r[0].ssrcId,i.attributes.mid),{mid:i.attributes.mid,needExchangeSDP:!0}}}sendDataChannel(){const{mediaDesc:e,needExchangeSDP:t}=this.createOrRecycleDataChannel();return this.updateBundleMids(),{mid:e.attributes.mid,needExchangeSDP:t}}batchSend(e){const t=e.map((e=>{let{kind:t,ssrcMsg:i,mslabel:n}=e;return this.send(t,i,n)})),i=[];let n=!1;return t.forEach((e=>{let{mid:t,needExchangeSDP:r}=e;r&&(n=!0),i.push(t)})),{mids:i,needExchangeSDP:n}}stopSending(e){const t=this.sessionDesc.mediaDescriptions.filter((t=>t.attributes.mid&&-1!==e.indexOf(t.attributes.mid)));if(t.length!==e.length)throw new Error(\"mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.stopSending.\");t.forEach((e=>{\"0\"===e.attributes.mid||kI()||WI()?e.attributes.ssrcs=[]:(e.attributes.ssrcs=[],e.attributes.direction=\"inactive\",e.media.port=\"0\")})),this.updateBundleMids()}mute(e){const t=this.sessionDesc.mediaDescriptions.find((t=>t.attributes.mid===e));if(!t)throw new Error(\"mediaDescription not found with \".concat(e,\" in remote SDP when calling RemoteSDP.mute.\"));t.attributes.direction=\"inactive\"}unmute(e){const t=this.sessionDesc.mediaDescriptions.find((t=>t.attributes.mid===e));if(!t)throw new Error(\"mediaDescription not found with \".concat(e,\" in remote SDP when calling RemoteSDP.unmute.\"));t.attributes.direction=\"sendonly\"}muteRemote(e){const t=this.sessionDesc.mediaDescriptions.filter((t=>Dn(e).call(e,t.attributes.mid||\"\")));if(t.length!==e.length)throw new Error(\"mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.\");t.forEach((e=>{e.attributes.direction=\"inactive\"}))}unmuteRemote(e){const t=this.sessionDesc.mediaDescriptions.filter((t=>Dn(e).call(e,t.attributes.mid||\"\")));if(t.length!==e.length)throw new Error(\"mediaDescriptions' length doesn't match mids' length when calling RemoteSDP.muteRemote.\");t.forEach((e=>{e.attributes.direction=\"recvonly\"}))}receive(e,t,i,n){e.forEach(((e,r)=>{this.createOrRecycleRecvMedia(e,[],\"recvonly\",t,i,n[r])})),this.updateBundleMids()}stopReceiving(e){const t=this.sessionDesc.mediaDescriptions.filter((t=>-1!==e.indexOf(t.attributes.mid)));if(t.length!==e.length)throw new Error(\"MediaDescriptions' length doesn't match mids's length when calling RemoteSDP.receive.\");t.forEach((e=>{e.media.port=\"0\",e.attributes.direction=\"inactive\"})),this.updateBundleMids()}updateRemoteRTPCapabilities(e){const t=this.sessionDesc||CM.parse(\"v=0\\no=- 0 0 IN IP4 127.0.0.1\\ns=AgoraGateway\\nt=0 0\\na=group:BUNDLE 0 1\\na=msid-semantic: WMS\\na=ice-lite\\nm=video 9 UDP/TLS/RTP/SAVPF 0\\nc=IN IP4 127.0.0.1\\na=rtcp:9 IN IP4 0.0.0.0\\na=sendonly\\na=rtcp-mux\\na=rtcp-rsize\\na=mid:0\\nm=audio 9 UDP/TLS/RTP/SAVPF 0\\nc=IN IP4 127.0.0.1\\na=rtcp:9 IN IP4 0.0.0.0\\na=sendonly\\na=rtcp-mux\\na=rtcp-rsize\\na=mid:1\\n\");this._rtpCapabilities=e;const i=this.rtpCapabilities.send,n=this.localCapabilities.send;for(const e of t.mediaDescriptions){if(e.attributes.iceUfrag=this._iceParameters.iceUfrag,e.attributes.icePwd=this._iceParameters.icePwd,e.attributes.fingerprints=this._dtlsParameters.fingerprints,e.attributes.candidates=this._candidates,e.attributes.setup=this.setup,\"application\"===e.media.mediaType&&(e.attributes.sctpPort=\"5000\"),\"video\"===e.media.mediaType)if(0===i.videoCodecs.length){const t=n.videoCodecs.filter((e=>{var t,i;return null===(t=e.rtpMap)||void 0===t?void 0:Dn(i=t.encodingName.toLowerCase()).call(i,\"vp8\")}))||[n.videoCodecs[0]];e.media.fmts=t.map((e=>e.payloadType.toString(10))),e.attributes.payloads=t,e.attributes.extmaps=[]}else if(e.media.fmts=i.videoCodecs.map((e=>e.payloadType.toString(10))),e.attributes.payloads=i.videoCodecs,e.attributes.extmaps=i.videoExtensions,Dy(\"PRELOAD_MEDIA_COUNT\")>0){const{ssrcs:t,ssrcGroups:i}=DM([{ssrcId:BV,rtx:Dy(\"USE_SUB_RTX\")?40001:void 0}],this.cname);e.attributes.ssrcs=t,e.attributes.ssrcGroups=i}if(\"audio\"===e.media.mediaType)if(0===i.audioCodecs.length){const t=n.audioCodecs.filter((e=>{var t,i;return null===(t=e.rtpMap)||void 0===t?void 0:Dn(i=t.encodingName.toLowerCase()).call(i,\"opus\")}))||[n.audioCodecs[0]];e.media.fmts=t.map((e=>e.payloadType.toString(10))),e.attributes.payloads=t,e.attributes.extmaps=[]}else if(e.media.fmts=i.audioCodecs.map((e=>e.payloadType.toString(10))),e.attributes.payloads=i.audioCodecs,e.attributes.extmaps=i.audioExtensions,GM(e),Dy(\"PRELOAD_MEDIA_COUNT\")>0){const{ssrcs:t,ssrcGroups:i}=DM([{ssrcId:2e4}],this.cname);e.attributes.ssrcs=t,e.attributes.ssrcGroups=i}}return this.sessionDesc=t,this.currentMidIndex=t.mediaDescriptions.length-1,this.sessionDesc}updateCandidates(e){const t=this._candidates.filter((e=>\"udp\"===e.transport));if(e===qb.TCP){if(0===t.length)return;if(Dy(\"TCP_CANDIDATE_ONLY\")){const e=this._candidates.filter((e=>\"tcp\"===e.transport));t.forEach((t=>{-1===e.findIndex((e=>e.connectionAddress===t.connectionAddress))&&e.push(VV(VV({},t),{},{foundation:\"tcpcandidate\",priority:Number(t.priority)-1+\"\",transport:\"tcp\",port:Number(t.port)+90+\"\"}))})),this._candidates=e}else{const e=[];t.forEach((t=>{e.push(VV(VV({},t),{},{foundation:\"tcpcandidate\",priority:Number(t.priority)-1+\"\",transport:\"tcp\",port:Number(t.port)+90+\"\"}))})),this._candidates=[...t,...e]}}else if(e===qb.RELAY){if(0!==t.length)return;{const e=this._candidates.filter((e=>\"tcp\"===e.transport));e.forEach((e=>{t.push(VV(VV({},e),{},{foundation:\"udpcandidate\",priority:Number(e.priority)+1+\"\",transport:\"udp\",port:Number(e.port)-90+\"\"}))})),this._candidates=[...t,...e]}}else if(0===t.length){this._candidates.filter((e=>\"tcp\"===e.transport)).forEach((e=>{t.push(VV(VV({},e),{},{foundation:\"udpcandidate\",priority:Number(e.priority)+1+\"\",transport:\"udp\",port:Number(e.port)-90+\"\"}))})),this._candidates=t}else this._candidates=this._candidates.filter((e=>\"tcp\"!==e.transport));for(const e of this.sessionDesc.mediaDescriptions)e.attributes.candidates=this.candidates}restartICE(e){e=Gv(e),this._iceParameters=e,this.sessionDesc.mediaDescriptions.forEach((t=>{t.attributes.iceUfrag=e.iceUfrag,t.attributes.icePwd=e.icePwd}))}predictReceivingMids(e){const t=[];for(let i=0;i<e;i++)t.push((this.currentMidIndex+i+1).toString(10));return t}findAvailableMediaIndex(e,t){return this.sessionDesc.mediaDescriptions.findIndex((i=>{const n=i.media.mediaType===e&&\"0\"!==i.media.port&&(\"sendonly\"===i.attributes.direction||\"sendrecv\"===i.attributes.direction)&&0===i.attributes.ssrcs.length;if(kI()){if(n){const e=this.firefoxSsrcMidMap.get(t[0].ssrcId);return!(e||\"0\"!==i.attributes.mid&&\"1\"!==i.attributes.mid)||!(!e||e!==i.attributes.mid)}return!1}return n}))}createOrRecycleDataChannel(){for(const e of this.sessionDesc.mediaDescriptions)if(\"application\"===e.media.mediaType)return{mediaDesc:e,needExchangeSDP:!1};this.currentMidIndex+=1;const e=\"\".concat(this.currentMidIndex),t={media:{mediaType:\"application\",port:FV,protos:[\"UDP\",\"DTLS\",\"SCTP\"],fmts:[\"webrtc-datachannel\"]},connections:[{nettype:\"IN\",addrtype:\"IP4\",address:\"127.0.0.1\"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:this.candidates,extmaps:[],fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:[],ssrcGroups:[],rtcpFeedbackWildcards:[],payloads:[],rtcp:{port:\"9\",netType:\"IN\",addressType:\"IP4\",address:\"0.0.0.0\"},setup:this.setup,mid:\"\".concat(e),sctpPort:\"5000\"}};return this.sessionDesc.mediaDescriptions.push(t),{mediaDesc:t,needExchangeSDP:!0}}createOrRecycleRecvMedia(e,t,i,n,r,o){const s=e._mediaStreamTrack.kind,a=this.rtpCapabilities.recv,c=WM(s,a,this.localCapabilities.send,s===Yb.VIDEO?n:r),d=s===Yb.VIDEO?a.videoExtensions:a.audioExtensions;this.currentMidIndex+=1;const l=\"\".concat(this.currentMidIndex);let u={media:{mediaType:s,port:FV,protos:[\"UDP\",\"TLS\",\"RTP\",\"SAVPF\"],fmts:c.map((e=>e.payloadType.toString(10)))},connections:[{nettype:\"IN\",addrtype:\"IP4\",address:\"127.0.0.1\"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:this.candidates,extmaps:d,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:t,ssrcGroups:[],rtcpFeedbackWildcards:[],payloads:c,rtcp:{port:\"9\",netType:\"IN\",addressType:\"IP4\",address:\"0.0.0.0\"},setup:this.setup,direction:i,rtcpMux:!0,rtcpRsize:!0,mid:\"\".concat(l)}};u=this.mungRecvMediaDsec(u,e,o);const h=this.findFirstClosedMedia(s);if(h){const e=this.sessionDesc.mediaDescriptions.indexOf(h);this.sessionDesc.mediaDescriptions[e]=u}else this.sessionDesc.mediaDescriptions.push(u);return u}updateRemoteCodec(e,t,i){const n=[...new Set(this._rtpCapabilities.recv.videoCodecs.map((e=>e.rtpMap&&e.rtpMap.encodingName.toLowerCase()||\"\")).filter((e=>{var t;return Dn(t=Object.keys(My)).call(t,e)})))],r=new Set(t);if(n.every((e=>r.has(e))))return Qy.debug(\"codecs has not changed, no need to updateRemoteCodec, codecs: \".concat(t)),!1;const o=this._rtpCapabilities.recv.videoCodecs.filter((e=>t.some((t=>{var i;return Dn(i=e.rtpMap&&e.rtpMap.encodingName.toLowerCase()||\"\").call(i,t)}))));if(0===o.length)return Qy.debug(\"updateRemoteCodec failed, because cannot find matched codec, remoteCapabilities codecs: \".concat(n,\" codecs: \").concat(t)),!1;const s=[...new Set(o.map((e=>e.rtpMap&&e.rtpMap.encodingName.toLowerCase()||\"\")))];let a;if(Qy.debug(\"updateRemoteCodec, from \".concat(n,\" to \").concat(s)),0===e.length)a=this.sessionDesc.mediaDescriptions.filter((e=>\"video\"===e.media.mediaType&&\"recvonly\"===e.attributes.direction));else if(a=this.sessionDesc.mediaDescriptions.filter((t=>t.attributes.mid&&Dn(e).call(e,t.attributes.mid)&&\"recvonly\"===t.attributes.direction)),a.length!==e.length)return Qy.debug(\"updateRemoteCodec failed, because cannot find mids, mids: \".concat(e,\", codecs: \").concat(t)),!1;if(Dy(\"USE_PUB_RTX\")||Dy(\"USE_SUB_RTX\")){const e=HM(o,this.rtpCapabilities.recv.videoCodecs);o.push(...e)}this._rtpCapabilities.recv.videoCodecs=o;const c=this.localCapabilities.send,d=this.rtpCapabilities.recv,l=WM(Yb.VIDEO,d,c,i);return a.forEach((e=>{const t=l.map((e=>e.payloadType.toString(10)));Qy.debug(\"updateRemoteCodec mid: \".concat(e.attributes.mid,\", from \").concat(e.attributes.payloads,\" to \").concat(l)),e.attributes.payloads=l,e.media.fmts=t})),!0}createOrRecycleSendMedia(e,t,i,n,r){const o=this.rtpCapabilities.send,s=e===Yb.VIDEO?o.videoCodecs:o.audioCodecs,a=e===Yb.VIDEO?o.videoExtensions:o.audioExtensions;this.currentMidIndex+=1;const c=\"\".concat(this.currentMidIndex);let d={media:{mediaType:e,port:FV,protos:[\"UDP\",\"TLS\",\"RTP\",\"SAVPF\"],fmts:s.map((e=>e.payloadType.toString(10)))},connections:[{nettype:\"IN\",addrtype:\"IP4\",address:\"127.0.0.1\"}],bandwidths:[],attributes:{iceUfrag:this.iceParameters.iceUfrag,icePwd:this.iceParameters.icePwd,unrecognized:[],candidates:this.candidates,extmaps:a,fingerprints:this.dtlsParameters.fingerprints,imageattr:[],msids:[],remoteCandidatesList:[],rids:[],ssrcs:t,ssrcGroups:i,rtcpFeedbackWildcards:[],payloads:s,rtcp:{port:\"9\",netType:\"IN\",addressType:\"IP4\",address:\"0.0.0.0\"},setup:this.setup,direction:n,rtcpMux:!0,rtcpRsize:!0,mid:\"\".concat(c)}};d=this.mungSendMediaDesc(d,r);const l=this.findFirstClosedMedia(e);if(l){const e=this.sessionDesc.mediaDescriptions.indexOf(l);this.sessionDesc.mediaDescriptions[e]=d}else this.sessionDesc.mediaDescriptions.push(d);return d}updateBundleMids(){this.sessionDesc.attributes.groups[0].identificationTag=this.sessionDesc.mediaDescriptions.filter((e=>\"0\"!==e.media.port)).map((e=>e.attributes.mid))}mungRecvMediaDsec(e,t,i){const n=Gv(e);return LM(n),PM(n,t),kM(n,t),MM(n),UM(n,i,this.localCapabilities.send),n}mungSendMediaDesc(e,t){const i=Gv(e);return UM(i,t,this.localCapabilities.recv),GM(i),i}updateRecvMedia(e,t){const i=this.sessionDesc.mediaDescriptions.findIndex((t=>t.attributes.mid===e));if(-1!==i){const e=this.mungRecvMediaDsec(this.sessionDesc.mediaDescriptions[i],t);this.sessionDesc.mediaDescriptions[i]=e}}bumpMid(e){this.currentMidIndex+=e}findFirstClosedMedia(e){return this.sessionDesc.mediaDescriptions.find((t=>kI()?\"0\"===t.media.port&&t.media.mediaType===e:\"0\"===t.media.port))}findPreloadMediaDesc(e){return this.sessionDesc.mediaDescriptions.find((t=>{var i;return(null===(i=t.attributes)||void 0===i||null===(i=i.ssrcs[0])||void 0===i?void 0:i.ssrcId)===e[0].ssrcId}))}getSSRC(e){var t;return null===(t=this.sessionDesc.mediaDescriptions.find((t=>t.attributes.mid===e)))||void 0===t?void 0:t.attributes.ssrcs}}function GV(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function WV(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?GV(Object(i),!0).forEach((function(t){og(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):GV(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}let HV=function(e){return e.BANDWIDTH=\"bandwidth\",e.CPU=\"cpu\",e.NONE=\"none\",e.OTHER=\"other\",e}({});var KV=function(e){return e[e.DOWN=0]=\"DOWN\",e[e.UP=1]=\"UP\",e}(KV||{});const YV=new Map;function qV(e,t,i,n){let{scale:r}=e;if(0===r&&n===KV.UP||r>=t.length-1&&n===KV.DOWN)return e;let o=WV(WV({},e),{},{scale:n===KV.DOWN?++r:--r});switch(i){case\"maintain-framerate\":o=WV(WV({},o),t[r].motion);break;case\"maintain-resolution\":o=WV(WV({},o),t[r].detail);break;case\"balanced\":o=WV(WV({},o),t[r].balanced)}return o}function zV(e,t){if(t){const i={overUse:0,underUse:0,adaptationList:JV(t)};YV.set(e,i)}else YV.delete(e)}function JV(e){const t=WV({},e),{bitrateMax:i,frameRate:n,scaleResolutionDownBy:r,bitrateMin:o}=t,{MIN_FRAME_RATE:s,MAX_THRESHOLD_FRAMERATE:a,MAX_SCALE:c,BITRATE_MIN_THRESHOLD:d,BITRATE_MAX_THRESHOLD:l,BWE_SCALE_UP_THRESHOLD:u,BWE_SCALE_DOWN_THRESHOLD:h,PERF_SCALE_DOWN_THRESHOLD:p,PERF_SCALE_UP_THRESHOLD:_,BALANCE_BITRATE_FACTOR:E,BALANCE_FRAMERATE_FACTOR:m,BALANCE_RESOLUTION_FACTOR:f,MOTION_RESOLUTION_FACTOR:T,MOTION_BITRATE_FACTOR:S,DETAIL_FRAMERATE_FACTOR:g,DETAIL_BITRATE_FACTOR:R}=by,C=Math.min(t.frameRate,a),I=[{scale:0,threshold:{bwe_down:Math.round(Math.pow(h,1)*i),bwe_up:i,fps_down:Math.round(Math.pow(p,1)*C),fps_up:n},balanced:{scaleResolutionDownBy:1,frameRate:n,bitrateMax:i,bitrateMin:o},motion:{scaleResolutionDownBy:1,frameRate:n,bitrateMax:i,bitrateMin:o},detail:{scaleResolutionDownBy:1,frameRate:n,bitrateMax:i,bitrateMin:o}}];for(let e=1;e<=c;e++){const t={bwe_up:Math.round(Math.pow(u,e)*i),bwe_down:Math.round(Math.pow(h,e+1)*i),fps_up:Math.round(Math.pow(_,e)*C),fps_down:Math.round(Math.pow(p,e+1)*C)},a={scaleResolutionDownBy:r/Math.pow(f,e),frameRate:Math.max(Math.round(Math.pow(m,e)*n),s),bitrateMax:Math.max(Math.round(Math.pow(E,e)*i),l),bitrateMin:Math.max(Math.round(Math.pow(E,e)*o),d)},c={scaleResolutionDownBy:r/Math.pow(T,e),frameRate:n,bitrateMax:Math.max(Math.round(Math.pow(S,e)*i),l),bitrateMin:Math.max(Math.round(Math.pow(S,e)*o),d)},v={scaleResolutionDownBy:1,frameRate:Math.max(Math.round(Math.pow(g,e)*n),s),bitrateMax:Math.max(Math.round(Math.pow(R,e)*i),l),bitrateMin:Math.max(Math.round(Math.pow(R,e)*o),d)};I.push({scale:e,threshold:t,balanced:a,motion:c,detail:v})}return I}function XV(e,t,i,n,r,o){const s=YV.get(e)||{overUse:0,underUse:0,adaptationList:JV(r)},{adaptationList:a}=s;YV.set(e,s);const{OVERUSE_TIMES_THRESHOLD:c,UNDERUSE_TIMES_THRESHOLD:d}=by,{scale:l}=n;let u,h;return\"number\"==typeof t&&t>0&&function(e,t,i,n){if(t>=i.length)return!1;let{threshold:{fps_down:r}}=i[t];return Dy(\"FORCE_AG_HIGH_FRAMERATE\")&&\"maintain-framerate\"===n&&(r=i[0].threshold.fps_down),e<r}(t,l,a,o)&&(s.overUse++,h=HV.CPU,s.overUse>c)||\"number\"==typeof i&&i>0&&function(e,t,i){if(t>=i.length)return!1;const{threshold:{bwe_down:n}}=i[t];return e<n}(i,l,a)&&(s.overUse++,h=HV.BANDWIDTH,s.overUse>c)?(s.overUse=0,s.underUse=0,u=qV(n,a,o,KV.DOWN),[u,h]):(\"number\"==typeof t&&t>0&&\"number\"==typeof i&&i>0&&function(e,t,i,n){if(0===t)return;let{threshold:{fps_up:r}}=i[t];return Dy(\"FORCE_AG_HIGH_FRAMERATE\")&&\"maintain-framerate\"===n&&(r=i[1].threshold.fps_up),e>r}(t,l,a,o)&&function(e,t,i){if(0===t)return;const{threshold:{bwe_up:n}}=i[t];return e>n}(i,l,a)&&(s.underUse++,s.underUse>d&&(s.overUse=0,s.underUse=0,u=qV(n,a,o,KV.UP),0===u.scale&&(h=HV.NONE))),[u,h])}function QV(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function ZV(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?QV(Object(i),!0).forEach((function(t){og(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):QV(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function $V(e){var t;return!!Dy(\"ENABLE_AG_ADAPTATION\")&&(!!(e instanceof Kk||Dn(t=e._hints).call(t,eP.CUSTOM_TRACK))&&(!!Dy(\"FORCE_SUPPORT_AG_ADAPTATION\")||!!(function(e){const t=AI();if(t.os!==RI.IOS||!t.osVersion)return!1;const i=t.osVersion.split(\".\");return Number(i[0])>=e}(14)&&BI(17,4,!0)||FI(14)&&jI(17,4,!0))))}const eF=new Map;function tF(e,t){const i=eF.get(e);if(i){const{timer:t}=i;window.clearTimeout(t),eF.delete(e)}t.qualityLimitationReason=HV.NONE,zV(e)}var iF;function nF(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function rF(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?nF(Object(i),!0).forEach((function(t){og(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):nF(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}let oF=(iF=class e extends Kb{get currentLocalDescription(){return this.peerConnection.currentLocalDescription}get currentRemoteDescription(){return this.peerConnection.currentRemoteDescription}get peerConnectionState(){return this.peerConnection.connectionState}get iceConnectionState(){return this.peerConnection.iceConnectionState}get dtlsTransportState(){var e,t;return null!==(e=null===(t=this.peerConnection.getReceivers()[0])||void 0===t||null===(t=t.transport)||void 0===t?void 0:t.state)&&void 0!==e?e:null}get localCodecs(){return[...new Set(this.localCapabilities&&this.localCapabilities.send.videoCodecs.map((e=>e.rtpMap&&e.rtpMap.encodingName.toLowerCase()||\"\")).filter((e=>{var t;return Dn(t=Object.keys(My)).call(t,e)})))]}constructor(t,i){super(t,i),og(this,\"store\",void 0),og(this,\"peerConnection\",void 0),og(this,\"id\",ey(5,\"connection-\")),og(this,\"remoteSDP\",void 0),og(this,\"initialOffer\",void 0),og(this,\"transportEventReceiver\",void 0),og(this,\"statsFilter\",void 0),og(this,\"extension\",{useXR:Dy(\"USE_XR\")}),og(this,\"localCapabilities\",void 0),og(this,\"remoteCodecs\",void 0),og(this,\"localCandidateCount\",0),og(this,\"allCandidatesReceived\",!1),og(this,\"isPreallocation\",!1),og(this,\"preSSRCMap\",new Map),og(this,\"dataStreamChannelMap\",new Map),og(this,\"establishPromise\",void 0),og(this,\"recoveredDataChannelIds\",[]),og(this,\"currentDataChannelId\",1),og(this,\"mutex\",new hy(\"P2PConnection-mutex\")),og(this,\"qualityLimitationReason\",HV.NONE),this.store=i,this.peerConnection=new RTCPeerConnection(e.resolvePCConfiguration(t),{optional:[{googDscp:!0}]}),this.statsFilter=Dx(this.peerConnection,Dy(\"STATS_UPDATE_INTERVAL\"),void 0,kI()?1200:void 0),this.bindPCEvents(),this.bindStatsEvents(),this.store.p2pId=this.store.p2pId+1,this.establishPromise=this.establish()}getPreMedia(e){const t=this.preSSRCMap.get(e);if(void 0!==t){const e=this.peerConnection.getTransceivers().find((e=>e.mid===t));if(e)return{transceiver:e,track:e.receiver.track,id:t}}}async updateRemoteRTPCapabilities(e,t){if(this.remoteCodecs=t,!this.remoteSDP)return void Qy.debug(\"[P2PConnection] cannot updateRemoteRTPCapabilities before remote SDP created, local codecs: \".concat(this.localCodecs,\", codecs: \").concat(t));if(this.remoteSDP.updateRemoteCodec(e,t,this.store.codec)){const e=await this.peerConnection.createOffer(),t=this.logSDPExchange(e.sdp||\"\",\"offer\",\"local\",\"muteLocal\");await this.peerConnection.setLocalDescription(e);const i=this.remoteSDP.toString();null==t||t(i),await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:i})}else Qy.debug(\"[P2PConnection] updateRemoteRTPCapabilities no need to exchange SDP.\")}async establish(){try{this.peerConnection.addTransceiver(\"video\",{direction:\"recvonly\"}),this.peerConnection.addTransceiver(\"audio\",{direction:\"recvonly\"});const e=await this.peerConnection.createOffer();if(!e.sdp)throw new Error(\"Cannot get initialOffer.sdp when trying to establish PeerConnection.\");const t=bM(e.sdp),i=await VM({filterRTX:!Dy(\"USE_PUB_RTX\")&&!Dy(\"USE_SUB_RTX\"),filterVideoFec:Dy(\"FILTER_VIDEO_FEC\"),filterAudioFec:Dy(\"FILTER_AUDIO_FEC\"),filterVideoCodec:Dy(\"FILTER_VIDEO_CODEC\")},this.extension);return this.localCapabilities=jM(i),this.initialOffer=e,rF(rF({},t),{},{rtpCapabilities:i,offerSDP:e.sdp})}catch(e){throw new rv(nv.GET_LOCAL_CONNECTION_PARAMS_FAILED,e.toString())}}async connect(e){try{if(!this.initialOffer)throw new Error(\"Cannot establish P2PConnection without initial offer.\");this.remoteSDP=new jV(rF(rF({},e),{},{localCapabilities:this.localCapabilities})),e.preallocation&&(this.isPreallocation=!0),Array.isArray(this.remoteCodecs)&&this.remoteCodecs.length>0&&this.remoteSDP.updateRemoteCodec([],this.remoteCodecs,this.store.codec);const t=this.remoteSDP.toString(),i=YM(this.initialOffer.sdp,this.extension),n=this.logSDPExchange(i||\"\",\"offer\",\"local\",\"connect\");this.store.descriptionStart(),await this.peerConnection.setLocalDescription({type:\"offer\",sdp:i}),null==n||n(t),await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:t});const r=this.peerConnection.getTransceivers()[0];if(null!=r&&r.receiver&&this.tryBindTransportEvents(r.receiver),Dy(\"PRELOAD_MEDIA_COUNT\")>0){this.remoteSDP.preloadRemoteMedia(Dy(\"PRELOAD_MEDIA_COUNT\"));const e=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:e});const t=await this.peerConnection.createAnswer();await this.peerConnection.setLocalDescription(t)}const{preSSRCs:o}=e;if(Array.isArray(o)&&o.length>0){const{mids:e}=this.remoteSDP.batchSend(o.map((e=>({kind:e.kind,ssrcMsg:[{ssrcId:e.ssrcId,rtx:e.rtx}],mslabel:e.mslabel}))));e.forEach(((e,t)=>{this.preSSRCMap.set(o[t].ssrcId,e)})),await KM(this.peerConnection,this.remoteSDP,this.extension),Qy.debug(\"[\".concat(this.store.clientId,\"] [P2PConnection] pre-batchReceive exchange SDP.\"))}}catch(e){throw new rv(nv.EXCHANGE_SDP_FAILED,\"P2PConnection.connect failed; \".concat(e.toString()))}}async updateRemoteConnect(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.updateRemoteConnect before remote SDP created\");const{rtpCapabilities:t}=e;this.remoteSDP.updateRemoteRTPCapabilities(t),Array.isArray(this.remoteCodecs)&&this.remoteCodecs.length>0&&this.remoteSDP.updateRemoteCodec([],this.remoteCodecs,this.store.codec);const{preSSRCs:i}=e;if(Array.isArray(i)&&i.length>0){const{mids:e}=this.remoteSDP.batchSend(i.map((e=>Object.assign({},{kind:e.kind,ssrcMsg:[{ssrcId:e.ssrcId,rtx:e.rtx}],mslabel:e.mslabel}))));e.forEach(((e,t)=>{this.preSSRCMap.set(i[t].ssrcId,e)}))}await KM(this.peerConnection,this.remoteSDP,this.extension),Qy.debug(\"[P2PConnection] updateRemoteRTPCapabilities by exchanging SDP.\")}catch(e){throw new rv(nv.EXCHANGE_SDP_FAILED,\"P2PConnection.updateRemoteConnect failed; \".concat(e.toString()))}}send(e,t,i){var n=this;return ZU((function*(){const r=yield WU(n.mutex.lock(\"From P2PConnection.send\"));try{if(!n.remoteSDP)throw new Error(\"Cannot call P2PConnection.send before remote SDP created\");const o=[];e.forEach((e=>{const t=n.peerConnection.addTransceiver(e._mediaStreamTrack,{direction:\"sendonly\"});o.push(t),e._updateRtpTransceiver(t)})),kI()&&!0===Dy(\"SIMULCAST\")&&(yield WU(n.applySimulcastForFirefox(o,e)));const s=yield WU(n.peerConnection.createOffer()),a=n.remoteSDP.predictReceivingMids(e.length),c=n.mungSendOfferSDP(s.sdp,e,a),d=CM.parse(c),l=a.map((e=>{const t=d.mediaDescriptions.find((t=>t.attributes.mid===e));if(!t)throw new Error(\"Cannot extract ssrc from mediaDescription.\");return wM(t,Dy(\"USE_PUB_RTX\"))}));let u;try{u=yield l}catch(r){u=[],n.remoteSDP.receive(e,t,i,u);const o=n.remoteSDP.toString();throw yield WU(n.peerConnection.setLocalDescription({type:\"offer\",sdp:c})),yield WU(n.peerConnection.setRemoteDescription({type:\"answer\",sdp:o})),yield WU(n.stopSending(a,!0)),r}n.remoteSDP.receive(e,t,i,u);const h=n.remoteSDP.toString(),p=n.logSDPExchange(c,\"offer\",\"local\",\"send\");return yield WU(n.peerConnection.setLocalDescription({type:\"offer\",sdp:c})),yield WU(n.applySimulcastEncodings(o,e)),yield WU(n.applySendEncodings(o,e)),null==p||p(h),yield WU(n.peerConnection.setRemoteDescription({type:\"answer\",sdp:h})),o.map(((e,t)=>{const i=a[t];return{localSSRC:l[t],id:i,transceiver:e}}))}catch(e){throw e instanceof rv?e:new rv(nv.EXCHANGE_SDP_FAILED,\"P2PConnection.send failed; \".concat(e.toString()))}finally{r()}}))()}async createDataChannels(e,t){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.createDataChannels before remote SDP created\");let i=this.dataStreamChannelMap.get(e);if(i&&\"open\"===i.readyState)Qy.debug(\"[P2PConnection] Channels are already available and can be reused directly.\");else{const t=this.currentDataChannelId<1023?this.currentDataChannelId++:this.recoveredDataChannelIds.shift();if(\"number\"!=typeof t)throw new Error(\"create DataChannel error, because cannot get dc id\");i=this.peerConnection.createDataChannel(\"datastream-channel\",{id:t,negotiated:!0,ordered:!1,maxRetransmits:Dy(\"DATASTREAM_MAX_RETRANSMITS\")}),i.binaryType=\"arraybuffer\",this.dataStreamChannelMap.set(e,i)}t.forEach((e=>{e._updateOriginDataChannel(i)}));const{needExchangeSDP:n}=this.remoteSDP.sendDataChannel();if(n){const e=this.remoteSDP.toString();await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:e});const t=await this.peerConnection.createAnswer();await this.peerConnection.setLocalDescription(t),Qy.debug(\"[P2PConnection] createDataChannels by exchanging SDP.\")}else Qy.debug(\"[P2PConnection] createDataChannels no need to exchange SDP.\");return}catch(e){throw e instanceof rv?e:new rv(nv.EXCHANGE_SDP_FAILED,\"P2PConnection.createDataChannels failed; \".concat(e.toString()))}}async stopDataChannels(e){try{const t=this.dataStreamChannelMap.get(e);return t&&(t.id&&this.recoveredDataChannelIds.push(t.id),t.close()),void this.dataStreamChannelMap.delete(e)}catch(e){throw e instanceof rv?e:new rv(nv.DATACHANNEL_FAILED,\"P2PConnection.stopDataChannels failed; \".concat(e.toString()))}}async stopSending(e,t){const i=t?void 0:await this.mutex.lock(\"From P2PConnection.stopSending\");try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.stopSending before remote SDP created\");const t=this.peerConnection.getTransceivers().filter((t=>-1!==e.indexOf(t.mid)));if(t.length!==e.length)throw new Error(\"Transceivers' length doesn't match mids' length when trying to call P2PConnection.stopSending.\");t.map((e=>{var t;tF(this.id+e.mid,this),e.direction=\"inactive\",null===(t=e.stop)||void 0===t||t.call(e)}));const n=await this.peerConnection.createOffer(),r=this.logSDPExchange(n.sdp||\"\",\"offer\",\"local\",\"stopSending\");await this.peerConnection.setLocalDescription(n),this.remoteSDP.stopReceiving(e);const o=this.remoteSDP.toString();null==r||r(o),await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:o})}catch(e){throw new rv(nv.EXCHANGE_SDP_FAILED,\"P2PConnection.stopSending failed; \".concat(e.toString()))}finally{i&&i()}}async receive(e,t,i,n){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.receive \".concat(e,\" before remoteSDP created.\"));const{mid:r,needExchangeSDP:o}=this.remoteSDP.send(e,t,i,n);o&&(await KM(this.peerConnection,this.remoteSDP,this.extension),Qy.debug(\"[\".concat(this.store.clientId,\"] [P2PConnection] receive \").concat(e,\" by exchanging SDP.\")));const s=this.peerConnection.getTransceivers().find((e=>e.mid===r));if(!s)throw new Error(\"Cannot get transceiver after setLocalDescription.\");return{track:s.receiver.track,id:r,transceiver:s}}catch(e){throw new rv(nv.EXCHANGE_SDP_FAILED,\"P2PConnection.receive failed; \".concat(e.toString()))}}async batchReceive(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.batchReceive before remoteSDP created.\");const{mids:t,needExchangeSDP:i}=this.remoteSDP.batchSend(e);return i&&(await KM(this.peerConnection,this.remoteSDP,this.extension),Qy.debug(\"[\".concat(this.store.clientId,\"] [P2PConnection] batchReceive by exchanging SDP.\"))),t.map((e=>{const t=this.peerConnection.getTransceivers().find((t=>t.mid===e));if(!t)throw new Error(\"Cannot get transceiver after setLocalDescription.\");return{track:t.receiver.track,id:e,transceiver:t}}))}catch(e){throw new rv(nv.EXCHANGE_SDP_FAILED,\"P2PConnection.receive failed; \".concat(e.toString()))}}async stopReceiving(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.stopReceiving before remote SDP created.\");e.forEach((e=>{Array.from(this.preSSRCMap.entries()).some((t=>{let[i,n]=t;if(n===e)return this.preSSRCMap.delete(i),!0}))})),this.remoteSDP.stopSending(e);const t=this.remoteSDP.toString(),i=this.logSDPExchange(t,\"offer\",\"remote\",\"stopReceiving\");await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:t});const n=await this.peerConnection.createAnswer();null==i||i(n.sdp||\"\"),await this.peerConnection.setLocalDescription(n)}catch(e){throw new rv(nv.EXCHANGE_SDP_FAILED,\"P2PConnection stopReceiving failed; \".concat(e.toString()))}}async muteRemote(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.muteRemote mid=\".concat(e,\" before remote SDP created.\"));this.remoteSDP.mute(e);const t=this.remoteSDP.toString(),i=this.logSDPExchange(t,\"offer\",\"remote\",\"muteRemote\");await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:t});const n=await this.peerConnection.createAnswer();null==i||i(n.sdp||\"\"),await this.peerConnection.setLocalDescription(n)}catch(e){throw new rv(nv.EXCHANGE_SDP_FAILED,\"P2PConnection.muteRemote failed; \".concat(e.toString()))}}async unmuteRemote(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.unmuteRemote mid=\".concat(e,\" before remote SDP created.\"));this.remoteSDP.unmute(e);const t=this.remoteSDP.toString(),i=this.logSDPExchange(t,\"offer\",\"remote\",\"unmuteRemote\");await this.peerConnection.setRemoteDescription({type:\"offer\",sdp:t});const n=await this.peerConnection.createAnswer();null==i||i(n.sdp||\"\"),await this.peerConnection.setLocalDescription(n)}catch(e){throw new rv(nv.EXCHANGE_SDP_FAILED,\"P2PConnection.unmuteRemote failed; \".concat(e.toString()))}}async muteLocal(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.muteLocal before remote SDP created.\");const t=this.peerConnection.getTransceivers().filter((t=>t.mid&&-1!==e.indexOf(t.mid)));if(t.length!==e.length)throw new Error(\"Transceivers' length doesn't match mids' length.\");t.map((e=>{e.direction=\"inactive\"}));const i=await this.peerConnection.createOffer(),n=this.logSDPExchange(i.sdp||\"\",\"offer\",\"local\",\"muteLocal\");await this.peerConnection.setLocalDescription(i),this.remoteSDP.muteRemote(e);const r=this.remoteSDP.toString();null==n||n(r),await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:r})}catch(e){throw new rv(nv.EXCHANGE_SDP_FAILED,\"P2PConnection.muteLocal failed; \".concat(e.toString()))}}async unmuteLocal(e){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.unmuteLocal before remote SDP created.\");const t=this.peerConnection.getTransceivers().filter((t=>t.mid&&-1!==e.indexOf(t.mid)));if(t.length!==e.length)throw new Error(\"Transceivers' length doesn't match mids' length.\");t.map((async(e,t)=>{e.direction=\"sendonly\"}));const i=await this.peerConnection.createOffer(),n=this.logSDPExchange(i.sdp||\"\",\"offer\",\"local\",\"unmuteLocal\");await this.peerConnection.setLocalDescription(i),this.remoteSDP.unmuteRemote(e);const r=this.remoteSDP.toString();null==n||n(r),await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:r})}catch(e){throw new rv(nv.EXCHANGE_SDP_FAILED,\"P2PConnection.unmuteLocal failed; \".concat(e.toString()))}}restartICE(e){var t=this;return ZU((function*(){const i=yield WU(t.mutex.lock(\"From P2PConnection.restartICE\"));try{if(!t.remoteSDP)throw new Error(\"Cannot restartICE before remoteSDP created.\");if(MD().supportPCSetConfiguration){const i=t.peerConnection.getConfiguration(),n=e===qb.RELAY?\"relay\":\"all\";i.iceTransportPolicy!==n&&(Qy.debug(\"[\".concat(t.store.clientId,\"] restartICE change iceTransportPolicy from [\").concat(i.iceTransportPolicy,\"] to [\").concat(n,\"]\")),i.iceTransportPolicy=n,t.peerConnection.setConfiguration(i))}else if(e===qb.RELAY)return;t.remoteSDP.updateCandidates(e);const n=yield WU(t.peerConnection.createOffer({iceRestart:!0}));if(!n.sdp)throw new Error(\"Cannot restartICE because restart offer SDP does not exist.\");const r=bM(n.sdp),{remoteIceParameters:o}=yield r.iceParameters;t.remoteSDP.restartICE(o);const s=t.remoteSDP.toString(),a=t.logSDPExchange(n.sdp||\"\",\"offer\",\"local\",\"restartICE\");t.store.descriptionStart(),yield WU(t.peerConnection.setLocalDescription(n)),null==a||a(s),yield WU(t.peerConnection.setRemoteDescription({type:\"answer\",sdp:s}))}catch(e){Qy.warning(\"[\".concat(t.store.clientId,\"] restart ICE failed, abort operation\"),e)}finally{i()}}))()}close(){var e;this.peerConnection.getTransceivers().forEach((e=>{tF(this.id+e.mid,this)})),this.preSSRCMap.clear(),this.peerConnection.close(),null===(e=this.onConnectionStateChange)||void 0===e||e.call(this,\"closed\"),this.tryUnbindTransportEvents(),this.unbindPCEvents(),this.unbindStatsEvents(),this.removeAllListeners(),this.transportEventReceiver=void 0,this.statsFilter.destroy(),this.dataStreamChannelMap.clear(),this.recoveredDataChannelIds=[],this.currentDataChannelId=1}getStats(){return rF(rF({},this.statsFilter.getStats()),{},{qualityLimitationReason:this.qualityLimitationReason})}getRemoteVideoIsReady(e){return this.statsFilter.getVideoIsReady(e)}async updateEncoderConfig(e,t){try{if(!this.remoteSDP)throw new Error(\"Cannot call P2PConnection.updateEncoderConfig before remote SDP created.\");const i=await this.peerConnection.createOffer(),n=this.mungSendOfferSDP(i.sdp,[t],[e]);this.remoteSDP.updateRecvMedia(e,t);const r=this.remoteSDP.toString(),o=this.logSDPExchange(n,\"offer\",\"local\",\"updateEncoderConfig\");await this.peerConnection.setLocalDescription({type:\"offer\",sdp:n}),null==o||o(r),await this.peerConnection.setRemoteDescription({type:\"answer\",sdp:r})}catch(e){throw new rv(nv.EXCHANGE_SDP_FAILED,e.toString())}}async updateSendParameters(e,t){const i=this.peerConnection.getTransceivers().filter((t=>t.mid===e));1===i.length&&(this.isVP8Simulcast(t)?kI()||await this.applySimulcastEncodings(i,[t]):await this.applySendEncodings(i,[t]))}setStatsRemoteVideoIsReady(e,t){this.statsFilter.setVideoIsReady2(e,t)}async replaceTrack(e,t){const i=this.peerConnection.getTransceivers().find((e=>e.mid===t));i&&await i.sender.replaceTrack(e._mediaStreamTrack)}async getSelectedCandidatePair(){const e=this.peerConnection.getReceivers();if(e.length>0&&e[0].transport&&e[0].transport.iceTransport&&e[0].transport.iceTransport.getSelectedCandidatePair&&e[0].transport.iceTransport.getSelectedCandidatePair()){const t=e[0].transport.iceTransport,{local:i,remote:n}=t.getSelectedCandidatePair();return{local:rF(rF({},Ex),{},{candidateType:i.type,protocol:i.protocol,address:i.address,port:i.port}),remote:rF(rF({},Ex),{},{candidateType:n.type,protocol:n.protocol,address:n.address,port:n.port})}}return this.statsFilter.getSelectedCandidatePair()}bindPCEvents(){this.peerConnection.oniceconnectionstatechange=()=>{var e;null===(e=this.onICEConnectionStateChange)||void 0===e||e.call(this,this.peerConnection.iceConnectionState)},this.peerConnection.onconnectionstatechange=()=>{var e;null===(e=this.onConnectionStateChange)||void 0===e||e.call(this,this.peerConnection.connectionState)},this.peerConnection.onicecandidate=e=>{e.candidate?this.localCandidateCount+=1:(this.peerConnection.onicecandidate=null,this.allCandidatesReceived=!0,Qy.debug(\"[\".concat(this.store.clientId,\"] [pc-\").concat(this.store.p2pId,\"] local candidate count\"),this.localCandidateCount))},setTimeout((()=>{this.allCandidatesReceived||(this.allCandidatesReceived=!0,Qy.debug(\"[\".concat(this.store.clientId,\"] [pc-\").concat(this.store.p2pId,\"] onicecandidate timeout, local candidate count\"),this.localCandidateCount))}),Dy(\"CANDIDATE_TIMEOUT\"))}unbindPCEvents(){this.peerConnection.oniceconnectionstatechange=null,this.peerConnection.onconnectionstatechange=null,this.peerConnection.onsignalingstatechange=null,this.peerConnection.onicecandidateerror=null,this.peerConnection.onicecandidate=null,this.peerConnection.ontrack=null}static resolvePCConfiguration(t){const i={iceServers:[]};return t.iceServers?i.iceServers=t.iceServers:t.turnServer&&\"off\"!==t.turnServer.mode&&(bv(t.turnServer.servers)?i.iceServers=t.turnServer.servers:(i.iceServers&&i.iceServers.push(...e.turnServerConfigToIceServers(t.turnServer.servers)),Dy(\"USE_TURN_SERVER_OF_GATEWAY\")&&i.iceServers&&t.turnServer.serversFromGateway&&i.iceServers.push(...e.turnServerConfigToIceServers(t.turnServer.serversFromGateway)),Dy(\"FORCE_TURN_TCP\")?i.iceTransportPolicy=\"relay\":t.turnServer.servers.concat(t.turnServer.serversFromGateway||[]).forEach((e=>{e.forceturn&&(i.iceTransportPolicy=\"relay\")})))),Dy(\"ENABLE_ENCODED_TRANSFORM\")&&MD().supportWebRTCEncodedTransform&&(i.encodedInsertableStreams=!0),i}static turnServerConfigToIceServers(e){const t=[];return e.forEach((e=>{e.security?e.tcpport&&t.push({username:e.username,credential:e.password,credentialType:\"password\",urls:\"turns:\".concat(Pw(e.turnServerURL),\":\").concat(e.tcpport,\"?transport=tcp\")}):(e.udpport&&!Dy(\"FORCE_TURN_TCP\")&&t.push({username:e.username,credential:e.password,credentialType:\"password\",urls:\"turn:\".concat(e.turnServerURL,\":\").concat(e.udpport,\"?transport=udp\")}),e.tcpport&&t.push({username:e.username,credential:e.password,credentialType:\"password\",urls:\"turn:\".concat(e.turnServerURL,\":\").concat(e.tcpport,\"?transport=tcp\")}))})),t}tryBindTransportEvents(e){const t=e.transport;if(t){this.transportEventReceiver=e,t.onstatechange=()=>{var e;null!=t&&t.state&&(null===(e=this.onDTLSTransportStateChange)||void 0===e||e.call(this,t.state))},t.onerror=e=>{var t;null===(t=this.onDTLSTransportError)||void 0===t||t.call(this,\"error\"in e?e.error:e)};const i=t.iceTransport;i&&(i.onstatechange=()=>{const e=null==t?void 0:t.iceTransport.state;var i;e&&(null===(i=this.onICETransportStateChange)||void 0===i||i.call(this,e))},i.getSelectedCandidatePair&&(i.onselectedcandidatepairchange=()=>{if(i.getSelectedCandidatePair()){const{local:e,remote:t}=i.getSelectedCandidatePair();Qy.info(\"[\".concat(this.store.clientId,\"] [pc-\").concat(this.store.p2pId,\"] selectedcandidatepairchange: local \").concat(JSON.stringify({candidateType:e.type,protocol:e.protocol}),\", remote \").concat(JSON.stringify({candidateType:t.type,protocol:t.protocol,address:t.address,port:t.port}),\" )\"))}}))}}tryUnbindTransportEvents(){this.transportEventReceiver&&this.transportEventReceiver.transport&&(this.transportEventReceiver.transport.onstatechange=null,this.transportEventReceiver.transport.onerror=null,this.transportEventReceiver.transport.iceTransport&&(this.transportEventReceiver.transport.iceTransport.onstatechange=null))}async updateRtpSenderEncodings(e,t){var i,n;if(!t){const i=this.peerConnection.getSenders();t=i.find((t=>t.track===e._mediaStreamTrack))}if(!t)return Qy.warn(\"[\".concat(e.getTrackId(),\"] no rtpSender found}\"));if(this.isVP8Simulcast(e))return Qy.warn(\"[updateRtpSenderEncodings] Track is VP8 simulcast, please apply simulcast encodings\");if(!MD().supportSetRtpSenderParameters)return Qy.warn(\"[updateRtpSenderEncodings] Browser not support set rtp-sender parameters\");const r={},o={};switch(e._optimizationMode){case\"motion\":r.degradationPreference=\"maintain-framerate\";break;case\"detail\":r.degradationPreference=\"maintain-resolution\";break;case\"balanced\":r.degradationPreference=\"balanced\"}const s=function(e,t){return e.getTransceivers().find((e=>e.sender.track===t||e.receiver.track===t))}(this.peerConnection,e._mediaStreamTrack),a=uL(e);if($V(e)&&s&&t&&a&&this.getLocalVideoStats&&Dn(i=[\"vp8\",\"vp9\"]).call(i,this.store.codec)){var c;const i=r.degradationPreference||(Dn(c=e._hints).call(c,eP.CUSTOM_TRACK)?Dy(\"CUSTOM_ADAPTATION_DEFAULT_MODE\"):\"maintain-framerate\");!function(e,t,i,n,r,o){if(tF(e,i),r(t),\"balanced\"!==n&&\"maintain-framerate\"!==n&&\"maintain-resolution\"!==n)return;let s=-1;zV(e,t);const a=window.setInterval((()=>{const a=eF.get(e);if(!Dy(\"ENABLE_AG_ADAPTATION\")||!a)return tF(e,i),void r(t);const c=o();if(c.sendPackets>0&&c.OutgoingAvailableBandwidth>0){if(-1===s)return void(s=Date.now());if(Date.now()-s<1e3)return;const o=c.sendFrameRate,d=c.OutgoingAvailableBandwidth,[l,u]=XV(e,o,d,a.adaptationConfig,t,n);u&&(i.qualityLimitationReason=u),l&&a.adaptationConfig.scale!==l.scale&&(Qy.debug(\"[\".concat(e,\"] applyAdaptation: \").concat(i.qualityLimitationReason,\"\\n           sendFps \").concat(o,\", bwe \").concat(d,\", switch from \").concat(a.adaptationConfig.scale,\" to \").concat(l.scale,\" \")),a.adaptationConfig=ZV(ZV({},a.adaptationConfig),l),r(l))}}),Dy(\"CHECK_LOCAL_STATS_INTERVAL\")),c=ZV({},t);eF.set(e,{timer:a,adaptationConfig:c,originConfig:t,adaptationFunc:r}),Qy.debug(\"[\".concat(e,\"] start adaptation, originConfig: \").concat(JSON.stringify(t),\", degradationPreference: \").concat(n))}(this.id+s.mid,a,this,i,(e=>{t&&this.updateAdaptation(t,e)}),this.getLocalVideoStats.bind(this))}if(e._encoderConfig){var d;const{bitrateMax:t,frameRate:i,scaleResolutionDownBy:n}=e._encoderConfig;t&&(o.maxBitrate=1e3*t),(Dn(d=e._hints).call(d,eP.LOW_STREAM)||e.isUseScaleResolutionDownBy)&&(i&&(o.maxFramerate=kw(i)),n&&n>=1&&(o.scaleResolutionDownBy=n))}const{maxFramerate:l}=Dy(\"ENCODER_CONFIG_LIMIT\");if(l&&\"number\"==typeof l&&(o.maxFramerate=o.maxFramerate?Math.min(o.maxFramerate,l):l),Dy(\"DSCP_TYPE\")&&QI()){var u;const e=Dy(\"DSCP_TYPE\");Dn(u=[\"very-low\",\"low\",\"medium\",\"high\"]).call(u,e)&&(o.networkPriority=e)}const h=t.getParameters(),p=null===(n=h.encodings)||void 0===n?void 0:n[0];kI()&&!p&&(r.encodings=[o]),p&&Object.assign(p,o),Object.assign(h,r),Qy.debug(\"[\".concat(e.getTrackId(),\"] updateRtpSenderEncodings: \").concat(JSON.stringify(h.encodings))),await t.setParameters(h),await async function(e,t,i){try{var n;if(!MD().supportSetRtpSenderParameters)return;if(!function(e){return\"vp9\"===e}(e)||!Dy(\"ENABLE_SVC\"))return;const r={},o={},s=t.getParameters(),a=null===(n=s.encodings)||void 0===n?void 0:n[0];o.scalabilityMode=IM(i),a&&Object.assign(a,o),Object.assign(s,r),await t.setParameters(s),Qy.debug(\"[updateAdaptation] updateRtpSenderEncodings scalabilityMode success: \".concat(JSON.stringify(s.encodings)))}catch(e){Qy.debug(\"[updateAdaptation] updateRtpSenderEncodings scalabilityMode failed\",e)}}(this.store.codec,t,Dy(\"SVC_MODE\"))}async updateAdaptation(e,t){var i,n;if(!e)return Qy.debug(\"[updateAdaptation] no rtpSender found\");if(!MD().supportSetRtpSenderParameters)return Qy.debug(\"[updateAdaptation] Browser not support set rtp-sender parameters\");const r={},{bitrateMax:o,frameRate:s,scaleResolutionDownBy:a}=t;o&&(r.maxBitrate=1e3*o),s&&(r.maxFramerate=kw(s)),a&&a>=1&&Dn(i=[\"vp8\",\"vp9\"]).call(i,this.store.codec)&&(r.scaleResolutionDownBy=a);const c=e.getParameters(),d=null===(n=c.encodings)||void 0===n?void 0:n[0];d&&Object.assign(d,r),Object.assign(c,{});try{await e.setParameters(c),Qy.debug(\"[updateAdaptation] updateRtpSenderEncodings: \".concat(JSON.stringify(c.encodings)))}catch(t){!(\"transport\"in e)||e.transport&&\"connected\"===e.transport.state?\"connected\"!==this.peerConnectionState?Qy.debug(\"[updateAdaptation] peerConnection not connected}\"):Qy.debug(\"[updateAdaptation] updateRtpSenderEncodings failed\",t):Qy.debug(\"[updateAdaptation] rtpSender transport not connected}\")}}async applySendEncodings(e,t){try{if(!MD().supportSetRtpSenderParameters)return;if(e.length!==t.length)return;for(let i=0;i<e.length;i++){const n=e[i],r=t[i];r instanceof Hk&&!this.isVP8Simulcast(r)&&await this.updateRtpSenderEncodings(r,n.sender)}}catch(e){Qy.debug(\"[\".concat(this.store.clientId,\"] Apply RTPSendEncodings failed.\"))}}mungSendOfferSDP(e,t,i){const n=CM.parse(e);return t.forEach(((e,t)=>{const r=i[t],o=n.mediaDescriptions.find((e=>e.attributes.mid===r));o&&(PM(o,e),xM(o,e,this.store.codec))})),CM.print(n)}bindStatsEvents(){this.statsFilter.onFirstAudioReceived=e=>{var t;null===(t=this.onFirstAudioReceived)||void 0===t||t.call(this,e)},this.statsFilter.onFirstVideoReceived=e=>{var t;null===(t=this.onFirstVideoReceived)||void 0===t||t.call(this,e)},this.statsFilter.onFirstAudioDecoded=e=>{var t;null===(t=this.onFirstAudioDecoded)||void 0===t||t.call(this,e)},this.statsFilter.onFirstVideoDecoded=(e,t,i)=>{var n;null===(n=this.onFirstVideoDecoded)||void 0===n||n.call(this,e,t,i)},this.statsFilter.onSelectedLocalCandidateChanged=(e,t)=>{var i;null===(i=this.onSelectedLocalCandidateChanged)||void 0===i||i.call(this,e,t)},this.statsFilter.onSelectedRemoteCandidateChanged=(e,t)=>{var i;null===(i=this.onSelectedRemoteCandidateChanged)||void 0===i||i.call(this,e,t)},this.statsFilter.onFirstVideoDecodedTimeout=e=>{var t;null===(t=this.onFirstVideoDecodedTimeout)||void 0===t||t.call(this,e)}}unbindStatsEvents(){this.statsFilter.onFirstAudioReceived=void 0,this.statsFilter.onFirstVideoReceived=void 0,this.statsFilter.onFirstAudioDecoded=void 0,this.statsFilter.onFirstVideoDecoded=void 0,this.statsFilter.onSelectedLocalCandidateChanged=void 0,this.statsFilter.onSelectedRemoteCandidateChanged=void 0,this.statsFilter.onFirstVideoDecodedTimeout=void 0}async applySimulcastForFirefox(e,t){if(e.length===t.length)for(let a=0;a<e.length;a++){var i,n,r,o,s;const c=e[a],d=t[a];if(d instanceof Hk&&!Dn(i=d._hints).call(i,eP.LOW_STREAM)&&null!==(n=d._encoderConfig)&&void 0!==n&&n.bitrateMax&&(null===(r=d._encoderConfig)||void 0===r?void 0:r.bitrateMax)>200&&null!==(o=d._scalabilityMode)&&void 0!==o&&o.numSpatialLayers&&(null===(s=d._scalabilityMode)||void 0===s?void 0:s.numSpatialLayers)>1&&\"vp8\"===this.store.codec){const e={},t={high:1e3*(d._encoderConfig.bitrateMax-50),medium:5e4};e.encodings=[{rid:\"m\",active:!0,maxBitrate:t.medium,scaleResolutionDownBy:4},{rid:\"h\",active:!0,maxBitrate:t.high}];const i=c.sender.getParameters();await c.sender.setParameters(Object.assign(i,e))}}}async applySimulcastEncodings(e,t){if(!kI()&&e.length===t.length)for(let i=0;i<e.length;i++){const n=t[i];if(n instanceof Hk&&this.isVP8Simulcast(n)){const t=e[i],r={},o={high:1e3*(n._encoderConfig.bitrateMax-50),medium:5e4};r.encodings=[{active:!0,adaptivePtime:!1,networkPriority:\"high\",priority:\"high\",maxBitrate:o.high},{active:!0,adaptivePtime:!1,networkPriority:\"low\",priority:\"low\",maxBitrate:o.medium,scaleResolutionDownBy:4}];const s=t.sender.getParameters();await t.sender.setParameters(Object.assign(s,r))}}}isVP8Simulcast(e){var t,i,n,r,o;return!!(e instanceof Hk&&Dy(\"SIMULCAST\")&&\"vp8\"===this.store.codec&&!Dn(t=e._hints).call(t,eP.LOW_STREAM)&&null!==(i=e._encoderConfig)&&void 0!==i&&i.bitrateMax&&(null===(n=e._encoderConfig)||void 0===n?void 0:n.bitrateMax)>200&&null!==(r=e._scalabilityMode)&&void 0!==r&&r.numSpatialLayers&&(null===(o=e._scalabilityMode)||void 0===o?void 0:o.numSpatialLayers)>1)}logSDPExchange(e,t,i,n){if(Dy(\"SDP_LOGGING\"))return Qy.upload(\"[\".concat(this.store.clientId,\"] exchanging \").concat(i,\" \").concat(t,\" SDP during P2PConnection.\").concat(n,\"\\n\"),e),\"offer\"===t?e=>{this.logSDPExchange(e,\"answer\",\"local\"===i?\"remote\":\"local\",n)}:void 0}async getRemoteSSRC(e){if(!this.remoteSDP)return;const t=this.remoteSDP.getSSRC(e);return t&&0!==t.length?t[0].ssrcId:void 0}setConfiguration(t){if(MD().supportPCSetConfiguration){const i=e.resolvePCConfiguration(t);this.peerConnection.setConfiguration(i)}}},rb(iF.prototype,\"updateRemoteRTPCapabilities\",[sF],Object.getOwnPropertyDescriptor(iF.prototype,\"updateRemoteRTPCapabilities\"),iF.prototype),rb(iF.prototype,\"connect\",[sF],Object.getOwnPropertyDescriptor(iF.prototype,\"connect\"),iF.prototype),rb(iF.prototype,\"updateRemoteConnect\",[sF],Object.getOwnPropertyDescriptor(iF.prototype,\"updateRemoteConnect\"),iF.prototype),rb(iF.prototype,\"createDataChannels\",[sF],Object.getOwnPropertyDescriptor(iF.prototype,\"createDataChannels\"),iF.prototype),rb(iF.prototype,\"receive\",[sF],Object.getOwnPropertyDescriptor(iF.prototype,\"receive\"),iF.prototype),rb(iF.prototype,\"batchReceive\",[sF],Object.getOwnPropertyDescriptor(iF.prototype,\"batchReceive\"),iF.prototype),rb(iF.prototype,\"stopReceiving\",[sF],Object.getOwnPropertyDescriptor(iF.prototype,\"stopReceiving\"),iF.prototype),rb(iF.prototype,\"muteRemote\",[sF],Object.getOwnPropertyDescriptor(iF.prototype,\"muteRemote\"),iF.prototype),rb(iF.prototype,\"unmuteRemote\",[sF],Object.getOwnPropertyDescriptor(iF.prototype,\"unmuteRemote\"),iF.prototype),rb(iF.prototype,\"muteLocal\",[sF],Object.getOwnPropertyDescriptor(iF.prototype,\"muteLocal\"),iF.prototype),rb(iF.prototype,\"unmuteLocal\",[sF],Object.getOwnPropertyDescriptor(iF.prototype,\"unmuteLocal\"),iF.prototype),rb(iF.prototype,\"close\",[sF],Object.getOwnPropertyDescriptor(iF.prototype,\"close\"),iF.prototype),rb(iF.prototype,\"updateEncoderConfig\",[sF],Object.getOwnPropertyDescriptor(iF.prototype,\"updateEncoderConfig\"),iF.prototype),rb(iF.prototype,\"updateSendParameters\",[sF],Object.getOwnPropertyDescriptor(iF.prototype,\"updateSendParameters\"),iF.prototype),rb(iF.prototype,\"replaceTrack\",[sF],Object.getOwnPropertyDescriptor(iF.prototype,\"replaceTrack\"),iF.prototype),rb(iF.prototype,\"updateAdaptation\",[sF],Object.getOwnPropertyDescriptor(iF.prototype,\"updateAdaptation\"),iF.prototype),rb(iF.prototype,\"getRemoteSSRC\",[sF],Object.getOwnPropertyDescriptor(iF.prototype,\"getRemoteSSRC\"),iF.prototype),iF);function sF(e,t,i){const n=e[t];if(\"function\"!=typeof n)throw new Error(\"Cannot use mutex on object property.\");return i.value=async function(){const e=this.mutex,i=await e.lock(\"From P2PConnection.\".concat(t));try{for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return await n.apply(this,o)}finally{i()}},i}var aF;function cF(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function dF(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?cF(Object(i),!0).forEach((function(t){og(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):cF(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function lF(e){var t,i,n,r=2;for(\"undefined\"!=typeof Symbol&&(i=OV,n=Symbol.iterator);r--;){if(i&&null!=(t=e[i]))return t.call(e);if(n&&null!=(t=e[n]))return new uF(t.call(e));i=\"@@asyncIterator\",n=\"@@iterator\"}throw new TypeError(\"Object is not async iterable\")}function uF(e){function t(e){if(Object(e)!==e)return Gh.reject(new TypeError(e+\" is not an object.\"));var t=e.done;return Gh.resolve(e.value).then((function(e){return{value:e,done:t}}))}return uF=function(e){this.s=e,this.n=e.next},uF.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var i=this.s.return;return void 0===i?Gh.resolve({value:e,done:!0}):t(i.apply(this.s,arguments))},throw:function(e){var i=this.s.return;return void 0===i?Gh.reject(e):t(i.apply(this.s,arguments))}},new uF(e)}let hF=(aF=class extends Sv{get state(){return this._state}set state(e){const t=this._state;this._state=e,this.emit(Qb.StateChange,t,this._state)}constructor(e,t){super(),og(this,\"isPlanB\",void 0),og(this,\"store\",void 0),og(this,\"statsUploader\",void 0),og(this,\"connection\",void 0),og(this,\"localTrackMap\",new Map),og(this,\"remoteUserMap\",new Map),og(this,\"localDataChannels\",[]),og(this,\"remoteDataChannelMap\",new Map),og(this,\"pendingLocalTracks\",[]),og(this,\"pendingRemoteTracks\",[]),og(this,\"pendingLocalDataChannels\",[]),og(this,\"pendingRemoteDataChannels\",[]),og(this,\"statsCollector\",void 0),og(this,\"shouldForwardP2PCreation\",void 0),og(this,\"iceFailedCount\",0),og(this,\"dtlsFailedCount\",0),og(this,\"mutex\",new hy(\"P2PChannel-mutex\")),og(this,\"_state\",Xb.Disconnected),og(this,\"_pcStatsUploadType\",Dy(\"NEW_ICE_RESTART\")?zb.FIRST_CONNECTION:zb.OLD_FIRST_CONNECTION),og(this,\"_isInRestartIce\",!1),og(this,\"_isStartRestartIce\",!1),og(this,\"_restartStates\",[\"disconnected\",\"failed\"]),og(this,\"_restartTimer\",void 0),og(this,\"_isFirstConnected\",!0),og(this,\"handleMuteLocalTrack\",(async(e,t,i)=>{const n=await this.mutex.lock(\"Locking from P2PChannel.handleMuteLocalTrack\");try{if(!this.connection||this.state!==Xb.Connected)return void i(new rv(nv.INVALID_OPERATION,\"Cannot call P2PChannel.handleMuteLocalTrack before connection established.\"));const r=this.filterTobeMutedTracks(e);if(0===r.length)return void t();const o=r.find((e=>\"videoLowTrack\"===e[0]));if(o){o[1].track._originMediaStreamTrack.stop()}await this.connection.muteLocal(r.map((e=>{let[,{id:t}]=e;return t})));const s=this.createMuteMessage(r);await Mv(this,Qb.RequestMuteLocal,s),t()}catch(e){i(e)}finally{n()}})),og(this,\"handleUnmuteLocalTrack\",(async(e,t,i)=>{const n=await this.mutex.lock(\"Locking from P2PChannel.handleUnmuteLocalTrack\");try{if(!this.connection||this.state!==Xb.Connected)return void i(new rv(nv.INVALID_OPERATION,\"Cannot call P2PChannel.handleUnmuteLocalTrack before connection established.\"));const r=this.filterTobeUnmutedTracks(e);if(0===r.length)return void t();const o=r.find((e=>\"videoLowTrack\"===e[0]));if(o){const t=o[1];if(t.track._originMediaStreamTrack.stop(),!Dy(\"DISABLE_DUAL_STREAM_USE_ENCODING\")&&MD().supportDualStreamEncoding){const i=e._mediaStreamTrack.clone();t.track._mediaStreamTrack=i,t.track._originMediaStreamTrack=i}else{const i=Fx(e,xv(this,Qb.RequestLowStreamParameter));t.track._mediaStreamTrack=i,t.track._originMediaStreamTrack=i}await new Gh(((e,i)=>{this.handleReplaceTrack(t.track,e,i,!0)}))}await this.connection.unmuteLocal(r.map((e=>{let[,{id:t}]=e;return t})));const s=this.createUnmuteMessage(r);await Mv(this,Qb.RequestUnmuteLocal,s),t()}catch(e){i(e)}finally{n()}})),og(this,\"handleUpdateVideoEncoder\",(async(e,t,i)=>{const n=await this.mutex.lock(\"Locking from P2PChannel.handleSetVideoEncoder\");try{const i=this.localTrackMap.get(Jb.LocalVideoTrack);if(!this.connection||!i||i.track!==e||this.state!==Xb.Connected)return void t();const{id:r,track:o}=i;await this.connection.updateSendParameters(r,o),await this.connection.updateEncoderConfig(r,o),this.emit(Qb.UpdateVideoEncoder,o),t()}catch(e){i(e)}finally{n()}})),og(this,\"handleUpdateVideoSendParameters\",(async(e,t,i)=>{const n=await this.mutex.lock(\"Locking from P2PChannel.handleUpdateVideoSendParameters\");try{const i=this.localTrackMap.get(Jb.LocalVideoTrack);if(!this.connection||!i||i.track!==e||this.state!==Xb.Connected)return void t();const{id:r,track:o}=i;await this.connection.updateSendParameters(r,o),t()}catch(e){i(e)}finally{n()}})),og(this,\"handleReplaceMixingTrack\",(async(e,t,i,n)=>{if(!this.connection||this.state!==Xb.Connected)return void t();const r=sV([e]);let o;Qy.debug(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection will replace audioTrack [\").concat(r.getTrackId(),\"]\")),\"boolean\"==typeof n&&n||(o=await this.mutex.lock(\"From P2PChannel.handleReplaceMixingTrack\"));try{await this.replaceTrack(e,r),t()}catch(e){i(e)}finally{var s;null===(s=o)||void 0===s||s()}})),og(this,\"handleReplaceTrack\",(async(e,t,i,n)=>{let r;Qy.debug(\"[\".concat(this.store.clientId,\"] P2PChannel handleReplaceTrack for [track-id-\").concat(e.getTrackId(),\"]\")),\"boolean\"==typeof n&&n||(r=await this.mutex.lock(\"From P2PChannel.handleReplaceTrack\"));try{var o;const i=Array.from(this.localTrackMap.entries()).find((t=>{let[,{track:i}]=t;return e===i}));if(!this.connection||!i||this.state!==Xb.Connected)return void t();if(await(null===(o=this.connection)||void 0===o?void 0:o.replaceTrack(e,i[1].id)),this.isPlanB){const t=i[1];t.id=e._mediaStreamTrack.id,this.localTrackMap.set(i[0],t)}if(i[0]===Jb.LocalVideoTrack&&!Dy(\"DISABLE_DUAL_STREAM_USE_ENCODING\")&&MD().supportDualStreamEncoding){const t=this.localTrackMap.get(Jb.LocalVideoLowTrack);if(t){const i=e._mediaStreamTrack.clone();t.track._originMediaStreamTrack.stop(),t.track._mediaStreamTrack=i,t.track._originMediaStreamTrack=i,await new Gh(((e,i)=>{this.handleReplaceTrack(t.track,e,i,!0)}))}}t()}catch(e){i(e)}finally{var s;null===(s=r)||void 0===s||s()}})),og(this,\"handleGetRTCStats\",(e=>{e(this.statsCollector.getRTCStats())})),og(this,\"handleGetLocalVideoStats\",(e=>{e(this.statsCollector.getLocalVideoTrackStats())})),og(this,\"handleGetLocalAudioStats\",(e=>{e(this.statsCollector.getLocalAudioTrackStats())})),og(this,\"handleGetRemoteVideoStats\",(e=>this.statsCollector.getRemoteVideoTrackStats(e.uid)[e.uid])),og(this,\"handleGetRemoteAudioStats\",(e=>this.statsCollector.getRemoteAudioTrackStats(e.uid)[e.uid])),this.store=e,this.statsCollector=t,this.statsCollector.addP2PChannel(this),this.statsUploader=new tV(this.store),this.bindStatsUploaderEvents(),this.isPlanB=!MD().supportUnifiedPlan||Dy(\"CHROME_FORCE_PLAN_B\")&&QI(),this.shouldForwardP2PCreation=Dy(\"FORWARD_P2P_CREATION\")&&MD().supportPCSetConfiguration&&XI(),this.shouldForwardP2PCreation&&(this.connection=this.isPlanB?new MV({},this.store):new oF({},this.store),this.bindConnectionEvents(this.connection))}async startP2PConnection(e){var t;this.state=Xb.New;const i=this.shouldForwardP2PCreation&&\"closed\"===(null===(t=this.connection)||void 0===t?void 0:t.peerConnectionState);if(this.shouldForwardP2PCreation&&!i||(i&&this.connection&&(Qy.warning(\"[\".concat(this.store.clientId,\"] P2PChannel.startP2PConnection ForwardP2P closed.\")),this.connection.close(),this.unbindConnectionEvents(this.connection)),this.connection=this.isPlanB?new MV(e,this.store):new oF(e,this.store),this.bindConnectionEvents(this.connection)),!this.connection)throw new rv(nv.UNEXPECTED_ERROR,\"Cannot P2PChannel.startConnection before P2PConnection initialization .\");return this._pcStatsUploadType=Dy(\"NEW_ICE_RESTART\")?zb.FIRST_CONNECTION:zb.OLD_FIRST_CONNECTION,this._isFirstConnected=!0,this._isInRestartIce=!1,this._isStartRestartIce=!1,this.connection.setConfiguration(e),this.connection.establishPromise}async connect(e){if(!this.connection)throw new rv(nv.UNEXPECTED_ERROR,\"Cannot P2PChannel.connect before P2PChannel.startP2PConnection .\");Dy(\"ENABLE_PREALLOC_PC\")&&this.state===Xb.Connected?await this.connection.updateRemoteConnect(e):(this.store.peerConnectionStart(),await this.connection.connect(e),this.statsUploader.startUploadTransportStats(),this.statsUploader.startUploadExtensionUsageStats(),this.state=Xb.Connected)}updateRemoteRTPCapabilities(e){const t=Array.from(this.localTrackMap.entries()).filter((e=>{var t;let[i]=e;return Dn(t=[Jb.LocalVideoLowTrack,Jb.LocalVideoTrack]).call(t,i)})),i=t.map((e=>{let[,{id:t}]=e;return t})),n=t.map((e=>{let[t]=e;return t}));if(this.connection instanceof oF){if(sA.updateRemoteRTPCapabilities(this.store.sessionId,{trackTypes:JSON.stringify(n),localCodecs:JSON.stringify(this.connection.localCodecs),remoteCodecs:JSON.stringify(e)}),!Dn(e).call(e,this.store.codec)){const t=[\"vp9\",\"vp8\",\"h264\"].find((t=>Dn(e).call(e,t)));t&&(this.store.codec=t,Qy.debug(\"[\".concat(this.store.clientId,\"] [\").concat(this.store.p2pId,\" updateRemoteRTPCapabilities] default codec is not available, hence the fallback to \").concat(t,\".\")))}this.connection.updateRemoteRTPCapabilities(i,e)}}async getEstablishParams(){var e;if(this.connection instanceof oF&&\"closed\"!==this.connection.peerConnectionState&&Dn(e=[Xb.New,Xb.Connected]).call(e,this.state))return this.connection.establishPromise}async publishDataChannel(e){if(!this.connection||this.state!==Xb.Connected){if(this.state===Xb.Disconnected)throw new rv(nv.UNEXPECTED_ERROR,\"PeerConnection already disconnected.\");return e.forEach((e=>{var t;Dn(t=this.pendingLocalDataChannels).call(t,e)||this.pendingLocalDataChannels.push(e)})),[]}const t=this.filterTobePublishedDataChannels(e);return 0===t.length?[]:(t.forEach((e=>{const t=Date.now();this.store.publish(e.id.toString(),\"datachannel\",t)})),await this.connection.createDataChannels(this.store.uid,t),t.forEach((e=>{this.localDataChannels.push(e);const t=Date.now();this.store.publish(e.id+\"\",\"datachannel\",void 0,t)})),e.map((e=>({streamId:e.id,ordered:e.ordered,maxRetransmits:e.maxRetransmits,metadata:e.metadata,channelId:e._originDataChannelId}))))}publish(e,t,i){var n=this;return ZU((function*(){const r=yield WU(n.mutex.lock(\"From P2PChannel.publish\"));try{if(!n.connection||n.state!==Xb.Connected){if(n.state===Xb.Disconnected)throw new rv(nv.UNEXPECTED_ERROR,\"PeerConnection already disconnected.\");n.throwIfTrackTypeNotMatch(e);const t=e.filter((e=>-1===n.pendingLocalTracks.indexOf(e)));return void(n.pendingLocalTracks=n.pendingLocalTracks.concat(t))}n.store.pubId=n.store.pubId+1,jU.markPublishStart(n.store.clientId,n.store.pubId);const o=n.filterTobePublishedTracks(e,t,i);if(0===o.length)return void(yield WU(n.tryToUnmuteAudio(e)));yield*wV(lF(n.doPublish(n.connection,o)))}finally{r()}}))()}doPublish(e,t){var i=this;return ZU((function*(){t.forEach((e=>{let{track:t,type:n}=e;const r=Date.now();i.store.publish(t.getTrackId(),n===Jb.LocalAudioTrack?\"audio\":\"video\",r)})),i.bindLocalTrackEvents(t);const n=t.map((e=>{let{track:t}=e;return t})),r=yield WU(e.send(t.map((e=>{let{track:t}=e;return t})),i.store.codec,i.store.audioCodec)),o=(yield WU(r.next())).value,s=i.createGatewayPublishMessage(t,o);let a;try{a=yield s}catch(e){throw r.throw(e),(null==e?void 0:e.code)===nv.WS_ABORT&&t.forEach((e=>{let{track:t}=e;-1===i.pendingLocalTracks.indexOf(t)&&i.pendingLocalTracks.push(t)})),i.unbindLocalTrackEvents(t),e}const c=i.mapPubResToRemoteConfig(s,a),d=(yield WU(r.next(c))).value,l=Dy(\"ENABLE_VIDEO_SEI\");n.forEach((async e=>{const t=e.getRTCRtpTransceiver();t&&l&&(e.trackMediaType===Yb.VIDEO?await fM(t.sender,e):e.trackMediaType===Yb.AUDIO&&await async function(e){if(!MD().supportWebRTCEncodedTransform)return void Qy.warning(\"browser not support audio encoded transform\");if(pM.has(e))return;if(!e.track)return;const t={track:e.track};if(DI()){if(!e.createEncodedStreams)return void Qy.warning(\"browser not support createEncodedStreams() API\");let n=null;try{n=e.createEncodedStreams()}catch(e){return void Qy.error(\"create audio-encoded-streams error\",e&&e.message)}const r=new TransformStream({transform(n,r){t.controller||(t.controller=r),e.track&&e.track.id!==t.track.id&&(Qy.debug(\"audio track changed: \".concat(t.track.id,\" => \").concat(e.track.id)),t.track.removeEventListener(\"ended\",i),t.track=e.track,t.track.addEventListener(\"ended\",i)),r.enqueue(n)}});n.readable.pipeThrough(r).pipeTo(n.writable)}else if(PI()){if(\"undefined\"==typeof RTCRtpScriptTransform)return void Qy.warning(\"browser not support RTCRtpScriptTransform\");const n=hM(),r=new MessageChannel;await new Gh((e=>n.onmessage=t=>{\"registered\"===t.data&&e(void 0)}));const o=new RTCRtpScriptTransform(n,{name:\"tx\",port:r.port2},[r.port2]);e.transform=o,await new Gh((e=>n.onmessage=t=>{\"started\"===t.data&&e(void 0)})),r.port1.onmessage=n=>{var r;n.data.transformed&&e.track&&(null===(r=e.track)||void 0===r?void 0:r.id)!==t.track.id&&(Qy.debug(\"audio track changed: \".concat(t.track.id,\" => \").concat(e.track.id)),t.track.removeEventListener(\"ended\",i),t.track=e.track,t.track.addEventListener(\"ended\",i))},t.worker=n}function i(){if(e.track){if(this.id!==e.track.id)return;e.track.removeEventListener(\"ended\",i)}const t=pM.get(e);if(t){pM.delete(e);try{var n,r;null===(n=t.controller)||void 0===n||n.terminate(),null===(r=t.worker)||void 0===r||r.terminate()}catch(e){Qy.warning(e&&e.message)}}}pM.set(e,t),e.track.addEventListener(\"ended\",i)}(t.sender))})),t.forEach((e=>{let{type:t}=e;i.statsCollector.addLocalStats(t)})),i.assignLocalTracks(t,d),i.statsUploader.startUploadOutboundStats(),t.forEach((e=>{let{track:t,type:n}=e;const r=Date.now();i.store.publish(t.getTrackId(),n===Jb.LocalAudioTrack?\"audio\":\"video\",void 0,r)}))}))()}async updateVideoStreamParameter(e,t){const i=this.localTrackMap.get(t);if(!i)return;if(!(i.track instanceof Hk))return Qy.warn(\"[updateVideoStreamParameter]: track is not an instance of LocalVideoTrack\");if(!(this.connection instanceof oF||this.connection instanceof MV))return Qy.warn(\"[updateVideoStreamParameter]: connection is not P2PConnection or P2PConnectionPlanB\");const{track:n}=i,r=function(e,t){const i={};return e.height&&e.width&&(i.scaleResolutionDownBy=Fw(e,t)),i.maxFramerate=e.framerate?kw(e.framerate):void 0,i.maxBitrate=e.bitrate?1e3*e.bitrate:void 0,i}(e,n);if(n._encoderConfig||(n._encoderConfig={}),t!==Jb.LocalVideoLowTrack||!Dy(\"DISABLE_DUAL_STREAM_USE_ENCODING\")&&MD().supportDualStreamEncoding)null!=r.scaleResolutionDownBy&&(n._encoderConfig.scaleResolutionDownBy=r.scaleResolutionDownBy);else{const t=n._originMediaStreamTrack;if(!t.canvas)return Qy.warn(\"[\".concat(n.getTrackId(),\"] no canvas on track\"));!function(e,t){const i=e.canvas;t.width&&(i.width=kw(t.width)),t.height&&(i.height=kw(t.height)),t.framerate&&(i.stopCapture&&i.stopCapture(),i.stopCapture=kP((()=>{!i.startCapture&&i.stopCapture&&i.stopCapture(),i.startCapture&&i.startCapture()}),kw(t.framerate)))}(t,e)}null!=r.maxBitrate&&(n._encoderConfig.bitrateMax=r.maxBitrate/1e3),null!=r.maxFramerate&&(n._encoderConfig.frameRate&&\"object\"==typeof n._encoderConfig.frameRate?n._encoderConfig.frameRate.max=r.maxFramerate:n._encoderConfig.frameRate={max:r.maxFramerate}),Qy.debug(\"[\".concat(n.getTrackId(),\"] LowStreamEncoderConfig: , \").concat(JSON.stringify(n._encoderConfig))),await this.connection.updateRtpSenderEncodings(n)}publishLowStream(e){var t=this;return ZU((function*(){if(!t.connection||t.state!==Xb.Connected)return;const i=yield WU(t.mutex.lock(\"Locking from P2PChannel.publishLowStream\"));try{const r=t.localTrackMap.get(Jb.LocalVideoTrack);if(!r)throw new rv(nv.UNEXPECTED_ERROR,\"Could not find high stream\");if(t.localTrackMap.has(Jb.LocalVideoLowTrack))throw new rv(nv.UNEXPECTED_ERROR,\"[\".concat(t.store.clientId,\"] Can't publish low stream when stream already publish\"));const o=[{track:t.getLowVideoTrack(r.track,e),type:Jb.LocalVideoLowTrack}];if(yield*wV(lF(t.doPublish(t.connection,o))),r.track.muted||!r.track.enabled){var n;const e=null===(n=t.localTrackMap.get(Jb.LocalVideoLowTrack))||void 0===n?void 0:n.id;void 0!==e&&(yield WU(t.connection.muteLocal([e])))}}finally{i()}}))()}async republish(){this.pendingLocalTracks.length>0&&(Qy.debug(\"[\".concat(this.store.clientId,\"] Emit P2PChannelEvents.RequestRePublish to republish tracks.\")),await kv(this,Qb.RequestRePublish,this.pendingLocalTracks),this.emit(Qb.MediaReconnectEnd,this.store.uid),this.pendingLocalTracks=[]),this.pendingLocalDataChannels.length>0&&(Qy.debug(\"Emit P2PChannelEvents.RequestRePublishDataChannel to republish datachannels.\"),await kv(this,Qb.RequestRePublishDataChannel,this.pendingLocalDataChannels),this.pendingLocalDataChannels=[])}async reSubscribe(e){for(let e=this.pendingRemoteTracks.length-1;e>=0;e--){const{user:t,kind:i}=this.pendingRemoteTracks[e];(i!==Yb.AUDIO||t._audio_added_&&t._audioSSRC)&&(i!==Yb.VIDEO||t._video_added_&&t._videoSSRC)||this.pendingRemoteTracks.splice(e,1)}if(e)await kv(this,Qb.RequestReSubscribe,this.pendingRemoteTracks);else for(const{user:e,kind:t}of this.pendingRemoteTracks)await this.subscribe(e,t,t===Yb.VIDEO?e._videoSSRC:e._audioSSRC);this.pendingRemoteTracks.forEach((e=>{let{user:t}=e;this.emit(Qb.MediaReconnectEnd,t.uid)})),this.pendingRemoteTracks=[]}async unpublish(e){if(!this.connection||this.state!==Xb.Connected)return void e.forEach((e=>{const t=this.pendingLocalTracks.indexOf(e);-1!==t&&this.pendingLocalTracks.splice(t,1)}));const t=this.filterTobeUnpublishedTracks(e);if(0===t.length)return;const i=t.find((e=>\"videoLowTrack\"===e[0]));if(i){i[1].track.close()}return this.doUnpublish(this.connection,t)}async unpublishDataChannel(e){if(!this.connection||this.state!==Xb.Connected)return void e.forEach((e=>{const t=this.pendingLocalDataChannels.indexOf(e);-1!==t&&this.pendingLocalDataChannels.splice(t,1)}));const t=this.filterTobeUnpublishedDataChannels(e);return 0!==t.length?(t.forEach((e=>{const t=this.localDataChannels.indexOf(e);-1!==t&&this.localDataChannels.splice(t,1)})),0===this.localDataChannels.length&&await this.connection.stopDataChannels(this.store.uid),t.map((e=>e.id))):void 0}async unpublishLowStream(){if(!this.connection||this.state!==Xb.Connected)return;const e=this.localTrackMap.get(Jb.LocalVideoLowTrack);if(!e)return;e.track.close();const t=[[Jb.LocalVideoLowTrack,e]];return this.doUnpublish(this.connection,t)}async doUnpublish(e,t){const i=this.createGatewayUnpublishMessage(t);return await e.stopSending(t.map((e=>{let[,{id:t}]=e;return t}))),this.withdrawLocalTracks(t),this.unbindLocalTrackEvents(t.map((e=>{let[t,{track:i}]=e;return{type:t,track:i}}))),t.forEach((e=>{let[t]=e;this.statsCollector.removeLocalStats(t)})),0===this.localTrackMap.size&&this.statsUploader.stopUploadOutboundStats(),i}async subscribeDataChannel(e,t){if(!this.connection||this.state!==Xb.Connected)throw new rv(nv.INVALID_OPERATION,\"Cannot subscribe remote user when peerConnection disconnected.\");const i=t.filter((t=>{var i;return!(null!==(i=this.remoteDataChannelMap.get(e))&&void 0!==i&&i.get(t.id))}));if(0!==i.length)return await this.connection.createDataChannels(e.uid,i),i.forEach((t=>{var i;this.remoteDataChannelMap.has(e)?null===(i=this.remoteDataChannelMap.get(e))||void 0===i||i.set(t.id,t):this.remoteDataChannelMap.set(e,new Map([[t.id,t]]));const n=this.pendingRemoteDataChannels.findIndex((i=>{let{user:n,id:r}=i;return n.uid===e.uid&&r===t.id}));-1!==n&&this.pendingRemoteDataChannels.splice(n,1)})),i.map((e=>e.id))}async subscribe(e,t,i,n,r){var o;if(!this.connection||this.state!==Xb.Connected)throw new rv(nv.INVALID_OPERATION,\"Cannot subscribe remote user when peerConnection disconnected.\");if(null!==(o=this.remoteUserMap.get(e))&&void 0!==o&&o.has(t))return;let s,a,c;const d=this.connection.getPreMedia(i);if(d)Qy.debug(\"[\".concat(this.store.clientId,\"] [\").concat(this.store.p2pId,\"] preSSRCMap has ssrcId: \").concat(i,\", no need to send sub to gateway.\")),c=d.transceiver,s=d.track,a=d.id;else if(r){const i=r.find((e=>{let{stream_type:i}=e;return i===t}));if(!i)throw new rv(nv.UNEXPECTED_ERROR,\"Cannot subscribe to remote \".concat(t,\" for user: \").concat(e.uid,\" because subscribe answer from gateway does not contain stream_type: \").concat(t,\".\"));const n=await this.connection.receive(t,i.ssrcs,String(e._uintid),i.attributes);this.connection instanceof oF&&(c=n.transceiver),s=n.track,a=n.id}else{const r=await this.connection.receive(t,[{ssrcId:i,rtx:n}],String(e._uintid),void 0);this.connection instanceof oF&&(c=r.transceiver),s=r.track,a=r.id}t===Yb.AUDIO?(e._audioTrack?e._audioTrack._updateOriginMediaStreamTrack(s):(e._audioTrack=new aM(s,e.uid,e._uintid,this.store),Qy.info(\"[\".concat(this.store.clientId,\"] [\").concat(this.store.p2pId,\"] create remote audio track: \").concat(e._audioTrack.getTrackId()))),c&&e._audioTrack._updateRtpTransceiver(c),this.bindRemoteTrackEvents(e,e._audioTrack)):(e._videoTrack?e._videoTrack._updateOriginMediaStreamTrack(s):(e._videoTrack=new sM(s,e.uid,e._uintid,this.store),Qy.info(\"[\".concat(this.store.clientId,\"] [\").concat(this.store.p2pId,\"] create remote video track: \").concat(e._videoTrack.getTrackId()))),c&&e._videoTrack._updateRtpTransceiver(c),this.bindRemoteTrackEvents(e,e._videoTrack)),Dy(\"ENABLE_VIDEO_SEI\")&&c&&(t==Yb.VIDEO?await async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!MD().supportWebRTCEncodedTransform)return void Qy.warning(\"browser not support video encoded transform\");if(!e.track)return;if(TM.has(e)){const i=TM.get(e);return void(i&&(i.onSei=t.onSei))}const i={track:e.track,onSei:t.onSei};if(DI()){if(!e.createEncodedStreams)return void Qy.warning(\"browser not support createEncodedStreams() API\");let t=null;try{t=e.createEncodedStreams()}catch(e){return void Qy.error(\"create video-encoded-streams error\",e&&e.message)}const r=new TransformStream({transform(t,r){i.controller||(i.controller=r),e.track&&e.track.id!==i.track.id&&(Qy.debug(\"video track changed: \".concat(i.track.id,\" => \").concat(e.track.id)),i.track.removeEventListener(\"ended\",n),i.track=e.track,i.track.addEventListener(\"ended\",n));const o=function(e){const t=new DataView(e.data);let i=0;for(;i+4<e.data.byteLength;){if(0===t.getUint8(i+0)&&0===t.getUint8(i+1)&&0===t.getUint8(i+2)&&1===t.getUint8(i+3)&&6===t.getUint8(i+4)){let n=i+6,r=0,o=0;for(;255===(o=t.getUint8(n++));)r+=255;r+=o;const s=EM(e.data,n,r);return new Uint8Array(s)}i++}return null}(t);o&&i.onSei&&i.onSei(o),r.enqueue(t)}});t.readable.pipeThrough(r).pipeTo(t.writable)}else if(PI()){if(\"undefined\"==typeof RTCRtpScriptTransform)return void Qy.warning(\"browser not support RTCRtpScriptTransform\");const t=hM(),r=new MessageChannel;await new Gh((e=>t.onmessage=t=>{\"registered\"===t.data&&e(void 0)}));const o=new RTCRtpScriptTransform(t,{name:\"rx\",port:r.port2},[r.port2]);e.transform=o,await new Gh((e=>t.onmessage=t=>{\"started\"===t.data&&e(void 0)})),r.port1.onmessage=t=>{var r;t.data.transformed&&e.track&&(null===(r=e.track)||void 0===r?void 0:r.id)!==i.track.id?(Qy.debug(\"video track changed: \".concat(i.track.id,\" => \").concat(e.track.id)),i.track.removeEventListener(\"ended\",n),i.track=e.track,i.track.addEventListener(\"ended\",n)):t.data.sei&&i.onSei&&i.onSei(t.data.sei)},i.worker=t}function n(){if(e.track){if(this.id!==e.track.id)return;e.track.removeEventListener(\"ended\",n)}!function(e){const t=TM.get(e);if(t){TM.delete(e);try{var i,n;null===(i=t.controller)||void 0===i||i.terminate(),null===(n=t.worker)||void 0===n||n.terminate()}catch(e){Qy.warning(e&&e.message)}}}(e)}TM.set(e,i),e.track.addEventListener(\"ended\",n)}(c.receiver,{onSei:t=>{var i;null===(i=e._videoTrack)||void 0===i||i._onSei(t)}}):t==Yb.AUDIO&&await async function(e){if(!MD().supportWebRTCEncodedTransform)return void Qy.warning(\"browser not support audio encoded transform\");if(_M.has(e))return;const t={track:e.track};if(DI()){if(!e.createEncodedStreams)return void Qy.warning(\"browser not support createEncodedStreams() API\");let n=null;try{n=e.createEncodedStreams()}catch(e){return void Qy.error(\"create audio-encoded-streams error\",e&&e.message)}const r=new TransformStream({transform(n,r){t.controller||(t.controller=r),e.track&&e.track.id!==t.track.id&&(Qy.debug(\"audio track changed: \".concat(t.track.id,\" => \").concat(e.track.id)),t.track.removeEventListener(\"ended\",i),t.track=e.track,t.track.addEventListener(\"ended\",i)),r.enqueue(n)}});n.readable.pipeThrough(r).pipeTo(n.writable)}else if(PI()){if(\"undefined\"==typeof RTCRtpScriptTransform)return void Qy.warning(\"browser not support RTCRtpScriptTransform\");const n=hM(),r=new MessageChannel;await new Gh((e=>n.onmessage=t=>{\"registered\"===t.data&&e(void 0)}));const o=new RTCRtpScriptTransform(n,{name:\"rx\",port:r.port2},[r.port2]);e.transform=o,await new Gh((e=>n.onmessage=t=>{\"started\"===t.data&&e(void 0)})),r.port1.onmessage=n=>{var r;n.data.transformed&&e.track&&(null===(r=e.track)||void 0===r?void 0:r.id)!==t.track.id&&(Qy.debug(\"audio track changed: \".concat(t.track.id,\" => \").concat(e.track.id)),t.track.removeEventListener(\"ended\",i),t.track=e.track,t.track.addEventListener(\"ended\",i))},t.worker=n}function i(){e.track.removeEventListener(\"ended\",i),function(e){const t=_M.get(e);if(t){_M.delete(e);try{var i,n;null===(i=t.controller)||void 0===i||i.terminate(),null===(n=t.worker)||void 0===n||n.terminate()}catch(e){Qy.warning(e&&e.message)}}}(e)}_M.set(e,t),e.track.addEventListener(\"ended\",i)}(c.receiver));const l=this.remoteUserMap.get(e);l?l.set(t,a):this.remoteUserMap.set(e,new Map([[t,a]])),this.statsCollector.addRemoteStats(e.uid),this.statsUploader.startUploadInboundStats();const u=this.pendingRemoteTracks.findIndex((i=>{let{user:n,kind:r}=i;return n.uid===e.uid&&t===r}));-1!==u&&(this.pendingRemoteTracks.splice(u,1),this.emit(Qb.MediaReconnectEnd,e.uid))}async massSubscribe(e){return this.massSubscribeNoLock(e)}async massSubscribeNoLock(e){if(!this.connection||this.state!==Xb.Connected)throw new rv(nv.INVALID_OPERATION,\"Cannot subscribeAll remote users when peerConnection disconnected.\");e=e.filter((e=>{var t;let{user:i,mediaType:n}=e;return!(null!==(t=this.remoteUserMap.get(i))&&void 0!==t&&t.has(n))}));const t=[],i=new Map;e.forEach((e=>{if(!this.connection)return;const n=this.connection.getPreMedia(e.ssrcId);n?i.set(e.ssrcId,n):t.push(e)}));const n=await this.connection.batchReceive(t.map((e=>{let{user:t,mediaType:i,ssrcId:n,rtxSsrcId:r}=e;return{kind:i,ssrcMsg:[{ssrcId:n,rtx:r}],mslabel:String(t._uintid)}})));t.forEach(((e,t)=>{i.set(e.ssrcId,n[t])})),e.forEach((e=>{let{user:t,mediaType:n,ssrcId:r}=e;const o=i.get(r);if(!o)return void Qy.debug(\"[\".concat(this.store.clientId,\"] [\").concat(this.store.p2pId,\"] cannot find \").concat(t.uid,\" subscribe data,\").concat(n,\", \").concat(r));const{track:s,id:a,transceiver:c}=o;n===Yb.AUDIO?(t._audioTrack?t._audioTrack._updateOriginMediaStreamTrack(s):(t._audioTrack=new aM(s,t.uid,t._uintid,this.store),Qy.info(\"[\".concat(this.store.clientId,\"] [\").concat(this.store.p2pId,\"] create remote audio track: \").concat(t._audioTrack.getTrackId()))),c&&t._audioTrack._updateRtpTransceiver(c),this.bindRemoteTrackEvents(t,t._audioTrack)):(t._videoTrack?t._videoTrack._updateOriginMediaStreamTrack(s):(t._videoTrack=new sM(s,t.uid,t._uintid,this.store),Qy.info(\"[\".concat(this.store.clientId,\"] [\").concat(this.store.p2pId,\"] create remote video track: \").concat(t._videoTrack.getTrackId()))),c&&t._videoTrack._updateRtpTransceiver(c),this.bindRemoteTrackEvents(t,t._videoTrack));const d=this.remoteUserMap.get(t);d?d.set(n,a):this.remoteUserMap.set(t,new Map([[n,a]])),this.statsCollector.addRemoteStats(t.uid),this.statsUploader.startUploadInboundStats();const l=this.pendingRemoteTracks.findIndex((e=>{let{user:i,kind:r}=e;return i.uid===t.uid&&n===r}));-1!==l&&(this.pendingRemoteTracks.splice(l,1),this.emit(Qb.MediaReconnectEnd,t.uid))}))}async unsubscribe(e,t,i){const n=this.pendingRemoteTracks.filter((i=>{let{user:n,kind:r}=i;return void 0!==t?n.uid===e.uid&&t===r:n.uid===e.uid}));if(n.forEach((e=>{const t=this.pendingRemoteTracks.indexOf(e);this.pendingRemoteTracks.splice(t,1)})),this.connection&&this.state===Xb.Connected||i||n.forEach((t=>{let{kind:i}=t;var n;if(i===Yb.AUDIO)null===(n=e._audioTrack)||void 0===n||n._destroy(),e._audioTrack=void 0;else if(i===Yb.VIDEO){var r;null===(r=e._videoTrack)||void 0===r||r._destroy(),e._videoTrack=void 0}})),!this.connection||this.state!==Xb.Connected)return;const r=this.filterTobeUnSubscribedTracks(e,t);if(0===r.length)return;await this.connection.stopReceiving(r.map((e=>{let[,{id:t}]=e;return t})));const o=this.createUnsubscribeMessage(r);return this.withdrawRemoteTracks(r),0===this.remoteUserMap.size&&this.statsUploader.stopUploadInboundStats(),r.forEach((e=>{let[t,{kind:n}]=e;var r,o;n===Yb.VIDEO&&t._videoSSRC&&(null===(r=this.connection)||void 0===r||r.setStatsRemoteVideoIsReady(t._videoSSRC,!1));if(n===Yb.VIDEO)this.unbindRemoteTrackEvents(t._videoTrack),i||(null===(o=t._videoTrack)||void 0===o||o._destroy(),t._videoTrack=void 0);else if(n===Yb.AUDIO){var s;if(this.unbindRemoteTrackEvents(t._audioTrack),!i)null===(s=t._audioTrack)||void 0===s||s._destroy(),t._audioTrack=void 0}})),o}async unsubscribeDataChannel(e,t){if(t.forEach((e=>{const t=this.pendingRemoteDataChannels.findIndex((t=>t.id===e.id));-1!==t&&this.pendingRemoteDataChannels.splice(t,1)})),!this.connection)return;const i=this.filterTobeUnSubscribedDataChannels(e,t);if(0===i.length)return;t.forEach((e=>{e._close()}));const n=this.remoteDataChannelMap.get(e);return i.forEach((e=>{n&&n.delete(e.id)})),n&&0===n.size&&(this.remoteDataChannelMap.delete(e),await this.connection.stopDataChannels(e.uid)),i.map((e=>e.id))}async massUnsubscribe(e){return this.massUnsubscribeNoLock(e)}async massUnsubscribeNoLock(e){let t=[];for(const{user:i,mediaType:n}of e){const e=this.pendingRemoteTracks.filter((e=>{let{user:t,kind:r}=e;return void 0!==n?t.uid===i.uid&&n===r:t.uid===i.uid}));e.forEach((e=>{const t=this.pendingRemoteTracks.indexOf(e);this.pendingRemoteTracks.splice(t,1)})),t=t.concat(e)}if(!this.connection||this.state!==Xb.Connected)return void t.forEach((e=>{let{user:t,kind:i}=e;var n;if(i===Yb.AUDIO)null===(n=t._audioTrack)||void 0===n||n._destroy(),t._audioTrack=void 0;else if(i===Yb.VIDEO){var r;null===(r=t._videoTrack)||void 0===r||r._destroy(),t._videoTrack=void 0}}));const i=Jn(e).call(e,((e,t)=>{let{user:i,mediaType:n}=t;const r=this.filterTobeUnSubscribedTracks(i,n);return e.concat(r)}),[]);if(0===i.length)return;await this.connection.stopReceiving(i.map((e=>{let[,{id:t}]=e;return t})));const n=this.createUnsubscribeAllMessage(i);return this.withdrawRemoteTracks(i),0===this.remoteUserMap.size&&this.statsUploader.stopUploadInboundStats(),i.forEach((e=>{let[t,{kind:i}]=e;var n,r;i===Yb.VIDEO&&t._videoSSRC&&(null===(n=this.connection)||void 0===n||n.setStatsRemoteVideoIsReady(t._videoSSRC,!1));if(i===Yb.VIDEO)this.unbindRemoteTrackEvents(t._videoTrack),null===(r=t._videoTrack)||void 0===r||r._destroy(),t._videoTrack=void 0;else if(i===Yb.AUDIO){var o;this.unbindRemoteTrackEvents(t._audioTrack),null===(o=t._audioTrack)||void 0===o||o._destroy(),t._audioTrack=void 0}})),n}isPreSubScribe(e){if(!this.connection||this.state!==Xb.Connected)return!1;return!!this.connection.getPreMedia(e)}async muteRemote(e,t){if(!this.connection)return;const i=this.remoteUserMap.get(e);if(!i)return void Qy.warning(\"[\".concat(this.store.clientId,\"] P2PChannel.muteRemote has no remote user \").concat(e.uid,\".\"));if(!i.get(t))return void Qy.warning(\"[\".concat(this.store.clientId,\"] P2PChannel.muteRemote has no remote user \").concat(e.uid,\" media type \").concat(t,\".\"));const n=t===Yb.VIDEO?e._videoSSRC:e._audioSSRC;void 0!==n&&this.connection.setStatsRemoteVideoIsReady(n,!1)}async unmuteRemote(e,t){return this.unmuteRemoteNoLock(e,t)}async unmuteRemoteNoLock(e,t){if(!this.connection)return;const i=this.remoteUserMap.get(e);if(!i)return void Qy.warning(\"[\".concat(this.store.clientId,\"] P2PChannel.unmuteRemote has no remote user \").concat(e.uid,\".\"));i.get(t)||Qy.warning(\"[\".concat(this.store.clientId,\"] P2PChannel.unmuteRemote has no remote user \").concat(e.uid,\" media type \").concat(t,\".\"))}getAllTracks(e){const t=this.localTrackMap.get(Jb.LocalAudioTrack);if((null==t?void 0:t.track)instanceof rk){const i=t.track;return Array.from(this.localTrackMap.entries()).filter((e=>{let[t]=e;return t!==Jb.LocalAudioTrack})).filter((t=>{let[i]=t;return!(e&&i===Jb.LocalVideoLowTrack)})).map((e=>{let[,{track:t}]=e;return t})).concat(i.trackList)}return Array.from(this.localTrackMap.entries()).filter((t=>{let[i]=t;return!(e&&i===Jb.LocalVideoLowTrack)})).map((e=>{let[,{track:t}]=e;return t}))}getAllDataChannels(){return this.localDataChannels}reportPublishEvent(e,t,i,n,r){if(e){const i=this.localTrackMap.get(Jb.LocalAudioTrack),o=n?this.localTrackMap.get(Jb.LocalVideoLowTrack):this.localTrackMap.get(Jb.LocalVideoTrack);sA.publish(this.store.sessionId,{eventElapse:jU.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:e,ec:t,audioName:null==i?void 0:i.track.getTrackLabel(),videoName:null==o?void 0:o.track.getTrackLabel(),screenshare:-1!==(null==o?void 0:o.track._hints.indexOf(eP.SCREEN_TRACK)),audio:!!i,video:!!o,p2pid:this.store.p2pId,publishRequestid:this.store.pubId,extend:r})}else{var o;i||(i=[]);const s=i.find((e=>e instanceof tk)),a=n?null===(o=this.localTrackMap.get(Jb.LocalVideoTrack))||void 0===o?void 0:o.track:i.find((e=>e instanceof Hk));sA.publish(this.store.sessionId,{eventElapse:jU.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:e,ec:t,audioName:null==s?void 0:s.getTrackLabel(),videoName:null==a?void 0:a.getTrackLabel(),screenshare:-1!==(null==a?void 0:a._hints.indexOf(eP.SCREEN_TRACK)),audio:!!s,video:!!a,p2pid:this.store.p2pId,publishRequestid:this.store.pubId,extend:r})}}reportSubscribeEvent(e,t,i,n){const r=n===Yb.VIDEO?i._videoSSRC:i._audioSSRC;r&&sA.subscribe(this.store.sessionId,{succ:e,ec:t,video:n===Yb.VIDEO,audio:n===Yb.AUDIO,peerid:i.uid,subscribeRequestid:r,p2pid:this.store.p2pId,eventElapse:jU.measureFromSubscribeStart(this.store.clientId,r),preSsrc:this.isPreSubScribe(r)})}reset(){Qy.debug(\"[\".concat(this.store.clientId,\"] P2PChannel.reset\")),this.mutex=new hy(\"P2PChannel-mutex\"),this.connection&&(this.connection.close(),this.unbindConnectionEvents(this.connection),this.connection=void 0),this.shouldForwardP2PCreation&&(this.connection=this.isPlanB?new MV({},this.store):new oF({},this.store),this.bindConnectionEvents(this.connection)),this.statsUploader.stopUploadOutboundStats(),this.statsUploader.stopUploadInboundStats(),this.statsUploader.stopUploadTransportStats(),this.statsUploader.stopUploadExtensionUsageStats(),this.unbindLocalTrackEvents(),this.unbindAllRemoteTrackEvents(),this.unbindRtpTransceiver();const e=this.localTrackMap.get(Jb.LocalAudioTrack);if((null==e?void 0:e.track)instanceof rk){if(e.track.trackList.length>0){const t=e.track;e.track.trackList.forEach((e=>{t.removeAudioTrack(e)}))}e.track.close()}this.localTrackMap.clear(),this.remoteUserMap.clear(),this.statsCollector.removeRemoteStats(),this.statsCollector.removeLocalStats(),this.iceFailedCount=0,this.dtlsFailedCount=0,this.pendingLocalTracks=[],this.pendingRemoteTracks=[],this.localDataChannels=[],this.remoteDataChannelMap.clear(),this.pendingLocalDataChannels=[],this.pendingRemoteDataChannels=[],this.state=Xb.Disconnected}getStats(){var e;return null===(e=this.connection)||void 0===e?void 0:e.getStats()}getRemoteVideoIsReady(e){var t;return(null===(t=this.connection)||void 0===t?void 0:t.getRemoteVideoIsReady(e))||!1}getLocalAudioVolume(){const e=this.localTrackMap.get(Jb.LocalAudioTrack);if(e)return e.track.getVolumeLevel()}getLocalVideoSize(){const e=this.localTrackMap.get(Jb.LocalVideoTrack);if(e)return{width:e.track.videoWidth||0,height:e.track.videoHeight||0}}getEncoderConfig(e){const t=this.localTrackMap.get(e);return t&&t.track instanceof Hk||t&&t.track instanceof tk?t.track._encoderConfig:void 0}getLocalMedia(e){return this.localTrackMap.get(e)}hasLocalMedia(){return this.localTrackMap.size>0}hasRemoteMedia(e,t){if(!e)return this.remoteUserMap.size>0;const i=this.remoteUserMap.get(e);return!!i&&(!t||i.has(t))}async hasRemoteMediaWithLock(e,t){if(!e)return this.remoteUserMap.size>0;const i=this.remoteUserMap.get(e);return!!i&&(!t||i.has(t))}getRemoteMedia(e){var t;const i=Array.from(d_(t=this.remoteUserMap).call(t)).find((t=>t.uid===e));return i?{audioTrack:i.audioTrack,audioSSRC:i._audioSSRC,videoTrack:i.videoTrack,videoSSRC:i._videoSSRC}:{}}getAudioLevels(){let e=Array.from(this.remoteUserMap.entries()).map((e=>{let[t]=e;return{uid:t.uid,level:t.audioTrack?100*t.audioTrack._source.getAccurateVolumeLevel():0}}));const t=this.localTrackMap.get(Jb.LocalAudioTrack);return t&&e.push({level:100*t.track._source.getAccurateVolumeLevel(),uid:this.store.uid}),e=aE(e).call(e,((e,t)=>e.level-t.level)),e}async disconnectForReconnect(){this.connection&&(Qy.debug(\"[\".concat(this.store.clientId,\"] P2PChannel.disconnectForReconnect closing P2PConnection\")),this.state=Xb.Reconnecting,Dy(\"KEEP_LAST_FRAME\")&&0!==this.remoteUserMap.size&&Array.from(this.remoteUserMap.entries()).forEach((e=>{let[t]=e;var i;t._videoTrack&&t._videoTrack._player&&(null===(i=t._videoTrack._player.getVideoElement())||void 0===i||i.pause(),t._videoTrack._player.isKeepLastFrame=!0,t._videoTrack._originMediaStreamTrack.stop())})),this.connection.close(),this.unbindConnectionEvents(this.connection),this.connection=void 0,this.shouldForwardP2PCreation&&(this.connection=this.isPlanB?new MV({},this.store):new oF({},this.store),this.bindConnectionEvents(this.connection)),0!==this.localTrackMap.size&&(Array.from(this.localTrackMap.entries()).forEach((e=>{var t;let[i,{track:n}]=e;switch(i){case Jb.LocalVideoTrack:Dn(t=n._hints).call(t,eP.LOW_STREAM)?n.close():this.pendingLocalTracks.push(n);break;case Jb.LocalAudioTrack:n instanceof rk?this.pendingLocalTracks=this.pendingLocalTracks.concat(n.trackList):this.pendingLocalTracks.push(n);case Jb.LocalVideoLowTrack:}})),this.emit(Qb.MediaReconnectStart,this.store.uid)),this.unbindLocalTrackEvents(),this.localTrackMap.clear(),0!==this.remoteUserMap.size&&Array.from(this.remoteUserMap.entries()).forEach((e=>{let[t,i]=e;Array.from(d_(i).call(i)).forEach((e=>{this.setPendingRemoteMedia(t,e)})),this.emit(Qb.MediaReconnectStart,t.uid)})),this.unbindAllRemoteTrackEvents(),this.remoteUserMap.clear(),0!==this.localDataChannels.length&&(this.localDataChannels.forEach((e=>{this.pendingLocalDataChannels.push(e)})),this.localDataChannels.length=0),0!==this.remoteDataChannelMap.size&&(Array.from(this.remoteDataChannelMap.entries()).forEach((e=>{let[t,i]=e;Array.from(d_(i).call(i)).forEach((e=>{this.setPendingRemoteDataChannel(t,e)}))})),this.remoteDataChannelMap.clear()),this.statsUploader.stopUploadOutboundStats(),this.statsUploader.stopUploadInboundStats(),this.statsUploader.stopUploadTransportStats(),Qy.debug(\"[\".concat(this.store.clientId,\"] P2PChannel disconnected, waiting to reconnect.\")))}hasPendingRemoteDataChannel(e,t){for(const i of this.pendingRemoteDataChannels){const{user:n,id:r}=i;if((e instanceof iV?e.uid:e)===n.uid&&r===t)return!0}return!1}setPendingRemoteDataChannel(e,t){this.hasPendingRemoteDataChannel(e,t)||this.pendingRemoteDataChannels.push({user:e,id:t})}hasPendingRemoteMedia(e,t){for(const i of this.pendingRemoteTracks){const{user:n,kind:r}=i;if((e instanceof iV?e.uid:e)===n.uid&&t===r)return!0}return!1}setPendingRemoteMedia(e,t){this.hasPendingRemoteMedia(e,t)||this.pendingRemoteTracks.push({user:e,kind:t})}restartICE(e){var t=this;return ZU((function*(){if(!t.connection||t.state!==Xb.Connected)return;const i=yield WU(t.mutex.lock(\"From P2PChannel.restartICE\"));let n;try{n=yield WU(t.connection.restartICE(e));const r=yield WU(n.next());if(r.done)return;const o=r.value,s=yield o;switch(t.reportPCDisconnectedOrFailed(e),e){case qb.TCP:t._pcStatsUploadType=zb.TCP_RESTART;break;case qb.RELAY:t._pcStatsUploadType=zb.RELAY_RESTART;break;default:t._pcStatsUploadType=zb.OLD_RESTART}t._isInRestartIce=!0,n.next(s)}catch(e){var r;null===(r=n)||void 0===r||r.throw(e)}finally{i()}}))()}getUplinkNetworkQuality(){if(!this.connection)return 0;const e=this.connection.getStats(),t=this.localTrackMap.get(Jb.LocalVideoTrack),i=this.localTrackMap.get(Jb.LocalAudioTrack),n=e.videoSend.find((e=>e.ssrc===(null==t?void 0:t.ssrcs[0].ssrcId))),r=e.audioSend.find((e=>e.ssrc===(null==i?void 0:i.ssrcs[0].ssrcId)));if(!n||!r)return 1;const o=Uv(this,Qb.NeedSignalRTT),s=n?n.rttMs:void 0,a=r?r.rttMs:void 0,c=s&&a?(s+a)/2:s||a,d=(c&&o?(c+o)/2:c||o)||0,l=100*e.sendPacketLossRate*.7/50+.3*d/1500,u=l<.17?1:l<.36?2:l<.59?3:l<.1?4:5,h=null==t?void 0:t.track;if(h&&h._encoderConfig&&-1===h._hints.indexOf(eP.SCREEN_TRACK)){const t=h._encoderConfig.bitrateMax,i=e.bitrate.actualEncoded;if(t&&i){const e=(1e3*t-i)/(1e3*t);return dA[e<.15?0:e<.3?1:e<.45?2:e<.6?3:4][u]}}return u}getDownlinkNetworkQuality(){if(!this.connection)return 0;const e=this.connection.getStats();let t=0;return Array.from(this.remoteUserMap.entries()).forEach((i=>{let[n]=i;const r=n._audioSSRC,o=n._videoSSRC,s=e.audioRecv.find((e=>e.ssrc===r)),a=e.videoRecv.find((e=>e.ssrc===o));if(!s&&!a)return void(t+=1);const c=Uv(this,Qb.NeedSignalRTT),d=e.rtt,l=(d&&c?(d+c)/2:d||c)||0,u=s?s.jitterMs:void 0,h=e.recvPacketLossRate;let p=.7*h*100/50+.3*l/1500;u&&(p=.6*h*100/50+.2*l/1500+.2*u/400);t+=p<.1?1:p<.17?2:p<.36?3:p<.59?4:5})),this.remoteUserMap.size>0?Math.round(t/this.remoteUserMap.size):t}async muteLocalTrack(e){return new Gh(((t,i)=>{this.handleMuteLocalTrack(e,t,i)}))}async replaceTrack(e,t){var i;if(Qy.debug(\"[\".concat(this.store.clientId,\"] P2PChannel replaceTrack from [\").concat(e.getTrackId(),\"] to [\").concat(t.getTrackId(),\"]\")),!this.connection||this.state!==Xb.Connected)return;const n=Array.from(this.localTrackMap.entries()).find((t=>{let[,{track:i}]=t;return e===i}));if(!n)return;const r=n[0];if(e!==t&&(this.unbindLocalTrackEvents([{track:e,type:r}]),this.bindLocalTrackEvents([{track:t,type:r}]),n[1].track=t),await(null===(i=this.connection)||void 0===i?void 0:i.replaceTrack(t,n[1].id)),this.isPlanB){const e=n[1];e.id=t._mediaStreamTrack.id,this.localTrackMap.set(r,e)}if(r===Jb.LocalVideoTrack&&!Dy(\"DISABLE_DUAL_STREAM_USE_ENCODING\")&&MD().supportDualStreamEncoding){const t=this.localTrackMap.get(Jb.LocalVideoLowTrack);if(t){const i=e._mediaStreamTrack.clone();t.track._originMediaStreamTrack.stop(),t.track._mediaStreamTrack=i,t.track._originMediaStreamTrack=i,await new Gh(((e,i)=>{this.handleReplaceTrack(t.track,e,i,!0)}))}}}filterTobePublishedTracks(e,t,i){const n=[],r=this.getAllTracks();e=Bv(e=e.filter((e=>-1===r.indexOf(e))));let o,s=!1;const a=this.localTrackMap.get(Jb.LocalAudioTrack);for(const r of e){if(r instanceof Hk&&(this.localTrackMap.has(Jb.LocalVideoTrack)||s?new rv(nv.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS).throw():(n.push({track:r,type:Jb.LocalVideoTrack}),s=!0),t)){const e=this.getLowVideoTrack(r,i);n.push({track:e,type:Jb.LocalVideoLowTrack})}if(r instanceof tk)if(a){const e=a.track;if(e instanceof rk)oV([r]),e.addAudioTrack(r),this.bindLocalAudioTrackEvents(r,!0);else{const t=sV([e,r]);Qy.debug(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection will replace audioTrack [\").concat(t.getTrackId(),\"]\")),this.replaceTrack(e,t)}}else if(o instanceof rk)oV([r]),o.addAudioTrack(r);else if(o||!r._useAudioElement&&MD().webAudioMediaStreamDest&&!r._bypassWebAudio){o=sV(o?[r,o]:[r])}else o=r}return o&&(Qy.debug(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection will send audioTrack [\").concat(o.getTrackId(),\"]\")),n.push({track:o,type:Jb.LocalAudioTrack})),n}filterTobeUnpublishedTracks(e){const t=[],i=this.getAllTracks();e=Bv(e=e.filter((e=>-1!==i.indexOf(e))));for(const i of e){if(i instanceof tk){const e=this.localTrackMap.get(Jb.LocalAudioTrack);if(!e)continue;e.track instanceof rk?(e.track.removeAudioTrack(i),this.unbindLocalAudioTrackEvents(i),0===e.track.trackList.length&&(t.push([Jb.LocalAudioTrack,e]),e.track.close())):t.push([Jb.LocalAudioTrack,e])}if(i instanceof Hk){const e=this.localTrackMap.get(Jb.LocalVideoTrack);if(!e)continue;t.push([Jb.LocalVideoTrack,e]);const i=this.localTrackMap.get(Jb.LocalVideoLowTrack);i&&t.push([Jb.LocalVideoLowTrack,i])}}return t}filterTobePublishedDataChannels(e){return e=(e=Bv(e)).filter((e=>-1===this.localDataChannels.findIndex((t=>t.id===e.id))))}filterTobeUnpublishedDataChannels(e){return e=(e=(e=Bv(e)).filter((e=>-1!==this.localDataChannels.indexOf(e)))).filter((e=>e._originDataChannel))}bindLocalTrackEvents(e){e.forEach((e=>{let{track:t,type:i}=e;switch(i){case Jb.LocalVideoTrack:t.addListener($D.GET_STATS,this.handleGetLocalVideoStats),t.addListener($D.GET_RTC_STATS,this.handleGetRTCStats),t.addListener($D.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),t.addListener($D.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),t.addListener($D.NEED_UPDATE_VIDEO_ENCODER,this.handleUpdateVideoEncoder),t.addListener($D.NEED_UPDATE_VIDEO_SEND_PARAMETERS,this.handleUpdateVideoSendParameters),t.addListener($D.NEED_REPLACE_TRACK,this.handleReplaceTrack),t.addListener($D.NEED_MUTE_TRACK,this.handleMuteLocalTrack),t.addListener($D.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack);break;case Jb.LocalAudioTrack:this.bindLocalAudioTrackEvents(t);case Jb.LocalVideoLowTrack:}}))}bindLocalAudioTrackEvents(e,t){e instanceof rk?e.trackList.forEach((e=>{e.addListener($D.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.addListener($D.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.addListener($D.GET_STATS,this.handleGetLocalAudioStats),e.addListener($D.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.addListener($D.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack)})):(e.addListener($D.GET_STATS,this.handleGetLocalAudioStats),e.addListener($D.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.addListener($D.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.addListener($D.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.addListener($D.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack),t||(e.addListener($D.NEED_REPLACE_TRACK,this.handleReplaceTrack),e.addListener($D.NEED_REPLACE_MIXING_TRACK,this.handleReplaceMixingTrack)))}unbindLocalTrackEvents(e){e||(e=Array.from(this.localTrackMap.entries()).map((e=>{let[t,{track:i}]=e;return{track:i,type:t}}))),e.forEach((e=>{let{track:t,type:i}=e;switch(i){case Jb.LocalVideoTrack:t.off($D.GET_STATS,this.handleGetLocalVideoStats),t.off($D.GET_RTC_STATS,this.handleGetRTCStats),t.off($D.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),t.off($D.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),t.off($D.NEED_UPDATE_VIDEO_ENCODER,this.handleUpdateVideoEncoder),t.off($D.NEED_UPDATE_VIDEO_SEND_PARAMETERS,this.handleUpdateVideoSendParameters),t.off($D.NEED_REPLACE_TRACK,this.handleReplaceTrack),t.off($D.NEED_MUTE_TRACK,this.handleMuteLocalTrack),t.off($D.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack);break;case Jb.LocalAudioTrack:this.unbindLocalAudioTrackEvents(t);case Jb.LocalVideoLowTrack:}}))}unbindLocalAudioTrackEvents(e){e instanceof rk?e.trackList.forEach((e=>{e.off($D.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.off($D.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.off($D.GET_STATS,this.handleGetLocalAudioStats),e.off($D.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.off($D.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack)})):(e.off($D.GET_STATS,this.handleGetLocalAudioStats),e.off($D.NEED_DISABLE_TRACK,this.handleMuteLocalTrack),e.off($D.NEED_ENABLE_TRACK,this.handleUnmuteLocalTrack),e.off($D.NEED_REPLACE_TRACK,this.handleReplaceTrack),e.off($D.NEED_REPLACE_MIXING_TRACK,this.handleReplaceMixingTrack),e.off($D.NEED_MUTE_TRACK,this.handleMuteLocalTrack),e.off($D.NEED_UNMUTE_TRACK,this.handleUnmuteLocalTrack))}bindRemoteTrackEvents(e,t){t instanceof sM&&t.addListener($D.GET_STATS,(t=>{t(this.handleGetRemoteVideoStats(e))})),t instanceof aM&&t.addListener($D.GET_STATS,(t=>{t(this.handleGetRemoteAudioStats(e))}))}unbindRemoteTrackEvents(e){e&&e.removeAllListeners($D.GET_STATS)}unbindAllRemoteTrackEvents(){Array.from(this.remoteUserMap.entries()).forEach((e=>{let[t,i]=e;i.has(Yb.AUDIO)&&this.unbindRemoteTrackEvents(t._audioTrack),i.has(Yb.VIDEO)&&this.unbindRemoteTrackEvents(t._videoTrack)}))}createGatewayPublishMessage(e,t){return e.map(((e,i)=>{var n;let r,o,{track:s,type:a}=e;switch(a){case Jb.LocalAudioTrack:r=Mb.Audio,o={dtx:s instanceof ik&&s._config.DTX,hq:!1,lq:!1,stereo:!1,speech:!1};break;case Jb.LocalVideoTrack:r=Dn(n=s._hints).call(n,eP.SCREEN_TRACK)?Mb.Screen:Mb.High,o=dF(dF({},Mw(s)),{},{codec:this.store.codec,svc_mode:IM()});break;case Jb.LocalVideoLowTrack:r=Mb.Low,o=dF(dF({},Mw(s)),{},{codec:this.store.codec,svc_mode:IM()})}return{stream_type:r,attributes:o,ssrcs:t[i]}}))}createGatewayUnpublishMessage(e){return e.map((e=>{var t;let i,[n,{track:r,ssrcs:o,id:s}]=e;switch(n){case Jb.LocalVideoTrack:i=Dn(t=r._hints).call(t,eP.SCREEN_TRACK)?Mb.Screen:Mb.High;break;case Jb.LocalAudioTrack:i=Mb.Audio;break;case Jb.LocalVideoLowTrack:i=Mb.Low}return{stream_type:i,ssrcs:o,mid:s}}))}assignLocalTracks(e,t){e.forEach(((e,i)=>{let{track:n,type:r}=e;this.localTrackMap.set(r,{track:n,id:t[i].id,ssrcs:t[i].localSSRC})}))}withdrawLocalTracks(e){e.forEach((e=>{let[t]=e;this.localTrackMap.delete(t)}))}bindConnectionEvents(e){e.onConnectionStateChange=async t=>{if(Qy.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection.onConnectionStateChange(\").concat(t,\")\")),this.emit(Qb.PeerConnectionStateChange,t),\"connected\"!==t||this.store.keyMetrics.peerConnectionEnd||this.store.peerConnectionEnd(),\"connected\"===t&&(this._restartTimer&&(clearTimeout(this._restartTimer),this._restartTimer=void 0),(this._isFirstConnected||this._isInRestartIce)&&this.reportPCStats(Date.now(),!0,this._pcStatsUploadType),this._isInRestartIce=!1,this._isFirstConnected=!1,this._isStartRestartIce=!1),Dy(\"NEW_ICE_RESTART\")){var i;if(Dn(i=this._restartStates).call(i,t)){if(this._isStartRestartIce)return;this._isStartRestartIce=!0;const t=t=>{if(\"disconnected\"===e.iceConnectionState||\"checking\"===e.iceConnectionState||\"failed\"===e.iceConnectionState){Qy.debug(\"[\".concat(this.store.clientId,\"] [P2PChannel] start use restartICE, type is \").concat(t));\"CONNECTED\"===Uv(this,Qb.QueryClientConnectionState)&&this.emit(Qb.RequestRestartICE,t)}},i=()=>{\"disconnected\"!==e.iceConnectionState&&\"checking\"!==e.iceConnectionState&&\"failed\"!==e.iceConnectionState||(this.reportPCStats(Date.now(),!1,this._pcStatsUploadType),Qy.debug(\"[\".concat(this.store.clientId,\"] P2PConnection disconnected timeout, force reconnect\")),setTimeout((()=>this.emit(Qb.P2PLost)),0),this.iceFailedCount+=1,this.requestReconnect())},n=Dy(\"ICE_RESTART_INTERVAL\");return void(this._restartTimer=window.setTimeout((()=>{if(Dy(\"JOIN_WITH_FALLBACK_MEDIA_PROXY_FORCE\")&&MD().supportPCSetConfiguration)t(qb.RELAY),this._restartTimer=window.setTimeout(i,n);else if(kI())t(qb.UDP),this._restartTimer=window.setTimeout(i,4e3);else{if(t(qb.TCP),MD().supportPCSetConfiguration)return void(this._restartTimer=window.setTimeout((()=>{t(qb.RELAY),this._restartTimer=window.setTimeout(i,n)}),n));this._restartTimer=window.setTimeout(i,n)}}),800))}}else{if(\"disconnected\"===t&&\"disconnected\"===e.iceConnectionState)return setTimeout((()=>{if(\"disconnected\"===e.iceConnectionState&&Dy(\"ICE_RESTART\")){\"CONNECTED\"===Uv(this,Qb.QueryClientConnectionState)&&this.emit(Qb.RequestRestartICE)}}),800),void setTimeout((()=>{\"disconnected\"===e.peerConnectionState&&(Qy.debug(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection disconnected timeout 4000ms, force reconnect\")),this.reportPCStats(Date.now(),!1,this._pcStatsUploadType),this._isInRestartIce=!1,setTimeout((()=>this.emit(Qb.P2PLost)),0),this.iceFailedCount+=1,this.requestReconnect())}),4e3);\"failed\"===t&&(Qy.debug(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection state failed, force reconnect\")),this.reportPCDisconnectedOrFailed(),setTimeout((()=>this.emit(Qb.P2PLost)),0),this.iceFailedCount+=1,await this.requestReconnect())}},e.onICEConnectionStateChange=e=>{\"connected\"!==e||this.store.keyMetrics.iceConnectionEnd||this.store.iceConnectionEnd(),Qy.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection.onICEConnectionStateChange(\").concat(e,\")\")),sA.reportApiInvoke(this.store.sessionId,{name:\"ICEConnectionStateChange\",options:e,tag:Iv.TRACER}).onSuccess(),this.emit(Qb.IceConnectionStateChange,e)},e.onICETransportStateChange=e=>{Qy.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection.onICETransportStateChange(\").concat(e,\")\"))},e.onDTLSTransportStateChange=e=>{Qy.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection.onDTLSTransportStateChange(\").concat(e,\")\"))},e.onDTLSTransportError=e=>{Qy.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection.onDTLSTransportError(\").concat(e,\")\"))},e.onFirstAudioDecoded=e=>{var t;const i=Array.from(d_(t=this.remoteUserMap).call(t)).find((t=>t._audioSSRC===e));var n;i&&(this.store.subscribe(i.uid,\"audio\",void 0,void 0,void 0,Date.now()),null===(n=i.audioTrack)||void 0===n||n.emit(sP.FIRST_FRAME_DECODED),sA.firstRemoteFrame(this.store.sessionId,tA.FIRST_AUDIO_DECODE,iA.FIRST_AUDIO_DECODE,{peer:i._uintid,subscribeElapse:jU.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId}))},e.onFirstAudioReceived=e=>{var t;const i=Array.from(d_(t=this.remoteUserMap).call(t)).find((t=>t._audioSSRC===e));i&&sA.firstRemoteFrame(this.store.sessionId,tA.FIRST_AUDIO_RECEIVED,iA.FIRST_AUDIO_RECEIVED,{peer:i._uintid,subscribeElapse:jU.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId})},e.onFirstVideoDecoded=(e,t,i)=>{this.reportVideoFirstFrameDecoded(e,t,i)},e.onFirstVideoReceived=e=>{var t;const i=Array.from(d_(t=this.remoteUserMap).call(t)).find((t=>t._videoSSRC===e));i&&sA.firstRemoteFrame(this.store.sessionId,tA.FIRST_VIDEO_RECEIVED,iA.FIRST_VIDEO_RECEIVED,{peer:i._uintid,subscribeElapse:jU.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId})},e.onSelectedLocalCandidateChanged=(e,t)=>{const i=\"relay\"===e.candidateType,n=\"relay\"===t.candidateType;\"unknown\"!==t.candidateType&&i===n||this.emit(Qb.ConnectionTypeChange,i),Qy.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection.SelectedLocalCandidateChanged(\").concat(JSON.stringify(Bw(t)),\" -> \").concat(JSON.stringify(Bw(e)),\")\"))},e.onSelectedRemoteCandidateChanged=(e,t)=>{Qy.info(\"[\".concat(this.store.clientId,\"] [p2pId: \").concat(this.store.p2pId,\"]: P2PConnection.SelectedRemoteCandidateChanged(\").concat(JSON.stringify(Bw(t)),\" -> \").concat(JSON.stringify(Bw(e)),\")\"))},e.onFirstVideoDecodedTimeout=e=>{this.reportVideoFirstFrameDecoded(e,void 0,void 0,!0)},e.getLocalVideoStats=()=>{const e=this.statsCollector.getLocalVideoTrackStats(),t=this.statsCollector.getRTCStats();return dF(dF({},e),t)}}unbindConnectionEvents(e){e.onConnectionStateChange=void 0,e.onICEConnectionStateChange=void 0,e.onICETransportStateChange=void 0,e.onDTLSTransportStateChange=void 0,e.onDTLSTransportError=void 0,e.onFirstAudioDecoded=void 0,e.onFirstAudioReceived=void 0,e.onFirstVideoDecoded=void 0,e.onFirstVideoReceived=void 0,e.onSelectedLocalCandidateChanged=void 0,e.onSelectedRemoteCandidateChanged=void 0,e.onFirstVideoDecodedTimeout=void 0,e.getLocalVideoStats=void 0}filterTobeMutedTracks(e){const t=[];if(-1===this.getAllTracks().indexOf(e))return t;const i=this.localTrackMap.get(Jb.LocalAudioTrack);if(e instanceof tk&&(null==i?void 0:i.track)instanceof rk)return i.track.isActive||t.push([Jb.LocalAudioTrack,i]),t;const n=Array.from(this.localTrackMap.entries()).find((t=>{let[,{track:i}]=t;return e===i}));if(n&&(t.push(n),n[0]===Jb.LocalVideoTrack)){const e=this.localTrackMap.get(Jb.LocalVideoLowTrack);e&&t.push([Jb.LocalVideoLowTrack,e])}return t}filterTobeUnmutedTracks(e){const t=[],i=this.localTrackMap.get(Jb.LocalAudioTrack);if(e instanceof tk&&(null==i?void 0:i.track)instanceof rk)return i.track.isActive&&t.push([Jb.LocalAudioTrack,i]),t;const n=Array.from(this.localTrackMap.entries()).find((t=>{let[,{track:i}]=t;return e===i}));if(n)if(n[0]===Jb.LocalVideoTrack){t.push(n);const e=this.localTrackMap.get(Jb.LocalVideoLowTrack);e&&t.push([Jb.LocalVideoLowTrack,e])}else t.push(n);return t}createMuteMessage(e){return e.map((e=>{var t;let i,[n,{track:r,ssrcs:o,id:s}]=e;switch(n){case Jb.LocalAudioTrack:i=Mb.Audio;break;case Jb.LocalVideoTrack:i=Dn(t=r._hints).call(t,eP.SCREEN_TRACK)?Mb.Screen:Mb.High;break;case Jb.LocalVideoLowTrack:i=Mb.Low}return{stream_type:i,ssrcs:o,mid:s}}))}createUnmuteMessage(e){return e.map((e=>{var t;let i,[n,{track:r,ssrcs:o,id:s}]=e;switch(n){case Jb.LocalAudioTrack:i=Mb.Audio;break;case Jb.LocalVideoTrack:i=Dn(t=r._hints).call(t,eP.SCREEN_TRACK)?Mb.Screen:Mb.High;break;case Jb.LocalVideoLowTrack:i=Mb.Low}return{stream_type:i,ssrcs:o,mid:s}}))}filterTobeUnSubscribedTracks(e,t){const i=[],n=this.remoteUserMap.get(e);if(!n)return i;if(t){const r=n.get(t);if(!r)return i;i.push([e,{kind:t,id:r}])}else Array.from(n.entries()).forEach((t=>{let[n,r]=t;i.push([e,{kind:n,id:r}])}));return i}filterTobeUnSubscribedDataChannels(e,t){const i=[];return t.forEach((t=>{var n;null!==(n=this.remoteDataChannelMap.get(e))&&void 0!==n&&n.has(t.id)&&i.push(t)})),i}createUnsubscribeMessage(e){const t=[];return e.forEach((e=>{let[i,{kind:n,id:r}]=e;switch(n){case Yb.VIDEO:return void(i._videoSSRC&&t.push({stream_type:Yb.VIDEO,ssrcId:i._videoSSRC}));case Yb.AUDIO:return void(i._audioSSRC&&t.push({stream_type:Yb.AUDIO,ssrcId:i._audioSSRC}))}})),t}createUnsubscribeAllMessage(e){const t=new Map;return e.forEach((e=>{let[i,{kind:n}]=e;if(t.has(i)){let e=t.get(i);n===Yb.VIDEO?e|=Vb.Video:e|=Vb.Audio,t.set(i,e)}else n===Yb.VIDEO?t.set(i,Vb.Video):t.set(i,Vb.Audio)})),{users:Array.from(t.entries()).map((e=>{let[t,i]=e;return{stream_id:t.uid,stream_type:i}}))}}withdrawRemoteTracks(e){e.forEach((e=>{let[t,{kind:i}]=e;const n=this.remoteUserMap.get(t);n&&(n.delete(i),0===Array.from(n.entries()).length&&this.remoteUserMap.delete(t))}))}async updateBitrateLimit(e){const t=this.localTrackMap.get(Jb.LocalVideoTrack),i=this.localTrackMap.get(Jb.LocalVideoLowTrack);t&&await t.track.setBitrateLimit(e.uplink),i&&e.low_stream_uplink&&await i.track.setBitrateLimit({max_bitrate:e.low_stream_uplink.bitrate,min_bitrate:e.low_stream_uplink.bitrate||0})}isP2PDisconnected(){if(this.connection){return\"connected\"!==this.connection.peerConnectionState}return!0}mapPubResToRemoteConfig(e,t){return e.map(((e,i)=>{var n;let{stream_type:r}=e;return null===(n=t.find((e=>{let{stream_type:t}=e;return r===t})))||void 0===n?void 0:n.attributes}))}async tryToUnmuteAudio(e){for(let i=0;i<e.length;i++)if(e[i]instanceof tk){var t;const n=this.filterTobeUnmutedTracks(e[i]);if(0===n.length)continue;await(null===(t=this.connection)||void 0===t?void 0:t.unmuteLocal(n.map((e=>{let[,{id:t}]=e;return t}))));const r=this.createUnmuteMessage(n);return void await Mv(this,Qb.RequestUnmuteLocal,r)}}bindStatsUploaderEvents(){this.statsUploader.requestStats=()=>this.getStats(),this.statsUploader.requestLocalMedia=()=>Array.from(this.localTrackMap.entries()),this.statsUploader.requestRemoteMedia=()=>Array.from(this.remoteUserMap.entries()),this.statsUploader.requestVideoIsReady=e=>{var t;return!(null===(t=this.connection)||void 0===t||!t.getRemoteVideoIsReady(e))},this.statsUploader.requestUpload=(e,t)=>this.emit(Qb.RequestUpload,e,t),this.statsUploader.requestUploadStats=e=>this.emit(Qb.RequestUploadStats,e),this.statsUploader.requestAllTracks=()=>this.getAllTracks()}unbindStatsUploaderEvents(){this.statsUploader.requestStats=void 0,this.statsUploader.requestLocalMedia=void 0,this.statsUploader.requestRemoteMedia=void 0,this.statsUploader.requestVideoIsReady=void 0}async requestReconnect(){this.dtlsFailedCount+=1,await $v(Ey(this.dtlsFailedCount,_y)),this.emit(Qb.RequestReconnect)}async reconnectP2P(){const e=Array.from(this.localTrackMap.entries()),t=this.createGatewayUnpublishMessage(e);Array.from(this.remoteUserMap.entries()),t.length>0&&await kv(this,Qb.RequestUnpublishForReconnectPC,t),this.disconnectForReconnect(),this.emit(Qb.RequestReconnectPC)}canPublishLowStream(){return this.localTrackMap.has(Jb.LocalVideoTrack)||this.pendingLocalTracks.some((e=>e instanceof Hk))}throwIfTrackTypeNotMatch(e){if(e.filter((e=>e instanceof Hk)).length>1)throw new rv(nv.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS);if(e.filter((e=>e instanceof tk)).length>1&&(e.some((e=>e instanceof tk&&e._bypassWebAudio))||!MD().webAudioMediaStreamDest))throw new rv(nv.NOT_SUPPORTED,\"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser doesn't support MediaStreamDestNode\");for(const t of e){if(t instanceof Hk&&this.pendingLocalTracks.some((e=>e instanceof Hk)))throw new rv(nv.CAN_NOT_PUBLISH_MULTIPLE_VIDEO_TRACKS);if(t instanceof tk&&this.pendingLocalTracks.some((e=>e instanceof tk))&&(!MD().webAudioMediaStreamDest||t._bypassWebAudio||this.pendingLocalTracks.some((e=>e instanceof tk&&e._bypassWebAudio))))throw new rv(nv.NOT_SUPPORTED,\"cannot publish multiple tracks which one of them configured with bypassWebAudio or your browser doesn't support MediaStreamDestNode\")}}getLowVideoTrack(e,t){const i=!Dy(\"DISABLE_DUAL_STREAM_USE_ENCODING\")&&MD().supportDualStreamEncoding,n=dF(dF({},{width:160,height:120,framerate:15,bitrate:50}),t);let r;r=i?e._mediaStreamTrack.clone():Fx(e,n);const o=ey(8,\"track-low-\"),s=new Hk(r,dF(dF({},i&&{scaleResolutionDownBy:Fw(n,e)}),{},{frameRate:n.framerate,bitrateMax:n.bitrate,bitrateMin:n.bitrate}),void 0,void 0,o);return s.on(rP.TRANSCEIVER_UPDATED,(t=>{e._updateRtpTransceiver(t,tP.LOW_STREAM)})),s._hints.push(eP.LOW_STREAM),e.on(\"sei-to-send\",(e=>{s.emit(\"sei-to-send\",e)})),e.addListener($D.NEED_CLOSE,(()=>{s.close()})),s}async globalLock(){return this.mutex.lock(\"From P2PChannel.globalLock\")}async reportPCStats(e,t,i){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(this.connection&&this.connection instanceof oF){var r,o,s,a;const c=this.store.keyMetrics.descriptionStart||0,{iceConnectionState:d,dtlsTransportState:l,peerConnectionState:u}=this.connection,{local:h,remote:p}=await this.connection.getSelectedCandidatePair();sA.pcStats(this.store.sessionId,{startTime:c,eventElapse:e-c||0,iceconnectionsate:d,dtlsstate:l,connectionstate:u,intSucc:t?1:2,error:n,selectedLocalCandidateProtocol:null!==(r=null==h?void 0:h.protocol)&&void 0!==r?r:\"\",selectedLocalCandidateType:null!==(o=h.candidateType)&&void 0!==o?o:\"\",selectedLocalCandidateAddress:\"\".concat(h.address,\":\").concat(h.port),selectedRemoteCandidateProtocol:null!==(s=p.protocol)&&void 0!==s?s:\"\",selectedRemoteCandidateType:null!==(a=p.candidateType)&&void 0!==a?a:\"\",selectedRemoteCandidateAddress:\"\".concat(p.address,\":\").concat(p.port),restartCnt:i,preallocation:this.connection.isPreallocation})}}reportVideoFirstFrameDecoded(e,t,i,n){var r;const o=Array.from(d_(r=this.remoteUserMap).call(r)).find((t=>t._videoSSRC===e));if(o){n||this.store.subscribe(o.uid,\"video\",void 0,void 0,void 0,void 0,Date.now());const r=this.store.keyMetrics,s=r.subscribe.find((e=>e.userId===o.uid&&\"video\"===e.type));sA.firstRemoteVideoDecode(this.store.sessionId,tA.FIRST_VIDEO_DECODE,iA.FIRST_VIDEO_DECODE,{peer:o._uintid,videowidth:t,videoheight:i,subscribeElapse:jU.measureFromSubscribeStart(this.store.clientId,e),subscribeRequestid:e,p2pid:this.store.p2pId,apEnd:r.requestAPEnd||0,apStart:r.requestAPStart||0,joinGwEnd:r.joinGatewayEnd||0,joinGwStart:r.joinGatewayStart||0,pcEnd:r.peerConnectionEnd||0,pcStart:r.peerConnectionStart||0,subscriberEnd:(null==s?void 0:s.subscribeEnd)||0,subscriberStart:(null==s?void 0:s.subscribeStart)||0,videoAddNotify:(null==s?void 0:s.streamAdded)||0,state:n?1:0,firstFrame:(null==s?void 0:s.firstFrame)||0})}}async remoteMediaSsrcChanged(e,t,i){if(!this.connection)return!1;const n=this.remoteUserMap.get(e);if(!n)return!1;const r=n.get(t);if(!r)return!1;const o=await this.connection.getRemoteSSRC(r);return void 0!==o&&o!==i}unbindRtpTransceiver(){0!==this.localTrackMap.size&&Array.from(this.localTrackMap.entries()).forEach((e=>{let[t,{track:i}]=e;t===Jb.LocalVideoLowTrack?i._updateRtpTransceiver(void 0,tP.LOW_STREAM):i._updateRtpTransceiver(void 0)}))}reportPCDisconnectedOrFailed(e){this.connection&&this.connection instanceof oF&&(\"disconnected\"!==this.connection.iceConnectionState&&\"checking\"!==this.connection.iceConnectionState&&\"failed\"!==this.connection.iceConnectionState||(this._isFirstConnected?(this.reportPCStats(Date.now(),!1,this._pcStatsUploadType),this._isFirstConnected=!1):this._pcStatsUploadType===zb.TCP_RESTART&&e===qb.RELAY?this.reportPCStats(Date.now(),!1,this._pcStatsUploadType):this.reportPCStats(Date.now(),!1,zb.DISCONNECTED_OR_FAILED)))}},rb(aF.prototype,\"startP2PConnection\",[pF],Object.getOwnPropertyDescriptor(aF.prototype,\"startP2PConnection\"),aF.prototype),rb(aF.prototype,\"connect\",[pF],Object.getOwnPropertyDescriptor(aF.prototype,\"connect\"),aF.prototype),rb(aF.prototype,\"updateRemoteRTPCapabilities\",[pF],Object.getOwnPropertyDescriptor(aF.prototype,\"updateRemoteRTPCapabilities\"),aF.prototype),rb(aF.prototype,\"publishDataChannel\",[pF],Object.getOwnPropertyDescriptor(aF.prototype,\"publishDataChannel\"),aF.prototype),rb(aF.prototype,\"unpublish\",[pF],Object.getOwnPropertyDescriptor(aF.prototype,\"unpublish\"),aF.prototype),rb(aF.prototype,\"unpublishDataChannel\",[pF],Object.getOwnPropertyDescriptor(aF.prototype,\"unpublishDataChannel\"),aF.prototype),rb(aF.prototype,\"unpublishLowStream\",[pF],Object.getOwnPropertyDescriptor(aF.prototype,\"unpublishLowStream\"),aF.prototype),rb(aF.prototype,\"subscribeDataChannel\",[pF],Object.getOwnPropertyDescriptor(aF.prototype,\"subscribeDataChannel\"),aF.prototype),rb(aF.prototype,\"subscribe\",[pF],Object.getOwnPropertyDescriptor(aF.prototype,\"subscribe\"),aF.prototype),rb(aF.prototype,\"massSubscribe\",[pF],Object.getOwnPropertyDescriptor(aF.prototype,\"massSubscribe\"),aF.prototype),rb(aF.prototype,\"unsubscribe\",[pF],Object.getOwnPropertyDescriptor(aF.prototype,\"unsubscribe\"),aF.prototype),rb(aF.prototype,\"unsubscribeDataChannel\",[pF],Object.getOwnPropertyDescriptor(aF.prototype,\"unsubscribeDataChannel\"),aF.prototype),rb(aF.prototype,\"massUnsubscribe\",[pF],Object.getOwnPropertyDescriptor(aF.prototype,\"massUnsubscribe\"),aF.prototype),rb(aF.prototype,\"muteRemote\",[pF],Object.getOwnPropertyDescriptor(aF.prototype,\"muteRemote\"),aF.prototype),rb(aF.prototype,\"unmuteRemote\",[pF],Object.getOwnPropertyDescriptor(aF.prototype,\"unmuteRemote\"),aF.prototype),rb(aF.prototype,\"hasRemoteMediaWithLock\",[pF],Object.getOwnPropertyDescriptor(aF.prototype,\"hasRemoteMediaWithLock\"),aF.prototype),rb(aF.prototype,\"disconnectForReconnect\",[pF],Object.getOwnPropertyDescriptor(aF.prototype,\"disconnectForReconnect\"),aF.prototype),rb(aF.prototype,\"updateBitrateLimit\",[pF],Object.getOwnPropertyDescriptor(aF.prototype,\"updateBitrateLimit\"),aF.prototype),rb(aF.prototype,\"remoteMediaSsrcChanged\",[pF],Object.getOwnPropertyDescriptor(aF.prototype,\"remoteMediaSsrcChanged\"),aF.prototype),aF);function pF(e,t,i){const n=e[t];if(\"function\"!=typeof n)throw new Error(\"Cannot use mutex on object property.\");return i.value=async function(){const e=this.mutex,i=await e.lock(\"From P2PChannel.\".concat(t));try{for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return await n.apply(this,o)}finally{i()}},i}const _F={};function EF(e){(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&Qy.debug(\"install service \".concat(e.name)),_F[e.name]=e}function mF(e){const t=_F[e];if(!t)throw new rv(nv.INVALID_OPERATION,\"\".concat(e,\" not found, please use AgoraRTC.use(\").concat(e,\"Service) to load it first\"));return t}function fF(e,t){return mF(\"DataStream\").create(e,t)}function TF(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function SF(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?TF(Object(i),!0).forEach((function(t){og(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):TF(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}const gF=Date.now(),RF=20,CF=new Map,IF=new Map;async function vF(e){const t=CF.get(e),i=Array.isArray(t)&&t[t.length-1],n=IF.get(e);if(!i)return void(n.isSyncing=!1);const r={uid:i.uid,payload:i.payload};0===n.firstRecvTs&&(n.firstRecvTs=i.recvTs,n.firstSendTs=i.sendTs);const o=i.sendTs-n.firstSendTs,s=o-(Date.now()-n.firstRecvTs);s>0&&(n.firstRecvTs=Date.now()-o);let a=i.mediaDelay+s;a<=0?(t.pop(),yF(i.context,r),a=0):a=Math.min(a,RF),setTimeout((()=>t.length&&vF(e)),a)}function yF(e,t){e.safeEmit(Nv.STREAM_MESSAGE,t.uid,t.payload),e.onStreamMessage&&e.onStreamMessage(t)}function AF(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0;if(!e.syncWithAudio)return yF(i,{uid:e.uid,payload:e.payload});const n=\"\".concat(i.id,\"-\").concat(e.uid),r=CF.get(n)||[],o=r.findIndex((t=>e.sendTs>=t.sendTs)),s=SF(SF({},e),{},{context:i,mediaDelay:t,recvTs:Date.now()});-1===o?r.push(s):r.splice(o,0,s),CF.set(n,r);let a=!1;var c;IF.has(n)?a=!(null===(c=IF.get(n))||void 0===c||!c.isSyncing):IF.set(n,{isSyncing:a,firstRecvTs:0,firstSendTs:0});a||vF(n)}const bF=AI().name;function wF(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function OF(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?wF(Object(i),!0).forEach((function(t){og(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):wF(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}const NF=\"websdk_ng_cache_parameter\",DF=Dy(\"MAX_PRELOAD_ASYNC_LENGTH\"),PF=1e4,LF=new Map,kF=[];let MF=null,UF=0,xF=0;const VF=new Map,FF=function(e,t){const i=[];let n=0;const r=async()=>{const e=i.shift();e&&await e(),i.length>0&&n<t?r():n--};return async function(){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return new Gh((async(o,a)=>{i.push((async()=>{try{const t=await e(...s);o(t)}catch(e){a(e)}})),n<t&&(n++,r())}))}}(jF,DF),BF=EI.CancelToken.source();async function jF(e,t,i,n,r,o){try{if(!Dy(\"ENABLE_PRELOAD\"))return;if(!MD().supportWebCrypto)return void Kv((()=>{Qy.warn(\"Your browser does not support preloading, this feature  be run in a secure environment\")}),\"preload_webcrypto_not_supported\");if(!i&&null!==i)throw new rv(nv.INVALID_PARAMS,\"Invalid token: \".concat(i,\". If you don not use token, set it to null\"));i&&dv(i,\"token\",1,2047),dv(e,\"appid\",1,2047),gb(t),n&&Rb(n);const s=ty();Qy.debug(\"preload channel \".concat(t,\", uid is \").concat(n));const a={appId:e,cname:t,token:i||e,uid:\"string\"!=typeof n?n:null,sid:s,proxyServer:r};let c,d;\"string\"==typeof n?(a.stringUid=n,[d,c]=await Gh.all([NU(n,{sid:s,appId:e},BF.token),PU(OF(OF({},a),{},{token:i||e,uid:0}),BF.token)]),a.uid=d.uid,c.gatewayInfo.uid=a.uid,c.gatewayInfo.res.uid=a.uid):(o&&(a.stringUid=o),c=await PU(a,BF.token));const l={sid:s,appId:e,cname:t,token:i||e,uid:a.stringUid||n,intUid:a.uid||c.gatewayInfo.uid,stringUid:a.stringUid,ts:Date.now(),sua:d,ap:c};await async function(e){let t;try{e.uid&&WF({appId:e.appId,cname:e.cname,token:e.token,uid:e.uid,stringUid:e.stringUid});const i=JF(e),n=await async function(e,t){try{const i=await window.crypto.subtle.importKey(\"raw\",zv(t),\"AES-GCM\",!1,[\"encrypt\"]),n=await window.crypto.subtle.encrypt({name:\"AES-GCM\",iv:new Uint8Array(1)},i,Yv(window.btoa(JSON.stringify(e))));return qv(new Uint8Array(n))}catch(e){return}}(e,e.token||e.appId);if(!n)return;t=qF(NF);const r=t?JSON.parse(t):[];r.push({[i]:n}),r.length>Dy(\"AP_CACHE_NUM\")&&r.shift(),zF(NF,JSON.stringify(r))}catch(e){Qy.warn(\"Error caching server parameters:\",e.message),zF(NF,\"\")}}(l),UF++}catch(e){throw xF++,function(e){MF||(MF=window.setTimeout((()=>{let t=\"\";VF.forEach(((e,i)=>{t+=\"\".concat(i,\": \").concat(e,\" ;\")})),sA.reportApiInvoke(null,{name:Cv.PRELOAD,options:{success:UF,failed:xF,err:t}}).onError(e),UF=0,xF=0,VF.clear(),MF=null}),PF));const t=VF.get(e.code)||0;VF.set(e.code,t+1)}(e),e}}async function GF(e){try{const t=WF(e);if(!t||\"disabled\"!==e.cloudProxyServer)return;const i=await async function(e,t){try{const i=await window.crypto.subtle.importKey(\"raw\",zv(t),\"AES-GCM\",!1,[\"decrypt\"]),n=await window.crypto.subtle.decrypt({name:\"AES-GCM\",iv:new Uint8Array(1)},i,Yv(e));return JSON.parse(window.atob(qv(new Uint8Array(n))))}catch(e){return}}(t,e.token||e.appId);if(!i)return;if(!function(e,t){const i=e.cname===t.cname&&e.appId===t.appId&&e.token===t.token;if(!i)return!1;return t.stringUid?e.stringUid===t.stringUid:\"number\"==typeof t.uid?e.uid===t.uid:e.uid==t.uid}(i,e))return;if(i&&Date.now()-i.ts<Dy(\"AP_CACHE_LIFETIME\"))return i}catch(e){Qy.warn(\"Error get preloadInfo\",e.message)}}function WF(e){let t;try{if(t=qF(NF),!t)return;const i=JSON.parse(t),n=JF(e),r=function(e,t){for(let i=e.length-1;i>=0;i--)if(t(e[i]))return i;return-1}(i,(e=>n in e));if(-1===r)return;const o=i.splice(r,1)[0];return zF(NF,JSON.stringify(i)),o[n]}catch(e){Qy.warn(\"Error delete preload info: \".concat(t),e.message),zF(NF,\"\")}}function HF(e){if(e){let t=LF.get(e);t&&(window.clearTimeout(t),t=null,LF.delete(e)),Dn(kF).call(kF,e)||\"disabled\"!==e.cloudProxyServer||kF.push(e)}if(LF.size<Dy(\"AP_CACHE_NUM\")&&kF.length>0){const e=kF.shift();LF.set(e,window.setTimeout((async()=>{const{appId:t,cname:i,token:n,stringUid:r,uid:o,proxyServer:s}=e;try{await FF(t,i,n,o,s,r),LF.has(e)&&HF(e)}catch(t){Qy.warn(\"update preload failed\",t.message),KF(e)}}),Dy(\"AP_UPDATE_INTERVAL\")))}}function KF(e){const t=kF.indexOf(e);-1!==t&&kF.splice(t,1);let i=LF.get(e);i&&(window.clearTimeout(i),i=null,LF.delete(e),HF())}function YF(e,t){const i=e.sua,n=e.ap;t&&i&&sA.reqUserAccount(e.sid,{lts:i.requestTime,elapse:i.elapse,success:!0,serverAddr:i.url,stringUid:t,uid:e.intUid,errorCode:null,extend:i.req}),sA.reportResourceTiming(e.ap.url,e.sid),sA.joinWebProxyAP(e.sid,{lts:n.requestTime,elapse:n.elapse,sucess:1,apServerAddr:n.url,turnServerAddrList:n.proxyInfo.addresses.map((e=>e.ip)).join(\",\"),eventType:\"disabled\",unilbsServerIds:[Ow.CHOOSE_SERVER,Ow.CLOUD_PROXY_FALLBACK].toString()}),sA.joinChooseServer(e.sid,{lts:n.requestTime,elapse:n.elapse,succ:!0,csAddr:n.url,opid:n.opid,serverList:n.gatewayInfo.gatewayAddrs.map((e=>e.address)),ec:null,cid:n.gatewayInfo.cid.toString(),uid:n.gatewayInfo.uid.toString(),csIp:n.gatewayInfo.csIp,unilbsServerIds:[Ow.CHOOSE_SERVER].toString(),isHttp3:n.isHttp3})}function qF(e){return window.atob(window.localStorage.getItem(e)||\"\")}function zF(e,t){window.localStorage.setItem(e,window.btoa(t))}function JF(e){let t=\"\".concat(e.appId,\"_\").concat(e.cname);return\"string\"==typeof e.uid&&(t+=\"_s_\".concat(e.uid)),\"number\"==typeof e.uid&&(t+=\"_\".concat(e.uid)),e.token&&(t+=\"_\".concat(e.token)),dy(t)}function XF(e){let t=function(){const e=eB.pop();return e?(e.offset=e.limit=0,e):{bytes:new Uint8Array(64),offset:0,limit:0}}();return function(e,t){let i=e.appId;void 0!==i&&(uB(t,10),aB(t,i));let n=e.cid;void 0!==n&&(uB(t,16),uB(t,n));let r=e.cname;void 0!==r&&(uB(t,26),aB(t,r));let o=e.deviceId;void 0!==o&&(uB(t,34),aB(t,o));let s=e.elapse;void 0!==s&&(uB(t,40),pB(t,s));let a=e.fileSize;void 0!==a&&(uB(t,48),pB(t,$F(a)));let c=e.height;void 0!==c&&(uB(t,56),pB(t,$F(c)));let d=e.jpg;void 0!==d&&(uB(t,66),uB(t,d.length),oB(t,d));let l=e.networkType;void 0!==l&&(uB(t,72),pB(t,$F(l)));let u=e.osType;void 0!==u&&(uB(t,80),pB(t,$F(u)));let h=e.requestId;void 0!==h&&(uB(t,90),aB(t,h));let p=e.sdkVersion;void 0!==p&&(uB(t,98),aB(t,p));let _=e.sequence;void 0!==_&&(uB(t,104),pB(t,$F(_)));let E=e.sid;void 0!==E&&(uB(t,114),aB(t,E));let m=e.timestamp;void 0!==m&&(uB(t,120),pB(t,m));let f=e.uid;void 0!==f&&(uB(t,128),uB(t,f));let T=e.vid;void 0!==T&&(uB(t,136),uB(t,T));let S=e.width;void 0!==S&&(uB(t,144),pB(t,$F(S)));let g=e.service;void 0!==g&&(uB(t,152),uB(t,g));let R=e.callbackData;void 0!==R&&(uB(t,162),uB(t,R.length),oB(t,R));let C=e.ticket;void 0!==C&&(uB(t,170),aB(t,C));let I=e.vendorConfigs;void 0!==I&&(uB(t,178),aB(t,I))}(e,t),function(e){let t=e.bytes,i=e.limit;return t.length===i?t:t.subarray(0,i)}(t)}function QF(e){return function(e){let t={};e:for(;!iB(e);){let i=lB(e);switch(i>>>3){case 0:break e;case 1:t.code=lB(e);break;case 2:t.msg=sB(e,lB(e));break;case 3:t.requestId=sB(e,lB(e));break;case 4:t.timestamp=hB(e,!1);break;default:ZF(e,7&i)}}return t}({bytes:t=e,offset:0,limit:t.length});var t}function ZF(e,t){switch(t){case 0:for(;128&cB(e););break;case 2:tB(e,lB(e));break;case 5:tB(e,4);break;case 1:tB(e,8);break;default:throw new Error(\"Unimplemented type: \"+t)}}function $F(e){return{low:e|=0,high:e>>31,unsigned:e>=0}}let eB=[];function tB(e,t){if(e.offset+t>e.limit)throw new Error(\"Skip past limit\");e.offset+=t}function iB(e){return e.offset>=e.limit}function nB(e,t){let i=e.bytes,n=e.offset,r=e.limit,o=n+t;if(o>i.length){let t=new Uint8Array(2*o);t.set(i),e.bytes=t}return e.offset=o,o>r&&(e.limit=o),n}function rB(e,t){let i=e.offset;if(i+t>e.limit)throw new Error(\"Read past limit\");return e.offset+=t,i}function oB(e,t){let i=nB(e,t.length);e.bytes.set(t,i)}function sB(e,t){let i=rB(e,t),n=String.fromCharCode,r=e.bytes,o=\"ï¿½\",s=\"\";for(let e=0;e<t;e++){let a,c,d,l,u=r[e+i];0==(128&u)?s+=n(u):192==(224&u)?e+1>=t?s+=o:(a=r[e+i+1],128!=(192&a)?s+=o:(l=(31&u)<<6|63&a,l<128?s+=o:(s+=n(l),e++))):224==(240&u)?e+2>=t?s+=o:(a=r[e+i+1],c=r[e+i+2],32896!=(49344&(a|c<<8))?s+=o:(l=(15&u)<<12|(63&a)<<6|63&c,l<2048||l>=55296&&l<=57343?s+=o:(s+=n(l),e+=2))):240==(248&u)?e+3>=t?s+=o:(a=r[e+i+1],c=r[e+i+2],d=r[e+i+3],8421504!=(12632256&(a|c<<8|d<<16))?s+=o:(l=(7&u)<<18|(63&a)<<12|(63&c)<<6|63&d,l<65536||l>1114111?s+=o:(l-=65536,s+=n(55296+(l>>10),56320+(1023&l)),e+=3))):s+=o}return s}function aB(e,t){let i=t.length,n=0;for(let e=0;e<i;e++){let r=t.charCodeAt(e);r>=55296&&r<=56319&&e+1<i&&(r=(r<<10)+t.charCodeAt(++e)-56613888),n+=r<128?1:r<2048?2:r<65536?3:4}uB(e,n);let r=nB(e,n),o=e.bytes;for(let e=0;e<i;e++){let n=t.charCodeAt(e);n>=55296&&n<=56319&&e+1<i&&(n=(n<<10)+t.charCodeAt(++e)-56613888),n<128?o[r++]=n:(n<2048?o[r++]=n>>6&31|192:(n<65536?o[r++]=n>>12&15|224:(o[r++]=n>>18&7|240,o[r++]=n>>12&63|128),o[r++]=n>>6&63|128),o[r++]=63&n|128)}}function cB(e){return e.bytes[rB(e,1)]}function dB(e,t){let i=nB(e,1);e.bytes[i]=t}function lB(e){let t,i=0,n=0;do{t=cB(e),i<32&&(n|=(127&t)<<i),i+=7}while(128&t);return n}function uB(e,t){for(t>>>=0;t>=128;)dB(e,127&t|128),t>>>=7;dB(e,t)}function hB(e,t){let i,n=0,r=0,o=0;return i=cB(e),n=127&i,128&i&&(i=cB(e),n|=(127&i)<<7,128&i&&(i=cB(e),n|=(127&i)<<14,128&i&&(i=cB(e),n|=(127&i)<<21,128&i&&(i=cB(e),r=127&i,128&i&&(i=cB(e),r|=(127&i)<<7,128&i&&(i=cB(e),r|=(127&i)<<14,128&i&&(i=cB(e),r|=(127&i)<<21,128&i&&(i=cB(e),o=127&i,128&i&&(i=cB(e),o|=(127&i)<<7))))))))),{low:n|r<<28,high:r>>>4|o<<24,unsigned:t}}function pB(e,t){let i=t.low>>>0,n=(t.low>>>28|t.high<<4)>>>0,r=t.high>>>24,o=0===r?0===n?i<16384?i<128?1:2:i<1<<21?3:4:n<16384?n<128?5:6:n<1<<21?7:8:r<128?9:10,s=nB(e,o),a=e.bytes;switch(o){case 10:a[s+9]=r>>>7&1;case 9:a[s+8]=9!==o?128|r:127&r;case 8:a[s+7]=8!==o?n>>>21|128:n>>>21&127;case 7:a[s+6]=7!==o?n>>>14|128:n>>>14&127;case 6:a[s+5]=6!==o?n>>>7|128:n>>>7&127;case 5:a[s+4]=5!==o?128|n:127&n;case 4:a[s+3]=4!==o?i>>>21|128:i>>>21&127;case 3:a[s+2]=3!==o?i>>>14|128:i>>>14&127;case 2:a[s+1]=2!==o?i>>>7|128:i>>>7&127;case 1:a[s]=1!==o?128|i:127&i}}const _B={},EB={},mB=4294967296,fB=mB*mB,TB=fB/2,SB=vB(0,!0),gB=vB(0),RB=yB(0,-2147483648,!1),CB=yB(-1,2147483647,!1),IB=yB(-1,-1,!0);function vB(e,t){let i,n,r;return t?(r=0<=(e>>>=0)&&e<256)&&(n=EB[e],n)?n:(i=yB(e,0,!0),r&&(EB[e]=i),i):(r=-128<=(e|=0)&&e<128)&&(n=_B[e],n)?n:(i=yB(e,e<0?-1:0,!1),r&&(_B[e]=i),i)}function yB(e,t,i){return{low:0|e,high:0|t,unsigned:!!i}}function AB(e,t){if(isNaN(e))return t?SB:gB;if(t){if(e<0)return SB;if(e>=fB)return IB}else{if(e<=-TB)return RB;if(e+1>=TB)return CB}return e<0?t?SB:gB:yB(e%mB|0,e/mB|0,t)}function bB(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}class wB extends Sv{get connectionState(){return this._connectionState}set connectionState(e){if(this._connectionState===e)return;const t=this._connectionState;this._connectionState=e,this.emit(rw.CONNECTION_STATE_CHANGE,e,t)}get quality(){return this._quality}set quality(e){this._quality=e>1?1:e<.1?.1:e,this._qualityTimer&&(window.clearTimeout(this._qualityTimer),this._qualityTimer=null),this._quality>=1||(this._qualityTimer=window.setTimeout((()=>{this.quality=this._quality/this._qualityRatio}),6e4))}constructor(e){var t;super(),og(this,\"name\",\"AgoraRTCImageModeration\"),og(this,\"_connectionState\",nw.CONNECTING),og(this,\"_sequence\",0),og(this,\"_moderationStartTime\",void 0),og(this,\"_workerConnection\",void 0),og(this,\"_workerMessageLengthLimit\",void 0),og(this,\"_qualityRatio\",void 0),og(this,\"_connectInfo\",void 0),og(this,\"_cancelTokenSource\",EI.CancelToken.source()),og(this,\"_retryConfig\",void 0),og(this,\"_moderationInterval\",void 0),og(this,\"_moderationTimer\",null),og(this,\"_moderationMode\",1),og(this,\"_quality\",1),og(this,\"_qualityTimer\",null),og(this,\"_ticket\",void 0),og(this,\"_moderationIntervalMinimum\",void 0),og(this,\"_uploadFailedNum\",0),og(this,\"_uploadNum\",0),og(this,\"_uploadTimer\",null),og(this,\"_extraInfo\",void 0),og(this,\"_vendor\",\"\"),og(this,\"_encoder\",new TextEncoder),og(this,\"_moderationId\",void 0),og(this,\"inspectImage\",(()=>{if(this.connectionState!==nw.CONNECTED)throw new Sb(nv.OPERATION_ABORTED,\"image moderation service connection status is \".concat(this.connectionState));this._moderationTimer&&(window.clearInterval(this._moderationTimer),this._moderationTimer=null),this._moderationTimer=window.setInterval((()=>{this.connectionState===nw.CONNECTED?this.requestToInspectImage():Qy.debug(\"[\".concat(this._moderationId,\"] Moderation State is not connected , \"),this.connectionState)}),this._moderationInterval<this._moderationIntervalMinimum?this._moderationIntervalMinimum:this._moderationInterval),this.requestToInspectImage()})),this._moderationId=ey(5,\"image-moderation-\"),this._workerMessageLengthLimit=Dy(\"IMAGE_MODERATION_WORKER_MESSAGE_LENGTH_LIMIT\"),this._moderationIntervalMinimum=Dy(\"IMAGE_MODERATION_INTERVAL_MINIMUM\"),this._moderationInterval=null!==(t=e.interval)&&void 0!==t?t:1e3,e.extraInfo&&(this._extraInfo=this._encoder.encode(e.extraInfo)),e.vendor&&(this._vendor=e.vendor),this._qualityRatio=Dy(\"IMAGE_MODERATION_QUALITY_RATIO\"),this._moderationStartTime=Number(Date.now()),this._workerConnection=new bw(\"worker-\"+this._moderationId,_y),this.on(rw.STATE_CHANGE,((e,t)=>{Qy.debug(\"[\".concat(this._moderationId,\"] Moderation operation :\").concat(ow[e],\" \").concat(t||\"\"))})),this.handleWorkerEvents()}async init(e,t){this.emit(rw.STATE_CHANGE,ow.CONNECT_AP),this._connectInfo=e;const i=this._cancelTokenSource.token;return this._retryConfig=t,new Gh(((n,r)=>{this.on(rw.CONNECTION_STATE_CHANGE,((e,t)=>{e===nw.CONNECTED&&n()})),this.requestAP(e,i,t).then((e=>{this.connectWorker(e)})).catch((e=>{r(e)}))}))}updateConfig(e){var t;this._moderationInterval=null!==(t=e.interval)&&void 0!==t?t:1e3,e.extraInfo&&(this._extraInfo=this._encoder.encode(e.extraInfo)),e.vendor&&(this._vendor=e.vendor),Qy.debug(\"[\".concat(this._moderationId,\"] updateConfig: \").concat(JSON.stringify(e))),this.connectionState===nw.CONNECTED&&this.inspectImage()}async requestAP(e,t,i){const n=Dy(\"WEBCS_DOMAIN\").map((e=>\"https://\".concat(e,\"/api/v1\"))),r=await function(e,t,i,n){let{appId:r,areaCode:o,cname:s,sid:a,token:c,uid:d}=t;IU++;const l=\"moderation_plugin\",u={service_name:l,json_body:JSON.stringify({appId:r,areaCode:o,cname:s,command:\"allocateEdge\",requestId:IU,seq:IU,sid:a,appToken:c,ts:Date.now(),uid:d+\"\"})};let h,p,_=e[0];return my((async()=>{h=Date.now();const e=await tU(_,{data:u,cancelToken:i,headers:{\"X-Packet-Service-Type\":\"0\",\"X-Packet-URI\":\"61\"},params:{action:\"wrtc_gateway\"}});if(p=Date.now()-h,0!==e.code){const t=new Sb(nv.UNEXPECTED_RESPONSE,\"moderation plugin ap error, code\"+e.code,{retry:!0,responseTime:p});throw Qy.error(t.toString()),t}const t=JSON.parse(e.json_body);if(200!==t.code){const e=new Sb(nv.UNEXPECTED_RESPONSE,\"moderation plugin ap error, code: \".concat(t.code,\", reason: \").concat(t.reason),{code:t.code,responseTime:p});throw Qy.error(e.toString()),e}if(!t.servers||!Array.isArray(t.servers)||0===t.servers.length){const e=new Sb(nv.UNEXPECTED_RESPONSE,\"moderation plugin ap empty server\",{code:t.code,responseTime:p});throw Qy.error(e.toString()),e}if(!t.servers.some((e=>!!e.wss))){const e=new Sb(nv.UNEXPECTED_RESPONSE,\"moderation plugin ap empty port\",{code:t.code,responseTime:p});throw Qy.error(e.toString()),e}const n=Dy(\"IMAGE_MODERATION_WORKER_HOST\");return{addressList:t.servers.map((e=>{let{address:t,wss:i}=e;if(t&&i)return\"wss://\".concat(t.replace(/\\./g,\"-\"),\".\").concat(n,\":\").concat(i,\"/moderation\")})).filter((e=>!!e)),workerToken:t.workerToken,vid:t.vid,ticket:t.appTicket,responseTime:p}}),((t,i)=>(sA.apworkerEvent(a,{success:!0,sc:200,serviceName:l,responseDetail:JSON.stringify(t.addressList),firstSuccess:0===i,responseTime:p,serverIp:e[i%e.length]}),!1)),((t,i)=>(sA.apworkerEvent(a,{success:!1,sc:t.data&&t.data.code||200,serviceName:l,responseTime:p,serverIp:e[i%e.length]}),!!(t.code!==nv.OPERATION_ABORTED&&t.code!==nv.UNEXPECTED_RESPONSE||t.data&&t.data.retry)&&(_=e[(i+1)%e.length],!0))),n)}(n,e,t,i);this.emit(rw.STATE_CHANGE,ow.AP_CONNECTED);const{addressList:o,ticket:s}=r;return this._ticket=s,o}async connectWorker(e){this.emit(rw.STATE_CHANGE,ow.CONNECT_WORKER),await this._workerConnection.init(e,1e4)}handleWorkerEvents(){this._workerConnection.on(Tb.CONNECTED,(async()=>{this.emit(rw.STATE_CHANGE,ow.WORKER_CONNECTED,this._workerConnection.url),this.connectionState=nw.CONNECTED})),this._workerConnection.on(Tb.CLOSED,(()=>{this.connectionState=nw.CLOSED})),this._workerConnection.on(Tb.FAILED,(()=>{this.connectionState=nw.CLOSED})),this._workerConnection.on(Tb.RECONNECTING,(()=>{this.connectionState=this.connectionState===nw.CONNECTED?nw.RECONNECTING:nw.CONNECTING})),this._workerConnection.on(Tb.ON_MESSAGE,(async e=>{if(e.data instanceof ArrayBuffer){const t=QF(new Uint8Array(e.data));Dy(\"SHOW_IMAGE_MODERATION_WORKER_MESSAGE\")&&Qy.debug(\"[\".concat(this._moderationId,\"] Response message for worker of image moderation \"),JSON.stringify(t)),this._uploadNum++,void 0===t.code||0===t.code||(this._uploadFailedNum++,Qy.error(\"[\".concat(this._moderationId,\"] Error response from worke, code is \").concat(t.code,\", msg is \").concat(t.msg)),this._uploadTimer||(this._uploadTimer=window.setTimeout((()=>{sA.reportApiInvoke(this._connectInfo.sid||null,{name:Cv.IMAGE_MODERATION_UPLOAD,options:[this._uploadFailedNum,this._uploadNum,t.code],tag:Iv.TRACER}).onError(new Sb(nv.IMAGE_MODERATION_UPLOAD_FAILED,t.msg)),this._uploadTimer=null}),Dy(\"IMAGE_MODERATION_UPLOAD_REPORT_INTERVAL\"))))}else Qy.error(\"[\".concat(this._moderationId,\"] Unexpected message type from worker\"))})),this._workerConnection.on(Tb.WILL_RECONNECT,((e,t,i)=>{\"recover\"===e&&i(e),i(\"tryNext\")})),this._workerConnection.on(Tb.REQUEST_NEW_URLS,((e,t)=>{this.requestAP(this._connectInfo,this._cancelTokenSource.token,this._retryConfig).then(e).catch(t)}))}static intToLong(e){return{low:e|=0,high:e>>31,unsigned:e>=0}}async requestToInspectImage(){const e=Uv(this,rw.CLIENT_LOCAL_VIDEO_TRACK),t={appId:this._connectInfo.appId,cname:this._connectInfo.cname,cid:this._connectInfo.cid,sid:this._connectInfo.sid,uid:this._connectInfo.uid,vid:this._connectInfo.vid};if(e){if(!e.isPlaying)return void(Dy(\"SHOW_IMAGE_MODERATION_WORKER_MESSAGE\")&&Qy.debug(\"Only the track being played can be inspected\"));this._sequence++;const i=await this.generateRequestData(e,t);this._workerConnection.sendMessage(i,!0,!0)}else Dy(\"SHOW_IMAGE_MODERATION_WORKER_MESSAGE\")&&Qy.debug(\"Only the track being published can be inspected\")}async generateRequestData(e,t){let{appId:i,cname:n,cid:r,vid:o,sid:s,uid:a}=t;const c=Date.now(),d=await e.getCurrentFrameImage(\"image/jpeg\",this.quality),l=await hL(d,i,n),u=this._sequence+\"-\"+r+\"-\"+a+\"-\"+c+\"-\"+ey(12,\"\"),h={appId:i,cid:r,cname:n,deviceId:\"\",elapse:wB.intToLong(Number(c-this._moderationStartTime)),fileSize:d.buffer.byteLength,height:d.height,width:d.width,jpg:l,networkType:6,osType:7,requestId:u,sdkVersion:\"4.22.0\",sequence:this._sequence,sid:s,timestamp:AB(c),uid:a,vid:o,service:this._moderationMode,ticket:this._ticket,callbackData:this._extraInfo,vendorConfigs:this._vendor};void 0===this._extraInfo&&delete h.callbackData;const p=XF(h);if(p.byteLength<this._workerMessageLengthLimit){if(Dy(\"SHOW_IMAGE_MODERATION_WORKER_MESSAGE\")){const e=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?bB(Object(i),!0).forEach((function(t){og(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):bB(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},h);delete e.jpg,Qy.debug(\"[\".concat(this._moderationId,\"] Request message for worker of image moderation service: \"),JSON.stringify(e))}return p}{const t=this.quality*this._qualityRatio;return this.quality=t,await this.generateRequestData(e,{appId:i,cname:n,cid:r,vid:o,sid:s,uid:a})}}close(){this._cancelTokenSource.cancel(),this._cancelTokenSource=EI.CancelToken.source(),this._workerConnection&&this._workerConnection.close(),this._moderationTimer&&window.clearInterval(this._moderationTimer),this._moderationTimer=null,this._uploadTimer&&window.clearTimeout(this._uploadTimer),this._uploadTimer=null,this.connectionState=nw.CLOSED,this.emit(rw.STATE_CHANGE,ow.CLOSED)}}function OB(e){if(av(e.interval,\"interval\",1e3,1/0),e&&e.extraInfo&&e.extraInfo.length>1024)throw new Sb(nv.INVALID_PARAMS,\"config.extraInfo length cannot exceed 1024 bytes\");if(e&&e.vendor&&e.vendor.length>1024)throw new Sb(nv.INVALID_PARAMS,\"config.vendor length cannot exceed 1024 bytes\")}const NB={name:\"ImageModeration\",create:function(e){let{config:t}=e;return OB(t),new wB(t)}};var DB,PB,LB,kB,MB,UB,xB,VB,FB,BB,jB,GB,WB,HB,KB,YB,qB,zB,JB,XB,QB,ZB,$B,ej,tj,ij,nj,rj,oj,sj,aj,cj,dj,lj,uj,hj,pj,_j,Ej,mj,fj;function Tj(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function Sj(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Tj(Object(i),!0).forEach((function(t){og(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Tj(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}hy.setLogger(Qy);let gj=(DB=oA(),PB=oA({argsMap:(e,t)=>{if(!Array.isArray(t)){if(!(t instanceof bP))return[t];t=[t]}return t.map((e=>e?Object(e).toString():\"null\"))}}),LB=oA({argsMap:(e,t)=>(t||(t=[]),Array.isArray(t)||t.trackMediaType!==aP.DATA?(Array.isArray(t)||(t=[t]),t.map((e=>e.getTrackId()))):[t.getChannelId()])}),kB=oA({argsMap:(e,t,i,n)=>[\"object\"==typeof t?t.uid:t,i,n]}),MB=oA({argsMap:(e,t,i)=>[t,i]}),UB=oA({argsMap:(e,t)=>t.map((e=>{let{user:t,mediaType:i}=e;return[null==t?void 0:t.uid,i]}))}),xB=oA({argsMap:(e,t,i,n)=>[\"object\"==typeof t?t.uid:t,i,n]}),VB=oA({argsMap:(e,t)=>t.map((e=>{let{user:t,mediaType:i}=e;return{uid:null==t?void 0:t.uid,mediaType:i}}))}),FB=oA(),BB=oA(),jB=oA(),GB=oA(),WB=oA(),HB=oA(),KB=oA(),YB=oA(),qB=oA(),zB=oA(),JB=oA(),XB=oA(),QB=oA(),ZB=oA(),$B=oA({argsMap:(e,t)=>[t]}),ej=oA(),tj=oA(),ij=oA(),nj=oA(),rj=oA(),oj=oA(),sj=oA(),aj=oA(),cj=oA({argsMap:(e,t)=>(Array.isArray(t)||(t=[t]),[JSON.stringify(t)])}),dj=oA(),lj=oA(),uj=oA(),hj=oA(),pj=oA(),_j=oA(),Ej=oA({reportResult:!0}),mj=oA(),fj=class extends Sv{get connectionState(){return this._gateway.state}get remoteUsers(){return this._users}get localTracks(){return this._p2pChannel.getAllTracks(!0)}get uid(){return this._uid}get channelName(){return this._channelName}get localDataChannels(){return this._p2pChannel.getAllDataChannels()}get mode(){return this._config.mode}get role(){var e;return(null===(e=this._config)||void 0===e?void 0:e.role)||\"audience\"}get codec(){return this._config.codec}get audioCodec(){return this._config.audioCodec||\"opus\"}get isStringUID(){return!!this._joinInfo&&!!this._joinInfo.stringUid}get __className__(){return\"Client\"}constructor(e){let t;if(super(),og(this,\"store\",void 0),og(this,\"_uid\",void 0),og(this,\"_channelName\",void 0),og(this,\"_uintUid\",void 0),og(this,\"_users\",[]),og(this,\"_config\",void 0),og(this,\"_clientId\",void 0),og(this,\"_appId\",void 0),og(this,\"_sessionId\",null),og(this,\"_key\",void 0),og(this,\"_rtmConfig\",{}),og(this,\"_joinInfo\",void 0),og(this,\"_gateway\",void 0),og(this,\"_statsCollector\",void 0),og(this,\"_configDistribute\",void 0),og(this,\"_leaveMutex\",new hy(\"client-leave\")),og(this,\"_publishMutex\",new hy(\"client-publish\")),og(this,\"_renewTokenMutex\",new hy(\"client-renewtoken\")),og(this,\"_subscribeMutex\",new hy(\"client-subscribe\")),og(this,\"_encryptionMode\",\"none\"),og(this,\"_encryptionSecret\",null),og(this,\"_encryptionSalt\",null),og(this,\"_encryptDataStream\",!1),og(this,\"_encryptDataStreamKey\",null),og(this,\"_encryptDataStreamIv\",null),og(this,\"_proxyServer\",void 0),og(this,\"_turnServer\",{servers:[],mode:\"auto\"}),og(this,\"_cloudProxyServerMode\",\"disabled\"),og(this,\"_isDualStreamEnabled\",!1),og(this,\"_defaultStreamFallbackType\",void 0),og(this,\"_lowStreamParameter\",void 0),og(this,\"_streamFallbackTypeCacheMap\",new Map),og(this,\"_remoteStreamTypeCacheMap\",new Map),og(this,\"_axiosCancelSource\",EI.CancelToken.source()),og(this,\"_audioVolumeIndicationInterval\",void 0),og(this,\"_networkQualityInterval\",void 0),og(this,\"_userOfflineTimeout\",void 0),og(this,\"_streamRemovedTimeout\",void 0),og(this,\"_liveTranscodeStreamingClient\",void 0),og(this,\"_liveRawStreamingClient\",void 0),og(this,\"_channelMediaRelayClient\",void 0),og(this,\"_networkQualitySensitivity\",\"normal\"),og(this,\"_p2pChannel\",void 0),og(this,\"_useLocalAccessPoint\",!1),og(this,\"_setLocalAPVersion\",void 0),og(this,\"_joinAndNotLeaveYet\",!1),og(this,\"_numberOfJoinCount\",0),og(this,\"_remoteDefaultVideoStreamType\",void 0),og(this,\"_inspect\",void 0),og(this,\"_moderation\",void 0),og(this,\"_license\",void 0),og(this,\"_pendingPublishedUsers\",[]),og(this,\"ntpAlignErrorCount\",0),og(this,\"remoteInboundOffset\",0),og(this,\"_handleLocalTrackEnable\",((e,t,i)=>{this.publish(e,!1).then(t).catch(i)})),og(this,\"_handleLocalTrackDisable\",((e,t,i)=>{this.unpublish(e).then(t).catch(i)})),og(this,\"_handleUserOnline\",(e=>{if(Dy(\"BLOCK_LOCAL_CLIENT\")&&uA(e.uid,this.channelName))return void Qy.debug(\"[\".concat(e.uid,\"] will be ignored in local\"));this.isStringUID&&\"string\"!=typeof e.uid&&Qy.error(\"[\".concat(this._clientId,\"] StringUID is Mixed with UintUID\"));const t=this._users.find((t=>t.uid===e.uid));if(t)t._trust_in_room_=!0,t._is_pre_created&&(t._is_pre_created=!1,this.safeEmit(Nv.USER_JOINED,t));else{const t=new iV(e.uid,e.uint_id||e.uid);this._users.push(t),Qy.debug(\"[\".concat(this._clientId,\"] user online\"),e.uid),this.safeEmit(Nv.USER_JOINED,t)}})),og(this,\"_handleUserOffline\",(e=>{if(Dy(\"BLOCK_LOCAL_CLIENT\")&&uA(e.uid,this.channelName))return;const t=this._users.find((t=>t.uid===e.uid));t&&(this._handleRemoveStream(e),this._handleRemoveDataChannels(e),t._audio_pre_subscribed||t._video_pre_subscribed?t._is_pre_created=!0:Fv(this._users,t),this._remoteStreamTypeCacheMap.delete(t.uid),this._streamFallbackTypeCacheMap.delete(t.uid),Qy.debug(\"[\".concat(this._clientId,\"] user offline\"),e.uid,\"reason:\",e.reason),this.safeEmit(Nv.USER_LEAVED,t,e.reason))})),og(this,\"_handleAddAudioOrVideoStream\",((e,t,i,n,r,o,s)=>{if(Dy(\"BLOCK_LOCAL_CLIENT\")&&uA(t,this.channelName))return;const a=this._users.find((e=>e.uid===t));if(!a)return void Qy.error(\"[\".concat(this._clientId,\"] can not find target user!(on_add_stream)\"));Qy.debug(\"[\".concat(this._clientId,\"] stream added with uid \").concat(t,\", type \").concat(e)),this.store.subscribe(a.uid,e,void 0,void 0,void 0,Date.now());const c=\"audio\"===e?a.hasAudio:a.hasVideo;a._uintid||(a._uintid=r||t),\"audio\"===e?a._trust_audio_stream_added_state_=!0:a._trust_video_stream_added_state_=!0,\"audio\"===e?(a._audio_added_=!0,void 0!==i&&(a._audioSSRC=i),void 0!==n&&(a._cname=n),o&&(a._audioOrtc=o)):(a._video_added_=!0,void 0!==i&&(a._videoSSRC=i),void 0!==n&&(a._cname=n),void 0!==s&&(a._rtxSsrcId=s),o&&(a._videoOrtc=o)),(\"audio\"===e?a.hasAudio:a.hasVideo)&&!c&&(Qy.info(\"[\".concat(this._clientId,\"] remote user \").concat(a.uid,\" published \").concat(e)),this.safeEmit(Nv.USER_PUBLISHED,a,e)),\"video\"===e?sA.onGatewayStream(this._sessionId,tA.ON_ADD_VIDEO_STREAM,iA.ON_ADD_VIDEO_STREAM,{peer:r||t,ssrc:a._videoSSRC}):sA.onGatewayStream(this._sessionId,tA.ON_ADD_AUDIO_STREAM,iA.ON_ADD_AUDIO_STREAM,{peer:r||t,ssrc:a._audioSSRC}),this._p2pChannel.remoteMediaSsrcChanged(a,e,i).then((t=>{if(t&&(Qy.debug(\"[\".concat(this._clientId,\"] resubscribe \").concat(e,\" for user \").concat(a.uid,\" after rejoin because SSRC id changed.\")),this._p2pChannel instanceof hF))return this._p2pChannel.unsubscribe(a,e,!0).then((()=>this._subscribe(a,e,!0).catch((e=>{Qy.error(\"[\".concat(this._clientId,\"] resubscribe error\"),e.toString())}))))})),this._p2pChannel.hasPendingRemoteMedia(a,e)&&(Qy.debug(\"[\".concat(this._clientId,\"] resubscribe \").concat(e,\" for user \").concat(a.uid,\" after reconnect.\")),this._subscribe(a,e,!0).catch((e=>{Qy.error(\"[\".concat(this._clientId,\"] resubscribe error\"),e.toString())})))})),og(this,\"_handleRemoveStream\",(e=>{if(Dy(\"BLOCK_LOCAL_CLIENT\")&&uA(e.uid,this.channelName))return;const t=this._users.find((t=>t.uid===e.uid));if(!t)return void Qy.warning(\"[\".concat(this._clientId,\"] can not find target user!(on_remove_stream)\"));Qy.debug(\"[\".concat(this._clientId,\"] stream removed with uid \").concat(e.uid));let i=()=>{};t.hasAudio&&t.hasVideo?i=()=>{Qy.info(\"[\".concat(this._clientId,\"] remote user \").concat(t.uid,\" unpublished audio track\")),this.safeEmit(Nv.USER_UNPUBLISHED,t,\"audio\"),Qy.info(\"[\".concat(this._clientId,\"] remote user \").concat(t.uid,\" unpublished video track\")),this.safeEmit(Nv.USER_UNPUBLISHED,t,\"video\")}:t.hasVideo?i=()=>{Qy.info(\"[\".concat(this._clientId,\"] remote user \").concat(t.uid,\" unpublished video track\")),this.safeEmit(Nv.USER_UNPUBLISHED,t,\"video\")}:t.hasAudio&&(i=()=>{Qy.info(\"[\".concat(this._clientId,\"] remote user \").concat(t.uid,\" unpublished audio track\")),this.safeEmit(Nv.USER_UNPUBLISHED,t,\"audio\")}),t._video_pre_subscribed||t._audio_pre_subscribed||(t._trust_audio_stream_added_state_=!0,t._trust_video_stream_added_state_=!0,t._audio_added_=!1,t._video_added_=!1,this._p2pChannel instanceof hF&&this._p2pChannel.unsubscribe(t).then((e=>{if(e)return this._gateway.unsubscribe(e,t.uid)})),t._audioSSRC=void 0,t._videoSSRC=void 0,t._audioOrtc=void 0,t._videoOrtc=void 0,t._rtxSsrcId=void 0),sA.onGatewayStream(this._sessionId,tA.ON_REMOVE_STREAM,iA.ON_REMOVE_STREAM,{peer:e.uint_id||e.uid}),i()})),og(this,\"_handleSetStreamLocalEnable\",((e,t,i)=>{if(Dy(\"BLOCK_LOCAL_CLIENT\")&&uA(t,this.channelName))return;const n=this._users.find((e=>e.uid===t));if(!n)return void Qy.error(\"[\".concat(this._clientId,\"] can not find target user!(disable_local)\"));Qy.debug(\"[\".concat(this._clientId,\"] local \").concat(e,\" \").concat(i?\"enabled\":\"disabled\",\" with uid \").concat(t));const r=\"audio\"===e?n.hasAudio:n.hasVideo;if(\"audio\"===e){n._trust_audio_enabled_state_=!0;const e=n._audio_enabled_;if(n._audio_enabled_=i,n._audio_enabled_===e)return;{const e=n._audio_enabled_?\"enable-local-audio\":\"disable-local-audio\";Qy.debug(\"[\".concat(this._clientId,\"] user-info-updated, uid: \").concat(t,\", msg: \").concat(e)),this.safeEmit(Nv.USER_INFO_UPDATED,t,e)}}else{n._trust_video_enabled_state_=!0;const e=n._video_enabled_;if(n._video_enabled_=i,n._video_enabled_===e)return;{const e=n._video_enabled_?\"enable-local-video\":\"disable-local-video\";Qy.debug(\"[\".concat(this._clientId,\"] user-info-update, uid: \").concat(t,\", msg: \").concat(e)),this.safeEmit(Nv.USER_INFO_UPDATED,t,e)}}const o=\"audio\"===e?n.hasAudio:n.hasVideo;return r!==o?!r&&o?(Qy.info(\"[\".concat(this._clientId,\"] remote user \").concat(t,\" published \").concat(e)),void this.safeEmit(Nv.USER_PUBLISHED,n,e)):(\"video\"===e&&n._videoTrack&&n._videoTrack._destroy(),\"audio\"===e&&n._audioTrack,this._p2pChannel.muteRemote(n,e),Qy.info(\"[\".concat(this._clientId,\"] remote user \").concat(t,\" unpublished \").concat(e)),void this.safeEmit(Nv.USER_UNPUBLISHED,n,e)):void 0})),og(this,\"_handleMuteStream\",((e,t,i)=>{if(Dy(\"BLOCK_LOCAL_CLIENT\")&&uA(e,this.channelName))return;Qy.debug(\"[\".concat(this._clientId,\"] receive mute message\"),e,t,i);const n=this._users.find((t=>t.uid===e));if(!n)return void Qy.warning(\"[\".concat(this._clientId,\"] can not find remote user, ignore mute event, uid: \").concat(e));const r=\"audio\"===t?n.hasAudio:n.hasVideo;if(\"audio\"===t){n._trust_audio_mute_state_=!0;const t=n._audio_muted_;if(n._audio_muted_=i,n._audio_muted_===t)return;{const t=n._audio_muted_?\"mute-audio\":\"unmute-audio\";Qy.debug(\"[\".concat(this._clientId,\"] user-info-update, uid: \").concat(e,\", msg: \").concat(t)),this.safeEmit(Nv.USER_INFO_UPDATED,e,t)}}else{n._trust_video_mute_state_=!0;const t=n._video_muted_;if(n._video_muted_=i,n._video_muted_===t)return;{const t=n._video_muted_?\"mute-video\":\"unmute-video\";Qy.debug(\"[\".concat(this._clientId,\"] user-info-update, uid: \").concat(e,\", msg: \").concat(t)),this.safeEmit(Nv.USER_INFO_UPDATED,e,t)}}const o=\"audio\"===t?n.hasAudio:n.hasVideo;if(r!==o){if(!r&&o){return(\"audio\"===t?n._audioSSRC:n._videoSSRC)?(Qy.info(\"[\".concat(this._clientId,\"] remote user \").concat(e,\" published \").concat(t)),void this.safeEmit(Nv.USER_PUBLISHED,n,t)):void Qy.warning(\"[\".concat(this._clientId,\"] remote user \").concat(e,\" receive \").concat(t,\" unmute message  before add stream message, \").concat(t,\" SSRC doesn't exist yet.\"))}\"video\"===t&&n._videoTrack&&!n._video_pre_subscribed&&n._videoTrack._destroy(),\"audio\"===t&&n._audioTrack,this._p2pChannel.muteRemote(n,t),Qy.info(\"[\".concat(this._clientId,\"] remote user \").concat(e,\" unpublished \").concat(t)),this.safeEmit(Nv.USER_UNPUBLISHED,n,t)}})),og(this,\"_handleP2PLost\",(async e=>{Qy.debug(\"[\".concat(this._clientId,\"] receive p2p lost\"),e),parseInt(e.p2pid,10)===this.store.p2pId?await this._p2pChannel.requestReconnect():Qy.warning(\"[\".concat(this._clientId,\"] P2PLost stream not found\"),e)})),og(this,\"_handleTokenWillExpire\",(()=>{Qy.debug(\"[\".concat(this._clientId,\"] received message onTokenPrivilegeWillExpire\")),this.safeEmit(Nv.ON_TOKEN_PRIVILEGE_WILL_EXPIRE)})),og(this,\"_handleBeforeUnload\",(e=>{\"beforeunload\"===e.type&&void 0!==e.returnValue&&\"\"!==e.returnValue||(this.leave(),Qy.info(\"[\".concat(this._clientId,\"] auto leave onbeforeunload or pagehide\")))})),og(this,\"_handleUpdateNetworkQuality\",(()=>{if(\"normal\"===this._networkQualitySensitivity)return;if(navigator&&void 0!==navigator.onLine&&!navigator.onLine)return void this.safeEmit(Nv.NETWORK_QUALITY,{downlinkNetworkQuality:6,uplinkNetworkQuality:6});const e={downlinkNetworkQuality:0,uplinkNetworkQuality:0};e.uplinkNetworkQuality=this._p2pChannel.getUplinkNetworkQuality(),e.downlinkNetworkQuality=this._p2pChannel.getDownlinkNetworkQuality(),this.safeEmit(Nv.NETWORK_QUALITY,e)})),og(this,\"_handleP2PAddAudioOrVideoStream\",((e,t,i,n)=>{const r=this._users.find((e=>e.uid===t));if(!r)return void Qy.error(\"[\".concat(this._clientId,\"] can not find target user!(on_add_stream)\"));Qy.debug(\"[\".concat(this._clientId,\"] stream added with uid \").concat(t,\", type \").concat(e)),this.store.subscribe(r.uid,e,void 0,void 0,void 0,Date.now());const o=\"audio\"===e?r.hasAudio:r.hasVideo;\"audio\"===e?r._trust_audio_stream_added_state_=!0:r._trust_video_stream_added_state_=!0,\"audio\"===e?(r._audio_added_=!0,void 0!==i&&(r._audioSSRC=i),void 0!==n&&(r._audioMid=n)):(r._video_added_=!0,void 0!==i&&(r._videoSSRC=i),void 0!==n&&(r._videoMid=n)),(\"audio\"===e?r.hasAudio:r.hasVideo)&&!o&&(Qy.info(\"[\".concat(this._clientId,\"] remote user \").concat(r.uid,\" published \").concat(e)),this.safeEmit(Nv.USER_PUBLISHED,r,e)),this._p2pChannel.hasPendingRemoteMedia(r,e)&&(Qy.debug(\"[\".concat(this._clientId,\"] resubscribe \").concat(e,\" for user \").concat(r.uid,\" after reconnect.\")),this._subscribe(r,e,!0).catch((e=>{Qy.error(\"[\".concat(this._clientId,\"] resubscribe error\"),e.toString())})))})),this._config=e,this._clientId=ey(5,\"client-\"),this.store=new ky(e.codec,e.audioCodec,e.mode,this._clientId),this.store.clientCreated(),e.proxyServer&&this.setProxyServer(e.proxyServer,!0),e.turnServer&&this.setTurnServer(e.turnServer,!0),Qy.info(\"[\".concat(this._clientId,\"] Initializing AgoraRTC client v\").concat(vy,\" build: \").concat(wy,\", mode: \").concat(this.mode,\", codec: \").concat(this.codec)),e.clientRoleOptions)try{Ov(e.clientRoleOptions),t=Object.assign({},e.clientRoleOptions)}catch(e){Qy.warning(\"[\".concat(this._clientId,\"] \").concat(e.toString()))}this._statsCollector=new yV(this.store),this._statsCollector.onStatsException=(e,t,i)=>{Qy.debug(\"[\".concat(this._clientId,\"] receive exception msg, code: \").concat(e,\", msg: \").concat(t,\", uid: \").concat(i)),this.safeEmit(Nv.EXCEPTION,{code:e,msg:t,uid:i})},this._statsCollector.onUploadPublishDuration=(e,t,i,n)=>{const r=this._users.find((t=>t.uid===e));r&&sA.peerPublishStatus(this._sessionId,{subscribeElapse:n,audioPublishDuration:t,videoPublishDuration:i,peer:r._uintid})},this.store.useP2P=\"p2p\"===e.mode,this._gateway=new ZM(this.store,{clientId:this._clientId,mode:this.mode,codec:this.codec,websocketRetryConfig:e.websocketRetryConfig||_y,httpRetryConfig:e.httpRetryConfig||_y,forceWaitGatewayResponse:void 0===e.forceWaitGatewayResponse||e.forceWaitGatewayResponse,statsCollector:this._statsCollector,role:e.role,clientRoleOptions:t}),this._configDistribute=new VU,this.store.useP2P?(this._p2pChannel=new RV(this.store,this._statsCollector),this._handleP2PEvents()):this._p2pChannel=new hF(this.store,this._statsCollector),this._handleP2PChannelEvents(),this._handleGatewayEvents(),this._handleGatewaySignalEvents()}async joinMeta(e,t,i,n,r){let o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],s=arguments.length>6&&void 0!==arguments[6]&&arguments[6];Ny(\"JOIN_GATEWAY_USE_443PORT_ONLY\",o),Ny(\"JOIN_GATEWAY_USE_DUAL_DOMAIN\",s);const a=this._gateway.signal.websocket;return a instanceof Aw&&(a.use443PortOnly=o,a.tryDoubleDomain=s),async function(e,t,i){TI.get(e)||TI.set(e,[]),SI.get(e)||SI.set(e,t),gI.get(e)||gI.set(e,0);const n=TI.get(e),r=SI.get(e);if(!n||!r)throw new Error(\"concurrent: deferQueue or maxConcurrency is null\");if(gI.get(e)===r){const e=fI();n.push(e),await e.promise}gI.set(e,gI.get(e)+1);for(var o=arguments.length,s=new Array(o>3?o-3:0),a=3;a<o;a++)s[a-3]=arguments[a];const c=await i(...s);return gI.set(e,gI.get(e)-1),gI.get(e)===r-1&&n.length>0&&(n[0].resolve(),n.shift()),0===gI.get(e)&&(TI.set(e,[]),SI.set(e,0),gI.set(e,0)),c}(\"client.join\",Dy(\"JOIN_MAX_CONCURRENCY\"),this.join.bind(this),e,t,i,n,r)}async join(e,t,i,n,r){const o=++this._numberOfJoinCount;this.store.joinStart(),n&&(this.store.uid=n);const s=\"HTTPS\"===(Ty||Ty||(Ty=(window.location.protocol.split(\":\")[0]||\"\").toUpperCase(),Ty)),a=Iy()?window.isSecureContext:\"Browser Not Support\";if(!Iy()&&!s||!window.isSecureContext){const e=\"The website must be running in a secure context (About secure context: https://developer.mozilla.org/en-US/docs/Web/Security/Secure_Contexts ), otherwise the media collection will be restricted by the browser\";Qy.warning(e)}\"DISCONNECTED\"===this.connectionState&&(this.store.avoidJoinStart=Math.round(Date.now()),Qy.debug(\"[\".concat(this._clientId,\"] set avoidJoinStart to \").concat(this.store.avoidJoinStart))),sA.setAppId(e);try{if(!i&&null!==i)throw new Sb(nv.INVALID_PARAMS,\"Invalid token: \".concat(i,\". If you don not use token, set it to null\"));i&&dv(i,\"token\",1,2047),dv(e,\"appid\",1,2047),gb(t),n&&Rb(n),r&&dv(r,\"optionalInfo\",1,2047)}catch(r){throw sA.reportApiInvoke(ty(),{name:Cv.JOIN,options:[e,t,i,n],states:{isHttps:s,isSecureContext:a},tag:Iv.TRACER}).onError(r),r}if(this._leaveMutex.isLocked){Qy.debug(\"[\".concat(this._clientId,\"] join: waiting leave operation\"));(await this._leaveMutex.lock())(),Qy.debug(\"[\".concat(this._clientId,\"] join: continue\"))}if(this._joinAndNotLeaveYet=!0,\"DISCONNECTED\"!==this.connectionState){const r=new Sb(nv.INVALID_OPERATION,\"[\".concat(this._clientId,\"] Client already in connecting/connected state\"));throw sA.reportApiInvoke(ty(),{name:Cv.JOIN,options:[e,t,i,n],states:{isHttps:s,isSecureContext:a},tag:Iv.TRACER}).onError(r),r}this._gateway.state=\"CONNECTING\";const c=await GF({appId:e,cname:t,uid:n,stringUid:\"string\"==typeof n?n:void 0,token:i||e,cloudProxyServer:this._cloudProxyServerMode});if(!this._joinAndNotLeaveYet)throw new Sb(nv.INVALID_OPERATION,\"[\".concat(this._clientId,\"] Client already left\"));const d=(null==c?void 0:c.sid)||ty();Qy.info(\"[\".concat(this._clientId,\"] start join channel \").concat(t,\", join number: \").concat(o)),this._sessionId||(this._sessionId=d,this.store.sessionId=this._sessionId);const l=sA.reportApiInvoke(d,{name:Cv.JOIN,options:[e,t,i,n],states:{isHttps:s,isSecureContext:a},tag:Iv.TRACER}),u=Sj(Sj({},this._rtmConfig),{},{clientId:this._clientId,appId:e,sid:this._sessionId,cname:t,uid:\"string\"!=typeof n?n:null,turnServer:this._turnServer,proxyServer:this._proxyServer,token:i||e,cloudProxyServer:this._cloudProxyServerMode,optionalInfo:r,license:this._license,useLocalAccessPoint:this._useLocalAccessPoint,preload:!!c},void 0!==this._remoteDefaultVideoStreamType&&{defaultVideoStream:this._remoteDefaultVideoStreamType});if(this._useLocalAccessPoint&&(u.setLocalAPVersion=this._setLocalAPVersion),\"string\"==typeof n&&(u.stringUid=n,this._uintUid?(u.uid=this._uintUid,this._uintUid=void 0):u.uid=0),\"none\"!==this._encryptionMode&&this._encryptionSecret){if(u.aesmode=this._encryptionMode,u.aespassword=await(async e=>{const t=function(e){const t=window.atob(\"MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQDCMnXAHkKIGAM+x4N22gCI+Wyu\\nSTM9ztkT3uYslTT2PuKmZfPzhH6kVdO7PTjGCOZnAsyb3oTtWat0KcxQ4jxvqQV+\\nHvYl3iI1Yd4vl2c3qRMJPLtRDfNxa2Mcxgq7e9aEUibzdd0st+OJAy3tOj/Y0aVy\\nxQiYDz3vqa6bP29adwIDAQAB\"),i=new Uint8Array(new ArrayBuffer(t.length));for(let e=0;e<t.length;e+=1)i[e]=t.charCodeAt(e);return i}(),i=await window.crypto.subtle.importKey(\"spki\",t,{name:\"RSA-OAEP\",hash:\"SHA-256\"},!0,[\"encrypt\"]),n=mv(e),r=await window.crypto.subtle.encrypt({name:\"RSA-OAEP\"},i,n);return function(e){let t=\"\";for(let i=0;i<e.length;i+=1)t+=String.fromCharCode(e[i]);return window.btoa(t)}(new Uint8Array(r))})(this._encryptionSecret),!this._joinAndNotLeaveYet)throw new Sb(nv.INVALID_OPERATION,\"[\".concat(this._clientId,\"] Client already left\"));this._encryptionSalt&&(u.aessalt=this._encryptionSalt)}if(this._encryptDataStream&&(\"aes-128-gcm2\"===this._encryptionMode||\"aes-256-gcm2\"===this._encryptionMode))if(this._encryptionSalt&&this._encryptionSecret)if(window.crypto.subtle){const e=new TextEncoder,t=Dy(\"USE_PURE_ENCRYPTION_MASTER_KEY\")?e.encode(u.appId+this._encryptionSecret+this._encryptionSecret):e.encode(u.appId+u.cname+this._encryptionSecret);this._encryptDataStreamIv=await async function(e,t,i){const n=await window.crypto.subtle.importKey(\"raw\",t,\"PBKDF2\",!1,[\"deriveBits\",\"deriveKey\"]),r=\"aes-128-gcm2\"===e?128:256,o=await window.crypto.subtle.deriveBits({name:\"PBKDF2\",iterations:Vy,hash:\"SHA-256\",salt:i},n,r+xy);return new Uint8Array(o).subarray(r/8)}(this._encryptionMode,t,Yv(this._encryptionSalt)),this._encryptDataStreamKey=await async function(e,t,i){const n=await window.crypto.subtle.importKey(\"raw\",t,\"PBKDF2\",!1,[\"deriveBits\",\"deriveKey\"]),r=\"aes-128-gcm2\"===e?128:256;return await window.crypto.subtle.deriveKey({name:\"PBKDF2\",iterations:Vy,hash:\"SHA-256\",salt:i},n,{name:\"AES-GCM\",length:r},!0,[\"encrypt\",\"decrypt\"])}(this._encryptionMode,t,Yv(this._encryptionSalt))}else a?Qy.warning(\"[\".concat(this._clientId,\"] encrypt datastream must be running in a secure context, fallback to plain data stream\")):Qy.warning(\"[\".concat(this._clientId,\"] current browser do not support WebCrypto ,fallback to plain data stream\")),this._encryptDataStream=!1;else this._encryptDataStream=!1,Qy.debug(\"[\".concat(this._clientId,\"] no salt / secret, cannot support encrypt data stream, fallback to plain data stream\"));this._startSession(this._sessionId,{channel:t,appId:e,stringUid:u.stringUid});const h=this._sessionId;setTimeout((()=>{\"CONNECTING\"===this.connectionState&&h===this._sessionId&&sA.joinChannelTimeout(this._sessionId,5)}),5e3);try{var p;let n;const r=u.cloudProxyServer;if(Dn(p=[\"proxy3\",\"proxy4\",\"proxy5\"]).call(p,r)){const e=Dy(\"PROXY_SERVER_TYPE3\");Array.isArray(e)?u.proxyServer=e[0]:u.proxyServer=e}if(sA.setProxyServer(u.proxyServer),Qy.setProxyServer(u.proxyServer),this.store.requestAPStart(),c){if(Qy.debug(\"[\".concat(this._clientId,\"] get serverInfo Success from Preload Cache \").concat(u.stringUid?\", \".concat(u.stringUid,\" => \").concat(c.intUid):\"\",\" \")),u.stringUid&&!u.uid&&(u.uid=c.intUid),n={gatewayInfo:c.ap.gatewayInfo},Dy(\"JOIN_WITH_FALLBACK_MEDIA_PROXY\")&&\"auto\"===u.turnServer.mode)if(0===c.ap.proxyInfo.addresses.length)Qy.warning(\"no edge services in ap response of proxy fallback, will not set proxy in iceServers\");else{const e=(await Vw(c.ap.proxyInfo,c.ap.gatewayInfo.uid)).map((e=>({turnServerURL:e.address,tcpport:e.tcpport||cA.tcpport,udpport:e.udpport||cA.udpport,username:e.username||cA.username,password:e.password||cA.password,forceturn:!1,security:!0})));u.turnServer={mode:\"manual\",servers:e}}YF(c,u.stringUid)}else{if(u.stringUid&&!u.uid){let e;[e,n]=await Gh.all([OU(u.stringUid,u,this._axiosCancelSource.token,this._config.httpRetryConfig||_y,this.store),wU(u,this._axiosCancelSource.token,this._config.httpRetryConfig||_y,!0,this.store)]),Qy.debug(\"[\".concat(this._clientId,\"] getUserAccount Success \").concat(u.stringUid,\" => \").concat(e)),u.uid=e,n.gatewayInfo.uid=e,n.gatewayInfo.res.uid=e}else n=await wU(u,this._axiosCancelSource.token,this._config.httpRetryConfig||_y,!0,this.store);if(!this._joinAndNotLeaveYet)throw new Sb(nv.INVALID_OPERATION,\"[\".concat(this._clientId,\"] Client already left\"))}this.store.requestAPEnd(),setTimeout((()=>{this._configDistribute.startGetConfigDistribute(u,this._axiosCancelSource.token),this._configDistribute.on(Wb.UPDATE_BITRATE_LIMIT,(e=>{this._p2pChannel.updateBitrateLimit(e)}))}),0),this._key=i||e;const o=n.gatewayInfo,s=u.uid?u.uid:o.uid;this._joinInfo=Sj(Sj({},u),{},{cid:o.cid,uid:s,vid:o.vid,apResponse:o.res,apGatewayAddress:o.apGatewayAddress,uni_lbs_ip:o.uni_lbs_ip,gatewayAddrs:o.gatewayAddrs}),this.store.intUid=s;const a=await this._joinGateway();if(!this._joinAndNotLeaveYet)throw new Sb(nv.INVALID_OPERATION,\"[\".concat(this._clientId,\"] Client already left\"));l.onSuccess(a),this._appId=e,this._channelName=u.cname,this._uid=a,this.store.uid=a,setTimeout((()=>{this._networkQualityInterval&&window.clearInterval(this._networkQualityInterval),this._networkQualityInterval=window.setInterval(this._handleUpdateNetworkQuality,2e3),window.addEventListener(PI()?\"beforeunload\":\"pagehide\",this._handleBeforeUnload),this._statsCollector.startUpdateStats()}),0);const d=u.stringUid?\"string uid: \".concat(u.stringUid,\",uid: \").concat(u.uid):\"uid: \".concat(this._uid);return Qy.info(\"[\".concat(this._clientId,\"] Joining channel success: channel: \").concat(t,\",\").concat(d)),setTimeout((()=>{Qy.startUpload()}),5e3),this.store.joinEnd(),_=this,Dn(lA).call(lA,_)||lA.push(_),\"disabled\"===this._cloudProxyServerMode&&MD().supportWebCrypto&&Dy(\"ENABLE_PRELOAD\")&&HF(this._joinInfo),a}catch(e){const t=Array.isArray(e)?e[0]:e;throw t&&t.code===nv.OPERATION_ABORTED?Qy.warning(\"[\".concat(this._clientId,\"] join number: \").concat(o,\", Joining channel failed, rollback\"),t):Qy.error(\"[\".concat(this._clientId,\"] join number: \").concat(o,\", Joining channel failed, rollback\"),t),t.code!==nv.OPERATION_ABORTED&&this._numberOfJoinCount===o&&(this._gateway.state=\"DISCONNECTED\",this._reset()),l.onError(t),t}var _}_joinGateway(){if(!this._joinInfo||!this._key)throw new Sb(nv.INVALID_OPERATION);return this._gateway.join(this._joinInfo,this._key,!(\"disabled\"!==this._joinInfo.cloudProxyServer||this._joinInfo.proxyServer||!Dy(\"JOIN_WITH_FALLBACK_SIGNAL_PROXY\")))}async leave(){Qy.info(\"[\".concat(this._clientId,\"] Leaving channel\")),window.removeEventListener(PI()?\"beforeunload\":\"pagehide\",this._handleBeforeUnload),this._reset(),function(e){const t=lA.indexOf(e);-1!==t&&lA.splice(t,1)}(this),this._statsCollector.stopUpdateStats();const e=await this._leaveMutex.lock();if(\"DISCONNECTED\"===this.connectionState)return Qy.info(\"[\".concat(this._clientId,\"] Leaving channel repeated, success\")),void e();await this._gateway.leave(\"CONNECTED\"!==this.connectionState),Qy.info(\"[\".concat(this._clientId,\"] Leaving channel success\")),this._joinAndNotLeaveYet=!1,this.store.resetJoinChannelServiceRecords(),e()}async publish(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!Array.isArray(e)){if(!(e instanceof bP))return this._publishDataChannel(e);e=[e]}if(0===e.length)throw new Sb(nv.INVALID_PARAMS,\"param list is empty\");const i=e;if(\"audience\"===this._gateway.role)throw new Sb(nv.INVALID_OPERATION,\"audience can not publish stream\");for(const e of i){if(!(e instanceof bP))throw new Sb(nv.INVALID_PARAMS,\"parameter is not local track\");if(!e._enabled&&t)throw new Sb(nv.TRACK_IS_DISABLED,\"can not publish a disabled track: \".concat(e.getTrackId()))}Qy.info(\"[\".concat(this._clientId,\"] Publishing tracks, id \").concat(i.map((e=>\"\".concat(e.getTrackId(),\" \")))));const n=await this._publishMutex.lock();await this._configDistribute.awaitConfigDistributeComplete(),t&&i.forEach((e=>{const t=this._configDistribute.getBitrateLimit();e instanceof Hk&&t&&e.setBitrateLimit(t.uplink)}));try{await this._publishHighStream(i),Qy.info(\"[\".concat(this._clientId,\"] Publish success, id \").concat(i.map((e=>\"\".concat(e.getTrackId(),\" \")))))}catch(e){throw Qy.error(\"[\".concat(this._clientId,\"] publish error\"),e.toString()),e}finally{n()}}async _publishDataChannel(e){av(e.id,\"id\",0,65535,!0),ov(e.ordered,\"ordered\"),dv(e.metadata,\"metadata\",0,512),Qy.info(\"[\".concat(this._clientId,\"] Publishing datachannels, id \").concat(e.id));const t=await this._publishMutex.lock();try{if(-1!==this._p2pChannel.getAllDataChannels().findIndex((t=>t.id===e.id)))throw new Sb(nv.INVALID_PARAMS,\"Invalid id: \".concat(e.id,\". If you want to republish the datachannel, unpublish first\"));if(!this._joinInfo||void 0===this._uid)throw new Sb(nv.INVALID_OPERATION,\"Can't publish datachannel, haven't joined yet!\");if(\"CONNECTED\"!==this.connectionState&&\"RECONNECTING\"!==this.connectionState)throw new Sb(nv.INVALID_OPERATION,\"can not publish datachannel in \".concat(this.connectionState,\" state\"));if(\"auto\"===this._turnServer.mode&&Dy(\"FORCE_TURN\")&&!Dy(\"TURN_ENABLE_TCP\")&&!Dy(\"TURN_ENABLE_UDP\"))throw new Sb(nv.UNEXPECTED_ERROR,\"force TURN With No TURN Configuration\");const i=function(e){return fF(e,!1)}(e),n=await this._p2pChannel.publishDataChannel([i]);if(n.length>0){if(\"number\"!=typeof i._originDataChannelId)throw Qy.error(\"[\".concat(this._clientId,\"] can not publish with mediaType datachannel, cannot get RTCDatachannel id\")),new Sb(nv.CREATE_DATACHANNEL_ERROR);try{await Gh.all(n.map((e=>this._uid&&this._gateway.publishDataChannel(this._uid,e,!0)))),await i._waitTillOpen()}catch(e){if(e.code!==nv.DISCONNECT_P2P)throw e}}return Qy.info(\"[\".concat(this._clientId,\"] Publish dataChannels success, id \").concat(i.id)),i}catch(e){throw Qy.error(\"[\".concat(this._clientId,\"] publish datachannels error\"),e.toString()),e}finally{t()}}async unpublish(e){if(!this._joinInfo||void 0===this._uid)throw new Sb(nv.INVALID_OPERATION,\"Can't unpublish stream, haven't joined yet!\");let t=[];if(e)if(Array.isArray(e))t=e;else{if(!(e instanceof bP))return this._unpublishDataChannel([e]);t=[e]}else this.store.useP2P||await this._unpublishDataChannel(),t=this._p2pChannel.getAllTracks(!0);Qy.info(\"[\".concat(this._clientId,\"] Unpublish tracks, tracks \").concat(t.map((e=>\"\".concat(e.getTrackId(),\" \"))),\" \"));const i=await this._publishMutex.lock();try{if(this._p2pChannel instanceof RV){const e=await this._p2pChannel.unpublish(t);e&&await this._gateway.sendExtensionMessage(sw.UNPUBLISH,{unpubMsg:e},!0)}else{const e=await this._p2pChannel.unpublish(t);e&&await this._gateway.unpublish(e,this._uid),Qy.info(\"[\".concat(this._clientId,\"] Unpublish success,tracks \").concat(t.map((e=>\"\".concat(e.getTrackId())))))}}catch(e){throw Qy.error(\"[\".concat(this._clientId,\"] unpublish error\"),e.toString()),e}finally{i&&i()}}async _unpublishDataChannel(e){void 0!==e&&0!==e.length||(e=this._p2pChannel.getAllDataChannels()),Qy.info(\"[\".concat(this._clientId,\"] Unpublish datachannels, datachannels \").concat(e.map((e=>\"\".concat(e.id,\" \"))),\" \"));const t=await this._publishMutex.lock();try{const i=await this._p2pChannel.unpublishDataChannel(e);i&&await this._gateway.unpublishDataChannel(i),Qy.info(\"[\".concat(this._clientId,\"] Unpublish dataChannel success,dataChannel \").concat(e.map((e=>\"\".concat(e.id)))))}catch(e){throw Qy.error(\"[\".concat(this._clientId,\"] unpublish dataChannel error\"),e.toString()),e}finally{t&&t()}}async subscribe(e,t,i){if(!(e instanceof iV)){const t=this.remoteUsers.find((t=>t.uid===e));if(!t)throw new Sb(nv.INVALID_REMOTE_USER,\"user is not in the channel\");e=t}return\"datachannel\"===t?this._subscribeDataChannel(e,i):this._subscribe(e,t)}async presubscribe(e,t){if(sv(t,\"mediaType\",[\"audio\",\"video\"]),this._p2pChannel instanceof RV)throw new Sb(nv.INVALID_OPERATION,\"can't presub at p2p mode\");if(!this._joinInfo)throw new Sb(nv.INVALID_OPERATION,\"can't presub when not join\");if(\"CONNECTED\"!==this.connectionState&&\"RECONNECTING\"!==this.connectionState)throw new Sb(nv.INVALID_OPERATION,\"can't presub in \".concat(this.connectionState,\" state\"));const i=t===Yb.AUDIO,n=t===Yb.VIDEO,r=await this._subscribeMutex.lock();try{const{ssrcId:o,ortc:s,rtxSsrcId:a,cname:c,uint_id:d}=await this._gateway.presubscribe(e,t,!0);if(null==o)throw new Sb(nv.UNEXPECTED_RESPONSE,\"no ssrc id\");let l=this._users.find((t=>t.uid===e));l||(l=new iV(e,d||e),l._is_pre_created=!0,this._users.push(l)),c&&(l._cname=c),l._uintid||(l._uintid=d||e),i&&(l._audioSSRC=o,l._audio_pre_subscribed=!0,s&&(l._audioOrtc=s)),n&&(l._videoSSRC=o,l._video_pre_subscribed=!0,s&&(l._videoOrtc=s),null!=a&&(l._rtxSsrcId=a)),Qy.info(\"[\".concat(this._clientId,\"] presub succeed ssrc: \").concat(o)),await this._p2pChannel.subscribe(l,t,o,a,s);const u=i?l._audioTrack:l._videoTrack;if(!u)throw new Sb(nv.UNEXPECTED_ERROR,\"can not find remote track in user\");return i&&(l._trust_audio_stream_added_state_=!0,l._audio_added_=!0),n&&(l._trust_video_stream_added_state_=!0,l._video_added_=!0),u}catch(t){throw Qy.error(\"[\".concat(this._clientId,\"] presub user \").concat(e,\" error\"),t),t}finally{r()}}async _subscribeDataChannel(e,t){var i;if(av(t,\"channelId\",0,65535,!0),!this._joinInfo)throw new Sb(nv.INVALID_OPERATION,\"Can't subscribe datachannel, not joined\");if(\"CONNECTED\"!==this.connectionState&&\"RECONNECTING\"!==this.connectionState)throw new Sb(nv.INVALID_OPERATION,\"Can't subscribe datachannel in \".concat(this.connectionState,\" state\"));const n=this._users.find((t=>t===e));if(!n)throw Qy.error(\"[\".concat(this._clientId,\"] can not subscribe \").concat(e.uid,\", this user is not in the channel\")),new Sb(nv.INVALID_REMOTE_USER,\"user is not in the channel\");if(!e.hasAudio&&!e.hasVideo&&0===e._dataChannels.length)throw Qy.error(\"[\".concat(this._clientId,\"] can not subscribe \").concat(e.uid,\", user is not published\")),new Sb(nv.INVALID_REMOTE_USER,\"user is not published\");const r=null===(i=e._dataChannels)||void 0===i?void 0:i.find((e=>e.id===t));if(!r)throw Qy.error(\"[\".concat(this._clientId,\"] can not subscribe \").concat(e.uid,\" with mediaType datachannel, remote datachannel is not published\")),new Sb(nv.REMOTE_USER_IS_NOT_PUBLISHED);const o=await this._subscribeMutex.lock();Qy.info(\"[\".concat(this._clientId,\"] subscribe user \").concat(e.uid,\", mediaType: datachannel\"));try{const t=await this._p2pChannel.subscribeDataChannel(e,[r]);if(t&&Dn(t).call(t,r.id))try{var s;if(\"number\"!=typeof r._originDataChannelId)throw Qy.error(\"[\".concat(this._clientId,\"] can not subscribe \").concat(e.uid,\" with mediaType datachannel, cannot get RTCDatachannel\")),new Sb(nv.CREATE_DATACHANNEL_ERROR);const t={id:r.id,datachannelId:r._originDataChannelId,ordered:r.ordered,maxRetransmits:r.maxRetransmits,metadata:null!==(s=r.metadata)&&void 0!==s?s:\"\"};await this._gateway.subscribeDataChannel(e.uid,t,!0),await r._waitTillOpen()}catch(t){if((null==t?void 0:t.code)!==nv.WS_ABORT)throw await this._p2pChannel.unsubscribeDataChannel(e,[r]),t;await this._p2pChannel.unsubscribeDataChannel(e,[r]),this._p2pChannel.setPendingRemoteDataChannel(e,r.id)}return Qy.info(\"[\".concat(this._clientId,\"] subscribe success user \").concat(e.uid,\", mediaType: datachannel\")),r}finally{o()}}async _p2pSubscribe(e,t,i){if(sv(t,\"mediaType\",[\"audio\",\"video\"]),!this._joinInfo)throw new Sb(nv.INVALID_OPERATION,\"Can't subscribe stream, not joined\");if(\"CONNECTED\"!==this.connectionState&&\"RECONNECTING\"!==this.connectionState)throw new Sb(nv.INVALID_OPERATION,\"Can't subscribe stream in \".concat(this.connectionState,\" state\"));const n=this._users.find((t=>t===e));if(!n){const t=new Sb(nv.INVALID_REMOTE_USER,\"user is not in the channel\");throw Qy.error(\"[\".concat(this._clientId,\"] can not subscribe \").concat(e.uid,\", this user is not in the channel\")),t}if(!e.hasAudio&&!e.hasVideo){const t=new Sb(nv.INVALID_REMOTE_USER,\"user is not published\");throw Qy.error(\"[\".concat(this._clientId,\"] can not subscribe \").concat(e.uid,\", user is not published\")),t}if(!i&&(\"audio\"===t&&!e.hasAudio||\"video\"===t&&!e.hasVideo)){const i=new Sb(nv.REMOTE_USER_IS_NOT_PUBLISHED);throw Qy.error(\"[\".concat(this._clientId,\"] can not subscribe \").concat(e.uid,\" with mediaType \").concat(t,\", remote track is not published\")),i}const r=await this._subscribeMutex.lock();Qy.info(\"[\".concat(this._clientId,\"] subscribe user \").concat(e.uid,\", mediaType: \").concat(t));try{if(await this._p2pChannel.hasRemoteMediaWithLock(e,t))await this._p2pChannel.unmuteRemote(e,t);else try{const i=\"audio\"===t?e._audioSSRC:e._videoSSRC,n=\"audio\"===t?e._audioMid:e._videoMid;this.store.subscribe(e.uid,t,Date.now()),this._p2pChannel instanceof RV&&await this._p2pChannel.subscribe(e,t,i,n)}catch(e){throw e}Qy.info(\"[\".concat(this._clientId,\"] subscribe success user \").concat(e.uid,\", mediaType: \").concat(t)),this._defaultStreamFallbackType&&this.setStreamFallbackOption(e.uid,this._defaultStreamFallbackType).catch((e=>{Qy.warning(\"[\".concat(this._clientId,\"] auto set fallback failed\"),e)}));const i=\"audio\"===t?e._audioTrack:e._videoTrack;if(!i)throw new Sb(nv.UNEXPECTED_ERROR,\"can not find remote track in user object\");return i}catch(t){throw Qy.error(\"[\".concat(this._clientId,\"] subscribe user \").concat(e.uid,\" error\"),t),t}finally{r()}}async _subscribe(e,t,i){if(this._p2pChannel instanceof RV)return this._p2pSubscribe(e,t);if(sv(t,\"mediaType\",[\"audio\",\"video\"]),!this._joinInfo)throw new Sb(nv.INVALID_OPERATION,\"Can't subscribe stream, not joined\");if(\"CONNECTED\"!==this.connectionState&&\"RECONNECTING\"!==this.connectionState)throw new Sb(nv.INVALID_OPERATION,\"Can't subscribe stream in \".concat(this.connectionState,\" state\"));const n=this._users.find((t=>t===e));if(!n){const t=new Sb(nv.INVALID_REMOTE_USER,\"user is not in the channel\");throw Qy.error(\"[\".concat(this._clientId,\"] can not subscribe \").concat(e.uid,\", this user is not in the channel\")),t}if(!e.hasAudio&&!e.hasVideo){const t=new Sb(nv.INVALID_REMOTE_USER,\"user is not published\");throw Qy.error(\"[\".concat(this._clientId,\"] can not subscribe \").concat(e.uid,\", user is not published\")),t}if(!(i||(\"audio\"!==t||e.hasAudio&&void 0!==e._audioSSRC)&&(\"video\"!==t||e.hasVideo&&void 0!==e._videoSSRC))){const i=new Sb(nv.REMOTE_USER_IS_NOT_PUBLISHED);throw Qy.error(\"[\".concat(this._clientId,\"] can not subscribe \").concat(e.uid,\" with mediaType \").concat(t,\", remote track is not published\")),i}let r=\"audio\"===t?e._audioSSRC:e._videoSSRC,o=\"audio\"===t?e._audioOrtc:e._videoOrtc,s=\"video\"===t?e._rtxSsrcId:void 0,a={stream_type:\"audio\"===t?Yb.AUDIO:Yb.VIDEO,ssrcId:r};const c=await this._subscribeMutex.lock();Qy.info(\"[\".concat(this._clientId,\"] subscribe user \").concat(e.uid,\", mediaType: \").concat(t));try{if(await this._p2pChannel.hasRemoteMediaWithLock(e,t))await this._p2pChannel.unmuteRemote(e,t);else try{const i=\"audio\"===t?e._audioSSRC:e._videoSSRC;void 0!==i&&i!==r&&(r=i,o=\"audio\"===t?e._audioOrtc:e._videoOrtc,s=\"video\"===t?e._rtxSsrcId:void 0,a={stream_type:\"audio\"===t?Yb.AUDIO:Yb.VIDEO,ssrcId:r}),jU.markSubscribeStart(this.store.clientId,r),this.store.subscribe(e.uid,t,Date.now()),await this._p2pChannel.subscribe(e,t,r,s,o);try{this._p2pChannel.isPreSubScribe(r)||await this._gateway.subscribe(e.uid,a,!0)}catch(i){if((null==i?void 0:i.code)!==nv.WS_ABORT)throw await this._p2pChannel.unsubscribe(e,t),i;await this._p2pChannel.unsubscribe(e,t,!0),this._p2pChannel.setPendingRemoteMedia(e,t)}this.store.subscribe(e.uid,t,void 0,Date.now()),this._p2pChannel.reportSubscribeEvent(!0,null,e,t)}catch(i){throw this._p2pChannel.reportSubscribeEvent(!1,null==i?void 0:i.code,e,t),i}Qy.info(\"[\".concat(this._clientId,\"] subscribe success user \").concat(e.uid,\", mediaType: \").concat(t)),this._defaultStreamFallbackType&&this.setStreamFallbackOption(e.uid,this._defaultStreamFallbackType).catch((e=>{Qy.warning(\"[\".concat(this._clientId,\"] auto set fallback failed\"),e)}));const i=\"audio\"===t?e._audioTrack:e._videoTrack;if(!i)throw new Sb(nv.UNEXPECTED_ERROR,\"can not find remote track in user object\");return i}catch(t){throw Qy.error(\"[\".concat(this._clientId,\"] subscribe user \").concat(e.uid,\" error\"),t),t}finally{c()}}async massSubscribe(e){if(lv(e,\"subscribeList\"),!this._joinInfo)throw new Sb(nv.INVALID_OPERATION,\"Can't subscribe stream, not joined\");if(\"CONNECTED\"!==this.connectionState&&\"RECONNECTING\"!==this.connectionState)throw new Sb(nv.INVALID_OPERATION,\"Can't subscribe stream in \".concat(this.connectionState,\" state\"));const t=Date.now(),i=new Map,n=await this._subscribeMutex.lock();Qy.info(\"[\".concat(this._clientId,\"]start massSubscribe user \").concat(e.map((e=>{let{user:t,mediaType:i}=e;return\"user: \".concat(null==t?void 0:t.uid,\", mediaType: \").concat(i)})).join(\"; \")));const r=(e=[...e]).map((e=>{let{user:t,mediaType:i}=e;return{user:t,mediaType:i}})),o=await this._p2pChannel.globalLock();try{var s;for(let t=e.length-1;t>=0;t--){const n=e[t],{user:o,mediaType:s}=n;if(sv(s,\"mediaType\",[\"audio\",\"video\"]),!o){const e=new Sb(nv.INVALID_PARAMS,\"user property does not exist in subscribeList item\");throw Qy.error(\"[\".concat(this._clientId,\"] user property does not exist in subscribeList item\")),e}const a=this._users.find((e=>e===o));if(!a){const i=new Sb(nv.INVALID_REMOTE_USER,\"user is not in the channel\");Qy.error(\"[\".concat(this._clientId,\"] can not massSubscribe \").concat(o.uid,\", this user is not in the channel\")),r[t].error=i,e.splice(t,1);continue}if(\"audio\"===s&&(!o.hasAudio||void 0===o._audioSSRC)||\"video\"===s&&(!o.hasVideo||void 0===o._videoSSRC)){const i=new Sb(nv.REMOTE_USER_IS_NOT_PUBLISHED);Qy.error(\"[\".concat(this._clientId,\"] can not subscribe \").concat(o.uid,\" with mediaType \").concat(s,\", remote user is not published\")),r[t].error=i,e.splice(t,1);continue}const c=Vb.Video|Vb.LwoVideo,d=i.get(o);if(d){if(\"video\"===s?d&c:d&Vb.Audio){e.splice(t,1),Qy.warning(\"[\".concat(this._clientId,\"] repeat massSubscribe user:\").concat(o.uid,\", mediaType:\").concat(s,\" twice\"));continue}i.set(o,d|(\"video\"===s?c:Vb.Audio))}else i.set(o,\"video\"===s?c:Vb.Audio)}for(let t=e.length-1;t>=0;t--){const n=e[t],{user:r,mediaType:o}=n,s=Vb.Video|Vb.LwoVideo;if(this._p2pChannel.hasRemoteMedia(r,o)){await this._p2pChannel.unmuteRemoteNoLock(r,o);const n=i.get(r);i.set(r,\"video\"===o?n^s:n^Vb.Audio),e.splice(t,1)}}this.store.massSubscribe(e.map((e=>({userId:e.user.uid,type:e.mediaType}))),t);let a=Jn(s=Array.from(i.entries())).call(s,((e,t)=>{let[i,n]=t;if(0===n)return e;const r={stream_id:i.uid,stream_type:n};return n&Vb.Audio&&(r.audio_ssrc=i._audioSSRC),n&Vb.Video&&(r.video_ssrc=i._videoSSRC),e.push(r),e}),[]);try{e.length>0&&await this._p2pChannel.massSubscribeNoLock(e.map((e=>{let{user:t,mediaType:i}=e;return{user:t,mediaType:i,ssrcId:i===Yb.VIDEO?t._videoSSRC:t._audioSSRC,rtxSsrcId:i===Yb.VIDEO?t._rtxSsrcId:void 0}})));const i=new Map;if(a=a.filter((e=>e.video_ssrc&&!this._p2pChannel.isPreSubScribe(e.video_ssrc)||e.audio_ssrc&&!this._p2pChannel.isPreSubScribe(e.audio_ssrc)||!e.video_ssrc&&!e.audio_ssrc)),a.length>0){const e=await this._gateway.subscribeAll(a,!0);((null==e?void 0:e.users)||[]).forEach((e=>{let{stream_id:t,video_error_code:n,audio_error_code:r,error_code:o}=e;(n||r||o)&&i.set(t,{video_error_code:n,audio_error_code:r,error_code:o})}))}if(Array.from(i.entries()).length>0){const e=[];Array.from(i.entries()).forEach((t=>{let[i,n]=t;const r=this.remoteUsers.find((e=>e.uid===i));if(r){let t;n.error_code||n.video_error_code&&n.audio_error_code?t=void 0:n.video_error_code?t=Yb.VIDEO:n.audio_error_code&&(t=Yb.AUDIO),e.push({user:r,mediaType:t})}})),e.length>0&&await this._p2pChannel.massUnsubscribeNoLock(e)}for(const e of r){const t=i.get(e.user.uid);if(t){const i=t.error_code||\"audio\"===e.mediaType&&t.audio_error_code||\"video\"===e.mediaType&&t.video_error_code;if(i){const t=pw(i);Qy.error(\"user:\".concat(e.user.uid,\" mediaType:\").concat(e.mediaType,\" has massSubscribe error \").concat(t.desc)),e.error=new Sb(nv.SUBSCRIBE_FAILED,\"code \".concat(i,\": \").concat(t.desc))}}e.error||(\"video\"===e.mediaType?e.track=e.user.videoTrack:e.track=e.user.audioTrack)}return this.store.massSubscribe(r.filter((e=>!e.error)).map((e=>({userId:e.user.uid,type:e.mediaType}))),void 0,Date.now()),r.forEach((e=>{var i;sA.subscribe(this.store.sessionId,{succ:!!e.error,ec:(null===(i=e.error)||void 0===i?void 0:i.code)||null,video:e.mediaType===Yb.VIDEO,audio:e.mediaType===Yb.AUDIO,peerid:e.user.uid,subscribeRequestid:e.mediaType===Yb.VIDEO?e.user._videoSSRC:e.user._audioSSRC,p2pid:this.store.p2pId,eventElapse:Math.floor(performance.now()-t),preSsrc:this._p2pChannel.isPreSubScribe(e.user._videoSSRC)},!0)})),Qy.info(\"[\".concat(this._clientId,\"] massSubscribe success \").concat(e.map((e=>{let{user:t,mediaType:i}=e;return\"user: \".concat(null==t?void 0:t.uid,\", mediaType: \").concat(i)})).join(\"; \"))),r}catch(t){throw await this._p2pChannel.massUnsubscribeNoLock(e),t}}finally{o(),n()}}async unsubscribe(e,t,i){if(!(e instanceof iV)){const t=this.remoteUsers.find((t=>t.uid===e));if(!t)throw new Sb(nv.INVALID_REMOTE_USER,\"user is not in the channel\");e=t}if(t||this.store.useP2P){if(\"datachannel\"===t)return this._unsubscribeDataChannel(e,i)}else await this._unsubscribeDataChannel(e,i);if(t&&sv(t,\"mediaType\",[\"audio\",\"video\"]),!this._joinInfo)throw new Sb(nv.INVALID_OPERATION,\"Can't unsubscribe stream, haven't joined yet!\");const n=this._users.find((t=>t===e));if(!n){const t=new Sb(nv.INVALID_REMOTE_USER,\"user is not in the channel\");throw Qy.error(\"[\".concat(this._clientId,\"] can not unsubscribe \").concat(e.uid,\", user is not in the channel\")),t}Qy.info(\"[\".concat(this._clientId,\"] unsubscribe uid: \").concat(e.uid,\", mediaType: \").concat(t));const r=await this._subscribeMutex.lock();try{if(this._p2pChannel instanceof RV)await this._p2pChannel.unsubscribe(e,t);else{const i=await this._p2pChannel.unsubscribe(e,t);i&&await this._gateway.unsubscribe(i,e.uid),t&&\"audio\"!==t||(e._audio_pre_subscribed=!1),t&&\"video\"!==t||(e._video_pre_subscribed=!1),e._is_pre_created&&Fv(this._users,e),Qy.info(\"[\".concat(this._clientId,\"] unsubscribe success uid: \").concat(e.uid,\", mediaType: \").concat(t))}}catch(t){if(t.code===nv.DISCONNECT_P2P)return void Qy.warning(\"disconnecting p2p, abort unsubscribe request.\");throw Qy.error(\"[\".concat(this._clientId,\"] unsubscribe user \").concat(e.uid,\" error\"),t.toString()),t}finally{r()}}async _unsubscribeDataChannel(e,t){if(t&&av(t,\"id\",0,65535,!0),!this._joinInfo)throw new Sb(nv.INVALID_OPERATION,\"Can't unsubscribe datachannel, haven't joined yet!\");const i=this._users.find((t=>t===e));if(!i){const t=new Sb(nv.INVALID_REMOTE_USER,\"user is not in the channel\");throw Qy.error(\"[\".concat(this._clientId,\"] can not unsubscribe \").concat(e.uid,\", user is not in the channel\")),t}let n;if(\"number\"==typeof t){const i=e._dataChannels.find((e=>e.id===t));i&&(n=[i])}else n=e._dataChannels;if(void 0===n){const i=new Sb(nv.REMOTE_USER_IS_NOT_PUBLISHED);throw Qy.error(\"[\".concat(this._clientId,\"] can not unsubscribe \").concat(e.uid,\" with channelId \").concat(t,\", remote datachannel is not published\")),i}Qy.info(\"[\".concat(this._clientId,\"] unsubscribe uid: \").concat(e.uid,\", mediaType: datachannel, ids: \").concat(n.map((e=>e.id))));try{const t=await this._p2pChannel.unsubscribeDataChannel(e,n);t&&await this._gateway.unsubscribeDataChannel(t,e.uid),Qy.info(\"[\".concat(this._clientId,\"] unsubscribe datachannel success uid: \").concat(e.uid,\", mediaType: datachannel, ids: \").concat(t))}catch(t){if(t.code===nv.DISCONNECT_P2P)return void Qy.warning(\"disconnecting p2p, abort unsubscribe request.\");throw Qy.error(\"[\".concat(this._clientId,\"] unsubscribe user \").concat(e.uid,\" error\"),t.toString()),t}}async massUnsubscribe(e){if(lv(e,\"unsubscribeList\"),!this._joinInfo)throw new Sb(nv.INVALID_OPERATION,\"Can't unsubscribeAll stream, haven't joined yet!\");Qy.info(\"[\".concat(this._clientId,\"] start massUnsubscribe \").concat(e.map((e=>{let{user:t,mediaType:i}=e;return\"user: \".concat(null==t?void 0:t.uid,\", mediaType: \").concat(i,\";\")})).join())),e=[...e];const t=new Map;for(let i=e.length-1;i>=0;i--){const{user:n,mediaType:r}=e[i];if(!n){const e=new Sb(nv.INVALID_PARAMS,\"user property does not exist in unsubscribeList item\");throw Qy.error(\"[\".concat(this._clientId,\"] user property does not exist in unsubscribeList item\")),e}sv(r,\"mediaType\",[\"video\",\"audio\",void 0]);const o=this._users.find((e=>e===n));if(!o){Qy.warning(\"[\".concat(this._clientId,\"] can not unsubscribe \").concat(n.uid,\", user is not in the channel\")),e.splice(i,1);continue}const s=Vb.Video|Vb.LwoVideo;if(t.has(n)){const o=t.get(n);let a;switch(r){case\"video\":a=o&s;break;case\"audio\":a=o&Vb.Audio;break;default:a=o&(Vb.Audio|s)}if(a){Qy.warning(\"[\".concat(this._clientId,\"] repeat massUnsubscribe user:\").concat(n.uid,\",mediaType:\").concat(r,\" twice.\")),e.splice(i,1);continue}r?\"audio\"===r?t.set(n,o|Vb.Audio):\"video\"===r&&t.set(n,o|s):t.set(n,o|Vb.Audio|s)}else r?\"audio\"===r?t.set(n,Vb.Audio):\"video\"===r&&t.set(n,s):t.set(n,Vb.Audio|s)}try{const t=await this._p2pChannel.massUnsubscribe(e);t&&await this._gateway.massUnsubscribe(t),Qy.info(\"[\".concat(this._clientId,\"] massUnsubscribe success \").concat(e.map((e=>{let{user:t,mediaType:i}=e;return\"user: \".concat(null==t?void 0:t.uid,\", mediaType: \").concat(i,\";\")})).join()))}catch(e){if(e.code===nv.DISCONNECT_P2P)return void Qy.warning(\"[\".concat(this._clientId,\"] disconnecting p2p, abort unsubscribe request.\"));throw Qy.error(\"[\".concat(this._clientId,\"] massUnsubscribe error\"),e.toString()),e}}async setLowStreamParameter(e){!function(e){if(!e)throw new rv(nv.INVALID_PARAMS);uv(e.width)||cv(e.width,\"streamParameter.width\"),uv(e.height)||cv(e.height,\"streamParameter.height\"),uv(e.framerate)||cv(e.framerate,\"streamParameter.framerate\"),uv(e.bitrate)||av(e.bitrate,\"streamParameter.bitrate\")}(e),(!e.width&&e.height||e.width&&!e.height)&&Qy.warning(\"[\".concat(this._clientId,\"] The width and height parameters take effect only when both are set\")),Qy.info(\"[\".concat(this._clientId,\"] set low stream parameter to\"),JSON.stringify(e));const t=this._configDistribute.getLowStreamConfigDistribute();if(t&&t.bitrate&&e.bitrate&&t.bitrate<e.bitrate&&(e.bitrate=t.bitrate),this._lowStreamParameter=e,this._isDualStreamEnabled)return this._p2pChannel.updateVideoStreamParameter(e,Jb.LocalVideoLowTrack)}async enableDualStream(){if(!MD().supportDualStream)throw sA.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!0,succ:!1}),new Sb(nv.NOT_SUPPORTED,\"Your browser is not support dual stream\");if(this._isDualStreamEnabled)throw new Sb(nv.INVALID_OPERATION,\"Dual stream is already enabled\");if(this._p2pChannel.canPublishLowStream())try{await this._publishLowStream()}catch(e){throw sA.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!0,succ:!1}),e}this._isDualStreamEnabled=!0,sA.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!0,succ:!0}),Qy.info(\"[\".concat(this._clientId,\"] enable dual stream\"))}async disableDualStream(){if(this._isDualStreamEnabled){if(!this._joinInfo)throw new Sb(nv.INVALID_OPERATION,\"Can't publish stream, haven't joined yet!\");if(this._p2pChannel.getLocalMedia(Jb.LocalVideoLowTrack))try{const e=await this._p2pChannel.unpublishLowStream();e&&await this._gateway.unpublish(e,this._joinInfo.stringUid||this._joinInfo.uid)}catch(e){throw sA.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!1,succ:!1}),e}this._isDualStreamEnabled=!1,sA.streamSwitch(this._sessionId,{lts:Date.now(),isdual:!1,succ:!0}),Qy.info(\"[\".concat(this._clientId,\"] disable dual stream\"))}}async setClientRole(e,t){if(function(e){sv(e,\"role\",[\"audience\",\"host\"])}(e),t&&Ov(t),\"rtc\"===this.mode||\"p2p\"===this.mode)throw Qy.warning(\"[\".concat(this._clientId,\"]\").concat(this.mode,\" mode can not use setClientRole\")),new Sb(nv.INVALID_OPERATION,\"\".concat(this.mode,\" mode can not use setClientRole\"));if(t&&t.level&&\"host\"===e)throw new Sb(nv.INVALID_OPERATION,\"host mode can not set audience latency level\");if(\"audience\"===e&&this._p2pChannel.hasLocalMedia())throw new Sb(nv.INVALID_OPERATION,\"can not set client role to audience when publishing stream\");await this._gateway.setClientRole(e,t),this._config.role=e,Qy.info(\"[\".concat(this._clientId,\"] set client role to \").concat(e,\", level: \").concat(t&&t.level))}getRemoteInboundOffset(){var e;const t=null===(e=this._p2pChannel.getStats())||void 0===e?void 0:e.audioSend[0];if(!t||!t.timestamp)return 0;const i=t.timestamp-Date.now();return Math.abs(i)>1e3+t.rttMs+100?this.ntpAlignErrorCount+=1:this.ntpAlignErrorCount=0,this.ntpAlignErrorCount>=3?i:0}getNtpWallTimeInMs(){return\"visible\"===document.visibilityState&&(this.remoteInboundOffset=this.getRemoteInboundOffset()),this.remoteInboundOffset+Date.now()+this._gateway.ntpOffset}setProxyServer(e,t){if(dv(e,\"proxyServer\"),!t){if(\"DISCONNECTED\"!==this.connectionState)throw new Sb(nv.INVALID_OPERATION,\"Set proxy server before join channel\");if(\"disabled\"!==this._cloudProxyServerMode||this._useLocalAccessPoint)throw new Sb(nv.INVALID_OPERATION,\"You have already set the proxy\")}this._proxyServer=e,sA.setProxyServer(this._proxyServer),Qy.setProxyServer(this._proxyServer),Qy.info(\"[\".concat(this._clientId,\"] Set proxy server \").concat(t?\"by initialize call\":\"\",\" success.\"))}setTurnServer(e,t){if(Array.isArray(e)||(e=[e]),!t){if(\"DISCONNECTED\"!==this.connectionState)throw new Sb(nv.INVALID_OPERATION,\"Set turn server before join channel\");if(\"disabled\"!==this._cloudProxyServerMode||this._useLocalAccessPoint)throw new Sb(nv.INVALID_OPERATION,\"You have already set the proxy\")}if(bv(e))return this._turnServer={servers:e,mode:\"original-manual\"},void Qy.info(\"[\".concat(this._clientId,\"] Set original turnserver \").concat(t?\"by initialize call\":\"\",\" success: \").concat(e.map((e=>e.urls)).join(\",\"),\".\"));e.forEach((e=>wv(e))),this._turnServer={servers:e,mode:\"manual\"},Qy.info(\"[\".concat(this._clientId,\"] Set turnserver \").concat(t?\"by initialize call\":\"\",\" success.\"))}setLicense(e){if(\"DISCONNECTED\"!==this.connectionState){throw new Sb(nv.INVALID_OPERATION,\"you should set license before join channel\")}if(dv(e,\"license\",32,32),!/^[A-Za-z\\d]+$/.test(e))throw new Sb(nv.INVALID_PARAMS,\"license should only contains characters from A-Z a-z 0-9\");this._license=e,Qy.info(\"[\".concat(this._clientId,\"] set license success\"),e)}startProxyServer(e){if(\"DISCONNECTED\"!==this.connectionState)throw new Sb(nv.INVALID_OPERATION,\"Start proxy server before join channel\");if(this._proxyServer||\"manual\"===this._turnServer.mode||this._useLocalAccessPoint)throw new Sb(nv.INVALID_OPERATION,\"You have already set the proxy\");const t=[3,4,5];let i;switch(void 0===e&&(e=3),e){case 1:case 2:throw new Sb(nv.NOT_SUPPORTED,\"proxy mode 1/2 has been deprecated and not supported.\");case 3:i=\"proxy3\";break;case 4:i=\"proxy4\";break;case 5:i=\"proxy5\";break;default:throw new Sb(nv.INVALID_PARAMS,\"proxy server mode must be \".concat(t.join(\"|\")))}this._cloudProxyServerMode=i,this.store.cloudProxyServerMode=i,Qy.info(\"[\".concat(this._clientId,\"] set cloud proxy server mode to\"),this._cloudProxyServerMode)}stopProxyServer(){if(\"DISCONNECTED\"!==this.connectionState)throw new Sb(nv.INVALID_OPERATION,\"Stop proxy server after leave channel\");sA.setProxyServer(),Qy.setProxyServer(),this._cloudProxyServerMode=\"disabled\",this.store.cloudProxyServerMode=\"disabled\",Qy.info(\"[\".concat(this._clientId,\"] set cloud proxy server mode to\"),this._cloudProxyServerMode),this._proxyServer=void 0,this._turnServer={mode:\"auto\",servers:[]}}setLocalAccessPointsV2(e){if(!e.accessPoints)throw new Sb(nv.INVALID_PARAMS,\"accessPoints is required.\");lv(e.accessPoints.serverList,\"accessPoints.serverList\"),dv(e.accessPoints.domain,\"accessPoints.domain\");const t=(e,t)=>{av(e,t,0,65535,!0)};let i=443;if(e.accessPoints.port&&(t(e.accessPoints.port,\"accessPoints.port\"),i=e.accessPoints.port),this._proxyServer||\"disabled\"!==this._cloudProxyServerMode)throw new Sb(nv.INVALID_OPERATION,\"set local access point failed, You have already set the cloud proxy\");Dy(\"CLOSE_AFB_FOR_LOCAL_AP\")&&(Ny(\"JOIN_WITH_FALLBACK_SIGNAL_PROXY\",!1),Ny(\"JOIN_WITH_FALLBACK_MEDIA_PROXY\",!1));const n=/^((\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])\\.){3}(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])$/,r=e.accessPoints.domain,o=e.accessPoints.serverList.map((e=>n.test(e)?\"\".concat(e.replace(/\\./g,\"-\"),\".\").concat(r):e)),s=o.map((e=>\"\".concat(e,\":\").concat(i)));this._useLocalAccessPoint=!0,this._setLocalAPVersion=2,Ny(\"WEBCS_DOMAIN\",s),Ny(\"WEBCS_DOMAIN_BACKUP_LIST\",s),Ny(\"GATEWAY_DOMAINS\",[r]),e.report&&e.report.hostname&&Array.isArray(e.report.hostname)&&e.report.hostname.length?(lv(e.report.hostname,\"report.hostname\"),Ny(\"EVENT_REPORT_DOMAIN\",e.report.hostname[0]),Ny(\"EVENT_REPORT_BACKUP_DOMAIN\",e.report.hostname[1]||e.report.hostname[0])):(Ny(\"EVENT_REPORT_DOMAIN\",o[0]),Ny(\"EVENT_REPORT_BACKUP_DOMAIN\",o[1]||o[0]));let a=6443;e.report&&e.report.port&&(t(e.report.port,\"report.port\"),a=e.report.port),Ny(\"STATS_COLLECTOR_PORT\",a),e.report?Ny(\"ENABLE_EVENT_REPORT\",!0):Ny(\"ENABLE_EVENT_REPORT\",!1);let c=\"\";e.log&&e.log.hostname&&Array.isArray(e.log.hostname)&&e.log.hostname.length?(lv(e.log.hostname,\"log.hostname\"),c=e.log.hostname[0]):c=o[0];let d=6444;e.log&&e.log.port&&(t(e.log.port,\"log.port\"),d=e.log.port),Ny(\"LOG_UPLOAD_SERVER\",\"\".concat(c,\":\").concat(d));let l=[];e.cds&&e.cds.hostname&&Array.isArray(e.cds.hostname)&&e.cds.hostname.length?(lv(e.cds.hostname,\"cds.hostname\"),l=e.cds.hostname):l=o;let u=443;e.cds&&e.cds.port&&(t(e.cds.port,\"cds.port\"),u=e.cds.port),Ny(\"CDS_AP\",l.map((e=>\"\".concat(e,\":\").concat(u)))),e.cds?Ny(\"ENABLE_CONFIG_DISTRIBUTE\",!0):Ny(\"ENABLE_CONFIG_DISTRIBUTE\",!1),Qy.info(\"set local access point v2 success\")}setLocalAccessPoints(e,t){if(lv(e,\"serverList\"),dv(t,\"domain\"),this._proxyServer||\"disabled\"!==this._cloudProxyServerMode)throw new Sb(nv.INVALID_OPERATION,\"set local access point failed, You have already set the cloud proxy\");const i=/^(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d{1,2}|1\\d\\d|2[0-4]\\d|25[0-5])$/;e=e.map((e=>i.test(e)?\"\".concat(e.replace(/\\./g,\"-\"),\".\").concat(t):e)),this._useLocalAccessPoint=!0,this._setLocalAPVersion=1,Ny(\"WEBCS_DOMAIN\",e),Ny(\"WEBCS_DOMAIN_BACKUP_LIST\",e),Ny(\"GATEWAY_DOMAINS\",[t]),Ny(\"EVENT_REPORT_DOMAIN\",e[0]),Ny(\"EVENT_REPORT_BACKUP_DOMAIN\",e[1]||e[0]),Ny(\"LOG_UPLOAD_SERVER\",\"\".concat(e[0],\":6444\")),Qy.info(\"[\".concat(this._clientId,\"] set local access point success\"))}async setRemoteDefaultVideoStreamType(e){if(sv(e,\"streamType\",[0,1]),this._remoteDefaultVideoStreamType=e,this._joinInfo)try{await this._gateway.setDefaultRemoteVideoStreamType(e),this._joinInfo.defaultVideoStream=this._remoteDefaultVideoStreamType}catch(e){throw Qy.error(\"[\".concat(this._clientId,\"] set default remote video stream type error\"),e.toString()),e}else Qy.debug(\"[\".concat(this._clientId,\"] haven't joined yet, cache remoteDefaultVideoStreamType \").concat(e))}async setRemoteVideoStreamType(e,t){sv(t,\"streamType\",[0,1]);try{await this._gateway.setRemoteVideoStreamType(e,t),setTimeout((()=>{const t=this._users.find((t=>t.uid===e));t&&t.videoTrack&&t.videoTrack.updateMediaStreamTrackResolution()}),2e3)}catch(e){throw Qy.error(\"[\".concat(this._clientId,\"] set remote video stream type error\"),e.toString()),e}Qy.info(\"[\".concat(this._clientId,\"] set remote \").concat(e,\" video stream type to \").concat(t)),this._remoteStreamTypeCacheMap.set(e,t)}async setStreamFallbackOption(e,t){sv(t,\"fallbackType\",[0,1,2]);try{await this._gateway.setStreamFallbackOption(e,t)}catch(e){throw Qy.error(\"[\".concat(this._clientId,\"] set stream fallback option\"),e.toString()),e}Qy.info(\"[\".concat(this._clientId,\"] set remote \").concat(e,\" stream fallback type to \").concat(t)),this._streamFallbackTypeCacheMap.set(e,t)}setEncryptionConfig(e,t,i,n){!function(e){sv(e,\"encryptionMode\",[\"aes-128-xts\",\"aes-256-xts\",\"aes-128-ecb\",\"sm4-128-ecb\",\"aes-128-gcm\",\"aes-256-gcm\",\"aes-128-gcm2\",\"aes-256-gcm2\",\"none\"])}(e),dv(t,\"secret\");const r=[\"aes-128-gcm2\",\"aes-256-gcm2\"];if(Dn(r).call(r,e)){if(!i||!(i instanceof Uint8Array&&32===i.length))throw new Sb(nv.INVALID_PARAMS,\"salt must be an Uint8Array and exactly equal to 32 bytes\")}else if(i)throw new Sb(nv.INVALID_PARAMS,\"current encrypt mode does not need salt\");if(n){if(ov(n,\"encryptDataStream\"),!Dn(r).call(r,e))throw new Sb(nv.INVALID_PARAMS,\"current encrypt mode does not support data stream\");this._encryptDataStream=!0}new RegExp(\"^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*,.<>?/:;'\\\"|{}\\\\[\\\\]])(?=.{8,})\").test(t)||Qy.warning(\"The secret is not strong:\\n      The secret must contain at least 1 lowercase alphabetical character,\\n      The secret must contain at least 1 uppercase alphabetical character,\\n      The secret must contain at least 1 numeric character,\\n      The secret must contain at least one special character,\\n      The secret must be eight characters or longer.\\n      \"),this._encryptionMode=e,this._encryptionSecret=t,i&&(this._encryptionSalt=qv(i))}async renewToken(e){if(dv(e,\"token\",1,2047),!this._key||!this._joinInfo)throw new Sb(nv.INVALID_OPERATION,\"renewToken should not be called before user join\");const t=this._key;this._key=e,this._joinInfo&&(this._joinInfo.token=e);const i=await this._renewTokenMutex.lock();try{if(Dy(\"USE_NEW_TOKEN\")){Qy.debug(\"[\".concat(this._clientId,\"] start renew token with ticket from unilbs\"));const t=await MU(this._joinInfo,this._axiosCancelSource.token,this._config.httpRetryConfig||_y);Qy.debug(\"[\".concat(this._clientId,\"] get ticket from unilbs success\")),await this._gateway.renewToken({token:e,ticket:t})}else Qy.debug(\"[\".concat(this._clientId,\"] start renew token without ticket\")),await this._gateway.renewToken({token:e});Qy.debug(\"[\".concat(this._clientId,\"] renewToken success\"))}catch(e){throw this._key=t,this._joinInfo.token=t,Qy.error(\"[\".concat(this._clientId,\"] renewToken failed\"),e.toString()),e}finally{i()}}enableAudioVolumeIndicator(){this._audioVolumeIndicationInterval?Qy.warning(\"you have already enabled audio volume indicator!\"):this._audioVolumeIndicationInterval=window.setInterval((()=>{const e=this._p2pChannel.getAudioLevels();this.safeEmit(Nv.VOLUME_INDICATOR,e)}),Dy(\"AUDIO_VOLUME_INDICATION_INTERVAL\")||2e3)}getRTCStats(){const e=this._statsCollector.getRTCStats(),t=this._gateway.getInChannelInfo();return e.Duration=Math.round(t.duration/1e3),e}async startLiveStreaming(e,t){if(!t){if(\"h264\"!==this.codec)throw new Sb(nv.LIVE_STREAMING_INVALID_RAW_STREAM,\"raw streaming is only support h264\");if(!this._p2pChannel.hasLocalMedia())throw new Sb(nv.LIVE_STREAMING_INVALID_RAW_STREAM,\"can not find stream to raw streaming\")}if(this._liveRawStreamingClient&&this._liveRawStreamingClient.hasUrl(e)||this._liveTranscodeStreamingClient&&this._liveTranscodeStreamingClient.hasUrl(e))throw new Sb(nv.LIVE_STREAMING_TASK_CONFLICT);const i=t?Cb.TRANSCODE:Cb.RAW;return this._createLiveStreamingClient(i).startLiveStreamingTask(e,i)}setLiveTranscoding(e){return this._createLiveStreamingClient(Cb.TRANSCODE).setTranscodingConfig(e)}async stopLiveStreaming(e){const t=[this._liveRawStreamingClient,this._liveTranscodeStreamingClient].filter((t=>t&&t.hasUrl(e)));if(!t.length)throw new Sb(nv.INVALID_PARAMS,\"can not find live streaming url to stop\");await Gh.all(t.map((t=>t&&t.stopLiveStreamingTask(e))))}async startChannelMediaRelay(e){bV(e);const t=this._createChannelMediaRelayClient();await t.startChannelMediaRelay(e)}async updateChannelMediaRelay(e){bV(e);const t=this._createChannelMediaRelayClient();await t.updateChannelMediaRelay(e)}async stopChannelMediaRelay(){const e=this._createChannelMediaRelayClient();await e.stopChannelMediaRelay(),this._statsCollector.onStatsChanged&&(this._statsCollector.onStatsChanged=void 0)}async sendStreamMessage(e){var t;let i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this._joinInfo)throw new Sb(nv.INVALID_OPERATION,\"can not send data stream, not joined\");if((\"string\"==typeof e||e instanceof Uint8Array)&&(e={payload:e}),\"string\"==typeof e.payload){const t=new TextEncoder;e.payload=t.encode(e.payload)}let n=!1;this._encryptDataStream&&this._encryptDataStreamIv&&this._encryptDataStreamKey&&window.crypto.subtle&&Dn(t=[\"aes-128-gcm2\",\"aes-256-gcm2\"]).call(t,this._encryptionMode)&&(n=!0,e.payload=await async function(e,t,i){var n;const r=Jn(n=Array.from(i)).call(n,((e,t)=>e+t),0),o={serverTs:0,seq:By++,length:i.length,checkSum:r},s=new Uint8Array(ay(r,2)),a=new ArrayBuffer(Fy),c=new DataView(a);c.setUint32(0,o.serverTs),c.setUint16(4,o.seq),c.setUint16(6,o.length),c.setUint16(8,o.checkSum);const d=16-i.length%16;i=Jv(i,new Uint8Array(d));const l=await window.crypto.subtle.encrypt({name:\"AES-GCM\",iv:e,tagLength:Uy,additionalData:s},t,i);return Jv(new Uint8Array(a),new Uint8Array(l))}(this._encryptDataStreamIv,this._encryptDataStreamKey,e.payload));if(new Blob([e.payload]).size>1024)throw new Sb(nv.INVALID_PARAMS,n?\"encrypted stream message out of range.\":\"stream message out of range.\");return this._gateway.signal.request(_b.DATA_STREAM,{payload:qv(e.payload),syncWithAudio:e.syncWithAudio,sendTs:Date.now()-gF},!i)}sendMetadata(e){if(!this._joinInfo)throw new Sb(nv.INVALID_OPERATION,\"can not send metadata, not joined\");if(new Blob([e]).size>1024)throw new Sb(nv.METADATA_OUT_OF_RANGE);return this._gateway.signal.request(_b.SEND_METADATA,{session_id:this._joinInfo.sid,metadata:qv(e)})}async sendCustomReportMessage(e){if(Array.isArray(e)||(e=[e]),e.forEach($y),!this._joinInfo)throw new Sb(nv.INVALID_OPERATION,\"can not send custom report, not joined\");await sA.sendCustomReportMessage(this._joinInfo.sid,e)}getLocalAudioStats(){return this._statsCollector.getLocalAudioTrackStats()}getRemoteAudioStats(){return this._statsCollector.getRemoteAudioTrackStats()}getLocalVideoStats(){return this._statsCollector.getLocalVideoTrackStats()}getRemoteVideoStats(){return this._statsCollector.getRemoteVideoTrackStats()}getRemoteNetworkQuality(){return this._statsCollector.getRemoteNetworkQualityStats()}async pickSVCLayer(e,t){sv(t.spatialLayer,\"spatialLayer\",[0,1,2,3]),sv(t.temporalLayer,\"temporalLayer\",[0,1,2,3]);try{await this._gateway.pickSVCLayer(e,t)}catch(e){throw Qy.error(\"[\".concat(this._clientId,\"] pick SVC layer failed\"),e.toString()),e}}async setRTMConfig(e){const{apRTM:t=!1,rtmFlag:i}=e;if(ov(t,\"apRTM\"),av(i,\"rtmFlag\",0),this._rtmConfig.apRTM=t,this._rtmConfig.rtmFlag=i,Qy.debug(\"[\".concat(this._clientId,\"] setRTMconfig \").concat(JSON.stringify(e),\" in \").concat(this.connectionState,\" state\")),(\"CONNECTED\"===this.connectionState||\"RECONNECTING\"===this.connectionState)&&this._joinInfo)return this._joinInfo.apRTM=t,this._joinInfo.rtmFlag=i,this._gateway.setRTM2Flag(i)}_reset(){if(Qy.debug(\"[\".concat(this._clientId,\"] reset client\")),this._axiosCancelSource.cancel(),this._axiosCancelSource=EI.CancelToken.source(),this._streamFallbackTypeCacheMap=new Map,this._remoteStreamTypeCacheMap=new Map,this._configDistribute.stopGetConfigDistribute(),this._joinInfo&&KF(this._joinInfo),this._joinInfo=void 0,this._proxyServer=void 0,this._defaultStreamFallbackType=void 0,this._sessionId=null,this.store.sessionId=null,this._statsCollector.reset(),this._key=void 0,this._appId=void 0,this._uid=void 0,this.store.uid=void 0,this._channelName=void 0,this._encryptionMode=\"none\",this._encryptionSecret=null,this._encryptionSalt=null,this._encryptDataStreamKey=null,this._encryptDataStreamIv=null,this._pendingPublishedUsers=[],this._users.forEach((e=>{e._audioTrack&&e._audioTrack._destroy(),e._videoTrack&&e._videoTrack._destroy(),e._dataChannels&&(e._dataChannels.forEach((e=>e._close())),e._dataChannels.length=0)})),this._users=[],this._audioVolumeIndicationInterval&&(window.clearInterval(this._audioVolumeIndicationInterval),this._audioVolumeIndicationInterval=void 0),\"fallback\"===this._cloudProxyServerMode&&(this._cloudProxyServerMode=\"disabled\",this.store.cloudProxyServerMode=\"disabled\"),this._p2pChannel.reset(),this._publishMutex=new hy(\"client-publish\"),this._subscribeMutex=new hy(\"client-subscribe\"),this._networkQualityInterval&&(window.clearInterval(this._networkQualityInterval),this._networkQualityInterval=void 0),this._liveRawStreamingClient&&(this._liveRawStreamingClient.terminate(),this._liveRawStreamingClient.removeAllListeners(),this._liveRawStreamingClient=void 0),this._liveTranscodeStreamingClient&&(this._liveTranscodeStreamingClient.terminate(),this._liveTranscodeStreamingClient.removeAllListeners(),this._liveTranscodeStreamingClient=void 0),this._channelMediaRelayClient&&(this._channelMediaRelayClient.dispose(),this._channelMediaRelayClient=void 0),this._inspect)try{this._inspect.close(),this._inspect=void 0}catch(e){}if(this._moderation)try{this.setImageModeration(!1)}catch(e){}}_startSession(e,t){var i;const n=e||ty();e?Qy.debug(\"[\".concat(this._clientId,\"] new Session \").concat(n)):Qy.debug(\"[\".concat(this._clientId,\"] renewSession \").concat(this._sessionId,\" => \").concat(n));const r=e?\"\":this._sessionId||\"\";this._sessionId=n,this.store.sessionId=n;const o={lts:(new Date).getTime(),mode:this.mode,buildFormat:2,stringUid:(null==t?void 0:t.stringUid)||(null===(i=this._joinInfo)||void 0===i?void 0:i.stringUid),channelProfile:\"live\"===this.mode?1:0,channelMode:0,isABTestSuccess:Number(this._configDistribute.isSuccess),lsid:r,clientRole:\"audience\"===this.role?2:1};sA.sessionInit(this._sessionId,Sj({cname:t.channel,appid:t.appId},o)),this._joinInfo&&(this._joinInfo.sid=n),this._gateway.joinInfo&&(this._gateway.joinInfo.sid=n)}async _publishHighStream(e){if(!this._joinInfo||void 0===this._uid)throw new Sb(nv.INVALID_OPERATION,\"Can't publish stream, haven't joined yet!\");if(\"CONNECTED\"!==this.connectionState&&\"RECONNECTING\"!==this.connectionState)throw new Sb(nv.INVALID_OPERATION,\"can not publish stream in \".concat(this.connectionState,\" state\"));if(\"auto\"===this._turnServer.mode&&Dy(\"FORCE_TURN\")&&!Dy(\"TURN_ENABLE_TCP\")&&!Dy(\"TURN_ENABLE_UDP\"))throw new Sb(nv.UNEXPECTED_ERROR,\"force TURN With No TURN Configuration\");Qy.debug(\"[\".concat(this._clientId,\"] publish high stream\"));try{const i=await this._p2pChannel.publish(e,this._isDualStreamEnabled,this._lowStreamParameter);if(this._p2pChannel instanceof RV){const e=(await i.next()).value;if(e){try{await this._gateway.sendExtensionMessage(sw.PUBLISH,e,!0)}catch(e){throw i.throw(e),e}await i.next()}this._p2pChannel.reportPublishEvent(!0,null)}else{const n=(await i.next()).value;if(n){var t;let e;try{e=await this._gateway.publish(this._uid,n,!0)}catch(e){if(e.code!==nv.DISCONNECT_P2P)throw i.throw(e),e}await i.next((null===(t=e)||void 0===t?void 0:t.ortc)||[])}this._p2pChannel.reportPublishEvent(!0,null);for(const t of e)t instanceof Hk&&t._encoderConfig&&this._gateway.setVideoProfile(t._encoderConfig),!t.muted&&t.enabled||await this._p2pChannel.muteLocalTrack(t)}}catch(t){if(this._p2pChannel.reportPublishEvent(!1,null==t?void 0:t.code,e),(null==t?void 0:t.code)===nv.WS_ABORT)return;throw t}}async _publishLowStream(){if(!this._joinInfo||void 0===this._uid)throw new Sb(nv.INVALID_OPERATION,\"Can't publish stream, haven't joined yet!\");if(\"CONNECTED\"!==this.connectionState&&\"RECONNECTING\"!==this.connectionState)throw new Sb(nv.INVALID_OPERATION,\"can not publish stream in \".concat(this.connectionState,\" state\"));Qy.debug(\"[\".concat(this._clientId,\"] publish low stream\"));const e=this._configDistribute.getLowStreamConfigDistribute();e&&e.bitrate&&(this._lowStreamParameter||(this._lowStreamParameter={width:160,height:120,framerate:15,bitrate:50}),this._lowStreamParameter&&this._lowStreamParameter.bitrate&&e.bitrate<this._lowStreamParameter.bitrate&&(this._lowStreamParameter.bitrate=e.bitrate));try{const e=await this._p2pChannel.publishLowStream(this._lowStreamParameter),i=(await e.next()).value;if(i){var t;let n;try{n=await this._gateway.publish(this._uid,i,!0)}catch(t){if(t.code!==nv.DISCONNECT_P2P)throw e.throw(t),t}e.next((null===(t=n)||void 0===t?void 0:t.ortc)||[]),this._p2pChannel.reportPublishEvent(!0,null,void 0,!0)}}catch(e){if(this._p2pChannel.reportPublishEvent(!1,null==e?void 0:e.code,void 0,!0),(null==e?void 0:e.code)===nv.WS_ABORT)return;throw e}}_createLiveStreamingClient(e){const t=()=>{if(!this._joinInfo||!this._appId){return new Sb(nv.INVALID_OPERATION,\"can not create live streaming client, please join channel first\").throw()}const e=(t={joinInfo:this._joinInfo,appId:this._appId,websocketRetryConfig:this._config.websocketRetryConfig,httpRetryConfig:this._config.httpRetryConfig},mF(\"LiveStreaming\").create(t));var t;return e.onLiveStreamError=(e,t)=>{sA.reportApiInvoke(this._sessionId,{name:Cv.ON_LIVE_STREAM_ERROR,options:[e,t],tag:Iv.TRACER}).onSuccess(),this.safeEmit(Nv.LIVE_STREAMING_ERROR,e,t)},e.onLiveStreamWarning=(e,t)=>{sA.reportApiInvoke(this._sessionId,{name:Cv.ON_LIVE_STREAM_WARNING,options:[e,t],tag:Iv.TRACER}).onSuccess(),this.safeEmit(Nv.LIVE_STREAMING_WARNING,e,t)},e.on(wb.REQUEST_WORKER_MANAGER_LIST,((e,t,i)=>{if(!this._joinInfo)return i(new Sb(nv.INVALID_OPERATION,\"can not find join info to get worker manager\"));(async function(e,t,i,n){const r=Dy(\"UAP_AP\").slice(0,Dy(\"AJAX_REQUEST_CONCURRENT\")).map((e=>t.proxyServer?\"https://\".concat(t.proxyServer,\"/ap/?url=\").concat(e+\"/api/v1?action=uap\"):\"https://\".concat(e,\"/api/v1?action=uap\")));return await _U(r,e,t,i,n)})(e,this._joinInfo,this._axiosCancelSource.token,_y).then(t).catch(i)})),e};return e===Cb.RAW?(this._liveRawStreamingClient=this._liveRawStreamingClient||t(),this._liveRawStreamingClient):(this._liveTranscodeStreamingClient=this._liveTranscodeStreamingClient||t(),this._liveTranscodeStreamingClient)}_createChannelMediaRelayClient(){if(!this._joinInfo){return new Sb(nv.INVALID_OPERATION,\"can not create channel media relay client, please join channel first\").throw()}if(!this._channelMediaRelayClient){const{sendResolutionWidth:t,sendResolutionHeight:i}=this.getLocalVideoStats(),n=(e={joinInfo:this._joinInfo,clientId:this._clientId,websocketRetryConfig:this._config.websocketRetryConfig,httpRetryConfig:this._config.httpRetryConfig,resolution:{width:t,height:i}},mF(\"ChannelMediaRelay\").create(e));n.on(\"state\",(e=>{e===Lb.RELAY_STATE_FAILURE&&n&&n.dispose(),this.safeEmit(Nv.CHANNEL_MEDIA_RELAY_STATE,e)})),n.on(\"event\",(e=>{this.safeEmit(Nv.CHANNEL_MEDIA_RELAY_EVENT,e)})),this._channelMediaRelayClient=n,this._statsCollector.onStatsChanged=(e,t)=>{var i;\"resolution\"===e&&(null===(i=this._channelMediaRelayClient)||void 0===i||i.setVideoProfile(t))}}var e;return this._channelMediaRelayClient}_handleUpdateDataChannel(e,t){const{added:i,deleted:n}=e,r=[];if(t){const e=[];this._users.forEach((t=>{t._dataChannels.forEach((n=>{i.every((e=>e.uid!==t._uintid||e.stream_id!==n.id))&&e.push({uid:t._uintid,stream_id:n.id,ordered:n.ordered,max_retrans_times:n.maxRetransmits,metadata:n.metadata})}))})),e.length>0&&this._handleUpdateDataChannel({added:[],deleted:e})}Array.isArray(i)&&i.length>0&&i.forEach((e=>{const{uid:i,stream_id:n,ordered:o,max_retrans_times:s,metadata:a}=e,c=this._users.find((e=>e._uintid===i));if(!c)return void Qy.error(\"[\".concat(this._clientId,\"] can not find target user!(on_add_data_channel)\"));Qy.debug(\"[\".concat(this._clientId,\"] data_channel added with uid \").concat(i)),Dn(r).call(r,c)||r.push(c),c._uintid||(c._uintid=i);if(!(-1!==c._dataChannels.findIndex((t=>t.id===e.stream_id)))){const e={id:n,ordered:!!o,maxRetransmits:s,metadata:a},i=function(e){return fF(e,!0)}(e);c._dataChannels.push(i),Qy.info(\"[\".concat(this._clientId,\"] remote user \").concat(c.uid,\" published datachannel\")),t||this.safeEmit(Nv.USER_PUBLISHED,c,\"datachannel\",e)}this._p2pChannel.hasPendingRemoteDataChannel(c,e.stream_id)&&(Qy.debug(\"[\".concat(this._clientId,\"] resubscribe datachannel for user \").concat(c.uid,\" after reconnect.\")),this._subscribeDataChannel(c,e.stream_id).catch((e=>{Qy.error(\"[\".concat(this._clientId,\"] resubscribe datachannel error\"),e.toString())})))})),t&&(this.safeEmit(Nv.PUBLISHED_USER_LIST,this._pendingPublishedUsers),this._pendingPublishedUsers=[]),Array.isArray(n)&&n.length>0&&n.forEach((e=>{const{uid:t,stream_id:i}=e,n=this._users.find((e=>e._uintid===t));if(!n)return void Qy.error(\"[\".concat(this._clientId,\"] can not find target user!(on_delete_data_channel)\"));const r=n._dataChannels.find((t=>t.id===e.stream_id));r&&(Qy.debug(\"[\".concat(this._clientId,\"] data_stream delete with uid \").concat(t)),this._p2pChannel.unsubscribeDataChannel(n,[r]).then((e=>{if(n._dataChannels=n._dataChannels.filter((e=>e!==r)),e)return this._gateway.unsubscribeDataChannel(e,n.uid)})),Qy.info(\"[\".concat(this._clientId,\"] remote user \").concat(t,\" unpublished datachannel ,id:\").concat(r.id)),this.safeEmit(Nv.USER_UNPUBLISHED,n,\"datachannel\",r._config))}))}_handleRemoveDataChannels(e){const t=this._users.find((t=>t.uid===e.uid));if(t){if(void 0!==t._dataChannels&&t._dataChannels.length>0){Qy.debug(\"[\".concat(this._clientId,\"] datachannel removed with uid \").concat(e.uid));const i=()=>{Qy.info(\"[\".concat(this._clientId,\"] remote user \").concat(t.uid,\" unpublished datachannel\")),t._dataChannels.forEach((e=>{this.safeEmit(Nv.USER_UNPUBLISHED,t,\"datachannel\",e._config)}))};this._p2pChannel.unsubscribeDataChannel(t,t._dataChannels).then((e=>{if(e)return this._gateway.unsubscribeDataChannel(e,t.uid)})),i()}}else Qy.warning(\"[\".concat(this._clientId,\"] can not find target user!(on_remove_datachannel)\"))}_handleGatewayEvents(){this._gateway.on(Ub.DISCONNECT_P2P,(async()=>{await this._p2pChannel.disconnectForReconnect()})),this._gateway.on(Ub.CONNECTION_STATE_CHANGE,((e,t,i)=>{var n;if(i===Av.FALLBACK)return;const r=()=>{this.safeEmit(Nv.CONNECTION_STATE_CHANGE,e,t,i)};if(sA.reportApiInvoke(this._sessionId||(null===(n=this._gateway.joinInfo)||void 0===n?void 0:n.sid)||null,{name:Cv.CONNECTION_STATE_CHANGE,options:[e,t,i],tag:Iv.TRACER}).onSuccess(JSON.stringify({cur:e,prev:t,reason:i})),Qy.info(\"[\".concat(this._clientId,\"] connection state change: \").concat(t,\" -> \").concat(e)),\"DISCONNECTED\"===e)return this._reset(),void r();if(\"RECONNECTING\"===e)this._users.forEach((e=>{e._trust_in_room_=!1,e._trust_audio_enabled_state_=!1,e._trust_video_enabled_state_=!1,e._trust_audio_mute_state_=!1,e._trust_video_mute_state_=!1,e._trust_audio_stream_added_state_=!1,e._trust_video_stream_added_state_=!1,e._is_pre_created||(e._audio_pre_subscribed||(e._audioSSRC=void 0,e._audioOrtc=void 0),e._video_pre_subscribed||(e._videoSSRC=void 0,e._videoOrtc=void 0,e._rtxSsrcId=void 0),e._cname=void 0)})),this._userOfflineTimeout&&window.clearTimeout(this._userOfflineTimeout),this._streamRemovedTimeout&&window.clearTimeout(this._streamRemovedTimeout),this._userOfflineTimeout=void 0,this._streamRemovedTimeout=void 0;else if(\"CONNECTED\"===e){var o;this._streamFallbackTypeCacheMap.forEach(((e,t)=>{this._gateway.setStreamFallbackOption(t,e).catch((e=>{Qy.warning(\"[\".concat(this._clientId,\"] auto set stream fallback option failed\"),e)}))})),this._remoteStreamTypeCacheMap.forEach(((e,t)=>{this._gateway.setRemoteVideoStreamType(t,e).catch((e=>{Qy.warning(\"[\".concat(this._clientId,\"] auto set remote stream type failed\"),e)}))})),void 0!==this._remoteDefaultVideoStreamType&&void 0===(null===(o=this._joinInfo)||void 0===o?void 0:o.defaultVideoStream)&&this.setRemoteDefaultVideoStreamType(this._remoteDefaultVideoStreamType).then((()=>{Qy.debug(\"[\".concat(this._clientId,\"] setRemoteDefaultVideoStreamType after gateway connected\"))})).catch((e=>{Qy.error(\"[\".concat(this._clientId,\"] setRemoteDefaultVideoStreamType after gateway failed, \").concat(e))})),this.store.useP2P||(this._p2pChannel.republish(),this._userOfflineTimeout=window.setTimeout((()=>{if(\"CONNECTED\"!==this.connectionState)return;this._userOfflineTimeout=void 0;this._users.filter((e=>!e._trust_in_room_)).forEach((e=>{Qy.debug(\"[\".concat(this._clientId,\"] user offline timeout, emit user offline \").concat(e.uid)),this._handleUserOffline({uid:e.uid})}))}),3e3),this._streamRemovedTimeout=window.setTimeout((()=>{\"CONNECTED\"===this.connectionState&&(this._streamRemovedTimeout=void 0,this._users.forEach((e=>{e._trust_audio_mute_state_||(Qy.debug(\"[\".concat(this._clientId,\"] auto dispatch audio unmute event \").concat(e.uid)),this._handleMuteStream(e.uid,Yb.AUDIO,!1)),e._trust_video_mute_state_||(Qy.debug(\"[\".concat(this._clientId,\"] auto dispatch video unmute event \").concat(e.uid)),this._handleMuteStream(e.uid,Yb.VIDEO,!1)),e._trust_audio_enabled_state_||(Qy.debug(\"[\".concat(this._clientId,\"] auto dispatch enable local audio \").concat(e.uid)),this._handleSetStreamLocalEnable(\"audio\",e.uid,!0)),e._trust_video_enabled_state_||(Qy.debug(\"[\".concat(this._clientId,\"] auto dispatch enable local video \").concat(e.uid)),this._handleSetStreamLocalEnable(\"video\",e.uid,!0)),e._trust_video_stream_added_state_||(Qy.debug(\"[\".concat(this._clientId,\"] auto dispatch reset video stream added \").concat(e.uid)),this._handleResetAddStream(e,\"video\")),e._trust_audio_stream_added_state_||(Qy.debug(\"[\".concat(this._clientId,\"] auto dispatch reset audio stream added \").concat(e.uid)),this._handleResetAddStream(e,\"audio\")),e._video_added_||e._audio_added_||(Qy.debug(\"[\".concat(this._clientId,\"] auto dispatch stream remove \").concat(e.uid)),this._handleRemoveStream({uid:e.uid,uint_id:e._uintid}))})))}),1e3))}r()})),this._gateway.on(Ub.REQUEST_NEW_GATEWAY_LIST,(async(e,t)=>{if(!this._joinInfo)return t(new Sb(nv.UNEXPECTED_ERROR,\"can not recover, no join info\"));try{let t;const i=await GF(Sj(Sj({},this._joinInfo),{},{uid:this._joinInfo.uid,stringUid:void 0}));i?(t=i.ap,YF(i),this._joinInfo.preload=!0):(t=await bU(this._joinInfo,this._axiosCancelSource.token,this._config.httpRetryConfig||_y,this.store),this._joinInfo.preload=!1),this._joinInfo&&(this._joinInfo.apResponse=t.gatewayInfo.res,this._joinInfo.gatewayAddrs=t.gatewayInfo.gatewayAddrs,this._joinInfo.uni_lbs_ip=t.gatewayInfo.uni_lbs_ip);const n=[];t.gatewayInfo.gatewayAddrs.forEach((e=>{let{address:t}=e;const[i,r]=t.split(\":\");this._joinInfo&&this._joinInfo.proxyServer?n.push({proxy:this._joinInfo.proxyServer,host:i,port:r}):n.push({host:i,port:r})})),e(n)}catch(e){t(e)}})),this._gateway.on(Ub.NETWORK_QUALITY,(e=>{\"normal\"===this._networkQualitySensitivity&&this.safeEmit(Nv.NETWORK_QUALITY,e)})),this._gateway.on(Ub.STREAM_TYPE_CHANGE,((e,t)=>{this.safeEmit(Nv.STREAM_TYPE_CHANGED,e,t);sA.reportApiInvoke(this._sessionId,{name:Cv.STREAM_TYPE_CHANGE,options:[e,t],tag:Iv.TRACER}).onSuccess(JSON.stringify({uid:e,streamType:t}))})),this._gateway.on(Ub.IS_P2P_DISCONNECTED,(e=>{this._p2pChannel.isP2PDisconnected()?e(!0):this._p2pChannel.hasLocalMedia()||this._p2pChannel.hasRemoteMedia()?e(!1):e(!0)})),this._gateway.on(Ub.REQUEST_P2P_CONNECTION_PARAMS,(async(e,t,i)=>{try{let i=await this._p2pChannel.getEstablishParams();Dy(\"ENABLE_PREALLOC_PC\")&&i||(i=await this._p2pChannel.startP2PConnection(e)),t(i)}catch(e){i(e)}})),this._gateway.on(Ub.JOIN_RESPONSE,((e,t)=>{if(this.store.useP2P)return;const i=OM(e.ortc,t,e.attributes.userAttributes.preSubSsrcs);this._p2pChannel.connect(i)})),this._gateway.on(Ub.PRE_CONNECT_PC,(async e=>{const{candidates:t,fingerprint:i}=e;if(this._joinInfo&&t.length>0&&!this._p2pChannel.isPlanB){var n;await this._p2pChannel.startP2PConnection({turnServer:this._joinInfo.turnServer});const{cert:e,cid:r}=this._joinInfo.apResponse;await this._p2pChannel.connect({iceParameters:{iceUfrag:\"\".concat(r,\"_\").concat(e),icePwd:\"\".concat(r,\"_\").concat(e)},dtlsParameters:{fingerprints:[{hashFunction:\"sha-256\",fingerprint:null!==(n=Dy(\"FINGERPRINT\"))&&void 0!==n?n:i}]},candidates:t,rtpCapabilities:{send:{audioCodecs:[],videoCodecs:[],audioExtensions:[],videoExtensions:[]},recv:{audioCodecs:[],videoCodecs:[],audioExtensions:[],videoExtensions:[]}},setup:\"active\",cname:\"o/i14u9pJrxRKAsu\",preallocation:!0})}}))}_handleGatewaySignalEvents(){this._gateway.signal.on(mb.ON_USER_ONLINE,this._handleUserOnline),this._gateway.signal.on(mb.ON_USER_OFFLINE,this._handleUserOffline),this._gateway.signal.on(mb.ON_ADD_AUDIO_STREAM,(e=>this._handleAddAudioOrVideoStream(\"audio\",e.uid,e.ssrcId,e.cname,e.uint_id,e.ortc))),this._gateway.signal.on(mb.ON_ADD_VIDEO_STREAM,(e=>this._handleAddAudioOrVideoStream(\"video\",e.uid,e.ssrcId,e.cname,e.uint_id,e.ortc,e.rtxSsrcId))),this._gateway.signal.on(mb.ON_REMOTE_DATASTREAM_UPDATE,(e=>{this._handleUpdateDataChannel(e)})),this._gateway.signal.on(mb.ON_REMOTE_FULL_DATASTREAM_INFO,(e=>{this._handleUpdateDataChannel({added:e.datastreams||[],deleted:[]},!0)})),this._gateway.signal.on(mb.ON_REMOVE_STREAM,this._handleRemoveStream),this._gateway.signal.on(mb.ON_P2P_LOST,this._handleP2PLost),this._gateway.signal.on(mb.MUTE_AUDIO,(e=>this._handleMuteStream(e.uid,Yb.AUDIO,!0))),this._gateway.signal.on(mb.UNMUTE_AUDIO,(e=>this._handleMuteStream(e.uid,Yb.AUDIO,!1))),this._gateway.signal.on(mb.MUTE_VIDEO,(e=>this._handleMuteStream(e.uid,Yb.VIDEO,!0))),this._gateway.signal.on(mb.UNMUTE_VIDEO,(e=>this._handleMuteStream(e.uid,Yb.VIDEO,!1))),this._gateway.signal.on(mb.RECEIVE_METADATA,(e=>{const t=Yv(e.metadata);this.safeEmit(Nv.RECEIVE_METADATA,e.uid,t)})),this._gateway.signal.on(mb.ON_DATA_STREAM,(async e=>{var t;if(!e)return;let i=Yv(e.payload);if(this._encryptDataStream&&this._encryptDataStreamIv&&this._encryptDataStreamKey&&window.crypto.subtle&&Dn(t=[\"aes-128-gcm2\",\"aes-256-gcm2\"]).call(t,this._encryptionMode)){if(e.payload.length<Fy)throw new Sb(nv.UNEXPECTED_RESPONSE,\"payload length \".concat(e.payload.length,\" is less than header length \").concat(Fy));const t=await async function(e,t,i){const n=i.subarray(0,Fy),r=n.slice(8,Fy),o=(r[0]<<8)+r[1],s=(n[6]<<8)+n[7],a=await window.crypto.subtle.decrypt({name:\"AES-GCM\",iv:e,tagLength:Uy,additionalData:new Uint8Array(ay(o,2))},t,i.subarray(Fy));return new Uint8Array(a).subarray(0,s)}(this._encryptDataStreamIv,this._encryptDataStreamKey,i);i=t}let n=0;if(e.ordered||e.syncWithAudio){const t=this._p2pChannel.getStats(),i=this.remoteUsers.find((t=>t.uid===e.uid)),r=null==t?void 0:t.audioRecv.find((e=>e.ssrc===(null==i?void 0:i._audioSSRC)));n=null==r?void 0:r.jitterBufferMs}null==n&&(n=0),AF(Sj(Sj({},e),{},{payload:i}),n,{id:this._clientId,onStreamMessage:\"function\"==typeof this.onStreamMessage?this.onStreamMessage.bind(this):void 0,safeEmit:this.safeEmit.bind(this)})})),this._gateway.signal.on(mb.ON_CRYPT_ERROR,(()=>{Kv((()=>{Qy.warning(\"[\".concat(this._clientId,\"] on crypt error\")),this.safeEmit(Nv.CRYPT_ERROR)}),this._sessionId)})),this._gateway.signal.on(mb.ON_TOKEN_PRIVILEGE_WILL_EXPIRE,this._handleTokenWillExpire),this._gateway.signal.on(mb.ON_TOKEN_PRIVILEGE_DID_EXPIRE,(()=>{Qy.warning(\"[\".concat(this._clientId,\"] received message onTokenPrivilegeDidExpire, please get new token and join again\")),this._gateway.leave(!0,Av.TOKEN_EXPIRE),this.safeEmit(Nv.ON_TOKEN_PRIVILEGE_DID_EXPIRE),this._reset()})),this._gateway.signal.on(mb.ON_STREAM_FALLBACK_UPDATE,(e=>{Qy.debug(\"[\".concat(this._clientId,\"] stream fallback peerId: \").concat(e.stream_id,\", attr: \").concat(e.stream_type)),this.safeEmit(Nv.STREAM_FALLBACK,e.stream_id,1===e.stream_type?\"fallback\":\"recover\")})),this._gateway.signal.on(mb.ON_PUBLISH_STREAM,(e=>{this.uid===this._uid&&(this._p2pChannel.reportPublishEvent(!0,null,void 0,!1,JSON.stringify({proxy:e.proxy})),Qy.info(\"[\".concat(this._clientId,\"] on publish stream, \").concat(JSON.stringify(e))))})),this._gateway.signal.on(mb.ENABLE_LOCAL_VIDEO,(e=>{this._handleSetStreamLocalEnable(\"video\",e.uid,!0)})),this._gateway.signal.on(mb.DISABLE_LOCAL_VIDEO,(e=>{this._handleSetStreamLocalEnable(\"video\",e.uid,!1)})),this._gateway.signal.on(pb.REQUEST_TIMEOUT,((e,t)=>{if(this._joinInfo)switch(e){case _b.PUBLISH:{if(!t)return;const e=t.ortc;if(e){var i,n;const r=e.some((e=>{let{stream_type:t}=e;return t===Mb.Audio})),o=e.some((e=>{let{stream_type:t}=e;return t!==Mb.Audio})),s=e.some((e=>{let{stream_type:t}=e;return t===Mb.Screen||t===Mb.ScreenLow}));\"offer\"===t.state&&sA.publish(this._joinInfo.sid,{eventElapse:jU.measureFromPublishStart(this.store.clientId,this.store.pubId),succ:!1,ec:nv.TIMEOUT,audio:r,video:o,p2pid:t.p2p_id,publishRequestid:this.store.pubId,screenshare:s,audioName:r?null===(i=e.find((e=>{let{stream_type:t}=e;return t===Mb.Audio})))||void 0===i||null===(i=i.ssrcs[0])||void 0===i?void 0:i.ssrcId.toString():void 0,videoName:o?null===(n=e.find((e=>{let{stream_type:t}=e;return t!==Mb.Audio})))||void 0===n||null===(n=n.ssrcs[0])||void 0===n?void 0:n.ssrcId.toString():void 0})}break}case _b.SUBSCRIBE:t&&sA.subscribe(this._joinInfo.sid,{succ:!1,ec:nv.TIMEOUT,audio:t.stream_type===Yb.AUDIO,video:t.stream_type===Yb.VIDEO,peerid:t.stream_id,subscribeRequestid:t.ssrcId,p2pid:this.store.p2pId,eventElapse:jU.measureFromSubscribeStart(this.store.clientId,t.ssrcId),preSsrc:this._p2pChannel.isPreSubScribe(t.ssrcId)})}})),this._gateway.signal.on(mb.ON_P2P_OK,(e=>{this.uid,this._uid})),this._gateway.signal.on(mb.ON_PUBLISHED_USER_LIST,(e=>{if(null==e||!e.users)return;Dy(\"BLOCK_LOCAL_CLIENT\")&&(e.users=e.users.filter((e=>!uA(e.string_id||e.stream_id,this.channelName))));const t=[],i=[];for(const n of e.users){let e=this._users.find((e=>e._uintid===n.stream_id));e?e._trust_in_room_=!0:(e=new iV(n.string_id||n.stream_id,n.stream_id),this._users.push(e),0===this.getListeners(Nv.PUBLISHED_USER_LIST).length&&(Qy.debug(\"[\".concat(this._clientId,\"] user online\"),n.stream_id),this.safeEmit(Nv.USER_JOINED,e)));const r=Vb.Audio&n.stream_type,o=(Vb.Video|Vb.LwoVideo)&n.stream_type,s=0!=(65280&n.stream_type),a=r&&e.hasAudio,c=o&&e.hasVideo;o&&(e._trust_video_stream_added_state_=!0,e._video_added_=!0,e._videoSSRC=n.video_ssrc,e._rtxSsrcId=n.video_rtx),r&&(e._trust_audio_stream_added_state_=!0,e._audio_added_=!0,e._audioSSRC=n.audio_ssrc),r&&!a&&0===this.getListeners(Nv.PUBLISHED_USER_LIST).length&&(Qy.info(\"[\".concat(this._clientId,\"] remote user \").concat(e.uid,\" published audio\")),this.safeEmit(Nv.USER_PUBLISHED,e,\"audio\")),o&&!c&&0===this.getListeners(Nv.PUBLISHED_USER_LIST).length&&(Qy.info(\"[\".concat(this._clientId,\"] remote user \").concat(e.uid,\" published video\")),this.safeEmit(Nv.USER_PUBLISHED,e,\"video\")),(r&&!a||o&&!c||s)&&t.push(e),o&&this._p2pChannel.hasPendingRemoteMedia(e,\"video\")&&i.push({user:e,mediaType:\"video\"}),r&&this._p2pChannel.hasPendingRemoteMedia(e,\"audio\")&&i.push({user:e,mediaType:\"audio\"})}i.length>0&&(Qy.debug(\"[\".concat(this._clientId,\"] RE massSubscribe after reconnect \").concat(i.map((e=>\"user: \".concat(e.user.uid,\", mediaType: \").concat(e.mediaType))).join(\"; \"),\" \")),this.massSubscribe(i).catch((e=>{Qy.error(\"[\".concat(this._clientId,\"] mass resubscribe error\"),e.toString())}))),this.getListeners(Nv.PUBLISHED_USER_LIST).length>0?Dy(\"ENABLE_DATASTREAM_2\")?this._pendingPublishedUsers=t:(Qy.info(\"[\".concat(this._clientId,\"] client emit user-list event, users: \").concat(t.map((e=>e.uid)).join(\", \"))),this.safeEmit(Nv.PUBLISHED_USER_LIST,t)):Qy.info(\"[\".concat(this._clientId,\"] client not emit user-list event case there is no user-list listener, users: \").concat(t.map((e=>e.uid)).join(\", \")))})),this._gateway.signal.on(mb.ON_RTP_CAPABILITY_CHANGE,(e=>{const{video_codec:t}=e;this._p2pChannel instanceof hF&&this._p2pChannel.updateRemoteRTPCapabilities(t.map((e=>e.toLowerCase())).filter((e=>{var t;return Dn(t=Object.keys(My)).call(t,e)})))}))}_handleP2PEvents(){this._gateway.signal.on(mb.ON_USER_OFFLINE,(()=>{this._p2pChannel.disconnectForReconnect()})),this._gateway.signal.on(sw.PUBLISH,((e,t,i)=>{const{uid:n}=e;e.forEach((e=>{const{kind:r,ssrcs:o,mid:s,isMuted:a}=e;this._handleP2PAddAudioOrVideoStream(r,n,o[0].ssrcId,s);const c=this._users.find((e=>e.uid===n));return c&&this._p2pChannel instanceof RV?this._p2pChannel.mockSubscribe(c,r,o[0].ssrcId,s).then((()=>{t()})).catch(i):t(),this._handleMuteStream(n,r,!!a)}))})),this._gateway.signal.on(sw.CALL,(async(e,t,i)=>{if(this._p2pChannel instanceof RV)try{var n;t(await this._p2pChannel.startP2P({turnServer:null===(n=this._joinInfo)||void 0===n?void 0:n.turnServer},e))}catch(e){i(e)}})),this._gateway.signal.on(pb.P2P_CONNECTION,(async e=>{this._p2pChannel instanceof RV&&await this._p2pChannel.p2pConnect(e)})),this._gateway.signal.on(sw.UNPUBLISH,(async(e,t,i)=>{if(this._p2pChannel instanceof RV){const{unpubMsg:n,uid:r}=e,o=this._users.find((e=>e.uid===r));if(!o)return Qy.warning(\"[\".concat(this._clientId,\"] can not find remote user, ignore mute event, uid: \").concat(r)),void t();try{n.forEach((async e=>{let{stream_type:t}=e;const i=t===Mb.Audio?Yb.AUDIO:Yb.VIDEO;await this._p2pChannel.unsubscribe(o,i),this._handleMuteStream(r,i,!0)})),t()}catch(e){i(e)}}})),this._gateway.signal.on(sw.CONTROL,(async(e,t)=>{const{action:i}=e;switch(i){case cw.MUTE_LOCAL_VIDEO:this._handleMuteStream(t,Yb.VIDEO,!0);break;case cw.MUTE_LOCAL_AUDIO:this._handleMuteStream(t,Yb.AUDIO,!0);break;case cw.UNMUTE_LOCAL_VIDEO:this._handleP2PAddAudioOrVideoStream(\"video\",t),this._handleMuteStream(t,Yb.VIDEO,!1);break;case cw.UNMUTE_LOCAL_AUDIO:this._handleP2PAddAudioOrVideoStream(\"audio\",t),this._handleMuteStream(t,Yb.AUDIO,!1)}})),this._gateway.signal.on(sw.RESTART_ICE,(async(e,t,i)=>{if(this._p2pChannel instanceof RV)try{const{direction:i,iceParameter:n}=e;if(i!==fb.SEND_ONLY||n){t(await this._p2pChannel.restartICE(i,n))}else this._p2pChannel.handleDisconnect(i),t()}catch(e){i(e)}})),this._gateway.signal.on(sw.CANDIDATE,(e=>{if(this._p2pChannel instanceof RV){const{candidate:t,direction:i}=e;this._p2pChannel.addRemoteCandidate(t,i)}})),this._p2pChannel.on(Qb.RequestP2PRestartICE,(async(e,t,i)=>{try{const{direction:i}=e;t(await this._gateway.sendExtensionMessage(sw.RESTART_ICE,e,i===fb.SEND_ONLY))}catch(e){i(e)}})),this._p2pChannel.on(Qb.LocalCandidate,(e=>{this._gateway.sendExtensionMessage(sw.CANDIDATE,JSON.stringify(e),!0)})),this._p2pChannel.on(Qb.RequestP2PMuteLocal,(async(e,t,i)=>{try{await this._gateway.sendExtensionMessage(sw.CONTROL,e,!0),t()}catch(e){i(e)}})),this._p2pChannel.on(Qb.RequestP2PUnmuteRemote,(async(e,t,i)=>{if(this._joinInfo)try{await this._gateway.unmuteRemote(e,this._joinInfo.stringUid||this._joinInfo.uid),t()}catch(e){e.code===nv.DISCONNECT_P2P?t():i(e)}else t()})),this._p2pChannel.on(Qb.RequestP2PMuteRemote,(async(e,t,i)=>{if(this._joinInfo)try{await this._gateway.muteRemote(e,this._joinInfo.stringUid||this._joinInfo.uid),t()}catch(e){e.code===nv.DISCONNECT_P2P?t():i(e)}else t()})),this._p2pChannel.on(Qb.StateChange,((e,t)=>{t===Xb.Connected&&this._p2pChannel.republish()}))}_handleP2PChannelEvents(){this._p2pChannel.on(Qb.RequestMuteLocal,(async(e,t,i)=>{if(this._joinInfo)try{await this._gateway.muteLocal(e,this._joinInfo.stringUid||this._joinInfo.uid),t()}catch(e){e.code===nv.DISCONNECT_P2P?t():i(e)}else t()})),this._p2pChannel.on(Qb.RequestUnmuteLocal,(async(e,t,i)=>{if(this._joinInfo)try{await this._gateway.unmuteLocal(e,this._joinInfo.stringUid||this._joinInfo.uid),t()}catch(e){e.code===nv.DISCONNECT_P2P?t():i(e)}else t()})),this._p2pChannel.on(Qb.RequestRePublish,((e,t,i)=>{this.publish(e,!1).then(t).catch(i)})),this._p2pChannel.on(Qb.RequestRePublishDataChannel,((e,t,i)=>{Gh.all(e.map((async e=>{const t=await this._p2pChannel.publishDataChannel([e]);try{t.forEach((e=>{this._uid&&this._gateway.publishDataChannel(this._uid,e,!0)}))}catch(e){if(e.code!==nv.DISCONNECT_P2P)throw e}}))).then(t).catch(i)})),this._p2pChannel.on(Qb.RequestReSubscribe,(async(e,t,i)=>{try{for(const{user:t,kind:i}of e)i===Yb.VIDEO?await this.subscribe(t,\"video\"):await this.subscribe(t,\"audio\");t()}catch(e){i(e)}})),this._p2pChannel.on(Qb.RequestUpload,((e,t)=>{this._gateway.upload(e,t)})),this._p2pChannel.on(Qb.RequestUploadStats,(e=>{this._gateway.uploadWRTCStats(e)})),this._p2pChannel.on(Qb.MediaReconnectStart,(e=>{this.safeEmit(Nv.MEDIA_RECONNECT_START,e)})),this._p2pChannel.on(Qb.MediaReconnectEnd,(e=>{this.safeEmit(Nv.MEDIA_RECONNECT_END,e)})),this._p2pChannel.on(Qb.NeedSignalRTT,(e=>{e(this._gateway.getSignalRTT())})),this._p2pChannel.on(Qb.RequestRestartICE,(async e=>{if(this._p2pChannel instanceof RV)return;const t=await this._p2pChannel.restartICE(e),i=await t.next();if(i.done)return;const n=i.value;let r;try{r=await this._gateway.restartICE({iceParameters:n})}catch(e){return void t.throw(e)}const{iceParameters:o}=function(e){const t=e.iceParameters;return{iceParameters:{iceUfrag:t.iceUfrag,icePwd:t.icePwd}}}(r);await t.next({remoteIceParameters:o})})),this._p2pChannel.on(Qb.RequestReconnect,(async()=>{this._gateway.reconnect()})),this._p2pChannel.on(Qb.RequestReconnectPC,(async()=>{var e;const{iceParameters:t,dtlsParameters:i,rtpCapabilities:n}=await this._p2pChannel.startP2PConnection({turnServer:null===(e=this._joinInfo)||void 0===e?void 0:e.turnServer}),{gatewayEstablishParams:r,gatewayAddress:o}=await this._gateway.reconnectPC({iceParameters:t,dtlsParameters:i,rtpCapabilities:n}),s=OM(r,o);await this._p2pChannel.connect(s),await this._p2pChannel.republish(),await this._p2pChannel.reSubscribe()})),this._p2pChannel.on(Qb.RequestUnpublishForReconnectPC,(async(e,t,i)=>{this._joinInfo&&void 0!==this._uid?(await this._gateway.unpublish(e,this._uid),t()):i()})),this._p2pChannel.on(Qb.P2PLost,(()=>{this.safeEmit(Nv.P2P_LOST,this.store.uid)})),this._p2pChannel.on(Qb.UpdateVideoEncoder,(e=>{e._encoderConfig&&this._gateway.setVideoProfile(e._encoderConfig)})),this._p2pChannel.on(Qb.ConnectionTypeChange,(e=>{this.safeEmit(Nv.IS_USING_CLOUD_PROXY,e)})),this._p2pChannel.on(Qb.RequestLowStreamParameter,(e=>{e(this._lowStreamParameter||{width:160,height:120,framerate:15,bitrate:50})})),this._p2pChannel.on(Qb.QueryClientConnectionState,(e=>{e(this.connectionState)}))}getKeyMetrics(){return this.store.keyMetrics}async enableContentInspect(e){if(!this._joinInfo||\"CONNECTED\"!==this.connectionState)throw new Sb(nv.INVALID_OPERATION,\"[\".concat(this._clientId,\"] can not create content inspect, please join channel first\"));if(this._inspect)throw new Sb(nv.INVALID_OPERATION,\"[\".concat(this._clientId,\"] Inspect content service already in connecting/connected state\"));try{const i=(t={config:e},mF(\"ContentInspect\").create(t));this._inspect=i,this.handleVideoInspectEvents(i);const{appId:n,cname:r,sid:o,token:s,uid:a,cid:c,vid:d}=this._joinInfo;await i.init({appId:n,areaCode:\"\",cname:r,sid:o,token:s,uid:a,cid:c,vid:d?Number(d):0},_y)}catch(e){throw Array.isArray(e)?e[0]:e}var t}handleVideoInspectEvents(e){e.on(ew.CONNECTION_STATE_CHANGE,((t,i)=>{if(this.safeEmit(Nv.CONTENT_INSPECT_CONNECTION_STATE_CHANGE,t,i),i===Zb.CONNECTED){if(\"CONNECTED\"!==this.connectionState)return void this.safeEmit(Nv.CONTENT_INSPECT_ERROR,new Sb(nv.OPERATION_ABORTED,\"Content inspect was cancelled because it left the channel\"));e.inspectImage()}})),e.on(ew.INSPECT_RESULT,((e,t)=>{var i;if((null==t?void 0:t.code)===nv.INVALID_OPERATION&&\"DISCONNECTED\"===this.connectionState)return Qy.debug(\"Stop inspect content because that has left channel\"),null==this||null===(i=this._inspect)||void 0===i||i.close(),void(this._inspect=void 0);this.safeEmit(Nv.CONTENT_INSPECT_RESULT,e,t)})),e.on(ew.CLIENT_LOCAL_VIDEO_TRACK,(e=>{e(this.localTracks.filter((e=>\"video\"===e.trackMediaType))[0])}))}async disableContentInspect(){if(!this._inspect)throw new Sb(nv.INVALID_OPERATION,\"[\".concat(this._clientId,\"] inspectVideoContent not started\"));try{this._inspect.close(),this._inspect=void 0}catch(e){throw Array.isArray(e)?e[0]:e}}async setImageModeration(e,t){if(ov(e,\"enabled\"),e){if(!t)throw new Sb(nv.INVALID_PARAMS,\"config is required\");if(OB(t),!this._joinInfo)throw new Sb(nv.INVALID_OPERATION,\"can not create image moderation, please join channel first\");try{if(this._moderation)this._moderation.updateConfig(t);else{const e=(i={config:t},mF(\"ImageModeration\").create(i));this._moderation=e,this.handleImageModerationEvents(e);const{appId:n,cname:r,sid:o,token:s,uid:a,cid:c,vid:d}=this._joinInfo;await e.init({appId:n,areaCode:\"\",cname:r,sid:o,token:s,uid:a,cid:c,vid:d?Number(d):0},_y)}}catch(e){throw Array.isArray(e)?e[0]:e}}else{var i;if(!this._moderation)throw new Sb(nv.INVALID_OPERATION,\"[\".concat(this._clientId,\"] image moderation not started\"));try{this._moderation.close(),this._moderation.removeAllListeners(),this._moderation=void 0}catch(e){throw Array.isArray(e)?e[0]:e}}}handleImageModerationEvents(e){e.on(rw.CONNECTION_STATE_CHANGE,((t,i)=>{if(this.safeEmit(Nv.IMAGE_MODERATION_CONNECTION_STATE_CHANGE,t,i),t===nw.CONNECTED){if(\"CONNECTED\"!==this.connectionState)throw this.setImageModeration(!1),new Sb(nv.OPERATION_ABORTED,\"Image moderation was cancelled because it left the channel\");e.inspectImage()}})),e.on(rw.CLIENT_LOCAL_VIDEO_TRACK,(e=>{e(this.localTracks.filter((e=>\"video\"===e.trackMediaType))[0])}))}setP2PTransport(e){if(function(e){sv(e,\"transport\",[\"default\",\"auto\",\"relay\",\"sd-rtn\"])}(e),\"p2p\"!==this.mode)throw new Sb(nv.INVALID_OPERATION,\"only p2p mode can set p2pTransport\");this.store.p2pTransport=e,Qy.info(\"[\".concat(this._clientId,\"] set client p2pTransport to \").concat(e))}getJoinChannelServiceRecords(){return Qy.debug(\"getJoinChannelServiceRecords\"),this.store.joinChannelServiceRecords}async setPublishAudioFilterEnabled(e){ov(e,\"enabled\"),Ny(\"ENABLE_PUBLISH_AUDIO_FILTER\",e),this._joinInfo&&await this._gateway.setPublishAudioFilterEnabled(e)}_handleResetAddStream(e,t){switch(t){case\"audio\":e._audio_added_=!1,e._trust_audio_stream_added_state_=!0;break;case\"video\":e._video_added_=!1,e._trust_video_stream_added_state_=!0}}},rb(fj.prototype,\"leave\",[DB],Object.getOwnPropertyDescriptor(fj.prototype,\"leave\"),fj.prototype),rb(fj.prototype,\"publish\",[PB],Object.getOwnPropertyDescriptor(fj.prototype,\"publish\"),fj.prototype),rb(fj.prototype,\"unpublish\",[LB],Object.getOwnPropertyDescriptor(fj.prototype,\"unpublish\"),fj.prototype),rb(fj.prototype,\"subscribe\",[kB],Object.getOwnPropertyDescriptor(fj.prototype,\"subscribe\"),fj.prototype),rb(fj.prototype,\"presubscribe\",[MB],Object.getOwnPropertyDescriptor(fj.prototype,\"presubscribe\"),fj.prototype),rb(fj.prototype,\"massSubscribe\",[UB],Object.getOwnPropertyDescriptor(fj.prototype,\"massSubscribe\"),fj.prototype),rb(fj.prototype,\"unsubscribe\",[xB],Object.getOwnPropertyDescriptor(fj.prototype,\"unsubscribe\"),fj.prototype),rb(fj.prototype,\"massUnsubscribe\",[VB],Object.getOwnPropertyDescriptor(fj.prototype,\"massUnsubscribe\"),fj.prototype),rb(fj.prototype,\"setLowStreamParameter\",[FB],Object.getOwnPropertyDescriptor(fj.prototype,\"setLowStreamParameter\"),fj.prototype),rb(fj.prototype,\"enableDualStream\",[BB],Object.getOwnPropertyDescriptor(fj.prototype,\"enableDualStream\"),fj.prototype),rb(fj.prototype,\"disableDualStream\",[jB],Object.getOwnPropertyDescriptor(fj.prototype,\"disableDualStream\"),fj.prototype),rb(fj.prototype,\"setClientRole\",[GB],Object.getOwnPropertyDescriptor(fj.prototype,\"setClientRole\"),fj.prototype),rb(fj.prototype,\"setProxyServer\",[WB],Object.getOwnPropertyDescriptor(fj.prototype,\"setProxyServer\"),fj.prototype),rb(fj.prototype,\"setTurnServer\",[HB],Object.getOwnPropertyDescriptor(fj.prototype,\"setTurnServer\"),fj.prototype),rb(fj.prototype,\"setLicense\",[KB],Object.getOwnPropertyDescriptor(fj.prototype,\"setLicense\"),fj.prototype),rb(fj.prototype,\"startProxyServer\",[YB],Object.getOwnPropertyDescriptor(fj.prototype,\"startProxyServer\"),fj.prototype),rb(fj.prototype,\"stopProxyServer\",[qB],Object.getOwnPropertyDescriptor(fj.prototype,\"stopProxyServer\"),fj.prototype),rb(fj.prototype,\"setLocalAccessPointsV2\",[zB],Object.getOwnPropertyDescriptor(fj.prototype,\"setLocalAccessPointsV2\"),fj.prototype),rb(fj.prototype,\"setLocalAccessPoints\",[JB],Object.getOwnPropertyDescriptor(fj.prototype,\"setLocalAccessPoints\"),fj.prototype),rb(fj.prototype,\"setRemoteDefaultVideoStreamType\",[XB],Object.getOwnPropertyDescriptor(fj.prototype,\"setRemoteDefaultVideoStreamType\"),fj.prototype),rb(fj.prototype,\"setRemoteVideoStreamType\",[QB],Object.getOwnPropertyDescriptor(fj.prototype,\"setRemoteVideoStreamType\"),fj.prototype),rb(fj.prototype,\"setStreamFallbackOption\",[ZB],Object.getOwnPropertyDescriptor(fj.prototype,\"setStreamFallbackOption\"),fj.prototype),rb(fj.prototype,\"setEncryptionConfig\",[$B],Object.getOwnPropertyDescriptor(fj.prototype,\"setEncryptionConfig\"),fj.prototype),rb(fj.prototype,\"renewToken\",[ej],Object.getOwnPropertyDescriptor(fj.prototype,\"renewToken\"),fj.prototype),rb(fj.prototype,\"enableAudioVolumeIndicator\",[tj],Object.getOwnPropertyDescriptor(fj.prototype,\"enableAudioVolumeIndicator\"),fj.prototype),rb(fj.prototype,\"startLiveStreaming\",[ij],Object.getOwnPropertyDescriptor(fj.prototype,\"startLiveStreaming\"),fj.prototype),rb(fj.prototype,\"setLiveTranscoding\",[nj],Object.getOwnPropertyDescriptor(fj.prototype,\"setLiveTranscoding\"),fj.prototype),rb(fj.prototype,\"stopLiveStreaming\",[rj],Object.getOwnPropertyDescriptor(fj.prototype,\"stopLiveStreaming\"),fj.prototype),rb(fj.prototype,\"startChannelMediaRelay\",[oj],Object.getOwnPropertyDescriptor(fj.prototype,\"startChannelMediaRelay\"),fj.prototype),rb(fj.prototype,\"updateChannelMediaRelay\",[sj],Object.getOwnPropertyDescriptor(fj.prototype,\"updateChannelMediaRelay\"),fj.prototype),rb(fj.prototype,\"stopChannelMediaRelay\",[aj],Object.getOwnPropertyDescriptor(fj.prototype,\"stopChannelMediaRelay\"),fj.prototype),rb(fj.prototype,\"sendCustomReportMessage\",[cj],Object.getOwnPropertyDescriptor(fj.prototype,\"sendCustomReportMessage\"),fj.prototype),rb(fj.prototype,\"pickSVCLayer\",[dj],Object.getOwnPropertyDescriptor(fj.prototype,\"pickSVCLayer\"),fj.prototype),rb(fj.prototype,\"setRTMConfig\",[lj],Object.getOwnPropertyDescriptor(fj.prototype,\"setRTMConfig\"),fj.prototype),rb(fj.prototype,\"enableContentInspect\",[uj],Object.getOwnPropertyDescriptor(fj.prototype,\"enableContentInspect\"),fj.prototype),rb(fj.prototype,\"disableContentInspect\",[hj],Object.getOwnPropertyDescriptor(fj.prototype,\"disableContentInspect\"),fj.prototype),rb(fj.prototype,\"setImageModeration\",[pj],Object.getOwnPropertyDescriptor(fj.prototype,\"setImageModeration\"),fj.prototype),rb(fj.prototype,\"setP2PTransport\",[_j],Object.getOwnPropertyDescriptor(fj.prototype,\"setP2PTransport\"),fj.prototype),rb(fj.prototype,\"getJoinChannelServiceRecords\",[Ej],Object.getOwnPropertyDescriptor(fj.prototype,\"getJoinChannelServiceRecords\"),fj.prototype),rb(fj.prototype,\"setPublishAudioFilterEnabled\",[mj],Object.getOwnPropertyDescriptor(fj.prototype,\"setPublishAudioFilterEnabled\"),fj.prototype),fj);class Rj{constructor(e,t){og(this,\"id\",0),og(this,\"element\",void 0),og(this,\"peerPair\",void 0),og(this,\"context\",void 0),og(this,\"audioPlayerElement\",void 0),og(this,\"audioTrack\",void 0),Rj.count+=1,this.id=Rj.count,this.element=e,this.context=t}initPeers(){this.peerPair=[new RTCPeerConnection,new RTCPeerConnection],this.peerPair[1].ontrack=e=>{const t=document.createElement(\"audio\");t.srcObject=new MediaStream([e.track]),t.play(),this.audioPlayerElement=t}}async switchSdp(){if(!this.peerPair)return;const e=async(e,t)=>{const i=\"offer\"===t?await e.createOffer():await e.createAnswer();return await e.setLocalDescription(i),\"complete\"===e.iceGatheringState?e.localDescription:new Gh((t=>{e.onicegatheringstatechange=()=>{\"complete\"===e.iceGatheringState&&t(e.localDescription)}}))},t=async(e,t)=>await e.setRemoteDescription(t);try{const i=await e(this.peerPair[0],\"offer\");await t(this.peerPair[1],i);const n=await e(this.peerPair[1],\"answer\");await t(this.peerPair[0],n)}catch(e){throw new Sb(nv.LOCAL_AEC_ERROR,e.toString()).print()}}async getTracksFromMediaElement(e){if(this.audioTrack)return this.audioTrack;let t;try{e instanceof HTMLVideoElement&&(e.captureStream?e.captureStream():e.mozCaptureStream()),t=this.context.createMediaStreamDestination();this.context.createMediaElementSource(e).connect(t)}catch(e){throw new Sb(nv.LOCAL_AEC_ERROR,e.toString()).print()}if(!t){throw new Sb(nv.LOCAL_AEC_ERROR,\"no dest node when local aec\").print()}const i=t.stream.getAudioTracks()[0];return this.audioTrack=i,i}getElement(){return this.element}async startEchoCancellation(){this.context.resume(),this.peerPair&&this.close(),this.initPeers();const e=this.element,t=await this.getTracksFromMediaElement(e);this.peerPair&&this.peerPair[0].addTrack(t),await this.switchSdp()}close(){Qy.debug(\"close echo cancellation unit, id is\",this.id),this.audioPlayerElement&&this.audioPlayerElement.pause(),this.peerPair&&this.peerPair.forEach((e=>{e.close()})),this.peerPair=void 0,this.audioPlayerElement=void 0}}var Cj,Ij;og(Rj,\"count\",0);const vj=window.AudioContext||window.webkitAudioContext;const yj=new(Cj=oA({report:sA}),rb((Ij=class{constructor(){og(this,\"units\",[]),og(this,\"context\",void 0)}processExternalMediaAEC(e){if(!this._doesEnvironmentNeedAEC())return Qy.debug(\"the system does not need to process local aec\"),-1;this.context||(this.context=new vj);let t=this.units.find((t=>t&&t.getElement()===e));return t||(t=new Rj(e,this.context),this.units.push(t)),t.startEchoCancellation(),Qy.debug(\"start processing local audio echo cancellation, id is\",t.id),t.id}_doesEnvironmentNeedAEC(){return AI().name!==CI.SAFARI}}).prototype,\"processExternalMediaAEC\",[Cj],Object.getOwnPropertyDescriptor(Ij.prototype,\"processExternalMediaAEC\"),Ij.prototype),Ij);function Aj(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function bj(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Aj(Object(i),!0).forEach((function(t){og(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Aj(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}const wj=window||document;function Oj(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!wj)return;const i=$K._cspEventHandlerPointer;if(i&&t)return void console.error(i,t);const n=e=>{if(!(e&&e.blockedURI&&($K.onSecurityPolicyViolation||$K.getListeners(iw.SECURITY_POLICY_VIOLATION).length>0)))return;const t=e.blockedURI;Dy(\"CSP_DETECTED_HOSTNAME_LIST\").some((e=>Dn(t).call(t,e)))&&($K.onSecurityPolicyViolation&&\"function\"==typeof $K.onSecurityPolicyViolation&&$K.onSecurityPolicyViolation(e),$K.getListeners(iw.SECURITY_POLICY_VIOLATION).length>0&&$K.safeEmit(iw.SECURITY_POLICY_VIOLATION,e))};i&&wj.removeEventListener(\"securitypolicyviolation\",i),(t||e&&\"function\"==typeof e||$K.getListeners(iw.SECURITY_POLICY_VIOLATION).length>0)&&wj.addEventListener(\"securitypolicyviolation\",n),$K._cspEventHandlerPointer=n}var Nj=l,Dj=BR,Pj=RegExp.prototype,Lj=function(e){return e===Pj||Nj(Pj,e)?Dj(e):e.flags},kj=i(Lj);function Mj(e){let t=e.length;for(;--t>=0;)e[t]=0}const Uj=256,xj=286,Vj=30,Fj=15,Bj=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),jj=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Gj=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Wj=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Hj=new Array(576);Mj(Hj);const Kj=new Array(60);Mj(Kj);const Yj=new Array(512);Mj(Yj);const qj=new Array(256);Mj(qj);const zj=new Array(29);Mj(zj);const Jj=new Array(Vj);function Xj(e,t,i,n,r){this.static_tree=e,this.extra_bits=t,this.extra_base=i,this.elems=n,this.max_length=r,this.has_stree=e&&e.length}let Qj,Zj,$j;function eG(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}Mj(Jj);const tG=e=>e<256?Yj[e]:Yj[256+(e>>>7)],iG=(e,t)=>{e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},nG=(e,t,i)=>{e.bi_valid>16-i?(e.bi_buf|=t<<e.bi_valid&65535,iG(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=i-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=i)},rG=(e,t,i)=>{nG(e,i[2*t],i[2*t+1])},oG=(e,t)=>{let i=0;do{i|=1&e,e>>>=1,i<<=1}while(--t>0);return i>>>1},sG=(e,t,i)=>{const n=new Array(16);let r,o,s=0;for(r=1;r<=Fj;r++)s=s+i[r-1]<<1,n[r]=s;for(o=0;o<=t;o++){let t=e[2*o+1];0!==t&&(e[2*o]=oG(n[t]++,t))}},aG=e=>{let t;for(t=0;t<xj;t++)e.dyn_ltree[2*t]=0;for(t=0;t<Vj;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},cG=e=>{e.bi_valid>8?iG(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},dG=(e,t,i,n)=>{const r=2*t,o=2*i;return e[r]<e[o]||e[r]===e[o]&&n[t]<=n[i]},lG=(e,t,i)=>{const n=e.heap[i];let r=i<<1;for(;r<=e.heap_len&&(r<e.heap_len&&dG(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!dG(t,n,e.heap[r],e.depth));)e.heap[i]=e.heap[r],i=r,r<<=1;e.heap[i]=n},uG=(e,t,i)=>{let n,r,o,s,a=0;if(0!==e.sym_next)do{n=255&e.pending_buf[e.sym_buf+a++],n+=(255&e.pending_buf[e.sym_buf+a++])<<8,r=e.pending_buf[e.sym_buf+a++],0===n?rG(e,r,t):(o=qj[r],rG(e,o+Uj+1,t),s=Bj[o],0!==s&&(r-=zj[o],nG(e,r,s)),n--,o=tG(n),rG(e,o,i),s=jj[o],0!==s&&(n-=Jj[o],nG(e,n,s)))}while(a<e.sym_next);rG(e,256,t)},hG=(e,t)=>{const i=t.dyn_tree,n=t.stat_desc.static_tree,r=t.stat_desc.has_stree,o=t.stat_desc.elems;let s,a,c,d=-1;for(e.heap_len=0,e.heap_max=573,s=0;s<o;s++)0!==i[2*s]?(e.heap[++e.heap_len]=d=s,e.depth[s]=0):i[2*s+1]=0;for(;e.heap_len<2;)c=e.heap[++e.heap_len]=d<2?++d:0,i[2*c]=1,e.depth[c]=0,e.opt_len--,r&&(e.static_len-=n[2*c+1]);for(t.max_code=d,s=e.heap_len>>1;s>=1;s--)lG(e,i,s);c=o;do{s=e.heap[1],e.heap[1]=e.heap[e.heap_len--],lG(e,i,1),a=e.heap[1],e.heap[--e.heap_max]=s,e.heap[--e.heap_max]=a,i[2*c]=i[2*s]+i[2*a],e.depth[c]=(e.depth[s]>=e.depth[a]?e.depth[s]:e.depth[a])+1,i[2*s+1]=i[2*a+1]=c,e.heap[1]=c++,lG(e,i,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],((e,t)=>{const i=t.dyn_tree,n=t.max_code,r=t.stat_desc.static_tree,o=t.stat_desc.has_stree,s=t.stat_desc.extra_bits,a=t.stat_desc.extra_base,c=t.stat_desc.max_length;let d,l,u,h,p,_,E=0;for(h=0;h<=Fj;h++)e.bl_count[h]=0;for(i[2*e.heap[e.heap_max]+1]=0,d=e.heap_max+1;d<573;d++)l=e.heap[d],h=i[2*i[2*l+1]+1]+1,h>c&&(h=c,E++),i[2*l+1]=h,l>n||(e.bl_count[h]++,p=0,l>=a&&(p=s[l-a]),_=i[2*l],e.opt_len+=_*(h+p),o&&(e.static_len+=_*(r[2*l+1]+p)));if(0!==E){do{for(h=c-1;0===e.bl_count[h];)h--;e.bl_count[h]--,e.bl_count[h+1]+=2,e.bl_count[c]--,E-=2}while(E>0);for(h=c;0!==h;h--)for(l=e.bl_count[h];0!==l;)u=e.heap[--d],u>n||(i[2*u+1]!==h&&(e.opt_len+=(h-i[2*u+1])*i[2*u],i[2*u+1]=h),l--)}})(e,t),sG(i,d,e.bl_count)},pG=(e,t,i)=>{let n,r,o=-1,s=t[1],a=0,c=7,d=4;for(0===s&&(c=138,d=3),t[2*(i+1)+1]=65535,n=0;n<=i;n++)r=s,s=t[2*(n+1)+1],++a<c&&r===s||(a<d?e.bl_tree[2*r]+=a:0!==r?(r!==o&&e.bl_tree[2*r]++,e.bl_tree[32]++):a<=10?e.bl_tree[34]++:e.bl_tree[36]++,a=0,o=r,0===s?(c=138,d=3):r===s?(c=6,d=3):(c=7,d=4))},_G=(e,t,i)=>{let n,r,o=-1,s=t[1],a=0,c=7,d=4;for(0===s&&(c=138,d=3),n=0;n<=i;n++)if(r=s,s=t[2*(n+1)+1],!(++a<c&&r===s)){if(a<d)do{rG(e,r,e.bl_tree)}while(0!=--a);else 0!==r?(r!==o&&(rG(e,r,e.bl_tree),a--),rG(e,16,e.bl_tree),nG(e,a-3,2)):a<=10?(rG(e,17,e.bl_tree),nG(e,a-3,3)):(rG(e,18,e.bl_tree),nG(e,a-11,7));a=0,o=r,0===s?(c=138,d=3):r===s?(c=6,d=3):(c=7,d=4)}};let EG=!1;const mG=(e,t,i,n)=>{nG(e,0+(n?1:0),3),cG(e),iG(e,i),iG(e,~i),i&&e.pending_buf.set(e.window.subarray(t,t+i),e.pending),e.pending+=i};var fG=e=>{EG||((()=>{let e,t,i,n,r;const o=new Array(16);for(i=0,n=0;n<28;n++)for(zj[n]=i,e=0;e<1<<Bj[n];e++)qj[i++]=n;for(qj[i-1]=n,r=0,n=0;n<16;n++)for(Jj[n]=r,e=0;e<1<<jj[n];e++)Yj[r++]=n;for(r>>=7;n<Vj;n++)for(Jj[n]=r<<7,e=0;e<1<<jj[n]-7;e++)Yj[256+r++]=n;for(t=0;t<=Fj;t++)o[t]=0;for(e=0;e<=143;)Hj[2*e+1]=8,e++,o[8]++;for(;e<=255;)Hj[2*e+1]=9,e++,o[9]++;for(;e<=279;)Hj[2*e+1]=7,e++,o[7]++;for(;e<=287;)Hj[2*e+1]=8,e++,o[8]++;for(sG(Hj,287,o),e=0;e<Vj;e++)Kj[2*e+1]=5,Kj[2*e]=oG(e,5);Qj=new Xj(Hj,Bj,257,xj,Fj),Zj=new Xj(Kj,jj,0,Vj,Fj),$j=new Xj(new Array(0),Gj,0,19,7)})(),EG=!0),e.l_desc=new eG(e.dyn_ltree,Qj),e.d_desc=new eG(e.dyn_dtree,Zj),e.bl_desc=new eG(e.bl_tree,$j),e.bi_buf=0,e.bi_valid=0,aG(e)},TG=(e,t,i,n)=>{let r,o,s=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=(e=>{let t,i=4093624447;for(t=0;t<=31;t++,i>>>=1)if(1&i&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<Uj;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0})(e)),hG(e,e.l_desc),hG(e,e.d_desc),s=(e=>{let t;for(pG(e,e.dyn_ltree,e.l_desc.max_code),pG(e,e.dyn_dtree,e.d_desc.max_code),hG(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*Wj[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t})(e),r=e.opt_len+3+7>>>3,o=e.static_len+3+7>>>3,o<=r&&(r=o)):r=o=i+5,i+4<=r&&-1!==t?mG(e,t,i,n):4===e.strategy||o===r?(nG(e,2+(n?1:0),3),uG(e,Hj,Kj)):(nG(e,4+(n?1:0),3),((e,t,i,n)=>{let r;for(nG(e,t-257,5),nG(e,i-1,5),nG(e,n-4,4),r=0;r<n;r++)nG(e,e.bl_tree[2*Wj[r]+1],3);_G(e,e.dyn_ltree,t-1),_G(e,e.dyn_dtree,i-1)})(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),uG(e,e.dyn_ltree,e.dyn_dtree)),aG(e),n&&cG(e)},SG=(e,t,i)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=i,0===t?e.dyn_ltree[2*i]++:(e.matches++,t--,e.dyn_ltree[2*(qj[i]+Uj+1)]++,e.dyn_dtree[2*tG(t)]++),e.sym_next===e.sym_end),gG=e=>{nG(e,2,3),rG(e,256,Hj),(e=>{16===e.bi_valid?(iG(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)})(e)},RG={_tr_init:fG,_tr_stored_block:mG,_tr_flush_block:TG,_tr_tally:SG,_tr_align:gG};var CG=(e,t,i,n)=>{let r=65535&e|0,o=e>>>16&65535|0,s=0;for(;0!==i;){s=i>2e3?2e3:i,i-=s;do{r=r+t[n++]|0,o=o+r|0}while(--s);r%=65521,o%=65521}return r|o<<16|0};const IG=new Uint32Array((()=>{let e,t=[];for(var i=0;i<256;i++){e=i;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[i]=e}return t})());var vG=(e,t,i,n)=>{const r=IG,o=n+i;e^=-1;for(let i=n;i<o;i++)e=e>>>8^r[255&(e^t[i])];return-1^e},yG={2:\"need dictionary\",1:\"stream end\",0:\"\",\"-1\":\"file error\",\"-2\":\"stream error\",\"-3\":\"data error\",\"-4\":\"insufficient memory\",\"-5\":\"buffer error\",\"-6\":\"incompatible version\"},AG={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:bG,_tr_stored_block:wG,_tr_flush_block:OG,_tr_tally:NG,_tr_align:DG}=RG,{Z_NO_FLUSH:PG,Z_PARTIAL_FLUSH:LG,Z_FULL_FLUSH:kG,Z_FINISH:MG,Z_BLOCK:UG,Z_OK:xG,Z_STREAM_END:VG,Z_STREAM_ERROR:FG,Z_DATA_ERROR:BG,Z_BUF_ERROR:jG,Z_DEFAULT_COMPRESSION:GG,Z_FILTERED:WG,Z_HUFFMAN_ONLY:HG,Z_RLE:KG,Z_FIXED:YG,Z_DEFAULT_STRATEGY:qG,Z_UNKNOWN:zG,Z_DEFLATED:JG}=AG,XG=286,QG=30,ZG=19,$G=2*XG+1,eW=15,tW=258,iW=262,nW=42,rW=113,oW=666,sW=(e,t)=>(e.msg=yG[t],t),aW=e=>2*e-(e>4?9:0),cW=e=>{let t=e.length;for(;--t>=0;)e[t]=0},dW=e=>{let t,i,n,r=e.w_size;t=e.hash_size,n=t;do{i=e.head[--n],e.head[n]=i>=r?i-r:0}while(--t);t=r,n=t;do{i=e.prev[--n],e.prev[n]=i>=r?i-r:0}while(--t)};let lW=(e,t,i)=>(t<<e.hash_shift^i)&e.hash_mask;const uW=e=>{const t=e.state;let i=t.pending;i>e.avail_out&&(i=e.avail_out),0!==i&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+i),e.next_out),e.next_out+=i,t.pending_out+=i,e.total_out+=i,e.avail_out-=i,t.pending-=i,0===t.pending&&(t.pending_out=0))},hW=(e,t)=>{OG(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,uW(e.strm)},pW=(e,t)=>{e.pending_buf[e.pending++]=t},_W=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},EW=(e,t,i,n)=>{let r=e.avail_in;return r>n&&(r=n),0===r?0:(e.avail_in-=r,t.set(e.input.subarray(e.next_in,e.next_in+r),i),1===e.state.wrap?e.adler=CG(e.adler,t,r,i):2===e.state.wrap&&(e.adler=vG(e.adler,t,r,i)),e.next_in+=r,e.total_in+=r,r)},mW=(e,t)=>{let i,n,r=e.max_chain_length,o=e.strstart,s=e.prev_length,a=e.nice_match;const c=e.strstart>e.w_size-iW?e.strstart-(e.w_size-iW):0,d=e.window,l=e.w_mask,u=e.prev,h=e.strstart+tW;let p=d[o+s-1],_=d[o+s];e.prev_length>=e.good_match&&(r>>=2),a>e.lookahead&&(a=e.lookahead);do{if(i=t,d[i+s]===_&&d[i+s-1]===p&&d[i]===d[o]&&d[++i]===d[o+1]){o+=2,i++;do{}while(d[++o]===d[++i]&&d[++o]===d[++i]&&d[++o]===d[++i]&&d[++o]===d[++i]&&d[++o]===d[++i]&&d[++o]===d[++i]&&d[++o]===d[++i]&&d[++o]===d[++i]&&o<h);if(n=tW-(h-o),o=h-tW,n>s){if(e.match_start=t,s=n,n>=a)break;p=d[o+s-1],_=d[o+s]}}}while((t=u[t&l])>c&&0!=--r);return s<=e.lookahead?s:e.lookahead},fW=e=>{const t=e.w_size;let i,n,r;do{if(n=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-iW)&&(e.window.set(e.window.subarray(t,t+t-n),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),dW(e),n+=t),0===e.strm.avail_in)break;if(i=EW(e.strm,e.window,e.strstart+e.lookahead,n),e.lookahead+=i,e.lookahead+e.insert>=3)for(r=e.strstart-e.insert,e.ins_h=e.window[r],e.ins_h=lW(e,e.ins_h,e.window[r+1]);e.insert&&(e.ins_h=lW(e,e.ins_h,e.window[r+3-1]),e.prev[r&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=r,r++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<iW&&0!==e.strm.avail_in)},TW=(e,t)=>{let i,n,r,o=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,s=0,a=e.strm.avail_in;do{if(i=65535,r=e.bi_valid+42>>3,e.strm.avail_out<r)break;if(r=e.strm.avail_out-r,n=e.strstart-e.block_start,i>n+e.strm.avail_in&&(i=n+e.strm.avail_in),i>r&&(i=r),i<o&&(0===i&&t!==MG||t===PG||i!==n+e.strm.avail_in))break;s=t===MG&&i===n+e.strm.avail_in?1:0,wG(e,0,0,s),e.pending_buf[e.pending-4]=i,e.pending_buf[e.pending-3]=i>>8,e.pending_buf[e.pending-2]=~i,e.pending_buf[e.pending-1]=~i>>8,uW(e.strm),n&&(n>i&&(n=i),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+n),e.strm.next_out),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n,e.block_start+=n,i-=n),i&&(EW(e.strm,e.strm.output,e.strm.next_out,i),e.strm.next_out+=i,e.strm.avail_out-=i,e.strm.total_out+=i)}while(0===s);return a-=e.strm.avail_in,a&&(a>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=a&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-a,e.strm.next_in),e.strstart),e.strstart+=a,e.insert+=a>e.w_size-e.insert?e.w_size-e.insert:a),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),s?4:t!==PG&&t!==MG&&0===e.strm.avail_in&&e.strstart===e.block_start?2:(r=e.window_size-e.strstart,e.strm.avail_in>r&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,r+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),r>e.strm.avail_in&&(r=e.strm.avail_in),r&&(EW(e.strm,e.window,e.strstart,r),e.strstart+=r,e.insert+=r>e.w_size-e.insert?e.w_size-e.insert:r),e.high_water<e.strstart&&(e.high_water=e.strstart),r=e.bi_valid+42>>3,r=e.pending_buf_size-r>65535?65535:e.pending_buf_size-r,o=r>e.w_size?e.w_size:r,n=e.strstart-e.block_start,(n>=o||(n||t===MG)&&t!==PG&&0===e.strm.avail_in&&n<=r)&&(i=n>r?r:n,s=t===MG&&0===e.strm.avail_in&&i===n?1:0,wG(e,e.block_start,i,s),e.block_start+=i,uW(e.strm)),s?3:1)},SW=(e,t)=>{let i,n;for(;;){if(e.lookahead<iW){if(fW(e),e.lookahead<iW&&t===PG)return 1;if(0===e.lookahead)break}if(i=0,e.lookahead>=3&&(e.ins_h=lW(e,e.ins_h,e.window[e.strstart+3-1]),i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==i&&e.strstart-i<=e.w_size-iW&&(e.match_length=mW(e,i)),e.match_length>=3)if(n=NG(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=lW(e,e.ins_h,e.window[e.strstart+3-1]),i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=lW(e,e.ins_h,e.window[e.strstart+1]);else n=NG(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(hW(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===MG?(hW(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(hW(e,!1),0===e.strm.avail_out)?1:2},gW=(e,t)=>{let i,n,r;for(;;){if(e.lookahead<iW){if(fW(e),e.lookahead<iW&&t===PG)return 1;if(0===e.lookahead)break}if(i=0,e.lookahead>=3&&(e.ins_h=lW(e,e.ins_h,e.window[e.strstart+3-1]),i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==i&&e.prev_length<e.max_lazy_match&&e.strstart-i<=e.w_size-iW&&(e.match_length=mW(e,i),e.match_length<=5&&(e.strategy===WG||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){r=e.strstart+e.lookahead-3,n=NG(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=r&&(e.ins_h=lW(e,e.ins_h,e.window[e.strstart+3-1]),i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,n&&(hW(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if(n=NG(e,0,e.window[e.strstart-1]),n&&hW(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=NG(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===MG?(hW(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(hW(e,!1),0===e.strm.avail_out)?1:2};function RW(e,t,i,n,r){this.good_length=e,this.max_lazy=t,this.nice_length=i,this.max_chain=n,this.func=r}const CW=[new RW(0,0,0,0,TW),new RW(4,4,8,4,SW),new RW(4,5,16,8,SW),new RW(4,6,32,32,SW),new RW(4,4,16,16,gW),new RW(8,16,32,32,gW),new RW(8,16,128,128,gW),new RW(8,32,128,256,gW),new RW(32,128,258,1024,gW),new RW(32,258,258,4096,gW)];function IW(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=JG,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(2*$G),this.dyn_dtree=new Uint16Array(2*(2*QG+1)),this.bl_tree=new Uint16Array(2*(2*ZG+1)),cW(this.dyn_ltree),cW(this.dyn_dtree),cW(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(eW+1),this.heap=new Uint16Array(2*XG+1),cW(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*XG+1),cW(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const vW=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==nW&&57!==t.status&&69!==t.status&&73!==t.status&&91!==t.status&&103!==t.status&&t.status!==rW&&t.status!==oW?1:0},yW=e=>{if(vW(e))return sW(e,FG);e.total_in=e.total_out=0,e.data_type=zG;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=2===t.wrap?57:t.wrap?nW:rW,e.adler=2===t.wrap?0:1,t.last_flush=-2,bG(t),xG},AW=e=>{const t=yW(e);return t===xG&&(e=>{e.window_size=2*e.w_size,cW(e.head),e.max_lazy_match=CW[e.level].max_lazy,e.good_match=CW[e.level].good_length,e.nice_match=CW[e.level].nice_length,e.max_chain_length=CW[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0})(e.state),t},bW=(e,t,i,n,r,o)=>{if(!e)return FG;let s=1;if(t===GG&&(t=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),r<1||r>9||i!==JG||n<8||n>15||t<0||t>9||o<0||o>YG||8===n&&1!==s)return sW(e,FG);8===n&&(n=9);const a=new IW;return e.state=a,a.strm=e,a.status=nW,a.wrap=s,a.gzhead=null,a.w_bits=n,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=r+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+3-1)/3),a.window=new Uint8Array(2*a.w_size),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<r+6,a.pending_buf_size=4*a.lit_bufsize,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=3*(a.lit_bufsize-1),a.level=t,a.strategy=o,a.method=i,AW(e)};var wW=(e,t)=>{if(vW(e)||t>UG||t<0)return e?sW(e,FG):FG;const i=e.state;if(!e.output||0!==e.avail_in&&!e.input||i.status===oW&&t!==MG)return sW(e,0===e.avail_out?jG:FG);const n=i.last_flush;if(i.last_flush=t,0!==i.pending){if(uW(e),0===e.avail_out)return i.last_flush=-1,xG}else if(0===e.avail_in&&aW(t)<=aW(n)&&t!==MG)return sW(e,jG);if(i.status===oW&&0!==e.avail_in)return sW(e,jG);if(i.status===nW&&0===i.wrap&&(i.status=rW),i.status===nW){let t=JG+(i.w_bits-8<<4)<<8,n=-1;if(n=i.strategy>=HG||i.level<2?0:i.level<6?1:6===i.level?2:3,t|=n<<6,0!==i.strstart&&(t|=32),t+=31-t%31,_W(i,t),0!==i.strstart&&(_W(i,e.adler>>>16),_W(i,65535&e.adler)),e.adler=1,i.status=rW,uW(e),0!==i.pending)return i.last_flush=-1,xG}if(57===i.status)if(e.adler=0,pW(i,31),pW(i,139),pW(i,8),i.gzhead)pW(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),pW(i,255&i.gzhead.time),pW(i,i.gzhead.time>>8&255),pW(i,i.gzhead.time>>16&255),pW(i,i.gzhead.time>>24&255),pW(i,9===i.level?2:i.strategy>=HG||i.level<2?4:0),pW(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(pW(i,255&i.gzhead.extra.length),pW(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=vG(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69;else if(pW(i,0),pW(i,0),pW(i,0),pW(i,0),pW(i,0),pW(i,9===i.level?2:i.strategy>=HG||i.level<2?4:0),pW(i,3),i.status=rW,uW(e),0!==i.pending)return i.last_flush=-1,xG;if(69===i.status){if(i.gzhead.extra){let t=i.pending,n=(65535&i.gzhead.extra.length)-i.gzindex;for(;i.pending+n>i.pending_buf_size;){let r=i.pending_buf_size-i.pending;if(i.pending_buf.set(i.gzhead.extra.subarray(i.gzindex,i.gzindex+r),i.pending),i.pending=i.pending_buf_size,i.gzhead.hcrc&&i.pending>t&&(e.adler=vG(e.adler,i.pending_buf,i.pending-t,t)),i.gzindex+=r,uW(e),0!==i.pending)return i.last_flush=-1,xG;t=0,n-=r}let r=new Uint8Array(i.gzhead.extra);i.pending_buf.set(r.subarray(i.gzindex,i.gzindex+n),i.pending),i.pending+=n,i.gzhead.hcrc&&i.pending>t&&(e.adler=vG(e.adler,i.pending_buf,i.pending-t,t)),i.gzindex=0}i.status=73}if(73===i.status){if(i.gzhead.name){let t,n=i.pending;do{if(i.pending===i.pending_buf_size){if(i.gzhead.hcrc&&i.pending>n&&(e.adler=vG(e.adler,i.pending_buf,i.pending-n,n)),uW(e),0!==i.pending)return i.last_flush=-1,xG;n=0}t=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,pW(i,t)}while(0!==t);i.gzhead.hcrc&&i.pending>n&&(e.adler=vG(e.adler,i.pending_buf,i.pending-n,n)),i.gzindex=0}i.status=91}if(91===i.status){if(i.gzhead.comment){let t,n=i.pending;do{if(i.pending===i.pending_buf_size){if(i.gzhead.hcrc&&i.pending>n&&(e.adler=vG(e.adler,i.pending_buf,i.pending-n,n)),uW(e),0!==i.pending)return i.last_flush=-1,xG;n=0}t=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,pW(i,t)}while(0!==t);i.gzhead.hcrc&&i.pending>n&&(e.adler=vG(e.adler,i.pending_buf,i.pending-n,n))}i.status=103}if(103===i.status){if(i.gzhead.hcrc){if(i.pending+2>i.pending_buf_size&&(uW(e),0!==i.pending))return i.last_flush=-1,xG;pW(i,255&e.adler),pW(i,e.adler>>8&255),e.adler=0}if(i.status=rW,uW(e),0!==i.pending)return i.last_flush=-1,xG}if(0!==e.avail_in||0!==i.lookahead||t!==PG&&i.status!==oW){let n=0===i.level?TW(i,t):i.strategy===HG?((e,t)=>{let i;for(;;){if(0===e.lookahead&&(fW(e),0===e.lookahead)){if(t===PG)return 1;break}if(e.match_length=0,i=NG(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,i&&(hW(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===MG?(hW(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(hW(e,!1),0===e.strm.avail_out)?1:2})(i,t):i.strategy===KG?((e,t)=>{let i,n,r,o;const s=e.window;for(;;){if(e.lookahead<=tW){if(fW(e),e.lookahead<=tW&&t===PG)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(r=e.strstart-1,n=s[r],n===s[++r]&&n===s[++r]&&n===s[++r])){o=e.strstart+tW;do{}while(n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&r<o);e.match_length=tW-(o-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(i=NG(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(i=NG(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),i&&(hW(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===MG?(hW(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(hW(e,!1),0===e.strm.avail_out)?1:2})(i,t):CW[i.level].func(i,t);if(3!==n&&4!==n||(i.status=oW),1===n||3===n)return 0===e.avail_out&&(i.last_flush=-1),xG;if(2===n&&(t===LG?DG(i):t!==UG&&(wG(i,0,0,!1),t===kG&&(cW(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),uW(e),0===e.avail_out))return i.last_flush=-1,xG}return t!==MG?xG:i.wrap<=0?VG:(2===i.wrap?(pW(i,255&e.adler),pW(i,e.adler>>8&255),pW(i,e.adler>>16&255),pW(i,e.adler>>24&255),pW(i,255&e.total_in),pW(i,e.total_in>>8&255),pW(i,e.total_in>>16&255),pW(i,e.total_in>>24&255)):(_W(i,e.adler>>>16),_W(i,65535&e.adler)),uW(e),i.wrap>0&&(i.wrap=-i.wrap),0!==i.pending?xG:VG)},OW=(e,t)=>{let i=t.length;if(vW(e))return FG;const n=e.state,r=n.wrap;if(2===r||1===r&&n.status!==nW||n.lookahead)return FG;if(1===r&&(e.adler=CG(e.adler,t,i,0)),n.wrap=0,i>=n.w_size){0===r&&(cW(n.head),n.strstart=0,n.block_start=0,n.insert=0);let e=new Uint8Array(n.w_size);e.set(t.subarray(i-n.w_size,i),0),t=e,i=n.w_size}const o=e.avail_in,s=e.next_in,a=e.input;for(e.avail_in=i,e.next_in=0,e.input=t,fW(n);n.lookahead>=3;){let e=n.strstart,t=n.lookahead-2;do{n.ins_h=lW(n,n.ins_h,n.window[e+3-1]),n.prev[e&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=e,e++}while(--t);n.strstart=e,n.lookahead=2,fW(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=s,e.input=a,e.avail_in=o,n.wrap=r,xG},NW={deflateInit:(e,t)=>bW(e,t,JG,15,8,qG),deflateInit2:bW,deflateReset:AW,deflateResetKeep:yW,deflateSetHeader:(e,t)=>vW(e)||2!==e.state.wrap?FG:(e.state.gzhead=t,xG),deflate:wW,deflateEnd:e=>{if(vW(e))return FG;const t=e.state.status;return e.state=null,t===rW?sW(e,BG):xG},deflateSetDictionary:OW,deflateInfo:\"pako deflate (from Nodeca project)\"};const DW=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var PW={assign:function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const i=t.shift();if(i){if(\"object\"!=typeof i)throw new TypeError(i+\"must be non-object\");for(const t in i)DW(i,t)&&(e[t]=i[t])}}return e},flattenChunks:e=>{let t=0;for(let i=0,n=e.length;i<n;i++)t+=e[i].length;const i=new Uint8Array(t);for(let t=0,n=0,r=e.length;t<r;t++){let r=e[t];i.set(r,n),n+=r.length}return i}};let LW=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){LW=!1}const kW=new Uint8Array(256);for(let e=0;e<256;e++)kW[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;kW[254]=kW[254]=1;var MW={string2buf:e=>{if(\"function\"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);let t,i,n,r,o,s=e.length,a=0;for(r=0;r<s;r++)i=e.charCodeAt(r),55296==(64512&i)&&r+1<s&&(n=e.charCodeAt(r+1),56320==(64512&n)&&(i=65536+(i-55296<<10)+(n-56320),r++)),a+=i<128?1:i<2048?2:i<65536?3:4;for(t=new Uint8Array(a),o=0,r=0;o<a;r++)i=e.charCodeAt(r),55296==(64512&i)&&r+1<s&&(n=e.charCodeAt(r+1),56320==(64512&n)&&(i=65536+(i-55296<<10)+(n-56320),r++)),i<128?t[o++]=i:i<2048?(t[o++]=192|i>>>6,t[o++]=128|63&i):i<65536?(t[o++]=224|i>>>12,t[o++]=128|i>>>6&63,t[o++]=128|63&i):(t[o++]=240|i>>>18,t[o++]=128|i>>>12&63,t[o++]=128|i>>>6&63,t[o++]=128|63&i);return t},buf2string:(e,t)=>{const i=t||e.length;if(\"function\"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));let n,r;const o=new Array(2*i);for(r=0,n=0;n<i;){let t=e[n++];if(t<128){o[r++]=t;continue}let s=kW[t];if(s>4)o[r++]=65533,n+=s-1;else{for(t&=2===s?31:3===s?15:7;s>1&&n<i;)t=t<<6|63&e[n++],s--;s>1?o[r++]=65533:t<65536?o[r++]=t:(t-=65536,o[r++]=55296|t>>10&1023,o[r++]=56320|1023&t)}}return((e,t)=>{if(t<65534&&e.subarray&&LW)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let i=\"\";for(let n=0;n<t;n++)i+=String.fromCharCode(e[n]);return i})(o,r)},utf8border:(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let i=t-1;for(;i>=0&&128==(192&e[i]);)i--;return i<0||0===i?t:i+kW[e[i]]>t?i:t}};var UW=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg=\"\",this.state=null,this.data_type=2,this.adler=0};const xW=Object.prototype.toString,{Z_NO_FLUSH:VW,Z_SYNC_FLUSH:FW,Z_FULL_FLUSH:BW,Z_FINISH:jW,Z_OK:GW,Z_STREAM_END:WW,Z_DEFAULT_COMPRESSION:HW,Z_DEFAULT_STRATEGY:KW,Z_DEFLATED:YW}=AG;function qW(e){this.options=PW.assign({level:HW,method:YW,chunkSize:16384,windowBits:15,memLevel:8,strategy:KW},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg=\"\",this.ended=!1,this.chunks=[],this.strm=new UW,this.strm.avail_out=0;let i=NW.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(i!==GW)throw new Error(yG[i]);if(t.header&&NW.deflateSetHeader(this.strm,t.header),t.dictionary){let e;if(e=\"string\"==typeof t.dictionary?MW.string2buf(t.dictionary):\"[object ArrayBuffer]\"===xW.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,i=NW.deflateSetDictionary(this.strm,e),i!==GW)throw new Error(yG[i]);this._dict_set=!0}}function zW(e,t){const i=new qW(t);if(i.push(e,!0),i.err)throw i.msg||yG[i.err];return i.result}qW.prototype.push=function(e,t){const i=this.strm,n=this.options.chunkSize;let r,o;if(this.ended)return!1;for(o=t===~~t?t:!0===t?jW:VW,\"string\"==typeof e?i.input=MW.string2buf(e):\"[object ArrayBuffer]\"===xW.call(e)?i.input=new Uint8Array(e):i.input=e,i.next_in=0,i.avail_in=i.input.length;;)if(0===i.avail_out&&(i.output=new Uint8Array(n),i.next_out=0,i.avail_out=n),(o===FW||o===BW)&&i.avail_out<=6)this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;else{if(r=NW.deflate(i,o),r===WW)return i.next_out>0&&this.onData(i.output.subarray(0,i.next_out)),r=NW.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===GW;if(0!==i.avail_out){if(o>0&&i.next_out>0)this.onData(i.output.subarray(0,i.next_out)),i.avail_out=0;else if(0===i.avail_in)break}else this.onData(i.output)}return!0},qW.prototype.onData=function(e){this.chunks.push(e)},qW.prototype.onEnd=function(e){e===GW&&(this.result=PW.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var JW={Deflate:qW,deflate:zW,deflateRaw:function(e,t){return(t=t||{}).raw=!0,zW(e,t)},gzip:function(e,t){return(t=t||{}).gzip=!0,zW(e,t)},constants:AG};const XW=16209;var QW=function(e,t){let i,n,r,o,s,a,c,d,l,u,h,p,_,E,m,f,T,S,g,R,C,I,v,y;const A=e.state;i=e.next_in,v=e.input,n=i+(e.avail_in-5),r=e.next_out,y=e.output,o=r-(t-e.avail_out),s=r+(e.avail_out-257),a=A.dmax,c=A.wsize,d=A.whave,l=A.wnext,u=A.window,h=A.hold,p=A.bits,_=A.lencode,E=A.distcode,m=(1<<A.lenbits)-1,f=(1<<A.distbits)-1;e:do{p<15&&(h+=v[i++]<<p,p+=8,h+=v[i++]<<p,p+=8),T=_[h&m];t:for(;;){if(S=T>>>24,h>>>=S,p-=S,S=T>>>16&255,0===S)y[r++]=65535&T;else{if(!(16&S)){if(0==(64&S)){T=_[(65535&T)+(h&(1<<S)-1)];continue t}if(32&S){A.mode=16191;break e}e.msg=\"invalid literal/length code\",A.mode=XW;break e}g=65535&T,S&=15,S&&(p<S&&(h+=v[i++]<<p,p+=8),g+=h&(1<<S)-1,h>>>=S,p-=S),p<15&&(h+=v[i++]<<p,p+=8,h+=v[i++]<<p,p+=8),T=E[h&f];i:for(;;){if(S=T>>>24,h>>>=S,p-=S,S=T>>>16&255,!(16&S)){if(0==(64&S)){T=E[(65535&T)+(h&(1<<S)-1)];continue i}e.msg=\"invalid distance code\",A.mode=XW;break e}if(R=65535&T,S&=15,p<S&&(h+=v[i++]<<p,p+=8,p<S&&(h+=v[i++]<<p,p+=8)),R+=h&(1<<S)-1,R>a){e.msg=\"invalid distance too far back\",A.mode=XW;break e}if(h>>>=S,p-=S,S=r-o,R>S){if(S=R-S,S>d&&A.sane){e.msg=\"invalid distance too far back\",A.mode=XW;break e}if(C=0,I=u,0===l){if(C+=c-S,S<g){g-=S;do{y[r++]=u[C++]}while(--S);C=r-R,I=y}}else if(l<S){if(C+=c+l-S,S-=l,S<g){g-=S;do{y[r++]=u[C++]}while(--S);if(C=0,l<g){S=l,g-=S;do{y[r++]=u[C++]}while(--S);C=r-R,I=y}}}else if(C+=l-S,S<g){g-=S;do{y[r++]=u[C++]}while(--S);C=r-R,I=y}for(;g>2;)y[r++]=I[C++],y[r++]=I[C++],y[r++]=I[C++],g-=3;g&&(y[r++]=I[C++],g>1&&(y[r++]=I[C++]))}else{C=r-R;do{y[r++]=y[C++],y[r++]=y[C++],y[r++]=y[C++],g-=3}while(g>2);g&&(y[r++]=y[C++],g>1&&(y[r++]=y[C++]))}break}}break}}while(i<n&&r<s);g=p>>3,i-=g,p-=g<<3,h&=(1<<p)-1,e.next_in=i,e.next_out=r,e.avail_in=i<n?n-i+5:5-(i-n),e.avail_out=r<s?s-r+257:257-(r-s),A.hold=h,A.bits=p};const ZW=15,$W=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),eH=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),tH=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),iH=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var nH=(e,t,i,n,r,o,s,a)=>{const c=a.bits;let d,l,u,h,p,_,E=0,m=0,f=0,T=0,S=0,g=0,R=0,C=0,I=0,v=0,y=null;const A=new Uint16Array(16),b=new Uint16Array(16);let w,O,N,D=null;for(E=0;E<=ZW;E++)A[E]=0;for(m=0;m<n;m++)A[t[i+m]]++;for(S=c,T=ZW;T>=1&&0===A[T];T--);if(S>T&&(S=T),0===T)return r[o++]=20971520,r[o++]=20971520,a.bits=1,0;for(f=1;f<T&&0===A[f];f++);for(S<f&&(S=f),C=1,E=1;E<=ZW;E++)if(C<<=1,C-=A[E],C<0)return-1;if(C>0&&(0===e||1!==T))return-1;for(b[1]=0,E=1;E<ZW;E++)b[E+1]=b[E]+A[E];for(m=0;m<n;m++)0!==t[i+m]&&(s[b[t[i+m]]++]=m);if(0===e?(y=D=s,_=20):1===e?(y=$W,D=eH,_=257):(y=tH,D=iH,_=0),v=0,m=0,E=f,p=o,g=S,R=0,u=-1,I=1<<S,h=I-1,1===e&&I>852||2===e&&I>592)return 1;for(;;){w=E-R,s[m]+1<_?(O=0,N=s[m]):s[m]>=_?(O=D[s[m]-_],N=y[s[m]-_]):(O=96,N=0),d=1<<E-R,l=1<<g,f=l;do{l-=d,r[p+(v>>R)+l]=w<<24|O<<16|N|0}while(0!==l);for(d=1<<E-1;v&d;)d>>=1;if(0!==d?(v&=d-1,v+=d):v=0,m++,0==--A[E]){if(E===T)break;E=t[i+s[m]]}if(E>S&&(v&h)!==u){for(0===R&&(R=S),p+=f,g=E-R,C=1<<g;g+R<T&&(C-=A[g+R],!(C<=0));)g++,C<<=1;if(I+=1<<g,1===e&&I>852||2===e&&I>592)return 1;u=v&h,r[u]=S<<24|g<<16|p-o|0}}return 0!==v&&(r[p+v]=E-R<<24|64<<16|0),a.bits=S,0};const{Z_FINISH:rH,Z_BLOCK:oH,Z_TREES:sH,Z_OK:aH,Z_STREAM_END:cH,Z_NEED_DICT:dH,Z_STREAM_ERROR:lH,Z_DATA_ERROR:uH,Z_MEM_ERROR:hH,Z_BUF_ERROR:pH,Z_DEFLATED:_H}=AG,EH=16180,mH=16190,fH=16191,TH=16192,SH=16194,gH=16199,RH=16200,CH=16206,IH=16209,vH=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function yH(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const AH=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<EH||t.mode>16211?1:0},bH=e=>{if(AH(e))return lH;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg=\"\",t.wrap&&(e.adler=1&t.wrap),t.mode=EH,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,aH},wH=e=>{if(AH(e))return lH;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,bH(e)},OH=(e,t)=>{let i;if(AH(e))return lH;const n=e.state;return t<0?(i=0,t=-t):(i=5+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?lH:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=i,n.wbits=t,wH(e))},NH=(e,t)=>{if(!e)return lH;const i=new yH;e.state=i,i.strm=e,i.window=null,i.mode=EH;const n=OH(e,t);return n!==aH&&(e.state=null),n};let DH,PH,LH=!0;const kH=e=>{if(LH){DH=new Int32Array(512),PH=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(nH(1,e.lens,0,288,DH,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;nH(2,e.lens,0,32,PH,0,e.work,{bits:5}),LH=!1}e.lencode=DH,e.lenbits=9,e.distcode=PH,e.distbits=5},MH=(e,t,i,n)=>{let r;const o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),n>=o.wsize?(o.window.set(t.subarray(i-o.wsize,i),0),o.wnext=0,o.whave=o.wsize):(r=o.wsize-o.wnext,r>n&&(r=n),o.window.set(t.subarray(i-n,i-n+r),o.wnext),(n-=r)?(o.window.set(t.subarray(i-n,i),0),o.wnext=n,o.whave=o.wsize):(o.wnext+=r,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=r))),0};var UH=(e,t)=>{let i,n,r,o,s,a,c,d,l,u,h,p,_,E,m,f,T,S,g,R,C,I,v=0;const y=new Uint8Array(4);let A,b;const w=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(AH(e)||!e.output||!e.input&&0!==e.avail_in)return lH;i=e.state,i.mode===fH&&(i.mode=TH),s=e.next_out,r=e.output,c=e.avail_out,o=e.next_in,n=e.input,a=e.avail_in,d=i.hold,l=i.bits,u=a,h=c,I=aH;e:for(;;)switch(i.mode){case EH:if(0===i.wrap){i.mode=TH;break}for(;l<16;){if(0===a)break e;a--,d+=n[o++]<<l,l+=8}if(2&i.wrap&&35615===d){0===i.wbits&&(i.wbits=15),i.check=0,y[0]=255&d,y[1]=d>>>8&255,i.check=vG(i.check,y,2,0),d=0,l=0,i.mode=16181;break}if(i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&d)<<8)+(d>>8))%31){e.msg=\"incorrect header check\",i.mode=IH;break}if((15&d)!==_H){e.msg=\"unknown compression method\",i.mode=IH;break}if(d>>>=4,l-=4,C=8+(15&d),0===i.wbits&&(i.wbits=C),C>15||C>i.wbits){e.msg=\"invalid window size\",i.mode=IH;break}i.dmax=1<<i.wbits,i.flags=0,e.adler=i.check=1,i.mode=512&d?16189:fH,d=0,l=0;break;case 16181:for(;l<16;){if(0===a)break e;a--,d+=n[o++]<<l,l+=8}if(i.flags=d,(255&kj(i))!==_H){e.msg=\"unknown compression method\",i.mode=IH;break}if(57344&kj(i)){e.msg=\"unknown header flags set\",i.mode=IH;break}i.head&&(i.head.text=d>>8&1),512&kj(i)&&4&i.wrap&&(y[0]=255&d,y[1]=d>>>8&255,i.check=vG(i.check,y,2,0)),d=0,l=0,i.mode=16182;case 16182:for(;l<32;){if(0===a)break e;a--,d+=n[o++]<<l,l+=8}i.head&&(i.head.time=d),512&kj(i)&&4&i.wrap&&(y[0]=255&d,y[1]=d>>>8&255,y[2]=d>>>16&255,y[3]=d>>>24&255,i.check=vG(i.check,y,4,0)),d=0,l=0,i.mode=16183;case 16183:for(;l<16;){if(0===a)break e;a--,d+=n[o++]<<l,l+=8}i.head&&(i.head.xflags=255&d,i.head.os=d>>8),512&kj(i)&&4&i.wrap&&(y[0]=255&d,y[1]=d>>>8&255,i.check=vG(i.check,y,2,0)),d=0,l=0,i.mode=16184;case 16184:if(1024&kj(i)){for(;l<16;){if(0===a)break e;a--,d+=n[o++]<<l,l+=8}i.length=d,i.head&&(i.head.extra_len=d),512&kj(i)&&4&i.wrap&&(y[0]=255&d,y[1]=d>>>8&255,i.check=vG(i.check,y,2,0)),d=0,l=0}else i.head&&(i.head.extra=null);i.mode=16185;case 16185:if(1024&kj(i)&&(p=i.length,p>a&&(p=a),p&&(i.head&&(C=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Uint8Array(i.head.extra_len)),i.head.extra.set(n.subarray(o,o+p),C)),512&kj(i)&&4&i.wrap&&(i.check=vG(i.check,n,p,o)),a-=p,o+=p,i.length-=p),i.length))break e;i.length=0,i.mode=16186;case 16186:if(2048&kj(i)){if(0===a)break e;p=0;do{C=n[o+p++],i.head&&C&&i.length<65536&&(i.head.name+=String.fromCharCode(C))}while(C&&p<a);if(512&kj(i)&&4&i.wrap&&(i.check=vG(i.check,n,p,o)),a-=p,o+=p,C)break e}else i.head&&(i.head.name=null);i.length=0,i.mode=16187;case 16187:if(4096&kj(i)){if(0===a)break e;p=0;do{C=n[o+p++],i.head&&C&&i.length<65536&&(i.head.comment+=String.fromCharCode(C))}while(C&&p<a);if(512&kj(i)&&4&i.wrap&&(i.check=vG(i.check,n,p,o)),a-=p,o+=p,C)break e}else i.head&&(i.head.comment=null);i.mode=16188;case 16188:if(512&kj(i)){for(;l<16;){if(0===a)break e;a--,d+=n[o++]<<l,l+=8}if(4&i.wrap&&d!==(65535&i.check)){e.msg=\"header crc mismatch\",i.mode=IH;break}d=0,l=0}i.head&&(i.head.hcrc=kj(i)>>9&1,i.head.done=!0),e.adler=i.check=0,i.mode=fH;break;case 16189:for(;l<32;){if(0===a)break e;a--,d+=n[o++]<<l,l+=8}e.adler=i.check=vH(d),d=0,l=0,i.mode=mH;case mH:if(0===i.havedict)return e.next_out=s,e.avail_out=c,e.next_in=o,e.avail_in=a,i.hold=d,i.bits=l,dH;e.adler=i.check=1,i.mode=fH;case fH:if(t===oH||t===sH)break e;case TH:if(i.last){d>>>=7&l,l-=7&l,i.mode=CH;break}for(;l<3;){if(0===a)break e;a--,d+=n[o++]<<l,l+=8}switch(i.last=1&d,d>>>=1,l-=1,3&d){case 0:i.mode=16193;break;case 1:if(kH(i),i.mode=gH,t===sH){d>>>=2,l-=2;break e}break;case 2:i.mode=16196;break;case 3:e.msg=\"invalid block type\",i.mode=IH}d>>>=2,l-=2;break;case 16193:for(d>>>=7&l,l-=7&l;l<32;){if(0===a)break e;a--,d+=n[o++]<<l,l+=8}if((65535&d)!=(d>>>16^65535)){e.msg=\"invalid stored block lengths\",i.mode=IH;break}if(i.length=65535&d,d=0,l=0,i.mode=SH,t===sH)break e;case SH:i.mode=16195;case 16195:if(p=i.length,p){if(p>a&&(p=a),p>c&&(p=c),0===p)break e;r.set(n.subarray(o,o+p),s),a-=p,o+=p,c-=p,s+=p,i.length-=p;break}i.mode=fH;break;case 16196:for(;l<14;){if(0===a)break e;a--,d+=n[o++]<<l,l+=8}if(i.nlen=257+(31&d),d>>>=5,l-=5,i.ndist=1+(31&d),d>>>=5,l-=5,i.ncode=4+(15&d),d>>>=4,l-=4,i.nlen>286||i.ndist>30){e.msg=\"too many length or distance symbols\",i.mode=IH;break}i.have=0,i.mode=16197;case 16197:for(;i.have<i.ncode;){for(;l<3;){if(0===a)break e;a--,d+=n[o++]<<l,l+=8}i.lens[w[i.have++]]=7&d,d>>>=3,l-=3}for(;i.have<19;)i.lens[w[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,A={bits:i.lenbits},I=nH(0,i.lens,0,19,i.lencode,0,i.work,A),i.lenbits=A.bits,I){e.msg=\"invalid code lengths set\",i.mode=IH;break}i.have=0,i.mode=16198;case 16198:for(;i.have<i.nlen+i.ndist;){for(;v=i.lencode[d&(1<<i.lenbits)-1],m=v>>>24,f=v>>>16&255,T=65535&v,!(m<=l);){if(0===a)break e;a--,d+=n[o++]<<l,l+=8}if(T<16)d>>>=m,l-=m,i.lens[i.have++]=T;else{if(16===T){for(b=m+2;l<b;){if(0===a)break e;a--,d+=n[o++]<<l,l+=8}if(d>>>=m,l-=m,0===i.have){e.msg=\"invalid bit length repeat\",i.mode=IH;break}C=i.lens[i.have-1],p=3+(3&d),d>>>=2,l-=2}else if(17===T){for(b=m+3;l<b;){if(0===a)break e;a--,d+=n[o++]<<l,l+=8}d>>>=m,l-=m,C=0,p=3+(7&d),d>>>=3,l-=3}else{for(b=m+7;l<b;){if(0===a)break e;a--,d+=n[o++]<<l,l+=8}d>>>=m,l-=m,C=0,p=11+(127&d),d>>>=7,l-=7}if(i.have+p>i.nlen+i.ndist){e.msg=\"invalid bit length repeat\",i.mode=IH;break}for(;p--;)i.lens[i.have++]=C}}if(i.mode===IH)break;if(0===i.lens[256]){e.msg=\"invalid code -- missing end-of-block\",i.mode=IH;break}if(i.lenbits=9,A={bits:i.lenbits},I=nH(1,i.lens,0,i.nlen,i.lencode,0,i.work,A),i.lenbits=A.bits,I){e.msg=\"invalid literal/lengths set\",i.mode=IH;break}if(i.distbits=6,i.distcode=i.distdyn,A={bits:i.distbits},I=nH(2,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,A),i.distbits=A.bits,I){e.msg=\"invalid distances set\",i.mode=IH;break}if(i.mode=gH,t===sH)break e;case gH:i.mode=RH;case RH:if(a>=6&&c>=258){e.next_out=s,e.avail_out=c,e.next_in=o,e.avail_in=a,i.hold=d,i.bits=l,QW(e,h),s=e.next_out,r=e.output,c=e.avail_out,o=e.next_in,n=e.input,a=e.avail_in,d=i.hold,l=i.bits,i.mode===fH&&(i.back=-1);break}for(i.back=0;v=i.lencode[d&(1<<i.lenbits)-1],m=v>>>24,f=v>>>16&255,T=65535&v,!(m<=l);){if(0===a)break e;a--,d+=n[o++]<<l,l+=8}if(f&&0==(240&f)){for(S=m,g=f,R=T;v=i.lencode[R+((d&(1<<S+g)-1)>>S)],m=v>>>24,f=v>>>16&255,T=65535&v,!(S+m<=l);){if(0===a)break e;a--,d+=n[o++]<<l,l+=8}d>>>=S,l-=S,i.back+=S}if(d>>>=m,l-=m,i.back+=m,i.length=T,0===f){i.mode=16205;break}if(32&f){i.back=-1,i.mode=fH;break}if(64&f){e.msg=\"invalid literal/length code\",i.mode=IH;break}i.extra=15&f,i.mode=16201;case 16201:if(i.extra){for(b=i.extra;l<b;){if(0===a)break e;a--,d+=n[o++]<<l,l+=8}i.length+=d&(1<<i.extra)-1,d>>>=i.extra,l-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=16202;case 16202:for(;v=i.distcode[d&(1<<i.distbits)-1],m=v>>>24,f=v>>>16&255,T=65535&v,!(m<=l);){if(0===a)break e;a--,d+=n[o++]<<l,l+=8}if(0==(240&f)){for(S=m,g=f,R=T;v=i.distcode[R+((d&(1<<S+g)-1)>>S)],m=v>>>24,f=v>>>16&255,T=65535&v,!(S+m<=l);){if(0===a)break e;a--,d+=n[o++]<<l,l+=8}d>>>=S,l-=S,i.back+=S}if(d>>>=m,l-=m,i.back+=m,64&f){e.msg=\"invalid distance code\",i.mode=IH;break}i.offset=T,i.extra=15&f,i.mode=16203;case 16203:if(i.extra){for(b=i.extra;l<b;){if(0===a)break e;a--,d+=n[o++]<<l,l+=8}i.offset+=d&(1<<i.extra)-1,d>>>=i.extra,l-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){e.msg=\"invalid distance too far back\",i.mode=IH;break}i.mode=16204;case 16204:if(0===c)break e;if(p=h-c,i.offset>p){if(p=i.offset-p,p>i.whave&&i.sane){e.msg=\"invalid distance too far back\",i.mode=IH;break}p>i.wnext?(p-=i.wnext,_=i.wsize-p):_=i.wnext-p,p>i.length&&(p=i.length),E=i.window}else E=r,_=s-i.offset,p=i.length;p>c&&(p=c),c-=p,i.length-=p;do{r[s++]=E[_++]}while(--p);0===i.length&&(i.mode=RH);break;case 16205:if(0===c)break e;r[s++]=i.length,c--,i.mode=RH;break;case CH:if(i.wrap){for(;l<32;){if(0===a)break e;a--,d|=n[o++]<<l,l+=8}if(h-=c,e.total_out+=h,i.total+=h,4&i.wrap&&h&&(e.adler=i.check=kj(i)?vG(i.check,r,h,s-h):CG(i.check,r,h,s-h)),h=c,4&i.wrap&&(kj(i)?d:vH(d))!==i.check){e.msg=\"incorrect data check\",i.mode=IH;break}d=0,l=0}i.mode=16207;case 16207:if(i.wrap&&kj(i)){for(;l<32;){if(0===a)break e;a--,d+=n[o++]<<l,l+=8}if(4&i.wrap&&d!==(4294967295&i.total)){e.msg=\"incorrect length check\",i.mode=IH;break}d=0,l=0}i.mode=16208;case 16208:I=cH;break e;case IH:I=uH;break e;case 16210:return hH;default:return lH}return e.next_out=s,e.avail_out=c,e.next_in=o,e.avail_in=a,i.hold=d,i.bits=l,(i.wsize||h!==e.avail_out&&i.mode<IH&&(i.mode<CH||t!==rH))&&MH(e,e.output,e.next_out,h-e.avail_out),u-=e.avail_in,h-=e.avail_out,e.total_in+=u,e.total_out+=h,i.total+=h,4&i.wrap&&h&&(e.adler=i.check=kj(i)?vG(i.check,r,h,e.next_out-h):CG(i.check,r,h,e.next_out-h)),e.data_type=i.bits+(i.last?64:0)+(i.mode===fH?128:0)+(i.mode===gH||i.mode===SH?256:0),(0===u&&0===h||t===rH)&&I===aH&&(I=pH),I},xH={inflateReset:wH,inflateReset2:OH,inflateResetKeep:bH,inflateInit:e=>NH(e,15),inflateInit2:NH,inflate:UH,inflateEnd:e=>{if(AH(e))return lH;let t=e.state;return t.window&&(t.window=null),e.state=null,aH},inflateGetHeader:(e,t)=>{if(AH(e))return lH;const i=e.state;return 0==(2&i.wrap)?lH:(i.head=t,t.done=!1,aH)},inflateSetDictionary:(e,t)=>{const i=t.length;let n,r,o;return AH(e)?lH:(n=e.state,0!==n.wrap&&n.mode!==mH?lH:n.mode===mH&&(r=1,r=CG(r,t,i,0),r!==n.check)?uH:(o=MH(e,t,i,i),o?(n.mode=16210,hH):(n.havedict=1,aH)))},inflateInfo:\"pako inflate (from Nodeca project)\"};var VH=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name=\"\",this.comment=\"\",this.hcrc=0,this.done=!1};const FH=Object.prototype.toString,{Z_NO_FLUSH:BH,Z_FINISH:jH,Z_OK:GH,Z_STREAM_END:WH,Z_NEED_DICT:HH,Z_STREAM_ERROR:KH,Z_DATA_ERROR:YH,Z_MEM_ERROR:qH}=AG;function zH(e){this.options=PW.assign({chunkSize:65536,windowBits:15,to:\"\"},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg=\"\",this.ended=!1,this.chunks=[],this.strm=new UW,this.strm.avail_out=0;let i=xH.inflateInit2(this.strm,t.windowBits);if(i!==GH)throw new Error(yG[i]);if(this.header=new VH,xH.inflateGetHeader(this.strm,this.header),t.dictionary&&(\"string\"==typeof t.dictionary?t.dictionary=MW.string2buf(t.dictionary):\"[object ArrayBuffer]\"===FH.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(i=xH.inflateSetDictionary(this.strm,t.dictionary),i!==GH)))throw new Error(yG[i])}function JH(e,t){const i=new zH(t);if(i.push(e),i.err)throw i.msg||yG[i.err];return i.result}zH.prototype.push=function(e,t){const i=this.strm,n=this.options.chunkSize,r=this.options.dictionary;let o,s,a;if(this.ended)return!1;for(s=t===~~t?t:!0===t?jH:BH,\"[object ArrayBuffer]\"===FH.call(e)?i.input=new Uint8Array(e):i.input=e,i.next_in=0,i.avail_in=i.input.length;;){for(0===i.avail_out&&(i.output=new Uint8Array(n),i.next_out=0,i.avail_out=n),o=xH.inflate(i,s),o===HH&&r&&(o=xH.inflateSetDictionary(i,r),o===GH?o=xH.inflate(i,s):o===YH&&(o=HH));i.avail_in>0&&o===WH&&i.state.wrap>0&&0!==e[i.next_in];)xH.inflateReset(i),o=xH.inflate(i,s);switch(o){case KH:case YH:case HH:case qH:return this.onEnd(o),this.ended=!0,!1}if(a=i.avail_out,i.next_out&&(0===i.avail_out||o===WH))if(\"string\"===this.options.to){let e=MW.utf8border(i.output,i.next_out),t=i.next_out-e,r=MW.buf2string(i.output,e);i.next_out=t,i.avail_out=n-t,t&&i.output.set(i.output.subarray(e,e+t),0),this.onData(r)}else this.onData(i.output.length===i.next_out?i.output:i.output.subarray(0,i.next_out));if(o!==GH||0!==a){if(o===WH)return o=xH.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(0===i.avail_in)break}}return!0},zH.prototype.onData=function(e){this.chunks.push(e)},zH.prototype.onEnd=function(e){e===GH&&(\"string\"===this.options.to?this.result=this.chunks.join(\"\"):this.result=PW.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var XH={Inflate:zH,inflate:JH,inflateRaw:function(e,t){return(t=t||{}).raw=!0,JH(e,t)},ungzip:JH,constants:AG};const{Deflate:QH,deflate:ZH,deflateRaw:$H,gzip:eK}=JW,{Inflate:tK,inflate:iK,inflateRaw:nK,ungzip:rK}=XH;var oK=ZH,sK=iK,aK=function(e){return e[e.ONE_BYTE=0]=\"ONE_BYTE\",e[e.TWO_BYTE=1]=\"TWO_BYTE\",e}(aK||{});class cK{constructor(){og(this,\"_sequence\",0),og(this,\"_startTime\",Date.now()),og(this,\"isUseOneByte\",!0)}get startTime(){const e=Date.now()-this._startTime;return e<Math.pow(2,16)?e:(this._startTime+=Math.pow(2,16),this.startTime)}get sequence(){return this._sequence<Math.pow(2,32)?this._sequence++:(this._sequence-=Math.pow(2,32),this.sequence)}serialize(e){const t={commonPacketHeader:{length:0,reserved:0,extension:0,sequence:this.sequence},commonStreamHeader:this.startTime,extension:void 0,payload:e};if(e.byteLength>128){const i=new Uint8Array(4);i.set([1,0,0,0]);const n={id:0,length:4,data:i.buffer},r={profile:this.isUseOneByte?0:1,length:this.isUseOneByte?5:6,datas:[n]};t.commonPacketHeader.extension=1,t.extension=r,t.payload=this.compress(e),t.commonPacketHeader.length=8+(t.extension.length+2)+t.payload.byteLength}else t.commonPacketHeader.length=8+t.payload.byteLength;Dy(\"SHOW_DATASTREAM2_LOG\")&&Qy.debug(\"send data header: \".concat(JSON.stringify(t.commonPacketHeader)));const i=new ArrayBuffer(t.commonPacketHeader.length),n=new Uint8Array(i),r=new DataView(i);let o=0;if(r.setUint16(o,t.commonPacketHeader.extension<<15|t.commonPacketHeader.reserved<<14|t.commonPacketHeader.length,!0),o+=2,r.setUint32(o,t.commonPacketHeader.sequence,!0),o+=4,r.setUint16(o,t.commonStreamHeader,!0),o+=2,t.extension){const e=this.serializeExtension(t.extension);n.set(new Uint8Array(e),o),o+=e.byteLength}if(n.set(new Uint8Array(t.payload),o),o+=t.payload.byteLength,o!==t.commonPacketHeader.length)throw Error(\"serialize error!\");return i}deserialize(e){if(e.byteLength<4)return new ArrayBuffer(0);const t=new DataView(e);let i=0;const n=t.getUint16(i,!0);i+=2;const r={length:16383&n,reserved:(16384&n)>>14,extension:(32768&n)>>15,sequence:t.getUint16(i+2,!0)<<16|t.getUint16(i,!0)};let o,s;if(i+=4,Dy(\"SHOW_DATASTREAM2_LOG\")&&Qy.debug(\"receive data header: \".concat(JSON.stringify(r))),t.getUint16(i,!0),i+=2,r.extension){s=this.deserializeExtension(e.slice(i)),i+=2+s.length,o=e.slice(i);let t=!1;if(s.datas.length>0){const e=s.datas.find((e=>0===e.id));if(e){t=1==(1&new DataView(e.data).getUint32(0,!0))}}o=t?this.decompress(o):o}else o=e.slice(8);return o}serializeExtension(e){const{profile:t,length:i,datas:n}=e,r=new ArrayBuffer(i+2),o=new Uint8Array(r),s=new DataView(r);let a=0;if(s.setUint8(a++,t),s.setUint8(a++,i),n.forEach((e=>{t?(s.setUint8(a++,e.id),s.setUint8(a++,e.length),o.set(new Uint8Array(e.data),a),a+=e.data.byteLength):(s.setUint8(a++,e.id|e.length<<4),o.set(new Uint8Array(e.data),a),a+=e.data.byteLength)})),a!==i+2)throw Error(\"serialize extension error, is \".concat(a,\"!==\").concat(i+2));return r}deserializeExtension(e){const t=new DataView(e);let i=0;const n=t.getUint8(i);i++;const r=t.getUint8(i);i++;const o=n===aK.TWO_BYTE,s=[],a=new DataView(e,2);let c=0;for(;c<r;){let e=0,t=0,i=new ArrayBuffer(0);o?(e=a.getUint8(c),c++,t=a.getUint8(c),c++):(e=15&a.getUint8(c),t=a.getUint8(c)>>4,c++),t>0&&(i=a.buffer.slice(c+2,c+2+t),c+=i.byteLength),s.push({id:e,length:t,data:i})}if(c!==r)throw Error(\"parse error\");return{profile:n,length:r,datas:s}}decompress(e){return sK(new Uint8Array(e))}compress(e){return oK(new Uint8Array(e))}}const dK={name:\"DataStream\",create:(e,t)=>{const i=t?new lM(e):new uM(e);return i.useDataStream(new cK),i}};class lK extends Sv{constructor(e,t,i){super(),og(this,\"ws\",void 0),og(this,\"requestId\",1),og(this,\"heartBeatTimer\",void 0),og(this,\"joinInfo\",void 0),og(this,\"clientId\",void 0),og(this,\"onOpen\",(()=>{this.emit(\"open\"),this.startHeartBeatCheck()})),og(this,\"onClose\",(e=>{this.emit(\"close\"),this.dispose()})),og(this,\"onMessage\",(e=>{const t=JSON.parse(e.data);if(!t||\"serverResponse\"!==t.command||!t.requestId)return t&&\"serverStatus\"===t.command&&t.serverStatus&&t.serverStatus.command?(this.emit(\"status\",t.serverStatus),void this.emit(t.serverStatus.command,t.serverStatus)):void 0;this.emit(\"req_\".concat(t.requestId),t)})),this.joinInfo=e,this.clientId=t,this.ws=new bw(\"cross-channel-\".concat(this.clientId),i),this.ws.on(Tb.RECONNECTING,(()=>{this.ws.reconnectMode=\"retry\",this.emit(\"reconnecting\")})),this.ws.on(Tb.CONNECTED,this.onOpen),this.ws.on(Tb.ON_MESSAGE,this.onMessage),this.ws.on(Tb.CLOSED,this.onClose)}isConnect(){return\"connected\"===this.ws.state}sendMessage(e){const t=this.requestId++;return e.requestId=t,e.seq=t,this.ws.sendMessage(e),t}waitStatus(e){return new Gh(((t,i)=>{const n=window.setTimeout((()=>{i(new Sb(nv.TIMEOUT,\"wait status timeout, status: \".concat(e)))}),5e3);this.once(e,(r=>{window.clearTimeout(n),r.state&&0!==r.state?i(new Sb(nv.CROSS_CHANNEL_WAIT_STATUS_ERROR,\"wait status error, status: \".concat(e))):t(void 0)})),this.once(\"dispose\",(()=>{window.clearTimeout(n),i(new Sb(nv.WS_ABORT))}))}))}async request(e){if(\"closed\"===this.ws.state)throw new Sb(nv.WS_DISCONNECT);const t=()=>new Gh(((e,t)=>{this.ws.once(Tb.CLOSED,(()=>t(new Sb(nv.WS_ABORT)))),this.ws.once(Tb.CONNECTED,e)}));\"connected\"!==this.ws.state&&await t();const i=this.sendMessage(e),n=new Gh(((e,t)=>{const n=()=>{t(new Sb(nv.WS_ABORT))};this.ws.once(Tb.RECONNECTING,n),this.ws.once(Tb.CLOSED,n),this.once(\"req_\".concat(i),e),$v(3e3).then((()=>{this.removeAllListeners(\"req_\".concat(i)),this.ws.off(Tb.RECONNECTING,n),this.ws.off(Tb.CLOSED,n),t(new Sb(nv.TIMEOUT,\"cross channel ws request timeout\"))}))})),r=await n;if(!r||200!==r.code)throw new Sb(nv.CROSS_CHANNEL_SERVER_ERROR_RESPONSE,\"response: \".concat(JSON.stringify(r)));return r}async connect(e){this.ws.removeAllListeners(Tb.REQUEST_NEW_URLS),this.ws.on(Tb.REQUEST_NEW_URLS,(t=>{t(e)})),await this.ws.init(e)}dispose(){this.clearHeartBeatCheck(),this.emit(\"dispose\"),this.removeAllListeners(),this.ws.close()}sendPing(e){const t=this.requestId++;return e.requestId=t,this.ws.sendMessage(e),t}startHeartBeatCheck(){this.heartBeatTimer&&window.clearInterval(this.heartBeatTimer),this.heartBeatTimer=window.setInterval((()=>{this.sendPing({command:\"ping\",appId:this.joinInfo.appId,cname:this.joinInfo.cname,uid:this.joinInfo.uid.toString(),sid:this.joinInfo.sid,ts:+new Date,requestId:0})}),3e3)}clearHeartBeatCheck(){window.clearInterval(this.heartBeatTimer),this.heartBeatTimer=void 0}}class uK extends Sv{set state(e){e!==this._state&&(e!==Lb.RELAY_STATE_FAILURE&&(this.errorCode=kb.RELAY_OK),this.emit(\"state\",e,this.errorCode),this._state=e)}get state(){return this._state}constructor(e,t,i,n,r){super(),og(this,\"joinInfo\",void 0),og(this,\"sid\",void 0),og(this,\"clientId\",void 0),og(this,\"cancelToken\",EI.CancelToken.source()),og(this,\"workerToken\",void 0),og(this,\"requestId\",0),og(this,\"signal\",void 0),og(this,\"prevChannelMediaConfig\",void 0),og(this,\"httpRetryConfig\",void 0),og(this,\"_resolution\",void 0),og(this,\"_state\",Lb.RELAY_STATE_IDLE),og(this,\"errorCode\",kb.RELAY_OK),og(this,\"onStatus\",(e=>{Qy.debug(\"[\".concat(this.clientId,\"] ChannelMediaStatus: \").concat(JSON.stringify(e))),e&&e.command&&(\"onAudioPacketReceived\"===e.command&&this.emit(\"event\",Pb.PACKET_RECEIVED_AUDIO_FROM_SRC),\"onVideoPacketReceived\"===e.command&&this.emit(\"event\",Pb.PACKET_RECEIVED_VIDEO_FROM_SRC),\"onSrcTokenPrivilegeDidExpire\"===e.command&&(this.errorCode=kb.SRC_TOKEN_EXPIRED,this.state=Lb.RELAY_STATE_FAILURE),\"onDestTokenPrivilegeDidExpire\"===e.command&&(this.errorCode=kb.DEST_TOKEN_EXPIRED,this.state=Lb.RELAY_STATE_FAILURE))})),og(this,\"onReconnect\",(async()=>{Qy.debug(\"[\".concat(this.clientId,\"] ChannelMediaSocket disconnect, reconnecting\")),this.emit(\"event\",Pb.NETWORK_DISCONNECTED),this.state=Lb.RELAY_STATE_IDLE,this.prevChannelMediaConfig&&this.sendStartRelayMessage(this.prevChannelMediaConfig).catch((e=>{this.state!==Lb.RELAY_STATE_IDLE&&(Qy.error(\"auto restart channel media relay failed\",e.toString()),this.errorCode=kb.SERVER_CONNECTION_LOST,this.state=Lb.RELAY_STATE_FAILURE)}))})),this.joinInfo=e,this.clientId=t,this.sid=ty(),this.signal=new lK(this.joinInfo,this.clientId,i),this.httpRetryConfig=n,this._resolution=r}async startChannelMediaRelay(e){if(this.state!==Lb.RELAY_STATE_IDLE)throw new Sb(nv.INVALID_OPERATION);this.state=Lb.RELAY_STATE_CONNECTING,await this.connect(),Qy.debug(\"[\".concat(this.clientId,\"] startChannelMediaRelay: connect success\"));try{await this.sendStartRelayMessage(e)}catch(e){if(e.data&&e.data.serverResponse&&\"SetSourceChannel\"===e.data.serverResponse.command)throw new Sb(nv.CROSS_CHANNEL_FAILED_JOIN_SRC);if(e.data&&e.data.serverResponse&&\"SetDestChannelStatus\"===e.serverResponse.command)throw new Sb(nv.CROSS_CHANNEL_FAILED_JOIN_DEST);if(e.data&&e.data.serverResponse&&\"StartPacketTransfer\"===e.serverResponse.command)throw new Sb(nv.CROSS_CHANNEL_FAILED_PACKET_SENT_TO_DEST);throw e}this.prevChannelMediaConfig=e}async updateChannelMediaRelay(e){if(this.state!==Lb.RELAY_STATE_RUNNING)throw new Sb(nv.INVALID_OPERATION);await this.sendUpdateMessage(e),this.prevChannelMediaConfig=e}async setVideoProfile(e){if(this._resolution=e,this.state!==Lb.RELAY_STATE_RUNNING)throw new Sb(nv.INVALID_OPERATION);const t=this.genMessage(Db.SetVideoProfile);await this.signal.request(t),Qy.debug(\"[\".concat(this.clientId,\"] startChannelMediaRelay: setVideoProfile success\"))}async stopChannelMediaRelay(){await this.sendStopRelayMessage(),Qy.debug(\"[\".concat(this.clientId,\"] stopChannelMediaRelay: send stop message success\")),this.state=Lb.RELAY_STATE_IDLE,this.dispose()}dispose(){Qy.debug(\"[\".concat(this.clientId,\"] disposeChannelMediaRelay\")),this.cancelToken.cancel(),this.cancelToken=EI.CancelToken.source(),this.state=Lb.RELAY_STATE_IDLE,this.emit(\"dispose\"),this.signal.dispose(),this.prevChannelMediaConfig=void 0}async connect(){const e=await kU(this.joinInfo,this.cancelToken.token,this.httpRetryConfig);this.workerToken=e.workerToken,await this.signal.connect(e.addressList),this.emit(\"event\",Pb.NETWORK_CONNECTED),this.signal.on(\"status\",this.onStatus),this.signal.on(\"reconnecting\",this.onReconnect)}async sendStartRelayMessage(e){const t=this.genMessage(Db.StopPacketTransfer);await this.signal.request(t),await this.signal.waitStatus(\"Normal Quit\"),Qy.debug(\"[\".concat(this.clientId,\"] startChannelMediaRelay: StopPacketTransfer success\"));const i=this.genMessage(Db.SetSdkProfile,e);await this.signal.request(i),Qy.debug(\"[\".concat(this.clientId,\"] startChannelMediaRelay: SetSdkProfile success\"));const n=this.genMessage(Db.SetSourceChannel,e);await this.signal.request(n),await this.signal.waitStatus(\"SetSourceChannelStatus\"),this.emit(\"event\",Pb.PACKET_JOINED_SRC_CHANNEL),Qy.debug(\"[\".concat(this.clientId,\"] startChannelMediaRelay: SetSourceChannel success\"));const r=this.genMessage(Db.SetSourceUserId,e);await this.signal.request(r),Qy.debug(\"[\".concat(this.clientId,\"] startChannelMediaRelay: SetSourceUserId success\"));const o=this.genMessage(Db.SetDestChannel,e);await this.signal.request(o),await this.signal.waitStatus(\"SetDestChannelStatus\"),this.emit(\"event\",Pb.PACKET_JOINED_DEST_CHANNEL),Qy.debug(\"[\".concat(this.clientId,\"] startChannelMediaRelay: SetDestChannel success\"));const s=this.genMessage(Db.StartPacketTransfer,e);await this.signal.request(s),this.emit(\"event\",Pb.PACKET_SENT_TO_DEST_CHANNEL),this.state=Lb.RELAY_STATE_RUNNING,Qy.debug(\"[\".concat(this.clientId,\"] startChannelMediaRelay: StartPacketTransfer success\")),this.setVideoProfile(this._resolution)}async sendUpdateMessage(e){const t=this.genMessage(Db.UpdateDestChannel,e);await this.signal.request(t),this.emit(\"event\",Pb.PACKET_UPDATE_DEST_CHANNEL),Qy.debug(\"[\".concat(this.clientId,\"] sendUpdateMessage: UpdateDestChannel success\"))}async sendStopRelayMessage(){const e=this.genMessage(Db.StopPacketTransfer);await this.signal.request(e),Qy.debug(\"[\".concat(this.clientId,\"] sendStopRelayMessage: StopPacketTransfer success\"))}genMessage(e,t){const i=[],n=[],r=[];this.requestId+=1;const o={appId:this.joinInfo.appId,cname:this.joinInfo.cname,uid:this.joinInfo.uid.toString(),sdkVersion:vy,sid:this.sid,ts:Date.now(),requestId:this.requestId,seq:this.requestId,allocate:!0,clientRequest:{}};\"4.22.0\"===o.sdkVersion&&(o.sdkVersion=\"0.0.1\");let s=null,a=null;switch(e){case Db.SetSdkProfile:return o.clientRequest={command:\"SetSdkProfile\",type:\"multi_channel\"},o;case Db.SetSourceChannel:if(a=t&&t.getSrcChannelMediaInfo(),!a)throw new Sb(nv.UNEXPECTED_ERROR,\"can not find source config\");return o.clientRequest={command:\"SetSourceChannel\",uid:\"0\",channelName:a.channelName,token:a.token||this.joinInfo.appId},o;case Db.SetSourceUserId:if(a=t&&t.getSrcChannelMediaInfo(),!a)throw new Sb(nv.UNEXPECTED_ERROR,\"can not find source config\");return o.clientRequest={command:\"SetSourceUserId\",uid:a.uid+\"\"},o;case Db.SetDestChannel:if(s=t&&t.getDestChannelMediaInfo(),!s)throw new Sb(nv.UNEXPECTED_ERROR,\"can not find dest config\");return s.forEach((e=>{i.push(e.channelName),n.push(e.uid+\"\"),r.push(e.token||this.joinInfo.appId)})),o.clientRequest={command:\"SetDestChannel\",channelName:i,uid:n,token:r},o;case Db.StartPacketTransfer:return o.clientRequest={command:\"StartPacketTransfer\"},o;case Db.Reconnect:return o.clientRequest={command:\"Reconnect\"},o;case Db.StopPacketTransfer:return o.clientRequest={command:\"StopPacketTransfer\"},o;case Db.UpdateDestChannel:if(s=t&&t.getDestChannelMediaInfo(),!s)throw new Sb(nv.UNEXPECTED_ERROR,\"can not find dest config\");return s.forEach((e=>{i.push(e.channelName),n.push(e.uid+\"\"),r.push(e.token||this.joinInfo.appId)})),o.clientRequest={command:\"UpdateDestChannel\",channelName:i,uid:n,token:r},o;case Db.SetVideoProfile:o.clientRequest={command:\"SetVideoProfile\",width:this._resolution.width,height:this._resolution.height}}return o}}const hK={name:\"ChannelMediaRelay\",create:function(e){return new uK(e.joinInfo,e.clientId,e.websocketRetryConfig||_y,e.httpRetryConfig||_y,e.resolution)}};function pK(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function _K(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?pK(Object(i),!0).forEach((function(t){og(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):pK(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}class EK extends Sv{constructor(e,t,i,n){super(),og(this,\"spec\",void 0),og(this,\"token\",void 0),og(this,\"websocket\",void 0),og(this,\"pingpongTimer\",void 0),og(this,\"reconnectMode\",\"retry\"),og(this,\"serviceMode\",void 0),og(this,\"reqId\",0),og(this,\"commandReqId\",0),og(this,\"handleWebSocketOpen\",(()=>{this.reconnectMode=\"retry\",this.startPingPong()})),og(this,\"handleWebSocketMessage\",(e=>{if(!e.data)return;const t=JSON.parse(e.data);t.requestId?this.emit(\"@\".concat(t.requestId,\"-\").concat(t.sid),t):(sA.workerEvent(this.spec.sid,{actionType:\"status\",serverCode:t.code,workerType:this.serviceMode===Cb.TRANSCODE?1:2}),this.emit(bb.PUBLISH_STREAM_STATUS,t))})),this.spec=t,this.token=e,this.serviceMode=n,this.websocket=new bw(\"live-streaming\",i),this.websocket.on(Tb.CONNECTED,this.handleWebSocketOpen),this.websocket.on(Tb.ON_MESSAGE,this.handleWebSocketMessage),this.websocket.on(Tb.REQUEST_NEW_URLS,((e,t)=>{kv(this,bb.REQUEST_NEW_ADDRESS).then(e).catch(t)})),this.websocket.on(Tb.RECONNECTING,(()=>{this.websocket.reconnectMode=this.reconnectMode}))}init(e){return this.websocket.init(e)}async request(e,t,i,n){this.reqId+=1,\"request\"===e&&(this.commandReqId+=1);const r=this.commandReqId,o=this.reqId;if(!o||!this.websocket)throw new Sb(nv.UNEXPECTED_ERROR);const s=_K({command:e,sdkVersion:\"4.22.0\"===vy?\"0.0.1\":vy,seq:o,requestId:o,allocate:i,cname:this.spec.cname,appId:this.spec.appId,sid:this.spec.sid,uid:this.spec.uid.toString(),ts:Math.floor(Date.now()/1e3)},t);if(\"closed\"===this.websocket.state)throw new Sb(nv.WS_DISCONNECT);const a=()=>new Gh(((e,t)=>{this.websocket.once(Tb.CLOSED,(()=>t(new Sb(nv.WS_ABORT)))),this.websocket.once(Tb.CONNECTED,e)}));\"connected\"!==this.websocket.state&&await a(),s.clientRequest&&(s.clientRequest.workerToken=this.token);const c=new Gh(((e,t)=>{const i=()=>{t(new Sb(nv.WS_ABORT))};this.websocket.once(Tb.RECONNECTING,i),this.websocket.once(Tb.CLOSED,i),this.once(\"@\".concat(o,\"-\").concat(this.spec.sid),(t=>{e(t)}))}));n&&sA.workerEvent(this.spec.sid,_K(_K({},n),{},{requestId:r,actionType:\"request\",payload:JSON.stringify(t.clientRequest),serverCode:0,code:0}));const d=Date.now();this.websocket.sendMessage(s);let l=null;try{l=await c}catch(n){if(\"closed\"===this.websocket.state)throw n;return await a(),await this.request(e,t,i)}return n&&sA.workerEvent(this.spec.sid,_K(_K({},n),{},{requestId:r,actionType:\"response\",payload:JSON.stringify(l.serverResponse),serverCode:l.code,success:200===l.code,responseTime:Date.now()-d})),200!==l.code&&this.handleResponseError(l),l}tryNextAddress(){this.reconnectMode=\"tryNext\",this.websocket.reconnect(\"tryNext\")}close(){const e=\"4.22.0\"===vy?\"0.0.1\":vy;this.reqId+=1,\"connected\"===this.websocket.state?(this.websocket.sendMessage({command:\"request\",appId:this.spec.appId,cname:this.spec.cname,uid:this.spec.uid.toString(),sdkVersion:e,sid:this.spec.sid,seq:this.reqId,ts:Math.floor(Date.now()/1e3),requestId:this.reqId,clientRequest:{command:\"DestroyWorker\"}}),this.websocket.close(!1,!0)):this.websocket.close(!1),this.pingpongTimer&&(window.clearInterval(this.pingpongTimer),this.pingpongTimer=void 0)}handleResponseError(e){switch(e.code){case Ob.LIVE_STREAM_RESPONSE_ALREADY_EXISTS_STREAM:return void Qy.warning(\"live stream response already exists stream\");case Ob.LIVE_STREAM_RESPONSE_TRANSCODING_PARAMETER_ERROR:case Ob.LIVE_STREAM_RESPONSE_BAD_STREAM:case Ob.LIVE_STREAM_RESPONSE_WM_PARAMETER_ERROR:return new Sb(nv.LIVE_STREAMING_INVALID_ARGUMENT,\"\",{code:e.code}).throw();case Ob.LIVE_STREAM_RESPONSE_WM_WORKER_NOT_EXIST:if(\"UnpublishStream\"===e.serverResponse.command)return;throw new Sb(nv.LIVE_STREAMING_INTERNAL_SERVER_ERROR,\"live stream response wm worker not exist\",{retry:!0});case Ob.LIVE_STREAM_RESPONSE_NOT_AUTHORIZED:return new Sb(nv.LIVE_STREAMING_PUBLISH_STREAM_NOT_AUTHORIZED,\"\",{code:e.code}).throw();case Ob.LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE:{const t=new Sb(nv.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE);return this.emit(bb.WARNING,t,e.serverResponse.url)}case Ob.LIVE_STREAM_RESPONSE_REQUEST_TOO_OFTEN:{const t=new Sb(nv.LIVE_STREAMING_WARN_FREQUENT_REQUEST);return this.emit(bb.WARNING,t,e.serverResponse.url)}case Ob.LIVE_STREAM_RESPONSE_NOT_FOUND_PUBLISH:throw new Sb(nv.LIVE_STREAMING_INTERNAL_SERVER_ERROR,\"live stream response wm worker not exist\",{retry:!0});case Ob.LIVE_STREAM_RESPONSE_NOT_SUPPORTED:return new Sb(nv.LIVE_STREAMING_TRANSCODING_NOT_SUPPORTED,\"\",{code:e.code}).throw();case Ob.LIVE_STREAM_RESPONSE_MAX_STREAM_NUM:{const t=new Sb(nv.LIVE_STREAMING_WARN_STREAM_NUM_REACH_LIMIT);return this.emit(bb.WARNING,t,e.serverResponse.url)}case Ob.LIVE_STREAM_RESPONSE_INTERNAL_SERVER_ERROR:return new Sb(nv.LIVE_STREAMING_INTERNAL_SERVER_ERROR,\"\",{code:e.code}).throw();case Ob.LIVE_STREAM_RESPONSE_RESOURCE_LIMIT:throw new Sb(nv.LIVE_STREAMING_INTERNAL_SERVER_ERROR,\"live stream resource limit\",{retry:!0,changeAddress:!0});case Ob.LIVE_STREAM_RESPONSE_WORKER_LOST:case Ob.LIVE_STREAM_RESPONSE_WORKER_QUIT:if(\"UnpublishStream\"===e.serverResponse.command)return;throw new Sb(nv.LIVE_STREAMING_INTERNAL_SERVER_ERROR,\"error fail send message\",{retry:!0,changeAddress:!0});case Ob.ERROR_FAIL_SEND_MESSAGE:if(\"UnpublishStream\"===e.serverResponse.command)return;if(\"UpdateTranscoding\"===e.serverResponse.command||\"ControlStream\"===e.serverResponse.command)return new Sb(nv.LIVE_STREAMING_INTERNAL_SERVER_ERROR,\"error fail send message\",{code:e.code}).throw();throw new Sb(nv.LIVE_STREAMING_INTERNAL_SERVER_ERROR,\"error fail send message\",{retry:!0,changeAddress:!0});case Ob.PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN:case Ob.PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT:case Ob.PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE:case Ob.PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH:return new Sb(nv.LIVE_STREAMING_CDN_ERROR,\"\",{code:e.code}).throw()}}startPingPong(){this.pingpongTimer&&window.clearInterval(this.pingpongTimer),this.pingpongTimer=window.setInterval((()=>{\"connected\"===this.websocket.state&&this.request(\"ping\",{}).catch(iy)}),6e3)}}function mK(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function fK(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?mK(Object(i),!0).forEach((function(t){og(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):mK(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}class TK extends Sv{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:_y,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:_y;super(),og(this,\"onLiveStreamWarning\",void 0),og(this,\"onLiveStreamError\",void 0),og(this,\"spec\",void 0),og(this,\"retryTimeout\",1e4),og(this,\"connection\",void 0),og(this,\"httpRetryConfig\",void 0),og(this,\"wsRetryConfig\",void 0),og(this,\"streamingTasks\",new Map),og(this,\"isStartingStreamingTask\",!1),og(this,\"taskMutex\",new hy(\"live-streaming\")),og(this,\"cancelToken\",EI.CancelToken.source()),og(this,\"transcodingConfig\",void 0),og(this,\"uapResponse\",void 0),og(this,\"lastTaskId\",1),og(this,\"statusError\",new Map),this.spec=e,this.httpRetryConfig=i,this.wsRetryConfig=t}async setTranscodingConfig(e){const t=fK(fK({},Ab),e);66!==t.videoCodecProfile&&77!==t.videoCodecProfile&&100!==t.videoCodecProfile&&(Qy.debug(\"[\".concat(this.spec.clientId,\"] set transcoding config, fix video codec profile: \").concat(t.videoCodecProfile,\" -> 100\")),t.videoCodecProfile=100),t.transcodingUsers||(t.transcodingUsers=t.userConfigs),t.transcodingUsers&&(t.transcodingUsers=t.transcodingUsers.map((e=>fK(fK(fK({},Ib),e),{},{zOrder:e.zOrder?e.zOrder+1:1})))),function(e){uv(e.width)||av(e.width,\"config.width\",0,1e4),uv(e.height)||av(e.height,\"config.height\",0,1e4),uv(e.videoBitrate)||av(e.videoBitrate,\"config.videoBitrate\",1,1e6),uv(e.videoFrameRate)||av(e.videoFrameRate,\"config.videoFrameRate\"),uv(e.lowLatency)||ov(e.lowLatency,\"config.lowLatency\"),uv(e.audioSampleRate)||sv(e.audioSampleRate,\"config.audioSampleRate\",[32e3,44100,48e3]),uv(e.audioBitrate)||av(e.audioBitrate,\"config.audioBitrate\",1,128),uv(e.audioChannels)||sv(e.audioChannels,\"config.audioChannels\",[1,2,3,4,5]),uv(e.videoGop)||av(e.videoGop,\"config.videoGop\"),uv(e.videoCodecProfile)||sv(e.videoCodecProfile,\"config.videoCodecProfile\",[66,77,100]),uv(e.userCount)||av(e.userCount,\"config.userCount\",0,17),uv(e.backgroundColor)||av(e.backgroundColor,\"config.backgroundColor\",0,16777215),uv(e.userConfigExtraInfo)||dv(e.userConfigExtraInfo,\"config.userConfigExtraInfo\",0,4096,!1),e.transcodingUsers&&!uv(e.transcodingUsers)&&(lv(e.transcodingUsers,\"config.transcodingUsers\"),e.transcodingUsers.forEach(((e,t)=>{Rb(e.uid),uv(e.x)||av(e.x,\"transcodingUser[\".concat(t,\"].x\"),0,1e4),uv(e.y)||av(e.y,\"transcodingUser[\".concat(t,\"].y\"),0,1e4),uv(e.width)||av(e.width,\"transcodingUser[\".concat(t,\"].width\"),0,1e4),uv(e.height)||av(e.height,\"transcodingUser[\".concat(t,\"].height\"),0,1e4),uv(e.zOrder)||av(e.zOrder-1,\"transcodingUser[\".concat(t,\"].zOrder\"),0,100),uv(e.alpha)||av(e.alpha,\"transcodingUser[\".concat(t,\"].alpha\"),0,1,!1)}))),uv(e.watermark)||yb(e.watermark,\"watermark\"),uv(e.backgroundImage)||yb(e.backgroundImage,\"backgroundImage\"),e.images&&!uv(e.images)&&(lv(e.images,\"config.images\"),e.images.forEach(((e,t)=>{yb(e,\"images[\".concat(t,\"]\"))})))}(t);const i=[];t.images&&i.push(...t.images.map((e=>fK(fK(fK({},vb),e),{},{zOrder:255})))),t.backgroundImage&&(i.push(fK(fK(fK({},vb),t.backgroundImage),{},{zOrder:0})),delete t.backgroundImage),t.watermark&&(i.push(fK(fK(fK({},vb),t.watermark),{},{zOrder:255})),delete t.watermark),t.images=i,t.transcodingUsers&&(t.userConfigs=t.transcodingUsers.map((e=>fK({},e))),t.userCount=t.transcodingUsers.length,delete t.transcodingUsers);const n=(t.userConfigs||[]).map((e=>\"number\"==typeof e.uid?Gh.resolve(e.uid):OU(e.uid,this.spec,this.cancelToken.token,this.httpRetryConfig)));if((await Gh.all(n)).forEach(((e,i)=>{t.userConfigs&&t.userConfigs[i]&&(t.userConfigs[i].uid=e)})),this.transcodingConfig=t,this.connection)try{var r;const e=await this.connection.request(\"request\",{clientRequest:{command:\"UpdateTranscoding\",transcodingConfig:this.transcodingConfig}},!1,{command:\"UpdateTranscoding\",workerType:1,requestByUser:!0,tid:Array.from(Qw(r=this.streamingTasks).call(r)).map((e=>e.taskId)).join(\"#\")});Qy.debug(\"[\".concat(this.spec.clientId,\"] update live transcoding config success, code: \").concat(e.code,\", config:\"),JSON.stringify(this.transcodingConfig))}catch(e){if(!e.data||!e.data.retry)throw e;e.data.changeAddress&&this.connection.tryNextAddress(),this.streamingTasks.forEach((t=>{Qy.warning(\"[\".concat(this.spec.clientId,\"] live streaming receive error\"),e.toString(),\"try to republish\",t.url),this.startLiveStreamingTask(t.url,t.mode,e).then((()=>{Qy.debug(\"[\".concat(this.spec.clientId,\"] live streaming republish \").concat(t.url,\" success\"))})).catch((e=>{Qy.error(\"[\".concat(this.spec.clientId,\"] live streaming republish failed\"),t.url,e.toString()),this.onLiveStreamError&&this.onLiveStreamError(t.url,e)}))}))}}async startLiveStreamingTask(e,t,i){if(!this.transcodingConfig&&t===Cb.TRANSCODE)throw new Sb(nv.INVALID_OPERATION,\"[LiveStreaming] no transcoding config found, can not start transcoding streaming task\");const n={command:\"PublishStream\",ts:Date.now(),url:e,uid:this.spec.uid.toString(),autoDestroyTime:100,acceptImageTimeout:!0};Qy.debug(\"[\".concat(this.spec.clientId,\"] start live streaming \").concat(e,\", mode: \").concat(t));const r=await this.taskMutex.lock();if(!this.connection&&i)return void r();if(this.streamingTasks.get(e)&&!i)return r(),new Sb(nv.LIVE_STREAMING_TASK_CONFLICT).throw();try{this.connection||(this.connection=await this.connect(t))}catch(e){throw r(),e}switch(t){case Cb.TRANSCODE:n.transcodingConfig=fK({},this.transcodingConfig);case Cb.RAW:}this.uapResponse&&this.uapResponse.vid&&(n.vid=this.uapResponse.vid),this.isStartingStreamingTask=!0;const o=this.lastTaskId++;try{const s=new Gh(((t,n)=>{$v(this.retryTimeout).then((()=>{if(i)return n(i);const t=this.statusError.get(e);return t?(this.statusError.delete(e),n(t)):void 0}))})),a=await Gh.race([this.connection.request(\"request\",{clientRequest:n},!0,{url:e,command:\"PublishStream\",workerType:t===Cb.TRANSCODE?1:2,requestByUser:!i,tid:o.toString()}),s]);this.isStartingStreamingTask=!1,Qy.debug(\"[\".concat(this.spec.clientId,\"] live streaming started, code: \").concat(a.code)),this.streamingTasks.set(e,{clientRequest:n,mode:t,url:e,taskId:o}),r()}catch(n){if(r(),this.isStartingStreamingTask=!1,!n.data||!n.data.retry||i)throw n;return n.data.changeAddress?(this.connection.tryNextAddress(),await this.startLiveStreamingTask(e,t,n)):await this.startLiveStreamingTask(e,t,n)}}stopLiveStreamingTask(e){return new Gh(((t,i)=>{const n=this.streamingTasks.get(e);if(!n||!this.connection)return new Sb(nv.UNEXPECTED_ERROR,\"can not find streaming task to stop\").throw();const r=n.mode;n.abortTask=()=>{Qy.debug(\"[\".concat(this.spec.clientId,\"] stop live streaming success(worker exception)\")),this.streamingTasks.delete(e),t()},this.connection.request(\"request\",{clientRequest:{command:\"UnpublishStream\",url:n.url}},!1,{url:e,command:\"UnPublishStream\",workerType:r===Cb.TRANSCODE?1:2,requestByUser:!0,tid:(this.lastTaskId++).toString()}).then((i=>{Qy.debug(\"[\".concat(this.spec.clientId,\"] stop live streaming success, code: \").concat(i.code)),this.streamingTasks.delete(e),0===this.streamingTasks.size&&(this.connection&&this.connection.close(),this.connection=void 0),t()})).catch(i)}))}resetAllTask(){var e;const t=Array.from(Qw(e=this.streamingTasks).call(e));this.terminate();for(const e of t)this.startLiveStreamingTask(e.url,e.mode).catch((t=>{this.onLiveStreamError&&this.onLiveStreamError(e.url,t)}))}terminate(){this.cancelToken&&this.cancelToken.cancel(),this.streamingTasks=new Map,this.isStartingStreamingTask=!1,this.statusError=new Map,this.cancelToken=EI.CancelToken.source(),this.uapResponse=void 0,this.connection&&this.connection.close(),this.connection=void 0}async connect(e){if(this.connection)throw new Sb(nv.UNEXPECTED_ERROR,\"live streaming connection has already connected\");const t=await kv(this,wb.REQUEST_WORKER_MANAGER_LIST,e);return this.uapResponse=t,this.connection=new EK(t.workerToken,this.spec,this.wsRetryConfig,e),this.connection.on(bb.WARNING,((e,t)=>this.onLiveStreamWarning&&this.onLiveStreamWarning(t,e))),this.connection.on(bb.PUBLISH_STREAM_STATUS,(e=>this.handlePublishStreamServer(e))),this.connection.on(bb.REQUEST_NEW_ADDRESS,((t,i)=>{if(!this.connection)return i(new Sb(nv.UNEXPECTED_ERROR,\"can not get new live streaming address list\"));kv(this,wb.REQUEST_WORKER_MANAGER_LIST,e).then((e=>{this.uapResponse=e,t(e.addressList)})).catch(i)})),await this.connection.init(t.addressList),this.connection}handlePublishStreamServer(e){const t=e.serverStatus&&e.serverStatus.url||\"empty_url\",i=this.streamingTasks.get(t),n=e.reason;switch(e.code){case Ob.PUBLISH_STREAM_STATUS_ERROR_PUBLISH_BROKEN:case Ob.PUBLISH_STREAM_STATUS_ERROR_RTMP_CONNECT:case Ob.PUBLISH_STREAM_STATUS_ERROR_RTMP_HANDSHAKE:case Ob.PUBLISH_STREAM_STATUS_ERROR_RTMP_PUBLISH:{const n=new Sb(nv.LIVE_STREAMING_CDN_ERROR,\"\",{code:e.code});if(i)return Qy.error(n.toString()),this.onLiveStreamError&&this.onLiveStreamError(t,n);if(!this.isStartingStreamingTask)return;this.statusError.set(t,n)}case Ob.LIVE_STREAM_RESPONSE_FAILED_LOAD_IMAGE:{const e=new Sb(nv.LIVE_STREAMING_WARN_FAILED_LOAD_IMAGE,n);return this.onLiveStreamWarning&&this.onLiveStreamWarning(t,e)}case Ob.LIVE_STREAM_RESPONSE_WORKER_LOST:case Ob.LIVE_STREAM_RESPONSE_WORKER_QUIT:{var r;if(!this.connection)return;this.connection.tryNextAddress();const t=Array.from(Qw(r=this.streamingTasks).call(r));for(const i of t)i.abortTask?i.abortTask():(Qy.warning(\"[\".concat(this.spec.clientId,\"] publish stream status code\"),e.code,\"try to republish\",i.url),this.startLiveStreamingTask(i.url,i.mode,new Sb(nv.LIVE_STREAMING_INTERNAL_SERVER_ERROR,\"\",{code:e.code})).then((()=>{Qy.debug(\"[\".concat(this.spec.clientId,\"] republish live stream success\"),i.url)})).catch((e=>{Qy.error(e.toString()),this.onLiveStreamError&&this.onLiveStreamError(i.url,e)})));return}}}hasUrl(e){return this.streamingTasks.has(e)}}const SK={name:\"LiveStreaming\",create:function(e){return new TK(e.joinInfo,e.websocketRetryConfig||_y,e.httpRetryConfig||_y)}};function gK(e){let t=DK();return function(e,t){let i=e.appId;void 0!==i&&(KK(t,10),VK(t,i));let n=e.cid;void 0!==n&&(KK(t,16),KK(t,n));let r=e.cname;void 0!==r&&(KK(t,26),VK(t,r));let o=e.deviceId;void 0!==o&&(KK(t,34),VK(t,o));let s=e.elapse;void 0!==s&&(KK(t,40),YK(t,s));let a=e.fileSize;void 0!==a&&(KK(t,48),YK(t,OK(a)));let c=e.height;void 0!==c&&(KK(t,56),YK(t,OK(c)));let d=e.jpg;void 0!==d&&(KK(t,66),KK(t,d.length),function(e,t){let i=MK(e,t.length);e.bytes.set(t,i)}(t,d));let l=e.networkType;void 0!==l&&(KK(t,72),YK(t,OK(l)));let u=e.osType;void 0!==u&&(KK(t,80),YK(t,OK(u)));let h=e.requestId;void 0!==h&&(KK(t,90),VK(t,h));let p=e.sdkVersion;void 0!==p&&(KK(t,98),VK(t,p));let _=e.sequence;void 0!==_&&(KK(t,104),YK(t,OK(_)));let E=e.sid;void 0!==E&&(KK(t,114),VK(t,E));let m=e.timestamp;void 0!==m&&(KK(t,120),YK(t,m));let f=e.uid;void 0!==f&&(KK(t,128),KK(t,f));let T=e.vid;void 0!==T&&(KK(t,136),KK(t,T));let S=e.width;void 0!==S&&(KK(t,144),YK(t,OK(S)));let g=e.service;void 0!==g&&(KK(t,152),KK(t,g));let R=e.callbackData;void 0!==R&&(KK(t,162),VK(t,R));let C=e.jpgEncryption;void 0!==C&&(KK(t,168),KK(t,C));let I=e.requestType;void 0!==I&&(KK(t,176),KK(t,I));let v=e.scorePorn;void 0!==v&&(KK(t,185),WK(t,v));let y=e.scoreSexy;void 0!==y&&(KK(t,193),WK(t,y));let A=e.scoreNeutral;void 0!==A&&(KK(t,201),WK(t,A));let b=e.scene;void 0!==b&&(KK(t,208),KK(t,b));let w=e.ossFilePrefix;void 0!==w&&(KK(t,218),VK(t,w));let O=e.serviceVendor;if(void 0!==O)for(let e of O){KK(t,226);let i=DK();IK(e,i),KK(t,i.limit),FK(t,i),PK(i)}}(e,t),function(e){let t=e.bytes,i=e.limit;return t.length===i?t:t.subarray(0,i)}(t)}function RK(e){return function(e){let t={};e:for(;!kK(e);){let i=HK(e);switch(i>>>3){case 0:break e;case 1:t.code=HK(e);break;case 2:t.msg=xK(e,HK(e));break;case 3:{let i=vK(e);t.data=CK(e),e.limit=i;break}default:yK(e,7&i)}}return t}({bytes:t=e,offset:0,limit:t.length});var t}function CK(e){let t={};e:for(;!kK(e);){let i=HK(e);switch(i>>>3){case 0:break e;case 1:t.requestId=xK(e,HK(e));break;case 2:t.requestType=HK(e)>>>0;break;case 3:t.scorePorn=GK(e);break;case 4:t.scoreSexy=GK(e);break;case 5:t.scoreNeutral=GK(e);break;case 6:t.requestScene=HK(e)>>>0;break;case 7:t.scene=HK(e)>>>0;break;default:yK(e,7&i)}}return t}function IK(e,t){let i=e.service;void 0!==i&&(KK(t,8),KK(t,i));let n=e.vendor;void 0!==n&&(KK(t,16),KK(t,n));let r=e.token;void 0!==r&&(KK(t,26),VK(t,r));let o=e.callbackUrl;void 0!==o&&(KK(t,34),VK(t,o))}function vK(e){let t=HK(e),i=e.limit;return e.limit=e.offset+t,i}function yK(e,t){switch(t){case 0:for(;128&BK(e););break;case 2:LK(e,HK(e));break;case 5:LK(e,4);break;case 1:LK(e,8);break;default:throw new Error(\"Unimplemented type: \"+t)}}let AK=new Float32Array(1);new Uint8Array(AK.buffer);let bK=new Float64Array(1),wK=new Uint8Array(bK.buffer);function OK(e){return{low:e|=0,high:e>>31,unsigned:e>=0}}let NK=[];function DK(){const e=NK.pop();return e?(e.offset=e.limit=0,e):{bytes:new Uint8Array(64),offset:0,limit:0}}function PK(e){NK.push(e)}function LK(e,t){if(e.offset+t>e.limit)throw new Error(\"Skip past limit\");e.offset+=t}function kK(e){return e.offset>=e.limit}function MK(e,t){let i=e.bytes,n=e.offset,r=e.limit,o=n+t;if(o>i.length){let t=new Uint8Array(2*o);t.set(i),e.bytes=t}return e.offset=o,o>r&&(e.limit=o),n}function UK(e,t){let i=e.offset;if(i+t>e.limit)throw new Error(\"Read past limit\");return e.offset+=t,i}function xK(e,t){let i=UK(e,t),n=String.fromCharCode,r=e.bytes,o=\"ï¿½\",s=\"\";for(let e=0;e<t;e++){let a,c,d,l,u=r[e+i];0==(128&u)?s+=n(u):192==(224&u)?e+1>=t?s+=o:(a=r[e+i+1],128!=(192&a)?s+=o:(l=(31&u)<<6|63&a,l<128?s+=o:(s+=n(l),e++))):224==(240&u)?e+2>=t?s+=o:(a=r[e+i+1],c=r[e+i+2],32896!=(49344&(a|c<<8))?s+=o:(l=(15&u)<<12|(63&a)<<6|63&c,l<2048||l>=55296&&l<=57343?s+=o:(s+=n(l),e+=2))):240==(248&u)?e+3>=t?s+=o:(a=r[e+i+1],c=r[e+i+2],d=r[e+i+3],8421504!=(12632256&(a|c<<8|d<<16))?s+=o:(l=(7&u)<<18|(63&a)<<12|(63&c)<<6|63&d,l<65536||l>1114111?s+=o:(l-=65536,s+=n(55296+(l>>10),56320+(1023&l)),e+=3))):s+=o}return s}function VK(e,t){let i=t.length,n=0;for(let e=0;e<i;e++){let r=t.charCodeAt(e);r>=55296&&r<=56319&&e+1<i&&(r=(r<<10)+t.charCodeAt(++e)-56613888),n+=r<128?1:r<2048?2:r<65536?3:4}KK(e,n);let r=MK(e,n),o=e.bytes;for(let e=0;e<i;e++){let n=t.charCodeAt(e);n>=55296&&n<=56319&&e+1<i&&(n=(n<<10)+t.charCodeAt(++e)-56613888),n<128?o[r++]=n:(n<2048?o[r++]=n>>6&31|192:(n<65536?o[r++]=n>>12&15|224:(o[r++]=n>>18&7|240,o[r++]=n>>12&63|128),o[r++]=n>>6&63|128),o[r++]=63&n|128)}}function FK(e,t){let i=MK(e,t.limit),n=e.bytes,r=t.bytes;for(let e=0,o=t.limit;e<o;e++)n[e+i]=r[e]}function BK(e){return e.bytes[UK(e,1)]}function jK(e,t){let i=MK(e,1);e.bytes[i]=t}function GK(e){let t=UK(e,8),i=e.bytes;return wK[0]=i[t++],wK[1]=i[t++],wK[2]=i[t++],wK[3]=i[t++],wK[4]=i[t++],wK[5]=i[t++],wK[6]=i[t++],wK[7]=i[t++],bK[0]}function WK(e,t){let i=MK(e,8),n=e.bytes;bK[0]=t,n[i++]=wK[0],n[i++]=wK[1],n[i++]=wK[2],n[i++]=wK[3],n[i++]=wK[4],n[i++]=wK[5],n[i++]=wK[6],n[i++]=wK[7]}function HK(e){let t,i=0,n=0;do{t=BK(e),i<32&&(n|=(127&t)<<i),i+=7}while(128&t);return n}function KK(e,t){for(t>>>=0;t>=128;)jK(e,127&t|128),t>>>=7;jK(e,t)}function YK(e,t){let i=t.low>>>0,n=(t.low>>>28|t.high<<4)>>>0,r=t.high>>>24,o=0===r?0===n?i<16384?i<128?1:2:i<1<<21?3:4:n<16384?n<128?5:6:n<1<<21?7:8:r<128?9:10,s=MK(e,o),a=e.bytes;switch(o){case 10:a[s+9]=r>>>7&1;case 9:a[s+8]=9!==o?128|r:127&r;case 8:a[s+7]=8!==o?n>>>21|128:n>>>21&127;case 7:a[s+6]=7!==o?n>>>14|128:n>>>14&127;case 6:a[s+5]=6!==o?n>>>7|128:n>>>7&127;case 5:a[s+4]=5!==o?128|n:127&n;case 4:a[s+3]=4!==o?i>>>21|128:i>>>21&127;case 3:a[s+2]=3!==o?i>>>14|128:i>>>14&127;case 2:a[s+1]=2!==o?i>>>7|128:i>>>7&127;case 1:a[s]=1!==o?128|i:127&i}}function qK(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}const zK=new Map([[\"moderation\",1],[\"supervise\",2]]);function JK(e){return{low:e|=0,high:e>>31,unsigned:e>=0}}class XK extends Sv{get connectionState(){return this._connectionState}set connectionState(e){if(this._connectionState===e)return;const t=this._connectionState;this._connectionState=e,this.emit(ew.CONNECTION_STATE_CHANGE,t,e)}get inspectType(){return this._inspectType}set inspectType(e){var t;this._inspectMode=Jn(t=e.map((e=>zK.get(e)||0))).call(t,((e,t)=>e+t)),this._inspectType=e}get quality(){return this._quality}set quality(e){this._quality=e>1?1:e<.1?.1:e,this.qualityTimer&&(window.clearTimeout(this.qualityTimer),this.qualityTimer=null),this._quality>=1||(this.qualityTimer=window.setTimeout((()=>{this.quality=this._quality/this.qualityRatio}),6e4))}constructor(e){super(),og(this,\"name\",\"AgoraRTCVideoContentInspect\"),og(this,\"_connectionState\",Zb.CONNECTING),og(this,\"_innerConnectionState\",void 0),og(this,\"sequence\",0),og(this,\"inspectStartTime\",void 0),og(this,\"workerManagerConnection\",void 0),og(this,\"workerConnection\",void 0),og(this,\"workerMessageLengthLimit\",void 0),og(this,\"inspectIntervalMinimum\",void 0),og(this,\"qualityRatio\",void 0),og(this,\"_connectInfo\",void 0),og(this,\"_cancelTokenSource\",EI.CancelToken.source()),og(this,\"_retryConfig\",void 0),og(this,\"wmSequence\",0),og(this,\"inspectInterval\",void 0),og(this,\"inspectTimer\",null),og(this,\"ossFilePrefix\",void 0),og(this,\"extraInfo\",void 0),og(this,\"_inspectType\",void 0),og(this,\"_inspectMode\",void 0),og(this,\"_quality\",1),og(this,\"qualityTimer\",null),og(this,\"_inspectId\",void 0),og(this,\"_needWorkUrlOnly\",!1),og(this,\"inspectImage\",(()=>{if(this.connectionState!==Zb.CONNECTED)throw new Sb(nv.OPERATION_ABORTED,\"content inspect service connection status is \".concat(this.connectionState));this.inspectTimer&&(window.clearInterval(this.inspectTimer),this.inspectTimer=null),this.inspectTimer=window.setInterval((()=>{this.connectionState===Zb.CONNECTED?this.requestToInspectImage():Qy.debug(\"[\".concat(this._inspectId,\"] Inspect State is not connected , \"),this.connectionState)}),this.inspectInterval<this.inspectIntervalMinimum?this.inspectIntervalMinimum:this.inspectInterval),this.requestToInspectImage()})),this._inspectId=ey(5,\"inspect-\"),this.workerMessageLengthLimit=Dy(\"VIDEO_INSPECT_WORKER_MESSAGE_LENGTH_LIMIT\"),this.inspectIntervalMinimum=Dy(\"VIDEO_INSPECT_INTERVAL_MINIMUM\"),this.qualityRatio=Dy(\"VIDEO_INSPECT_QUALITY_RATIO\"),this.inspectInterval=e.interval,this.ossFilePrefix=e.ossFilePrefix,this.extraInfo=e.extraInfo,this.inspectType=e.inspectType,this.inspectStartTime=Number(Date.now()),this.workerManagerConnection=new bw(\"worker-manager-\"+this._inspectId,_y),this.on(ew.STATE_CHANGE,((e,t)=>{this._innerConnectionState=e,Qy.debug(\"[\".concat(this._inspectId,\"] Inspect operation :\").concat($b[e],\" \").concat(t||\"\"))})),this.handleWorkerManagerEvents(),this.workerConnection=new bw(\"worker-\"+this._inspectId,_y),this.handleWorkerEvents()}async init(e,t){this.emit(ew.STATE_CHANGE,$b.CONNECT_AP),this._connectInfo=e;const i=this._cancelTokenSource.token;return this._retryConfig=t,new Gh(((n,r)=>{this.on(ew.CONNECTION_STATE_CHANGE,((e,t)=>{t===Zb.CONNECTED&&n()})),this.requestAP(e,i,t).then((e=>{this.connectWorkerManager(e)})).catch((e=>{r(e)}))}))}async requestAP(e,t,i){const n=Dy(\"WEBCS_DOMAIN\").map((e=>\"https://\".concat(e,\"/api/v1\"))),r=await function(e,t,i,n){let{appId:r,areaCode:o,cname:s,sid:a,token:c,uid:d}=t;IU++;const l=\"image_moderation_api\",u={service_name:l,json_body:JSON.stringify({appId:r,areaCode:o,cname:s,command:\"allocateEdge\",requestId:IU,seq:IU,sid:a,token:c,ts:Date.now(),uid:d+\"\"})};let h,p,_=e[0];return my((async()=>{h=Date.now();const e=await tU(_,{data:u,cancelToken:i,headers:{\"X-Packet-Service-Type\":\"0\",\"X-Packet-URI\":\"61\"},params:{action:\"wrtc_gateway\"}});if(p=Date.now()-h,0!==e.code){const t=new Sb(nv.UNEXPECTED_RESPONSE,\"image inspect ap error, code\"+e.code,{retry:!0,responseTime:p});throw Qy.error(t.toString()),t}const t=JSON.parse(e.json_body);if(200!==t.code){const e=new Sb(nv.UNEXPECTED_RESPONSE,\"image inspect ap error, code: \".concat(t.code,\", reason: \").concat(t.reason),{code:t.code,responseTime:p});throw Qy.error(e.toString()),e}if(!t.servers||!Array.isArray(t.servers)||0===t.servers.length){const e=new Sb(nv.UNEXPECTED_RESPONSE,\"image inspect ap empty server\",{code:t.code,responseTime:p});throw Qy.error(e.toString()),e}const n=Dy(\"VIDEO_INSPECT_WORKER_MANAGER_HOST\"),r=Dy(\"VIDEO_INSPECT_WORKER_MANAGER_PORT\");return{addressList:t.servers.map((e=>{let{address:t,wss:i}=e;if(t&&i)return\"wss://\".concat(t.replace(/\\./g,\"-\"),\".\").concat(n,\":\").concat(r||i)})).filter((e=>!!e)),workerToken:t.workerToken,vid:t.vid,responseTime:p}}),((t,i)=>(sA.apworkerEvent(a,{success:!0,sc:200,serviceName:l,responseDetail:JSON.stringify(t.addressList),firstSuccess:0===i,responseTime:p,serverIp:e[i%e.length]}),!1)),((t,i)=>(sA.apworkerEvent(a,{success:!1,sc:t.data&&t.data.code||200,serviceName:l,responseTime:p,serverIp:e[i%e.length]}),!!(t.code!==nv.OPERATION_ABORTED&&t.code!==nv.UNEXPECTED_RESPONSE||t.data&&t.data.retry)&&(_=e[(i+1)%e.length],!0))),n)}(n,e,t,i);this.emit(ew.STATE_CHANGE,$b.AP_CONNECTED);const{addressList:o}=r;return this.wmSequence++,o}async connectWorkerManager(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._needWorkUrlOnly=t,this.emit(ew.STATE_CHANGE,$b.CONNECT_WORKER_MANAGER),await this.workerManagerConnection.init(e,1e4)}async connectWorker(e){await this.workerConnection.init([e])}handleWorkerManagerEvents(){this.workerManagerConnection.on(Tb.CONNECTED,(async()=>{this.emit(ew.STATE_CHANGE,$b.WORKER_MANAGER_CONNECTED,this.workerManagerConnection.url),this.workerManagerConnection.sendMessage({appId:this._connectInfo.appId,cname:this._connectInfo.cname,uid:this._connectInfo.uid+\"\",sdkVersion:\"4.22.0\",sid:this._connectInfo.sid,seq:this.wmSequence,ts:Number(Date.now()),requestId:Math.floor(1e12*Math.random()),allocate:!0,clientRequest:{command:\"join\"}},!0)})),this.workerManagerConnection.on(Tb.CLOSED,(()=>{this._innerConnectionState<$b.GET_WORKER_MANAGER_RESPONSE&&Qy.debug(\"[\".concat(this._inspectId,\"] Inspect worker manager is closed before connecting worker\"))})),this.workerManagerConnection.on(Tb.FAILED,(()=>{this._innerConnectionState<$b.GET_WORKER_MANAGER_RESPONSE&&Qy.debug(\"[\".concat(this._inspectId,\"] Connecting inspect worker manager is failed before connecting worker\"))})),this.workerManagerConnection.on(Tb.RECONNECTING,(()=>{this._innerConnectionState<$b.GET_WORKER_MANAGER_RESPONSE&&Qy.debug(\"[\".concat(this._inspectId,\"] Inspect worker manager is reconnecting before connecting worker\"))})),this.workerManagerConnection.on(Tb.ON_MESSAGE,(async e=>{this.emit(ew.STATE_CHANGE,$b.GET_WORKER_MANAGER_RESPONSE);const t=this.workerManagerConnection.url;this.workerManagerConnection.close();const i=JSON.parse(e.data);if(200!==i.code)throw Qy.error(\"[\".concat(this._inspectId,\"] Unexpected code \").concat(i.code,\" from worker manager\")),new Sb(nv.UNEXPECTED_RESPONSE,\"response code of worker is unexpected\",i);if(!(i.serverResponse&&i.serverResponse.portWss&&t))throw Qy.error(\"[\".concat(this._inspectId,\"] Unexpected content from worker manager : \").concat(JSON.stringify(i))),new Sb(nv.UNEXPECTED_RESPONSE,\"response content of worker is unexpected\",i);{const e=Dy(\"VIDEO_INSPECT_WORKER_PORT\")||i.serverResponse.portWss,n=t.replace(/:\\d+\\/?$/,\":\".concat(e));this.emit(ew.STATE_CHANGE,$b.CONNECT_WORKER,n),this._needWorkUrlOnly?this.emit(ew.REQUEST_NEW_WORKER_URL,n):await this.connectWorker(n)}})),this.workerManagerConnection.on(Tb.WILL_RECONNECT,((e,t,i)=>{i(e)})),this.workerManagerConnection.on(Tb.REQUEST_NEW_URLS,((e,t)=>{this.requestAP(this._connectInfo,this._cancelTokenSource.token,this._retryConfig).then(e).catch(t)}))}handleWorkerEvents(){this.workerConnection.on(Tb.CONNECTED,(async()=>{this.emit(ew.STATE_CHANGE,$b.WORKER_CONNECTED,this.workerConnection.url),this.connectionState=Zb.CONNECTED})),this.workerConnection.on(Tb.ON_MESSAGE,(async e=>{if(e.data instanceof ArrayBuffer){const i=RK(new Uint8Array(e.data));if(Dy(\"SHOW_VIDEO_INSPECT_WORKER_MESSAGE\")&&Qy.debug(\"[\".concat(this._inspectId,\"] Response message for worker of inspect content \"),JSON.stringify(i)),200===i.code){if(Array.isArray(this.inspectType)&&1===this.inspectType.length&&\"supervise\"===this.inspectType[0])return void this.emit(ew.INSPECT_RESULT,void 0,void 0);if(i.data&&i.data.scorePorn&&i.data.scoreSexy&&i.data.scoreNeutral){var t;const e={porn:i.data.scorePorn,sexy:i.data.scoreSexy,neutral:i.data.scoreNeutral},n=Jn(t=Object.keys(e)).call(t,((t,i)=>e[t]>e[i]?t:i),\"porn\"),r=Object.keys(e).find((e=>e===n));this.emit(ew.INSPECT_RESULT,r)}else this.emit(ew.INSPECT_RESULT,void 0,new Sb(nv.UNEXPECTED_RESPONSE,i.code+\"\",\"There is an unexpected data on message\"))}else this.emit(ew.INSPECT_RESULT,void 0,new Sb(nv.UNEXPECTED_RESPONSE,i.code+\"\",i.msg))}else Qy.error(\"[\".concat(this._inspectId,\"] Unexpected message type from worker\")),this.emit(ew.INSPECT_RESULT,void 0,new Sb(nv.UNEXPECTED_RESPONSE,\"invalid worker message type\"))})),this.workerConnection.on(Tb.CLOSED,(()=>{this.connectionState=Zb.CLOSED})),this.workerConnection.on(Tb.FAILED,(()=>{this.connectionState=Zb.CLOSED})),this.workerConnection.on(Tb.RECONNECTING,(()=>{this.connectionState=this.connectionState===Zb.CONNECTED?Zb.RECONNECTING:Zb.CONNECTING})),this.workerConnection.on(Tb.WILL_RECONNECT,((e,t,i)=>{\"recover\"===e&&i(e),i(\"tryNext\")})),this.workerConnection.on(Tb.REQUEST_NEW_URLS,((e,t)=>{this.workerManagerConnection.close(),this.once(ew.REQUEST_NEW_WORKER_URL,(t=>{e([t])})),this.requestAP(this._connectInfo,this._cancelTokenSource.token,this._retryConfig).then((e=>{this.connectWorkerManager(e,!0)})).catch((e=>{t(e)}))}))}async requestToInspectImage(){this.sequence++;const e=Uv(this,ew.CLIENT_LOCAL_VIDEO_TRACK),t={appId:this._connectInfo.appId,cname:this._connectInfo.cname,cid:this._connectInfo.cid,sid:this._connectInfo.sid,uid:this._connectInfo.uid,vid:this._connectInfo.vid};if(e){if(!e.isPlaying)return void this.emit(ew.INSPECT_RESULT,void 0,new Sb(nv.INVALID_OPERATION,\"Only the track being played can be inspected\"));const i=await this.generateRequestData(e,t);this.workerConnection.sendMessage(i,!0,!0)}else this.emit(ew.INSPECT_RESULT,void 0,new Sb(nv.INVALID_OPERATION,\"Only the track being published can be inspected\"))}async generateRequestData(e,t){let{appId:i,cname:n,cid:r,vid:o,sid:s,uid:a}=t;const c=Date.now(),d=await e.getCurrentFrameImage(\"image/jpeg\",this.quality),l=await hL(d,i,n),u=this.sequence+\"-\"+r+\"-\"+a+\"-\"+c+\"-\"+ey(12,\"\"),h={appId:i,cid:r,cname:n,deviceId:\"\",elapse:JK(Number(c-this.inspectStartTime)),fileSize:l.byteLength,jpgEncryption:2,height:d.height,width:d.width,jpg:l,networkType:6,osType:7,requestId:u,sdkVersion:\"4.22.0\",sequence:this.sequence,sid:s,timestamp:JK(c),uid:a,vid:o,service:this._inspectMode,callbackData:this.extraInfo,ossFilePrefix:this.ossFilePrefix};void 0===this.extraInfo&&delete h.callbackData,void 0===this.ossFilePrefix&&delete h.ossFilePrefix;const p=gK(h);if(p.byteLength<this.workerMessageLengthLimit){if(Dy(\"SHOW_VIDEO_INSPECT_WORKER_MESSAGE\")){const e=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?qK(Object(i),!0).forEach((function(t){og(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):qK(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({},h);delete e.jpg,Qy.debug(\"[\".concat(this._inspectId,\"] Request message for worker of inspect content \"),JSON.stringify(e))}return p}{const t=this.quality*this.qualityRatio;return this.quality=t,await this.generateRequestData(e,{appId:i,cname:n,cid:r,vid:o,sid:s,uid:a})}}close(){this._cancelTokenSource.cancel(),this._cancelTokenSource=EI.CancelToken.source(),this.workerManagerConnection&&this.workerManagerConnection.close(),this.workerConnection&&this.workerConnection.close(),this.inspectTimer&&window.clearInterval(this.inspectTimer),this.inspectTimer=null,this.connectionState=Zb.CLOSED,this.emit(ew.STATE_CHANGE,$b.CLOSED)}}const QK={name:\"ContentInspect\",create:function(e){let{config:t}=e;return function(e){if(!e)throw new Sb(nv.INVALID_PARAMS,\"inspectConfig is necessary.\");if(!e.inspectType||!Array.isArray(e.inspectType))throw new Sb(nv.INVALID_PARAMS,\"inspectConfig.inspectType is necessary and is an instance of Array.\");{const t=[...new Set(e.inspectType)];t.forEach((e=>{var t;if(!Dn(t=[\"supervise\",\"moderation\"]).call(t,e))throw new Sb(nv.INVALID_PARAMS,\"\".concat(e,\" is not a valid inspect type.\"))})),e.inspectType=t}if(e&&e.extraInfo&&e.extraInfo.length>1024)throw new Sb(nv.INVALID_PARAMS,\"inspectConfig.extraInfo length cannot exceed 1024 bytes\")}(t),new XK(t)}};Ny(\"PROCESS_ID\",\"process-\".concat(ey(8,\"\"),\"-\").concat(ey(4,\"\"),\"-\").concat(ey(4,\"\"),\"-\").concat(ey(4,\"\"),\"-\").concat(ey(12,\"\"))),function(){let e;try{e=window.localStorage.getItem(\"websdk_ng_global_parameter\")}catch(e){return void Qy.error(\"Error loading sdk config\",e.message)}if(e)try{const t=JSON.parse(window.atob(e)),i=Date.now();Qy.debug(\"Loading global parameters from cache\",t),Object.keys(t).forEach((e=>{if(Object.prototype.hasOwnProperty.call(Oy,e)){const{value:n,expires:r}=t[e];if(r&&r<=i)return;Py[e]=n,Oy[e]=n}}))}catch(t){Qy.error(\"Error loading mutableParamsCache: \".concat(e),t.message)}}(),Array.isArray(Py.AREAS)&&Py.AREAS.length>0&&lU(Py.AREAS,!0);const ZK=(e,t,i)=>{Qy.debug(\"setParameter key:\".concat(e,\", value:\").concat(JSON.stringify(t))),Ny(e,t,i)};EF(hK,!1),EF(SK,!1),EF(NB,!1),EF(QK,!1),EF(dK,!1);const $K=function(e){const t=new Sv,i=e,n={getListeners:t.getListeners.bind(t),on:(e,i)=>(function(e,t){e===iw.SECURITY_POLICY_VIOLATION&&Oj(t,!0)}(e,i),t.on.bind(t)(e,i)),addListener:t.addListener.bind(t),once:t.once.bind(t),off:t.off.bind(t),removeAllListeners:t.removeAllListeners.bind(t),emit:t.emit.bind(t),safeEmit:t.safeEmit.bind(t)};return bj(bj({},i),n)}({__TRACK_LIST__:QD,VERSION:vy,BUILD:wy,ESM_BUNDLER:!1,ESM:!0,UMD:!1,DEV:!1,setParameter:ZK,getParameter:Dy,getSupportedCodec:async function(){let e={audio:[],video:[]};try{let t=new RTCPeerConnection;const i=await async function(e){let t;return MD().supportUnifiedPlan?(e.addTransceiver(\"video\",{direction:\"recvonly\"}),e.addTransceiver(\"audio\",{direction:\"recvonly\"}),t=(await e.createOffer()).sdp):t=(await e.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0})).sdp,t}(t);if(!i)return e;t.close(),t=null,e=function(e){const t={video:[],audio:[]};return e.match(/ VP8/i)&&t.video.push(\"VP8\"),e.match(/ VP9/i)&&t.video.push(\"VP9\"),e.match(/ AV1/i)&&t.video.push(\"AV1\"),e.match(/ H264/i)&&t.video.push(\"H264\"),e.match(/ H265/i)&&t.video.push(\"H265\"),e.match(/ opus/i)&&t.audio.push(\"OPUS\"),e.match(/ PCMU/i)&&t.audio.push(\"PCMU\"),e.match(/ PCMA/i)&&t.audio.push(\"PCMA\"),e.match(/ G722/i)&&t.audio.push(\"G722\"),t}(i)}catch(e){throw new Sb(nv.CREATE_OFFER_FAILED,e.toString&&e.toString()).print()}return e},checkSystemRequirements:function(){const e=sA.reportApiInvoke(null,{name:Cv.CHECK_SYSTEM_REQUIREMENTS,options:[],tag:Iv.TRACER});let t=!1;try{const e=window.RTCPeerConnection,i=navigator.mediaDevices&&navigator.mediaDevices.getUserMedia,n=window.WebSocket;t=!!(e&&i&&n),t&&XI()&&xI(75)&&(new e).close()}catch(e){return Qy.error(\"check system requirement failed: \",e),!1}let i=!1;const n=AI();n.name===CI.CHROME&&Number(n.version)>=58&&(\"WebKit\"!==vI.engine.name||function(){const e=AI();if(NI()){if(e.os===RI.MAC_OS)return!0;if(e.os===RI.IOS){const e=vI.os.version&&vI.os.version.split(\".\");if(e&&14===Number(e[0])&&e[1]&&Number(e[1])>=3)return!0;if(e&&Number(e[0])>14)return!0}}return!1}())&&(i=!0),(n.name===CI.FIREFOX&&Number(n.version)>=56||n.name===CI.OPERA&&Number(n.version)>=45||n.name===CI.SAFARI&&Number(n.version)>=11||\"WebKit\"===n.name&&(MI()||qI())&&n.osVersion&&Number(n.osVersion.split(\".\")[0])>=11||zI()||AI().name===CI.QQ)&&(i=!0),Qy.debug(\"checkSystemRequirements, api:\",t,\"browser\",i);const r=t&&i;return e.onSuccess(r),r},getDevices:function(e){return zP.enumerateDevices(!0,!0,e)},getMicrophones:function(e){return zP.getRecordingDevices(e)},getCameras:function(e){return zP.getCamerasDevices(e)},getElectronScreenSources:BP,getPlaybackDevices:function(e){return zP.getSpeakers(e)},createClient:function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{codec:\"vp8\",audioCodec:\"opus\",mode:\"rtc\"};const i=sA.reportApiInvoke(null,{name:Cv.CREATE_CLIENT,options:[t],tag:Iv.TRACER});try{!function(e){sv(e.codec,\"config.codec\",[\"vp8\",\"vp9\",\"av1\",\"h264\",\"h265\"]),sv(e.mode,\"config.mode\",[\"rtc\",\"live\",\"p2p\"]),void 0!==e.audioCodec&&sv(e.audioCodec,\"config.audioCodec\",[\"opus\",\"pcmu\",\"pcma\",\"g722\"]),void 0!==e.proxyServer&&dv(e.proxyServer,\"config.proxyServer\",1,1e4),void 0!==e.turnServer&&wv(e.turnServer),void 0!==e.httpRetryConfig&&vv(e.httpRetryConfig),void 0!==e.websocketRetryConfig&&vv(e.websocketRetryConfig)}(t)}catch(e){throw i.onError(e),e}return(BI(16,0,!0)||jI(16,0,!0))&&(\"vp9\"===t.codec&&(t.codec=\"vp8\",Qy.debug(\"browser not support vp9, force use vp8\")),Ny(\"UNSUPPORTED_VIDEO_CODEC\",[\"vp9\"])),void 0===t.audioCodec&&(t.audioCodec=\"opus\"),i.onSuccess(),new gj(Sj(Sj({forceWaitGatewayResponse:!0},t),{},{role:Dn(e=[\"rtc\",\"p2p\"]).call(e,t.mode)?\"host\":t.role||\"audience\"}))},createCameraVideoTrack:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=Dy(\"CAMERA_CAPTURE_CONFIG\"),i=sA.reportApiInvoke(null,{tag:Iv.TRACER,name:Cv.CREATE_CAM_VIDEO_TRACK,options:[yP({},e),t]});t&&(e.encoderConfig=t);const n=dL(e),r=ey(8,\"track-cam-\");let o=null;Qy.info(\"start create camera video track with config\",JSON.stringify(e),\"trackId\",r);try{o=(await HP({video:n},r)).getVideoTracks()[0]||null}catch(e){throw i.onError(e),e}if(!o){const e=new rv(nv.UNEXPECTED_ERROR,\"can not find track in media stream\");return i.onError(e),e.throw(Qy)}e.optimizationMode&&Yk(r,o,e,YD(e.encoderConfig));const s=new Kk(o,e,n,e.scalabiltyMode?zD(e.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},e.optimizationMode,r);return i.onSuccess(s.getTrackId()),Qy.info(\"create camera video success, trackId:\",r),s},createCustomVideoTrack:function(e){const t=sA.reportApiInvoke(null,{tag:Iv.TRACER,name:Cv.CREATE_CUSTOM_VIDEO_TRACK,options:[e]}),i=new Hk(e.mediaStreamTrack,{width:e.width,height:e.height,frameRate:e.frameRate,bitrateMax:e.bitrateMax,bitrateMin:e.bitrateMin},e.scalabiltyMode?zD(e.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},e.optimizationMode,ey(8,\"track-cus-\"),[eP.CUSTOM_TRACK]);return t.onSuccess(i.getTrackId()),Qy.info(\"create custom video track success with config\",e,\"trackId\",i.getTrackId()),i},createScreenVideoTrack:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"disable\";const i=sA.reportApiInvoke(null,{tag:Iv.TRACER,name:Cv.CREATE_SCREEN_VIDEO_TRACK,options:[yP({},e),t]});e.encoderConfig?\"string\"==typeof e.encoderConfig||e.encoderConfig.width&&e.encoderConfig.height||(e.encoderConfig.width={max:1920},e.encoderConfig.height={max:1080}):e.encoderConfig=\"1080p_2\";const n=function(e){const t={};e.screenSourceType&&(t.mediaSource=e.screenSourceType),e.extensionId&&DI()&&(t.extensionId=e.extensionId);const{displaySurface:i,selfBrowserSurface:n,surfaceSwitching:r,systemAudio:o}=e;(UI(107)||VI(107)||GI(93))&&(i&&(sv(i,\"displaySurface\",[\"browser\",\"window\",\"monitor\"]),t.displaySurface=i),n?(sv(n,\"selfBrowserSurface\",[\"exclude\",\"include\"]),t.selfBrowserSurface=n):t.selfBrowserSurface=\"include\",r&&(sv(r,\"surfaceSwitching\",[\"exclude\",\"include\"]),t.surfaceSwitching=r)),(UI(105)||VI(105)||GI(91))&&o&&(sv(o,\"systemAudio\",[\"exclude\",\"include\"]),t.systemAudio=o),e.electronScreenSourceId&&(t.sourceId=e.electronScreenSourceId);const s=e.encoderConfig?qD(e.encoderConfig):null;return t.mandatory={chromeMediaSource:\"desktop\",maxWidth:s?s.width:void 0,maxHeight:s?s.height:void 0},s&&(s.frameRate&&(\"number\"==typeof s.frameRate?(t.mandatory.maxFrameRate=s.frameRate,t.mandatory.minFrameRate=s.frameRate):(t.mandatory.maxFrameRate=s.frameRate.max||s.frameRate.ideal||s.frameRate.exact||void 0,t.mandatory.minFrameRate=s.frameRate.min||s.frameRate.ideal||s.frameRate.exact||void 0),t.frameRate=s.frameRate),s.width&&(t.width=s.width),s.height&&(t.height=s.height)),t}(e),r=ey(8,\"track-scr-v-\");let o=null,s=null;const a=MD();if(!a.supportShareAudio&&\"enable\"===t){const e=new rv(nv.NOT_SUPPORTED,\"your browser or platform is not support share-screen with audio\");return i.onError(e),e.throw(Qy)}Qy.info(\"start create screen video track with config\",e,\"withAudio\",t,\"trackId\",r);try{const e=await HP({screen:n,screenAudio:\"auto\"===t?a.supportShareAudio:\"enable\"===t},r);o=e.getVideoTracks()[0]||null,s=e.getAudioTracks()[0]||null}catch(e){throw i.onError(e),e}if(!o){const e=new rv(nv.UNEXPECTED_ERROR,\"can not find track in media stream\");return i.onError(e),e.throw(Qy)}if(!s&&\"enable\"===t){o&&o.stop();const e=new rv(nv.SHARE_AUDIO_NOT_ALLOWED);return i.onError(e),e.throw(Qy)}e.optimizationMode||(e.optimizationMode=\"detail\"),e.optimizationMode&&(Yk(r,o,e,e.encoderConfig&&qD(e.encoderConfig)||void 0),e.encoderConfig&&\"string\"!=typeof e.encoderConfig&&(e.encoderConfig.bitrateMin=e.encoderConfig.bitrateMax));const c=new Hk(o,e.encoderConfig?qD(e.encoderConfig):{},e.scalabiltyMode?zD(e.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},e.optimizationMode,r,[eP.SCREEN_TRACK]);if(!s)return i.onSuccess(c.getTrackId()),Qy.info(\"create screen video track success\",\"video:\",c.getTrackId()),c;const d=new tk(s,void 0,ey(8,\"track-scr-a-\"),!1);return i.onSuccess([c.getTrackId(),d.getTrackId()]),Qy.info(\"create screen video track success\",\"video:\",c.getTrackId(),\"audio:\",d.getTrackId()),[c,d]},createMicrophoneAndCameraTracks:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const i=Dy(\"CAMERA_CAPTURE_CONFIG\"),n=sA.reportApiInvoke(null,{tag:Iv.TRACER,name:Cv.CREATE_MIC_AND_CAM_TRACKS,options:[e,t,i]});i&&(t.encoderConfig=i);const r=dL(t),o=lL(e),s=ey(8,\"track-mic-\"),a=ey(8,\"track-cam-\");let c=null,d=null;Qy.info(\"start create camera video track(\".concat(a,\") and microphone audio track(\").concat(s,\") with config, audio: \").concat(JSON.stringify(e),\", video: \").concat(JSON.stringify(t)));try{const e=await HP({audio:o,video:r},\"\".concat(s,\"-\").concat(a));c=e.getAudioTracks()[0],d=e.getVideoTracks()[0]}catch(e){throw n.onError(e),e}if(!c||!d){const e=new rv(nv.UNEXPECTED_ERROR,\"can not find tracks in media stream\");return n.onError(e),e.throw(Qy)}t.optimizationMode&&Yk(a,d,t,YD(t.encoderConfig));const l=new ik(c,e,o,s),u=new Kk(d,t,r,t.scalabiltyMode?zD(t.scalabiltyMode):{numSpatialLayers:1,numTemporalLayers:1},t.optimizationMode,a);return n.onSuccess([l.getTrackId(),u.getTrackId()]),Qy.info(\"create camera video track(\".concat(a,\") and microphone audio track(\").concat(s,\") success\")),[l,u]},createMicrophoneAudioTrack:async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=sA.reportApiInvoke(null,{tag:Iv.TRACER,name:Cv.CREATE_MIC_AUDIO_TRACK,options:[e]}),i=lL(e),n=ey(8,\"track-mic-\");let r=null;Qy.info(\"start create microphone audio track with config\",JSON.stringify(e),\"trackId\",n);try{r=(await HP({audio:i},n)).getAudioTracks()[0]||null}catch(e){throw t.onError(e),e}if(!r){const e=new rv(nv.UNEXPECTED_ERROR,\"can not find track in media stream\");return t.onError(e),e.throw(Qy)}const o=new ik(r,e,i,n);return t.onSuccess(o.getTrackId()),Qy.info(\"create microphone audio track success, trackId:\",n),o},createCustomAudioTrack:function(e){const t=sA.reportApiInvoke(null,{tag:Iv.TRACER,name:Cv.CREATE_CUSTOM_AUDIO_TRACK,options:[e]}),i=new tk(e.mediaStreamTrack,e.encoderConfig?XD(e.encoderConfig):{},ey(8,\"track-cus-\"),!1);return Qy.info(\"create custom audio track success with config\",e,\"trackId\",i.getTrackId()),t.onSuccess(i.getTrackId()),i},createBufferSourceAudioTrack:async function(e){var t;const{cacheOnlineFile:i,encoderConfig:n}=e;let{source:r}=e;const o={source:r instanceof AudioBuffer?\"AudioBuffer\":r instanceof File?null!==(t=File.name)&&void 0!==t?t:\"File\":r,cacheOnlineFile:i,encoderConfig:n},s=sA.reportApiInvoke(null,{tag:Iv.TRACER,name:Cv.CREATE_BUFFER_AUDIO_TRACK,options:[o]});if(Dy(\"DISABLE_WEBAUDIO\"))throw new rv(nv.NOT_SUPPORTED,\"can not create BufferSourceAudioTrack when WebAudio disabled\");const a=ey(8,\"track-buf-\");Qy.info(\"start create buffer source audio track with config\",JSON.stringify(o),\"trackId\",a);const c=r;if(!(r instanceof AudioBuffer))try{r=await async function(e,t){let i=null;if(\"string\"==typeof e){const t=sk.get(e);if(t)return Qy.debug(\"use cached audio resource: \",e),t;try{i=(await my((()=>EI.get(e,{responseType:\"arraybuffer\"})),void 0,void 0,{maxRetryCount:3})).data}catch(e){throw new rv(nv.FETCH_AUDIO_FILE_FAILED,e.toString())}}else{const t=new Gh(((t,i)=>{const n=new FileReader;n.onload=e=>{e.target?t(e.target.result):i(new rv(nv.READ_LOCAL_AUDIO_FILE_ERROR))},n.onerror=()=>{i(new rv(nv.READ_LOCAL_AUDIO_FILE_ERROR))},n.readAsArrayBuffer(e)}));i=await t}const n=await function(e){const t=DP();return new Gh(((i,n)=>{t.decodeAudioData(e,(e=>{i(e)}),(e=>{n(new rv(nv.DECODE_AUDIO_FILE_FAILED,e.toString()))}))}))}(i);return\"string\"==typeof e&&t&&sk.set(e,n),n}(r,i)}catch(e){return s.onError(e),e.throw(Qy)}const d=new ok(r),l=new nk(c,d,n?XD(n):{},a);return Qy.info(\"create buffer source audio track success, trackId:\",a),s.onSuccess(l.getTrackId()),l},setAppType:function(e){if(Qy.debug(\"setAppType: \".concat(e)),!(Number.isInteger(e)&&e>=0))throw Qy.debug(\"Invalid appType\"),new Sb(nv.INVALID_PARAMS,\"invalid app type\",e);Ny(\"APP_TYPE\",Math.floor(e))},setLogLevel:function(e){Qy.setLogLevel(e)},enableLogUpload:function(){Dy(\"USE_NEW_LOG\")?Ny(\"UPLOAD_LOG\",!0):Qy.enableLogUpload()},disableLogUpload:function(){Dy(\"USE_NEW_LOG\")?Ny(\"UPLOAD_LOG\",!1):Qy.disableLogUpload()},createChannelMediaRelayConfiguration:function(){return new AV},checkAudioTrackIsActive:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;const i=sA.reportApiInvoke(null,{tag:Iv.TRACER,name:Cv.CHECK_AUDIO_TRACK_IS_ACTIVE,options:[t]});if(!(e instanceof tk||e instanceof aM)){const e=new Sb(nv.INVALID_TRACK,\"the parameter is not a audio track\");return i.onError(e),e.throw()}t&&t<1e3&&(t=1e3);const n=e instanceof tk?e.getTrackLabel():\"remote_track\",r=e.getVolumeLevel();let o=r,s=r;const a=Date.now();return new Gh((r=>{const c=setInterval((()=>{const d=e.getVolumeLevel();o=d>o?d:o,s=d<s?d:s;const l=o-s>1e-4,u=Date.now()-a;if(l||u>t){clearInterval(c);const t=l,s={duration:u,deviceLabel:n,maxVolumeLevel:o,result:t};Qy.info(\"[track-\".concat(e.getTrackId(),\"] check audio track active completed. \").concat(JSON.stringify(s))),i.onSuccess(s),r(t)}}),200)}))},checkVideoTrackIsActive:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3;const i=sA.reportApiInvoke(null,{tag:Iv.TRACER,name:Cv.CHECK_VIDEO_TRACK_IS_ACTIVE,options:[t]});if(!(e instanceof Hk||e instanceof sM)){const e=new Sb(nv.INVALID_TRACK,\"the parameter is not a video track\");return i.onError(e),e.throw()}t&&t<1e3&&(t=1e3);const n=e instanceof Hk?e.getTrackLabel():\"remote_track\",r=e.getMediaStreamTrack(!0),o=document.createElement(\"video\");o.style.width=\"1px\",o.style.height=\"1px\",o.setAttribute(\"muted\",\"\"),o.muted=!0,o.setAttribute(\"playsinline\",\"\"),o.controls=!1,(PI()||NI())&&(o.style.opacity=\"0.01\",o.style.position=\"fixed\",o.style.left=\"0\",o.style.top=\"0\",document.body.appendChild(o)),o.srcObject=new MediaStream([r]),o.play();const s=document.createElement(\"canvas\");s.width=160,s.height=120;let a=0,c=0;try{const e=Date.now();a=await function(e,t,i,n){let r,o=0,s=null;return new Gh(((a,c)=>{function d(){o>n&&r&&(r(),a(o));const t=i.getContext(\"2d\");if(!t){const e=new Sb(nv.UNEXPECTED_ERROR,\"can not get canvas 2d context.\");return Qy.error(e.toString()),void c(e)}t.drawImage(e,0,0,160,120);const d=t.getImageData(0,0,i.width,i.height),l=Math.floor(d.data.length/3);if(s){for(let e=0;e<l;e+=3)if(d.data[e]!==s[e])return o+=1,void(s=d.data);s=d.data}else s=d.data}setTimeout((()=>{r&&(r(),a(o))}),t),r=kP((()=>{d()}),30)}))}(o,t,s,4),c=Date.now()-e}catch(e){throw i.onError(e),e}bF===CI.SAFARI&&(o.pause(),o.remove()),o.srcObject=null;const d=a>4,l={duration:c,changedPicNum:a,deviceLabel:n,result:d};return Qy.info(\"[track-\".concat(e.getTrackId(),\"] check video track active completed. \").concat(JSON.stringify(l))),i.onSuccess(l),d},setArea:lU,audioElementPlayCenter:eL,resumeAudioContext:function(){eL.autoResumeAfterInterruption(!0)},processExternalMediaAEC:function(e){yj.processExternalMediaAEC(e)},registerExtensions:function(e){const t=Dy(\"PLUGIN_INFO\")||[];e.forEach((e=>{\"name\"in e&&!Dn(t).call(t,e.name)&&t.push(e.name);const i=e;i.__registered__=!0,i.logger.hookLog=Qy.extLog,i.reporter.hookApiInvoke=sA.extApiInvoke,i.parameters&&Object.keys(i.parameters).forEach((e=>{i.parameters[e]=Dy(e)}))})),ZK(\"PLUGIN_INFO\",t)},ChannelMediaRelayError:kb,ChannelMediaRelayEvent:Pb,ChannelMediaRelayState:Lb,RemoteStreamFallbackType:nP,RemoteStreamType:iP,ConnectionDisconnectedReason:Av,AudienceLatencyLevelType:yv,AREAS:Fb,preload:async function(e,t,i,n){return jF(e,t,i,n)}});Object.defineProperties($K,{onAudioAutoplayFailed:{get:()=>XP.onAudioAutoplayFailed,set:e=>{XP.onAudioAutoplayFailed=e}},onAutoplayFailed:{get:()=>XP.onAutoplayFailed,set:e=>{XP.onAutoplayFailed=e}},_onSecurityPolicyViolation:{value:void 0,writable:!0},_cspEventHandlerPointer:{value:void 0,writable:!0},onSecurityPolicyViolation:{get:()=>$K._onSecurityPolicyViolation,set(e){$K._onSecurityPolicyViolation=e,Oj(e)}},__CLIENT_LIST__:{get:()=>Dy(\"SHOW_GLOBAL_CLIENT_LIST\")?lA:[]}}),zP.on(fP.CAMERA_DEVICE_CHANGED,(e=>{Qy.info(\"camera device changed\",JSON.stringify(e)),$K.onCameraChanged&&$K.onCameraChanged(e),$K.safeEmit(iw.CAMERA_CHANGED,e)})),zP.on(fP.RECORDING_DEVICE_CHANGED,(e=>{Qy.info(\"microphone device changed\",JSON.stringify(e)),$K.onMicrophoneChanged&&$K.onMicrophoneChanged(e),$K.safeEmit(iw.MICROPHONE_CHANGED,e)})),zP.on(fP.PLAYOUT_DEVICE_CHANGED,(e=>{Qy.debug(\"playout device changed\",JSON.stringify(e)),$K.onPlaybackDeviceChanged&&$K.onPlaybackDeviceChanged(e),$K.safeEmit(iw.PLAYBACK_DEVICE_CHANGED,e)})),eL.onAutoplayFailed=()=>{Qy.info(\"detect audio element autoplay failed\"),XP.onAudioAutoplayFailed&&XP.onAudioAutoplayFailed()},NP.on(\"autoplay-failed\",(()=>{Qy.info(\"detect webaudio autoplay failed\"),XP.onAudioAutoplayFailed&&XP.onAudioAutoplayFailed(),$K.safeEmit(iw.AUTOPLAY_FAILED)})),NP.on(VD.STATE_CHANGE,((e,t)=>{Qy.info(\"audio context state changed: \".concat(t,\" => \").concat(e)),$K.onAudioContextStateChanged&&$K.onAudioContextStateChanged(e,t),$K.safeEmit(iw.AUDIO_CONTEXT_STATE_CHANGED,e,t)})),Vv.on(Lv.NETWORK_STATE_CHANGE,((e,t)=>{Qy.info(\"[network-indicator] network state changed, \".concat(t,\" => \").concat(e))})),window&&(window.__ARTC__=$K);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvYWdvcmEtcnRjLXNkay1uZy9BZ29yYVJUQ19OLXByb2R1Y3Rpb24uZXNtLm1qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBOztBQUVBLGdCQUFnQiw4QkFBOEIsOEVBQThFLDZCQUE2QiwyQ0FBMkMsbUNBQW1DLDZCQUE2QixhQUFhLEdBQUcsR0FBRyxvQkFBb0IscUpBQXFKLGNBQWMsc0ZBQXNGLGtCQUFrQixJQUFJLFlBQVksU0FBUyxVQUFVLGtCQUFrQixrQkFBa0IsUUFBUSwwREFBMEQsNkVBQTZFLGtCQUFrQiw2QkFBNkIsT0FBTyw4QkFBOEIsMEJBQTBCLHdKQUF3SixZQUFZLGdKQUFnSiw0QkFBNEIsWUFBWSx1Q0FBdUMsb0JBQW9CLHVCQUF1QixpQ0FBaUMsOENBQThDLHdDQUF3QyxvQ0FBb0Msa0NBQWtDLGFBQWEsMkJBQTJCLEtBQUssa0JBQWtCLGtDQUFrQyxJQUFJLGVBQWUsVUFBVSxLQUFLLDBEQUEwRCw0QkFBNEIsS0FBSyxLQUFLLHNFQUFzRSxJQUFJLElBQUksa0JBQWtCLGdCQUFnQix3QkFBd0IsR0FBRyx3QkFBd0IsT0FBTywrREFBK0QsZ0RBQWdELHNDQUFzQyxlQUFlLGtDQUFrQyxpQkFBaUIsZUFBZSwrQkFBK0IsMkNBQTJDLFNBQVMsdUJBQXVCLGVBQWUsMENBQTBDLCtDQUErQyxhQUFhLHVDQUF1QyxNQUFNLGdDQUFnQyxzQkFBc0Isa0JBQWtCLGdGQUFnRix1SkFBdUosaUpBQWlKLG1GQUFtRixlQUFlLHFFQUFxRSxxR0FBcUcseUJBQXlCLGFBQWEsbUJBQW1CLG9DQUFvQywwQkFBMEIsSUFBSSxhQUFhLFNBQVMsZ0JBQWdCLHdDQUF3QyxrQkFBa0IscUNBQXFDLDZCQUE2QixXQUFXLDBCQUEwQixrQ0FBa0MsV0FBVyxnREFBZ0QsSUFBSSxTQUFTLG9DQUFvQyxFQUFFLFNBQVMsUUFBUSxTQUFTLDJDQUEyQyxRQUFRLDBCQUEwQixvQ0FBb0MsRUFBRSx1QkFBdUIsbU1BQW1NLEVB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LHlCQUF5QixZQUFZLElBQUksbUJBQW1CLDBCQUEwQixpQkFBaUIsdUJBQXVCLGFBQWEsbUJBQW1CLDJCQUEyQixPQUFPLHFFQUFxRSx3Q0FBd0MsMkJBQTJCLDJFQUEyRSxNQUFNLFlBQVksSUFBSSxvREFBb0QsU0FBUyxjQUFjLGlCQUFpQixjQUFjLGdCQUFnQixJQUFJLE1BQU0sR0FBRyx5QkFBeUIsU0FBUyxxQkFBcUIsd0RBQXdELGVBQWUsbURBQW1ELHFJQUFxSSxvRUFBb0UsbUNBQW1DLHFDQUFxQyw4QkFBOEIsZ0NBQWdDLDhCQUE4QixlQUFlLGtEQUFrRCxVQUFVLDZJQUE2SSxzQkFBc0IsR0FBRyx1QkFBdUIsb09BQW9PLG9CQUFvQixFQUFFLDRCQUE0Qix1QkFBdUIseUNBQXlDLDRCQUE0QixtQkFBbUIsb0NBQW9DLHVCQUF1Qiw2QkFBNkIseUJBQXlCLDBCQUEwQix5QkFBeUIsNEJBQTRCLDZDQUE2Qyx1Q0FBdUMsa0JBQWtCLDZDQUE2QyxzQ0FBc0MsOEhBQThILDBDQUEwQyw4SUFBOEksd0NBQXdDLHlKQUF5Siw0QkFBNEIscUdBQXFHLCtCQUErQixnSUFBZ0ksa0NBQWtDLHNMQUFzTCwwQ0FBMEMsa0ZBQWtGLGdDQUFzRCIsInNvdXJjZXMiOlsid2VicGFjazovL0luZm9ybWx5Ly4vbm9kZV9tb2R1bGVzL2Fnb3JhLXJ0Yy1zZGstbmcvQWdvcmFSVENfTi1wcm9kdWN0aW9uLmVzbS5tanM/ZWVhMCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEFnb3JhV2ViU0RLX04tdjQuMjIuMC0wLWc4NTY5MjQxZC1kaXJ0eSBDb3B5cmlnaHQgQWdvcmFJbmMuXG4gKi9cblxuZnVuY3Rpb24gZShlLHQpe3JldHVybiB0LmZvckVhY2goKGZ1bmN0aW9uKHQpe3QmJlwic3RyaW5nXCIhPXR5cGVvZiB0JiYhQXJyYXkuaXNBcnJheSh0KSYmT2JqZWN0LmtleXModCkuZm9yRWFjaCgoZnVuY3Rpb24oaSl7aWYoXCJkZWZhdWx0XCIhPT1pJiYhKGkgaW4gZSkpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCxpKTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxpLG4uZ2V0P246e2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRbaV19fSl9fSkpfSkpLE9iamVjdC5mcmVlemUoZSl9dmFyIHQ9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbFRoaXM/Z2xvYmFsVGhpczpcInVuZGVmaW5lZFwiIT10eXBlb2Ygd2luZG93P3dpbmRvdzpcInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsP2dsb2JhbDpcInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZj9zZWxmOnt9O2Z1bmN0aW9uIGkoZSl7cmV0dXJuIGUmJmUuX19lc01vZHVsZSYmT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsXCJkZWZhdWx0XCIpP2UuZGVmYXVsdDplfXZhciBuPWZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4hIWUoKX1jYXRjaChlKXtyZXR1cm4hMH19LHI9IW4oKGZ1bmN0aW9uKCl7dmFyIGU9ZnVuY3Rpb24oKXt9LmJpbmQoKTtyZXR1cm5cImZ1bmN0aW9uXCIhPXR5cGVvZiBlfHxlLmhhc093blByb3BlcnR5KFwicHJvdG90eXBlXCIpfSkpLG89cixzPUZ1bmN0aW9uLnByb3RvdHlwZSxhPXMuY2FsbCxjPW8mJnMuYmluZC5iaW5kKGEsYSksZD1vP2M6ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIGEuYXBwbHkoZSxhcmd1bWVudHMpfX0sbD1kKHt9LmlzUHJvdG90eXBlT2YpLHU9ZnVuY3Rpb24oZSl7cmV0dXJuIGUmJmUuTWF0aD09TWF0aCYmZX0saD11KFwib2JqZWN0XCI9PXR5cGVvZiBnbG9iYWxUaGlzJiZnbG9iYWxUaGlzKXx8dShcIm9iamVjdFwiPT10eXBlb2Ygd2luZG93JiZ3aW5kb3cpfHx1KFwib2JqZWN0XCI9PXR5cGVvZiBzZWxmJiZzZWxmKXx8dShcIm9iamVjdFwiPT10eXBlb2YgdCYmdCl8fGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KCl8fHR8fEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKSxwPXIsXz1GdW5jdGlvbi5wcm90b3R5cGUsRT1fLmFwcGx5LG09Xy5jYWxsLGY9XCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3QmJlJlZmxlY3QuYXBwbHl8fChwP20uYmluZChFKTpmdW5jdGlvbigpe3JldHVybiBtLmFwcGx5KEUsYXJndW1lbnRzKX0pLFQ9ZCxTPVQoe30udG9TdHJpbmcpLGc9VChcIlwiLnNsaWNlKSxSPWZ1bmN0aW9uKGUpe3JldHVybiBnKFMoZSksOCwtMSl9LEM9UixJPWQsdj1mdW5jdGlvbihlKXtpZihcIkZ1bmN0aW9uXCI9PT1DKGUpKXJldHVybiBJKGUpfSx5PVwib2JqZWN0XCI9PXR5cGVvZiBkb2N1bWVudCYmZG9jdW1lbnQuYWxsLEE9e2FsbDp5LElTX0hUTUxEREE6dm9pZCAwPT09eSYmdm9pZCAwIT09eX0sYj1BLmFsbCx3PUEuSVNfSFRNTEREQT9mdW5jdGlvbihlKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBlfHxlPT09Yn06ZnVuY3Rpb24oZSl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgZX0sTz17fSxOPSFuKChmdW5jdGlvbigpe3JldHVybiA3IT1PYmplY3QuZGVmaW5lUHJvcGVydHkoe30sMSx7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIDd9fSlbMV19KSksRD1yLFA9RnVuY3Rpb24ucHJvdG90eXBlLmNhbGwsTD1EP1AuYmluZChQKTpmdW5jdGlvbigpe3JldHVybiBQLmFwcGx5KFAsYXJndW1lbnRzKX0saz17fSxNPXt9LnByb3BlcnR5SXNFbnVtZXJhYmxlLFU9T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcix4PVUmJiFNLmNhbGwoezE6Mn0sMSk7ay5mPXg/ZnVuY3Rpb24oZSl7dmFyIHQ9VSh0aGlzLGUpO3JldHVybiEhdCYmdC5lbnVtZXJhYmxlfTpNO3ZhciBWLEYsQj1mdW5jdGlvbihlLHQpe3JldHVybntlbnVtZXJhYmxlOiEoMSZlKSxjb25maWd1cmFibGU6ISgyJmUpLHdyaXRhYmxlOiEoNCZlKSx2YWx1ZTp0fX0saj1uLEc9UixXPU9iamVjdCxIPWQoXCJcIi5zcGxpdCksSz1qKChmdW5jdGlvbigpe3JldHVybiFXKFwielwiKS5wcm9wZXJ0eUlzRW51bWVyYWJsZSgwKX0pKT9mdW5jdGlvbihlKXtyZXR1cm5cIlN0cmluZ1wiPT1HKGUpP0goZSxcIlwiKTpXKGUpfTpXLFk9ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGw9PWV9LHE9WSx6PVR5cGVFcnJvcixKPWZ1bmN0aW9uKGUpe2lmKHEoZSkpdGhyb3cgeihcIkNhbid0IGNhbGwgbWV0aG9kIG9uIFwiK2UpO3JldHVybiBlfSxYPUssUT1KLFo9ZnVuY3Rpb24oZSl7cmV0dXJuIFgoUShlKSl9LCQ9dyxlZT1BLmFsbCx0ZT1BLklTX0hUTUxEREE/ZnVuY3Rpb24oZSl7cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIGU/bnVsbCE9PWU6JChlKXx8ZT09PWVlfTpmdW5jdGlvbihlKXtyZXR1cm5cIm9iamVjdFwiPT10eXBlb2YgZT9udWxsIT09ZTokKGUpfSxpZT17fSxuZT1pZSxyZT1oLG9lPXcsc2U9ZnVuY3Rpb24oZSl7cmV0dXJuIG9lKGUpP2U6dm9pZCAwfSxhZT1mdW5jdGlvbihlLHQpe3JldHVybiBhcmd1bWVudHMubGVuZ3RoPDI/c2UobmVbZV0pfHxzZShyZVtlXSk6bmVbZV0mJm5lW2VdW3RdfHxyZVtlXSYmcmVbZV1bdF19LGNlPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBuYXZpZ2F0b3ImJlN0cmluZyhuYXZpZ2F0b3IudXNlckFnZW50KXx8XCJcIixkZT1oLGxlPWNlLHVlPWRlLnByb2Nlc3MsaGU9ZGUuRGVubyxwZT11ZSYmdWUudmVyc2lvbnN8fGhlJiZoZS52ZXJzaW9uLF9lPXBlJiZwZS52ODtfZSYmKEY9KFY9X2Uuc3BsaXQoXCIuXCIpKVswXT4wJiZWWzBdPDQ/MTorKFZbMF0rVlsxXSkpLCFGJiZsZSYmKCEoVj1sZS5tYXRjaCgvRWRnZVxcLyhcXGQrKS8pKXx8VlsxXT49NzQpJiYoVj1sZS5tYXRjaCgvQ2hyb21lXFwvKFxcZCspLykpJiYoRj0rVlsxXSk7dmFyIEVlPUYsbWU9RWUsZmU9bixUZT1oLlN0cmluZyxTZT0hIU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMmJiFmZSgoZnVuY3Rpb24oKXt2YXIgZT1TeW1ib2woKTtyZXR1cm4hVGUoZSl8fCEoT2JqZWN0KGUpaW5zdGFuY2VvZiBTeW1ib2wpfHwhU3ltYm9sLnNoYW0mJm1lJiZtZTw0MX0pKSxnZT1TZSYmIVN5bWJvbC5zaGFtJiZcInN5bWJvbFwiPT10eXBlb2YgU3ltYm9sLml0ZXJhdG9yLFJlPWFlLENlPXcsSWU9bCx2ZT1PYmplY3QseWU9Z2U/ZnVuY3Rpb24oZSl7cmV0dXJuXCJzeW1ib2xcIj09dHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3ZhciB0PVJlKFwiU3ltYm9sXCIpO3JldHVybiBDZSh0KSYmSWUodC5wcm90b3R5cGUsdmUoZSkpfSxBZT1TdHJpbmcsYmU9ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiBBZShlKX1jYXRjaChlKXtyZXR1cm5cIk9iamVjdFwifX0sd2U9dyxPZT1iZSxOZT1UeXBlRXJyb3IsRGU9ZnVuY3Rpb24oZSl7aWYod2UoZSkpcmV0dXJuIGU7dGhyb3cgTmUoT2UoZSkrXCIgaXMgbm90IGEgZnVuY3Rpb25cIil9LFBlPURlLExlPVksa2U9ZnVuY3Rpb24oZSx0KXt2YXIgaT1lW3RdO3JldHVybiBMZShpKT92b2lkIDA6UGUoaSl9LE1lPUwsVWU9dyx4ZT10ZSxWZT1UeXBlRXJyb3IsRmU9e2V4cG9ydHM6e319LEJlPWgsamU9T2JqZWN0LmRlZmluZVByb3BlcnR5LEdlPWZ1bmN0aW9uKGUsdCl7dHJ5e2plKEJlLGUse3ZhbHVlOnQsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSl9Y2F0Y2goaSl7QmVbZV09dH1yZXR1cm4gdH0sV2U9XCJfX2NvcmUtanNfc2hhcmVkX19cIixIZT1oW1dlXXx8R2UoV2Use30pLEtlPUhlOyhGZS5leHBvcnRzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIEtlW2VdfHwoS2VbZV09dm9pZCAwIT09dD90Ont9KX0pKFwidmVyc2lvbnNcIixbXSkucHVzaCh7dmVyc2lvbjpcIjMuMzEuMVwiLG1vZGU6XCJwdXJlXCIsY29weXJpZ2h0OlwiwqkgMjAxNC0yMDIzIERlbmlzIFB1c2hrYXJldiAoemxvaXJvY2sucnUpXCIsbGljZW5zZTpcImh0dHBzOi8vZ2l0aHViLmNvbS96bG9pcm9jay9jb3JlLWpzL2Jsb2IvdjMuMzEuMS9MSUNFTlNFXCIsc291cmNlOlwiaHR0cHM6Ly9naXRodWIuY29tL3psb2lyb2NrL2NvcmUtanNcIn0pO3ZhciBZZT1GZS5leHBvcnRzLHFlPUosemU9T2JqZWN0LEplPWZ1bmN0aW9uKGUpe3JldHVybiB6ZShxZShlKSl9LFhlPUplLFFlPWQoe30uaGFzT3duUHJvcGVydHkpLFplPU9iamVjdC5oYXNPd258fGZ1bmN0aW9uKGUsdCl7cmV0dXJuIFFlKFhlKGUpLHQpfSwkZT1kLGV0PTAsdHQ9TWF0aC5yYW5kb20oKSxpdD0kZSgxLi50b1N0cmluZyksbnQ9ZnVuY3Rpb24oZSl7cmV0dXJuXCJTeW1ib2woXCIrKHZvaWQgMD09PWU/XCJcIjplKStcIilfXCIraXQoKytldCt0dCwzNil9LHJ0PVllLG90PVplLHN0PW50LGF0PVNlLGN0PWdlLGR0PWguU3ltYm9sLGx0PXJ0KFwid2tzXCIpLHV0PWN0P2R0LmZvcnx8ZHQ6ZHQmJmR0LndpdGhvdXRTZXR0ZXJ8fHN0LGh0PWZ1bmN0aW9uKGUpe3JldHVybiBvdChsdCxlKXx8KGx0W2VdPWF0JiZvdChkdCxlKT9kdFtlXTp1dChcIlN5bWJvbC5cIitlKSksbHRbZV19LHB0PUwsX3Q9dGUsRXQ9eWUsbXQ9a2UsZnQ9ZnVuY3Rpb24oZSx0KXt2YXIgaSxuO2lmKFwic3RyaW5nXCI9PT10JiZVZShpPWUudG9TdHJpbmcpJiYheGUobj1NZShpLGUpKSlyZXR1cm4gbjtpZihVZShpPWUudmFsdWVPZikmJiF4ZShuPU1lKGksZSkpKXJldHVybiBuO2lmKFwic3RyaW5nXCIhPT10JiZVZShpPWUudG9TdHJpbmcpJiYheGUobj1NZShpLGUpKSlyZXR1cm4gbjt0aHJvdyBWZShcIkNhbid0IGNvbnZlcnQgb2JqZWN0IHRvIHByaW1pdGl2ZSB2YWx1ZVwiKX0sVHQ9VHlwZUVycm9yLFN0PWh0KFwidG9QcmltaXRpdmVcIiksZ3Q9ZnVuY3Rpb24oZSx0KXtpZighX3QoZSl8fEV0KGUpKXJldHVybiBlO3ZhciBpLG49bXQoZSxTdCk7aWYobil7aWYodm9pZCAwPT09dCYmKHQ9XCJkZWZhdWx0XCIpLGk9cHQobixlLHQpLCFfdChpKXx8RXQoaSkpcmV0dXJuIGk7dGhyb3cgVHQoXCJDYW4ndCBjb252ZXJ0IG9iamVjdCB0byBwcmltaXRpdmUgdmFsdWVcIil9cmV0dXJuIHZvaWQgMD09PXQmJih0PVwibnVtYmVyXCIpLGZ0KGUsdCl9LFJ0PXllLEN0PWZ1bmN0aW9uKGUpe3ZhciB0PWd0KGUsXCJzdHJpbmdcIik7cmV0dXJuIFJ0KHQpP3Q6dCtcIlwifSxJdD10ZSx2dD1oLmRvY3VtZW50LHl0PUl0KHZ0KSYmSXQodnQuY3JlYXRlRWxlbWVudCksQXQ9ZnVuY3Rpb24oZSl7cmV0dXJuIHl0P3Z0LmNyZWF0ZUVsZW1lbnQoZSk6e319LGJ0PUF0LHd0PSFOJiYhbigoZnVuY3Rpb24oKXtyZXR1cm4gNyE9T2JqZWN0LmRlZmluZVByb3BlcnR5KGJ0KFwiZGl2XCIpLFwiYVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gN319KS5hfSkpLE90PU4sTnQ9TCxEdD1rLFB0PUIsTHQ9WixrdD1DdCxNdD1aZSxVdD13dCx4dD1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yO08uZj1PdD94dDpmdW5jdGlvbihlLHQpe2lmKGU9THQoZSksdD1rdCh0KSxVdCl0cnl7cmV0dXJuIHh0KGUsdCl9Y2F0Y2goZSl7fWlmKE10KGUsdCkpcmV0dXJuIFB0KCFOdChEdC5mLGUsdCksZVt0XSl9O3ZhciBWdD1uLEZ0PXcsQnQ9LyN8XFwucHJvdG90eXBlXFwuLyxqdD1mdW5jdGlvbihlLHQpe3ZhciBpPVd0W0d0KGUpXTtyZXR1cm4gaT09S3R8fGkhPUh0JiYoRnQodCk/VnQodCk6ISF0KX0sR3Q9anQubm9ybWFsaXplPWZ1bmN0aW9uKGUpe3JldHVybiBTdHJpbmcoZSkucmVwbGFjZShCdCxcIi5cIikudG9Mb3dlckNhc2UoKX0sV3Q9anQuZGF0YT17fSxIdD1qdC5OQVRJVkU9XCJOXCIsS3Q9anQuUE9MWUZJTEw9XCJQXCIsWXQ9anQscXQ9RGUsenQ9cixKdD12KHYuYmluZCksWHQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gcXQoZSksdm9pZCAwPT09dD9lOnp0P0p0KGUsdCk6ZnVuY3Rpb24oKXtyZXR1cm4gZS5hcHBseSh0LGFyZ3VtZW50cyl9fSxRdD17fSxadD1OJiZuKChmdW5jdGlvbigpe3JldHVybiA0MiE9T2JqZWN0LmRlZmluZVByb3BlcnR5KChmdW5jdGlvbigpe30pLFwicHJvdG90eXBlXCIse3ZhbHVlOjQyLHdyaXRhYmxlOiExfSkucHJvdG90eXBlfSkpLCR0PXRlLGVpPVN0cmluZyx0aT1UeXBlRXJyb3IsaWk9ZnVuY3Rpb24oZSl7aWYoJHQoZSkpcmV0dXJuIGU7dGhyb3cgdGkoZWkoZSkrXCIgaXMgbm90IGFuIG9iamVjdFwiKX0sbmk9TixyaT13dCxvaT1adCxzaT1paSxhaT1DdCxjaT1UeXBlRXJyb3IsZGk9T2JqZWN0LmRlZmluZVByb3BlcnR5LGxpPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IsdWk9XCJlbnVtZXJhYmxlXCIsaGk9XCJjb25maWd1cmFibGVcIixwaT1cIndyaXRhYmxlXCI7UXQuZj1uaT9vaT9mdW5jdGlvbihlLHQsaSl7aWYoc2koZSksdD1haSh0KSxzaShpKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlJiZcInByb3RvdHlwZVwiPT09dCYmXCJ2YWx1ZVwiaW4gaSYmcGkgaW4gaSYmIWlbcGldKXt2YXIgbj1saShlLHQpO24mJm5bcGldJiYoZVt0XT1pLnZhbHVlLGk9e2NvbmZpZ3VyYWJsZTpoaSBpbiBpP2lbaGldOm5baGldLGVudW1lcmFibGU6dWkgaW4gaT9pW3VpXTpuW3VpXSx3cml0YWJsZTohMX0pfXJldHVybiBkaShlLHQsaSl9OmRpOmZ1bmN0aW9uKGUsdCxpKXtpZihzaShlKSx0PWFpKHQpLHNpKGkpLHJpKXRyeXtyZXR1cm4gZGkoZSx0LGkpfWNhdGNoKGUpe31pZihcImdldFwiaW4gaXx8XCJzZXRcImluIGkpdGhyb3cgY2koXCJBY2Nlc3NvcnMgbm90IHN1cHBvcnRlZFwiKTtyZXR1cm5cInZhbHVlXCJpbiBpJiYoZVt0XT1pLnZhbHVlKSxlfTt2YXIgX2k9UXQsRWk9QixtaT1OP2Z1bmN0aW9uKGUsdCxpKXtyZXR1cm4gX2kuZihlLHQsRWkoMSxpKSl9OmZ1bmN0aW9uKGUsdCxpKXtyZXR1cm4gZVt0XT1pLGV9LGZpPWgsVGk9ZixTaT12LGdpPXcsUmk9Ty5mLENpPVl0LElpPWllLHZpPVh0LHlpPW1pLEFpPVplLGJpPWZ1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKGksbixyKXtpZih0aGlzIGluc3RhbmNlb2YgdCl7c3dpdGNoKGFyZ3VtZW50cy5sZW5ndGgpe2Nhc2UgMDpyZXR1cm4gbmV3IGU7Y2FzZSAxOnJldHVybiBuZXcgZShpKTtjYXNlIDI6cmV0dXJuIG5ldyBlKGksbil9cmV0dXJuIG5ldyBlKGksbixyKX1yZXR1cm4gVGkoZSx0aGlzLGFyZ3VtZW50cyl9O3JldHVybiB0LnByb3RvdHlwZT1lLnByb3RvdHlwZSx0fSx3aT1mdW5jdGlvbihlLHQpe3ZhciBpLG4scixvLHMsYSxjLGQsbCx1PWUudGFyZ2V0LGg9ZS5nbG9iYWwscD1lLnN0YXQsXz1lLnByb3RvLEU9aD9maTpwP2ZpW3VdOihmaVt1XXx8e30pLnByb3RvdHlwZSxtPWg/SWk6SWlbdV18fHlpKElpLHUse30pW3VdLGY9bS5wcm90b3R5cGU7Zm9yKG8gaW4gdCluPSEoaT1DaShoP286dSsocD9cIi5cIjpcIiNcIikrbyxlLmZvcmNlZCkpJiZFJiZBaShFLG8pLGE9bVtvXSxuJiYoYz1lLmRvbnRDYWxsR2V0U2V0PyhsPVJpKEUsbykpJiZsLnZhbHVlOkVbb10pLHM9biYmYz9jOnRbb10sbiYmdHlwZW9mIGE9PXR5cGVvZiBzfHwoZD1lLmJpbmQmJm4/dmkocyxmaSk6ZS53cmFwJiZuP2JpKHMpOl8mJmdpKHMpP1NpKHMpOnMsKGUuc2hhbXx8cyYmcy5zaGFtfHxhJiZhLnNoYW0pJiZ5aShkLFwic2hhbVwiLCEwKSx5aShtLG8sZCksXyYmKEFpKElpLHI9dStcIlByb3RvdHlwZVwiKXx8eWkoSWkscix7fSkseWkoSWlbcl0sbyxzKSxlLnJlYWwmJmYmJihpfHwhZltvXSkmJnlpKGYsbyxzKSkpfSxPaT1NYXRoLmNlaWwsTmk9TWF0aC5mbG9vcixEaT1NYXRoLnRydW5jfHxmdW5jdGlvbihlKXt2YXIgdD0rZTtyZXR1cm4odD4wP05pOk9pKSh0KX0sUGk9RGksTGk9ZnVuY3Rpb24oZSl7dmFyIHQ9K2U7cmV0dXJuIHQhPXR8fDA9PT10PzA6UGkodCl9LGtpPUxpLE1pPU1hdGgubWF4LFVpPU1hdGgubWluLHhpPWZ1bmN0aW9uKGUsdCl7dmFyIGk9a2koZSk7cmV0dXJuIGk8MD9NaShpK3QsMCk6VWkoaSx0KX0sVmk9TGksRmk9TWF0aC5taW4sQmk9ZnVuY3Rpb24oZSl7cmV0dXJuIGU+MD9GaShWaShlKSw5MDA3MTk5MjU0NzQwOTkxKTowfSxqaT1CaSxHaT1mdW5jdGlvbihlKXtyZXR1cm4gamkoZS5sZW5ndGgpfSxXaT1aLEhpPXhpLEtpPUdpLFlpPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LGksbil7dmFyIHIsbz1XaSh0KSxzPUtpKG8pLGE9SGkobixzKTtpZihlJiZpIT1pKXtmb3IoO3M+YTspaWYoKHI9b1thKytdKSE9cilyZXR1cm4hMH1lbHNlIGZvcig7cz5hO2ErKylpZigoZXx8YSBpbiBvKSYmb1thXT09PWkpcmV0dXJuIGV8fGF8fDA7cmV0dXJuIWUmJi0xfX0scWk9e2luY2x1ZGVzOllpKCEwKSxpbmRleE9mOllpKCExKX0semk9cWkuaW5jbHVkZXM7d2koe3RhcmdldDpcIkFycmF5XCIscHJvdG86ITAsZm9yY2VkOm4oKGZ1bmN0aW9uKCl7cmV0dXJuIUFycmF5KDEpLmluY2x1ZGVzKCl9KSl9LHtpbmNsdWRlczpmdW5jdGlvbihlKXtyZXR1cm4gemkodGhpcyxlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX19KTt2YXIgSmk9aWUsWGk9ZnVuY3Rpb24oZSl7cmV0dXJuIEppW2UrXCJQcm90b3R5cGVcIl19LFFpPVhpKFwiQXJyYXlcIikuaW5jbHVkZXMsWmk9dGUsJGk9Uixlbj1odChcIm1hdGNoXCIpLHRuPWZ1bmN0aW9uKGUpe3ZhciB0O3JldHVybiBaaShlKSYmKHZvaWQgMCE9PSh0PWVbZW5dKT8hIXQ6XCJSZWdFeHBcIj09JGkoZSkpfSxubj10bixybj1UeXBlRXJyb3Isb249e307b25baHQoXCJ0b1N0cmluZ1RhZ1wiKV09XCJ6XCI7dmFyIHNuPVwiW29iamVjdCB6XVwiPT09U3RyaW5nKG9uKSxhbj1zbixjbj13LGRuPVIsbG49aHQoXCJ0b1N0cmluZ1RhZ1wiKSx1bj1PYmplY3QsaG49XCJBcmd1bWVudHNcIj09ZG4oZnVuY3Rpb24oKXtyZXR1cm4gYXJndW1lbnRzfSgpKSxwbj1hbj9kbjpmdW5jdGlvbihlKXt2YXIgdCxpLG47cmV0dXJuIHZvaWQgMD09PWU/XCJVbmRlZmluZWRcIjpudWxsPT09ZT9cIk51bGxcIjpcInN0cmluZ1wiPT10eXBlb2YoaT1mdW5jdGlvbihlLHQpe3RyeXtyZXR1cm4gZVt0XX1jYXRjaChlKXt9fSh0PXVuKGUpLGxuKSk/aTpobj9kbih0KTpcIk9iamVjdFwiPT0obj1kbih0KSkmJmNuKHQuY2FsbGVlKT9cIkFyZ3VtZW50c1wiOm59LF9uPXBuLEVuPVN0cmluZyxtbj1mdW5jdGlvbihlKXtpZihcIlN5bWJvbFwiPT09X24oZSkpdGhyb3cgVHlwZUVycm9yKFwiQ2Fubm90IGNvbnZlcnQgYSBTeW1ib2wgdmFsdWUgdG8gYSBzdHJpbmdcIik7cmV0dXJuIEVuKGUpfSxmbj1odChcIm1hdGNoXCIpLFRuPXdpLFNuPWZ1bmN0aW9uKGUpe2lmKG5uKGUpKXRocm93IHJuKFwiVGhlIG1ldGhvZCBkb2Vzbid0IGFjY2VwdCByZWd1bGFyIGV4cHJlc3Npb25zXCIpO3JldHVybiBlfSxnbj1KLFJuPW1uLENuPWZ1bmN0aW9uKGUpe3ZhciB0PS8uLzt0cnl7XCIvLi9cIltlXSh0KX1jYXRjaChpKXt0cnl7cmV0dXJuIHRbZm5dPSExLFwiLy4vXCJbZV0odCl9Y2F0Y2goZSl7fX1yZXR1cm4hMX0sSW49ZChcIlwiLmluZGV4T2YpO1RuKHt0YXJnZXQ6XCJTdHJpbmdcIixwcm90bzohMCxmb3JjZWQ6IUNuKFwiaW5jbHVkZXNcIil9LHtpbmNsdWRlczpmdW5jdGlvbihlKXtyZXR1cm4hIX5JbihSbihnbih0aGlzKSksUm4oU24oZSkpLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX19KTt2YXIgdm49WGkoXCJTdHJpbmdcIikuaW5jbHVkZXMseW49bCxBbj1RaSxibj12bix3bj1BcnJheS5wcm90b3R5cGUsT249U3RyaW5nLnByb3RvdHlwZSxObj1mdW5jdGlvbihlKXt2YXIgdD1lLmluY2x1ZGVzO3JldHVybiBlPT09d258fHluKHduLGUpJiZ0PT09d24uaW5jbHVkZXM/QW46XCJzdHJpbmdcIj09dHlwZW9mIGV8fGU9PT1Pbnx8eW4oT24sZSkmJnQ9PT1Pbi5pbmNsdWRlcz9ibjp0fSxEbj1pKE5uKSxQbj1EZSxMbj1KZSxrbj1LLE1uPUdpLFVuPVR5cGVFcnJvcix4bj1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxpLG4scil7UG4oaSk7dmFyIG89TG4odCkscz1rbihvKSxhPU1uKG8pLGM9ZT9hLTE6MCxkPWU/LTE6MTtpZihuPDIpZm9yKDs7KXtpZihjIGluIHMpe3I9c1tjXSxjKz1kO2JyZWFrfWlmKGMrPWQsZT9jPDA6YTw9Yyl0aHJvdyBVbihcIlJlZHVjZSBvZiBlbXB0eSBhcnJheSB3aXRoIG5vIGluaXRpYWwgdmFsdWVcIil9Zm9yKDtlP2M+PTA6YT5jO2MrPWQpYyBpbiBzJiYocj1pKHIsc1tjXSxjLG8pKTtyZXR1cm4gcn19LFZuPXtsZWZ0OnhuKCExKSxyaWdodDp4bighMCl9LEZuPW4sQm49ZnVuY3Rpb24oZSx0KXt2YXIgaT1bXVtlXTtyZXR1cm4hIWkmJkZuKChmdW5jdGlvbigpe2kuY2FsbChudWxsLHR8fGZ1bmN0aW9uKCl7cmV0dXJuIDF9LDEpfSkpfSxqbj1cInVuZGVmaW5lZFwiIT10eXBlb2YgcHJvY2VzcyYmXCJwcm9jZXNzXCI9PVIocHJvY2VzcyksR249Vm4ubGVmdDt3aSh7dGFyZ2V0OlwiQXJyYXlcIixwcm90bzohMCxmb3JjZWQ6IWpuJiZFZT43OSYmRWU8ODN8fCFCbihcInJlZHVjZVwiKX0se3JlZHVjZTpmdW5jdGlvbihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoO3JldHVybiBHbih0aGlzLGUsdCx0PjE/YXJndW1lbnRzWzFdOnZvaWQgMCl9fSk7dmFyIFduPVhpKFwiQXJyYXlcIikucmVkdWNlLEhuPWwsS249V24sWW49QXJyYXkucHJvdG90eXBlLHFuPWZ1bmN0aW9uKGUpe3ZhciB0PWUucmVkdWNlO3JldHVybiBlPT09WW58fEhuKFluLGUpJiZ0PT09WW4ucmVkdWNlP0tuOnR9LHpuPXFuLEpuPWkoem4pO2xldCBYbj0hMCxRbj0hMDtmdW5jdGlvbiBabihlLHQsaSl7Y29uc3Qgbj1lLm1hdGNoKHQpO3JldHVybiBuJiZuLmxlbmd0aD49aSYmcGFyc2VJbnQobltpXSwxMCl9ZnVuY3Rpb24gJG4oZSx0LGkpe2lmKCFlLlJUQ1BlZXJDb25uZWN0aW9uKXJldHVybjtjb25zdCBuPWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLHI9bi5hZGRFdmVudExpc3RlbmVyO24uYWRkRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihlLG4pe2lmKGUhPT10KXJldHVybiByLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtjb25zdCBvPWU9Pntjb25zdCB0PWkoZSk7dCYmKG4uaGFuZGxlRXZlbnQ/bi5oYW5kbGVFdmVudCh0KTpuKHQpKX07cmV0dXJuIHRoaXMuX2V2ZW50TWFwPXRoaXMuX2V2ZW50TWFwfHx7fSx0aGlzLl9ldmVudE1hcFt0XXx8KHRoaXMuX2V2ZW50TWFwW3RdPW5ldyBNYXApLHRoaXMuX2V2ZW50TWFwW3RdLnNldChuLG8pLHIuYXBwbHkodGhpcyxbZSxvXSl9O2NvbnN0IG89bi5yZW1vdmVFdmVudExpc3RlbmVyO24ucmVtb3ZlRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihlLGkpe2lmKGUhPT10fHwhdGhpcy5fZXZlbnRNYXB8fCF0aGlzLl9ldmVudE1hcFt0XSlyZXR1cm4gby5hcHBseSh0aGlzLGFyZ3VtZW50cyk7aWYoIXRoaXMuX2V2ZW50TWFwW3RdLmhhcyhpKSlyZXR1cm4gby5hcHBseSh0aGlzLGFyZ3VtZW50cyk7Y29uc3Qgbj10aGlzLl9ldmVudE1hcFt0XS5nZXQoaSk7cmV0dXJuIHRoaXMuX2V2ZW50TWFwW3RdLmRlbGV0ZShpKSwwPT09dGhpcy5fZXZlbnRNYXBbdF0uc2l6ZSYmZGVsZXRlIHRoaXMuX2V2ZW50TWFwW3RdLDA9PT1PYmplY3Qua2V5cyh0aGlzLl9ldmVudE1hcCkubGVuZ3RoJiZkZWxldGUgdGhpcy5fZXZlbnRNYXAsby5hcHBseSh0aGlzLFtlLG5dKX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KG4sXCJvblwiK3Qse2dldCgpe3JldHVybiB0aGlzW1wiX29uXCIrdF19LHNldChlKXt0aGlzW1wiX29uXCIrdF0mJih0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIodCx0aGlzW1wiX29uXCIrdF0pLGRlbGV0ZSB0aGlzW1wiX29uXCIrdF0pLGUmJnRoaXMuYWRkRXZlbnRMaXN0ZW5lcih0LHRoaXNbXCJfb25cIit0XT1lKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KX1mdW5jdGlvbiBlcihlKXtyZXR1cm5cImJvb2xlYW5cIiE9dHlwZW9mIGU/bmV3IEVycm9yKFwiQXJndW1lbnQgdHlwZTogXCIrdHlwZW9mIGUrXCIuIFBsZWFzZSB1c2UgYSBib29sZWFuLlwiKTooWG49ZSxlP1wiYWRhcHRlci5qcyBsb2dnaW5nIGRpc2FibGVkXCI6XCJhZGFwdGVyLmpzIGxvZ2dpbmcgZW5hYmxlZFwiKX1mdW5jdGlvbiB0cihlKXtyZXR1cm5cImJvb2xlYW5cIiE9dHlwZW9mIGU/bmV3IEVycm9yKFwiQXJndW1lbnQgdHlwZTogXCIrdHlwZW9mIGUrXCIuIFBsZWFzZSB1c2UgYSBib29sZWFuLlwiKTooUW49IWUsXCJhZGFwdGVyLmpzIGRlcHJlY2F0aW9uIHdhcm5pbmdzIFwiKyhlP1wiZGlzYWJsZWRcIjpcImVuYWJsZWRcIikpfWZ1bmN0aW9uIGlyKCl7aWYoXCJvYmplY3RcIj09dHlwZW9mIHdpbmRvdyl7aWYoWG4pcmV0dXJuO1widW5kZWZpbmVkXCIhPXR5cGVvZiBjb25zb2xlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBjb25zb2xlLmxvZyYmY29uc29sZS5sb2cuYXBwbHkoY29uc29sZSxhcmd1bWVudHMpfX1mdW5jdGlvbiBucihlLHQpe1FuJiZjb25zb2xlLndhcm4oZStcIiBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIFwiK3QrXCIgaW5zdGVhZC5cIil9ZnVuY3Rpb24gcnIoZSl7cmV0dXJuXCJbb2JqZWN0IE9iamVjdF1cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlKX1mdW5jdGlvbiBvcihlKXt2YXIgdDtyZXR1cm4gcnIoZSk/Sm4odD1PYmplY3Qua2V5cyhlKSkuY2FsbCh0LChmdW5jdGlvbih0LGkpe2NvbnN0IG49cnIoZVtpXSkscj1uP29yKGVbaV0pOmVbaV0sbz1uJiYhT2JqZWN0LmtleXMocikubGVuZ3RoO3JldHVybiB2b2lkIDA9PT1yfHxvP3Q6T2JqZWN0LmFzc2lnbih0LHtbaV06cn0pfSkse30pOmV9ZnVuY3Rpb24gc3IoZSx0LGkpe3QmJiFpLmhhcyh0LmlkKSYmKGkuc2V0KHQuaWQsdCksT2JqZWN0LmtleXModCkuZm9yRWFjaCgobj0+e24uZW5kc1dpdGgoXCJJZFwiKT9zcihlLGUuZ2V0KHRbbl0pLGkpOm4uZW5kc1dpdGgoXCJJZHNcIikmJnRbbl0uZm9yRWFjaCgodD0+e3NyKGUsZS5nZXQodCksaSl9KSl9KSkpfWZ1bmN0aW9uIGFyKGUsdCxpKXtjb25zdCBuPWk/XCJvdXRib3VuZC1ydHBcIjpcImluYm91bmQtcnRwXCIscj1uZXcgTWFwO2lmKG51bGw9PT10KXJldHVybiByO2NvbnN0IG89W107cmV0dXJuIGUuZm9yRWFjaCgoZT0+e1widHJhY2tcIj09PWUudHlwZSYmZS50cmFja0lkZW50aWZpZXI9PT10LmlkJiZvLnB1c2goZSl9KSksby5mb3JFYWNoKCh0PT57ZS5mb3JFYWNoKChpPT57aS50eXBlPT09biYmaS50cmFja0lkPT09dC5pZCYmc3IoZSxpLHIpfSkpfSkpLHJ9dmFyIGNyPW50LGRyPVllKFwia2V5c1wiKSxscj1mdW5jdGlvbihlKXtyZXR1cm4gZHJbZV18fChkcltlXT1jcihlKSl9LHVyPSFuKChmdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXt9cmV0dXJuIGUucHJvdG90eXBlLmNvbnN0cnVjdG9yPW51bGwsT2JqZWN0LmdldFByb3RvdHlwZU9mKG5ldyBlKSE9PWUucHJvdG90eXBlfSkpLGhyPVplLHByPXcsX3I9SmUsRXI9dXIsbXI9bHIoXCJJRV9QUk9UT1wiKSxmcj1PYmplY3QsVHI9ZnIucHJvdG90eXBlLFNyPUVyP2ZyLmdldFByb3RvdHlwZU9mOmZ1bmN0aW9uKGUpe3ZhciB0PV9yKGUpO2lmKGhyKHQsbXIpKXJldHVybiB0W21yXTt2YXIgaT10LmNvbnN0cnVjdG9yO3JldHVybiBwcihpKSYmdCBpbnN0YW5jZW9mIGk/aS5wcm90b3R5cGU6dCBpbnN0YW5jZW9mIGZyP1RyOm51bGx9LGdyPWQsUnI9RGUsQ3I9dyxJcj1TdHJpbmcsdnI9VHlwZUVycm9yLHlyPWZ1bmN0aW9uKGUsdCxpKXt0cnl7cmV0dXJuIGdyKFJyKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KVtpXSkpfWNhdGNoKGUpe319LEFyPWlpLGJyPWZ1bmN0aW9uKGUpe2lmKFwib2JqZWN0XCI9PXR5cGVvZiBlfHxDcihlKSlyZXR1cm4gZTt0aHJvdyB2cihcIkNhbid0IHNldCBcIitJcihlKStcIiBhcyBhIHByb3RvdHlwZVwiKX0sd3I9T2JqZWN0LnNldFByb3RvdHlwZU9mfHwoXCJfX3Byb3RvX19cImlue30/ZnVuY3Rpb24oKXt2YXIgZSx0PSExLGk9e307dHJ5eyhlPXlyKE9iamVjdC5wcm90b3R5cGUsXCJfX3Byb3RvX19cIixcInNldFwiKSkoaSxbXSksdD1pIGluc3RhbmNlb2YgQXJyYXl9Y2F0Y2goZSl7fXJldHVybiBmdW5jdGlvbihpLG4pe3JldHVybiBBcihpKSxicihuKSx0P2UoaSxuKTppLl9fcHJvdG9fXz1uLGl9fSgpOnZvaWQgMCksT3I9e30sTnI9e30sRHI9WmUsUHI9WixMcj1xaS5pbmRleE9mLGtyPU5yLE1yPWQoW10ucHVzaCksVXI9ZnVuY3Rpb24oZSx0KXt2YXIgaSxuPVByKGUpLHI9MCxvPVtdO2ZvcihpIGluIG4pIURyKGtyLGkpJiZEcihuLGkpJiZNcihvLGkpO2Zvcig7dC5sZW5ndGg+cjspRHIobixpPXRbcisrXSkmJih+THIobyxpKXx8TXIobyxpKSk7cmV0dXJuIG99LHhyPVtcImNvbnN0cnVjdG9yXCIsXCJoYXNPd25Qcm9wZXJ0eVwiLFwiaXNQcm90b3R5cGVPZlwiLFwicHJvcGVydHlJc0VudW1lcmFibGVcIixcInRvTG9jYWxlU3RyaW5nXCIsXCJ0b1N0cmluZ1wiLFwidmFsdWVPZlwiXSxWcj1VcixGcj14ci5jb25jYXQoXCJsZW5ndGhcIixcInByb3RvdHlwZVwiKTtPci5mPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzfHxmdW5jdGlvbihlKXtyZXR1cm4gVnIoZSxGcil9O3ZhciBCcj17fTtCci5mPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7dmFyIGpyPWFlLEdyPU9yLFdyPUJyLEhyPWlpLEtyPWQoW10uY29uY2F0KSxZcj1qcihcIlJlZmxlY3RcIixcIm93bktleXNcIil8fGZ1bmN0aW9uKGUpe3ZhciB0PUdyLmYoSHIoZSkpLGk9V3IuZjtyZXR1cm4gaT9Lcih0LGkoZSkpOnR9LHFyPVplLHpyPVlyLEpyPU8sWHI9UXQsUXI9e30sWnI9VXIsJHI9eHIsZW89T2JqZWN0LmtleXN8fGZ1bmN0aW9uKGUpe3JldHVybiBacihlLCRyKX0sdG89Tixpbz1adCxubz1RdCxybz1paSxvbz1aLHNvPWVvO1FyLmY9dG8mJiFpbz9PYmplY3QuZGVmaW5lUHJvcGVydGllczpmdW5jdGlvbihlLHQpe3JvKGUpO2Zvcih2YXIgaSxuPW9vKHQpLHI9c28odCksbz1yLmxlbmd0aCxzPTA7bz5zOyluby5mKGUsaT1yW3MrK10sbltpXSk7cmV0dXJuIGV9O3ZhciBhbyxjbz1hZShcImRvY3VtZW50XCIsXCJkb2N1bWVudEVsZW1lbnRcIiksbG89aWksdW89UXIsaG89eHIscG89TnIsX289Y28sRW89QXQsbW89XCJwcm90b3R5cGVcIixmbz1cInNjcmlwdFwiLFRvPWxyKFwiSUVfUFJPVE9cIiksU289ZnVuY3Rpb24oKXt9LGdvPWZ1bmN0aW9uKGUpe3JldHVyblwiPFwiK2ZvK1wiPlwiK2UrXCI8L1wiK2ZvK1wiPlwifSxSbz1mdW5jdGlvbihlKXtlLndyaXRlKGdvKFwiXCIpKSxlLmNsb3NlKCk7dmFyIHQ9ZS5wYXJlbnRXaW5kb3cuT2JqZWN0O3JldHVybiBlPW51bGwsdH0sQ289ZnVuY3Rpb24oKXt0cnl7YW89bmV3IEFjdGl2ZVhPYmplY3QoXCJodG1sZmlsZVwiKX1jYXRjaChlKXt9dmFyIGUsdCxpO0NvPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBkb2N1bWVudD9kb2N1bWVudC5kb21haW4mJmFvP1JvKGFvKToodD1FbyhcImlmcmFtZVwiKSxpPVwiamF2YVwiK2ZvK1wiOlwiLHQuc3R5bGUuZGlzcGxheT1cIm5vbmVcIixfby5hcHBlbmRDaGlsZCh0KSx0LnNyYz1TdHJpbmcoaSksKGU9dC5jb250ZW50V2luZG93LmRvY3VtZW50KS5vcGVuKCksZS53cml0ZShnbyhcImRvY3VtZW50LkY9T2JqZWN0XCIpKSxlLmNsb3NlKCksZS5GKTpSbyhhbyk7Zm9yKHZhciBuPWhvLmxlbmd0aDtuLS07KWRlbGV0ZSBDb1ttb11baG9bbl1dO3JldHVybiBDbygpfTtwb1tUb109ITA7dmFyIElvPU9iamVjdC5jcmVhdGV8fGZ1bmN0aW9uKGUsdCl7dmFyIGk7cmV0dXJuIG51bGwhPT1lPyhTb1ttb109bG8oZSksaT1uZXcgU28sU29bbW9dPW51bGwsaVtUb109ZSk6aT1DbygpLHZvaWQgMD09PXQ/aTp1by5mKGksdCl9LHZvPXRlLHlvPW1pLEFvPUVycm9yLGJvPWQoXCJcIi5yZXBsYWNlKSx3bz1TdHJpbmcoQW8oXCJ6eGNhc2RcIikuc3RhY2spLE9vPS9cXG5cXHMqYXQgW146XSo6W15cXG5dKi8sTm89T28udGVzdCh3byksRG89QixQbz0hbigoZnVuY3Rpb24oKXt2YXIgZT1FcnJvcihcImFcIik7cmV0dXJuIShcInN0YWNrXCJpbiBlKXx8KE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwic3RhY2tcIixEbygxLDcpKSw3IT09ZS5zdGFjayl9KSksTG89bWksa289ZnVuY3Rpb24oZSx0KXtpZihObyYmXCJzdHJpbmdcIj09dHlwZW9mIGUmJiFBby5wcmVwYXJlU3RhY2tUcmFjZSlmb3IoO3QtLTspZT1ibyhlLE9vLFwiXCIpO3JldHVybiBlfSxNbz1QbyxVbz1FcnJvci5jYXB0dXJlU3RhY2tUcmFjZSx4bz17fSxWbz14byxGbz1odChcIml0ZXJhdG9yXCIpLEJvPUFycmF5LnByb3RvdHlwZSxqbz1mdW5jdGlvbihlKXtyZXR1cm4gdm9pZCAwIT09ZSYmKFZvLkFycmF5PT09ZXx8Qm9bRm9dPT09ZSl9LEdvPXBuLFdvPWtlLEhvPVksS289eG8sWW89aHQoXCJpdGVyYXRvclwiKSxxbz1mdW5jdGlvbihlKXtpZighSG8oZSkpcmV0dXJuIFdvKGUsWW8pfHxXbyhlLFwiQEBpdGVyYXRvclwiKXx8S29bR28oZSldfSx6bz1MLEpvPURlLFhvPWlpLFFvPWJlLFpvPXFvLCRvPVR5cGVFcnJvcixlcz1mdW5jdGlvbihlLHQpe3ZhciBpPWFyZ3VtZW50cy5sZW5ndGg8Mj9abyhlKTp0O2lmKEpvKGkpKXJldHVybiBYbyh6byhpLGUpKTt0aHJvdyAkbyhRbyhlKStcIiBpcyBub3QgaXRlcmFibGVcIil9LHRzPUwsaXM9aWksbnM9a2UscnM9ZnVuY3Rpb24oZSx0LGkpe3ZhciBuLHI7aXMoZSk7dHJ5e2lmKCEobj1ucyhlLFwicmV0dXJuXCIpKSl7aWYoXCJ0aHJvd1wiPT09dCl0aHJvdyBpO3JldHVybiBpfW49dHMobixlKX1jYXRjaChlKXtyPSEwLG49ZX1pZihcInRocm93XCI9PT10KXRocm93IGk7aWYocil0aHJvdyBuO3JldHVybiBpcyhuKSxpfSxvcz1YdCxzcz1MLGFzPWlpLGNzPWJlLGRzPWpvLGxzPUdpLHVzPWwsaHM9ZXMscHM9cW8sX3M9cnMsRXM9VHlwZUVycm9yLG1zPWZ1bmN0aW9uKGUsdCl7dGhpcy5zdG9wcGVkPWUsdGhpcy5yZXN1bHQ9dH0sZnM9bXMucHJvdG90eXBlLFRzPWZ1bmN0aW9uKGUsdCxpKXt2YXIgbixyLG8scyxhLGMsZCxsPWkmJmkudGhhdCx1PSEoIWl8fCFpLkFTX0VOVFJJRVMpLGg9ISghaXx8IWkuSVNfUkVDT1JEKSxwPSEoIWl8fCFpLklTX0lURVJBVE9SKSxfPSEoIWl8fCFpLklOVEVSUlVQVEVEKSxFPW9zKHQsbCksbT1mdW5jdGlvbihlKXtyZXR1cm4gbiYmX3MobixcIm5vcm1hbFwiLGUpLG5ldyBtcyghMCxlKX0sZj1mdW5jdGlvbihlKXtyZXR1cm4gdT8oYXMoZSksXz9FKGVbMF0sZVsxXSxtKTpFKGVbMF0sZVsxXSkpOl8/RShlLG0pOkUoZSl9O2lmKGgpbj1lLml0ZXJhdG9yO2Vsc2UgaWYocCluPWU7ZWxzZXtpZighKHI9cHMoZSkpKXRocm93IEVzKGNzKGUpK1wiIGlzIG5vdCBpdGVyYWJsZVwiKTtpZihkcyhyKSl7Zm9yKG89MCxzPWxzKGUpO3M+bztvKyspaWYoKGE9ZihlW29dKSkmJnVzKGZzLGEpKXJldHVybiBhO3JldHVybiBuZXcgbXMoITEpfW49aHMoZSxyKX1mb3IoYz1oP2UubmV4dDpuLm5leHQ7IShkPXNzKGMsbikpLmRvbmU7KXt0cnl7YT1mKGQudmFsdWUpfWNhdGNoKGUpe19zKG4sXCJ0aHJvd1wiLGUpfWlmKFwib2JqZWN0XCI9PXR5cGVvZiBhJiZhJiZ1cyhmcyxhKSlyZXR1cm4gYX1yZXR1cm4gbmV3IG1zKCExKX0sU3M9bW4sZ3M9d2ksUnM9bCxDcz1TcixJcz13cix2cz1mdW5jdGlvbihlLHQsaSl7Zm9yKHZhciBuPXpyKHQpLHI9WHIuZixvPUpyLmYscz0wO3M8bi5sZW5ndGg7cysrKXt2YXIgYT1uW3NdO3FyKGUsYSl8fGkmJnFyKGksYSl8fHIoZSxhLG8odCxhKSl9fSx5cz1JbyxBcz1taSxicz1CLHdzPWZ1bmN0aW9uKGUsdCl7dm8odCkmJlwiY2F1c2VcImluIHQmJnlvKGUsXCJjYXVzZVwiLHQuY2F1c2UpfSxPcz1mdW5jdGlvbihlLHQsaSxuKXtNbyYmKFVvP1VvKGUsdCk6TG8oZSxcInN0YWNrXCIsa28oaSxuKSkpfSxOcz1UcyxEcz1mdW5jdGlvbihlLHQpe3JldHVybiB2b2lkIDA9PT1lP2FyZ3VtZW50cy5sZW5ndGg8Mj9cIlwiOnQ6U3MoZSl9LFBzPWh0KFwidG9TdHJpbmdUYWdcIiksTHM9RXJyb3Isa3M9W10ucHVzaCxNcz1mdW5jdGlvbihlLHQpe3ZhciBpLG49UnMoVXMsdGhpcyk7SXM/aT1JcyhMcygpLG4/Q3ModGhpcyk6VXMpOihpPW4/dGhpczp5cyhVcyksQXMoaSxQcyxcIkVycm9yXCIpKSx2b2lkIDAhPT10JiZBcyhpLFwibWVzc2FnZVwiLERzKHQpKSxPcyhpLE1zLGkuc3RhY2ssMSksYXJndW1lbnRzLmxlbmd0aD4yJiZ3cyhpLGFyZ3VtZW50c1syXSk7dmFyIHI9W107cmV0dXJuIE5zKGUsa3Mse3RoYXQ6cn0pLEFzKGksXCJlcnJvcnNcIixyKSxpfTtJcz9JcyhNcyxMcyk6dnMoTXMsTHMse25hbWU6ITB9KTt2YXIgVXM9TXMucHJvdG90eXBlPXlzKExzLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6YnMoMSxNcyksbWVzc2FnZTpicygxLFwiXCIpLG5hbWU6YnMoMSxcIkFnZ3JlZ2F0ZUVycm9yXCIpfSk7Z3Moe2dsb2JhbDohMCxjb25zdHJ1Y3RvcjohMCxhcml0eToyfSx7QWdncmVnYXRlRXJyb3I6TXN9KTt2YXIgeHMsVnMsRnMsQnM9dyxqcz1oLldlYWtNYXAsR3M9QnMoanMpJiYvbmF0aXZlIGNvZGUvLnRlc3QoU3RyaW5nKGpzKSksV3M9aCxIcz10ZSxLcz1taSxZcz1aZSxxcz1IZSx6cz1scixKcz1OcixYcz1cIk9iamVjdCBhbHJlYWR5IGluaXRpYWxpemVkXCIsUXM9V3MuVHlwZUVycm9yLFpzPVdzLldlYWtNYXA7aWYoR3N8fHFzLnN0YXRlKXt2YXIgJHM9cXMuc3RhdGV8fChxcy5zdGF0ZT1uZXcgWnMpOyRzLmdldD0kcy5nZXQsJHMuaGFzPSRzLmhhcywkcy5zZXQ9JHMuc2V0LHhzPWZ1bmN0aW9uKGUsdCl7aWYoJHMuaGFzKGUpKXRocm93IFFzKFhzKTtyZXR1cm4gdC5mYWNhZGU9ZSwkcy5zZXQoZSx0KSx0fSxWcz1mdW5jdGlvbihlKXtyZXR1cm4gJHMuZ2V0KGUpfHx7fX0sRnM9ZnVuY3Rpb24oZSl7cmV0dXJuICRzLmhhcyhlKX19ZWxzZXt2YXIgZWE9enMoXCJzdGF0ZVwiKTtKc1tlYV09ITAseHM9ZnVuY3Rpb24oZSx0KXtpZihZcyhlLGVhKSl0aHJvdyBRcyhYcyk7cmV0dXJuIHQuZmFjYWRlPWUsS3MoZSxlYSx0KSx0fSxWcz1mdW5jdGlvbihlKXtyZXR1cm4gWXMoZSxlYSk/ZVtlYV06e319LEZzPWZ1bmN0aW9uKGUpe3JldHVybiBZcyhlLGVhKX19dmFyIHRhLGlhLG5hLHJhPXtzZXQ6eHMsZ2V0OlZzLGhhczpGcyxlbmZvcmNlOmZ1bmN0aW9uKGUpe3JldHVybiBGcyhlKT9WcyhlKTp4cyhlLHt9KX0sZ2V0dGVyRm9yOmZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0KXt2YXIgaTtpZighSHModCl8fChpPVZzKHQpKS50eXBlIT09ZSl0aHJvdyBRcyhcIkluY29tcGF0aWJsZSByZWNlaXZlciwgXCIrZStcIiByZXF1aXJlZFwiKTtyZXR1cm4gaX19fSxvYT1OLHNhPVplLGFhPUZ1bmN0aW9uLnByb3RvdHlwZSxjYT1vYSYmT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcixkYT1zYShhYSxcIm5hbWVcIiksbGE9e0VYSVNUUzpkYSxQUk9QRVI6ZGEmJlwic29tZXRoaW5nXCI9PT1mdW5jdGlvbigpe30ubmFtZSxDT05GSUdVUkFCTEU6ZGEmJighb2F8fG9hJiZjYShhYSxcIm5hbWVcIikuY29uZmlndXJhYmxlKX0sdWE9bWksaGE9ZnVuY3Rpb24oZSx0LGksbil7cmV0dXJuIG4mJm4uZW51bWVyYWJsZT9lW3RdPWk6dWEoZSx0LGkpLGV9LHBhPW4sX2E9dyxFYT10ZSxtYT1JbyxmYT1TcixUYT1oYSxTYT1odChcIml0ZXJhdG9yXCIpLGdhPSExO1tdLmtleXMmJihcIm5leHRcImluKG5hPVtdLmtleXMoKSk/KGlhPWZhKGZhKG5hKSkpIT09T2JqZWN0LnByb3RvdHlwZSYmKHRhPWlhKTpnYT0hMCk7dmFyIFJhPSFFYSh0YSl8fHBhKChmdW5jdGlvbigpe3ZhciBlPXt9O3JldHVybiB0YVtTYV0uY2FsbChlKSE9PWV9KSk7X2EoKHRhPVJhP3t9Om1hKHRhKSlbU2FdKXx8VGEodGEsU2EsKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSk7dmFyIENhPXtJdGVyYXRvclByb3RvdHlwZTp0YSxCVUdHWV9TQUZBUklfSVRFUkFUT1JTOmdhfSxJYT1wbix2YT1zbj97fS50b1N0cmluZzpmdW5jdGlvbigpe3JldHVyblwiW29iamVjdCBcIitJYSh0aGlzKStcIl1cIn0seWE9c24sQWE9UXQuZixiYT1taSx3YT1aZSxPYT12YSxOYT1odChcInRvU3RyaW5nVGFnXCIpLERhPWZ1bmN0aW9uKGUsdCxpLG4pe2lmKGUpe3ZhciByPWk/ZTplLnByb3RvdHlwZTt3YShyLE5hKXx8QWEocixOYSx7Y29uZmlndXJhYmxlOiEwLHZhbHVlOnR9KSxuJiYheWEmJmJhKHIsXCJ0b1N0cmluZ1wiLE9hKX19LFBhPUNhLkl0ZXJhdG9yUHJvdG90eXBlLExhPUlvLGthPUIsTWE9RGEsVWE9eG8seGE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sVmE9ZnVuY3Rpb24oZSx0LGksbil7dmFyIHI9dCtcIiBJdGVyYXRvclwiO3JldHVybiBlLnByb3RvdHlwZT1MYShQYSx7bmV4dDprYSgrIW4saSl9KSxNYShlLHIsITEsITApLFVhW3JdPXhhLGV9LEZhPXdpLEJhPUwsamE9bGEsR2E9VmEsV2E9U3IsSGE9RGEsS2E9aGEsWWE9eG8scWE9Q2EsemE9amEuUFJPUEVSLEphPXFhLkJVR0dZX1NBRkFSSV9JVEVSQVRPUlMsWGE9aHQoXCJpdGVyYXRvclwiKSxRYT1cImtleXNcIixaYT1cInZhbHVlc1wiLCRhPVwiZW50cmllc1wiLGVjPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LHRjPWZ1bmN0aW9uKGUsdCxpLG4scixvLHMpe0dhKGksdCxuKTt2YXIgYSxjLGQsbD1mdW5jdGlvbihlKXtpZihlPT09ciYmRSlyZXR1cm4gRTtpZighSmEmJmUgaW4gcClyZXR1cm4gcFtlXTtzd2l0Y2goZSl7Y2FzZSBRYTpjYXNlIFphOmNhc2UgJGE6cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBpKHRoaXMsZSl9fXJldHVybiBmdW5jdGlvbigpe3JldHVybiBuZXcgaSh0aGlzKX19LHU9dCtcIiBJdGVyYXRvclwiLGg9ITEscD1lLnByb3RvdHlwZSxfPXBbWGFdfHxwW1wiQEBpdGVyYXRvclwiXXx8ciYmcFtyXSxFPSFKYSYmX3x8bChyKSxtPVwiQXJyYXlcIj09dCYmcC5lbnRyaWVzfHxfO2lmKG0mJihhPVdhKG0uY2FsbChuZXcgZSkpKSE9PU9iamVjdC5wcm90b3R5cGUmJmEubmV4dCYmKEhhKGEsdSwhMCwhMCksWWFbdV09ZWMpLHphJiZyPT1aYSYmXyYmXy5uYW1lIT09WmEmJihoPSEwLEU9ZnVuY3Rpb24oKXtyZXR1cm4gQmEoXyx0aGlzKX0pLHIpaWYoYz17dmFsdWVzOmwoWmEpLGtleXM6bz9FOmwoUWEpLGVudHJpZXM6bCgkYSl9LHMpZm9yKGQgaW4gYykoSmF8fGh8fCEoZCBpbiBwKSkmJkthKHAsZCxjW2RdKTtlbHNlIEZhKHt0YXJnZXQ6dCxwcm90bzohMCxmb3JjZWQ6SmF8fGh9LGMpO3JldHVybiBzJiZwW1hhXSE9PUUmJkthKHAsWGEsRSx7bmFtZTpyfSksWWFbdF09RSxjfSxpYz1mdW5jdGlvbihlLHQpe3JldHVybnt2YWx1ZTplLGRvbmU6dH19LG5jPVoscmM9eG8sb2M9cmE7UXQuZjt2YXIgc2M9dGMsYWM9aWMsY2M9XCJBcnJheSBJdGVyYXRvclwiLGRjPW9jLnNldCxsYz1vYy5nZXR0ZXJGb3IoY2MpO3NjKEFycmF5LFwiQXJyYXlcIiwoZnVuY3Rpb24oZSx0KXtkYyh0aGlzLHt0eXBlOmNjLHRhcmdldDpuYyhlKSxpbmRleDowLGtpbmQ6dH0pfSksKGZ1bmN0aW9uKCl7dmFyIGU9bGModGhpcyksdD1lLnRhcmdldCxpPWUua2luZCxuPWUuaW5kZXgrKztyZXR1cm4hdHx8bj49dC5sZW5ndGg/KGUudGFyZ2V0PXZvaWQgMCxhYyh2b2lkIDAsITApKTphYyhcImtleXNcIj09aT9uOlwidmFsdWVzXCI9PWk/dFtuXTpbbix0W25dXSwhMSl9KSxcInZhbHVlc1wiKSxyYy5Bcmd1bWVudHM9cmMuQXJyYXk7dmFyIHVjPVF0LGhjPWZ1bmN0aW9uKGUsdCxpKXtyZXR1cm4gdWMuZihlLHQsaSl9LHBjPWFlLF9jPWhjLEVjPU4sbWM9aHQoXCJzcGVjaWVzXCIpLGZjPWwsVGM9VHlwZUVycm9yLFNjPWZ1bmN0aW9uKGUsdCl7aWYoZmModCxlKSlyZXR1cm4gZTt0aHJvdyBUYyhcIkluY29ycmVjdCBpbnZvY2F0aW9uXCIpfSxnYz13LFJjPUhlLENjPWQoRnVuY3Rpb24udG9TdHJpbmcpO2djKFJjLmluc3BlY3RTb3VyY2UpfHwoUmMuaW5zcGVjdFNvdXJjZT1mdW5jdGlvbihlKXtyZXR1cm4gQ2MoZSl9KTt2YXIgSWM9UmMuaW5zcGVjdFNvdXJjZSx2Yz1kLHljPW4sQWM9dyxiYz1wbix3Yz1JYyxPYz1mdW5jdGlvbigpe30sTmM9W10sRGM9YWUoXCJSZWZsZWN0XCIsXCJjb25zdHJ1Y3RcIiksUGM9L15cXHMqKD86Y2xhc3N8ZnVuY3Rpb24pXFxiLyxMYz12YyhQYy5leGVjKSxrYz0hUGMuZXhlYyhPYyksTWM9ZnVuY3Rpb24oZSl7aWYoIUFjKGUpKXJldHVybiExO3RyeXtyZXR1cm4gRGMoT2MsTmMsZSksITB9Y2F0Y2goZSl7cmV0dXJuITF9fSxVYz1mdW5jdGlvbihlKXtpZighQWMoZSkpcmV0dXJuITE7c3dpdGNoKGJjKGUpKXtjYXNlXCJBc3luY0Z1bmN0aW9uXCI6Y2FzZVwiR2VuZXJhdG9yRnVuY3Rpb25cIjpjYXNlXCJBc3luY0dlbmVyYXRvckZ1bmN0aW9uXCI6cmV0dXJuITF9dHJ5e3JldHVybiBrY3x8ISFMYyhQYyx3YyhlKSl9Y2F0Y2goZSl7cmV0dXJuITB9fTtVYy5zaGFtPSEwO3ZhciB4YyxWYyxGYyxCYyxqYz0hRGN8fHljKChmdW5jdGlvbigpe3ZhciBlO3JldHVybiBNYyhNYy5jYWxsKXx8IU1jKE9iamVjdCl8fCFNYygoZnVuY3Rpb24oKXtlPSEwfSkpfHxlfSkpP1VjOk1jLEdjPWpjLFdjPWJlLEhjPVR5cGVFcnJvcixLYz1paSxZYz1mdW5jdGlvbihlKXtpZihHYyhlKSlyZXR1cm4gZTt0aHJvdyBIYyhXYyhlKStcIiBpcyBub3QgYSBjb25zdHJ1Y3RvclwiKX0scWM9WSx6Yz1odChcInNwZWNpZXNcIiksSmM9ZnVuY3Rpb24oZSx0KXt2YXIgaSxuPUtjKGUpLmNvbnN0cnVjdG9yO3JldHVybiB2b2lkIDA9PT1ufHxxYyhpPUtjKG4pW3pjXSk/dDpZYyhpKX0sWGM9ZChbXS5zbGljZSksUWM9VHlwZUVycm9yLFpjPWZ1bmN0aW9uKGUsdCl7aWYoZTx0KXRocm93IFFjKFwiTm90IGVub3VnaCBhcmd1bWVudHNcIik7cmV0dXJuIGV9LCRjPS8oPzppcGFkfGlwaG9uZXxpcG9kKS4qYXBwbGV3ZWJraXQvaS50ZXN0KGNlKSxlZD1oLHRkPWYsaWQ9WHQsbmQ9dyxyZD1aZSxvZD1uLHNkPWNvLGFkPVhjLGNkPUF0LGRkPVpjLGxkPSRjLHVkPWpuLGhkPWVkLnNldEltbWVkaWF0ZSxwZD1lZC5jbGVhckltbWVkaWF0ZSxfZD1lZC5wcm9jZXNzLEVkPWVkLkRpc3BhdGNoLG1kPWVkLkZ1bmN0aW9uLGZkPWVkLk1lc3NhZ2VDaGFubmVsLFRkPWVkLlN0cmluZyxTZD0wLGdkPXt9LFJkPVwib25yZWFkeXN0YXRlY2hhbmdlXCI7b2QoKGZ1bmN0aW9uKCl7eGM9ZWQubG9jYXRpb259KSk7dmFyIENkPWZ1bmN0aW9uKGUpe2lmKHJkKGdkLGUpKXt2YXIgdD1nZFtlXTtkZWxldGUgZ2RbZV0sdCgpfX0sSWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKCl7Q2QoZSl9fSx2ZD1mdW5jdGlvbihlKXtDZChlLmRhdGEpfSx5ZD1mdW5jdGlvbihlKXtlZC5wb3N0TWVzc2FnZShUZChlKSx4Yy5wcm90b2NvbCtcIi8vXCIreGMuaG9zdCl9O2hkJiZwZHx8KGhkPWZ1bmN0aW9uKGUpe2RkKGFyZ3VtZW50cy5sZW5ndGgsMSk7dmFyIHQ9bmQoZSk/ZTptZChlKSxpPWFkKGFyZ3VtZW50cywxKTtyZXR1cm4gZ2RbKytTZF09ZnVuY3Rpb24oKXt0ZCh0LHZvaWQgMCxpKX0sVmMoU2QpLFNkfSxwZD1mdW5jdGlvbihlKXtkZWxldGUgZ2RbZV19LHVkP1ZjPWZ1bmN0aW9uKGUpe19kLm5leHRUaWNrKElkKGUpKX06RWQmJkVkLm5vdz9WYz1mdW5jdGlvbihlKXtFZC5ub3coSWQoZSkpfTpmZCYmIWxkPyhCYz0oRmM9bmV3IGZkKS5wb3J0MixGYy5wb3J0MS5vbm1lc3NhZ2U9dmQsVmM9aWQoQmMucG9zdE1lc3NhZ2UsQmMpKTplZC5hZGRFdmVudExpc3RlbmVyJiZuZChlZC5wb3N0TWVzc2FnZSkmJiFlZC5pbXBvcnRTY3JpcHRzJiZ4YyYmXCJmaWxlOlwiIT09eGMucHJvdG9jb2wmJiFvZCh5ZCk/KFZjPXlkLGVkLmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsdmQsITEpKTpWYz1SZCBpbiBjZChcInNjcmlwdFwiKT9mdW5jdGlvbihlKXtzZC5hcHBlbmRDaGlsZChjZChcInNjcmlwdFwiKSlbUmRdPWZ1bmN0aW9uKCl7c2QucmVtb3ZlQ2hpbGQodGhpcyksQ2QoZSl9fTpmdW5jdGlvbihlKXtzZXRUaW1lb3V0KElkKGUpLDApfSk7dmFyIEFkPXtzZXQ6aGQsY2xlYXI6cGR9LGJkPWZ1bmN0aW9uKCl7dGhpcy5oZWFkPW51bGwsdGhpcy50YWlsPW51bGx9O2JkLnByb3RvdHlwZT17YWRkOmZ1bmN0aW9uKGUpe3ZhciB0PXtpdGVtOmUsbmV4dDpudWxsfSxpPXRoaXMudGFpbDtpP2kubmV4dD10OnRoaXMuaGVhZD10LHRoaXMudGFpbD10fSxnZXQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmhlYWQ7aWYoZSlyZXR1cm4gbnVsbD09PSh0aGlzLmhlYWQ9ZS5uZXh0KSYmKHRoaXMudGFpbD1udWxsKSxlLml0ZW19fTt2YXIgd2QsT2QsTmQsRGQsUGQsTGQ9YmQsa2Q9L2lwYWR8aXBob25lfGlwb2QvaS50ZXN0KGNlKSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFBlYmJsZSxNZD0vd2ViMHMoPyEuKmNocm9tZSkvaS50ZXN0KGNlKSxVZD1oLHhkPVh0LFZkPU8uZixGZD1BZC5zZXQsQmQ9TGQsamQ9JGMsR2Q9a2QsV2Q9TWQsSGQ9am4sS2Q9VWQuTXV0YXRpb25PYnNlcnZlcnx8VWQuV2ViS2l0TXV0YXRpb25PYnNlcnZlcixZZD1VZC5kb2N1bWVudCxxZD1VZC5wcm9jZXNzLHpkPVVkLlByb21pc2UsSmQ9VmQoVWQsXCJxdWV1ZU1pY3JvdGFza1wiKSxYZD1KZCYmSmQudmFsdWU7aWYoIVhkKXt2YXIgUWQ9bmV3IEJkLFpkPWZ1bmN0aW9uKCl7dmFyIGUsdDtmb3IoSGQmJihlPXFkLmRvbWFpbikmJmUuZXhpdCgpO3Q9UWQuZ2V0KCk7KXRyeXt0KCl9Y2F0Y2goZSl7dGhyb3cgUWQuaGVhZCYmd2QoKSxlfWUmJmUuZW50ZXIoKX07amR8fEhkfHxXZHx8IUtkfHwhWWQ/IUdkJiZ6ZCYmemQucmVzb2x2ZT8oKERkPXpkLnJlc29sdmUodm9pZCAwKSkuY29uc3RydWN0b3I9emQsUGQ9eGQoRGQudGhlbixEZCksd2Q9ZnVuY3Rpb24oKXtQZChaZCl9KTpIZD93ZD1mdW5jdGlvbigpe3FkLm5leHRUaWNrKFpkKX06KEZkPXhkKEZkLFVkKSx3ZD1mdW5jdGlvbigpe0ZkKFpkKX0pOihPZD0hMCxOZD1ZZC5jcmVhdGVUZXh0Tm9kZShcIlwiKSxuZXcgS2QoWmQpLm9ic2VydmUoTmQse2NoYXJhY3RlckRhdGE6ITB9KSx3ZD1mdW5jdGlvbigpe05kLmRhdGE9T2Q9IU9kfSksWGQ9ZnVuY3Rpb24oZSl7UWQuaGVhZHx8d2QoKSxRZC5hZGQoZSl9fXZhciAkZD1YZCxlbD1mdW5jdGlvbihlKXt0cnl7cmV0dXJue2Vycm9yOiExLHZhbHVlOmUoKX19Y2F0Y2goZSl7cmV0dXJue2Vycm9yOiEwLHZhbHVlOmV9fX0sdGw9aC5Qcm9taXNlLGlsPVwib2JqZWN0XCI9PXR5cGVvZiBEZW5vJiZEZW5vJiZcIm9iamVjdFwiPT10eXBlb2YgRGVuby52ZXJzaW9uLG5sPSFpbCYmIWpuJiZcIm9iamVjdFwiPT10eXBlb2Ygd2luZG93JiZcIm9iamVjdFwiPT10eXBlb2YgZG9jdW1lbnQscmw9aCxvbD10bCxzbD13LGFsPVl0LGNsPUljLGRsPWh0LGxsPW5sLHVsPWlsLGhsPUVlLHBsPW9sJiZvbC5wcm90b3R5cGUsX2w9ZGwoXCJzcGVjaWVzXCIpLEVsPSExLG1sPXNsKHJsLlByb21pc2VSZWplY3Rpb25FdmVudCksZmw9YWwoXCJQcm9taXNlXCIsKGZ1bmN0aW9uKCl7dmFyIGU9Y2wob2wpLHQ9ZSE9PVN0cmluZyhvbCk7aWYoIXQmJjY2PT09aGwpcmV0dXJuITA7aWYoIXBsLmNhdGNofHwhcGwuZmluYWxseSlyZXR1cm4hMDtpZighaGx8fGhsPDUxfHwhL25hdGl2ZSBjb2RlLy50ZXN0KGUpKXt2YXIgaT1uZXcgb2woKGZ1bmN0aW9uKGUpe2UoMSl9KSksbj1mdW5jdGlvbihlKXtlKChmdW5jdGlvbigpe30pLChmdW5jdGlvbigpe30pKX07aWYoKGkuY29uc3RydWN0b3I9e30pW19sXT1uLCEoRWw9aS50aGVuKChmdW5jdGlvbigpe30pKWluc3RhbmNlb2YgbikpcmV0dXJuITB9cmV0dXJuIXQmJihsbHx8dWwpJiYhbWx9KSksVGw9e0NPTlNUUlVDVE9SOmZsLFJFSkVDVElPTl9FVkVOVDptbCxTVUJDTEFTU0lORzpFbH0sU2w9e30sZ2w9RGUsUmw9VHlwZUVycm9yLENsPWZ1bmN0aW9uKGUpe3ZhciB0LGk7dGhpcy5wcm9taXNlPW5ldyBlKChmdW5jdGlvbihlLG4pe2lmKHZvaWQgMCE9PXR8fHZvaWQgMCE9PWkpdGhyb3cgUmwoXCJCYWQgUHJvbWlzZSBjb25zdHJ1Y3RvclwiKTt0PWUsaT1ufSkpLHRoaXMucmVzb2x2ZT1nbCh0KSx0aGlzLnJlamVjdD1nbChpKX07U2wuZj1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IENsKGUpfTt2YXIgSWwsdmwseWw9d2ksQWw9am4sYmw9aCx3bD1MLE9sPWhhLE5sPURhLERsPWZ1bmN0aW9uKGUpe3ZhciB0PXBjKGUpO0VjJiZ0JiYhdFttY10mJl9jKHQsbWMse2NvbmZpZ3VyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc319KX0sUGw9RGUsTGw9dyxrbD10ZSxNbD1TYyxVbD1KYyx4bD1BZC5zZXQsVmw9JGQsRmw9ZnVuY3Rpb24oZSx0KXt0cnl7MT09YXJndW1lbnRzLmxlbmd0aD9jb25zb2xlLmVycm9yKGUpOmNvbnNvbGUuZXJyb3IoZSx0KX1jYXRjaChlKXt9fSxCbD1lbCxqbD1MZCxHbD1yYSxXbD10bCxIbD1UbCxLbD1TbCxZbD1cIlByb21pc2VcIixxbD1IbC5DT05TVFJVQ1RPUix6bD1IbC5SRUpFQ1RJT05fRVZFTlQsSmw9R2wuZ2V0dGVyRm9yKFlsKSxYbD1HbC5zZXQsUWw9V2wmJldsLnByb3RvdHlwZSxabD1XbCwkbD1RbCxldT1ibC5UeXBlRXJyb3IsdHU9YmwuZG9jdW1lbnQsaXU9YmwucHJvY2VzcyxudT1LbC5mLHJ1PW51LG91PSEhKHR1JiZ0dS5jcmVhdGVFdmVudCYmYmwuZGlzcGF0Y2hFdmVudCksc3U9XCJ1bmhhbmRsZWRyZWplY3Rpb25cIixhdT1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4hKCFrbChlKXx8IUxsKHQ9ZS50aGVuKSkmJnR9LGN1PWZ1bmN0aW9uKGUsdCl7dmFyIGksbixyLG89dC52YWx1ZSxzPTE9PXQuc3RhdGUsYT1zP2Uub2s6ZS5mYWlsLGM9ZS5yZXNvbHZlLGQ9ZS5yZWplY3QsbD1lLmRvbWFpbjt0cnl7YT8oc3x8KDI9PT10LnJlamVjdGlvbiYmcHUodCksdC5yZWplY3Rpb249MSksITA9PT1hP2k9bzoobCYmbC5lbnRlcigpLGk9YShvKSxsJiYobC5leGl0KCkscj0hMCkpLGk9PT1lLnByb21pc2U/ZChldShcIlByb21pc2UtY2hhaW4gY3ljbGVcIikpOihuPWF1KGkpKT93bChuLGksYyxkKTpjKGkpKTpkKG8pfWNhdGNoKGUpe2wmJiFyJiZsLmV4aXQoKSxkKGUpfX0sZHU9ZnVuY3Rpb24oZSx0KXtlLm5vdGlmaWVkfHwoZS5ub3RpZmllZD0hMCxWbCgoZnVuY3Rpb24oKXtmb3IodmFyIGksbj1lLnJlYWN0aW9ucztpPW4uZ2V0KCk7KWN1KGksZSk7ZS5ub3RpZmllZD0hMSx0JiYhZS5yZWplY3Rpb24mJnV1KGUpfSkpKX0sbHU9ZnVuY3Rpb24oZSx0LGkpe3ZhciBuLHI7b3U/KChuPXR1LmNyZWF0ZUV2ZW50KFwiRXZlbnRcIikpLnByb21pc2U9dCxuLnJlYXNvbj1pLG4uaW5pdEV2ZW50KGUsITEsITApLGJsLmRpc3BhdGNoRXZlbnQobikpOm49e3Byb21pc2U6dCxyZWFzb246aX0sIXpsJiYocj1ibFtcIm9uXCIrZV0pP3Iobik6ZT09PXN1JiZGbChcIlVuaGFuZGxlZCBwcm9taXNlIHJlamVjdGlvblwiLGkpfSx1dT1mdW5jdGlvbihlKXt3bCh4bCxibCwoZnVuY3Rpb24oKXt2YXIgdCxpPWUuZmFjYWRlLG49ZS52YWx1ZTtpZihodShlKSYmKHQ9QmwoKGZ1bmN0aW9uKCl7QWw/aXUuZW1pdChcInVuaGFuZGxlZFJlamVjdGlvblwiLG4saSk6bHUoc3UsaSxuKX0pKSxlLnJlamVjdGlvbj1BbHx8aHUoZSk/MjoxLHQuZXJyb3IpKXRocm93IHQudmFsdWV9KSl9LGh1PWZ1bmN0aW9uKGUpe3JldHVybiAxIT09ZS5yZWplY3Rpb24mJiFlLnBhcmVudH0scHU9ZnVuY3Rpb24oZSl7d2woeGwsYmwsKGZ1bmN0aW9uKCl7dmFyIHQ9ZS5mYWNhZGU7QWw/aXUuZW1pdChcInJlamVjdGlvbkhhbmRsZWRcIix0KTpsdShcInJlamVjdGlvbmhhbmRsZWRcIix0LGUudmFsdWUpfSkpfSxfdT1mdW5jdGlvbihlLHQsaSl7cmV0dXJuIGZ1bmN0aW9uKG4pe2UodCxuLGkpfX0sRXU9ZnVuY3Rpb24oZSx0LGkpe2UuZG9uZXx8KGUuZG9uZT0hMCxpJiYoZT1pKSxlLnZhbHVlPXQsZS5zdGF0ZT0yLGR1KGUsITApKX0sbXU9ZnVuY3Rpb24oZSx0LGkpe2lmKCFlLmRvbmUpe2UuZG9uZT0hMCxpJiYoZT1pKTt0cnl7aWYoZS5mYWNhZGU9PT10KXRocm93IGV1KFwiUHJvbWlzZSBjYW4ndCBiZSByZXNvbHZlZCBpdHNlbGZcIik7dmFyIG49YXUodCk7bj9WbCgoZnVuY3Rpb24oKXt2YXIgaT17ZG9uZTohMX07dHJ5e3dsKG4sdCxfdShtdSxpLGUpLF91KEV1LGksZSkpfWNhdGNoKHQpe0V1KGksdCxlKX19KSk6KGUudmFsdWU9dCxlLnN0YXRlPTEsZHUoZSwhMSkpfWNhdGNoKHQpe0V1KHtkb25lOiExfSx0LGUpfX19O3FsJiYoJGw9KFpsPWZ1bmN0aW9uKGUpe01sKHRoaXMsJGwpLFBsKGUpLHdsKElsLHRoaXMpO3ZhciB0PUpsKHRoaXMpO3RyeXtlKF91KG11LHQpLF91KEV1LHQpKX1jYXRjaChlKXtFdSh0LGUpfX0pLnByb3RvdHlwZSwoSWw9ZnVuY3Rpb24oZSl7WGwodGhpcyx7dHlwZTpZbCxkb25lOiExLG5vdGlmaWVkOiExLHBhcmVudDohMSxyZWFjdGlvbnM6bmV3IGpsLHJlamVjdGlvbjohMSxzdGF0ZTowLHZhbHVlOnZvaWQgMH0pfSkucHJvdG90eXBlPU9sKCRsLFwidGhlblwiLChmdW5jdGlvbihlLHQpe3ZhciBpPUpsKHRoaXMpLG49bnUoVWwodGhpcyxabCkpO3JldHVybiBpLnBhcmVudD0hMCxuLm9rPSFMbChlKXx8ZSxuLmZhaWw9TGwodCkmJnQsbi5kb21haW49QWw/aXUuZG9tYWluOnZvaWQgMCwwPT1pLnN0YXRlP2kucmVhY3Rpb25zLmFkZChuKTpWbCgoZnVuY3Rpb24oKXtjdShuLGkpfSkpLG4ucHJvbWlzZX0pKSx2bD1mdW5jdGlvbigpe3ZhciBlPW5ldyBJbCx0PUpsKGUpO3RoaXMucHJvbWlzZT1lLHRoaXMucmVzb2x2ZT1fdShtdSx0KSx0aGlzLnJlamVjdD1fdShFdSx0KX0sS2wuZj1udT1mdW5jdGlvbihlKXtyZXR1cm4gZT09PVpsfHx1bmRlZmluZWQ9PT1lP25ldyB2bChlKTpydShlKX0pLHlsKHtnbG9iYWw6ITAsY29uc3RydWN0b3I6ITAsd3JhcDohMCxmb3JjZWQ6cWx9LHtQcm9taXNlOlpsfSksTmwoWmwsWWwsITEsITApLERsKFlsKTt2YXIgZnU9aHQoXCJpdGVyYXRvclwiKSxUdT0hMTt0cnl7dmFyIFN1PTAsZ3U9e25leHQ6ZnVuY3Rpb24oKXtyZXR1cm57ZG9uZTohIVN1Kyt9fSxyZXR1cm46ZnVuY3Rpb24oKXtUdT0hMH19O2d1W2Z1XT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSxBcnJheS5mcm9tKGd1LChmdW5jdGlvbigpe3Rocm93IDJ9KSl9Y2F0Y2goZSl7fXZhciBSdT10bCxDdT1mdW5jdGlvbihlLHQpe2lmKCF0JiYhVHUpcmV0dXJuITE7dmFyIGk9ITE7dHJ5e3ZhciBuPXt9O25bZnVdPWZ1bmN0aW9uKCl7cmV0dXJue25leHQ6ZnVuY3Rpb24oKXtyZXR1cm57ZG9uZTppPSEwfX19fSxlKG4pfWNhdGNoKGUpe31yZXR1cm4gaX0sSXU9VGwuQ09OU1RSVUNUT1J8fCFDdSgoZnVuY3Rpb24oZSl7UnUuYWxsKGUpLnRoZW4odm9pZCAwLChmdW5jdGlvbigpe30pKX0pKSx2dT1MLHl1PURlLEF1PVNsLGJ1PWVsLHd1PVRzO3dpKHt0YXJnZXQ6XCJQcm9taXNlXCIsc3RhdDohMCxmb3JjZWQ6SXV9LHthbGw6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxpPUF1LmYodCksbj1pLnJlc29sdmUscj1pLnJlamVjdCxvPWJ1KChmdW5jdGlvbigpe3ZhciBpPXl1KHQucmVzb2x2ZSksbz1bXSxzPTAsYT0xO3d1KGUsKGZ1bmN0aW9uKGUpe3ZhciBjPXMrKyxkPSExO2ErKyx2dShpLHQsZSkudGhlbigoZnVuY3Rpb24oZSl7ZHx8KGQ9ITAsb1tjXT1lLC0tYXx8bihvKSl9KSxyKX0pKSwtLWF8fG4obyl9KSk7cmV0dXJuIG8uZXJyb3ImJnIoby52YWx1ZSksaS5wcm9taXNlfX0pO3ZhciBPdT13aSxOdT1UbC5DT05TVFJVQ1RPUjt0bCYmdGwucHJvdG90eXBlLE91KHt0YXJnZXQ6XCJQcm9taXNlXCIscHJvdG86ITAsZm9yY2VkOk51LHJlYWw6ITB9LHtjYXRjaDpmdW5jdGlvbihlKXtyZXR1cm4gdGhpcy50aGVuKHZvaWQgMCxlKX19KTt2YXIgRHU9TCxQdT1EZSxMdT1TbCxrdT1lbCxNdT1Uczt3aSh7dGFyZ2V0OlwiUHJvbWlzZVwiLHN0YXQ6ITAsZm9yY2VkOkl1fSx7cmFjZTpmdW5jdGlvbihlKXt2YXIgdD10aGlzLGk9THUuZih0KSxuPWkucmVqZWN0LHI9a3UoKGZ1bmN0aW9uKCl7dmFyIHI9UHUodC5yZXNvbHZlKTtNdShlLChmdW5jdGlvbihlKXtEdShyLHQsZSkudGhlbihpLnJlc29sdmUsbil9KSl9KSk7cmV0dXJuIHIuZXJyb3ImJm4oci52YWx1ZSksaS5wcm9taXNlfX0pO3ZhciBVdT1MLHh1PVNsO3dpKHt0YXJnZXQ6XCJQcm9taXNlXCIsc3RhdDohMCxmb3JjZWQ6VGwuQ09OU1RSVUNUT1J9LHtyZWplY3Q6ZnVuY3Rpb24oZSl7dmFyIHQ9eHUuZih0aGlzKTtyZXR1cm4gVXUodC5yZWplY3Qsdm9pZCAwLGUpLHQucHJvbWlzZX19KTt2YXIgVnU9aWksRnU9dGUsQnU9U2wsanU9ZnVuY3Rpb24oZSx0KXtpZihWdShlKSxGdSh0KSYmdC5jb25zdHJ1Y3Rvcj09PWUpcmV0dXJuIHQ7dmFyIGk9QnUuZihlKTtyZXR1cm4oMCxpLnJlc29sdmUpKHQpLGkucHJvbWlzZX0sR3U9d2ksV3U9dGwsSHU9VGwuQ09OU1RSVUNUT1IsS3U9anUsWXU9YWUoXCJQcm9taXNlXCIpLHF1PSFIdTtHdSh7dGFyZ2V0OlwiUHJvbWlzZVwiLHN0YXQ6ITAsZm9yY2VkOnRydWV9LHtyZXNvbHZlOmZ1bmN0aW9uKGUpe3JldHVybiBLdShxdSYmdGhpcz09PVl1P1d1OnRoaXMsZSl9fSk7dmFyIHp1PUwsSnU9RGUsWHU9U2wsUXU9ZWwsWnU9VHM7d2koe3RhcmdldDpcIlByb21pc2VcIixzdGF0OiEwLGZvcmNlZDpJdX0se2FsbFNldHRsZWQ6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxpPVh1LmYodCksbj1pLnJlc29sdmUscj1pLnJlamVjdCxvPVF1KChmdW5jdGlvbigpe3ZhciBpPUp1KHQucmVzb2x2ZSkscj1bXSxvPTAscz0xO1p1KGUsKGZ1bmN0aW9uKGUpe3ZhciBhPW8rKyxjPSExO3MrKyx6dShpLHQsZSkudGhlbigoZnVuY3Rpb24oZSl7Y3x8KGM9ITAsclthXT17c3RhdHVzOlwiZnVsZmlsbGVkXCIsdmFsdWU6ZX0sLS1zfHxuKHIpKX0pLChmdW5jdGlvbihlKXtjfHwoYz0hMCxyW2FdPXtzdGF0dXM6XCJyZWplY3RlZFwiLHJlYXNvbjplfSwtLXN8fG4ocikpfSkpfSkpLC0tc3x8bihyKX0pKTtyZXR1cm4gby5lcnJvciYmcihvLnZhbHVlKSxpLnByb21pc2V9fSk7dmFyICR1PUwsZWg9RGUsdGg9YWUsaWg9U2wsbmg9ZWwscmg9VHMsb2g9XCJObyBvbmUgcHJvbWlzZSByZXNvbHZlZFwiO3dpKHt0YXJnZXQ6XCJQcm9taXNlXCIsc3RhdDohMCxmb3JjZWQ6SXV9LHthbnk6ZnVuY3Rpb24oZSl7dmFyIHQ9dGhpcyxpPXRoKFwiQWdncmVnYXRlRXJyb3JcIiksbj1paC5mKHQpLHI9bi5yZXNvbHZlLG89bi5yZWplY3Qscz1uaCgoZnVuY3Rpb24oKXt2YXIgbj1laCh0LnJlc29sdmUpLHM9W10sYT0wLGM9MSxkPSExO3JoKGUsKGZ1bmN0aW9uKGUpe3ZhciBsPWErKyx1PSExO2MrKywkdShuLHQsZSkudGhlbigoZnVuY3Rpb24oZSl7dXx8ZHx8KGQ9ITAscihlKSl9KSwoZnVuY3Rpb24oZSl7dXx8ZHx8KHU9ITAsc1tsXT1lLC0tY3x8byhuZXcgaShzLG9oKSkpfSkpfSkpLC0tY3x8byhuZXcgaShzLG9oKSl9KSk7cmV0dXJuIHMuZXJyb3ImJm8ocy52YWx1ZSksbi5wcm9taXNlfX0pO3ZhciBzaD13aSxhaD10bCxjaD1uLGRoPWFlLGxoPXcsdWg9SmMsaGg9anUscGg9YWgmJmFoLnByb3RvdHlwZTtzaCh7dGFyZ2V0OlwiUHJvbWlzZVwiLHByb3RvOiEwLHJlYWw6ITAsZm9yY2VkOiEhYWgmJmNoKChmdW5jdGlvbigpe3BoLmZpbmFsbHkuY2FsbCh7dGhlbjpmdW5jdGlvbigpe319LChmdW5jdGlvbigpe30pKX0pKX0se2ZpbmFsbHk6ZnVuY3Rpb24oZSl7dmFyIHQ9dWgodGhpcyxkaChcIlByb21pc2VcIikpLGk9bGgoZSk7cmV0dXJuIHRoaXMudGhlbihpP2Z1bmN0aW9uKGkpe3JldHVybiBoaCh0LGUoKSkudGhlbigoZnVuY3Rpb24oKXtyZXR1cm4gaX0pKX06ZSxpP2Z1bmN0aW9uKGkpe3JldHVybiBoaCh0LGUoKSkudGhlbigoZnVuY3Rpb24oKXt0aHJvdyBpfSkpfTplKX19KTt2YXIgX2g9ZCxFaD1MaSxtaD1tbixmaD1KLFRoPV9oKFwiXCIuY2hhckF0KSxTaD1faChcIlwiLmNoYXJDb2RlQXQpLGdoPV9oKFwiXCIuc2xpY2UpLFJoPWZ1bmN0aW9uKGUpe3JldHVybiBmdW5jdGlvbih0LGkpe3ZhciBuLHIsbz1taChmaCh0KSkscz1FaChpKSxhPW8ubGVuZ3RoO3JldHVybiBzPDB8fHM+PWE/ZT9cIlwiOnZvaWQgMDoobj1TaChvLHMpKTw1NTI5Nnx8bj41NjMxOXx8cysxPT09YXx8KHI9U2gobyxzKzEpKTw1NjMyMHx8cj41NzM0Mz9lP1RoKG8scyk6bjplP2doKG8scyxzKzIpOnItNTYzMjArKG4tNTUyOTY8PDEwKSs2NTUzNn19LENoPXtjb2RlQXQ6UmgoITEpLGNoYXJBdDpSaCghMCl9LEloPUNoLmNoYXJBdCx2aD1tbix5aD1yYSxBaD10YyxiaD1pYyx3aD1cIlN0cmluZyBJdGVyYXRvclwiLE9oPXloLnNldCxOaD15aC5nZXR0ZXJGb3Iod2gpO0FoKFN0cmluZyxcIlN0cmluZ1wiLChmdW5jdGlvbihlKXtPaCh0aGlzLHt0eXBlOndoLHN0cmluZzp2aChlKSxpbmRleDowfSl9KSwoZnVuY3Rpb24oKXt2YXIgZSx0PU5oKHRoaXMpLGk9dC5zdHJpbmcsbj10LmluZGV4O3JldHVybiBuPj1pLmxlbmd0aD9iaCh2b2lkIDAsITApOihlPUloKGksbiksdC5pbmRleCs9ZS5sZW5ndGgsYmgoZSwhMSkpfSkpO3ZhciBEaD1pZS5Qcm9taXNlLFBoPXtDU1NSdWxlTGlzdDowLENTU1N0eWxlRGVjbGFyYXRpb246MCxDU1NWYWx1ZUxpc3Q6MCxDbGllbnRSZWN0TGlzdDowLERPTVJlY3RMaXN0OjAsRE9NU3RyaW5nTGlzdDowLERPTVRva2VuTGlzdDoxLERhdGFUcmFuc2Zlckl0ZW1MaXN0OjAsRmlsZUxpc3Q6MCxIVE1MQWxsQ29sbGVjdGlvbjowLEhUTUxDb2xsZWN0aW9uOjAsSFRNTEZvcm1FbGVtZW50OjAsSFRNTFNlbGVjdEVsZW1lbnQ6MCxNZWRpYUxpc3Q6MCxNaW1lVHlwZUFycmF5OjAsTmFtZWROb2RlTWFwOjAsTm9kZUxpc3Q6MSxQYWludFJlcXVlc3RMaXN0OjAsUGx1Z2luOjAsUGx1Z2luQXJyYXk6MCxTVkdMZW5ndGhMaXN0OjAsU1ZHTnVtYmVyTGlzdDowLFNWR1BhdGhTZWdMaXN0OjAsU1ZHUG9pbnRMaXN0OjAsU1ZHU3RyaW5nTGlzdDowLFNWR1RyYW5zZm9ybUxpc3Q6MCxTb3VyY2VCdWZmZXJMaXN0OjAsU3R5bGVTaGVldExpc3Q6MCxUZXh0VHJhY2tDdWVMaXN0OjAsVGV4dFRyYWNrTGlzdDowLFRvdWNoTGlzdDowfSxMaD1oLGtoPXBuLE1oPW1pLFVoPXhvLHhoPWh0KFwidG9TdHJpbmdUYWdcIik7Zm9yKHZhciBWaCBpbiBQaCl7dmFyIEZoPUxoW1ZoXSxCaD1GaCYmRmgucHJvdG90eXBlO0JoJiZraChCaCkhPT14aCYmTWgoQmgseGgsVmgpLFVoW1ZoXT1VaC5BcnJheX12YXIgamg9RGgsR2g9aShqaCk7Y29uc3QgV2g9aXI7ZnVuY3Rpb24gSGgoZSx0KXtjb25zdCBpPWUmJmUubmF2aWdhdG9yO2lmKCFpLm1lZGlhRGV2aWNlcylyZXR1cm47Y29uc3Qgbj1mdW5jdGlvbihlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8ZS5tYW5kYXRvcnl8fGUub3B0aW9uYWwpcmV0dXJuIGU7Y29uc3QgdD17fTtyZXR1cm4gT2JqZWN0LmtleXMoZSkuZm9yRWFjaCgoaT0+e2lmKFwicmVxdWlyZVwiPT09aXx8XCJhZHZhbmNlZFwiPT09aXx8XCJtZWRpYVNvdXJjZVwiPT09aSlyZXR1cm47Y29uc3Qgbj1cIm9iamVjdFwiPT10eXBlb2YgZVtpXT9lW2ldOntpZGVhbDplW2ldfTt2b2lkIDAhPT1uLmV4YWN0JiZcIm51bWJlclwiPT10eXBlb2Ygbi5leGFjdCYmKG4ubWluPW4ubWF4PW4uZXhhY3QpO2NvbnN0IHI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT9lK3QuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrdC5zbGljZSgxKTpcImRldmljZUlkXCI9PT10P1wic291cmNlSWRcIjp0fTtpZih2b2lkIDAhPT1uLmlkZWFsKXt0Lm9wdGlvbmFsPXQub3B0aW9uYWx8fFtdO2xldCBlPXt9O1wibnVtYmVyXCI9PXR5cGVvZiBuLmlkZWFsPyhlW3IoXCJtaW5cIixpKV09bi5pZGVhbCx0Lm9wdGlvbmFsLnB1c2goZSksZT17fSxlW3IoXCJtYXhcIixpKV09bi5pZGVhbCx0Lm9wdGlvbmFsLnB1c2goZSkpOihlW3IoXCJcIixpKV09bi5pZGVhbCx0Lm9wdGlvbmFsLnB1c2goZSkpfXZvaWQgMCE9PW4uZXhhY3QmJlwibnVtYmVyXCIhPXR5cGVvZiBuLmV4YWN0Pyh0Lm1hbmRhdG9yeT10Lm1hbmRhdG9yeXx8e30sdC5tYW5kYXRvcnlbcihcIlwiLGkpXT1uLmV4YWN0KTpbXCJtaW5cIixcIm1heFwiXS5mb3JFYWNoKChlPT57dm9pZCAwIT09bltlXSYmKHQubWFuZGF0b3J5PXQubWFuZGF0b3J5fHx7fSx0Lm1hbmRhdG9yeVtyKGUsaSldPW5bZV0pfSkpfSkpLGUuYWR2YW5jZWQmJih0Lm9wdGlvbmFsPSh0Lm9wdGlvbmFsfHxbXSkuY29uY2F0KGUuYWR2YW5jZWQpKSx0fSxyPWZ1bmN0aW9uKGUscil7aWYodC52ZXJzaW9uPj02MSlyZXR1cm4gcihlKTtpZigoZT1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGUpKSkmJlwib2JqZWN0XCI9PXR5cGVvZiBlLmF1ZGlvKXtjb25zdCB0PWZ1bmN0aW9uKGUsdCxpKXt0IGluIGUmJiEoaSBpbiBlKSYmKGVbaV09ZVt0XSxkZWxldGUgZVt0XSl9O3QoKGU9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShlKSkpLmF1ZGlvLFwiYXV0b0dhaW5Db250cm9sXCIsXCJnb29nQXV0b0dhaW5Db250cm9sXCIpLHQoZS5hdWRpbyxcIm5vaXNlU3VwcHJlc3Npb25cIixcImdvb2dOb2lzZVN1cHByZXNzaW9uXCIpLGUuYXVkaW89bihlLmF1ZGlvKX1pZihlJiZcIm9iamVjdFwiPT10eXBlb2YgZS52aWRlbyl7bGV0IG89ZS52aWRlby5mYWNpbmdNb2RlO289byYmKFwib2JqZWN0XCI9PXR5cGVvZiBvP286e2lkZWFsOm99KTtjb25zdCBzPXQudmVyc2lvbjw2NjtpZihvJiYoXCJ1c2VyXCI9PT1vLmV4YWN0fHxcImVudmlyb25tZW50XCI9PT1vLmV4YWN0fHxcInVzZXJcIj09PW8uaWRlYWx8fFwiZW52aXJvbm1lbnRcIj09PW8uaWRlYWwpJiYoIWkubWVkaWFEZXZpY2VzLmdldFN1cHBvcnRlZENvbnN0cmFpbnRzfHwhaS5tZWRpYURldmljZXMuZ2V0U3VwcG9ydGVkQ29uc3RyYWludHMoKS5mYWNpbmdNb2RlfHxzKSl7bGV0IHQ7aWYoZGVsZXRlIGUudmlkZW8uZmFjaW5nTW9kZSxcImVudmlyb25tZW50XCI9PT1vLmV4YWN0fHxcImVudmlyb25tZW50XCI9PT1vLmlkZWFsP3Q9W1wiYmFja1wiLFwicmVhclwiXTpcInVzZXJcIiE9PW8uZXhhY3QmJlwidXNlclwiIT09by5pZGVhbHx8KHQ9W1wiZnJvbnRcIl0pLHQpcmV0dXJuIGkubWVkaWFEZXZpY2VzLmVudW1lcmF0ZURldmljZXMoKS50aGVuKChpPT57bGV0IHM9KGk9aS5maWx0ZXIoKGU9PlwidmlkZW9pbnB1dFwiPT09ZS5raW5kKSkpLmZpbmQoKGU9PnQuc29tZSgodD0+e3ZhciBpO3JldHVybiBEbihpPWUubGFiZWwudG9Mb3dlckNhc2UoKSkuY2FsbChpLHQpfSkpKSk7cmV0dXJuIXMmJmkubGVuZ3RoJiZEbih0KS5jYWxsKHQsXCJiYWNrXCIpJiYocz1pW2kubGVuZ3RoLTFdKSxzJiYoZS52aWRlby5kZXZpY2VJZD1vLmV4YWN0P3tleGFjdDpzLmRldmljZUlkfTp7aWRlYWw6cy5kZXZpY2VJZH0pLGUudmlkZW89bihlLnZpZGVvKSxXaChcImNocm9tZTogXCIrSlNPTi5zdHJpbmdpZnkoZSkpLHIoZSl9KSl9ZS52aWRlbz1uKGUudmlkZW8pfXJldHVybiBXaChcImNocm9tZTogXCIrSlNPTi5zdHJpbmdpZnkoZSkpLHIoZSl9LG89ZnVuY3Rpb24oZSl7cmV0dXJuIHQudmVyc2lvbj49NjQ/ZTp7bmFtZTp7UGVybWlzc2lvbkRlbmllZEVycm9yOlwiTm90QWxsb3dlZEVycm9yXCIsUGVybWlzc2lvbkRpc21pc3NlZEVycm9yOlwiTm90QWxsb3dlZEVycm9yXCIsSW52YWxpZFN0YXRlRXJyb3I6XCJOb3RBbGxvd2VkRXJyb3JcIixEZXZpY2VzTm90Rm91bmRFcnJvcjpcIk5vdEZvdW5kRXJyb3JcIixDb25zdHJhaW50Tm90U2F0aXNmaWVkRXJyb3I6XCJPdmVyY29uc3RyYWluZWRFcnJvclwiLFRyYWNrU3RhcnRFcnJvcjpcIk5vdFJlYWRhYmxlRXJyb3JcIixNZWRpYURldmljZUZhaWxlZER1ZVRvU2h1dGRvd246XCJOb3RBbGxvd2VkRXJyb3JcIixNZWRpYURldmljZUtpbGxTd2l0Y2hPbjpcIk5vdEFsbG93ZWRFcnJvclwiLFRhYkNhcHR1cmVFcnJvcjpcIkFib3J0RXJyb3JcIixTY3JlZW5DYXB0dXJlRXJyb3I6XCJBYm9ydEVycm9yXCIsRGV2aWNlQ2FwdHVyZUVycm9yOlwiQWJvcnRFcnJvclwifVtlLm5hbWVdfHxlLm5hbWUsbWVzc2FnZTplLm1lc3NhZ2UsY29uc3RyYWludDplLmNvbnN0cmFpbnR8fGUuY29uc3RyYWludE5hbWUsdG9TdHJpbmcoKXtyZXR1cm4gdGhpcy5uYW1lKyh0aGlzLm1lc3NhZ2UmJlwiOiBcIikrdGhpcy5tZXNzYWdlfX19O2lmKGkuZ2V0VXNlck1lZGlhPWZ1bmN0aW9uKGUsdCxuKXtyKGUsKGU9PntpLndlYmtpdEdldFVzZXJNZWRpYShlLHQsKGU9PntuJiZuKG8oZSkpfSkpfSkpfS5iaW5kKGkpLGkubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSl7Y29uc3QgZT1pLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEuYmluZChpLm1lZGlhRGV2aWNlcyk7aS5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhPWZ1bmN0aW9uKHQpe3JldHVybiByKHQsKHQ9PmUodCkudGhlbigoZT0+e2lmKHQuYXVkaW8mJiFlLmdldEF1ZGlvVHJhY2tzKCkubGVuZ3RofHx0LnZpZGVvJiYhZS5nZXRWaWRlb1RyYWNrcygpLmxlbmd0aCl0aHJvdyBlLmdldFRyYWNrcygpLmZvckVhY2goKGU9PntlLnN0b3AoKX0pKSxuZXcgRE9NRXhjZXB0aW9uKFwiXCIsXCJOb3RGb3VuZEVycm9yXCIpO3JldHVybiBlfSksKGU9PkdoLnJlamVjdChvKGUpKSkpKSl9fX1mdW5jdGlvbiBLaChlKXtlLk1lZGlhU3RyZWFtPWUuTWVkaWFTdHJlYW18fGUud2Via2l0TWVkaWFTdHJlYW19ZnVuY3Rpb24gWWgoZSl7aWYoXCJvYmplY3RcIj09dHlwZW9mIGUmJmUuUlRDUGVlckNvbm5lY3Rpb24mJiEoXCJvbnRyYWNrXCJpbiBlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSkpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSxcIm9udHJhY2tcIix7Z2V0KCl7cmV0dXJuIHRoaXMuX29udHJhY2t9LHNldChlKXt0aGlzLl9vbnRyYWNrJiZ0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0cmFja1wiLHRoaXMuX29udHJhY2spLHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihcInRyYWNrXCIsdGhpcy5fb250cmFjaz1lKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KTtjb25zdCB0PWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnNldFJlbW90ZURlc2NyaXB0aW9uO2UuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnNldFJlbW90ZURlc2NyaXB0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX29udHJhY2twb2x5fHwodGhpcy5fb250cmFja3BvbHk9dD0+e3Quc3RyZWFtLmFkZEV2ZW50TGlzdGVuZXIoXCJhZGR0cmFja1wiLChpPT57bGV0IG47bj1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRSZWNlaXZlcnM/dGhpcy5nZXRSZWNlaXZlcnMoKS5maW5kKChlPT5lLnRyYWNrJiZlLnRyYWNrLmlkPT09aS50cmFjay5pZCkpOnt0cmFjazppLnRyYWNrfTtjb25zdCByPW5ldyBFdmVudChcInRyYWNrXCIpO3IudHJhY2s9aS50cmFjayxyLnJlY2VpdmVyPW4sci50cmFuc2NlaXZlcj17cmVjZWl2ZXI6bn0sci5zdHJlYW1zPVt0LnN0cmVhbV0sdGhpcy5kaXNwYXRjaEV2ZW50KHIpfSkpLHQuc3RyZWFtLmdldFRyYWNrcygpLmZvckVhY2goKGk9PntsZXQgbjtuPWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFJlY2VpdmVycz90aGlzLmdldFJlY2VpdmVycygpLmZpbmQoKGU9PmUudHJhY2smJmUudHJhY2suaWQ9PT1pLmlkKSk6e3RyYWNrOml9O2NvbnN0IHI9bmV3IEV2ZW50KFwidHJhY2tcIik7ci50cmFjaz1pLHIucmVjZWl2ZXI9bixyLnRyYW5zY2VpdmVyPXtyZWNlaXZlcjpufSxyLnN0cmVhbXM9W3Quc3RyZWFtXSx0aGlzLmRpc3BhdGNoRXZlbnQocil9KSl9LHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihcImFkZHN0cmVhbVwiLHRoaXMuX29udHJhY2twb2x5KSksdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fWVsc2UgJG4oZSxcInRyYWNrXCIsKGU9PihlLnRyYW5zY2VpdmVyfHxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInRyYW5zY2VpdmVyXCIse3ZhbHVlOntyZWNlaXZlcjplLnJlY2VpdmVyfX0pLGUpKSl9ZnVuY3Rpb24gcWgoZSl7aWYoXCJvYmplY3RcIj09dHlwZW9mIGUmJmUuUlRDUGVlckNvbm5lY3Rpb24mJiEoXCJnZXRTZW5kZXJzXCJpbiBlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSkmJlwiY3JlYXRlRFRNRlNlbmRlclwiaW4gZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUpe2NvbnN0IHQ9ZnVuY3Rpb24oZSx0KXtyZXR1cm57dHJhY2s6dCxnZXQgZHRtZigpe3JldHVybiB2b2lkIDA9PT10aGlzLl9kdG1mJiYoXCJhdWRpb1wiPT09dC5raW5kP3RoaXMuX2R0bWY9ZS5jcmVhdGVEVE1GU2VuZGVyKHQpOnRoaXMuX2R0bWY9bnVsbCksdGhpcy5fZHRtZn0sX3BjOmV9fTtpZighZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0U2VuZGVycyl7ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0U2VuZGVycz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9zZW5kZXJzPXRoaXMuX3NlbmRlcnN8fFtdLHRoaXMuX3NlbmRlcnMuc2xpY2UoKX07Y29uc3QgaT1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRUcmFjaztlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRUcmFjaz1mdW5jdGlvbihlLG4pe2xldCByPWkuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiByfHwocj10KHRoaXMsZSksdGhpcy5fc2VuZGVycy5wdXNoKHIpKSxyfTtjb25zdCBuPWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnJlbW92ZVRyYWNrO2UuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnJlbW92ZVRyYWNrPWZ1bmN0aW9uKGUpe24uYXBwbHkodGhpcyxhcmd1bWVudHMpO2NvbnN0IHQ9dGhpcy5fc2VuZGVycy5pbmRleE9mKGUpOy0xIT09dCYmdGhpcy5fc2VuZGVycy5zcGxpY2UodCwxKX19Y29uc3QgaT1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRTdHJlYW07ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkU3RyZWFtPWZ1bmN0aW9uKGUpe3RoaXMuX3NlbmRlcnM9dGhpcy5fc2VuZGVyc3x8W10saS5hcHBseSh0aGlzLFtlXSksZS5nZXRUcmFja3MoKS5mb3JFYWNoKChlPT57dGhpcy5fc2VuZGVycy5wdXNoKHQodGhpcyxlKSl9KSl9O2NvbnN0IG49ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUucmVtb3ZlU3RyZWFtO2UuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnJlbW92ZVN0cmVhbT1mdW5jdGlvbihlKXt0aGlzLl9zZW5kZXJzPXRoaXMuX3NlbmRlcnN8fFtdLG4uYXBwbHkodGhpcyxbZV0pLGUuZ2V0VHJhY2tzKCkuZm9yRWFjaCgoZT0+e2NvbnN0IHQ9dGhpcy5fc2VuZGVycy5maW5kKCh0PT50LnRyYWNrPT09ZSkpO3QmJnRoaXMuX3NlbmRlcnMuc3BsaWNlKHRoaXMuX3NlbmRlcnMuaW5kZXhPZih0KSwxKX0pKX19ZWxzZSBpZihcIm9iamVjdFwiPT10eXBlb2YgZSYmZS5SVENQZWVyQ29ubmVjdGlvbiYmXCJnZXRTZW5kZXJzXCJpbiBlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSYmXCJjcmVhdGVEVE1GU2VuZGVyXCJpbiBlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSYmZS5SVENSdHBTZW5kZXImJiEoXCJkdG1mXCJpbiBlLlJUQ1J0cFNlbmRlci5wcm90b3R5cGUpKXtjb25zdCB0PWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFNlbmRlcnM7ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0U2VuZGVycz1mdW5jdGlvbigpe2NvbnN0IGU9dC5hcHBseSh0aGlzLFtdKTtyZXR1cm4gZS5mb3JFYWNoKChlPT5lLl9wYz10aGlzKSksZX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KGUuUlRDUnRwU2VuZGVyLnByb3RvdHlwZSxcImR0bWZcIix7Z2V0KCl7cmV0dXJuIHZvaWQgMD09PXRoaXMuX2R0bWYmJihcImF1ZGlvXCI9PT10aGlzLnRyYWNrLmtpbmQ/dGhpcy5fZHRtZj10aGlzLl9wYy5jcmVhdGVEVE1GU2VuZGVyKHRoaXMudHJhY2spOnRoaXMuX2R0bWY9bnVsbCksdGhpcy5fZHRtZn19KX19ZnVuY3Rpb24gemgoZSl7aWYoIWUuUlRDUGVlckNvbm5lY3Rpb24pcmV0dXJuO2NvbnN0IHQ9ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0U3RhdHM7ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0U3RhdHM9ZnVuY3Rpb24oKXtjb25zdFtlLGksbl09YXJndW1lbnRzO2lmKGFyZ3VtZW50cy5sZW5ndGg+MCYmXCJmdW5jdGlvblwiPT10eXBlb2YgZSlyZXR1cm4gdC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7aWYoMD09PXQubGVuZ3RoJiYoMD09PWFyZ3VtZW50cy5sZW5ndGh8fFwiZnVuY3Rpb25cIiE9dHlwZW9mIGUpKXJldHVybiB0LmFwcGx5KHRoaXMsW10pO2NvbnN0IHI9ZnVuY3Rpb24oZSl7Y29uc3QgdD17fTtyZXR1cm4gZS5yZXN1bHQoKS5mb3JFYWNoKChlPT57Y29uc3QgaT17aWQ6ZS5pZCx0aW1lc3RhbXA6ZS50aW1lc3RhbXAsdHlwZTp7bG9jYWxjYW5kaWRhdGU6XCJsb2NhbC1jYW5kaWRhdGVcIixyZW1vdGVjYW5kaWRhdGU6XCJyZW1vdGUtY2FuZGlkYXRlXCJ9W2UudHlwZV18fGUudHlwZX07ZS5uYW1lcygpLmZvckVhY2goKHQ9PntpW3RdPWUuc3RhdCh0KX0pKSx0W2kuaWRdPWl9KSksdH0sbz1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IE1hcChPYmplY3Qua2V5cyhlKS5tYXAoKHQ9Plt0LGVbdF1dKSkpfTtpZihhcmd1bWVudHMubGVuZ3RoPj0yKXtjb25zdCBuPWZ1bmN0aW9uKGUpe2kobyhyKGUpKSl9O3JldHVybiB0LmFwcGx5KHRoaXMsW24sZV0pfXJldHVybiBuZXcgR2goKChlLGkpPT57dC5hcHBseSh0aGlzLFtmdW5jdGlvbih0KXtlKG8ocih0KSkpfSxpXSl9KSkudGhlbihpLG4pfX1mdW5jdGlvbiBKaChlKXtpZighKFwib2JqZWN0XCI9PXR5cGVvZiBlJiZlLlJUQ1BlZXJDb25uZWN0aW9uJiZlLlJUQ1J0cFNlbmRlciYmZS5SVENSdHBSZWNlaXZlcikpcmV0dXJuO2lmKCEoXCJnZXRTdGF0c1wiaW4gZS5SVENSdHBTZW5kZXIucHJvdG90eXBlKSl7Y29uc3QgdD1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRTZW5kZXJzO3QmJihlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRTZW5kZXJzPWZ1bmN0aW9uKCl7Y29uc3QgZT10LmFwcGx5KHRoaXMsW10pO3JldHVybiBlLmZvckVhY2goKGU9PmUuX3BjPXRoaXMpKSxlfSk7Y29uc3QgaT1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRUcmFjaztpJiYoZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkVHJhY2s9ZnVuY3Rpb24oKXtjb25zdCBlPWkuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBlLl9wYz10aGlzLGV9KSxlLlJUQ1J0cFNlbmRlci5wcm90b3R5cGUuZ2V0U3RhdHM9ZnVuY3Rpb24oKXtjb25zdCBlPXRoaXM7cmV0dXJuIHRoaXMuX3BjLmdldFN0YXRzKCkudGhlbigodD0+YXIodCxlLnRyYWNrLCEwKSkpfX1pZighKFwiZ2V0U3RhdHNcImluIGUuUlRDUnRwUmVjZWl2ZXIucHJvdG90eXBlKSl7Y29uc3QgdD1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRSZWNlaXZlcnM7dCYmKGUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFJlY2VpdmVycz1mdW5jdGlvbigpe2NvbnN0IGU9dC5hcHBseSh0aGlzLFtdKTtyZXR1cm4gZS5mb3JFYWNoKChlPT5lLl9wYz10aGlzKSksZX0pLCRuKGUsXCJ0cmFja1wiLChlPT4oZS5yZWNlaXZlci5fcGM9ZS5zcmNFbGVtZW50LGUpKSksZS5SVENSdHBSZWNlaXZlci5wcm90b3R5cGUuZ2V0U3RhdHM9ZnVuY3Rpb24oKXtjb25zdCBlPXRoaXM7cmV0dXJuIHRoaXMuX3BjLmdldFN0YXRzKCkudGhlbigodD0+YXIodCxlLnRyYWNrLCExKSkpfX1pZighKFwiZ2V0U3RhdHNcImluIGUuUlRDUnRwU2VuZGVyLnByb3RvdHlwZSl8fCEoXCJnZXRTdGF0c1wiaW4gZS5SVENSdHBSZWNlaXZlci5wcm90b3R5cGUpKXJldHVybjtjb25zdCB0PWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFN0YXRzO2UuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFN0YXRzPWZ1bmN0aW9uKCl7aWYoYXJndW1lbnRzLmxlbmd0aD4wJiZhcmd1bWVudHNbMF1pbnN0YW5jZW9mIGUuTWVkaWFTdHJlYW1UcmFjayl7Y29uc3QgZT1hcmd1bWVudHNbMF07bGV0IHQsaSxuO3JldHVybiB0aGlzLmdldFNlbmRlcnMoKS5mb3JFYWNoKChpPT57aS50cmFjaz09PWUmJih0P249ITA6dD1pKX0pKSx0aGlzLmdldFJlY2VpdmVycygpLmZvckVhY2goKHQ9Pih0LnRyYWNrPT09ZSYmKGk/bj0hMDppPXQpLHQudHJhY2s9PT1lKSkpLG58fHQmJmk/R2gucmVqZWN0KG5ldyBET01FeGNlcHRpb24oXCJUaGVyZSBhcmUgbW9yZSB0aGFuIG9uZSBzZW5kZXIgb3IgcmVjZWl2ZXIgZm9yIHRoZSB0cmFjay5cIixcIkludmFsaWRBY2Nlc3NFcnJvclwiKSk6dD90LmdldFN0YXRzKCk6aT9pLmdldFN0YXRzKCk6R2gucmVqZWN0KG5ldyBET01FeGNlcHRpb24oXCJUaGVyZSBpcyBubyBzZW5kZXIgb3IgcmVjZWl2ZXIgZm9yIHRoZSB0cmFjay5cIixcIkludmFsaWRBY2Nlc3NFcnJvclwiKSl9cmV0dXJuIHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfX1mdW5jdGlvbiBYaChlKXtlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRMb2NhbFN0cmVhbXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fc2hpbW1lZExvY2FsU3RyZWFtcz10aGlzLl9zaGltbWVkTG9jYWxTdHJlYW1zfHx7fSxPYmplY3Qua2V5cyh0aGlzLl9zaGltbWVkTG9jYWxTdHJlYW1zKS5tYXAoKGU9PnRoaXMuX3NoaW1tZWRMb2NhbFN0cmVhbXNbZV1bMF0pKX07Y29uc3QgdD1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRUcmFjaztlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRUcmFjaz1mdW5jdGlvbihlLGkpe2lmKCFpKXJldHVybiB0LmFwcGx5KHRoaXMsYXJndW1lbnRzKTt0aGlzLl9zaGltbWVkTG9jYWxTdHJlYW1zPXRoaXMuX3NoaW1tZWRMb2NhbFN0cmVhbXN8fHt9O2NvbnN0IG49dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIHRoaXMuX3NoaW1tZWRMb2NhbFN0cmVhbXNbaS5pZF0/LTE9PT10aGlzLl9zaGltbWVkTG9jYWxTdHJlYW1zW2kuaWRdLmluZGV4T2YobikmJnRoaXMuX3NoaW1tZWRMb2NhbFN0cmVhbXNbaS5pZF0ucHVzaChuKTp0aGlzLl9zaGltbWVkTG9jYWxTdHJlYW1zW2kuaWRdPVtpLG5dLG59O2NvbnN0IGk9ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkU3RyZWFtO2UuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZFN0cmVhbT1mdW5jdGlvbihlKXt0aGlzLl9zaGltbWVkTG9jYWxTdHJlYW1zPXRoaXMuX3NoaW1tZWRMb2NhbFN0cmVhbXN8fHt9LGUuZ2V0VHJhY2tzKCkuZm9yRWFjaCgoZT0+e2NvbnN0IHQ9dGhpcy5nZXRTZW5kZXJzKCkuZmluZCgodD0+dC50cmFjaz09PWUpKTtpZih0KXRocm93IG5ldyBET01FeGNlcHRpb24oXCJUcmFjayBhbHJlYWR5IGV4aXN0cy5cIixcIkludmFsaWRBY2Nlc3NFcnJvclwiKX0pKTtjb25zdCB0PXRoaXMuZ2V0U2VuZGVycygpO2kuYXBwbHkodGhpcyxhcmd1bWVudHMpO2NvbnN0IG49dGhpcy5nZXRTZW5kZXJzKCkuZmlsdGVyKChlPT4tMT09PXQuaW5kZXhPZihlKSkpO3RoaXMuX3NoaW1tZWRMb2NhbFN0cmVhbXNbZS5pZF09W2VdLmNvbmNhdChuKX07Y29uc3Qgbj1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5yZW1vdmVTdHJlYW07ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUucmVtb3ZlU3RyZWFtPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9zaGltbWVkTG9jYWxTdHJlYW1zPXRoaXMuX3NoaW1tZWRMb2NhbFN0cmVhbXN8fHt9LGRlbGV0ZSB0aGlzLl9zaGltbWVkTG9jYWxTdHJlYW1zW2UuaWRdLG4uYXBwbHkodGhpcyxhcmd1bWVudHMpfTtjb25zdCByPWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnJlbW92ZVRyYWNrO2UuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnJlbW92ZVRyYWNrPWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9zaGltbWVkTG9jYWxTdHJlYW1zPXRoaXMuX3NoaW1tZWRMb2NhbFN0cmVhbXN8fHt9LGUmJk9iamVjdC5rZXlzKHRoaXMuX3NoaW1tZWRMb2NhbFN0cmVhbXMpLmZvckVhY2goKHQ9Pntjb25zdCBpPXRoaXMuX3NoaW1tZWRMb2NhbFN0cmVhbXNbdF0uaW5kZXhPZihlKTstMSE9PWkmJnRoaXMuX3NoaW1tZWRMb2NhbFN0cmVhbXNbdF0uc3BsaWNlKGksMSksMT09PXRoaXMuX3NoaW1tZWRMb2NhbFN0cmVhbXNbdF0ubGVuZ3RoJiZkZWxldGUgdGhpcy5fc2hpbW1lZExvY2FsU3RyZWFtc1t0XX0pKSxyLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19ZnVuY3Rpb24gUWgoZSx0KXtpZighZS5SVENQZWVyQ29ubmVjdGlvbilyZXR1cm47aWYoZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkVHJhY2smJnQudmVyc2lvbj49NjUpcmV0dXJuIFhoKGUpO2NvbnN0IGk9ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0TG9jYWxTdHJlYW1zO2UuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldExvY2FsU3RyZWFtcz1mdW5jdGlvbigpe2NvbnN0IGU9aS5hcHBseSh0aGlzKTtyZXR1cm4gdGhpcy5fcmV2ZXJzZVN0cmVhbXM9dGhpcy5fcmV2ZXJzZVN0cmVhbXN8fHt9LGUubWFwKChlPT50aGlzLl9yZXZlcnNlU3RyZWFtc1tlLmlkXSkpfTtjb25zdCBuPWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZFN0cmVhbTtlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRTdHJlYW09ZnVuY3Rpb24odCl7aWYodGhpcy5fc3RyZWFtcz10aGlzLl9zdHJlYW1zfHx7fSx0aGlzLl9yZXZlcnNlU3RyZWFtcz10aGlzLl9yZXZlcnNlU3RyZWFtc3x8e30sdC5nZXRUcmFja3MoKS5mb3JFYWNoKChlPT57Y29uc3QgdD10aGlzLmdldFNlbmRlcnMoKS5maW5kKCh0PT50LnRyYWNrPT09ZSkpO2lmKHQpdGhyb3cgbmV3IERPTUV4Y2VwdGlvbihcIlRyYWNrIGFscmVhZHkgZXhpc3RzLlwiLFwiSW52YWxpZEFjY2Vzc0Vycm9yXCIpfSkpLCF0aGlzLl9yZXZlcnNlU3RyZWFtc1t0LmlkXSl7Y29uc3QgaT1uZXcgZS5NZWRpYVN0cmVhbSh0LmdldFRyYWNrcygpKTt0aGlzLl9zdHJlYW1zW3QuaWRdPWksdGhpcy5fcmV2ZXJzZVN0cmVhbXNbaS5pZF09dCx0PWl9bi5hcHBseSh0aGlzLFt0XSl9O2NvbnN0IHI9ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUucmVtb3ZlU3RyZWFtO2Z1bmN0aW9uIG8oZSx0KXtsZXQgaT10LnNkcDtyZXR1cm4gT2JqZWN0LmtleXMoZS5fcmV2ZXJzZVN0cmVhbXN8fFtdKS5mb3JFYWNoKCh0PT57Y29uc3Qgbj1lLl9yZXZlcnNlU3RyZWFtc1t0XSxyPWUuX3N0cmVhbXNbbi5pZF07aT1pLnJlcGxhY2UobmV3IFJlZ0V4cChyLmlkLFwiZ1wiKSxuLmlkKX0pKSxuZXcgUlRDU2Vzc2lvbkRlc2NyaXB0aW9uKHt0eXBlOnQudHlwZSxzZHA6aX0pfWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnJlbW92ZVN0cmVhbT1mdW5jdGlvbihlKXt0aGlzLl9zdHJlYW1zPXRoaXMuX3N0cmVhbXN8fHt9LHRoaXMuX3JldmVyc2VTdHJlYW1zPXRoaXMuX3JldmVyc2VTdHJlYW1zfHx7fSxyLmFwcGx5KHRoaXMsW3RoaXMuX3N0cmVhbXNbZS5pZF18fGVdKSxkZWxldGUgdGhpcy5fcmV2ZXJzZVN0cmVhbXNbdGhpcy5fc3RyZWFtc1tlLmlkXT90aGlzLl9zdHJlYW1zW2UuaWRdLmlkOmUuaWRdLGRlbGV0ZSB0aGlzLl9zdHJlYW1zW2UuaWRdfSxlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRUcmFjaz1mdW5jdGlvbih0LGkpe2lmKFwiY2xvc2VkXCI9PT10aGlzLnNpZ25hbGluZ1N0YXRlKXRocm93IG5ldyBET01FeGNlcHRpb24oXCJUaGUgUlRDUGVlckNvbm5lY3Rpb24ncyBzaWduYWxpbmdTdGF0ZSBpcyAnY2xvc2VkJy5cIixcIkludmFsaWRTdGF0ZUVycm9yXCIpO2NvbnN0IG49W10uc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7aWYoMSE9PW4ubGVuZ3RofHwhblswXS5nZXRUcmFja3MoKS5maW5kKChlPT5lPT09dCkpKXRocm93IG5ldyBET01FeGNlcHRpb24oXCJUaGUgYWRhcHRlci5qcyBhZGRUcmFjayBwb2x5ZmlsbCBvbmx5IHN1cHBvcnRzIGEgc2luZ2xlICBzdHJlYW0gd2hpY2ggaXMgYXNzb2NpYXRlZCB3aXRoIHRoZSBzcGVjaWZpZWQgdHJhY2suXCIsXCJOb3RTdXBwb3J0ZWRFcnJvclwiKTtjb25zdCByPXRoaXMuZ2V0U2VuZGVycygpLmZpbmQoKGU9PmUudHJhY2s9PT10KSk7aWYocil0aHJvdyBuZXcgRE9NRXhjZXB0aW9uKFwiVHJhY2sgYWxyZWFkeSBleGlzdHMuXCIsXCJJbnZhbGlkQWNjZXNzRXJyb3JcIik7dGhpcy5fc3RyZWFtcz10aGlzLl9zdHJlYW1zfHx7fSx0aGlzLl9yZXZlcnNlU3RyZWFtcz10aGlzLl9yZXZlcnNlU3RyZWFtc3x8e307Y29uc3Qgbz10aGlzLl9zdHJlYW1zW2kuaWRdO2lmKG8pby5hZGRUcmFjayh0KSxHaC5yZXNvbHZlKCkudGhlbigoKCk9Pnt0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KFwibmVnb3RpYXRpb25uZWVkZWRcIikpfSkpO2Vsc2V7Y29uc3Qgbj1uZXcgZS5NZWRpYVN0cmVhbShbdF0pO3RoaXMuX3N0cmVhbXNbaS5pZF09bix0aGlzLl9yZXZlcnNlU3RyZWFtc1tuLmlkXT1pLHRoaXMuYWRkU3RyZWFtKG4pfXJldHVybiB0aGlzLmdldFNlbmRlcnMoKS5maW5kKChlPT5lLnRyYWNrPT09dCkpfSxbXCJjcmVhdGVPZmZlclwiLFwiY3JlYXRlQW5zd2VyXCJdLmZvckVhY2goKGZ1bmN0aW9uKHQpe2NvbnN0IGk9ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGVbdF0sbj17W3RdKCl7Y29uc3QgZT1hcmd1bWVudHM7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGgmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGFyZ3VtZW50c1swXT9pLmFwcGx5KHRoaXMsW3Q9Pntjb25zdCBpPW8odGhpcyx0KTtlWzBdLmFwcGx5KG51bGwsW2ldKX0sdD0+e2VbMV0mJmVbMV0uYXBwbHkobnVsbCx0KX0sYXJndW1lbnRzWzJdXSk6aS5hcHBseSh0aGlzLGFyZ3VtZW50cykudGhlbigoZT0+byh0aGlzLGUpKSl9fTtlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZVt0XT1uW3RdfSkpO2NvbnN0IHM9ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuc2V0TG9jYWxEZXNjcmlwdGlvbjtlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5zZXRMb2NhbERlc2NyaXB0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIGFyZ3VtZW50cy5sZW5ndGgmJmFyZ3VtZW50c1swXS50eXBlPyhhcmd1bWVudHNbMF09ZnVuY3Rpb24oZSx0KXtsZXQgaT10LnNkcDtyZXR1cm4gT2JqZWN0LmtleXMoZS5fcmV2ZXJzZVN0cmVhbXN8fFtdKS5mb3JFYWNoKCh0PT57Y29uc3Qgbj1lLl9yZXZlcnNlU3RyZWFtc1t0XSxyPWUuX3N0cmVhbXNbbi5pZF07aT1pLnJlcGxhY2UobmV3IFJlZ0V4cChuLmlkLFwiZ1wiKSxyLmlkKX0pKSxuZXcgUlRDU2Vzc2lvbkRlc2NyaXB0aW9uKHt0eXBlOnQudHlwZSxzZHA6aX0pfSh0aGlzLGFyZ3VtZW50c1swXSkscy5hcHBseSh0aGlzLGFyZ3VtZW50cykpOnMuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtjb25zdCBhPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUsXCJsb2NhbERlc2NyaXB0aW9uXCIpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSxcImxvY2FsRGVzY3JpcHRpb25cIix7Z2V0KCl7Y29uc3QgZT1hLmdldC5hcHBseSh0aGlzKTtyZXR1cm5cIlwiPT09ZS50eXBlP2U6byh0aGlzLGUpfX0pLGUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnJlbW92ZVRyYWNrPWZ1bmN0aW9uKGUpe2lmKFwiY2xvc2VkXCI9PT10aGlzLnNpZ25hbGluZ1N0YXRlKXRocm93IG5ldyBET01FeGNlcHRpb24oXCJUaGUgUlRDUGVlckNvbm5lY3Rpb24ncyBzaWduYWxpbmdTdGF0ZSBpcyAnY2xvc2VkJy5cIixcIkludmFsaWRTdGF0ZUVycm9yXCIpO2lmKCFlLl9wYyl0aHJvdyBuZXcgRE9NRXhjZXB0aW9uKFwiQXJndW1lbnQgMSBvZiBSVENQZWVyQ29ubmVjdGlvbi5yZW1vdmVUcmFjayBkb2VzIG5vdCBpbXBsZW1lbnQgaW50ZXJmYWNlIFJUQ1J0cFNlbmRlci5cIixcIlR5cGVFcnJvclwiKTtpZighKGUuX3BjPT09dGhpcykpdGhyb3cgbmV3IERPTUV4Y2VwdGlvbihcIlNlbmRlciB3YXMgbm90IGNyZWF0ZWQgYnkgdGhpcyBjb25uZWN0aW9uLlwiLFwiSW52YWxpZEFjY2Vzc0Vycm9yXCIpO2xldCB0O3RoaXMuX3N0cmVhbXM9dGhpcy5fc3RyZWFtc3x8e30sT2JqZWN0LmtleXModGhpcy5fc3RyZWFtcykuZm9yRWFjaCgoaT0+e3RoaXMuX3N0cmVhbXNbaV0uZ2V0VHJhY2tzKCkuZmluZCgodD0+ZS50cmFjaz09PXQpKSYmKHQ9dGhpcy5fc3RyZWFtc1tpXSl9KSksdCYmKDE9PT10LmdldFRyYWNrcygpLmxlbmd0aD90aGlzLnJlbW92ZVN0cmVhbSh0aGlzLl9yZXZlcnNlU3RyZWFtc1t0LmlkXSk6dC5yZW1vdmVUcmFjayhlLnRyYWNrKSx0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KFwibmVnb3RpYXRpb25uZWVkZWRcIikpKX19ZnVuY3Rpb24gWmgoZSx0KXshZS5SVENQZWVyQ29ubmVjdGlvbiYmZS53ZWJraXRSVENQZWVyQ29ubmVjdGlvbiYmKGUuUlRDUGVlckNvbm5lY3Rpb249ZS53ZWJraXRSVENQZWVyQ29ubmVjdGlvbiksZS5SVENQZWVyQ29ubmVjdGlvbiYmdC52ZXJzaW9uPDUzJiZbXCJzZXRMb2NhbERlc2NyaXB0aW9uXCIsXCJzZXRSZW1vdGVEZXNjcmlwdGlvblwiLFwiYWRkSWNlQ2FuZGlkYXRlXCJdLmZvckVhY2goKGZ1bmN0aW9uKHQpe2NvbnN0IGk9ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGVbdF0sbj17W3RdKCl7cmV0dXJuIGFyZ3VtZW50c1swXT1uZXcoXCJhZGRJY2VDYW5kaWRhdGVcIj09PXQ/ZS5SVENJY2VDYW5kaWRhdGU6ZS5SVENTZXNzaW9uRGVzY3JpcHRpb24pKGFyZ3VtZW50c1swXSksaS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fTtlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZVt0XT1uW3RdfSkpfWZ1bmN0aW9uICRoKGUsdCl7JG4oZSxcIm5lZ290aWF0aW9ubmVlZGVkXCIsKGU9Pntjb25zdCBpPWUudGFyZ2V0O2lmKCEodC52ZXJzaW9uPDcyfHxpLmdldENvbmZpZ3VyYXRpb24mJlwicGxhbi1iXCI9PT1pLmdldENvbmZpZ3VyYXRpb24oKS5zZHBTZW1hbnRpY3MpfHxcInN0YWJsZVwiPT09aS5zaWduYWxpbmdTdGF0ZSlyZXR1cm4gZX0pKX12YXIgZXA9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsZml4TmVnb3RpYXRpb25OZWVkZWQ6JGgsc2hpbUFkZFRyYWNrUmVtb3ZlVHJhY2s6UWgsc2hpbUFkZFRyYWNrUmVtb3ZlVHJhY2tXaXRoTmF0aXZlOlhoLHNoaW1HZXREaXNwbGF5TWVkaWE6ZnVuY3Rpb24oZSx0KXtlLm5hdmlnYXRvci5tZWRpYURldmljZXMmJlwiZ2V0RGlzcGxheU1lZGlhXCJpbiBlLm5hdmlnYXRvci5tZWRpYURldmljZXN8fGUubmF2aWdhdG9yLm1lZGlhRGV2aWNlcyYmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHQ/ZS5uYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldERpc3BsYXlNZWRpYT1mdW5jdGlvbihpKXtyZXR1cm4gdChpKS50aGVuKCh0PT57Y29uc3Qgbj1pLnZpZGVvJiZpLnZpZGVvLndpZHRoLHI9aS52aWRlbyYmaS52aWRlby5oZWlnaHQsbz1pLnZpZGVvJiZpLnZpZGVvLmZyYW1lUmF0ZTtyZXR1cm4gaS52aWRlbz17bWFuZGF0b3J5OntjaHJvbWVNZWRpYVNvdXJjZTpcImRlc2t0b3BcIixjaHJvbWVNZWRpYVNvdXJjZUlkOnQsbWF4RnJhbWVSYXRlOm98fDN9fSxuJiYoaS52aWRlby5tYW5kYXRvcnkubWF4V2lkdGg9biksciYmKGkudmlkZW8ubWFuZGF0b3J5Lm1heEhlaWdodD1yKSxlLm5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKGkpfSkpfTpjb25zb2xlLmVycm9yKFwic2hpbUdldERpc3BsYXlNZWRpYTogZ2V0U291cmNlSWQgYXJndW1lbnQgaXMgbm90IGEgZnVuY3Rpb25cIikpfSxzaGltR2V0U2VuZGVyc1dpdGhEdG1mOnFoLHNoaW1HZXRTdGF0czp6aCxzaGltR2V0VXNlck1lZGlhOkhoLHNoaW1NZWRpYVN0cmVhbTpLaCxzaGltT25UcmFjazpZaCxzaGltUGVlckNvbm5lY3Rpb246Wmgsc2hpbVNlbmRlclJlY2VpdmVyR2V0U3RhdHM6Smh9KTtmdW5jdGlvbiB0cChlLHQpe2NvbnN0IGk9ZSYmZS5uYXZpZ2F0b3Isbj1lJiZlLk1lZGlhU3RyZWFtVHJhY2s7aWYoaS5nZXRVc2VyTWVkaWE9ZnVuY3Rpb24oZSx0LG4pe25yKFwibmF2aWdhdG9yLmdldFVzZXJNZWRpYVwiLFwibmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWFcIiksaS5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKGUpLnRoZW4odCxuKX0sISh0LnZlcnNpb24+NTUmJlwiYXV0b0dhaW5Db250cm9sXCJpbiBpLm1lZGlhRGV2aWNlcy5nZXRTdXBwb3J0ZWRDb25zdHJhaW50cygpKSl7Y29uc3QgZT1mdW5jdGlvbihlLHQsaSl7dCBpbiBlJiYhKGkgaW4gZSkmJihlW2ldPWVbdF0sZGVsZXRlIGVbdF0pfSx0PWkubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYS5iaW5kKGkubWVkaWFEZXZpY2VzKTtpZihpLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWE9ZnVuY3Rpb24oaSl7cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIGkmJlwib2JqZWN0XCI9PXR5cGVvZiBpLmF1ZGlvJiYoaT1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGkpKSxlKGkuYXVkaW8sXCJhdXRvR2FpbkNvbnRyb2xcIixcIm1vekF1dG9HYWluQ29udHJvbFwiKSxlKGkuYXVkaW8sXCJub2lzZVN1cHByZXNzaW9uXCIsXCJtb3pOb2lzZVN1cHByZXNzaW9uXCIpKSx0KGkpfSxuJiZuLnByb3RvdHlwZS5nZXRTZXR0aW5ncyl7Y29uc3QgdD1uLnByb3RvdHlwZS5nZXRTZXR0aW5ncztuLnByb3RvdHlwZS5nZXRTZXR0aW5ncz1mdW5jdGlvbigpe2NvbnN0IGk9dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuIGUoaSxcIm1vekF1dG9HYWluQ29udHJvbFwiLFwiYXV0b0dhaW5Db250cm9sXCIpLGUoaSxcIm1vek5vaXNlU3VwcHJlc3Npb25cIixcIm5vaXNlU3VwcHJlc3Npb25cIiksaX19aWYobiYmbi5wcm90b3R5cGUuYXBwbHlDb25zdHJhaW50cyl7Y29uc3QgdD1uLnByb3RvdHlwZS5hcHBseUNvbnN0cmFpbnRzO24ucHJvdG90eXBlLmFwcGx5Q29uc3RyYWludHM9ZnVuY3Rpb24oaSl7cmV0dXJuXCJhdWRpb1wiPT09dGhpcy5raW5kJiZcIm9iamVjdFwiPT10eXBlb2YgaSYmKGk9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShpKSksZShpLFwiYXV0b0dhaW5Db250cm9sXCIsXCJtb3pBdXRvR2FpbkNvbnRyb2xcIiksZShpLFwibm9pc2VTdXBwcmVzc2lvblwiLFwibW96Tm9pc2VTdXBwcmVzc2lvblwiKSksdC5hcHBseSh0aGlzLFtpXSl9fX19ZnVuY3Rpb24gaXAoZSl7XCJvYmplY3RcIj09dHlwZW9mIGUmJmUuUlRDVHJhY2tFdmVudCYmXCJyZWNlaXZlclwiaW4gZS5SVENUcmFja0V2ZW50LnByb3RvdHlwZSYmIShcInRyYW5zY2VpdmVyXCJpbiBlLlJUQ1RyYWNrRXZlbnQucHJvdG90eXBlKSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUuUlRDVHJhY2tFdmVudC5wcm90b3R5cGUsXCJ0cmFuc2NlaXZlclwiLHtnZXQoKXtyZXR1cm57cmVjZWl2ZXI6dGhpcy5yZWNlaXZlcn19fSl9ZnVuY3Rpb24gbnAoZSx0KXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8IWUuUlRDUGVlckNvbm5lY3Rpb24mJiFlLm1velJUQ1BlZXJDb25uZWN0aW9uKXJldHVybjshZS5SVENQZWVyQ29ubmVjdGlvbiYmZS5tb3pSVENQZWVyQ29ubmVjdGlvbiYmKGUuUlRDUGVlckNvbm5lY3Rpb249ZS5tb3pSVENQZWVyQ29ubmVjdGlvbiksdC52ZXJzaW9uPDUzJiZbXCJzZXRMb2NhbERlc2NyaXB0aW9uXCIsXCJzZXRSZW1vdGVEZXNjcmlwdGlvblwiLFwiYWRkSWNlQ2FuZGlkYXRlXCJdLmZvckVhY2goKGZ1bmN0aW9uKHQpe2NvbnN0IGk9ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGVbdF0sbj17W3RdKCl7cmV0dXJuIGFyZ3VtZW50c1swXT1uZXcoXCJhZGRJY2VDYW5kaWRhdGVcIj09PXQ/ZS5SVENJY2VDYW5kaWRhdGU6ZS5SVENTZXNzaW9uRGVzY3JpcHRpb24pKGFyZ3VtZW50c1swXSksaS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fTtlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZVt0XT1uW3RdfSkpO2NvbnN0IGk9e2luYm91bmRydHA6XCJpbmJvdW5kLXJ0cFwiLG91dGJvdW5kcnRwOlwib3V0Ym91bmQtcnRwXCIsY2FuZGlkYXRlcGFpcjpcImNhbmRpZGF0ZS1wYWlyXCIsbG9jYWxjYW5kaWRhdGU6XCJsb2NhbC1jYW5kaWRhdGVcIixyZW1vdGVjYW5kaWRhdGU6XCJyZW1vdGUtY2FuZGlkYXRlXCJ9LG49ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0U3RhdHM7ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0U3RhdHM9ZnVuY3Rpb24oKXtjb25zdFtlLHIsb109YXJndW1lbnRzO3JldHVybiBuLmFwcGx5KHRoaXMsW2V8fG51bGxdKS50aGVuKChlPT57aWYodC52ZXJzaW9uPDUzJiYhcil0cnl7ZS5mb3JFYWNoKChlPT57ZS50eXBlPWlbZS50eXBlXXx8ZS50eXBlfSkpfWNhdGNoKHQpe2lmKFwiVHlwZUVycm9yXCIhPT10Lm5hbWUpdGhyb3cgdDtlLmZvckVhY2goKCh0LG4pPT57ZS5zZXQobixPYmplY3QuYXNzaWduKHt9LHQse3R5cGU6aVt0LnR5cGVdfHx0LnR5cGV9KSl9KSl9cmV0dXJuIGV9KSkudGhlbihyLG8pfX1mdW5jdGlvbiBycChlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8IWUuUlRDUGVlckNvbm5lY3Rpb258fCFlLlJUQ1J0cFNlbmRlcilyZXR1cm47aWYoZS5SVENSdHBTZW5kZXImJlwiZ2V0U3RhdHNcImluIGUuUlRDUnRwU2VuZGVyLnByb3RvdHlwZSlyZXR1cm47Y29uc3QgdD1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRTZW5kZXJzO3QmJihlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5nZXRTZW5kZXJzPWZ1bmN0aW9uKCl7Y29uc3QgZT10LmFwcGx5KHRoaXMsW10pO3JldHVybiBlLmZvckVhY2goKGU9PmUuX3BjPXRoaXMpKSxlfSk7Y29uc3QgaT1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRUcmFjaztpJiYoZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkVHJhY2s9ZnVuY3Rpb24oKXtjb25zdCBlPWkuYXBwbHkodGhpcyxhcmd1bWVudHMpO3JldHVybiBlLl9wYz10aGlzLGV9KSxlLlJUQ1J0cFNlbmRlci5wcm90b3R5cGUuZ2V0U3RhdHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy50cmFjaz90aGlzLl9wYy5nZXRTdGF0cyh0aGlzLnRyYWNrKTpHaC5yZXNvbHZlKG5ldyBNYXApfX1mdW5jdGlvbiBvcChlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8IWUuUlRDUGVlckNvbm5lY3Rpb258fCFlLlJUQ1J0cFNlbmRlcilyZXR1cm47aWYoZS5SVENSdHBTZW5kZXImJlwiZ2V0U3RhdHNcImluIGUuUlRDUnRwUmVjZWl2ZXIucHJvdG90eXBlKXJldHVybjtjb25zdCB0PWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldFJlY2VpdmVyczt0JiYoZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0UmVjZWl2ZXJzPWZ1bmN0aW9uKCl7Y29uc3QgZT10LmFwcGx5KHRoaXMsW10pO3JldHVybiBlLmZvckVhY2goKGU9PmUuX3BjPXRoaXMpKSxlfSksJG4oZSxcInRyYWNrXCIsKGU9PihlLnJlY2VpdmVyLl9wYz1lLnNyY0VsZW1lbnQsZSkpKSxlLlJUQ1J0cFJlY2VpdmVyLnByb3RvdHlwZS5nZXRTdGF0cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9wYy5nZXRTdGF0cyh0aGlzLnRyYWNrKX19ZnVuY3Rpb24gc3AoZSl7ZS5SVENQZWVyQ29ubmVjdGlvbiYmIShcInJlbW92ZVN0cmVhbVwiaW4gZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUpJiYoZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUucmVtb3ZlU3RyZWFtPWZ1bmN0aW9uKGUpe25yKFwicmVtb3ZlU3RyZWFtXCIsXCJyZW1vdmVUcmFja1wiKSx0aGlzLmdldFNlbmRlcnMoKS5mb3JFYWNoKCh0PT57dmFyIGk7dC50cmFjayYmRG4oaT1lLmdldFRyYWNrcygpKS5jYWxsKGksdC50cmFjaykmJnRoaXMucmVtb3ZlVHJhY2sodCl9KSl9KX1mdW5jdGlvbiBhcChlKXtlLkRhdGFDaGFubmVsJiYhZS5SVENEYXRhQ2hhbm5lbCYmKGUuUlRDRGF0YUNoYW5uZWw9ZS5EYXRhQ2hhbm5lbCl9ZnVuY3Rpb24gY3AoZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fCFlLlJUQ1BlZXJDb25uZWN0aW9uKXJldHVybjtjb25zdCB0PWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZFRyYW5zY2VpdmVyO3QmJihlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRUcmFuc2NlaXZlcj1mdW5jdGlvbigpe3RoaXMuc2V0UGFyYW1ldGVyc1Byb21pc2VzPVtdO2xldCBlPWFyZ3VtZW50c1sxXSYmYXJndW1lbnRzWzFdLnNlbmRFbmNvZGluZ3M7dm9pZCAwPT09ZSYmKGU9W10pLGU9Wy4uLmVdO2NvbnN0IGk9ZS5sZW5ndGg+MDtpJiZlLmZvckVhY2goKGU9PntpZihcInJpZFwiaW4gZSl7aWYoIS9eW2EtejAtOV17MCwxNn0kL2kudGVzdChlLnJpZCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgUklEIHZhbHVlIHByb3ZpZGVkLlwiKX1pZihcInNjYWxlUmVzb2x1dGlvbkRvd25CeVwiaW4gZSYmIShwYXJzZUZsb2F0KGUuc2NhbGVSZXNvbHV0aW9uRG93bkJ5KT49MSkpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJzY2FsZV9yZXNvbHV0aW9uX2Rvd25fYnkgbXVzdCBiZSA+PSAxLjBcIik7aWYoXCJtYXhGcmFtZXJhdGVcImluIGUmJiEocGFyc2VGbG9hdChlLm1heEZyYW1lcmF0ZSk+PTApKXRocm93IG5ldyBSYW5nZUVycm9yKFwibWF4X2ZyYW1lcmF0ZSBtdXN0IGJlID49IDAuMFwiKX0pKTtjb25zdCBuPXQuYXBwbHkodGhpcyxhcmd1bWVudHMpO2lmKGkpe2NvbnN0e3NlbmRlcjp0fT1uLGk9dC5nZXRQYXJhbWV0ZXJzKCk7KCEoXCJlbmNvZGluZ3NcImluIGkpfHwxPT09aS5lbmNvZGluZ3MubGVuZ3RoJiYwPT09T2JqZWN0LmtleXMoaS5lbmNvZGluZ3NbMF0pLmxlbmd0aCkmJihpLmVuY29kaW5ncz1lLHQuc2VuZEVuY29kaW5ncz1lLHRoaXMuc2V0UGFyYW1ldGVyc1Byb21pc2VzLnB1c2godC5zZXRQYXJhbWV0ZXJzKGkpLnRoZW4oKCgpPT57ZGVsZXRlIHQuc2VuZEVuY29kaW5nc30pKS5jYXRjaCgoKCk9PntkZWxldGUgdC5zZW5kRW5jb2RpbmdzfSkpKSl9cmV0dXJuIG59KX1mdW5jdGlvbiBkcChlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8IWUuUlRDUnRwU2VuZGVyKXJldHVybjtjb25zdCB0PWUuUlRDUnRwU2VuZGVyLnByb3RvdHlwZS5nZXRQYXJhbWV0ZXJzO3QmJihlLlJUQ1J0cFNlbmRlci5wcm90b3R5cGUuZ2V0UGFyYW1ldGVycz1mdW5jdGlvbigpe2NvbnN0IGU9dC5hcHBseSh0aGlzLGFyZ3VtZW50cyk7cmV0dXJuXCJlbmNvZGluZ3NcImluIGV8fChlLmVuY29kaW5ncz1bXS5jb25jYXQodGhpcy5zZW5kRW5jb2RpbmdzfHxbe31dKSksZX0pfWZ1bmN0aW9uIGxwKGUpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlfHwhZS5SVENQZWVyQ29ubmVjdGlvbilyZXR1cm47Y29uc3QgdD1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5jcmVhdGVPZmZlcjtlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5jcmVhdGVPZmZlcj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnNldFBhcmFtZXRlcnNQcm9taXNlcyYmdGhpcy5zZXRQYXJhbWV0ZXJzUHJvbWlzZXMubGVuZ3RoP0doLmFsbCh0aGlzLnNldFBhcmFtZXRlcnNQcm9taXNlcykudGhlbigoKCk9PnQuYXBwbHkodGhpcyxhcmd1bWVudHMpKSkuZmluYWxseSgoKCk9Pnt0aGlzLnNldFBhcmFtZXRlcnNQcm9taXNlcz1bXX0pKTp0LmFwcGx5KHRoaXMsYXJndW1lbnRzKX19ZnVuY3Rpb24gdXAoZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fCFlLlJUQ1BlZXJDb25uZWN0aW9uKXJldHVybjtjb25zdCB0PWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmNyZWF0ZUFuc3dlcjtlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5jcmVhdGVBbnN3ZXI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZXRQYXJhbWV0ZXJzUHJvbWlzZXMmJnRoaXMuc2V0UGFyYW1ldGVyc1Byb21pc2VzLmxlbmd0aD9HaC5hbGwodGhpcy5zZXRQYXJhbWV0ZXJzUHJvbWlzZXMpLnRoZW4oKCgpPT50LmFwcGx5KHRoaXMsYXJndW1lbnRzKSkpLmZpbmFsbHkoKCgpPT57dGhpcy5zZXRQYXJhbWV0ZXJzUHJvbWlzZXM9W119KSk6dC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fXZhciBocD1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxzaGltQWRkVHJhbnNjZWl2ZXI6Y3Asc2hpbUNyZWF0ZUFuc3dlcjp1cCxzaGltQ3JlYXRlT2ZmZXI6bHAsc2hpbUdldERpc3BsYXlNZWRpYTpmdW5jdGlvbihlLHQpe2UubmF2aWdhdG9yLm1lZGlhRGV2aWNlcyYmXCJnZXREaXNwbGF5TWVkaWFcImluIGUubmF2aWdhdG9yLm1lZGlhRGV2aWNlc3x8ZS5uYXZpZ2F0b3IubWVkaWFEZXZpY2VzJiYoZS5uYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldERpc3BsYXlNZWRpYT1mdW5jdGlvbihpKXtpZighaXx8IWkudmlkZW8pe2NvbnN0IGU9bmV3IERPTUV4Y2VwdGlvbihcImdldERpc3BsYXlNZWRpYSB3aXRob3V0IHZpZGVvIGNvbnN0cmFpbnRzIGlzIHVuZGVmaW5lZFwiKTtyZXR1cm4gZS5uYW1lPVwiTm90Rm91bmRFcnJvclwiLGUuY29kZT04LEdoLnJlamVjdChlKX1yZXR1cm4hMD09PWkudmlkZW8/aS52aWRlbz17bWVkaWFTb3VyY2U6dH06aS52aWRlby5tZWRpYVNvdXJjZT10LGUubmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoaSl9KX0sc2hpbUdldFBhcmFtZXRlcnM6ZHAsc2hpbUdldFVzZXJNZWRpYTp0cCxzaGltT25UcmFjazppcCxzaGltUGVlckNvbm5lY3Rpb246bnAsc2hpbVJUQ0RhdGFDaGFubmVsOmFwLHNoaW1SZWNlaXZlckdldFN0YXRzOm9wLHNoaW1SZW1vdmVTdHJlYW06c3Asc2hpbVNlbmRlckdldFN0YXRzOnJwfSk7ZnVuY3Rpb24gcHAoZSl7aWYoXCJvYmplY3RcIj09dHlwZW9mIGUmJmUuUlRDUGVlckNvbm5lY3Rpb24pe2lmKFwiZ2V0TG9jYWxTdHJlYW1zXCJpbiBlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZXx8KGUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmdldExvY2FsU3RyZWFtcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9sb2NhbFN0cmVhbXN8fCh0aGlzLl9sb2NhbFN0cmVhbXM9W10pLHRoaXMuX2xvY2FsU3RyZWFtc30pLCEoXCJhZGRTdHJlYW1cImluIGUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlKSl7Y29uc3QgdD1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRUcmFjaztlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5hZGRTdHJlYW09ZnVuY3Rpb24oZSl7dmFyIGk7dGhpcy5fbG9jYWxTdHJlYW1zfHwodGhpcy5fbG9jYWxTdHJlYW1zPVtdKSxEbihpPXRoaXMuX2xvY2FsU3RyZWFtcykuY2FsbChpLGUpfHx0aGlzLl9sb2NhbFN0cmVhbXMucHVzaChlKSxlLmdldEF1ZGlvVHJhY2tzKCkuZm9yRWFjaCgoaT0+dC5jYWxsKHRoaXMsaSxlKSkpLGUuZ2V0VmlkZW9UcmFja3MoKS5mb3JFYWNoKChpPT50LmNhbGwodGhpcyxpLGUpKSl9LGUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZFRyYWNrPWZ1bmN0aW9uKGUpe2Zvcih2YXIgaT1hcmd1bWVudHMubGVuZ3RoLG49bmV3IEFycmF5KGk+MT9pLTE6MCkscj0xO3I8aTtyKyspbltyLTFdPWFyZ3VtZW50c1tyXTtyZXR1cm4gbiYmbi5mb3JFYWNoKChlPT57dmFyIHQ7dGhpcy5fbG9jYWxTdHJlYW1zP0RuKHQ9dGhpcy5fbG9jYWxTdHJlYW1zKS5jYWxsKHQsZSl8fHRoaXMuX2xvY2FsU3RyZWFtcy5wdXNoKGUpOnRoaXMuX2xvY2FsU3RyZWFtcz1bZV19KSksdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fVwicmVtb3ZlU3RyZWFtXCJpbiBlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZXx8KGUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnJlbW92ZVN0cmVhbT1mdW5jdGlvbihlKXt0aGlzLl9sb2NhbFN0cmVhbXN8fCh0aGlzLl9sb2NhbFN0cmVhbXM9W10pO2NvbnN0IHQ9dGhpcy5fbG9jYWxTdHJlYW1zLmluZGV4T2YoZSk7aWYoLTE9PT10KXJldHVybjt0aGlzLl9sb2NhbFN0cmVhbXMuc3BsaWNlKHQsMSk7Y29uc3QgaT1lLmdldFRyYWNrcygpO3RoaXMuZ2V0U2VuZGVycygpLmZvckVhY2goKGU9PntEbihpKS5jYWxsKGksZS50cmFjaykmJnRoaXMucmVtb3ZlVHJhY2soZSl9KSl9KX19ZnVuY3Rpb24gX3AoZSl7aWYoXCJvYmplY3RcIj09dHlwZW9mIGUmJmUuUlRDUGVlckNvbm5lY3Rpb24mJihcImdldFJlbW90ZVN0cmVhbXNcImluIGUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlfHwoZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuZ2V0UmVtb3RlU3RyZWFtcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9yZW1vdGVTdHJlYW1zP3RoaXMuX3JlbW90ZVN0cmVhbXM6W119KSwhKFwib25hZGRzdHJlYW1cImluIGUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlKSkpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSxcIm9uYWRkc3RyZWFtXCIse2dldCgpe3JldHVybiB0aGlzLl9vbmFkZHN0cmVhbX0sc2V0KGUpe3RoaXMuX29uYWRkc3RyZWFtJiYodGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKFwiYWRkc3RyZWFtXCIsdGhpcy5fb25hZGRzdHJlYW0pLHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRyYWNrXCIsdGhpcy5fb25hZGRzdHJlYW1wb2x5KSksdGhpcy5hZGRFdmVudExpc3RlbmVyKFwiYWRkc3RyZWFtXCIsdGhpcy5fb25hZGRzdHJlYW09ZSksdGhpcy5hZGRFdmVudExpc3RlbmVyKFwidHJhY2tcIix0aGlzLl9vbmFkZHN0cmVhbXBvbHk9ZT0+e2Uuc3RyZWFtcy5mb3JFYWNoKChlPT57dmFyIHQ7aWYodGhpcy5fcmVtb3RlU3RyZWFtc3x8KHRoaXMuX3JlbW90ZVN0cmVhbXM9W10pLERuKHQ9dGhpcy5fcmVtb3RlU3RyZWFtcykuY2FsbCh0LGUpKXJldHVybjt0aGlzLl9yZW1vdGVTdHJlYW1zLnB1c2goZSk7Y29uc3QgaT1uZXcgRXZlbnQoXCJhZGRzdHJlYW1cIik7aS5zdHJlYW09ZSx0aGlzLmRpc3BhdGNoRXZlbnQoaSl9KSl9KX19KTtjb25zdCB0PWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnNldFJlbW90ZURlc2NyaXB0aW9uO2UuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnNldFJlbW90ZURlc2NyaXB0aW9uPWZ1bmN0aW9uKCl7Y29uc3QgZT10aGlzO3JldHVybiB0aGlzLl9vbmFkZHN0cmVhbXBvbHl8fHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihcInRyYWNrXCIsdGhpcy5fb25hZGRzdHJlYW1wb2x5PWZ1bmN0aW9uKHQpe3Quc3RyZWFtcy5mb3JFYWNoKCh0PT57aWYoZS5fcmVtb3RlU3RyZWFtc3x8KGUuX3JlbW90ZVN0cmVhbXM9W10pLGUuX3JlbW90ZVN0cmVhbXMuaW5kZXhPZih0KT49MClyZXR1cm47ZS5fcmVtb3RlU3RyZWFtcy5wdXNoKHQpO2NvbnN0IGk9bmV3IEV2ZW50KFwiYWRkc3RyZWFtXCIpO2kuc3RyZWFtPXQsZS5kaXNwYXRjaEV2ZW50KGkpfSkpfSksdC5hcHBseShlLGFyZ3VtZW50cyl9fX1mdW5jdGlvbiBFcChlKXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8IWUuUlRDUGVlckNvbm5lY3Rpb24pcmV0dXJuO2NvbnN0IHQ9ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUsaT10LmNyZWF0ZU9mZmVyLG49dC5jcmVhdGVBbnN3ZXIscj10LnNldExvY2FsRGVzY3JpcHRpb24sbz10LnNldFJlbW90ZURlc2NyaXB0aW9uLHM9dC5hZGRJY2VDYW5kaWRhdGU7dC5jcmVhdGVPZmZlcj1mdW5jdGlvbihlLHQpe2NvbnN0IG49YXJndW1lbnRzLmxlbmd0aD49Mj9hcmd1bWVudHNbMl06YXJndW1lbnRzWzBdLHI9aS5hcHBseSh0aGlzLFtuXSk7cmV0dXJuIHQ/KHIudGhlbihlLHQpLEdoLnJlc29sdmUoKSk6cn0sdC5jcmVhdGVBbnN3ZXI9ZnVuY3Rpb24oZSx0KXtjb25zdCBpPWFyZ3VtZW50cy5sZW5ndGg+PTI/YXJndW1lbnRzWzJdOmFyZ3VtZW50c1swXSxyPW4uYXBwbHkodGhpcyxbaV0pO3JldHVybiB0PyhyLnRoZW4oZSx0KSxHaC5yZXNvbHZlKCkpOnJ9O2xldCBhPWZ1bmN0aW9uKGUsdCxpKXtjb25zdCBuPXIuYXBwbHkodGhpcyxbZV0pO3JldHVybiBpPyhuLnRoZW4odCxpKSxHaC5yZXNvbHZlKCkpOm59O3Quc2V0TG9jYWxEZXNjcmlwdGlvbj1hLGE9ZnVuY3Rpb24oZSx0LGkpe2NvbnN0IG49by5hcHBseSh0aGlzLFtlXSk7cmV0dXJuIGk/KG4udGhlbih0LGkpLEdoLnJlc29sdmUoKSk6bn0sdC5zZXRSZW1vdGVEZXNjcmlwdGlvbj1hLGE9ZnVuY3Rpb24oZSx0LGkpe2NvbnN0IG49cy5hcHBseSh0aGlzLFtlXSk7cmV0dXJuIGk/KG4udGhlbih0LGkpLEdoLnJlc29sdmUoKSk6bn0sdC5hZGRJY2VDYW5kaWRhdGU9YX1mdW5jdGlvbiBtcChlKXtjb25zdCB0PWUmJmUubmF2aWdhdG9yO2lmKHQubWVkaWFEZXZpY2VzJiZ0Lm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEpe2NvbnN0IGU9dC5tZWRpYURldmljZXMsaT1lLmdldFVzZXJNZWRpYS5iaW5kKGUpO3QubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYT1lPT5pKGZwKGUpKX0hdC5nZXRVc2VyTWVkaWEmJnQubWVkaWFEZXZpY2VzJiZ0Lm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEmJih0LmdldFVzZXJNZWRpYT1mdW5jdGlvbihlLGksbil7dC5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKGUpLnRoZW4oaSxuKX0uYmluZCh0KSl9ZnVuY3Rpb24gZnAoZSl7cmV0dXJuIGUmJnZvaWQgMCE9PWUudmlkZW8/T2JqZWN0LmFzc2lnbih7fSxlLHt2aWRlbzpvcihlLnZpZGVvKX0pOmV9ZnVuY3Rpb24gVHAoZSl7aWYoIWUuUlRDUGVlckNvbm5lY3Rpb24pcmV0dXJuO2NvbnN0IHQ9ZS5SVENQZWVyQ29ubmVjdGlvbjtlLlJUQ1BlZXJDb25uZWN0aW9uPWZ1bmN0aW9uKGUsaSl7aWYoZSYmZS5pY2VTZXJ2ZXJzKXtjb25zdCB0PVtdO2ZvcihsZXQgaT0wO2k8ZS5pY2VTZXJ2ZXJzLmxlbmd0aDtpKyspe2xldCBuPWUuaWNlU2VydmVyc1tpXTshbi5oYXNPd25Qcm9wZXJ0eShcInVybHNcIikmJm4uaGFzT3duUHJvcGVydHkoXCJ1cmxcIik/KG5yKFwiUlRDSWNlU2VydmVyLnVybFwiLFwiUlRDSWNlU2VydmVyLnVybHNcIiksbj1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KG4pKSxuLnVybHM9bi51cmwsZGVsZXRlIG4udXJsLHQucHVzaChuKSk6dC5wdXNoKGUuaWNlU2VydmVyc1tpXSl9ZS5pY2VTZXJ2ZXJzPXR9cmV0dXJuIG5ldyB0KGUsaSl9LGUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlPXQucHJvdG90eXBlLFwiZ2VuZXJhdGVDZXJ0aWZpY2F0ZVwiaW4gdCYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUuUlRDUGVlckNvbm5lY3Rpb24sXCJnZW5lcmF0ZUNlcnRpZmljYXRlXCIse2dldDooKT0+dC5nZW5lcmF0ZUNlcnRpZmljYXRlfSl9ZnVuY3Rpb24gU3AoZSl7XCJvYmplY3RcIj09dHlwZW9mIGUmJmUuUlRDVHJhY2tFdmVudCYmXCJyZWNlaXZlclwiaW4gZS5SVENUcmFja0V2ZW50LnByb3RvdHlwZSYmIShcInRyYW5zY2VpdmVyXCJpbiBlLlJUQ1RyYWNrRXZlbnQucHJvdG90eXBlKSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUuUlRDVHJhY2tFdmVudC5wcm90b3R5cGUsXCJ0cmFuc2NlaXZlclwiLHtnZXQoKXtyZXR1cm57cmVjZWl2ZXI6dGhpcy5yZWNlaXZlcn19fSl9ZnVuY3Rpb24gZ3AoZSl7Y29uc3QgdD1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5jcmVhdGVPZmZlcjtlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZS5jcmVhdGVPZmZlcj1mdW5jdGlvbihlKXtpZihlKXt2b2lkIDAhPT1lLm9mZmVyVG9SZWNlaXZlQXVkaW8mJihlLm9mZmVyVG9SZWNlaXZlQXVkaW89ISFlLm9mZmVyVG9SZWNlaXZlQXVkaW8pO2NvbnN0IHQ9dGhpcy5nZXRUcmFuc2NlaXZlcnMoKS5maW5kKChlPT5cImF1ZGlvXCI9PT1lLnJlY2VpdmVyLnRyYWNrLmtpbmQpKTshMT09PWUub2ZmZXJUb1JlY2VpdmVBdWRpbyYmdD9cInNlbmRyZWN2XCI9PT10LmRpcmVjdGlvbj90LnNldERpcmVjdGlvbj90LnNldERpcmVjdGlvbihcInNlbmRvbmx5XCIpOnQuZGlyZWN0aW9uPVwic2VuZG9ubHlcIjpcInJlY3Zvbmx5XCI9PT10LmRpcmVjdGlvbiYmKHQuc2V0RGlyZWN0aW9uP3Quc2V0RGlyZWN0aW9uKFwiaW5hY3RpdmVcIik6dC5kaXJlY3Rpb249XCJpbmFjdGl2ZVwiKTohMCE9PWUub2ZmZXJUb1JlY2VpdmVBdWRpb3x8dHx8dGhpcy5hZGRUcmFuc2NlaXZlcihcImF1ZGlvXCIse2RpcmVjdGlvbjpcInJlY3Zvbmx5XCJ9KSx2b2lkIDAhPT1lLm9mZmVyVG9SZWNlaXZlVmlkZW8mJihlLm9mZmVyVG9SZWNlaXZlVmlkZW89ISFlLm9mZmVyVG9SZWNlaXZlVmlkZW8pO2NvbnN0IGk9dGhpcy5nZXRUcmFuc2NlaXZlcnMoKS5maW5kKChlPT5cInZpZGVvXCI9PT1lLnJlY2VpdmVyLnRyYWNrLmtpbmQpKTshMT09PWUub2ZmZXJUb1JlY2VpdmVWaWRlbyYmaT9cInNlbmRyZWN2XCI9PT1pLmRpcmVjdGlvbj9pLnNldERpcmVjdGlvbj9pLnNldERpcmVjdGlvbihcInNlbmRvbmx5XCIpOmkuZGlyZWN0aW9uPVwic2VuZG9ubHlcIjpcInJlY3Zvbmx5XCI9PT1pLmRpcmVjdGlvbiYmKGkuc2V0RGlyZWN0aW9uP2kuc2V0RGlyZWN0aW9uKFwiaW5hY3RpdmVcIik6aS5kaXJlY3Rpb249XCJpbmFjdGl2ZVwiKTohMCE9PWUub2ZmZXJUb1JlY2VpdmVWaWRlb3x8aXx8dGhpcy5hZGRUcmFuc2NlaXZlcihcInZpZGVvXCIse2RpcmVjdGlvbjpcInJlY3Zvbmx5XCJ9KX1yZXR1cm4gdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fWZ1bmN0aW9uIFJwKGUpe1wib2JqZWN0XCIhPXR5cGVvZiBlfHxlLkF1ZGlvQ29udGV4dHx8KGUuQXVkaW9Db250ZXh0PWUud2Via2l0QXVkaW9Db250ZXh0KX12YXIgQ3A9T2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsc2hpbUF1ZGlvQ29udGV4dDpScCxzaGltQ2FsbGJhY2tzQVBJOkVwLHNoaW1Db25zdHJhaW50czpmcCxzaGltQ3JlYXRlT2ZmZXJMZWdhY3k6Z3Asc2hpbUdldFVzZXJNZWRpYTptcCxzaGltTG9jYWxTdHJlYW1zQVBJOnBwLHNoaW1SVENJY2VTZXJ2ZXJVcmxzOlRwLHNoaW1SZW1vdGVTdHJlYW1zQVBJOl9wLHNoaW1UcmFja0V2ZW50VHJhbnNjZWl2ZXI6U3B9KSxJcD1cIlxcdFxcblxcdlxcZlxcciDCoOGagOKAgOKAgeKAguKAg+KAhOKAheKAhuKAh+KAiOKAieKAiuKAr+KBn+OAgFxcdTIwMjhcXHUyMDI5XFx1ZmVmZlwiLHZwPUoseXA9bW4sQXA9SXAsYnA9ZChcIlwiLnJlcGxhY2UpLHdwPVJlZ0V4cChcIl5bXCIrQXArXCJdK1wiKSxPcD1SZWdFeHAoXCIoXnxbXlwiK0FwK1wiXSlbXCIrQXArXCJdKyRcIiksTnA9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3ZhciBpPXlwKHZwKHQpKTtyZXR1cm4gMSZlJiYoaT1icChpLHdwLFwiXCIpKSwyJmUmJihpPWJwKGksT3AsXCIkMVwiKSksaX19LERwPXtzdGFydDpOcCgxKSxlbmQ6TnAoMiksdHJpbTpOcCgzKX0sUHA9bGEuUFJPUEVSLExwPW4sa3A9SXAsTXA9RHAudHJpbTt3aSh7dGFyZ2V0OlwiU3RyaW5nXCIscHJvdG86ITAsZm9yY2VkOmZ1bmN0aW9uKGUpe3JldHVybiBMcCgoZnVuY3Rpb24oKXtyZXR1cm4hIWtwW2VdKCl8fFwi4oCLwoXhoI5cIiE9PVwi4oCLwoXhoI5cIltlXSgpfHxQcCYma3BbZV0ubmFtZSE9PWV9KSl9KFwidHJpbVwiKX0se3RyaW06ZnVuY3Rpb24oKXtyZXR1cm4gTXAodGhpcyl9fSk7dmFyIFVwPVhpKFwiU3RyaW5nXCIpLnRyaW0seHA9bCxWcD1VcCxGcD1TdHJpbmcucHJvdG90eXBlLEJwPWZ1bmN0aW9uKGUpe3ZhciB0PWUudHJpbTtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZXx8ZT09PUZwfHx4cChGcCxlKSYmdD09PUZwLnRyaW0/VnA6dH0sanA9aShCcCksR3A9e2V4cG9ydHM6e319OyFmdW5jdGlvbihlKXtjb25zdCB0PXtnZW5lcmF0ZUlkZW50aWZpZXI6ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDIsMTIpfX07dC5sb2NhbENOYW1lPXQuZ2VuZXJhdGVJZGVudGlmaWVyKCksdC5zcGxpdExpbmVzPWZ1bmN0aW9uKGUpe3JldHVybiBlLnRyaW0oKS5zcGxpdChcIlxcblwiKS5tYXAoKGU9PmUudHJpbSgpKSl9LHQuc3BsaXRTZWN0aW9ucz1mdW5jdGlvbihlKXtyZXR1cm4gZS5zcGxpdChcIlxcbm09XCIpLm1hcCgoKGUsdCk9Pih0PjA/XCJtPVwiK2U6ZSkudHJpbSgpK1wiXFxyXFxuXCIpKX0sdC5nZXREZXNjcmlwdGlvbj1mdW5jdGlvbihlKXtjb25zdCBpPXQuc3BsaXRTZWN0aW9ucyhlKTtyZXR1cm4gaSYmaVswXX0sdC5nZXRNZWRpYVNlY3Rpb25zPWZ1bmN0aW9uKGUpe2NvbnN0IGk9dC5zcGxpdFNlY3Rpb25zKGUpO3JldHVybiBpLnNoaWZ0KCksaX0sdC5tYXRjaFByZWZpeD1mdW5jdGlvbihlLGkpe3JldHVybiB0LnNwbGl0TGluZXMoZSkuZmlsdGVyKChlPT4wPT09ZS5pbmRleE9mKGkpKSl9LHQucGFyc2VDYW5kaWRhdGU9ZnVuY3Rpb24oZSl7bGV0IHQ7dD0wPT09ZS5pbmRleE9mKFwiYT1jYW5kaWRhdGU6XCIpP2Uuc3Vic3RyaW5nKDEyKS5zcGxpdChcIiBcIik6ZS5zdWJzdHJpbmcoMTApLnNwbGl0KFwiIFwiKTtjb25zdCBpPXtmb3VuZGF0aW9uOnRbMF0sY29tcG9uZW50OnsxOlwicnRwXCIsMjpcInJ0Y3BcIn1bdFsxXV18fHRbMV0scHJvdG9jb2w6dFsyXS50b0xvd2VyQ2FzZSgpLHByaW9yaXR5OnBhcnNlSW50KHRbM10sMTApLGlwOnRbNF0sYWRkcmVzczp0WzRdLHBvcnQ6cGFyc2VJbnQodFs1XSwxMCksdHlwZTp0WzddfTtmb3IobGV0IGU9ODtlPHQubGVuZ3RoO2UrPTIpc3dpdGNoKHRbZV0pe2Nhc2VcInJhZGRyXCI6aS5yZWxhdGVkQWRkcmVzcz10W2UrMV07YnJlYWs7Y2FzZVwicnBvcnRcIjppLnJlbGF0ZWRQb3J0PXBhcnNlSW50KHRbZSsxXSwxMCk7YnJlYWs7Y2FzZVwidGNwdHlwZVwiOmkudGNwVHlwZT10W2UrMV07YnJlYWs7Y2FzZVwidWZyYWdcIjppLnVmcmFnPXRbZSsxXSxpLnVzZXJuYW1lRnJhZ21lbnQ9dFtlKzFdO2JyZWFrO2RlZmF1bHQ6dm9pZCAwPT09aVt0W2VdXSYmKGlbdFtlXV09dFtlKzFdKX1yZXR1cm4gaX0sdC53cml0ZUNhbmRpZGF0ZT1mdW5jdGlvbihlKXtjb25zdCB0PVtdO3QucHVzaChlLmZvdW5kYXRpb24pO2NvbnN0IGk9ZS5jb21wb25lbnQ7XCJydHBcIj09PWk/dC5wdXNoKDEpOlwicnRjcFwiPT09aT90LnB1c2goMik6dC5wdXNoKGkpLHQucHVzaChlLnByb3RvY29sLnRvVXBwZXJDYXNlKCkpLHQucHVzaChlLnByaW9yaXR5KSx0LnB1c2goZS5hZGRyZXNzfHxlLmlwKSx0LnB1c2goZS5wb3J0KTtjb25zdCBuPWUudHlwZTtyZXR1cm4gdC5wdXNoKFwidHlwXCIpLHQucHVzaChuKSxcImhvc3RcIiE9PW4mJmUucmVsYXRlZEFkZHJlc3MmJmUucmVsYXRlZFBvcnQmJih0LnB1c2goXCJyYWRkclwiKSx0LnB1c2goZS5yZWxhdGVkQWRkcmVzcyksdC5wdXNoKFwicnBvcnRcIiksdC5wdXNoKGUucmVsYXRlZFBvcnQpKSxlLnRjcFR5cGUmJlwidGNwXCI9PT1lLnByb3RvY29sLnRvTG93ZXJDYXNlKCkmJih0LnB1c2goXCJ0Y3B0eXBlXCIpLHQucHVzaChlLnRjcFR5cGUpKSwoZS51c2VybmFtZUZyYWdtZW50fHxlLnVmcmFnKSYmKHQucHVzaChcInVmcmFnXCIpLHQucHVzaChlLnVzZXJuYW1lRnJhZ21lbnR8fGUudWZyYWcpKSxcImNhbmRpZGF0ZTpcIit0LmpvaW4oXCIgXCIpfSx0LnBhcnNlSWNlT3B0aW9ucz1mdW5jdGlvbihlKXtyZXR1cm4gZS5zdWJzdHJpbmcoMTQpLnNwbGl0KFwiIFwiKX0sdC5wYXJzZVJ0cE1hcD1mdW5jdGlvbihlKXtsZXQgdD1lLnN1YnN0cmluZyg5KS5zcGxpdChcIiBcIik7Y29uc3QgaT17cGF5bG9hZFR5cGU6cGFyc2VJbnQodC5zaGlmdCgpLDEwKX07cmV0dXJuIHQ9dFswXS5zcGxpdChcIi9cIiksaS5uYW1lPXRbMF0saS5jbG9ja1JhdGU9cGFyc2VJbnQodFsxXSwxMCksaS5jaGFubmVscz0zPT09dC5sZW5ndGg/cGFyc2VJbnQodFsyXSwxMCk6MSxpLm51bUNoYW5uZWxzPWkuY2hhbm5lbHMsaX0sdC53cml0ZVJ0cE1hcD1mdW5jdGlvbihlKXtsZXQgdD1lLnBheWxvYWRUeXBlO3ZvaWQgMCE9PWUucHJlZmVycmVkUGF5bG9hZFR5cGUmJih0PWUucHJlZmVycmVkUGF5bG9hZFR5cGUpO2NvbnN0IGk9ZS5jaGFubmVsc3x8ZS5udW1DaGFubmVsc3x8MTtyZXR1cm5cImE9cnRwbWFwOlwiK3QrXCIgXCIrZS5uYW1lK1wiL1wiK2UuY2xvY2tSYXRlKygxIT09aT9cIi9cIitpOlwiXCIpK1wiXFxyXFxuXCJ9LHQucGFyc2VFeHRtYXA9ZnVuY3Rpb24oZSl7Y29uc3QgdD1lLnN1YnN0cmluZyg5KS5zcGxpdChcIiBcIik7cmV0dXJue2lkOnBhcnNlSW50KHRbMF0sMTApLGRpcmVjdGlvbjp0WzBdLmluZGV4T2YoXCIvXCIpPjA/dFswXS5zcGxpdChcIi9cIilbMV06XCJzZW5kcmVjdlwiLHVyaTp0WzFdLGF0dHJpYnV0ZXM6dC5zbGljZSgyKS5qb2luKFwiIFwiKX19LHQud3JpdGVFeHRtYXA9ZnVuY3Rpb24oZSl7cmV0dXJuXCJhPWV4dG1hcDpcIisoZS5pZHx8ZS5wcmVmZXJyZWRJZCkrKGUuZGlyZWN0aW9uJiZcInNlbmRyZWN2XCIhPT1lLmRpcmVjdGlvbj9cIi9cIitlLmRpcmVjdGlvbjpcIlwiKStcIiBcIitlLnVyaSsoZS5hdHRyaWJ1dGVzP1wiIFwiK2UuYXR0cmlidXRlczpcIlwiKStcIlxcclxcblwifSx0LnBhcnNlRm10cD1mdW5jdGlvbihlKXtjb25zdCB0PXt9O2xldCBpO2NvbnN0IG49ZS5zdWJzdHJpbmcoZS5pbmRleE9mKFwiIFwiKSsxKS5zcGxpdChcIjtcIik7Zm9yKGxldCBlPTA7ZTxuLmxlbmd0aDtlKyspaT1uW2VdLnRyaW0oKS5zcGxpdChcIj1cIiksdFtpWzBdLnRyaW0oKV09aVsxXTtyZXR1cm4gdH0sdC53cml0ZUZtdHA9ZnVuY3Rpb24oZSl7bGV0IHQ9XCJcIixpPWUucGF5bG9hZFR5cGU7aWYodm9pZCAwIT09ZS5wcmVmZXJyZWRQYXlsb2FkVHlwZSYmKGk9ZS5wcmVmZXJyZWRQYXlsb2FkVHlwZSksZS5wYXJhbWV0ZXJzJiZPYmplY3Qua2V5cyhlLnBhcmFtZXRlcnMpLmxlbmd0aCl7Y29uc3Qgbj1bXTtPYmplY3Qua2V5cyhlLnBhcmFtZXRlcnMpLmZvckVhY2goKHQ9Pnt2b2lkIDAhPT1lLnBhcmFtZXRlcnNbdF0/bi5wdXNoKHQrXCI9XCIrZS5wYXJhbWV0ZXJzW3RdKTpuLnB1c2godCl9KSksdCs9XCJhPWZtdHA6XCIraStcIiBcIituLmpvaW4oXCI7XCIpK1wiXFxyXFxuXCJ9cmV0dXJuIHR9LHQucGFyc2VSdGNwRmI9ZnVuY3Rpb24oZSl7Y29uc3QgdD1lLnN1YnN0cmluZyhlLmluZGV4T2YoXCIgXCIpKzEpLnNwbGl0KFwiIFwiKTtyZXR1cm57dHlwZTp0LnNoaWZ0KCkscGFyYW1ldGVyOnQuam9pbihcIiBcIil9fSx0LndyaXRlUnRjcEZiPWZ1bmN0aW9uKGUpe2xldCB0PVwiXCIsaT1lLnBheWxvYWRUeXBlO3JldHVybiB2b2lkIDAhPT1lLnByZWZlcnJlZFBheWxvYWRUeXBlJiYoaT1lLnByZWZlcnJlZFBheWxvYWRUeXBlKSxlLnJ0Y3BGZWVkYmFjayYmZS5ydGNwRmVlZGJhY2subGVuZ3RoJiZlLnJ0Y3BGZWVkYmFjay5mb3JFYWNoKChlPT57dCs9XCJhPXJ0Y3AtZmI6XCIraStcIiBcIitlLnR5cGUrKGUucGFyYW1ldGVyJiZlLnBhcmFtZXRlci5sZW5ndGg/XCIgXCIrZS5wYXJhbWV0ZXI6XCJcIikrXCJcXHJcXG5cIn0pKSx0fSx0LnBhcnNlU3NyY01lZGlhPWZ1bmN0aW9uKGUpe2NvbnN0IHQ9ZS5pbmRleE9mKFwiIFwiKSxpPXtzc3JjOnBhcnNlSW50KGUuc3Vic3RyaW5nKDcsdCksMTApfSxuPWUuaW5kZXhPZihcIjpcIix0KTtyZXR1cm4gbj4tMT8oaS5hdHRyaWJ1dGU9ZS5zdWJzdHJpbmcodCsxLG4pLGkudmFsdWU9ZS5zdWJzdHJpbmcobisxKSk6aS5hdHRyaWJ1dGU9ZS5zdWJzdHJpbmcodCsxKSxpfSx0LnBhcnNlU3NyY0dyb3VwPWZ1bmN0aW9uKGUpe2NvbnN0IHQ9ZS5zdWJzdHJpbmcoMTMpLnNwbGl0KFwiIFwiKTtyZXR1cm57c2VtYW50aWNzOnQuc2hpZnQoKSxzc3Jjczp0Lm1hcCgoZT0+cGFyc2VJbnQoZSwxMCkpKX19LHQuZ2V0TWlkPWZ1bmN0aW9uKGUpe2NvbnN0IGk9dC5tYXRjaFByZWZpeChlLFwiYT1taWQ6XCIpWzBdO2lmKGkpcmV0dXJuIGkuc3Vic3RyaW5nKDYpfSx0LnBhcnNlRmluZ2VycHJpbnQ9ZnVuY3Rpb24oZSl7Y29uc3QgdD1lLnN1YnN0cmluZygxNCkuc3BsaXQoXCIgXCIpO3JldHVybnthbGdvcml0aG06dFswXS50b0xvd2VyQ2FzZSgpLHZhbHVlOnRbMV0udG9VcHBlckNhc2UoKX19LHQuZ2V0RHRsc1BhcmFtZXRlcnM9ZnVuY3Rpb24oZSxpKXtyZXR1cm57cm9sZTpcImF1dG9cIixmaW5nZXJwcmludHM6dC5tYXRjaFByZWZpeChlK2ksXCJhPWZpbmdlcnByaW50OlwiKS5tYXAodC5wYXJzZUZpbmdlcnByaW50KX19LHQud3JpdGVEdGxzUGFyYW1ldGVycz1mdW5jdGlvbihlLHQpe2xldCBpPVwiYT1zZXR1cDpcIit0K1wiXFxyXFxuXCI7cmV0dXJuIGUuZmluZ2VycHJpbnRzLmZvckVhY2goKGU9PntpKz1cImE9ZmluZ2VycHJpbnQ6XCIrZS5hbGdvcml0aG0rXCIgXCIrZS52YWx1ZStcIlxcclxcblwifSkpLGl9LHQucGFyc2VDcnlwdG9MaW5lPWZ1bmN0aW9uKGUpe2NvbnN0IHQ9ZS5zdWJzdHJpbmcoOSkuc3BsaXQoXCIgXCIpO3JldHVybnt0YWc6cGFyc2VJbnQodFswXSwxMCksY3J5cHRvU3VpdGU6dFsxXSxrZXlQYXJhbXM6dFsyXSxzZXNzaW9uUGFyYW1zOnQuc2xpY2UoMyl9fSx0LndyaXRlQ3J5cHRvTGluZT1mdW5jdGlvbihlKXtyZXR1cm5cImE9Y3J5cHRvOlwiK2UudGFnK1wiIFwiK2UuY3J5cHRvU3VpdGUrXCIgXCIrKFwib2JqZWN0XCI9PXR5cGVvZiBlLmtleVBhcmFtcz90LndyaXRlQ3J5cHRvS2V5UGFyYW1zKGUua2V5UGFyYW1zKTplLmtleVBhcmFtcykrKGUuc2Vzc2lvblBhcmFtcz9cIiBcIitlLnNlc3Npb25QYXJhbXMuam9pbihcIiBcIik6XCJcIikrXCJcXHJcXG5cIn0sdC5wYXJzZUNyeXB0b0tleVBhcmFtcz1mdW5jdGlvbihlKXtpZigwIT09ZS5pbmRleE9mKFwiaW5saW5lOlwiKSlyZXR1cm4gbnVsbDtjb25zdCB0PWUuc3Vic3RyaW5nKDcpLnNwbGl0KFwifFwiKTtyZXR1cm57a2V5TWV0aG9kOlwiaW5saW5lXCIsa2V5U2FsdDp0WzBdLGxpZmVUaW1lOnRbMV0sbWtpVmFsdWU6dFsyXT90WzJdLnNwbGl0KFwiOlwiKVswXTp2b2lkIDAsbWtpTGVuZ3RoOnRbMl0/dFsyXS5zcGxpdChcIjpcIilbMV06dm9pZCAwfX0sdC53cml0ZUNyeXB0b0tleVBhcmFtcz1mdW5jdGlvbihlKXtyZXR1cm4gZS5rZXlNZXRob2QrXCI6XCIrZS5rZXlTYWx0KyhlLmxpZmVUaW1lP1wifFwiK2UubGlmZVRpbWU6XCJcIikrKGUubWtpVmFsdWUmJmUubWtpTGVuZ3RoP1wifFwiK2UubWtpVmFsdWUrXCI6XCIrZS5ta2lMZW5ndGg6XCJcIil9LHQuZ2V0Q3J5cHRvUGFyYW1ldGVycz1mdW5jdGlvbihlLGkpe3JldHVybiB0Lm1hdGNoUHJlZml4KGUraSxcImE9Y3J5cHRvOlwiKS5tYXAodC5wYXJzZUNyeXB0b0xpbmUpfSx0LmdldEljZVBhcmFtZXRlcnM9ZnVuY3Rpb24oZSxpKXtjb25zdCBuPXQubWF0Y2hQcmVmaXgoZStpLFwiYT1pY2UtdWZyYWc6XCIpWzBdLHI9dC5tYXRjaFByZWZpeChlK2ksXCJhPWljZS1wd2Q6XCIpWzBdO3JldHVybiBuJiZyP3t1c2VybmFtZUZyYWdtZW50Om4uc3Vic3RyaW5nKDEyKSxwYXNzd29yZDpyLnN1YnN0cmluZygxMCl9Om51bGx9LHQud3JpdGVJY2VQYXJhbWV0ZXJzPWZ1bmN0aW9uKGUpe2xldCB0PVwiYT1pY2UtdWZyYWc6XCIrZS51c2VybmFtZUZyYWdtZW50K1wiXFxyXFxuYT1pY2UtcHdkOlwiK2UucGFzc3dvcmQrXCJcXHJcXG5cIjtyZXR1cm4gZS5pY2VMaXRlJiYodCs9XCJhPWljZS1saXRlXFxyXFxuXCIpLHR9LHQucGFyc2VSdHBQYXJhbWV0ZXJzPWZ1bmN0aW9uKGUpe2NvbnN0IGk9e2NvZGVjczpbXSxoZWFkZXJFeHRlbnNpb25zOltdLGZlY01lY2hhbmlzbXM6W10scnRjcDpbXX0sbj10LnNwbGl0TGluZXMoZSlbMF0uc3BsaXQoXCIgXCIpO2kucHJvZmlsZT1uWzJdO2ZvcihsZXQgcj0zO3I8bi5sZW5ndGg7cisrKXtjb25zdCBvPW5bcl0scz10Lm1hdGNoUHJlZml4KGUsXCJhPXJ0cG1hcDpcIitvK1wiIFwiKVswXTtpZihzKXtjb25zdCBuPXQucGFyc2VSdHBNYXAocykscj10Lm1hdGNoUHJlZml4KGUsXCJhPWZtdHA6XCIrbytcIiBcIik7c3dpdGNoKG4ucGFyYW1ldGVycz1yLmxlbmd0aD90LnBhcnNlRm10cChyWzBdKTp7fSxuLnJ0Y3BGZWVkYmFjaz10Lm1hdGNoUHJlZml4KGUsXCJhPXJ0Y3AtZmI6XCIrbytcIiBcIikubWFwKHQucGFyc2VSdGNwRmIpLGkuY29kZWNzLnB1c2gobiksbi5uYW1lLnRvVXBwZXJDYXNlKCkpe2Nhc2VcIlJFRFwiOmNhc2VcIlVMUEZFQ1wiOmkuZmVjTWVjaGFuaXNtcy5wdXNoKG4ubmFtZS50b1VwcGVyQ2FzZSgpKX19fXQubWF0Y2hQcmVmaXgoZSxcImE9ZXh0bWFwOlwiKS5mb3JFYWNoKChlPT57aS5oZWFkZXJFeHRlbnNpb25zLnB1c2godC5wYXJzZUV4dG1hcChlKSl9KSk7Y29uc3Qgcj10Lm1hdGNoUHJlZml4KGUsXCJhPXJ0Y3AtZmI6KiBcIikubWFwKHQucGFyc2VSdGNwRmIpO3JldHVybiBpLmNvZGVjcy5mb3JFYWNoKChlPT57ci5mb3JFYWNoKCh0PT57ZS5ydGNwRmVlZGJhY2suZmluZCgoZT0+ZS50eXBlPT09dC50eXBlJiZlLnBhcmFtZXRlcj09PXQucGFyYW1ldGVyKSl8fGUucnRjcEZlZWRiYWNrLnB1c2godCl9KSl9KSksaX0sdC53cml0ZVJ0cERlc2NyaXB0aW9uPWZ1bmN0aW9uKGUsaSl7bGV0IG49XCJcIjtuKz1cIm09XCIrZStcIiBcIixuKz1pLmNvZGVjcy5sZW5ndGg+MD9cIjlcIjpcIjBcIixuKz1cIiBcIisoaS5wcm9maWxlfHxcIlVEUC9UTFMvUlRQL1NBVlBGXCIpK1wiIFwiLG4rPWkuY29kZWNzLm1hcCgoZT0+dm9pZCAwIT09ZS5wcmVmZXJyZWRQYXlsb2FkVHlwZT9lLnByZWZlcnJlZFBheWxvYWRUeXBlOmUucGF5bG9hZFR5cGUpKS5qb2luKFwiIFwiKStcIlxcclxcblwiLG4rPVwiYz1JTiBJUDQgMC4wLjAuMFxcclxcblwiLG4rPVwiYT1ydGNwOjkgSU4gSVA0IDAuMC4wLjBcXHJcXG5cIixpLmNvZGVjcy5mb3JFYWNoKChlPT57bis9dC53cml0ZVJ0cE1hcChlKSxuKz10LndyaXRlRm10cChlKSxuKz10LndyaXRlUnRjcEZiKGUpfSkpO2xldCByPTA7cmV0dXJuIGkuY29kZWNzLmZvckVhY2goKGU9PntlLm1heHB0aW1lPnImJihyPWUubWF4cHRpbWUpfSkpLHI+MCYmKG4rPVwiYT1tYXhwdGltZTpcIityK1wiXFxyXFxuXCIpLGkuaGVhZGVyRXh0ZW5zaW9ucyYmaS5oZWFkZXJFeHRlbnNpb25zLmZvckVhY2goKGU9PntuKz10LndyaXRlRXh0bWFwKGUpfSkpLG59LHQucGFyc2VSdHBFbmNvZGluZ1BhcmFtZXRlcnM9ZnVuY3Rpb24oZSl7Y29uc3QgaT1bXSxuPXQucGFyc2VSdHBQYXJhbWV0ZXJzKGUpLHI9LTEhPT1uLmZlY01lY2hhbmlzbXMuaW5kZXhPZihcIlJFRFwiKSxvPS0xIT09bi5mZWNNZWNoYW5pc21zLmluZGV4T2YoXCJVTFBGRUNcIikscz10Lm1hdGNoUHJlZml4KGUsXCJhPXNzcmM6XCIpLm1hcCgoZT0+dC5wYXJzZVNzcmNNZWRpYShlKSkpLmZpbHRlcigoZT0+XCJjbmFtZVwiPT09ZS5hdHRyaWJ1dGUpKSxhPXMubGVuZ3RoPjAmJnNbMF0uc3NyYztsZXQgYztjb25zdCBkPXQubWF0Y2hQcmVmaXgoZSxcImE9c3NyYy1ncm91cDpGSURcIikubWFwKChlPT5lLnN1YnN0cmluZygxNykuc3BsaXQoXCIgXCIpLm1hcCgoZT0+cGFyc2VJbnQoZSwxMCkpKSkpO2QubGVuZ3RoPjAmJmRbMF0ubGVuZ3RoPjEmJmRbMF1bMF09PT1hJiYoYz1kWzBdWzFdKSxuLmNvZGVjcy5mb3JFYWNoKChlPT57aWYoXCJSVFhcIj09PWUubmFtZS50b1VwcGVyQ2FzZSgpJiZlLnBhcmFtZXRlcnMuYXB0KXtsZXQgdD17c3NyYzphLGNvZGVjUGF5bG9hZFR5cGU6cGFyc2VJbnQoZS5wYXJhbWV0ZXJzLmFwdCwxMCl9O2EmJmMmJih0LnJ0eD17c3NyYzpjfSksaS5wdXNoKHQpLHImJih0PUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodCkpLHQuZmVjPXtzc3JjOmEsbWVjaGFuaXNtOm8/XCJyZWQrdWxwZmVjXCI6XCJyZWRcIn0saS5wdXNoKHQpKX19KSksMD09PWkubGVuZ3RoJiZhJiZpLnB1c2goe3NzcmM6YX0pO2xldCBsPXQubWF0Y2hQcmVmaXgoZSxcImI9XCIpO3JldHVybiBsLmxlbmd0aCYmKGw9MD09PWxbMF0uaW5kZXhPZihcImI9VElBUzpcIik/cGFyc2VJbnQobFswXS5zdWJzdHJpbmcoNyksMTApOjA9PT1sWzBdLmluZGV4T2YoXCJiPUFTOlwiKT8xZTMqcGFyc2VJbnQobFswXS5zdWJzdHJpbmcoNSksMTApKi45NS0xNmUzOnZvaWQgMCxpLmZvckVhY2goKGU9PntlLm1heEJpdHJhdGU9bH0pKSksaX0sdC5wYXJzZVJ0Y3BQYXJhbWV0ZXJzPWZ1bmN0aW9uKGUpe2NvbnN0IGk9e30sbj10Lm1hdGNoUHJlZml4KGUsXCJhPXNzcmM6XCIpLm1hcCgoZT0+dC5wYXJzZVNzcmNNZWRpYShlKSkpLmZpbHRlcigoZT0+XCJjbmFtZVwiPT09ZS5hdHRyaWJ1dGUpKVswXTtuJiYoaS5jbmFtZT1uLnZhbHVlLGkuc3NyYz1uLnNzcmMpO2NvbnN0IHI9dC5tYXRjaFByZWZpeChlLFwiYT1ydGNwLXJzaXplXCIpO2kucmVkdWNlZFNpemU9ci5sZW5ndGg+MCxpLmNvbXBvdW5kPTA9PT1yLmxlbmd0aDtjb25zdCBvPXQubWF0Y2hQcmVmaXgoZSxcImE9cnRjcC1tdXhcIik7cmV0dXJuIGkubXV4PW8ubGVuZ3RoPjAsaX0sdC53cml0ZVJ0Y3BQYXJhbWV0ZXJzPWZ1bmN0aW9uKGUpe2xldCB0PVwiXCI7cmV0dXJuIGUucmVkdWNlZFNpemUmJih0Kz1cImE9cnRjcC1yc2l6ZVxcclxcblwiKSxlLm11eCYmKHQrPVwiYT1ydGNwLW11eFxcclxcblwiKSx2b2lkIDAhPT1lLnNzcmMmJmUuY25hbWUmJih0Kz1cImE9c3NyYzpcIitlLnNzcmMrXCIgY25hbWU6XCIrZS5jbmFtZStcIlxcclxcblwiKSx0fSx0LnBhcnNlTXNpZD1mdW5jdGlvbihlKXtsZXQgaTtjb25zdCBuPXQubWF0Y2hQcmVmaXgoZSxcImE9bXNpZDpcIik7aWYoMT09PW4ubGVuZ3RoKXJldHVybiBpPW5bMF0uc3Vic3RyaW5nKDcpLnNwbGl0KFwiIFwiKSx7c3RyZWFtOmlbMF0sdHJhY2s6aVsxXX07Y29uc3Qgcj10Lm1hdGNoUHJlZml4KGUsXCJhPXNzcmM6XCIpLm1hcCgoZT0+dC5wYXJzZVNzcmNNZWRpYShlKSkpLmZpbHRlcigoZT0+XCJtc2lkXCI9PT1lLmF0dHJpYnV0ZSkpO3JldHVybiByLmxlbmd0aD4wPyhpPXJbMF0udmFsdWUuc3BsaXQoXCIgXCIpLHtzdHJlYW06aVswXSx0cmFjazppWzFdfSk6dm9pZCAwfSx0LnBhcnNlU2N0cERlc2NyaXB0aW9uPWZ1bmN0aW9uKGUpe2NvbnN0IGk9dC5wYXJzZU1MaW5lKGUpLG49dC5tYXRjaFByZWZpeChlLFwiYT1tYXgtbWVzc2FnZS1zaXplOlwiKTtsZXQgcjtuLmxlbmd0aD4wJiYocj1wYXJzZUludChuWzBdLnN1YnN0cmluZygxOSksMTApKSxpc05hTihyKSYmKHI9NjU1MzYpO2NvbnN0IG89dC5tYXRjaFByZWZpeChlLFwiYT1zY3RwLXBvcnQ6XCIpO2lmKG8ubGVuZ3RoPjApcmV0dXJue3BvcnQ6cGFyc2VJbnQob1swXS5zdWJzdHJpbmcoMTIpLDEwKSxwcm90b2NvbDppLmZtdCxtYXhNZXNzYWdlU2l6ZTpyfTtjb25zdCBzPXQubWF0Y2hQcmVmaXgoZSxcImE9c2N0cG1hcDpcIik7aWYocy5sZW5ndGg+MCl7Y29uc3QgZT1zWzBdLnN1YnN0cmluZygxMCkuc3BsaXQoXCIgXCIpO3JldHVybntwb3J0OnBhcnNlSW50KGVbMF0sMTApLHByb3RvY29sOmVbMV0sbWF4TWVzc2FnZVNpemU6cn19fSx0LndyaXRlU2N0cERlc2NyaXB0aW9uPWZ1bmN0aW9uKGUsdCl7bGV0IGk9W107cmV0dXJuIGk9XCJEVExTL1NDVFBcIiE9PWUucHJvdG9jb2w/W1wibT1cIitlLmtpbmQrXCIgOSBcIitlLnByb3RvY29sK1wiIFwiK3QucHJvdG9jb2wrXCJcXHJcXG5cIixcImM9SU4gSVA0IDAuMC4wLjBcXHJcXG5cIixcImE9c2N0cC1wb3J0OlwiK3QucG9ydCtcIlxcclxcblwiXTpbXCJtPVwiK2Uua2luZCtcIiA5IFwiK2UucHJvdG9jb2wrXCIgXCIrdC5wb3J0K1wiXFxyXFxuXCIsXCJjPUlOIElQNCAwLjAuMC4wXFxyXFxuXCIsXCJhPXNjdHBtYXA6XCIrdC5wb3J0K1wiIFwiK3QucHJvdG9jb2wrXCIgNjU1MzVcXHJcXG5cIl0sdm9pZCAwIT09dC5tYXhNZXNzYWdlU2l6ZSYmaS5wdXNoKFwiYT1tYXgtbWVzc2FnZS1zaXplOlwiK3QubWF4TWVzc2FnZVNpemUrXCJcXHJcXG5cIiksaS5qb2luKFwiXCIpfSx0LmdlbmVyYXRlU2Vzc2lvbklkPWZ1bmN0aW9uKCl7cmV0dXJuIE1hdGgucmFuZG9tKCkudG9TdHJpbmcoKS5zdWJzdHIoMiwyMil9LHQud3JpdGVTZXNzaW9uQm9pbGVycGxhdGU9ZnVuY3Rpb24oZSxpLG4pe2xldCByO2NvbnN0IG89dm9pZCAwIT09aT9pOjI7cj1lfHx0LmdlbmVyYXRlU2Vzc2lvbklkKCk7cmV0dXJuXCJ2PTBcXHJcXG5vPVwiKyhufHxcInRoaXNpc2FkYXB0ZXJvcnRjXCIpK1wiIFwiK3IrXCIgXCIrbytcIiBJTiBJUDQgMTI3LjAuMC4xXFxyXFxucz0tXFxyXFxudD0wIDBcXHJcXG5cIn0sdC5nZXREaXJlY3Rpb249ZnVuY3Rpb24oZSxpKXtjb25zdCBuPXQuc3BsaXRMaW5lcyhlKTtmb3IobGV0IGU9MDtlPG4ubGVuZ3RoO2UrKylzd2l0Y2gobltlXSl7Y2FzZVwiYT1zZW5kcmVjdlwiOmNhc2VcImE9c2VuZG9ubHlcIjpjYXNlXCJhPXJlY3Zvbmx5XCI6Y2FzZVwiYT1pbmFjdGl2ZVwiOnJldHVybiBuW2VdLnN1YnN0cmluZygyKX1yZXR1cm4gaT90LmdldERpcmVjdGlvbihpKTpcInNlbmRyZWN2XCJ9LHQuZ2V0S2luZD1mdW5jdGlvbihlKXtyZXR1cm4gdC5zcGxpdExpbmVzKGUpWzBdLnNwbGl0KFwiIFwiKVswXS5zdWJzdHJpbmcoMil9LHQuaXNSZWplY3RlZD1mdW5jdGlvbihlKXtyZXR1cm5cIjBcIj09PWUuc3BsaXQoXCIgXCIsMilbMV19LHQucGFyc2VNTGluZT1mdW5jdGlvbihlKXtjb25zdCBpPXQuc3BsaXRMaW5lcyhlKVswXS5zdWJzdHJpbmcoMikuc3BsaXQoXCIgXCIpO3JldHVybntraW5kOmlbMF0scG9ydDpwYXJzZUludChpWzFdLDEwKSxwcm90b2NvbDppWzJdLGZtdDppLnNsaWNlKDMpLmpvaW4oXCIgXCIpfX0sdC5wYXJzZU9MaW5lPWZ1bmN0aW9uKGUpe2NvbnN0IGk9dC5tYXRjaFByZWZpeChlLFwibz1cIilbMF0uc3Vic3RyaW5nKDIpLnNwbGl0KFwiIFwiKTtyZXR1cm57dXNlcm5hbWU6aVswXSxzZXNzaW9uSWQ6aVsxXSxzZXNzaW9uVmVyc2lvbjpwYXJzZUludChpWzJdLDEwKSxuZXRUeXBlOmlbM10sYWRkcmVzc1R5cGU6aVs0XSxhZGRyZXNzOmlbNV19fSx0LmlzVmFsaWRTRFA9ZnVuY3Rpb24oZSl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGV8fDA9PT1lLmxlbmd0aClyZXR1cm4hMTtjb25zdCBpPXQuc3BsaXRMaW5lcyhlKTtmb3IobGV0IGU9MDtlPGkubGVuZ3RoO2UrKylpZihpW2VdLmxlbmd0aDwyfHxcIj1cIiE9PWlbZV0uY2hhckF0KDEpKXJldHVybiExO3JldHVybiEwfSxlLmV4cG9ydHM9dH0oR3ApO3ZhciBXcD1HcC5leHBvcnRzLEhwPWkoV3ApLEtwPWUoe19fcHJvdG9fXzpudWxsLGRlZmF1bHQ6SHB9LFtXcF0pO2Z1bmN0aW9uIFlwKGUpe2lmKCFlLlJUQ0ljZUNhbmRpZGF0ZXx8ZS5SVENJY2VDYW5kaWRhdGUmJlwiZm91bmRhdGlvblwiaW4gZS5SVENJY2VDYW5kaWRhdGUucHJvdG90eXBlKXJldHVybjtjb25zdCB0PWUuUlRDSWNlQ2FuZGlkYXRlO2UuUlRDSWNlQ2FuZGlkYXRlPWZ1bmN0aW9uKGUpe2lmKFwib2JqZWN0XCI9PXR5cGVvZiBlJiZlLmNhbmRpZGF0ZSYmMD09PWUuY2FuZGlkYXRlLmluZGV4T2YoXCJhPVwiKSYmKChlPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZSkpKS5jYW5kaWRhdGU9ZS5jYW5kaWRhdGUuc3Vic3RyKDIpKSxlLmNhbmRpZGF0ZSYmZS5jYW5kaWRhdGUubGVuZ3RoKXtjb25zdCBpPW5ldyB0KGUpLG49SHAucGFyc2VDYW5kaWRhdGUoZS5jYW5kaWRhdGUpLHI9T2JqZWN0LmFzc2lnbihpLG4pO3JldHVybiByLnRvSlNPTj1mdW5jdGlvbigpe3JldHVybntjYW5kaWRhdGU6ci5jYW5kaWRhdGUsc2RwTWlkOnIuc2RwTWlkLHNkcE1MaW5lSW5kZXg6ci5zZHBNTGluZUluZGV4LHVzZXJuYW1lRnJhZ21lbnQ6ci51c2VybmFtZUZyYWdtZW50fX0scn1yZXR1cm4gbmV3IHQoZSl9LGUuUlRDSWNlQ2FuZGlkYXRlLnByb3RvdHlwZT10LnByb3RvdHlwZSwkbihlLFwiaWNlY2FuZGlkYXRlXCIsKHQ9Pih0LmNhbmRpZGF0ZSYmT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJjYW5kaWRhdGVcIix7dmFsdWU6bmV3IGUuUlRDSWNlQ2FuZGlkYXRlKHQuY2FuZGlkYXRlKSx3cml0YWJsZTpcImZhbHNlXCJ9KSx0KSkpfWZ1bmN0aW9uIHFwKGUpeyFlLlJUQ0ljZUNhbmRpZGF0ZXx8ZS5SVENJY2VDYW5kaWRhdGUmJlwicmVsYXlQcm90b2NvbFwiaW4gZS5SVENJY2VDYW5kaWRhdGUucHJvdG90eXBlfHwkbihlLFwiaWNlY2FuZGlkYXRlXCIsKGU9PntpZihlLmNhbmRpZGF0ZSl7Y29uc3QgdD1IcC5wYXJzZUNhbmRpZGF0ZShlLmNhbmRpZGF0ZS5jYW5kaWRhdGUpO1wicmVsYXlcIj09PXQudHlwZSYmKGUuY2FuZGlkYXRlLnJlbGF5UHJvdG9jb2w9ezA6XCJ0bHNcIiwxOlwidGNwXCIsMjpcInVkcFwifVt0LnByaW9yaXR5Pj4yNF0pfXJldHVybiBlfSkpfWZ1bmN0aW9uIHpwKGUsdCl7aWYoIWUuUlRDUGVlckNvbm5lY3Rpb24pcmV0dXJuO1wic2N0cFwiaW4gZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGV8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSxcInNjdHBcIix7Z2V0KCl7cmV0dXJuIHZvaWQgMD09PXRoaXMuX3NjdHA/bnVsbDp0aGlzLl9zY3RwfX0pO2NvbnN0IGk9ZnVuY3Rpb24oZSl7aWYoIWV8fCFlLnNkcClyZXR1cm4hMTtjb25zdCB0PUhwLnNwbGl0U2VjdGlvbnMoZS5zZHApO3JldHVybiB0LnNoaWZ0KCksdC5zb21lKChlPT57Y29uc3QgdD1IcC5wYXJzZU1MaW5lKGUpO3JldHVybiB0JiZcImFwcGxpY2F0aW9uXCI9PT10LmtpbmQmJi0xIT09dC5wcm90b2NvbC5pbmRleE9mKFwiU0NUUFwiKX0pKX0sbj1mdW5jdGlvbihlKXtjb25zdCB0PWUuc2RwLm1hdGNoKC9tb3ppbGxhLi4uVEhJU19JU19TRFBBUlRBLShcXGQrKS8pO2lmKG51bGw9PT10fHx0Lmxlbmd0aDwyKXJldHVybi0xO2NvbnN0IGk9cGFyc2VJbnQodFsxXSwxMCk7cmV0dXJuIGkhPWk/LTE6aX0scj1mdW5jdGlvbihlKXtsZXQgaT02NTUzNjtyZXR1cm5cImZpcmVmb3hcIj09PXQuYnJvd3NlciYmKGk9dC52ZXJzaW9uPDU3Py0xPT09ZT8xNjM4NDoyMTQ3NDgzNjM3OnQudmVyc2lvbjw2MD81Nz09PXQudmVyc2lvbj82NTUzNTo2NTUzNjoyMTQ3NDgzNjM3KSxpfSxvPWZ1bmN0aW9uKGUsaSl7bGV0IG49NjU1MzY7XCJmaXJlZm94XCI9PT10LmJyb3dzZXImJjU3PT09dC52ZXJzaW9uJiYobj02NTUzNSk7Y29uc3Qgcj1IcC5tYXRjaFByZWZpeChlLnNkcCxcImE9bWF4LW1lc3NhZ2Utc2l6ZTpcIik7cmV0dXJuIHIubGVuZ3RoPjA/bj1wYXJzZUludChyWzBdLnN1YnN0cigxOSksMTApOlwiZmlyZWZveFwiPT09dC5icm93c2VyJiYtMSE9PWkmJihuPTIxNDc0ODM2MzcpLG59LHM9ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuc2V0UmVtb3RlRGVzY3JpcHRpb247ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuc2V0UmVtb3RlRGVzY3JpcHRpb249ZnVuY3Rpb24oKXtpZih0aGlzLl9zY3RwPW51bGwsXCJjaHJvbWVcIj09PXQuYnJvd3NlciYmdC52ZXJzaW9uPj03Nil7Y29uc3R7c2RwU2VtYW50aWNzOmV9PXRoaXMuZ2V0Q29uZmlndXJhdGlvbigpO1wicGxhbi1iXCI9PT1lJiZPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxcInNjdHBcIix7Z2V0KCl7cmV0dXJuIHZvaWQgMD09PXRoaXMuX3NjdHA/bnVsbDp0aGlzLl9zY3RwfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pfWlmKGkoYXJndW1lbnRzWzBdKSl7Y29uc3QgZT1uKGFyZ3VtZW50c1swXSksdD1yKGUpLGk9byhhcmd1bWVudHNbMF0sZSk7bGV0IHM7cz0wPT09dCYmMD09PWk/TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZOjA9PT10fHwwPT09aT9NYXRoLm1heCh0LGkpOk1hdGgubWluKHQsaSk7Y29uc3QgYT17fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoYSxcIm1heE1lc3NhZ2VTaXplXCIse2dldDooKT0+c30pLHRoaXMuX3NjdHA9YX1yZXR1cm4gcy5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fWZ1bmN0aW9uIEpwKGUpe2lmKCFlLlJUQ1BlZXJDb25uZWN0aW9ufHwhKFwiY3JlYXRlRGF0YUNoYW5uZWxcImluIGUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlKSlyZXR1cm47ZnVuY3Rpb24gdChlLHQpe2NvbnN0IGk9ZS5zZW5kO2Uuc2VuZD1mdW5jdGlvbigpe2NvbnN0IG49YXJndW1lbnRzWzBdLHI9bi5sZW5ndGh8fG4uc2l6ZXx8bi5ieXRlTGVuZ3RoO2lmKFwib3BlblwiPT09ZS5yZWFkeVN0YXRlJiZ0LnNjdHAmJnI+dC5zY3RwLm1heE1lc3NhZ2VTaXplKXRocm93IG5ldyBUeXBlRXJyb3IoXCJNZXNzYWdlIHRvbyBsYXJnZSAoY2FuIHNlbmQgYSBtYXhpbXVtIG9mIFwiK3Quc2N0cC5tYXhNZXNzYWdlU2l6ZStcIiBieXRlcylcIik7cmV0dXJuIGkuYXBwbHkoZSxhcmd1bWVudHMpfX1jb25zdCBpPWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmNyZWF0ZURhdGFDaGFubmVsO2UuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmNyZWF0ZURhdGFDaGFubmVsPWZ1bmN0aW9uKCl7Y29uc3QgZT1pLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtyZXR1cm4gdChlLHRoaXMpLGV9LCRuKGUsXCJkYXRhY2hhbm5lbFwiLChlPT4odChlLmNoYW5uZWwsZS50YXJnZXQpLGUpKSl9ZnVuY3Rpb24gWHAoZSl7aWYoIWUuUlRDUGVlckNvbm5lY3Rpb258fFwiY29ubmVjdGlvblN0YXRlXCJpbiBlLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZSlyZXR1cm47Y29uc3QgdD1lLlJUQ1BlZXJDb25uZWN0aW9uLnByb3RvdHlwZTtPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcImNvbm5lY3Rpb25TdGF0ZVwiLHtnZXQoKXtyZXR1cm57Y29tcGxldGVkOlwiY29ubmVjdGVkXCIsY2hlY2tpbmc6XCJjb25uZWN0aW5nXCJ9W3RoaXMuaWNlQ29ubmVjdGlvblN0YXRlXXx8dGhpcy5pY2VDb25uZWN0aW9uU3RhdGV9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJvbmNvbm5lY3Rpb25zdGF0ZWNoYW5nZVwiLHtnZXQoKXtyZXR1cm4gdGhpcy5fb25jb25uZWN0aW9uc3RhdGVjaGFuZ2V8fG51bGx9LHNldChlKXt0aGlzLl9vbmNvbm5lY3Rpb25zdGF0ZWNoYW5nZSYmKHRoaXMucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNvbm5lY3Rpb25zdGF0ZWNoYW5nZVwiLHRoaXMuX29uY29ubmVjdGlvbnN0YXRlY2hhbmdlKSxkZWxldGUgdGhpcy5fb25jb25uZWN0aW9uc3RhdGVjaGFuZ2UpLGUmJnRoaXMuYWRkRXZlbnRMaXN0ZW5lcihcImNvbm5lY3Rpb25zdGF0ZWNoYW5nZVwiLHRoaXMuX29uY29ubmVjdGlvbnN0YXRlY2hhbmdlPWUpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLFtcInNldExvY2FsRGVzY3JpcHRpb25cIixcInNldFJlbW90ZURlc2NyaXB0aW9uXCJdLmZvckVhY2goKGU9Pntjb25zdCBpPXRbZV07dFtlXT1mdW5jdGlvbigpe3JldHVybiB0aGlzLl9jb25uZWN0aW9uc3RhdGVjaGFuZ2Vwb2x5fHwodGhpcy5fY29ubmVjdGlvbnN0YXRlY2hhbmdlcG9seT1lPT57Y29uc3QgdD1lLnRhcmdldDtpZih0Ll9sYXN0Q29ubmVjdGlvblN0YXRlIT09dC5jb25uZWN0aW9uU3RhdGUpe3QuX2xhc3RDb25uZWN0aW9uU3RhdGU9dC5jb25uZWN0aW9uU3RhdGU7Y29uc3QgaT1uZXcgRXZlbnQoXCJjb25uZWN0aW9uc3RhdGVjaGFuZ2VcIixlKTt0LmRpc3BhdGNoRXZlbnQoaSl9cmV0dXJuIGV9LHRoaXMuYWRkRXZlbnRMaXN0ZW5lcihcImljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZVwiLHRoaXMuX2Nvbm5lY3Rpb25zdGF0ZWNoYW5nZXBvbHkpKSxpLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19KSl9ZnVuY3Rpb24gUXAoZSx0KXtpZighZS5SVENQZWVyQ29ubmVjdGlvbilyZXR1cm47aWYoXCJjaHJvbWVcIj09PXQuYnJvd3NlciYmdC52ZXJzaW9uPj03MSlyZXR1cm47aWYoXCJzYWZhcmlcIj09PXQuYnJvd3NlciYmdC52ZXJzaW9uPj02MDUpcmV0dXJuO2NvbnN0IGk9ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuc2V0UmVtb3RlRGVzY3JpcHRpb247ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuc2V0UmVtb3RlRGVzY3JpcHRpb249ZnVuY3Rpb24odCl7aWYodCYmdC5zZHAmJi0xIT09dC5zZHAuaW5kZXhPZihcIlxcbmE9ZXh0bWFwLWFsbG93LW1peGVkXCIpKXtjb25zdCBpPXQuc2RwLnNwbGl0KFwiXFxuXCIpLmZpbHRlcigoZT0+XCJhPWV4dG1hcC1hbGxvdy1taXhlZFwiIT09anAoZSkuY2FsbChlKSkpLmpvaW4oXCJcXG5cIik7ZS5SVENTZXNzaW9uRGVzY3JpcHRpb24mJnQgaW5zdGFuY2VvZiBlLlJUQ1Nlc3Npb25EZXNjcmlwdGlvbj9hcmd1bWVudHNbMF09bmV3IGUuUlRDU2Vzc2lvbkRlc2NyaXB0aW9uKHt0eXBlOnQudHlwZSxzZHA6aX0pOnQuc2RwPWl9cmV0dXJuIGkuYXBwbHkodGhpcyxhcmd1bWVudHMpfX1mdW5jdGlvbiBacChlLHQpe2lmKCFlLlJUQ1BlZXJDb25uZWN0aW9ufHwhZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUpcmV0dXJuO2NvbnN0IGk9ZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuYWRkSWNlQ2FuZGlkYXRlO2kmJjAhPT1pLmxlbmd0aCYmKGUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLmFkZEljZUNhbmRpZGF0ZT1mdW5jdGlvbigpe3JldHVybiBhcmd1bWVudHNbMF0/KFwiY2hyb21lXCI9PT10LmJyb3dzZXImJnQudmVyc2lvbjw3OHx8XCJmaXJlZm94XCI9PT10LmJyb3dzZXImJnQudmVyc2lvbjw2OHx8XCJzYWZhcmlcIj09PXQuYnJvd3NlcikmJmFyZ3VtZW50c1swXSYmXCJcIj09PWFyZ3VtZW50c1swXS5jYW5kaWRhdGU/R2gucmVzb2x2ZSgpOmkuYXBwbHkodGhpcyxhcmd1bWVudHMpOihhcmd1bWVudHNbMV0mJmFyZ3VtZW50c1sxXS5hcHBseShudWxsKSxHaC5yZXNvbHZlKCkpfSl9ZnVuY3Rpb24gJHAoZSx0KXtpZighZS5SVENQZWVyQ29ubmVjdGlvbnx8IWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlKXJldHVybjtjb25zdCBpPWUuUlRDUGVlckNvbm5lY3Rpb24ucHJvdG90eXBlLnNldExvY2FsRGVzY3JpcHRpb247aSYmMCE9PWkubGVuZ3RoJiYoZS5SVENQZWVyQ29ubmVjdGlvbi5wcm90b3R5cGUuc2V0TG9jYWxEZXNjcmlwdGlvbj1mdW5jdGlvbigpe2xldCBlPWFyZ3VtZW50c1swXXx8e307aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fGUudHlwZSYmZS5zZHApcmV0dXJuIGkuYXBwbHkodGhpcyxhcmd1bWVudHMpO2lmKGU9e3R5cGU6ZS50eXBlLHNkcDplLnNkcH0sIWUudHlwZSlzd2l0Y2godGhpcy5zaWduYWxpbmdTdGF0ZSl7Y2FzZVwic3RhYmxlXCI6Y2FzZVwiaGF2ZS1sb2NhbC1vZmZlclwiOmNhc2VcImhhdmUtcmVtb3RlLXByYW5zd2VyXCI6ZS50eXBlPVwib2ZmZXJcIjticmVhaztkZWZhdWx0OmUudHlwZT1cImFuc3dlclwifWlmKGUuc2RwfHxcIm9mZmVyXCIhPT1lLnR5cGUmJlwiYW5zd2VyXCIhPT1lLnR5cGUpcmV0dXJuIGkuYXBwbHkodGhpcyxbZV0pO3JldHVybihcIm9mZmVyXCI9PT1lLnR5cGU/dGhpcy5jcmVhdGVPZmZlcjp0aGlzLmNyZWF0ZUFuc3dlcikuYXBwbHkodGhpcykudGhlbigoZT0+aS5hcHBseSh0aGlzLFtlXSkpKX0pfXZhciBlXz1PYmplY3QuZnJlZXplKHtfX3Byb3RvX186bnVsbCxyZW1vdmVFeHRtYXBBbGxvd01peGVkOlFwLHNoaW1BZGRJY2VDYW5kaWRhdGVOdWxsT3JFbXB0eTpacCxzaGltQ29ubmVjdGlvblN0YXRlOlhwLHNoaW1NYXhNZXNzYWdlU2l6ZTp6cCxzaGltUGFyYW1ldGVybGVzc1NldExvY2FsRGVzY3JpcHRpb246JHAsc2hpbVJUQ0ljZUNhbmRpZGF0ZTpZcCxzaGltUlRDSWNlQ2FuZGlkYXRlUmVsYXlQcm90b2NvbDpxcCxzaGltU2VuZFRocm93VHlwZUVycm9yOkpwfSk7IWZ1bmN0aW9uKCl7bGV0e3dpbmRvdzplfT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30sdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e3NoaW1DaHJvbWU6ITAsc2hpbUZpcmVmb3g6ITAsc2hpbVNhZmFyaTohMH07Y29uc3QgaT1pcixuPWZ1bmN0aW9uKGUpe2NvbnN0IHQ9e2Jyb3dzZXI6bnVsbCx2ZXJzaW9uOm51bGx9O2lmKHZvaWQgMD09PWV8fCFlLm5hdmlnYXRvcilyZXR1cm4gdC5icm93c2VyPVwiTm90IGEgYnJvd3Nlci5cIix0O2NvbnN0e25hdmlnYXRvcjppfT1lO2lmKGkubW96R2V0VXNlck1lZGlhKXQuYnJvd3Nlcj1cImZpcmVmb3hcIix0LnZlcnNpb249Wm4oaS51c2VyQWdlbnQsL0ZpcmVmb3hcXC8oXFxkKylcXC4vLDEpO2Vsc2UgaWYoaS53ZWJraXRHZXRVc2VyTWVkaWF8fCExPT09ZS5pc1NlY3VyZUNvbnRleHQmJmUud2Via2l0UlRDUGVlckNvbm5lY3Rpb24pdC5icm93c2VyPVwiY2hyb21lXCIsdC52ZXJzaW9uPVpuKGkudXNlckFnZW50LC9DaHJvbShlfGl1bSlcXC8oXFxkKylcXC4vLDIpO2Vsc2V7aWYoIWUuUlRDUGVlckNvbm5lY3Rpb258fCFpLnVzZXJBZ2VudC5tYXRjaCgvQXBwbGVXZWJLaXRcXC8oXFxkKylcXC4vKSlyZXR1cm4gdC5icm93c2VyPVwiTm90IGEgc3VwcG9ydGVkIGJyb3dzZXIuXCIsdDt0LmJyb3dzZXI9XCJzYWZhcmlcIix0LnZlcnNpb249Wm4oaS51c2VyQWdlbnQsL0FwcGxlV2ViS2l0XFwvKFxcZCspXFwuLywxKSx0LnN1cHBvcnRzVW5pZmllZFBsYW49ZS5SVENSdHBUcmFuc2NlaXZlciYmXCJjdXJyZW50RGlyZWN0aW9uXCJpbiBlLlJUQ1J0cFRyYW5zY2VpdmVyLnByb3RvdHlwZX1yZXR1cm4gdH0oZSkscj17YnJvd3NlckRldGFpbHM6bixjb21tb25TaGltOmVfLGV4dHJhY3RWZXJzaW9uOlpuLGRpc2FibGVMb2c6ZXIsZGlzYWJsZVdhcm5pbmdzOnRyLHNkcDpLcH07c3dpdGNoKG4uYnJvd3Nlcil7Y2FzZVwiY2hyb21lXCI6aWYoIWVwfHwhWmh8fCF0LnNoaW1DaHJvbWUpcmV0dXJuIGkoXCJDaHJvbWUgc2hpbSBpcyBub3QgaW5jbHVkZWQgaW4gdGhpcyBhZGFwdGVyIHJlbGVhc2UuXCIpLHI7aWYobnVsbD09PW4udmVyc2lvbilyZXR1cm4gaShcIkNocm9tZSBzaGltIGNhbiBub3QgZGV0ZXJtaW5lIHZlcnNpb24sIG5vdCBzaGltbWluZy5cIikscjtpKFwiYWRhcHRlci5qcyBzaGltbWluZyBjaHJvbWUuXCIpLHIuYnJvd3NlclNoaW09ZXAsWnAoZSxuKSwkcChlKSxIaChlLG4pLEtoKGUpLFpoKGUsbiksWWgoZSksUWgoZSxuKSxxaChlKSx6aChlKSxKaChlKSwkaChlLG4pLFlwKGUpLHFwKGUpLFhwKGUpLHpwKGUsbiksSnAoZSksUXAoZSxuKTticmVhaztjYXNlXCJmaXJlZm94XCI6aWYoIWhwfHwhbnB8fCF0LnNoaW1GaXJlZm94KXJldHVybiBpKFwiRmlyZWZveCBzaGltIGlzIG5vdCBpbmNsdWRlZCBpbiB0aGlzIGFkYXB0ZXIgcmVsZWFzZS5cIikscjtpKFwiYWRhcHRlci5qcyBzaGltbWluZyBmaXJlZm94LlwiKSxyLmJyb3dzZXJTaGltPWhwLFpwKGUsbiksJHAoZSksdHAoZSxuKSxucChlLG4pLGlwKGUpLHNwKGUpLHJwKGUpLG9wKGUpLGFwKGUpLGNwKGUpLGRwKGUpLGxwKGUpLHVwKGUpLFlwKGUpLFhwKGUpLHpwKGUsbiksSnAoZSk7YnJlYWs7Y2FzZVwic2FmYXJpXCI6aWYoIUNwfHwhdC5zaGltU2FmYXJpKXJldHVybiBpKFwiU2FmYXJpIHNoaW0gaXMgbm90IGluY2x1ZGVkIGluIHRoaXMgYWRhcHRlciByZWxlYXNlLlwiKSxyO2koXCJhZGFwdGVyLmpzIHNoaW1taW5nIHNhZmFyaS5cIiksci5icm93c2VyU2hpbT1DcCxacChlLG4pLCRwKGUpLFRwKGUpLGdwKGUpLEVwKGUpLHBwKGUpLF9wKGUpLFNwKGUpLG1wKGUpLFJwKGUpLFlwKGUpLHFwKGUpLHpwKGUsbiksSnAoZSksUXAoZSxuKTticmVhaztkZWZhdWx0OmkoXCJVbnN1cHBvcnRlZCBicm93c2VyIVwiKX19KHt3aW5kb3c6XCJ1bmRlZmluZWRcIj09dHlwZW9mIHdpbmRvdz92b2lkIDA6d2luZG93fSk7dmFyIHRfPVhpKFwiQXJyYXlcIikua2V5cyxpXz1wbixuXz1aZSxyXz1sLG9fPXRfLHNfPUFycmF5LnByb3RvdHlwZSxhXz17RE9NVG9rZW5MaXN0OiEwLE5vZGVMaXN0OiEwfSxjXz1mdW5jdGlvbihlKXt2YXIgdD1lLmtleXM7cmV0dXJuIGU9PT1zX3x8cl8oc18sZSkmJnQ9PT1zXy5rZXlzfHxuXyhhXyxpXyhlKSk/b186dH0sZF89aShjXyksbF89YmUsdV89VHlwZUVycm9yLGhfPUN0LHBfPVF0LF9fPUIsRV89ZnVuY3Rpb24oZSx0LGkpe3ZhciBuPWhfKHQpO24gaW4gZT9wXy5mKGUsbixfXygwLGkpKTplW25dPWl9LG1fPXhpLGZfPUdpLFRfPUVfLFNfPUFycmF5LGdfPU1hdGgubWF4LFJfPWZ1bmN0aW9uKGUsdCxpKXtmb3IodmFyIG49Zl8oZSkscj1tXyh0LG4pLG89bV8odm9pZCAwPT09aT9uOmksbikscz1TXyhnXyhvLXIsMCkpLGE9MDtyPG87cisrLGErKylUXyhzLGEsZVtyXSk7cmV0dXJuIHMubGVuZ3RoPWEsc30sQ189Ul8sSV89TWF0aC5mbG9vcix2Xz1mdW5jdGlvbihlLHQpe3ZhciBpPWUubGVuZ3RoLG49SV8oaS8yKTtyZXR1cm4gaTw4P3lfKGUsdCk6QV8oZSx2XyhDXyhlLDAsbiksdCksdl8oQ18oZSxuKSx0KSx0KX0seV89ZnVuY3Rpb24oZSx0KXtmb3IodmFyIGksbixyPWUubGVuZ3RoLG89MTtvPHI7KXtmb3Iobj1vLGk9ZVtvXTtuJiZ0KGVbbi0xXSxpKT4wOyllW25dPWVbLS1uXTtuIT09bysrJiYoZVtuXT1pKX1yZXR1cm4gZX0sQV89ZnVuY3Rpb24oZSx0LGksbil7Zm9yKHZhciByPXQubGVuZ3RoLG89aS5sZW5ndGgscz0wLGE9MDtzPHJ8fGE8bzspZVtzK2FdPXM8ciYmYTxvP24odFtzXSxpW2FdKTw9MD90W3MrK106aVthKytdOnM8cj90W3MrK106aVthKytdO3JldHVybiBlfSxiXz12Xyx3Xz1jZS5tYXRjaCgvZmlyZWZveFxcLyhcXGQrKS9pKSxPXz0hIXdfJiYrd19bMV0sTl89L01TSUV8VHJpZGVudC8udGVzdChjZSksRF89Y2UubWF0Y2goL0FwcGxlV2ViS2l0XFwvKFxcZCspXFwuLyksUF89ISFEXyYmK0RfWzFdLExfPXdpLGtfPWQsTV89RGUsVV89SmUseF89R2ksVl89ZnVuY3Rpb24oZSx0KXtpZighZGVsZXRlIGVbdF0pdGhyb3cgdV8oXCJDYW5ub3QgZGVsZXRlIHByb3BlcnR5IFwiK2xfKHQpK1wiIG9mIFwiK2xfKGUpKX0sRl89bW4sQl89bixqXz1iXyxHXz1CbixXXz1PXyxIXz1OXyxLXz1FZSxZXz1QXyxxXz1bXSx6Xz1rXyhxXy5zb3J0KSxKXz1rXyhxXy5wdXNoKSxYXz1CXygoZnVuY3Rpb24oKXtxXy5zb3J0KHZvaWQgMCl9KSksUV89Ql8oKGZ1bmN0aW9uKCl7cV8uc29ydChudWxsKX0pKSxaXz1HXyhcInNvcnRcIiksJF89IUJfKChmdW5jdGlvbigpe2lmKEtfKXJldHVybiBLXzw3MDtpZighKFdfJiZXXz4zKSl7aWYoSF8pcmV0dXJuITA7aWYoWV8pcmV0dXJuIFlfPDYwMzt2YXIgZSx0LGksbixyPVwiXCI7Zm9yKGU9NjU7ZTw3NjtlKyspe3N3aXRjaCh0PVN0cmluZy5mcm9tQ2hhckNvZGUoZSksZSl7Y2FzZSA2NjpjYXNlIDY5OmNhc2UgNzA6Y2FzZSA3MjppPTM7YnJlYWs7Y2FzZSA2ODpjYXNlIDcxOmk9NDticmVhaztkZWZhdWx0Omk9Mn1mb3Iobj0wO248NDc7bisrKXFfLnB1c2goe2s6dCtuLHY6aX0pfWZvcihxXy5zb3J0KChmdW5jdGlvbihlLHQpe3JldHVybiB0LnYtZS52fSkpLG49MDtuPHFfLmxlbmd0aDtuKyspdD1xX1tuXS5rLmNoYXJBdCgwKSxyLmNoYXJBdChyLmxlbmd0aC0xKSE9PXQmJihyKz10KTtyZXR1cm5cIkRHQkVGSEFDSUpLXCIhPT1yfX0pKTtMXyh7dGFyZ2V0OlwiQXJyYXlcIixwcm90bzohMCxmb3JjZWQ6WF98fCFRX3x8IVpffHwhJF99LHtzb3J0OmZ1bmN0aW9uKGUpe3ZvaWQgMCE9PWUmJk1fKGUpO3ZhciB0PVVfKHRoaXMpO2lmKCRfKXJldHVybiB2b2lkIDA9PT1lP3pfKHQpOnpfKHQsZSk7dmFyIGksbixyPVtdLG89eF8odCk7Zm9yKG49MDtuPG87bisrKW4gaW4gdCYmSl8ocix0W25dKTtmb3Ioal8ocixmdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24odCxpKXtyZXR1cm4gdm9pZCAwPT09aT8tMTp2b2lkIDA9PT10PzE6dm9pZCAwIT09ZT8rZSh0LGkpfHwwOkZfKHQpPkZfKGkpPzE6LTF9fShlKSksaT14XyhyKSxuPTA7bjxpOyl0W25dPXJbbisrXTtmb3IoO248bzspVl8odCxuKyspO3JldHVybiB0fX0pO3ZhciBlRSx0RSxpRT1YaShcIkFycmF5XCIpLnNvcnQsbkU9bCxyRT1pRSxvRT1BcnJheS5wcm90b3R5cGUsc0U9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zb3J0O3JldHVybiBlPT09b0V8fG5FKG9FLGUpJiZ0PT09b0Uuc29ydD9yRTp0fSxhRT1pKHNFKSxjRT17ZXhwb3J0czp7fX07ZUU9Y0UsdEU9Y0UuZXhwb3J0cyxmdW5jdGlvbihlLHQpe3ZhciBpPVwiZnVuY3Rpb25cIixuPVwidW5kZWZpbmVkXCIscj1cIm9iamVjdFwiLG89XCJzdHJpbmdcIixzPVwibWFqb3JcIixhPVwibW9kZWxcIixjPVwibmFtZVwiLGQ9XCJ0eXBlXCIsbD1cInZlbmRvclwiLHU9XCJ2ZXJzaW9uXCIsaD1cImFyY2hpdGVjdHVyZVwiLHA9XCJjb25zb2xlXCIsXz1cIm1vYmlsZVwiLEU9XCJ0YWJsZXRcIixtPVwic21hcnR0dlwiLGY9XCJ3ZWFyYWJsZVwiLFQ9XCJlbWJlZGRlZFwiLFM9XCJBbWF6b25cIixnPVwiQXBwbGVcIixSPVwiQVNVU1wiLEM9XCJCbGFja0JlcnJ5XCIsST1cIkJyb3dzZXJcIix2PVwiQ2hyb21lXCIseT1cIkZpcmVmb3hcIixBPVwiR29vZ2xlXCIsYj1cIkh1YXdlaVwiLHc9XCJMR1wiLE89XCJNaWNyb3NvZnRcIixOPVwiTW90b3JvbGFcIixEPVwiT3BlcmFcIixQPVwiU2Ftc3VuZ1wiLEw9XCJTaGFycFwiLGs9XCJTb255XCIsTT1cIlhpYW9taVwiLFU9XCJaZWJyYVwiLHg9XCJGYWNlYm9va1wiLFY9XCJDaHJvbWl1bSBPU1wiLEY9XCJNYWMgT1NcIixCPWZ1bmN0aW9uKGUpe2Zvcih2YXIgdD17fSxpPTA7aTxlLmxlbmd0aDtpKyspdFtlW2ldLnRvVXBwZXJDYXNlKCldPWVbaV07cmV0dXJuIHR9LGo9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdHlwZW9mIGU9PT1vJiYtMSE9PUcodCkuaW5kZXhPZihHKGUpKX0sRz1mdW5jdGlvbihlKXtyZXR1cm4gZS50b0xvd2VyQ2FzZSgpfSxXPWZ1bmN0aW9uKGUsdCl7aWYodHlwZW9mIGU9PT1vKXJldHVybiBlPWUucmVwbGFjZSgvXlxcc1xccyovLFwiXCIpLHR5cGVvZiB0PT09bj9lOmUuc3Vic3RyaW5nKDAsMzUwKX0sSD1mdW5jdGlvbihlLG4pe2Zvcih2YXIgbyxzLGEsYyxkLGwsdT0wO3U8bi5sZW5ndGgmJiFkOyl7dmFyIGg9blt1XSxwPW5bdSsxXTtmb3Iobz1zPTA7bzxoLmxlbmd0aCYmIWQmJmhbb107KWlmKGQ9aFtvKytdLmV4ZWMoZSkpZm9yKGE9MDthPHAubGVuZ3RoO2ErKylsPWRbKytzXSx0eXBlb2YoYz1wW2FdKT09PXImJmMubGVuZ3RoPjA/Mj09PWMubGVuZ3RoP3R5cGVvZiBjWzFdPT1pP3RoaXNbY1swXV09Y1sxXS5jYWxsKHRoaXMsbCk6dGhpc1tjWzBdXT1jWzFdOjM9PT1jLmxlbmd0aD90eXBlb2YgY1sxXSE9PWl8fGNbMV0uZXhlYyYmY1sxXS50ZXN0P3RoaXNbY1swXV09bD9sLnJlcGxhY2UoY1sxXSxjWzJdKTp0OnRoaXNbY1swXV09bD9jWzFdLmNhbGwodGhpcyxsLGNbMl0pOnQ6ND09PWMubGVuZ3RoJiYodGhpc1tjWzBdXT1sP2NbM10uY2FsbCh0aGlzLGwucmVwbGFjZShjWzFdLGNbMl0pKTp0KTp0aGlzW2NdPWx8fHQ7dSs9Mn19LEs9ZnVuY3Rpb24oZSxpKXtmb3IodmFyIG4gaW4gaSlpZih0eXBlb2YgaVtuXT09PXImJmlbbl0ubGVuZ3RoPjApe2Zvcih2YXIgbz0wO288aVtuXS5sZW5ndGg7bysrKWlmKGooaVtuXVtvXSxlKSlyZXR1cm5cIj9cIj09PW4/dDpufWVsc2UgaWYoaihpW25dLGUpKXJldHVyblwiP1wiPT09bj90Om47cmV0dXJuIGV9LFk9e01FOlwiNC45MFwiLFwiTlQgMy4xMVwiOlwiTlQzLjUxXCIsXCJOVCA0LjBcIjpcIk5UNC4wXCIsMmUzOlwiTlQgNS4wXCIsWFA6W1wiTlQgNS4xXCIsXCJOVCA1LjJcIl0sVmlzdGE6XCJOVCA2LjBcIiw3OlwiTlQgNi4xXCIsODpcIk5UIDYuMlwiLDguMTpcIk5UIDYuM1wiLDEwOltcIk5UIDYuNFwiLFwiTlQgMTAuMFwiXSxSVDpcIkFSTVwifSxxPXticm93c2VyOltbL1xcYig/OmNybW98Y3Jpb3MpXFwvKFtcXHdcXC5dKykvaV0sW3UsW2MsXCJDaHJvbWVcIl1dLFsvZWRnKD86ZXxpb3N8YSk/XFwvKFtcXHdcXC5dKykvaV0sW3UsW2MsXCJFZGdlXCJdXSxbLyhvcGVyYSBtaW5pKVxcLyhbLVxcd1xcLl0rKS9pLC8ob3BlcmEgW21vYmlsZXRhYl17Myw2fSlcXGIuK3ZlcnNpb25cXC8oWy1cXHdcXC5dKykvaSwvKG9wZXJhKSg/Oi4rdmVyc2lvblxcL3xbXFwvIF0rKShbXFx3XFwuXSspL2ldLFtjLHVdLFsvb3Bpb3NbXFwvIF0rKFtcXHdcXC5dKykvaV0sW3UsW2MsRCtcIiBNaW5pXCJdXSxbL1xcYm9wclxcLyhbXFx3XFwuXSspL2ldLFt1LFtjLERdXSxbLyhraW5kbGUpXFwvKFtcXHdcXC5dKykvaSwvKGx1bmFzY2FwZXxtYXh0aG9ufG5ldGZyb250fGphc21pbmV8YmxhemVyKVtcXC8gXT8oW1xcd1xcLl0qKS9pLC8oYXZhbnQgfGllbW9iaWxlfHNsaW0pKD86YnJvd3Nlcik/W1xcLyBdPyhbXFx3XFwuXSopL2ksLyhiYT9pZHVicm93c2VyKVtcXC8gXT8oW1xcd1xcLl0rKS9pLC8oPzptc3xcXCgpKGllKSAoW1xcd1xcLl0rKS9pLC8oZmxvY2t8cm9ja21lbHR8bWlkb3JpfGVwaXBoYW55fHNpbGt8c2t5ZmlyZXxvdmlicm93c2VyfGJvbHR8aXJvbnx2aXZhbGRpfGlyaWRpdW18cGhhbnRvbWpzfGJvd3NlcnxxdWFya3xxdXB6aWxsYXxmYWxrb258cmVrb25xfHB1ZmZpbnxicmF2ZXx3aGFsZSg/IS4rbmF2ZXIpfHFxYnJvd3NlcmxpdGV8cXF8ZHVja2R1Y2tnbylcXC8oWy1cXHdcXC5dKykvaSwvKHdlaWJvKV9fKFtcXGRcXC5dKykvaV0sW2MsdV0sWy8oPzpcXGJ1Yz8gP2Jyb3dzZXJ8KD86anVjLispdWN3ZWIpW1xcLyBdPyhbXFx3XFwuXSspL2ldLFt1LFtjLFwiVUNcIitJXV0sWy9taWNyb20uK1xcYnFiY29yZVxcLyhbXFx3XFwuXSspL2ksL1xcYnFiY29yZVxcLyhbXFx3XFwuXSspLittaWNyb20vaV0sW3UsW2MsXCJXZUNoYXQoV2luKSBEZXNrdG9wXCJdXSxbL21pY3JvbWVzc2VuZ2VyXFwvKFtcXHdcXC5dKykvaV0sW3UsW2MsXCJXZUNoYXRcIl1dLFsva29ucXVlcm9yXFwvKFtcXHdcXC5dKykvaV0sW3UsW2MsXCJLb25xdWVyb3JcIl1dLFsvdHJpZGVudC4rcnZbOiBdKFtcXHdcXC5dezEsOX0pXFxiLitsaWtlIGdlY2tvL2ldLFt1LFtjLFwiSUVcIl1dLFsveWFicm93c2VyXFwvKFtcXHdcXC5dKykvaV0sW3UsW2MsXCJZYW5kZXhcIl1dLFsvKGF2YXN0fGF2ZylcXC8oW1xcd1xcLl0rKS9pXSxbW2MsLyguKykvLFwiJDEgU2VjdXJlIFwiK0ldLHVdLFsvXFxiZm9jdXNcXC8oW1xcd1xcLl0rKS9pXSxbdSxbYyx5K1wiIEZvY3VzXCJdXSxbL1xcYm9wdFxcLyhbXFx3XFwuXSspL2ldLFt1LFtjLEQrXCIgVG91Y2hcIl1dLFsvY29jX2NvY1xcdytcXC8oW1xcd1xcLl0rKS9pXSxbdSxbYyxcIkNvYyBDb2NcIl1dLFsvZG9sZmluXFwvKFtcXHdcXC5dKykvaV0sW3UsW2MsXCJEb2xwaGluXCJdXSxbL2NvYXN0XFwvKFtcXHdcXC5dKykvaV0sW3UsW2MsRCtcIiBDb2FzdFwiXV0sWy9taXVpYnJvd3NlclxcLyhbXFx3XFwuXSspL2ldLFt1LFtjLFwiTUlVSSBcIitJXV0sWy9meGlvc1xcLyhbLVxcd1xcLl0rKS9pXSxbdSxbYyx5XV0sWy9cXGJxaWh1fChxaT9obz9vP3wzNjApYnJvd3Nlci9pXSxbW2MsXCIzNjAgXCIrSV1dLFsvKG9jdWx1c3xzYW1zdW5nfHNhaWxmaXNofGh1YXdlaSlicm93c2VyXFwvKFtcXHdcXC5dKykvaV0sW1tjLC8oLispLyxcIiQxIFwiK0ldLHVdLFsvKGNvbW9kb19kcmFnb24pXFwvKFtcXHdcXC5dKykvaV0sW1tjLC9fL2csXCIgXCJdLHVdLFsvKGVsZWN0cm9uKVxcLyhbXFx3XFwuXSspIHNhZmFyaS9pLC8odGVzbGEpKD86IHF0Y2FyYnJvd3NlcnxcXC8oMjBcXGRcXGRcXC5bLVxcd1xcLl0rKSkvaSwvbT8ocXFicm93c2VyfGJhaWR1Ym94YXBwfDIzNDVFeHBsb3JlcilbXFwvIF0/KFtcXHdcXC5dKykvaV0sW2MsdV0sWy8obWV0YXNyKVtcXC8gXT8oW1xcd1xcLl0rKS9pLC8obGJicm93c2VyKS9pLC9cXFsobGlua2VkaW4pYXBwXFxdL2ldLFtjXSxbLygoPzpmYmFuXFwvZmJpb3N8ZmJfaWFiXFwvZmI0YSkoPyEuK2ZiYXYpfDtmYmF2XFwvKFtcXHdcXC5dKyk7KS9pXSxbW2MseF0sdV0sWy8oa2FrYW8oPzp0YWxrfHN0b3J5KSlbXFwvIF0oW1xcd1xcLl0rKS9pLC8obmF2ZXIpXFwoLio/KFxcZCtcXC5bXFx3XFwuXSspLipcXCkvaSwvc2FmYXJpIChsaW5lKVxcLyhbXFx3XFwuXSspL2ksL1xcYihsaW5lKVxcLyhbXFx3XFwuXSspXFwvaWFiL2ksLyhjaHJvbWl1bXxpbnN0YWdyYW0pW1xcLyBdKFstXFx3XFwuXSspL2ldLFtjLHVdLFsvXFxiZ3NhXFwvKFtcXHdcXC5dKykgLipzYWZhcmlcXC8vaV0sW3UsW2MsXCJHU0FcIl1dLFsvaGVhZGxlc3NjaHJvbWUoPzpcXC8oW1xcd1xcLl0rKXwgKS9pXSxbdSxbYyx2K1wiIEhlYWRsZXNzXCJdXSxbLyB3dlxcKS4rKGNocm9tZSlcXC8oW1xcd1xcLl0rKS9pXSxbW2MsditcIiBXZWJWaWV3XCJdLHVdLFsvZHJvaWQuKyB2ZXJzaW9uXFwvKFtcXHdcXC5dKylcXGIuKyg/Om1vYmlsZSBzYWZhcml8c2FmYXJpKS9pXSxbdSxbYyxcIkFuZHJvaWQgXCIrSV1dLFsvKGNocm9tZXxvbW5pd2VifGFyb3JhfFt0aXplbm9rYV17NX0gP2Jyb3dzZXIpXFwvdj8oW1xcd1xcLl0rKS9pXSxbYyx1XSxbL3ZlcnNpb25cXC8oW1xcd1xcLlxcLF0rKSAuKm1vYmlsZVxcL1xcdysgKHNhZmFyaSkvaV0sW3UsW2MsXCJNb2JpbGUgU2FmYXJpXCJdXSxbL3ZlcnNpb25cXC8oW1xcdyhcXC58XFwsKV0rKSAuKihtb2JpbGUgP3NhZmFyaXxzYWZhcmkpL2ldLFt1LGNdLFsvd2Via2l0Lis/KG1vYmlsZSA/c2FmYXJpfHNhZmFyaSkoXFwvW1xcd1xcLl0rKS9pXSxbYyxbdSxLLHtcIjEuMFwiOlwiLzhcIiwxLjI6XCIvMVwiLDEuMzpcIi8zXCIsXCIyLjBcIjpcIi80MTJcIixcIjIuMC4yXCI6XCIvNDE2XCIsXCIyLjAuM1wiOlwiLzQxN1wiLFwiMi4wLjRcIjpcIi80MTlcIixcIj9cIjpcIi9cIn1dXSxbLyh3ZWJraXR8a2h0bWwpXFwvKFtcXHdcXC5dKykvaV0sW2MsdV0sWy8obmF2aWdhdG9yfG5ldHNjYXBlXFxkPylcXC8oWy1cXHdcXC5dKykvaV0sW1tjLFwiTmV0c2NhcGVcIl0sdV0sWy9tb2JpbGUgdnI7IHJ2OihbXFx3XFwuXSspXFwpLitmaXJlZm94L2ldLFt1LFtjLHkrXCIgUmVhbGl0eVwiXV0sWy9la2lvaGYuKyhmbG93KVxcLyhbXFx3XFwuXSspL2ksLyhzd2lmdGZveCkvaSwvKGljZWRyYWdvbnxpY2V3ZWFzZWx8Y2FtaW5vfGNoaW1lcmF8ZmVubmVjfG1hZW1vIGJyb3dzZXJ8bWluaW1vfGNvbmtlcm9yfGtsYXIpW1xcLyBdPyhbXFx3XFwuXFwrXSspL2ksLyhzZWFtb25rZXl8ay1tZWxlb258aWNlY2F0fGljZWFwZXxmaXJlYmlyZHxwaG9lbml4fHBhbGVtb29ufGJhc2lsaXNrfHdhdGVyZm94KVxcLyhbLVxcd1xcLl0rKSQvaSwvKGZpcmVmb3gpXFwvKFtcXHdcXC5dKykvaSwvKG1vemlsbGEpXFwvKFtcXHdcXC5dKykgLitydlxcOi4rZ2Vja29cXC9cXGQrL2ksLyhwb2xhcmlzfGx5bnh8ZGlsbG98aWNhYnxkb3Jpc3xhbWF5YXx3M218bmV0c3VyZnxzbGVpcG5pcnxvYmlnb3xtb3NhaWN8KD86Z298aWNlfHVwKVtcXC4gXT9icm93c2VyKVstXFwvIF0/dj8oW1xcd1xcLl0rKS9pLC8obGlua3MpIFxcKChbXFx3XFwuXSspL2ksL3BhbmFzb25pYzsodmllcmEpL2ldLFtjLHVdLFsvKGNvYmFsdClcXC8oW1xcd1xcLl0rKS9pXSxbYyxbdSwvbWFzdGVyLnxsdHMuLyxcIlwiXV1dLGNwdTpbWy8oPzooYW1kfHgoPzooPzo4Nnw2NClbLV9dKT98d293fHdpbik2NClbO1xcKV0vaV0sW1toLFwiYW1kNjRcIl1dLFsvKGlhMzIoPz07KSkvaV0sW1toLEddXSxbLygoPzppWzM0Nl18eCk4NilbO1xcKV0vaV0sW1toLFwiaWEzMlwiXV0sWy9cXGIoYWFyY2g2NHxhcm0odj84ZT9sP3xfPzY0KSlcXGIvaV0sW1toLFwiYXJtNjRcIl1dLFsvXFxiKGFybSg/OnZbNjddKT9odD9uP1tmbF1wPylcXGIvaV0sW1toLFwiYXJtaGZcIl1dLFsvd2luZG93cyAoY2V8bW9iaWxlKTsgcHBjOy9pXSxbW2gsXCJhcm1cIl1dLFsvKCg/OnBwY3xwb3dlcnBjKSg/OjY0KT8pKD86IG1hY3w7fFxcKSkvaV0sW1toLC9vd2VyLyxcIlwiLEddXSxbLyhzdW40XFx3KVs7XFwpXS9pXSxbW2gsXCJzcGFyY1wiXV0sWy8oKD86YXZyMzJ8aWE2NCg/PTspKXw2OGsoPz1cXCkpfFxcYmFybSg/PXYoPzpbMS03XXxbNS03XTEpbD98O3xlYWJpKXwoPz1hdG1lbCApYXZyfCg/OmlyaXh8bWlwc3xzcGFyYykoPzo2NCk/XFxifHBhLXJpc2MpL2ldLFtbaCxHXV1dLGRldmljZTpbWy9cXGIoc2NoLWlbODldMFxcZHxzaHctbTM4MHN8c20tW3B0eF1cXHd7Miw0fXxndC1bcG5dXFxkezIsNH18c2doLXQ4WzU2XTl8bmV4dXMgMTApL2ldLFthLFtsLFBdLFtkLEVdXSxbL1xcYigoPzpzW2NncF1ofGd0fHNtKS1cXHcrfHNjW2ctXT9bXFxkXSthP3xnYWxheHkgbmV4dXMpL2ksL3NhbXN1bmdbLSBdKFstXFx3XSspL2ksL3NlYy0oc2doXFx3KykvaV0sW2EsW2wsUF0sW2QsX11dLFsvXFwoKGlwKD86aG9uZXxvZClbXFx3IF0qKTsvaV0sW2EsW2wsZ10sW2QsX11dLFsvXFwoKGlwYWQpO1stXFx3XFwpLDsgXSthcHBsZS9pLC9hcHBsZWNvcmVtZWRpYVxcL1tcXHdcXC5dKyBcXCgoaXBhZCkvaSwvXFxiKGlwYWQpXFxkXFxkPyxcXGRcXGQ/WztcXF1dLitpb3MvaV0sW2EsW2wsZ10sW2QsRV1dLFsvKG1hY2ludG9zaCk7L2ldLFthLFtsLGddXSxbL1xcYihzaC0/W2FsdHZ6XT9cXGRcXGRbYS1la21dPykvaV0sW2EsW2wsTF0sW2QsX11dLFsvXFxiKCg/OmFnW3JzXVsyM10/fGJhaDI/fHNodD98YnR2KS1hP1tsd11cXGR7Mn0pXFxiKD8hLitkXFwvcykvaV0sW2EsW2wsYl0sW2QsRV1dLFsvKD86aHVhd2VpfGhvbm9yKShbLVxcdyBdKylbO1xcKV0vaSwvXFxiKG5leHVzIDZwfFxcd3syLDR9ZT8tW2F0dV0/W2xuXVtcXGR4XVswMTIzNTljXVthZG5dPylcXGIoPyEuK2RcXC9zKS9pXSxbYSxbbCxiXSxbZCxfXV0sWy9cXGIocG9jb1tcXHcgXSspKD86IGJ1aXxcXCkpL2ksL1xcYjsgKFxcdyspIGJ1aWxkXFwvaG1cXDEvaSwvXFxiKGhtWy1fIF0/bm90ZT9bXyBdPyg/OlxcZFxcdyk/KSBidWkvaSwvXFxiKHJlZG1pW1xcLV8gXT8oPzpub3RlfGspP1tcXHdfIF0rKSg/OiBidWl8XFwpKS9pLC9cXGIobWlbLV8gXT8oPzphXFxkfG9uZXxvbmVbXyBdcGx1c3xub3RlIGx0ZXxtYXh8Y2MpP1tfIF0/KD86XFxkP1xcdz8pW18gXT8oPzpwbHVzfHNlfGxpdGUpPykoPzogYnVpfFxcKSkvaV0sW1thLC9fL2csXCIgXCJdLFtsLE1dLFtkLF9dXSxbL1xcYihtaVstXyBdPyg/OnBhZCkoPzpbXFx3XyBdKykpKD86IGJ1aXxcXCkpL2ldLFtbYSwvXy9nLFwiIFwiXSxbbCxNXSxbZCxFXV0sWy87IChcXHcrKSBidWkuKyBvcHBvL2ksL1xcYihjcGhbMTJdXFxkezN9fHAoPzphZnxjW2FsXXxkXFx3fGVbYXJdKVttdF1cXGQwfHg5MDA3fGExMDFvcClcXGIvaV0sW2EsW2wsXCJPUFBPXCJdLFtkLF9dXSxbL3Zpdm8gKFxcdyspKD86IGJ1aXxcXCkpL2ksL1xcYih2WzEyXVxcZHszfVxcdz9bYXRdKSg/OiBidWl8OykvaV0sW2EsW2wsXCJWaXZvXCJdLFtkLF9dXSxbL1xcYihybXhbMTJdXFxkezN9KSg/OiBidWl8O3xcXCkpL2ldLFthLFtsLFwiUmVhbG1lXCJdLFtkLF9dXSxbL1xcYihtaWxlc3RvbmV8ZHJvaWQoPzpbMi00eF18ICg/OmJpb25pY3x4Mnxwcm98cmF6cikpPzo/KCA0Zyk/KVxcYltcXHcgXStidWlsZFxcLy9pLC9cXGJtb3QoPzpvcm9sYSk/Wy0gXShcXHcqKS9pLC8oKD86bW90b1tcXHdcXChcXCkgXSt8eHRcXGR7Myw0fXxuZXh1cyA2KSg/PSBidWl8XFwpKSkvaV0sW2EsW2wsTl0sW2QsX11dLFsvXFxiKG16NjBcXGR8eG9vbVsyIF17MCwyfSkgYnVpbGRcXC8vaV0sW2EsW2wsTl0sW2QsRV1dLFsvKCg/PWxnKT9bdmxda1xcLT9cXGR7M30pIGJ1aXwgM1xcLlstXFx3OyBdezEwfWxnPy0oWzA2Y3Y5XXszLDR9KS9pXSxbYSxbbCx3XSxbZCxFXV0sWy8obG0oPzotP2YxMDBbbnZdP3wtW1xcd1xcLl0rKSg/PSBidWl8XFwpKXxuZXh1cyBbNDVdKS9pLC9cXGJsZ1stZTtcXC8gXSsoKD8hYnJvd3NlcnxuZXRjYXN0fGFuZHJvaWQgdHYpXFx3KykvaSwvXFxibGctPyhbXFxkXFx3XSspIGJ1aS9pXSxbYSxbbCx3XSxbZCxfXV0sWy8oaWRlYXRhYlstXFx3IF0rKS9pLC9sZW5vdm8gPyhzWzU2XTAwMFstXFx3XSt8dGFiKD86W1xcdyBdKyl8eXRbLVxcZFxcd117Nn18dGJbLVxcZFxcd117Nn0pL2ldLFthLFtsLFwiTGVub3ZvXCJdLFtkLEVdXSxbLyg/Om1hZW1vfG5va2lhKS4qKG45MDB8bHVtaWEgXFxkKykvaSwvbm9raWFbLV8gXT8oWy1cXHdcXC5dKikvaV0sW1thLC9fL2csXCIgXCJdLFtsLFwiTm9raWFcIl0sW2QsX11dLFsvKHBpeGVsIGMpXFxiL2ldLFthLFtsLEFdLFtkLEVdXSxbL2Ryb2lkLis7IChwaXhlbFtcXGRheGwgXXswLDZ9KSg/OiBidWl8XFwpKS9pXSxbYSxbbCxBXSxbZCxfXV0sWy9kcm9pZC4rIChhP1xcZFswLTJdezJ9c298W2MtZ11cXGR7NH18c29bLWdsXVxcdyt8eHEtYVxcd1s0LTddWzEyXSkoPz0gYnVpfFxcKS4rY2hyb21lXFwvKD8hWzEtNl17MCwxfVxcZFxcLikpL2ldLFthLFtsLGtdLFtkLF9dXSxbL3NvbnkgdGFibGV0IFtwc10vaSwvXFxiKD86c29ueSk/c2dwXFx3Kyg/OiBidWl8XFwpKS9pXSxbW2EsXCJYcGVyaWEgVGFibGV0XCJdLFtsLGtdLFtkLEVdXSxbLyAoa2IyMDA1fGluMjBbMTJdNXxiZTIwWzEyXVs1OV0pXFxiL2ksLyg/Om9uZSk/KD86cGx1cyk/IChhXFxkMFxcZFxcZCkoPzogYnxcXCkpL2ldLFthLFtsLFwiT25lUGx1c1wiXSxbZCxfXV0sWy8oYWxleGEpd2VibS9pLC8oa2ZbYS16XXsyfXdpKSggYnVpfFxcKSkvaSwvKGtmW2Etel0rKSggYnVpfFxcKSkuK3NpbGtcXC8vaV0sW2EsW2wsU10sW2QsRV1dLFsvKCg/OnNkfGtmKVswMzQ5aGlqb3JzdHV3XSspKCBidWl8XFwpKS4rc2lsa1xcLy9pXSxbW2EsLyguKykvZyxcIkZpcmUgUGhvbmUgJDFcIl0sW2wsU10sW2QsX11dLFsvKHBsYXlib29rKTtbLVxcd1xcKSw7IF0rKHJpbSkvaV0sW2EsbCxbZCxFXV0sWy9cXGIoKD86YmJbYS1mXXxzdFtodl0pMTAwLVxcZCkvaSwvXFwoYmIxMDsgKFxcdyspL2ldLFthLFtsLENdLFtkLF9dXSxbLyg/OlxcYnxhc3VzXykodHJhbnNmb1twcmltZSBdezQsMTB9IFxcdyt8ZWVlcGN8c2xpZGVyIFxcdyt8bmV4dXMgN3xwYWRmb25lfHAwMFtjal0pL2ldLFthLFtsLFJdLFtkLEVdXSxbLyAoeltiZXNdNlswMjddWzAxMl1ba21dW2xzXXx6ZW5mb25lIFxcZFxcdz8pXFxiL2ldLFthLFtsLFJdLFtkLF9dXSxbLyhuZXh1cyA5KS9pXSxbYSxbbCxcIkhUQ1wiXSxbZCxFXV0sWy8oaHRjKVstO18gXXsxLDJ9KFtcXHcgXSsoPz1cXCl8IGJ1aSl8XFx3KykvaSwvKHp0ZSlbLSBdKFtcXHcgXSs/KSg/OiBidWl8XFwvfFxcKSkvaSwvKGFsY2F0ZWx8Z2Vla3NwaG9uZXxuZXhpYW58cGFuYXNvbmljKD8hKD86O3xcXC4pKXxzb255KD8hLWJyYSkpWy1fIF0/KFstXFx3XSopL2ldLFtsLFthLC9fL2csXCIgXCJdLFtkLF9dXSxbL2Ryb2lkLis7IChbYWJdWzEtN10tP1swMTc4YV1cXGRcXGQ/KS9pXSxbYSxbbCxcIkFjZXJcIl0sW2QsRV1dLFsvZHJvaWQuKzsgKG1bMS01XSBub3RlKSBidWkvaSwvXFxibXotKFstXFx3XXsyLH0pL2ldLFthLFtsLFwiTWVpenVcIl0sW2QsX11dLFsvKGJsYWNrYmVycnl8YmVucXxwYWxtKD89XFwtKXxzb255ZXJpY3Nzb258YWNlcnxhc3VzfGRlbGx8bWVpenV8bW90b3JvbGF8cG9seXRyb24pWy1fIF0/KFstXFx3XSopL2ksLyhocCkgKFtcXHcgXStcXHcpL2ksLyhhc3VzKS0/KFxcdyspL2ksLyhtaWNyb3NvZnQpOyAobHVtaWFbXFx3IF0rKS9pLC8obGVub3ZvKVstXyBdPyhbLVxcd10rKS9pLC8oam9sbGEpL2ksLyhvcHBvKSA/KFtcXHcgXSspIGJ1aS9pXSxbbCxhLFtkLF9dXSxbLyhrb2JvKVxccyhlcmVhZGVyfHRvdWNoKS9pLC8oYXJjaG9zKSAoZ2FtZXBhZDI/KS9pLC8oaHApLisodG91Y2hwYWQoPyEuK3RhYmxldCl8dGFibGV0KS9pLC8oa2luZGxlKVxcLyhbXFx3XFwuXSspL2ksLyhub29rKVtcXHcgXStidWlsZFxcLyhcXHcrKS9pLC8oZGVsbCkgKHN0cmVhW2twclxcZCBdKltcXGRrb10pL2ksLyhsZVstIF0rcGFuKVstIF0rKFxcd3sxLDl9KSBidWkvaSwvKHRyaW5pdHkpWy0gXSoodFxcZHszfSkgYnVpL2ksLyhnaWdhc2V0KVstIF0rKHFcXHd7MSw5fSkgYnVpL2ksLyh2b2RhZm9uZSkgKFtcXHcgXSspKD86XFwpfCBidWkpL2ldLFtsLGEsW2QsRV1dLFsvKHN1cmZhY2UgZHVvKS9pXSxbYSxbbCxPXSxbZCxFXV0sWy9kcm9pZCBbXFxkXFwuXSs7IChmcFxcZHU/KSg/OiBifFxcKSkvaV0sW2EsW2wsXCJGYWlycGhvbmVcIl0sW2QsX11dLFsvKHUzMDRhYSkvaV0sW2EsW2wsXCJBVCZUXCJdLFtkLF9dXSxbL1xcYnNpZS0oXFx3KikvaV0sW2EsW2wsXCJTaWVtZW5zXCJdLFtkLF9dXSxbL1xcYihyY3RcXHcrKSBiL2ldLFthLFtsLFwiUkNBXCJdLFtkLEVdXSxbL1xcYih2ZW51ZVtcXGQgXXsyLDd9KSBiL2ldLFthLFtsLFwiRGVsbFwiXSxbZCxFXV0sWy9cXGIocSg/Om12fHRhKVxcdyspIGIvaV0sW2EsW2wsXCJWZXJpem9uXCJdLFtkLEVdXSxbL1xcYig/OmJhcm5lc1smIF0rbm9ibGUgfGJuW3J0XSkoW1xcd1xcKyBdKikgYi9pXSxbYSxbbCxcIkJhcm5lcyAmIE5vYmxlXCJdLFtkLEVdXSxbL1xcYih0bVxcZHszfVxcdyspIGIvaV0sW2EsW2wsXCJOdVZpc2lvblwiXSxbZCxFXV0sWy9cXGIoazg4KSBiL2ldLFthLFtsLFwiWlRFXCJdLFtkLEVdXSxbL1xcYihueFxcZHszfWopIGIvaV0sW2EsW2wsXCJaVEVcIl0sW2QsX11dLFsvXFxiKGdlblxcZHszfSkgYi4rNDloL2ldLFthLFtsLFwiU3dpc3NcIl0sW2QsX11dLFsvXFxiKHp1clxcZHszfSkgYi9pXSxbYSxbbCxcIlN3aXNzXCJdLFtkLEVdXSxbL1xcYigoemVraSk/dGIuKlxcYikgYi9pXSxbYSxbbCxcIlpla2lcIl0sW2QsRV1dLFsvXFxiKFt5cl1cXGR7Mn0pIGIvaSwvXFxiKGRyYWdvblstIF0rdG91Y2ggfGR0KShcXHd7NX0pIGIvaV0sW1tsLFwiRHJhZ29uIFRvdWNoXCJdLGEsW2QsRV1dLFsvXFxiKG5zLT9cXHd7MCw5fSkgYi9pXSxbYSxbbCxcIkluc2lnbmlhXCJdLFtkLEVdXSxbL1xcYigobnhhfG5leHQpLT9cXHd7MCw5fSkgYi9pXSxbYSxbbCxcIk5leHRCb29rXCJdLFtkLEVdXSxbL1xcYih4dHJlbWVcXF8pPyh2KDFbMDQ1XXwyWzAxNV18WzM0NjldMHw3WzA1XSkpIGIvaV0sW1tsLFwiVm9pY2VcIl0sYSxbZCxfXV0sWy9cXGIobHZ0ZWxcXC0pPyh2MVsxMl0pIGIvaV0sW1tsLFwiTHZUZWxcIl0sYSxbZCxfXV0sWy9cXGIocGgtMSkgL2ldLFthLFtsLFwiRXNzZW50aWFsXCJdLFtkLF9dXSxbL1xcYih2KDEwMG1kfDcwMG5hfDcwMTF8OTE3ZykuKlxcYikgYi9pXSxbYSxbbCxcIkVudml6ZW5cIl0sW2QsRV1dLFsvXFxiKHRyaW9bLVxcd1xcLiBdKykgYi9pXSxbYSxbbCxcIk1hY2hTcGVlZFwiXSxbZCxFXV0sWy9cXGJ0dV8oMTQ5MSkgYi9pXSxbYSxbbCxcIlJvdG9yXCJdLFtkLEVdXSxbLyhzaGllbGRbXFx3IF0rKSBiL2ldLFthLFtsLFwiTnZpZGlhXCJdLFtkLEVdXSxbLyhzcHJpbnQpIChcXHcrKS9pXSxbbCxhLFtkLF9dXSxbLyhraW5cXC5bb25ldHddezN9KS9pXSxbW2EsL1xcLi9nLFwiIFwiXSxbbCxPXSxbZCxfXV0sWy9kcm9pZC4rOyAoY2M2NjY2P3xldDVbMTZdfG1jWzIzOV1bMjNdeD98dmM4WzAzXXg/KVxcKS9pXSxbYSxbbCxVXSxbZCxFXV0sWy9kcm9pZC4rOyAoZWMzMHxwczIwfHRjWzItOF1cXGRba3hdKVxcKS9pXSxbYSxbbCxVXSxbZCxfXV0sWy9zbWFydC10di4rKHNhbXN1bmcpL2ldLFtsLFtkLG1dXSxbL2hiYnR2LittYXBsZTsoXFxkKykvaV0sW1thLC9eLyxcIlNtYXJ0VFZcIl0sW2wsUF0sW2QsbV1dLFsvKG51eDsgbmV0Y2FzdC4rc21hcnR0dnxsZyAobmV0Y2FzdFxcLnR2LTIwMVxcZHxhbmRyb2lkIHR2KSkvaV0sW1tsLHddLFtkLG1dXSxbLyhhcHBsZSkgP3R2L2ldLFtsLFthLGcrXCIgVFZcIl0sW2QsbV1dLFsvY3JrZXkvaV0sW1thLHYrXCJjYXN0XCJdLFtsLEFdLFtkLG1dXSxbL2Ryb2lkLithZnQoXFx3KSggYnVpfFxcKSkvaV0sW2EsW2wsU10sW2QsbV1dLFsvXFwoZHR2W1xcKTtdLisoYXF1b3MpL2ksLyhhcXVvcy10dltcXHcgXSspXFwpL2ldLFthLFtsLExdLFtkLG1dXSxbLyhicmF2aWFbXFx3IF0rKSggYnVpfFxcKSkvaV0sW2EsW2wsa10sW2QsbV1dLFsvKG1pdHYtXFx3ezV9KSBidWkvaV0sW2EsW2wsTV0sW2QsbV1dLFsvSGJidHYuKih0ZWNobmlzYXQpICguKik7L2ldLFtsLGEsW2QsbV1dLFsvXFxiKHJva3UpW1xcZHhdKltcXClcXC9dKCg/OmR2cC0pP1tcXGRcXC5dKikvaSwvaGJidHZcXC9cXGQrXFwuXFxkK1xcLlxcZCsgK1xcKFtcXHdcXCsgXSo7ICooW1xcd1xcZF1bXjtdKik7KFteO10qKS9pXSxbW2wsV10sW2EsV10sW2QsbV1dLFsvXFxiKGFuZHJvaWQgdHZ8c21hcnRbLSBdP3R2fG9wZXJhIHR2fHR2OyBydjopXFxiL2ldLFtbZCxtXV0sWy8ob3V5YSkvaSwvKG5pbnRlbmRvKSAoW3dpZHMzdXRjaF0rKS9pXSxbbCxhLFtkLHBdXSxbL2Ryb2lkLis7IChzaGllbGQpIGJ1aS9pXSxbYSxbbCxcIk52aWRpYVwiXSxbZCxwXV0sWy8ocGxheXN0YXRpb24gWzM0NXBvcnRhYmxldmldKykvaV0sW2EsW2wsa10sW2QscF1dLFsvXFxiKHhib3goPzogb25lKT8oPyE7IHhib3gpKVtcXCk7IF0vaV0sW2EsW2wsT10sW2QscF1dLFsvKChwZWJibGUpKWFwcC9pXSxbbCxhLFtkLGZdXSxbLyh3YXRjaCkoPzogP29zWyxcXC9dfFxcZCxcXGRcXC8pW1xcZFxcLl0rL2ldLFthLFtsLGddLFtkLGZdXSxbL2Ryb2lkLis7IChnbGFzcykgXFxkL2ldLFthLFtsLEFdLFtkLGZdXSxbL2Ryb2lkLis7ICh3dDYzPzB7MiwzfSlcXCkvaV0sW2EsW2wsVV0sW2QsZl1dLFsvKHF1ZXN0KCAyfCBwcm8pPykvaV0sW2EsW2wseF0sW2QsZl1dLFsvKHRlc2xhKSg/OiBxdGNhcmJyb3dzZXJ8XFwvWy1cXHdcXC5dKykvaV0sW2wsW2QsVF1dLFsvZHJvaWQgLis/OyAoW147XSs/KSg/OiBidWl8XFwpIGFwcGxldykuKz8gbW9iaWxlIHNhZmFyaS9pXSxbYSxbZCxfXV0sWy9kcm9pZCAuKz87IChbXjtdKz8pKD86IGJ1aXxcXCkgYXBwbGV3KS4rPyg/ISBtb2JpbGUpIHNhZmFyaS9pXSxbYSxbZCxFXV0sWy9cXGIoKHRhYmxldHx0YWIpWztcXC9dfGZvY3VzXFwvXFxkKD8hLittb2JpbGUpKS9pXSxbW2QsRV1dLFsvKHBob25lfG1vYmlsZSg/Ols7XFwvXXwgWyBcXHdcXC9cXC5dKnNhZmFyaSl8cGRhKD89Lit3aW5kb3dzIGNlKSkvaV0sW1tkLF9dXSxbLyhhbmRyb2lkWy1cXHdcXC4gXXswLDl9KTsuK2J1aWwvaV0sW2EsW2wsXCJHZW5lcmljXCJdXV0sZW5naW5lOltbL3dpbmRvd3MuKyBlZGdlXFwvKFtcXHdcXC5dKykvaV0sW3UsW2MsXCJFZGdlSFRNTFwiXV0sWy93ZWJraXRcXC81MzdcXC4zNi4rY2hyb21lXFwvKD8hMjcpKFtcXHdcXC5dKykvaV0sW3UsW2MsXCJCbGlua1wiXV0sWy8ocHJlc3RvKVxcLyhbXFx3XFwuXSspL2ksLyh3ZWJraXR8dHJpZGVudHxuZXRmcm9udHxuZXRzdXJmfGFtYXlhfGx5bnh8dzNtfGdvYW5uYSlcXC8oW1xcd1xcLl0rKS9pLC9la2lvaChmbG93KVxcLyhbXFx3XFwuXSspL2ksLyhraHRtbHx0YXNtYW58bGlua3MpW1xcLyBdXFwoPyhbXFx3XFwuXSspL2ksLyhpY2FiKVtcXC8gXShbMjNdXFwuW1xcZFxcLl0rKS9pXSxbYyx1XSxbL3J2XFw6KFtcXHdcXC5dezEsOX0pXFxiLisoZ2Vja28pL2ldLFt1LGNdXSxvczpbWy9taWNyb3NvZnQgKHdpbmRvd3MpICh2aXN0YXx4cCkvaV0sW2MsdV0sWy8od2luZG93cykgbnQgNlxcLjI7IChhcm0pL2ksLyh3aW5kb3dzICg/OnBob25lKD86IG9zKT98bW9iaWxlKSlbXFwvIF0/KFtcXGRcXC5cXHcgXSopL2ksLyh3aW5kb3dzKVtcXC8gXT8oW250Y2VcXGRcXC4gXStcXHcpKD8hLit4Ym94KS9pXSxbYyxbdSxLLFldXSxbLyh3aW4oPz0zfDl8bil8d2luIDl4ICkoW250XFxkXFwuXSspL2ldLFtbYyxcIldpbmRvd3NcIl0sW3UsSyxZXV0sWy9pcFtob25lYWRdezIsNH1cXGIoPzouKm9zIChbXFx3XSspIGxpa2UgbWFjfDsgb3BlcmEpL2ksL2NmbmV0d29ya1xcLy4rZGFyd2luL2ldLFtbdSwvXy9nLFwiLlwiXSxbYyxcImlPU1wiXV0sWy8obWFjIG9zIHgpID8oW1xcd1xcLiBdKikvaSwvKG1hY2ludG9zaHxtYWNfcG93ZXJwY1xcYikoPyEuK2hhaWt1KS9pXSxbW2MsRl0sW3UsL18vZyxcIi5cIl1dLFsvZHJvaWQgKFtcXHdcXC5dKylcXGIuKyhhbmRyb2lkWy0gXXg4NnxoYXJtb255b3MpL2ldLFt1LGNdLFsvKGFuZHJvaWR8d2Vib3N8cW54fGJhZGF8cmltIHRhYmxldCBvc3xtYWVtb3xtZWVnb3xzYWlsZmlzaClbLVxcLyBdPyhbXFx3XFwuXSopL2ksLyhibGFja2JlcnJ5KVxcdypcXC8oW1xcd1xcLl0qKS9pLC8odGl6ZW58a2Fpb3MpW1xcLyBdKFtcXHdcXC5dKykvaSwvXFwoKHNlcmllczQwKTsvaV0sW2MsdV0sWy9cXChiYigxMCk7L2ldLFt1LFtjLENdXSxbLyg/OnN5bWJpYW4gP29zfHN5bWJvc3xzNjAoPz07KXxzZXJpZXM2MClbLVxcLyBdPyhbXFx3XFwuXSopL2ldLFt1LFtjLFwiU3ltYmlhblwiXV0sWy9tb3ppbGxhXFwvW1xcZFxcLl0rIFxcKCg/Om1vYmlsZXx0YWJsZXR8dHZ8bW9iaWxlOyBbXFx3IF0rKTsgcnY6LisgZ2Vja29cXC8oW1xcd1xcLl0rKS9pXSxbdSxbYyx5K1wiIE9TXCJdXSxbL3dlYjBzOy4rcnQodHYpL2ksL1xcYig/OmhwKT93b3MoPzpicm93c2VyKT9cXC8oW1xcd1xcLl0rKS9pXSxbdSxbYyxcIndlYk9TXCJdXSxbL3dhdGNoKD86ID9vc1ssXFwvXXxcXGQsXFxkXFwvKShbXFxkXFwuXSspL2ldLFt1LFtjLFwid2F0Y2hPU1wiXV0sWy9jcmtleVxcLyhbXFxkXFwuXSspL2ldLFt1LFtjLHYrXCJjYXN0XCJdXSxbLyhjcm9zKSBbXFx3XSsoPzpcXCl8IChbXFx3XFwuXSspXFxiKS9pXSxbW2MsVl0sdV0sWy9wYW5hc29uaWM7KHZpZXJhKS9pLC8obmV0cmFuZ2UpbW1oL2ksLyhuZXR0dilcXC8oXFxkK1xcLltcXHdcXC5dKykvaSwvKG5pbnRlbmRvfHBsYXlzdGF0aW9uKSAoW3dpZHMzNDVwb3J0YWJsZXZ1Y2hdKykvaSwvKHhib3gpOyAreGJveCAoW15cXCk7XSspL2ksL1xcYihqb2xpfHBhbG0pXFxiID8oPzpvcyk/XFwvPyhbXFx3XFwuXSopL2ksLyhtaW50KVtcXC9cXChcXCkgXT8oXFx3KikvaSwvKG1hZ2VpYXx2ZWN0b3JsaW51eClbOyBdL2ksLyhba3hsbl0/dWJ1bnR1fGRlYmlhbnxzdXNlfG9wZW5zdXNlfGdlbnRvb3xhcmNoKD89IGxpbnV4KXxzbGFja3dhcmV8ZmVkb3JhfG1hbmRyaXZhfGNlbnRvc3xwY2xpbnV4b3N8cmVkID9oYXR8emVud2Fsa3xsaW5wdXN8cmFzcGJpYW58cGxhbiA5fG1pbml4fHJpc2Mgb3N8Y29udGlraXxkZWVwaW58bWFuamFyb3xlbGVtZW50YXJ5IG9zfHNhYmF5b258bGluc3BpcmUpKD86IGdudVxcL2xpbnV4KT8oPzogZW50ZXJwcmlzZSk/KD86Wy0gXWxpbnV4KT8oPzotZ251KT9bLVxcLyBdPyg/IWNocm9tfHBhY2thZ2UpKFstXFx3XFwuXSopL2ksLyhodXJkfGxpbnV4KSA/KFtcXHdcXC5dKikvaSwvKGdudSkgPyhbXFx3XFwuXSopL2ksL1xcYihbLWZyZW50b3BjZ2hzXXswLDV9YnNkfGRyYWdvbmZseSlbXFwvIF0/KD8hYW1kfFtpeDM0Nl17MSwyfTg2KShbXFx3XFwuXSopL2ksLyhoYWlrdSkgKFxcdyspL2ldLFtjLHVdLFsvKHN1bm9zKSA/KFtcXHdcXC5cXGRdKikvaV0sW1tjLFwiU29sYXJpc1wiXSx1XSxbLygoPzpvcGVuKT9zb2xhcmlzKVstXFwvIF0/KFtcXHdcXC5dKikvaSwvKGFpeCkgKChcXGQpKD89XFwufFxcKXwgKVtcXHdcXC5dKSovaSwvXFxiKGJlb3N8b3NcXC8yfGFtaWdhb3N8bW9ycGhvc3xvcGVudm1zfGZ1Y2hzaWF8aHAtdXgpL2ksLyh1bml4KSA/KFtcXHdcXC5dKikvaV0sW2MsdV1dfSx6PWZ1bmN0aW9uKHAsbSl7aWYodHlwZW9mIHA9PT1yJiYobT1wLHA9dCksISh0aGlzIGluc3RhbmNlb2YgeikpcmV0dXJuIG5ldyB6KHAsbSkuZ2V0UmVzdWx0KCk7dmFyIGY9dHlwZW9mIGUhPT1uJiZlLm5hdmlnYXRvcj9lLm5hdmlnYXRvcjp0LFQ9cHx8KGYmJmYudXNlckFnZW50P2YudXNlckFnZW50OlwiXCIpLFM9ZiYmZi51c2VyQWdlbnREYXRhP2YudXNlckFnZW50RGF0YTp0LGc9bT9mdW5jdGlvbihlLHQpe3ZhciBpPXt9O2Zvcih2YXIgbiBpbiBlKXRbbl0mJnRbbl0ubGVuZ3RoJTI9PTA/aVtuXT10W25dLmNvbmNhdChlW25dKTppW25dPWVbbl07cmV0dXJuIGl9KHEsbSk6cTtyZXR1cm4gdGhpcy5nZXRCcm93c2VyPWZ1bmN0aW9uKCl7dmFyIGU9e307cmV0dXJuIGVbY109dCxlW3VdPXQsSC5jYWxsKGUsVCxnLmJyb3dzZXIpLGVbc109ZnVuY3Rpb24oZSl7cmV0dXJuIHR5cGVvZiBlPT09bz9lLnJlcGxhY2UoL1teXFxkXFwuXS9nLFwiXCIpLnNwbGl0KFwiLlwiKVswXTp0fShlW3VdKSxmJiZmLmJyYXZlJiZ0eXBlb2YgZi5icmF2ZS5pc0JyYXZlPT1pJiYoZVtjXT1cIkJyYXZlXCIpLGV9LHRoaXMuZ2V0Q1BVPWZ1bmN0aW9uKCl7dmFyIGU9e307cmV0dXJuIGVbaF09dCxILmNhbGwoZSxULGcuY3B1KSxlfSx0aGlzLmdldERldmljZT1mdW5jdGlvbigpe3ZhciBlPXt9O3JldHVybiBlW2xdPXQsZVthXT10LGVbZF09dCxILmNhbGwoZSxULGcuZGV2aWNlKSwhZVtkXSYmUyYmUy5tb2JpbGUmJihlW2RdPV8pLFwiTWFjaW50b3NoXCI9PWVbYV0mJmYmJnR5cGVvZiBmLnN0YW5kYWxvbmUhPT1uJiZmLm1heFRvdWNoUG9pbnRzJiZmLm1heFRvdWNoUG9pbnRzPjImJihlW2FdPVwiaVBhZFwiLGVbZF09RSksZX0sdGhpcy5nZXRFbmdpbmU9ZnVuY3Rpb24oKXt2YXIgZT17fTtyZXR1cm4gZVtjXT10LGVbdV09dCxILmNhbGwoZSxULGcuZW5naW5lKSxlfSx0aGlzLmdldE9TPWZ1bmN0aW9uKCl7dmFyIGU9e307cmV0dXJuIGVbY109dCxlW3VdPXQsSC5jYWxsKGUsVCxnLm9zKSwhZVtjXSYmUyYmXCJVbmtub3duXCIhPVMucGxhdGZvcm0mJihlW2NdPVMucGxhdGZvcm0ucmVwbGFjZSgvY2hyb21lIG9zL2ksVikucmVwbGFjZSgvbWFjb3MvaSxGKSksZX0sdGhpcy5nZXRSZXN1bHQ9ZnVuY3Rpb24oKXtyZXR1cm57dWE6dGhpcy5nZXRVQSgpLGJyb3dzZXI6dGhpcy5nZXRCcm93c2VyKCksZW5naW5lOnRoaXMuZ2V0RW5naW5lKCksb3M6dGhpcy5nZXRPUygpLGRldmljZTp0aGlzLmdldERldmljZSgpLGNwdTp0aGlzLmdldENQVSgpfX0sdGhpcy5nZXRVQT1mdW5jdGlvbigpe3JldHVybiBUfSx0aGlzLnNldFVBPWZ1bmN0aW9uKGUpe3JldHVybiBUPXR5cGVvZiBlPT09byYmZS5sZW5ndGg+MzUwP1coZSwzNTApOmUsdGhpc30sdGhpcy5zZXRVQShUKSx0aGlzfTt6LlZFUlNJT049XCIwLjcuMzRcIix6LkJST1dTRVI9QihbYyx1LHNdKSx6LkNQVT1CKFtoXSksei5ERVZJQ0U9QihbYSxsLGQscCxfLG0sRSxmLFRdKSx6LkVOR0lORT16Lk9TPUIoW2MsdV0pLGVFLmV4cG9ydHMmJih0RT1lRS5leHBvcnRzPXopLHRFLlVBUGFyc2VyPXo7dmFyIEo9dHlwZW9mIGUhPT1uJiYoZS5qUXVlcnl8fGUuWmVwdG8pO2lmKEomJiFKLnVhKXt2YXIgWD1uZXcgejtKLnVhPVguZ2V0UmVzdWx0KCksSi51YS5nZXQ9ZnVuY3Rpb24oKXtyZXR1cm4gWC5nZXRVQSgpfSxKLnVhLnNldD1mdW5jdGlvbihlKXtYLnNldFVBKGUpO3ZhciB0PVguZ2V0UmVzdWx0KCk7Zm9yKHZhciBpIGluIHQpSi51YVtpXT10W2ldfX19KFwib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3c/d2luZG93OnQpO3ZhciBkRT1pKGNFLmV4cG9ydHMpLGxFPXBuLHVFPVplLGhFPVkscEU9eG8sX0U9aHQoXCJpdGVyYXRvclwiKSxFRT1PYmplY3QsbUU9ZnVuY3Rpb24oZSl7aWYoaEUoZSkpcmV0dXJuITE7dmFyIHQ9RUUoZSk7cmV0dXJuIHZvaWQgMCE9PXRbX0VdfHxcIkBAaXRlcmF0b3JcImluIHR8fHVFKHBFLGxFKHQpKX0sZkU9aShtRSksVEU9aDt3aSh7Z2xvYmFsOiEwLGZvcmNlZDpURS5nbG9iYWxUaGlzIT09VEV9LHtnbG9iYWxUaGlzOlRFfSk7dmFyIFNFPWkoaCk7ZnVuY3Rpb24gZ0UoZSx0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZS5hcHBseSh0LGFyZ3VtZW50cyl9fWNvbnN0e3RvU3RyaW5nOlJFfT1PYmplY3QucHJvdG90eXBlLHtnZXRQcm90b3R5cGVPZjpDRX09T2JqZWN0LElFPSh2RT1PYmplY3QuY3JlYXRlKG51bGwpLGU9Pntjb25zdCB0PVJFLmNhbGwoZSk7cmV0dXJuIHZFW3RdfHwodkVbdF09dC5zbGljZSg4LC0xKS50b0xvd2VyQ2FzZSgpKX0pO3ZhciB2RTtjb25zdCB5RT1lPT4oZT1lLnRvTG93ZXJDYXNlKCksdD0+SUUodCk9PT1lKSxBRT1lPT50PT50eXBlb2YgdD09PWUse2lzQXJyYXk6YkV9PUFycmF5LHdFPUFFKFwidW5kZWZpbmVkXCIpO2NvbnN0IE9FPXlFKFwiQXJyYXlCdWZmZXJcIik7Y29uc3QgTkU9QUUoXCJzdHJpbmdcIiksREU9QUUoXCJmdW5jdGlvblwiKSxQRT1BRShcIm51bWJlclwiKSxMRT1lPT5udWxsIT09ZSYmXCJvYmplY3RcIj09dHlwZW9mIGUsa0U9ZT0+e2lmKFwib2JqZWN0XCIhPT1JRShlKSlyZXR1cm4hMTtjb25zdCB0PUNFKGUpO3JldHVybiEobnVsbCE9PXQmJnQhPT1PYmplY3QucHJvdG90eXBlJiZudWxsIT09T2JqZWN0LmdldFByb3RvdHlwZU9mKHQpfHxTeW1ib2wudG9TdHJpbmdUYWcgaW4gZXx8ZkUoZSkpfSxNRT15RShcIkRhdGVcIiksVUU9eUUoXCJGaWxlXCIpLHhFPXlFKFwiQmxvYlwiKSxWRT15RShcIkZpbGVMaXN0XCIpLEZFPXlFKFwiVVJMU2VhcmNoUGFyYW1zXCIpO2Z1bmN0aW9uIEJFKGUsdCl7bGV0IGksbix7YWxsT3duS2V5czpyPSExfT1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06e307aWYobnVsbCE9ZSlpZihcIm9iamVjdFwiIT10eXBlb2YgZSYmKGU9W2VdKSxiRShlKSlmb3IoaT0wLG49ZS5sZW5ndGg7aTxuO2krKyl0LmNhbGwobnVsbCxlW2ldLGksZSk7ZWxzZXtjb25zdCBuPXI/T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZSk6T2JqZWN0LmtleXMoZSksbz1uLmxlbmd0aDtsZXQgcztmb3IoaT0wO2k8bztpKyspcz1uW2ldLHQuY2FsbChudWxsLGVbc10scyxlKX19ZnVuY3Rpb24gakUoZSx0KXt0PXQudG9Mb3dlckNhc2UoKTtjb25zdCBpPU9iamVjdC5rZXlzKGUpO2xldCBuLHI9aS5sZW5ndGg7Zm9yKDtyLS0gPjA7KWlmKG49aVtyXSx0PT09bi50b0xvd2VyQ2FzZSgpKXJldHVybiBuO3JldHVybiBudWxsfWNvbnN0IEdFPXZvaWQgMCE9PVNFP1NFOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmP3NlbGY6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6Z2xvYmFsLFdFPWU9PiF3RShlKSYmZSE9PUdFO2NvbnN0IEhFPShLRT1cInVuZGVmaW5lZFwiIT10eXBlb2YgVWludDhBcnJheSYmQ0UoVWludDhBcnJheSksZT0+S0UmJmUgaW5zdGFuY2VvZiBLRSk7dmFyIEtFO2NvbnN0IFlFPXlFKFwiSFRNTEZvcm1FbGVtZW50XCIpLHFFPShlPT57bGV0e2hhc093blByb3BlcnR5OnR9PWU7cmV0dXJuKGUsaSk9PnQuY2FsbChlLGkpfSkoT2JqZWN0LnByb3RvdHlwZSksekU9eUUoXCJSZWdFeHBcIiksSkU9KGUsdCk9Pntjb25zdCBpPU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKGUpLG49e307QkUoaSwoKGkscik9PntsZXQgbzshMSE9PShvPXQoaSxyLGUpKSYmKG5bcl09b3x8aSl9KSksT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxuKX0sWEU9XCJhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5elwiLFFFPVwiMDEyMzQ1Njc4OVwiLFpFPXtESUdJVDpRRSxBTFBIQTpYRSxBTFBIQV9ESUdJVDpYRStYRS50b1VwcGVyQ2FzZSgpK1FFfTtjb25zdCAkRT15RShcIkFzeW5jRnVuY3Rpb25cIik7dmFyIGVtPXtpc0FycmF5OmJFLGlzQXJyYXlCdWZmZXI6T0UsaXNCdWZmZXI6ZnVuY3Rpb24oZSl7cmV0dXJuIG51bGwhPT1lJiYhd0UoZSkmJm51bGwhPT1lLmNvbnN0cnVjdG9yJiYhd0UoZS5jb25zdHJ1Y3RvcikmJkRFKGUuY29uc3RydWN0b3IuaXNCdWZmZXIpJiZlLmNvbnN0cnVjdG9yLmlzQnVmZmVyKGUpfSxpc0Zvcm1EYXRhOmU9PntsZXQgdDtyZXR1cm4gZSYmKFwiZnVuY3Rpb25cIj09dHlwZW9mIEZvcm1EYXRhJiZlIGluc3RhbmNlb2YgRm9ybURhdGF8fERFKGUuYXBwZW5kKSYmKFwiZm9ybWRhdGFcIj09PSh0PUlFKGUpKXx8XCJvYmplY3RcIj09PXQmJkRFKGUudG9TdHJpbmcpJiZcIltvYmplY3QgRm9ybURhdGFdXCI9PT1lLnRvU3RyaW5nKCkpKX0saXNBcnJheUJ1ZmZlclZpZXc6ZnVuY3Rpb24oZSl7bGV0IHQ7cmV0dXJuIHQ9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIEFycmF5QnVmZmVyJiZBcnJheUJ1ZmZlci5pc1ZpZXc/QXJyYXlCdWZmZXIuaXNWaWV3KGUpOmUmJmUuYnVmZmVyJiZPRShlLmJ1ZmZlciksdH0saXNTdHJpbmc6TkUsaXNOdW1iZXI6UEUsaXNCb29sZWFuOmU9PiEwPT09ZXx8ITE9PT1lLGlzT2JqZWN0OkxFLGlzUGxhaW5PYmplY3Q6a0UsaXNVbmRlZmluZWQ6d0UsaXNEYXRlOk1FLGlzRmlsZTpVRSxpc0Jsb2I6eEUsaXNSZWdFeHA6ekUsaXNGdW5jdGlvbjpERSxpc1N0cmVhbTplPT5MRShlKSYmREUoZS5waXBlKSxpc1VSTFNlYXJjaFBhcmFtczpGRSxpc1R5cGVkQXJyYXk6SEUsaXNGaWxlTGlzdDpWRSxmb3JFYWNoOkJFLG1lcmdlOmZ1bmN0aW9uIGUoKXtjb25zdHtjYXNlbGVzczp0fT1XRSh0aGlzKSYmdGhpc3x8e30saT17fSxuPShuLHIpPT57Y29uc3Qgbz10JiZqRShpLHIpfHxyO2tFKGlbb10pJiZrRShuKT9pW29dPWUoaVtvXSxuKTprRShuKT9pW29dPWUoe30sbik6YkUobik/aVtvXT1uLnNsaWNlKCk6aVtvXT1ufTtmb3IobGV0IGU9MCx0PWFyZ3VtZW50cy5sZW5ndGg7ZTx0O2UrKylhcmd1bWVudHNbZV0mJkJFKGFyZ3VtZW50c1tlXSxuKTtyZXR1cm4gaX0sZXh0ZW5kOmZ1bmN0aW9uKGUsdCxpKXtsZXR7YWxsT3duS2V5czpufT1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106e307cmV0dXJuIEJFKHQsKCh0LG4pPT57aSYmREUodCk/ZVtuXT1nRSh0LGkpOmVbbl09dH0pLHthbGxPd25LZXlzOm59KSxlfSx0cmltOmU9PmpwKGUpP2pwKGUpLmNhbGwoZSk6ZS5yZXBsYWNlKC9eW1xcc1xcdUZFRkZcXHhBMF0rfFtcXHNcXHVGRUZGXFx4QTBdKyQvZyxcIlwiKSxzdHJpcEJPTTplPT4oNjUyNzk9PT1lLmNoYXJDb2RlQXQoMCkmJihlPWUuc2xpY2UoMSkpLGUpLGluaGVyaXRzOihlLHQsaSxuKT0+e2UucHJvdG90eXBlPU9iamVjdC5jcmVhdGUodC5wcm90b3R5cGUsbiksZS5wcm90b3R5cGUuY29uc3RydWN0b3I9ZSxPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcInN1cGVyXCIse3ZhbHVlOnQucHJvdG90eXBlfSksaSYmT2JqZWN0LmFzc2lnbihlLnByb3RvdHlwZSxpKX0sdG9GbGF0T2JqZWN0OihlLHQsaSxuKT0+e2xldCByLG8scztjb25zdCBhPXt9O2lmKHQ9dHx8e30sbnVsbD09ZSlyZXR1cm4gdDtkb3tmb3Iocj1PYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhlKSxvPXIubGVuZ3RoO28tLSA+MDspcz1yW29dLG4mJiFuKHMsZSx0KXx8YVtzXXx8KHRbc109ZVtzXSxhW3NdPSEwKTtlPSExIT09aSYmQ0UoZSl9d2hpbGUoZSYmKCFpfHxpKGUsdCkpJiZlIT09T2JqZWN0LnByb3RvdHlwZSk7cmV0dXJuIHR9LGtpbmRPZjpJRSxraW5kT2ZUZXN0OnlFLGVuZHNXaXRoOihlLHQsaSk9PntlPVN0cmluZyhlKSwodm9pZCAwPT09aXx8aT5lLmxlbmd0aCkmJihpPWUubGVuZ3RoKSxpLT10Lmxlbmd0aDtjb25zdCBuPWUuaW5kZXhPZih0LGkpO3JldHVybi0xIT09biYmbj09PWl9LHRvQXJyYXk6ZT0+e2lmKCFlKXJldHVybiBudWxsO2lmKGJFKGUpKXJldHVybiBlO2xldCB0PWUubGVuZ3RoO2lmKCFQRSh0KSlyZXR1cm4gbnVsbDtjb25zdCBpPW5ldyBBcnJheSh0KTtmb3IoO3QtLSA+MDspaVt0XT1lW3RdO3JldHVybiBpfSxmb3JFYWNoRW50cnk6KGUsdCk9Pntjb25zdCBpPShlJiZlW1N5bWJvbC5pdGVyYXRvcl0pLmNhbGwoZSk7bGV0IG47Zm9yKDsobj1pLm5leHQoKSkmJiFuLmRvbmU7KXtjb25zdCBpPW4udmFsdWU7dC5jYWxsKGUsaVswXSxpWzFdKX19LG1hdGNoQWxsOihlLHQpPT57bGV0IGk7Y29uc3Qgbj1bXTtmb3IoO251bGwhPT0oaT1lLmV4ZWModCkpOyluLnB1c2goaSk7cmV0dXJuIG59LGlzSFRNTEZvcm06WUUsaGFzT3duUHJvcGVydHk6cUUsaGFzT3duUHJvcDpxRSxyZWR1Y2VEZXNjcmlwdG9yczpKRSxmcmVlemVNZXRob2RzOmU9PntKRShlLCgodCxpKT0+e2lmKERFKGUpJiYtMSE9PVtcImFyZ3VtZW50c1wiLFwiY2FsbGVyXCIsXCJjYWxsZWVcIl0uaW5kZXhPZihpKSlyZXR1cm4hMTtjb25zdCBuPWVbaV07REUobikmJih0LmVudW1lcmFibGU9ITEsXCJ3cml0YWJsZVwiaW4gdD90LndyaXRhYmxlPSExOnQuc2V0fHwodC5zZXQ9KCk9Pnt0aHJvdyBFcnJvcihcIkNhbiBub3QgcmV3cml0ZSByZWFkLW9ubHkgbWV0aG9kICdcIitpK1wiJ1wiKX0pKX0pKX0sdG9PYmplY3RTZXQ6KGUsdCk9Pntjb25zdCBpPXt9LG49ZT0+e2UuZm9yRWFjaCgoZT0+e2lbZV09ITB9KSl9O3JldHVybiBiRShlKT9uKGUpOm4oU3RyaW5nKGUpLnNwbGl0KHQpKSxpfSx0b0NhbWVsQ2FzZTplPT5lLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvWy1fXFxzXShbYS16XFxkXSkoXFx3KikvZywoZnVuY3Rpb24oZSx0LGkpe3JldHVybiB0LnRvVXBwZXJDYXNlKCkraX0pKSxub29wOigpPT57fSx0b0Zpbml0ZU51bWJlcjooZSx0KT0+KGU9K2UsTnVtYmVyLmlzRmluaXRlKGUpP2U6dCksZmluZEtleTpqRSxnbG9iYWw6R0UsaXNDb250ZXh0RGVmaW5lZDpXRSxBTFBIQUJFVDpaRSxnZW5lcmF0ZVN0cmluZzpmdW5jdGlvbigpe2xldCBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXToxNix0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpaRS5BTFBIQV9ESUdJVCxpPVwiXCI7Y29uc3R7bGVuZ3RoOm59PXQ7Zm9yKDtlLS07KWkrPXRbTWF0aC5yYW5kb20oKSpufDBdO3JldHVybiBpfSxpc1NwZWNDb21wbGlhbnRGb3JtOmZ1bmN0aW9uKGUpe3JldHVybiEhKGUmJkRFKGUuYXBwZW5kKSYmXCJGb3JtRGF0YVwiPT09ZVtTeW1ib2wudG9TdHJpbmdUYWddJiZlW1N5bWJvbC5pdGVyYXRvcl0pfSx0b0pTT05PYmplY3Q6ZT0+e2NvbnN0IHQ9bmV3IEFycmF5KDEwKSxpPShlLG4pPT57aWYoTEUoZSkpe2lmKHQuaW5kZXhPZihlKT49MClyZXR1cm47aWYoIShcInRvSlNPTlwiaW4gZSkpe3Rbbl09ZTtjb25zdCByPWJFKGUpP1tdOnt9O3JldHVybiBCRShlLCgoZSx0KT0+e2NvbnN0IG89aShlLG4rMSk7IXdFKG8pJiYoclt0XT1vKX0pKSx0W25dPXZvaWQgMCxyfX1yZXR1cm4gZX07cmV0dXJuIGkoZSwwKX0saXNBc3luY0ZuOiRFLGlzVGhlbmFibGU6ZT0+ZSYmKExFKGUpfHxERShlKSkmJkRFKGUudGhlbikmJkRFKGUuY2F0Y2gpfTtmdW5jdGlvbiB0bShlLHQsaSxuLHIpe0Vycm9yLmNhbGwodGhpcyksRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2U/RXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcyx0aGlzLmNvbnN0cnVjdG9yKTp0aGlzLnN0YWNrPShuZXcgRXJyb3IpLnN0YWNrLHRoaXMubWVzc2FnZT1lLHRoaXMubmFtZT1cIkF4aW9zRXJyb3JcIix0JiYodGhpcy5jb2RlPXQpLGkmJih0aGlzLmNvbmZpZz1pKSxuJiYodGhpcy5yZXF1ZXN0PW4pLHImJih0aGlzLnJlc3BvbnNlPXIpfWVtLmluaGVyaXRzKHRtLEVycm9yLHt0b0pTT046ZnVuY3Rpb24oKXtyZXR1cm57bWVzc2FnZTp0aGlzLm1lc3NhZ2UsbmFtZTp0aGlzLm5hbWUsZGVzY3JpcHRpb246dGhpcy5kZXNjcmlwdGlvbixudW1iZXI6dGhpcy5udW1iZXIsZmlsZU5hbWU6dGhpcy5maWxlTmFtZSxsaW5lTnVtYmVyOnRoaXMubGluZU51bWJlcixjb2x1bW5OdW1iZXI6dGhpcy5jb2x1bW5OdW1iZXIsc3RhY2s6dGhpcy5zdGFjayxjb25maWc6ZW0udG9KU09OT2JqZWN0KHRoaXMuY29uZmlnKSxjb2RlOnRoaXMuY29kZSxzdGF0dXM6dGhpcy5yZXNwb25zZSYmdGhpcy5yZXNwb25zZS5zdGF0dXM/dGhpcy5yZXNwb25zZS5zdGF0dXM6bnVsbH19fSk7Y29uc3QgaW09dG0ucHJvdG90eXBlLG5tPXt9O1tcIkVSUl9CQURfT1BUSU9OX1ZBTFVFXCIsXCJFUlJfQkFEX09QVElPTlwiLFwiRUNPTk5BQk9SVEVEXCIsXCJFVElNRURPVVRcIixcIkVSUl9ORVRXT1JLXCIsXCJFUlJfRlJfVE9PX01BTllfUkVESVJFQ1RTXCIsXCJFUlJfREVQUkVDQVRFRFwiLFwiRVJSX0JBRF9SRVNQT05TRVwiLFwiRVJSX0JBRF9SRVFVRVNUXCIsXCJFUlJfQ0FOQ0VMRURcIixcIkVSUl9OT1RfU1VQUE9SVFwiLFwiRVJSX0lOVkFMSURfVVJMXCJdLmZvckVhY2goKGU9PntubVtlXT17dmFsdWU6ZX19KSksT2JqZWN0LmRlZmluZVByb3BlcnRpZXModG0sbm0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpbSxcImlzQXhpb3NFcnJvclwiLHt2YWx1ZTohMH0pLHRtLmZyb209KGUsdCxpLG4scixvKT0+e2NvbnN0IHM9T2JqZWN0LmNyZWF0ZShpbSk7cmV0dXJuIGVtLnRvRmxhdE9iamVjdChlLHMsKGZ1bmN0aW9uKGUpe3JldHVybiBlIT09RXJyb3IucHJvdG90eXBlfSksKGU9PlwiaXNBeGlvc0Vycm9yXCIhPT1lKSksdG0uY2FsbChzLGUubWVzc2FnZSx0LGksbixyKSxzLmNhdXNlPWUscy5uYW1lPWUubmFtZSxvJiZPYmplY3QuYXNzaWduKHMsbyksc307ZnVuY3Rpb24gcm0oZSl7cmV0dXJuIGVtLmlzUGxhaW5PYmplY3QoZSl8fGVtLmlzQXJyYXkoZSl9ZnVuY3Rpb24gb20oZSl7cmV0dXJuIGVtLmVuZHNXaXRoKGUsXCJbXVwiKT9lLnNsaWNlKDAsLTIpOmV9ZnVuY3Rpb24gc20oZSx0LGkpe3JldHVybiBlP2UuY29uY2F0KHQpLm1hcCgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gZT1vbShlKSwhaSYmdD9cIltcIitlK1wiXVwiOmV9KSkuam9pbihpP1wiLlwiOlwiXCIpOnR9Y29uc3QgYW09ZW0udG9GbGF0T2JqZWN0KGVtLHt9LG51bGwsKGZ1bmN0aW9uKGUpe3JldHVybi9eaXNbQS1aXS8udGVzdChlKX0pKTtmdW5jdGlvbiBjbShlLHQsaSl7aWYoIWVtLmlzT2JqZWN0KGUpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJ0YXJnZXQgbXVzdCBiZSBhbiBvYmplY3RcIik7dD10fHxuZXcgRm9ybURhdGE7Y29uc3Qgbj0oaT1lbS50b0ZsYXRPYmplY3QoaSx7bWV0YVRva2VuczohMCxkb3RzOiExLGluZGV4ZXM6ITF9LCExLChmdW5jdGlvbihlLHQpe3JldHVybiFlbS5pc1VuZGVmaW5lZCh0W2VdKX0pKSkubWV0YVRva2VucyxyPWkudmlzaXRvcnx8ZCxvPWkuZG90cyxzPWkuaW5kZXhlcyxhPShpLkJsb2J8fFwidW5kZWZpbmVkXCIhPXR5cGVvZiBCbG9iJiZCbG9iKSYmZW0uaXNTcGVjQ29tcGxpYW50Rm9ybSh0KTtpZighZW0uaXNGdW5jdGlvbihyKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwidmlzaXRvciBtdXN0IGJlIGEgZnVuY3Rpb25cIik7ZnVuY3Rpb24gYyhlKXtpZihudWxsPT09ZSlyZXR1cm5cIlwiO2lmKGVtLmlzRGF0ZShlKSlyZXR1cm4gZS50b0lTT1N0cmluZygpO2lmKCFhJiZlbS5pc0Jsb2IoZSkpdGhyb3cgbmV3IHRtKFwiQmxvYiBpcyBub3Qgc3VwcG9ydGVkLiBVc2UgYSBCdWZmZXIgaW5zdGVhZC5cIik7cmV0dXJuIGVtLmlzQXJyYXlCdWZmZXIoZSl8fGVtLmlzVHlwZWRBcnJheShlKT9hJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBCbG9iP25ldyBCbG9iKFtlXSk6QnVmZmVyLmZyb20oZSk6ZX1mdW5jdGlvbiBkKGUsaSxyKXtsZXQgYT1lO2lmKGUmJiFyJiZcIm9iamVjdFwiPT10eXBlb2YgZSlpZihlbS5lbmRzV2l0aChpLFwie31cIikpaT1uP2k6aS5zbGljZSgwLC0yKSxlPUpTT04uc3RyaW5naWZ5KGUpO2Vsc2UgaWYoZW0uaXNBcnJheShlKSYmZnVuY3Rpb24oZSl7cmV0dXJuIGVtLmlzQXJyYXkoZSkmJiFlLnNvbWUocm0pfShlKXx8KGVtLmlzRmlsZUxpc3QoZSl8fGVtLmVuZHNXaXRoKGksXCJbXVwiKSkmJihhPWVtLnRvQXJyYXkoZSkpKXJldHVybiBpPW9tKGkpLGEuZm9yRWFjaCgoZnVuY3Rpb24oZSxuKXshZW0uaXNVbmRlZmluZWQoZSkmJm51bGwhPT1lJiZ0LmFwcGVuZCghMD09PXM/c20oW2ldLG4sbyk6bnVsbD09PXM/aTppK1wiW11cIixjKGUpKX0pKSwhMTtyZXR1cm4hIXJtKGUpfHwodC5hcHBlbmQoc20ocixpLG8pLGMoZSkpLCExKX1jb25zdCBsPVtdLHU9T2JqZWN0LmFzc2lnbihhbSx7ZGVmYXVsdFZpc2l0b3I6ZCxjb252ZXJ0VmFsdWU6Yyxpc1Zpc2l0YWJsZTpybX0pO2lmKCFlbS5pc09iamVjdChlKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiZGF0YSBtdXN0IGJlIGFuIG9iamVjdFwiKTtyZXR1cm4gZnVuY3Rpb24gZShpLG4pe2lmKCFlbS5pc1VuZGVmaW5lZChpKSl7aWYoLTEhPT1sLmluZGV4T2YoaSkpdGhyb3cgRXJyb3IoXCJDaXJjdWxhciByZWZlcmVuY2UgZGV0ZWN0ZWQgaW4gXCIrbi5qb2luKFwiLlwiKSk7bC5wdXNoKGkpLGVtLmZvckVhY2goaSwoZnVuY3Rpb24oaSxvKXshMD09PSghKGVtLmlzVW5kZWZpbmVkKGkpfHxudWxsPT09aSkmJnIuY2FsbCh0LGksZW0uaXNTdHJpbmcobyk/anAobykuY2FsbChvKTpvLG4sdSkpJiZlKGksbj9uLmNvbmNhdChvKTpbb10pfSkpLGwucG9wKCl9fShlKSx0fWZ1bmN0aW9uIGRtKGUpe2NvbnN0IHQ9e1wiIVwiOlwiJTIxXCIsXCInXCI6XCIlMjdcIixcIihcIjpcIiUyOFwiLFwiKVwiOlwiJTI5XCIsXCJ+XCI6XCIlN0VcIixcIiUyMFwiOlwiK1wiLFwiJTAwXCI6XCJcXDBcIn07cmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChlKS5yZXBsYWNlKC9bIScoKX5dfCUyMHwlMDAvZywoZnVuY3Rpb24oZSl7cmV0dXJuIHRbZV19KSl9ZnVuY3Rpb24gbG0oZSx0KXt0aGlzLl9wYWlycz1bXSxlJiZjbShlLHRoaXMsdCl9Y29uc3QgdW09bG0ucHJvdG90eXBlO2Z1bmN0aW9uIGhtKGUpe3JldHVybiBlbmNvZGVVUklDb21wb25lbnQoZSkucmVwbGFjZSgvJTNBL2dpLFwiOlwiKS5yZXBsYWNlKC8lMjQvZyxcIiRcIikucmVwbGFjZSgvJTJDL2dpLFwiLFwiKS5yZXBsYWNlKC8lMjAvZyxcIitcIikucmVwbGFjZSgvJTVCL2dpLFwiW1wiKS5yZXBsYWNlKC8lNUQvZ2ksXCJdXCIpfWZ1bmN0aW9uIHBtKGUsdCxpKXtpZighdClyZXR1cm4gZTtjb25zdCBuPWkmJmkuZW5jb2RlfHxobSxyPWkmJmkuc2VyaWFsaXplO2xldCBvO2lmKG89cj9yKHQsaSk6ZW0uaXNVUkxTZWFyY2hQYXJhbXModCk/dC50b1N0cmluZygpOm5ldyBsbSh0LGkpLnRvU3RyaW5nKG4pLG8pe2NvbnN0IHQ9ZS5pbmRleE9mKFwiI1wiKTstMSE9PXQmJihlPWUuc2xpY2UoMCx0KSksZSs9KC0xPT09ZS5pbmRleE9mKFwiP1wiKT9cIj9cIjpcIiZcIikrb31yZXR1cm4gZX11bS5hcHBlbmQ9ZnVuY3Rpb24oZSx0KXt0aGlzLl9wYWlycy5wdXNoKFtlLHRdKX0sdW0udG9TdHJpbmc9ZnVuY3Rpb24oZSl7Y29uc3QgdD1lP2Z1bmN0aW9uKHQpe3JldHVybiBlLmNhbGwodGhpcyx0LGRtKX06ZG07cmV0dXJuIHRoaXMuX3BhaXJzLm1hcCgoZnVuY3Rpb24oZSl7cmV0dXJuIHQoZVswXSkrXCI9XCIrdChlWzFdKX0pLFwiXCIpLmpvaW4oXCImXCIpfTt2YXIgX209Y2xhc3N7Y29uc3RydWN0b3IoKXt0aGlzLmhhbmRsZXJzPVtdfXVzZShlLHQsaSl7cmV0dXJuIHRoaXMuaGFuZGxlcnMucHVzaCh7ZnVsZmlsbGVkOmUscmVqZWN0ZWQ6dCxzeW5jaHJvbm91czohIWkmJmkuc3luY2hyb25vdXMscnVuV2hlbjppP2kucnVuV2hlbjpudWxsfSksdGhpcy5oYW5kbGVycy5sZW5ndGgtMX1lamVjdChlKXt0aGlzLmhhbmRsZXJzW2VdJiYodGhpcy5oYW5kbGVyc1tlXT1udWxsKX1jbGVhcigpe3RoaXMuaGFuZGxlcnMmJih0aGlzLmhhbmRsZXJzPVtdKX1mb3JFYWNoKGUpe2VtLmZvckVhY2godGhpcy5oYW5kbGVycywoZnVuY3Rpb24odCl7bnVsbCE9PXQmJmUodCl9KSl9fSxFbT17c2lsZW50SlNPTlBhcnNpbmc6ITAsZm9yY2VkSlNPTlBhcnNpbmc6ITAsY2xhcmlmeVRpbWVvdXRFcnJvcjohMX0sbW09e2V4cG9ydHM6e319LGZtPXdpLFRtPU4sU209UXQuZjtmbSh7dGFyZ2V0OlwiT2JqZWN0XCIsc3RhdDohMCxmb3JjZWQ6T2JqZWN0LmRlZmluZVByb3BlcnR5IT09U20sc2hhbTohVG19LHtkZWZpbmVQcm9wZXJ0eTpTbX0pO3ZhciBnbT1pZS5PYmplY3QsUm09bW0uZXhwb3J0cz1mdW5jdGlvbihlLHQsaSl7cmV0dXJuIGdtLmRlZmluZVByb3BlcnR5KGUsdCxpKX07Z20uZGVmaW5lUHJvcGVydHkuc2hhbSYmKFJtLnNoYW09ITApO3ZhciBDbT1pKG1tLmV4cG9ydHMpLEltPVIsdm09QXJyYXkuaXNBcnJheXx8ZnVuY3Rpb24oZSl7cmV0dXJuXCJBcnJheVwiPT1JbShlKX0seW09VHlwZUVycm9yLEFtPXZtLGJtPWpjLHdtPXRlLE9tPWh0KFwic3BlY2llc1wiKSxObT1BcnJheSxEbT1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gQW0oZSkmJih0PWUuY29uc3RydWN0b3IsKGJtKHQpJiYodD09PU5tfHxBbSh0LnByb3RvdHlwZSkpfHx3bSh0KSYmbnVsbD09PSh0PXRbT21dKSkmJih0PXZvaWQgMCkpLHZvaWQgMD09PXQ/Tm06dH0sUG09ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbmV3KERtKGUpKSgwPT09dD8wOnQpfSxMbT1uLGttPUVlLE1tPWh0KFwic3BlY2llc1wiKSxVbT1mdW5jdGlvbihlKXtyZXR1cm4ga20+PTUxfHwhTG0oKGZ1bmN0aW9uKCl7dmFyIHQ9W107cmV0dXJuKHQuY29uc3RydWN0b3I9e30pW01tXT1mdW5jdGlvbigpe3JldHVybntmb286MX19LDEhPT10W2VdKEJvb2xlYW4pLmZvb30pKX0seG09d2ksVm09bixGbT12bSxCbT10ZSxqbT1KZSxHbT1HaSxXbT1mdW5jdGlvbihlKXtpZihlPjkwMDcxOTkyNTQ3NDA5OTEpdGhyb3cgeW0oXCJNYXhpbXVtIGFsbG93ZWQgaW5kZXggZXhjZWVkZWRcIik7cmV0dXJuIGV9LEhtPUVfLEttPVBtLFltPVVtLHFtPUVlLHptPWh0KFwiaXNDb25jYXRTcHJlYWRhYmxlXCIpLEptPXFtPj01MXx8IVZtKChmdW5jdGlvbigpe3ZhciBlPVtdO3JldHVybiBlW3ptXT0hMSxlLmNvbmNhdCgpWzBdIT09ZX0pKSxYbT1mdW5jdGlvbihlKXtpZighQm0oZSkpcmV0dXJuITE7dmFyIHQ9ZVt6bV07cmV0dXJuIHZvaWQgMCE9PXQ/ISF0OkZtKGUpfTt4bSh7dGFyZ2V0OlwiQXJyYXlcIixwcm90bzohMCxhcml0eToxLGZvcmNlZDohSm18fCFZbShcImNvbmNhdFwiKX0se2NvbmNhdDpmdW5jdGlvbihlKXt2YXIgdCxpLG4scixvLHM9am0odGhpcyksYT1LbShzLDApLGM9MDtmb3IodD0tMSxuPWFyZ3VtZW50cy5sZW5ndGg7dDxuO3QrKylpZihYbShvPS0xPT09dD9zOmFyZ3VtZW50c1t0XSkpZm9yKHI9R20obyksV20oYytyKSxpPTA7aTxyO2krKyxjKyspaSBpbiBvJiZIbShhLGMsb1tpXSk7ZWxzZSBXbShjKzEpLEhtKGEsYysrLG8pO3JldHVybiBhLmxlbmd0aD1jLGF9fSk7dmFyIFFtPXt9LFptPVIsJG09WixlZj1Pci5mLHRmPVJfLG5mPVwib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cmJndpbmRvdyYmT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXM/T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMod2luZG93KTpbXTtRbS5mPWZ1bmN0aW9uKGUpe3JldHVybiBuZiYmXCJXaW5kb3dcIj09Wm0oZSk/ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiBlZihlKX1jYXRjaChlKXtyZXR1cm4gdGYobmYpfX0oZSk6ZWYoJG0oZSkpfTt2YXIgcmY9e30sb2Y9aHQ7cmYuZj1vZjt2YXIgc2Y9aWUsYWY9WmUsY2Y9cmYsZGY9UXQuZixsZj1mdW5jdGlvbihlKXt2YXIgdD1zZi5TeW1ib2x8fChzZi5TeW1ib2w9e30pO2FmKHQsZSl8fGRmKHQsZSx7dmFsdWU6Y2YuZihlKX0pfSx1Zj1MLGhmPWFlLHBmPWh0LF9mPWhhLEVmPWZ1bmN0aW9uKCl7dmFyIGU9aGYoXCJTeW1ib2xcIiksdD1lJiZlLnByb3RvdHlwZSxpPXQmJnQudmFsdWVPZixuPXBmKFwidG9QcmltaXRpdmVcIik7dCYmIXRbbl0mJl9mKHQsbiwoZnVuY3Rpb24oZSl7cmV0dXJuIHVmKGksdGhpcyl9KSx7YXJpdHk6MX0pfSxtZj1YdCxmZj1LLFRmPUplLFNmPUdpLGdmPVBtLFJmPWQoW10ucHVzaCksQ2Y9ZnVuY3Rpb24oZSl7dmFyIHQ9MT09ZSxpPTI9PWUsbj0zPT1lLHI9ND09ZSxvPTY9PWUscz03PT1lLGE9NT09ZXx8bztyZXR1cm4gZnVuY3Rpb24oYyxkLGwsdSl7Zm9yKHZhciBoLHAsXz1UZihjKSxFPWZmKF8pLG09bWYoZCxsKSxmPVNmKEUpLFQ9MCxTPXV8fGdmLGc9dD9TKGMsZik6aXx8cz9TKGMsMCk6dm9pZCAwO2Y+VDtUKyspaWYoKGF8fFQgaW4gRSkmJihwPW0oaD1FW1RdLFQsXyksZSkpaWYodClnW1RdPXA7ZWxzZSBpZihwKXN3aXRjaChlKXtjYXNlIDM6cmV0dXJuITA7Y2FzZSA1OnJldHVybiBoO2Nhc2UgNjpyZXR1cm4gVDtjYXNlIDI6UmYoZyxoKX1lbHNlIHN3aXRjaChlKXtjYXNlIDQ6cmV0dXJuITE7Y2FzZSA3OlJmKGcsaCl9cmV0dXJuIG8/LTE6bnx8cj9yOmd9fSxJZj17Zm9yRWFjaDpDZigwKSxtYXA6Q2YoMSksZmlsdGVyOkNmKDIpLHNvbWU6Q2YoMyksZXZlcnk6Q2YoNCksZmluZDpDZig1KSxmaW5kSW5kZXg6Q2YoNiksZmlsdGVyUmVqZWN0OkNmKDcpfSx2Zj13aSx5Zj1oLEFmPUwsYmY9ZCx3Zj1OLE9mPVNlLE5mPW4sRGY9WmUsUGY9bCxMZj1paSxrZj1aLE1mPUN0LFVmPW1uLHhmPUIsVmY9SW8sRmY9ZW8sQmY9T3IsamY9UW0sR2Y9QnIsV2Y9TyxIZj1RdCxLZj1RcixZZj1rLHFmPWhhLHpmPWhjLEpmPVllLFhmPU5yLFFmPW50LFpmPWh0LCRmPXJmLGVUPWxmLHRUPUVmLGlUPURhLG5UPXJhLHJUPUlmLmZvckVhY2gsb1Q9bHIoXCJoaWRkZW5cIiksc1Q9XCJTeW1ib2xcIixhVD1cInByb3RvdHlwZVwiLGNUPW5ULnNldCxkVD1uVC5nZXR0ZXJGb3Ioc1QpLGxUPU9iamVjdFthVF0sdVQ9eWYuU3ltYm9sLGhUPXVUJiZ1VFthVF0scFQ9eWYuVHlwZUVycm9yLF9UPXlmLlFPYmplY3QsRVQ9V2YuZixtVD1IZi5mLGZUPWpmLmYsVFQ9WWYuZixTVD1iZihbXS5wdXNoKSxnVD1KZihcInN5bWJvbHNcIiksUlQ9SmYoXCJvcC1zeW1ib2xzXCIpLENUPUpmKFwid2tzXCIpLElUPSFfVHx8IV9UW2FUXXx8IV9UW2FUXS5maW5kQ2hpbGQsdlQ9d2YmJk5mKChmdW5jdGlvbigpe3JldHVybiA3IT1WZihtVCh7fSxcImFcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIG1UKHRoaXMsXCJhXCIse3ZhbHVlOjd9KS5hfX0pKS5hfSkpP2Z1bmN0aW9uKGUsdCxpKXt2YXIgbj1FVChsVCx0KTtuJiZkZWxldGUgbFRbdF0sbVQoZSx0LGkpLG4mJmUhPT1sVCYmbVQobFQsdCxuKX06bVQseVQ9ZnVuY3Rpb24oZSx0KXt2YXIgaT1nVFtlXT1WZihoVCk7cmV0dXJuIGNUKGkse3R5cGU6c1QsdGFnOmUsZGVzY3JpcHRpb246dH0pLHdmfHwoaS5kZXNjcmlwdGlvbj10KSxpfSxBVD1mdW5jdGlvbihlLHQsaSl7ZT09PWxUJiZBVChSVCx0LGkpLExmKGUpO3ZhciBuPU1mKHQpO3JldHVybiBMZihpKSxEZihnVCxuKT8oaS5lbnVtZXJhYmxlPyhEZihlLG9UKSYmZVtvVF1bbl0mJihlW29UXVtuXT0hMSksaT1WZihpLHtlbnVtZXJhYmxlOnhmKDAsITEpfSkpOihEZihlLG9UKXx8bVQoZSxvVCx4ZigxLHt9KSksZVtvVF1bbl09ITApLHZUKGUsbixpKSk6bVQoZSxuLGkpfSxiVD1mdW5jdGlvbihlLHQpe0xmKGUpO3ZhciBpPWtmKHQpLG49RmYoaSkuY29uY2F0KERUKGkpKTtyZXR1cm4gclQobiwoZnVuY3Rpb24odCl7d2YmJiFBZih3VCxpLHQpfHxBVChlLHQsaVt0XSl9KSksZX0sd1Q9ZnVuY3Rpb24oZSl7dmFyIHQ9TWYoZSksaT1BZihUVCx0aGlzLHQpO3JldHVybiEodGhpcz09PWxUJiZEZihnVCx0KSYmIURmKFJULHQpKSYmKCEoaXx8IURmKHRoaXMsdCl8fCFEZihnVCx0KXx8RGYodGhpcyxvVCkmJnRoaXNbb1RdW3RdKXx8aSl9LE9UPWZ1bmN0aW9uKGUsdCl7dmFyIGk9a2YoZSksbj1NZih0KTtpZihpIT09bFR8fCFEZihnVCxuKXx8RGYoUlQsbikpe3ZhciByPUVUKGksbik7cmV0dXJuIXJ8fCFEZihnVCxuKXx8RGYoaSxvVCkmJmlbb1RdW25dfHwoci5lbnVtZXJhYmxlPSEwKSxyfX0sTlQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZlQoa2YoZSkpLGk9W107cmV0dXJuIHJUKHQsKGZ1bmN0aW9uKGUpe0RmKGdULGUpfHxEZihYZixlKXx8U1QoaSxlKX0pKSxpfSxEVD1mdW5jdGlvbihlKXt2YXIgdD1lPT09bFQsaT1mVCh0P1JUOmtmKGUpKSxuPVtdO3JldHVybiByVChpLChmdW5jdGlvbihlKXshRGYoZ1QsZSl8fHQmJiFEZihsVCxlKXx8U1QobixnVFtlXSl9KSksbn07T2Z8fChxZihoVD0odVQ9ZnVuY3Rpb24oKXtpZihQZihoVCx0aGlzKSl0aHJvdyBwVChcIlN5bWJvbCBpcyBub3QgYSBjb25zdHJ1Y3RvclwiKTt2YXIgZT1hcmd1bWVudHMubGVuZ3RoJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/VWYoYXJndW1lbnRzWzBdKTp2b2lkIDAsdD1RZihlKSxpPWZ1bmN0aW9uKGUpe3RoaXM9PT1sVCYmQWYoaSxSVCxlKSxEZih0aGlzLG9UKSYmRGYodGhpc1tvVF0sdCkmJih0aGlzW29UXVt0XT0hMSksdlQodGhpcyx0LHhmKDEsZSkpfTtyZXR1cm4gd2YmJklUJiZ2VChsVCx0LHtjb25maWd1cmFibGU6ITAsc2V0Oml9KSx5VCh0LGUpfSlbYVRdLFwidG9TdHJpbmdcIiwoZnVuY3Rpb24oKXtyZXR1cm4gZFQodGhpcykudGFnfSkpLHFmKHVULFwid2l0aG91dFNldHRlclwiLChmdW5jdGlvbihlKXtyZXR1cm4geVQoUWYoZSksZSl9KSksWWYuZj13VCxIZi5mPUFULEtmLmY9YlQsV2YuZj1PVCxCZi5mPWpmLmY9TlQsR2YuZj1EVCwkZi5mPWZ1bmN0aW9uKGUpe3JldHVybiB5VChaZihlKSxlKX0sd2YmJnpmKGhULFwiZGVzY3JpcHRpb25cIix7Y29uZmlndXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBkVCh0aGlzKS5kZXNjcmlwdGlvbn19KSksdmYoe2dsb2JhbDohMCxjb25zdHJ1Y3RvcjohMCx3cmFwOiEwLGZvcmNlZDohT2Ysc2hhbTohT2Z9LHtTeW1ib2w6dVR9KSxyVChGZihDVCksKGZ1bmN0aW9uKGUpe2VUKGUpfSkpLHZmKHt0YXJnZXQ6c1Qsc3RhdDohMCxmb3JjZWQ6IU9mfSx7dXNlU2V0dGVyOmZ1bmN0aW9uKCl7SVQ9ITB9LHVzZVNpbXBsZTpmdW5jdGlvbigpe0lUPSExfX0pLHZmKHt0YXJnZXQ6XCJPYmplY3RcIixzdGF0OiEwLGZvcmNlZDohT2Ysc2hhbTohd2Z9LHtjcmVhdGU6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdm9pZCAwPT09dD9WZihlKTpiVChWZihlKSx0KX0sZGVmaW5lUHJvcGVydHk6QVQsZGVmaW5lUHJvcGVydGllczpiVCxnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I6T1R9KSx2Zih7dGFyZ2V0OlwiT2JqZWN0XCIsc3RhdDohMCxmb3JjZWQ6IU9mfSx7Z2V0T3duUHJvcGVydHlOYW1lczpOVH0pLHRUKCksaVQodVQsc1QpLFhmW29UXT0hMDt2YXIgUFQ9U2UmJiEhU3ltYm9sLmZvciYmISFTeW1ib2wua2V5Rm9yLExUPXdpLGtUPWFlLE1UPVplLFVUPW1uLHhUPVllLFZUPVBULEZUPXhUKFwic3RyaW5nLXRvLXN5bWJvbC1yZWdpc3RyeVwiKSxCVD14VChcInN5bWJvbC10by1zdHJpbmctcmVnaXN0cnlcIik7TFQoe3RhcmdldDpcIlN5bWJvbFwiLHN0YXQ6ITAsZm9yY2VkOiFWVH0se2ZvcjpmdW5jdGlvbihlKXt2YXIgdD1VVChlKTtpZihNVChGVCx0KSlyZXR1cm4gRlRbdF07dmFyIGk9a1QoXCJTeW1ib2xcIikodCk7cmV0dXJuIEZUW3RdPWksQlRbaV09dCxpfX0pO3ZhciBqVD13aSxHVD1aZSxXVD15ZSxIVD1iZSxLVD1QVCxZVD1ZZShcInN5bWJvbC10by1zdHJpbmctcmVnaXN0cnlcIik7alQoe3RhcmdldDpcIlN5bWJvbFwiLHN0YXQ6ITAsZm9yY2VkOiFLVH0se2tleUZvcjpmdW5jdGlvbihlKXtpZighV1QoZSkpdGhyb3cgVHlwZUVycm9yKEhUKGUpK1wiIGlzIG5vdCBhIHN5bWJvbFwiKTtpZihHVChZVCxlKSlyZXR1cm4gWVRbZV19fSk7dmFyIHFUPXZtLHpUPXcsSlQ9UixYVD1tbixRVD1kKFtdLnB1c2gpLFpUPXdpLCRUPWFlLGVTPWYsdFM9TCxpUz1kLG5TPW4sclM9dyxvUz15ZSxzUz1YYyxhUz1mdW5jdGlvbihlKXtpZih6VChlKSlyZXR1cm4gZTtpZihxVChlKSl7Zm9yKHZhciB0PWUubGVuZ3RoLGk9W10sbj0wO248dDtuKyspe3ZhciByPWVbbl07XCJzdHJpbmdcIj09dHlwZW9mIHI/UVQoaSxyKTpcIm51bWJlclwiIT10eXBlb2YgciYmXCJOdW1iZXJcIiE9SlQocikmJlwiU3RyaW5nXCIhPUpUKHIpfHxRVChpLFhUKHIpKX12YXIgbz1pLmxlbmd0aCxzPSEwO3JldHVybiBmdW5jdGlvbihlLHQpe2lmKHMpcmV0dXJuIHM9ITEsdDtpZihxVCh0aGlzKSlyZXR1cm4gdDtmb3IodmFyIG49MDtuPG87bisrKWlmKGlbbl09PT1lKXJldHVybiB0fX19LGNTPVNlLGRTPVN0cmluZyxsUz0kVChcIkpTT05cIixcInN0cmluZ2lmeVwiKSx1Uz1pUygvLi8uZXhlYyksaFM9aVMoXCJcIi5jaGFyQXQpLHBTPWlTKFwiXCIuY2hhckNvZGVBdCksX1M9aVMoXCJcIi5yZXBsYWNlKSxFUz1pUygxLi50b1N0cmluZyksbVM9L1tcXHVEODAwLVxcdURGRkZdL2csZlM9L15bXFx1RDgwMC1cXHVEQkZGXSQvLFRTPS9eW1xcdURDMDAtXFx1REZGRl0kLyxTUz0hY1N8fG5TKChmdW5jdGlvbigpe3ZhciBlPSRUKFwiU3ltYm9sXCIpKCk7cmV0dXJuXCJbbnVsbF1cIiE9bFMoW2VdKXx8XCJ7fVwiIT1sUyh7YTplfSl8fFwie31cIiE9bFMoT2JqZWN0KGUpKX0pKSxnUz1uUygoZnVuY3Rpb24oKXtyZXR1cm4nXCJcXFxcdWRmMDZcXFxcdWQ4MzRcIichPT1sUyhcIlxcdWRmMDZcXHVkODM0XCIpfHwnXCJcXFxcdWRlYWRcIichPT1sUyhcIlxcdWRlYWRcIil9KSksUlM9ZnVuY3Rpb24oZSx0KXt2YXIgaT1zUyhhcmd1bWVudHMpLG49YVModCk7aWYoclMobil8fHZvaWQgMCE9PWUmJiFvUyhlKSlyZXR1cm4gaVsxXT1mdW5jdGlvbihlLHQpe2lmKHJTKG4pJiYodD10UyhuLHRoaXMsZFMoZSksdCkpLCFvUyh0KSlyZXR1cm4gdH0sZVMobFMsbnVsbCxpKX0sQ1M9ZnVuY3Rpb24oZSx0LGkpe3ZhciBuPWhTKGksdC0xKSxyPWhTKGksdCsxKTtyZXR1cm4gdVMoZlMsZSkmJiF1UyhUUyxyKXx8dVMoVFMsZSkmJiF1UyhmUyxuKT9cIlxcXFx1XCIrRVMocFMoZSwwKSwxNik6ZX07bFMmJlpUKHt0YXJnZXQ6XCJKU09OXCIsc3RhdDohMCxhcml0eTozLGZvcmNlZDpTU3x8Z1N9LHtzdHJpbmdpZnk6ZnVuY3Rpb24oZSx0LGkpe3ZhciBuPXNTKGFyZ3VtZW50cykscj1lUyhTUz9SUzpsUyxudWxsLG4pO3JldHVybiBnUyYmXCJzdHJpbmdcIj09dHlwZW9mIHI/X1MocixtUyxDUyk6cn19KTt2YXIgSVM9QnIsdlM9SmU7d2koe3RhcmdldDpcIk9iamVjdFwiLHN0YXQ6ITAsZm9yY2VkOiFTZXx8bigoZnVuY3Rpb24oKXtJUy5mKDEpfSkpfSx7Z2V0T3duUHJvcGVydHlTeW1ib2xzOmZ1bmN0aW9uKGUpe3ZhciB0PUlTLmY7cmV0dXJuIHQ/dCh2UyhlKSk6W119fSksbGYoXCJhc3luY0l0ZXJhdG9yXCIpLGxmKFwiaGFzSW5zdGFuY2VcIiksbGYoXCJpc0NvbmNhdFNwcmVhZGFibGVcIiksbGYoXCJpdGVyYXRvclwiKSxsZihcIm1hdGNoXCIpLGxmKFwibWF0Y2hBbGxcIiksbGYoXCJyZXBsYWNlXCIpLGxmKFwic2VhcmNoXCIpLGxmKFwic3BlY2llc1wiKSxsZihcInNwbGl0XCIpO3ZhciB5Uz1FZjtsZihcInRvUHJpbWl0aXZlXCIpLHlTKCk7dmFyIEFTPWFlLGJTPURhO2xmKFwidG9TdHJpbmdUYWdcIiksYlMoQVMoXCJTeW1ib2xcIiksXCJTeW1ib2xcIiksbGYoXCJ1bnNjb3BhYmxlc1wiKSxEYShoLkpTT04sXCJKU09OXCIsITApO3ZhciB3Uz1pZS5TeW1ib2wsT1M9aHQsTlM9UXQuZixEUz1PUyhcIm1ldGFkYXRhXCIpLFBTPUZ1bmN0aW9uLnByb3RvdHlwZTt2b2lkIDA9PT1QU1tEU10mJk5TKFBTLERTLHt2YWx1ZTpudWxsfSksbGYoXCJkaXNwb3NlXCIpLGxmKFwibWV0YWRhdGFcIik7dmFyIExTPXdTO2xmKFwiYXN5bmNEaXNwb3NlXCIpO3ZhciBrUz1kLE1TPWFlKFwiU3ltYm9sXCIpLFVTPU1TLmtleUZvcix4Uz1rUyhNUy5wcm90b3R5cGUudmFsdWVPZiksVlM9TVMuaXNSZWdpc3RlcmVkU3ltYm9sfHxmdW5jdGlvbihlKXt0cnl7cmV0dXJuIHZvaWQgMCE9PVVTKHhTKGUpKX1jYXRjaChlKXtyZXR1cm4hMX19O3dpKHt0YXJnZXQ6XCJTeW1ib2xcIixzdGF0OiEwfSx7aXNSZWdpc3RlcmVkU3ltYm9sOlZTfSk7Zm9yKHZhciBGUz1ZZSxCUz1hZSxqUz1kLEdTPXllLFdTPWh0LEhTPUJTKFwiU3ltYm9sXCIpLEtTPUhTLmlzV2VsbEtub3duU3ltYm9sLFlTPUJTKFwiT2JqZWN0XCIsXCJnZXRPd25Qcm9wZXJ0eU5hbWVzXCIpLHFTPWpTKEhTLnByb3RvdHlwZS52YWx1ZU9mKSx6Uz1GUyhcIndrc1wiKSxKUz0wLFhTPVlTKEhTKSxRUz1YUy5sZW5ndGg7SlM8UVM7SlMrKyl0cnl7dmFyIFpTPVhTW0pTXTtHUyhIU1taU10pJiZXUyhaUyl9Y2F0Y2goZSl7fXZhciAkUz1mdW5jdGlvbihlKXtpZihLUyYmS1MoZSkpcmV0dXJuITA7dHJ5e2Zvcih2YXIgdD1xUyhlKSxpPTAsbj1ZUyh6Uykscj1uLmxlbmd0aDtpPHI7aSsrKWlmKHpTW25baV1dPT10KXJldHVybiEwfWNhdGNoKGUpe31yZXR1cm4hMX07d2koe3RhcmdldDpcIlN5bWJvbFwiLHN0YXQ6ITAsZm9yY2VkOiEwfSx7aXNXZWxsS25vd25TeW1ib2w6JFN9KSxsZihcIm1hdGNoZXJcIiksbGYoXCJvYnNlcnZhYmxlXCIpLHdpKHt0YXJnZXQ6XCJTeW1ib2xcIixzdGF0OiEwLG5hbWU6XCJpc1JlZ2lzdGVyZWRTeW1ib2xcIn0se2lzUmVnaXN0ZXJlZDpWU30pLHdpKHt0YXJnZXQ6XCJTeW1ib2xcIixzdGF0OiEwLG5hbWU6XCJpc1dlbGxLbm93blN5bWJvbFwiLGZvcmNlZDohMH0se2lzV2VsbEtub3duOiRTfSksbGYoXCJtZXRhZGF0YUtleVwiKSxsZihcInBhdHRlcm5NYXRjaFwiKSxsZihcInJlcGxhY2VBbGxcIik7dmFyIGVnPWkoTFMpLHRnPWkocmYuZihcIml0ZXJhdG9yXCIpKTtmdW5jdGlvbiBpZyhlKXtyZXR1cm4gaWc9XCJmdW5jdGlvblwiPT10eXBlb2YgZWcmJlwic3ltYm9sXCI9PXR5cGVvZiB0Zz9mdW5jdGlvbihlKXtyZXR1cm4gdHlwZW9mIGV9OmZ1bmN0aW9uKGUpe3JldHVybiBlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlZyYmZS5jb25zdHJ1Y3Rvcj09PWVnJiZlIT09ZWcucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIGV9LGlnKGUpfXZhciBuZz1pKHJmLmYoXCJ0b1ByaW1pdGl2ZVwiKSk7ZnVuY3Rpb24gcmcoZSl7dmFyIHQ9ZnVuY3Rpb24oZSx0KXtpZihcIm9iamVjdFwiIT09aWcoZSl8fG51bGw9PT1lKXJldHVybiBlO3ZhciBpPWVbbmddO2lmKHZvaWQgMCE9PWkpe3ZhciBuPWkuY2FsbChlLHR8fFwiZGVmYXVsdFwiKTtpZihcIm9iamVjdFwiIT09aWcobikpcmV0dXJuIG47dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybihcInN0cmluZ1wiPT09dD9TdHJpbmc6TnVtYmVyKShlKX0oZSxcInN0cmluZ1wiKTtyZXR1cm5cInN5bWJvbFwiPT09aWcodCk/dDpTdHJpbmcodCl9ZnVuY3Rpb24gb2coZSx0LGkpe3JldHVybih0PXJnKHQpKWluIGU/Q20oZSx0LHt2YWx1ZTppLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVt0XT1pLGV9dmFyIHNnPW4sYWc9aHQoXCJpdGVyYXRvclwiKSxjZz0hc2coKGZ1bmN0aW9uKCl7dmFyIGU9bmV3IFVSTChcImI/YT0xJmI9MiZjPTNcIixcImh0dHA6Ly9hXCIpLHQ9ZS5zZWFyY2hQYXJhbXMsaT1uZXcgVVJMU2VhcmNoUGFyYW1zKFwiYT0xJmE9MlwiKSxuPVwiXCI7cmV0dXJuIGUucGF0aG5hbWU9XCJjJTIwZFwiLHQuZm9yRWFjaCgoZnVuY3Rpb24oZSxpKXt0LmRlbGV0ZShcImJcIiksbis9aStlfSkpLGkuZGVsZXRlKFwiYVwiLDIpLCFlLnRvSlNPTnx8IWkuaGFzKFwiYVwiLDEpfHxpLmhhcyhcImFcIiwyKXx8IXQuc2l6ZSYmdHJ1ZXx8IXQuc29ydHx8XCJodHRwOi8vYS9jJTIwZD9hPTEmYz0zXCIhPT1lLmhyZWZ8fFwiM1wiIT09dC5nZXQoXCJjXCIpfHxcImE9MVwiIT09U3RyaW5nKG5ldyBVUkxTZWFyY2hQYXJhbXMoXCI/YT0xXCIpKXx8IXRbYWddfHxcImFcIiE9PW5ldyBVUkwoXCJodHRwczovL2FAYlwiKS51c2VybmFtZXx8XCJiXCIhPT1uZXcgVVJMU2VhcmNoUGFyYW1zKG5ldyBVUkxTZWFyY2hQYXJhbXMoXCJhPWJcIikpLmdldChcImFcIil8fFwieG4tLWUxYXliY1wiIT09bmV3IFVSTChcImh0dHA6Ly/RgtC10YHRglwiKS5ob3N0fHxcIiMlRDAlQjFcIiE9PW5ldyBVUkwoXCJodHRwOi8vYSPQsVwiKS5oYXNofHxcImExYzNcIiE9PW58fFwieFwiIT09bmV3IFVSTChcImh0dHA6Ly94XCIsdm9pZCAwKS5ob3N0fSkpLGRnPWhhLGxnPXdpLHVnPWgsaGc9TCxwZz1kLF9nPU4sRWc9Y2csbWc9aGEsZmc9aGMsVGc9ZnVuY3Rpb24oZSx0LGkpe2Zvcih2YXIgbiBpbiB0KWkmJmkudW5zYWZlJiZlW25dP2Vbbl09dFtuXTpkZyhlLG4sdFtuXSxpKTtyZXR1cm4gZX0sU2c9RGEsZ2c9VmEsUmc9cmEsQ2c9U2MsSWc9dyx2Zz1aZSx5Zz1YdCxBZz1wbixiZz1paSx3Zz10ZSxPZz1tbixOZz1JbyxEZz1CLFBnPWVzLExnPXFvLGtnPVpjLE1nPWJfLFVnPWh0KFwiaXRlcmF0b3JcIikseGc9XCJVUkxTZWFyY2hQYXJhbXNcIixWZz14ZytcIkl0ZXJhdG9yXCIsRmc9Umcuc2V0LEJnPVJnLmdldHRlckZvcih4Zyksamc9UmcuZ2V0dGVyRm9yKFZnKSxHZz1PYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yLFdnPWZ1bmN0aW9uKGUpe2lmKCFfZylyZXR1cm4gdWdbZV07dmFyIHQ9R2codWcsZSk7cmV0dXJuIHQmJnQudmFsdWV9LEhnPVdnKFwiZmV0Y2hcIiksS2c9V2coXCJSZXF1ZXN0XCIpLFlnPVdnKFwiSGVhZGVyc1wiKSxxZz1LZyYmS2cucHJvdG90eXBlLHpnPVlnJiZZZy5wcm90b3R5cGUsSmc9dWcuUmVnRXhwLFhnPXVnLlR5cGVFcnJvcixRZz11Zy5kZWNvZGVVUklDb21wb25lbnQsWmc9dWcuZW5jb2RlVVJJQ29tcG9uZW50LCRnPXBnKFwiXCIuY2hhckF0KSxlUj1wZyhbXS5qb2luKSx0Uj1wZyhbXS5wdXNoKSxpUj1wZyhcIlwiLnJlcGxhY2UpLG5SPXBnKFtdLnNoaWZ0KSxyUj1wZyhbXS5zcGxpY2UpLG9SPXBnKFwiXCIuc3BsaXQpLHNSPXBnKFwiXCIuc2xpY2UpLGFSPS9cXCsvZyxjUj1BcnJheSg0KSxkUj1mdW5jdGlvbihlKXtyZXR1cm4gY1JbZS0xXXx8KGNSW2UtMV09SmcoXCIoKD86JVtcXFxcZGEtZl17Mn0pe1wiK2UrXCJ9KVwiLFwiZ2lcIikpfSxsUj1mdW5jdGlvbihlKXt0cnl7cmV0dXJuIFFnKGUpfWNhdGNoKHQpe3JldHVybiBlfX0sdVI9ZnVuY3Rpb24oZSl7dmFyIHQ9aVIoZSxhUixcIiBcIiksaT00O3RyeXtyZXR1cm4gUWcodCl9Y2F0Y2goZSl7Zm9yKDtpOyl0PWlSKHQsZFIoaS0tKSxsUik7cmV0dXJuIHR9fSxoUj0vWyEnKCl+XXwlMjAvZyxwUj17XCIhXCI6XCIlMjFcIixcIidcIjpcIiUyN1wiLFwiKFwiOlwiJTI4XCIsXCIpXCI6XCIlMjlcIixcIn5cIjpcIiU3RVwiLFwiJTIwXCI6XCIrXCJ9LF9SPWZ1bmN0aW9uKGUpe3JldHVybiBwUltlXX0sRVI9ZnVuY3Rpb24oZSl7cmV0dXJuIGlSKFpnKGUpLGhSLF9SKX0sbVI9Z2coKGZ1bmN0aW9uKGUsdCl7RmcodGhpcyx7dHlwZTpWZyxpdGVyYXRvcjpQZyhCZyhlKS5lbnRyaWVzKSxraW5kOnR9KX0pLFwiSXRlcmF0b3JcIiwoZnVuY3Rpb24oKXt2YXIgZT1qZyh0aGlzKSx0PWUua2luZCxpPWUuaXRlcmF0b3IubmV4dCgpLG49aS52YWx1ZTtyZXR1cm4gaS5kb25lfHwoaS52YWx1ZT1cImtleXNcIj09PXQ/bi5rZXk6XCJ2YWx1ZXNcIj09PXQ/bi52YWx1ZTpbbi5rZXksbi52YWx1ZV0pLGl9KSwhMCksZlI9ZnVuY3Rpb24oZSl7dGhpcy5lbnRyaWVzPVtdLHRoaXMudXJsPW51bGwsdm9pZCAwIT09ZSYmKHdnKGUpP3RoaXMucGFyc2VPYmplY3QoZSk6dGhpcy5wYXJzZVF1ZXJ5KFwic3RyaW5nXCI9PXR5cGVvZiBlP1wiP1wiPT09JGcoZSwwKT9zUihlLDEpOmU6T2coZSkpKX07ZlIucHJvdG90eXBlPXt0eXBlOnhnLGJpbmRVUkw6ZnVuY3Rpb24oZSl7dGhpcy51cmw9ZSx0aGlzLnVwZGF0ZSgpfSxwYXJzZU9iamVjdDpmdW5jdGlvbihlKXt2YXIgdCxpLG4scixvLHMsYSxjPUxnKGUpO2lmKGMpZm9yKGk9KHQ9UGcoZSxjKSkubmV4dDshKG49aGcoaSx0KSkuZG9uZTspe2lmKG89KHI9UGcoYmcobi52YWx1ZSkpKS5uZXh0LChzPWhnKG8scikpLmRvbmV8fChhPWhnKG8scikpLmRvbmV8fCFoZyhvLHIpLmRvbmUpdGhyb3cgWGcoXCJFeHBlY3RlZCBzZXF1ZW5jZSB3aXRoIGxlbmd0aCAyXCIpO3RSKHRoaXMuZW50cmllcyx7a2V5Ok9nKHMudmFsdWUpLHZhbHVlOk9nKGEudmFsdWUpfSl9ZWxzZSBmb3IodmFyIGQgaW4gZSl2ZyhlLGQpJiZ0Uih0aGlzLmVudHJpZXMse2tleTpkLHZhbHVlOk9nKGVbZF0pfSl9LHBhcnNlUXVlcnk6ZnVuY3Rpb24oZSl7aWYoZSlmb3IodmFyIHQsaSxuPW9SKGUsXCImXCIpLHI9MDtyPG4ubGVuZ3RoOykodD1uW3IrK10pLmxlbmd0aCYmKGk9b1IodCxcIj1cIiksdFIodGhpcy5lbnRyaWVzLHtrZXk6dVIoblIoaSkpLHZhbHVlOnVSKGVSKGksXCI9XCIpKX0pKX0sc2VyaWFsaXplOmZ1bmN0aW9uKCl7Zm9yKHZhciBlLHQ9dGhpcy5lbnRyaWVzLGk9W10sbj0wO248dC5sZW5ndGg7KWU9dFtuKytdLHRSKGksRVIoZS5rZXkpK1wiPVwiK0VSKGUudmFsdWUpKTtyZXR1cm4gZVIoaSxcIiZcIil9LHVwZGF0ZTpmdW5jdGlvbigpe3RoaXMuZW50cmllcy5sZW5ndGg9MCx0aGlzLnBhcnNlUXVlcnkodGhpcy51cmwucXVlcnkpfSx1cGRhdGVVUkw6ZnVuY3Rpb24oKXt0aGlzLnVybCYmdGhpcy51cmwudXBkYXRlKCl9fTt2YXIgVFI9ZnVuY3Rpb24oKXtDZyh0aGlzLFNSKTt2YXIgZT1GZyh0aGlzLG5ldyBmUihhcmd1bWVudHMubGVuZ3RoPjA/YXJndW1lbnRzWzBdOnZvaWQgMCkpO19nfHwodGhpcy5zaXplPWUuZW50cmllcy5sZW5ndGgpfSxTUj1UUi5wcm90b3R5cGU7aWYoVGcoU1Ise2FwcGVuZDpmdW5jdGlvbihlLHQpe3ZhciBpPUJnKHRoaXMpO2tnKGFyZ3VtZW50cy5sZW5ndGgsMiksdFIoaS5lbnRyaWVzLHtrZXk6T2coZSksdmFsdWU6T2codCl9KSxfZ3x8dGhpcy5sZW5ndGgrKyxpLnVwZGF0ZVVSTCgpfSxkZWxldGU6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PUJnKHRoaXMpLGk9a2coYXJndW1lbnRzLmxlbmd0aCwxKSxuPXQuZW50cmllcyxyPU9nKGUpLG89aTwyP3ZvaWQgMDphcmd1bWVudHNbMV0scz12b2lkIDA9PT1vP286T2cobyksYT0wO2E8bi5sZW5ndGg7KXt2YXIgYz1uW2FdO2lmKGMua2V5IT09cnx8dm9pZCAwIT09cyYmYy52YWx1ZSE9PXMpYSsrO2Vsc2UgaWYoclIobixhLDEpLHZvaWQgMCE9PXMpYnJlYWt9X2d8fCh0aGlzLnNpemU9bi5sZW5ndGgpLHQudXBkYXRlVVJMKCl9LGdldDpmdW5jdGlvbihlKXt2YXIgdD1CZyh0aGlzKS5lbnRyaWVzO2tnKGFyZ3VtZW50cy5sZW5ndGgsMSk7Zm9yKHZhciBpPU9nKGUpLG49MDtuPHQubGVuZ3RoO24rKylpZih0W25dLmtleT09PWkpcmV0dXJuIHRbbl0udmFsdWU7cmV0dXJuIG51bGx9LGdldEFsbDpmdW5jdGlvbihlKXt2YXIgdD1CZyh0aGlzKS5lbnRyaWVzO2tnKGFyZ3VtZW50cy5sZW5ndGgsMSk7Zm9yKHZhciBpPU9nKGUpLG49W10scj0wO3I8dC5sZW5ndGg7cisrKXRbcl0ua2V5PT09aSYmdFIobix0W3JdLnZhbHVlKTtyZXR1cm4gbn0saGFzOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD1CZyh0aGlzKS5lbnRyaWVzLGk9a2coYXJndW1lbnRzLmxlbmd0aCwxKSxuPU9nKGUpLHI9aTwyP3ZvaWQgMDphcmd1bWVudHNbMV0sbz12b2lkIDA9PT1yP3I6T2cocikscz0wO3M8dC5sZW5ndGg7KXt2YXIgYT10W3MrK107aWYoYS5rZXk9PT1uJiYodm9pZCAwPT09b3x8YS52YWx1ZT09PW8pKXJldHVybiEwfXJldHVybiExfSxzZXQ6ZnVuY3Rpb24oZSx0KXt2YXIgaT1CZyh0aGlzKTtrZyhhcmd1bWVudHMubGVuZ3RoLDEpO2Zvcih2YXIgbixyPWkuZW50cmllcyxvPSExLHM9T2coZSksYT1PZyh0KSxjPTA7YzxyLmxlbmd0aDtjKyspKG49cltjXSkua2V5PT09cyYmKG8/clIocixjLS0sMSk6KG89ITAsbi52YWx1ZT1hKSk7b3x8dFIocix7a2V5OnMsdmFsdWU6YX0pLF9nfHwodGhpcy5zaXplPXIubGVuZ3RoKSxpLnVwZGF0ZVVSTCgpfSxzb3J0OmZ1bmN0aW9uKCl7dmFyIGU9QmcodGhpcyk7TWcoZS5lbnRyaWVzLChmdW5jdGlvbihlLHQpe3JldHVybiBlLmtleT50LmtleT8xOi0xfSkpLGUudXBkYXRlVVJMKCl9LGZvckVhY2g6ZnVuY3Rpb24oZSl7Zm9yKHZhciB0LGk9QmcodGhpcykuZW50cmllcyxuPXlnKGUsYXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDApLHI9MDtyPGkubGVuZ3RoOyluKCh0PWlbcisrXSkudmFsdWUsdC5rZXksdGhpcyl9LGtleXM6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG1SKHRoaXMsXCJrZXlzXCIpfSx2YWx1ZXM6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG1SKHRoaXMsXCJ2YWx1ZXNcIil9LGVudHJpZXM6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IG1SKHRoaXMsXCJlbnRyaWVzXCIpfX0se2VudW1lcmFibGU6ITB9KSxtZyhTUixVZyxTUi5lbnRyaWVzLHtuYW1lOlwiZW50cmllc1wifSksbWcoU1IsXCJ0b1N0cmluZ1wiLChmdW5jdGlvbigpe3JldHVybiBCZyh0aGlzKS5zZXJpYWxpemUoKX0pLHtlbnVtZXJhYmxlOiEwfSksX2cmJmZnKFNSLFwic2l6ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gQmcodGhpcykuZW50cmllcy5sZW5ndGh9LGNvbmZpZ3VyYWJsZTohMCxlbnVtZXJhYmxlOiEwfSksU2coVFIseGcpLGxnKHtnbG9iYWw6ITAsY29uc3RydWN0b3I6ITAsZm9yY2VkOiFFZ30se1VSTFNlYXJjaFBhcmFtczpUUn0pLCFFZyYmSWcoWWcpKXt2YXIgZ1I9cGcoemcuaGFzKSxSUj1wZyh6Zy5zZXQpLENSPWZ1bmN0aW9uKGUpe2lmKHdnKGUpKXt2YXIgdCxpPWUuYm9keTtpZihBZyhpKT09PXhnKXJldHVybiB0PWUuaGVhZGVycz9uZXcgWWcoZS5oZWFkZXJzKTpuZXcgWWcsZ1IodCxcImNvbnRlbnQtdHlwZVwiKXx8UlIodCxcImNvbnRlbnQtdHlwZVwiLFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkO2NoYXJzZXQ9VVRGLThcIiksTmcoZSx7Ym9keTpEZygwLE9nKGkpKSxoZWFkZXJzOkRnKDAsdCl9KX1yZXR1cm4gZX07aWYoSWcoSGcpJiZsZyh7Z2xvYmFsOiEwLGVudW1lcmFibGU6ITAsZG9udENhbGxHZXRTZXQ6ITAsZm9yY2VkOiEwfSx7ZmV0Y2g6ZnVuY3Rpb24oZSl7cmV0dXJuIEhnKGUsYXJndW1lbnRzLmxlbmd0aD4xP0NSKGFyZ3VtZW50c1sxXSk6e30pfX0pLElnKEtnKSl7dmFyIElSPWZ1bmN0aW9uKGUpe3JldHVybiBDZyh0aGlzLHFnKSxuZXcgS2coZSxhcmd1bWVudHMubGVuZ3RoPjE/Q1IoYXJndW1lbnRzWzFdKTp7fSl9O3FnLmNvbnN0cnVjdG9yPUlSLElSLnByb3RvdHlwZT1xZyxsZyh7Z2xvYmFsOiEwLGNvbnN0cnVjdG9yOiEwLGRvbnRDYWxsR2V0U2V0OiEwLGZvcmNlZDohMH0se1JlcXVlc3Q6SVJ9KX19dmFyIHZSPXtVUkxTZWFyY2hQYXJhbXM6VFIsZ2V0U3RhdGU6Qmd9LHlSPWkoaWUuVVJMU2VhcmNoUGFyYW1zKSxBUj17aXNCcm93c2VyOiEwLGNsYXNzZXM6e1VSTFNlYXJjaFBhcmFtczp2b2lkIDAhPT15Uj95UjpsbSxGb3JtRGF0YTpcInVuZGVmaW5lZFwiIT10eXBlb2YgRm9ybURhdGE/Rm9ybURhdGE6bnVsbCxCbG9iOlwidW5kZWZpbmVkXCIhPXR5cGVvZiBCbG9iP0Jsb2I6bnVsbH0scHJvdG9jb2xzOltcImh0dHBcIixcImh0dHBzXCIsXCJmaWxlXCIsXCJibG9iXCIsXCJ1cmxcIixcImRhdGFcIl19O2NvbnN0IGJSPVwidW5kZWZpbmVkXCIhPXR5cGVvZiB3aW5kb3cmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBkb2N1bWVudCx3Uj0oT1I9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIG5hdmlnYXRvciYmbmF2aWdhdG9yLnByb2R1Y3QsYlImJltcIlJlYWN0TmF0aXZlXCIsXCJOYXRpdmVTY3JpcHRcIixcIk5TXCJdLmluZGV4T2YoT1IpPDApO3ZhciBPUjtjb25zdCBOUj1cInVuZGVmaW5lZFwiIT10eXBlb2YgV29ya2VyR2xvYmFsU2NvcGUmJnNlbGYgaW5zdGFuY2VvZiBXb3JrZXJHbG9iYWxTY29wZSYmXCJmdW5jdGlvblwiPT10eXBlb2Ygc2VsZi5pbXBvcnRTY3JpcHRzO2Z1bmN0aW9uIERSKGUsdCl7dmFyIGk9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYobj1uLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxpLnB1c2guYXBwbHkoaSxuKX1yZXR1cm4gaX1mdW5jdGlvbiBQUihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgaT1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9EUihPYmplY3QoaSksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe29nKGUsdCxpW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKGkpKTpEUihPYmplY3QoaSkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpLHQpKX0pKX1yZXR1cm4gZX12YXIgTFI9UFIoUFIoe30sT2JqZWN0LmZyZWV6ZSh7X19wcm90b19fOm51bGwsaGFzQnJvd3NlckVudjpiUixoYXNTdGFuZGFyZEJyb3dzZXJFbnY6d1IsaGFzU3RhbmRhcmRCcm93c2VyV2ViV29ya2VyRW52Ok5SfSkpLEFSKTt2YXIga1I9aWksTVI9TCxVUj1aZSx4Uj1sLFZSPWZ1bmN0aW9uKCl7dmFyIGU9a1IodGhpcyksdD1cIlwiO3JldHVybiBlLmhhc0luZGljZXMmJih0Kz1cImRcIiksZS5nbG9iYWwmJih0Kz1cImdcIiksZS5pZ25vcmVDYXNlJiYodCs9XCJpXCIpLGUubXVsdGlsaW5lJiYodCs9XCJtXCIpLGUuZG90QWxsJiYodCs9XCJzXCIpLGUudW5pY29kZSYmKHQrPVwidVwiKSxlLnVuaWNvZGVTZXRzJiYodCs9XCJ2XCIpLGUuc3RpY2t5JiYodCs9XCJ5XCIpLHR9LEZSPVJlZ0V4cC5wcm90b3R5cGUsQlI9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5mbGFncztyZXR1cm4gdm9pZCAwIT09dHx8XCJmbGFnc1wiaW4gRlJ8fFVSKGUsXCJmbGFnc1wiKXx8IXhSKEZSLGUpP3Q6TVIoVlIsZSl9LGpSPUNoLmNoYXJBdCxHUj1MLFdSPWlpLEhSPXcsS1I9UixZUj0vLi8uZXhlYyxxUj1UeXBlRXJyb3IselI9d2ksSlI9TCxYUj12LFFSPVZhLFpSPWljLCRSPUosZUM9QmksdEM9bW4saUM9aWksbkM9WSxyQz1SLG9DPXRuLHNDPUJSLGFDPWtlLGNDPW4sZEM9SmMsbEM9ZnVuY3Rpb24oZSx0LGkpe3JldHVybiB0KyhpP2pSKGUsdCkubGVuZ3RoOjEpfSx1Qz1mdW5jdGlvbihlLHQpe3ZhciBpPWUuZXhlYztpZihIUihpKSl7dmFyIG49R1IoaSxlLHQpO3JldHVybiBudWxsIT09biYmV1Iobiksbn1pZihcIlJlZ0V4cFwiPT09S1IoZSkpcmV0dXJuIEdSKFlSLGUsdCk7dGhyb3cgcVIoXCJSZWdFeHAjZXhlYyBjYWxsZWQgb24gaW5jb21wYXRpYmxlIHJlY2VpdmVyXCIpfSxoQz1yYSxwQz1odChcIm1hdGNoQWxsXCIpLF9DPVwiUmVnRXhwIFN0cmluZ1wiLEVDPV9DK1wiIEl0ZXJhdG9yXCIsbUM9aEMuc2V0LGZDPWhDLmdldHRlckZvcihFQyksVEM9VHlwZUVycm9yLFNDPVhSKFwiXCIuaW5kZXhPZiksZ0M9WFIoXCJcIi5tYXRjaEFsbCksUkM9ISFnQyYmIWNDKChmdW5jdGlvbigpe2dDKFwiYVwiLC8uLyl9KSksQ0M9UVIoKGZ1bmN0aW9uKGUsdCxpLG4pe21DKHRoaXMse3R5cGU6RUMscmVnZXhwOmUsc3RyaW5nOnQsZ2xvYmFsOmksdW5pY29kZTpuLGRvbmU6ITF9KX0pLF9DLChmdW5jdGlvbigpe3ZhciBlPWZDKHRoaXMpO2lmKGUuZG9uZSlyZXR1cm4gWlIodm9pZCAwLCEwKTt2YXIgdD1lLnJlZ2V4cCxpPWUuc3RyaW5nLG49dUModCxpKTtyZXR1cm4gbnVsbD09PW4/KGUuZG9uZT0hMCxaUih2b2lkIDAsITApKTplLmdsb2JhbD8oXCJcIj09PXRDKG5bMF0pJiYodC5sYXN0SW5kZXg9bEMoaSxlQyh0Lmxhc3RJbmRleCksZS51bmljb2RlKSksWlIobiwhMSkpOihlLmRvbmU9ITAsWlIobiwhMSkpfSkpLElDPWZ1bmN0aW9uKGUpe3ZhciB0LGksbixyPWlDKHRoaXMpLG89dEMoZSkscz1kQyhyLFJlZ0V4cCksYT10QyhzQyhyKSk7cmV0dXJuIHQ9bmV3IHMocz09PVJlZ0V4cD9yLnNvdXJjZTpyLGEpLGk9ISF+U0MoYSxcImdcIiksbj0hIX5TQyhhLFwidVwiKSx0Lmxhc3RJbmRleD1lQyhyLmxhc3RJbmRleCksbmV3IENDKHQsbyxpLG4pfTt6Uih7dGFyZ2V0OlwiU3RyaW5nXCIscHJvdG86ITAsZm9yY2VkOlJDfSx7bWF0Y2hBbGw6ZnVuY3Rpb24oZSl7dmFyIHQsaSxuLHIsbz0kUih0aGlzKTtpZihuQyhlKSl7aWYoUkMpcmV0dXJuIGdDKG8sZSl9ZWxzZXtpZihvQyhlKSYmKHQ9dEMoJFIoc0MoZSkpKSwhflNDKHQsXCJnXCIpKSl0aHJvdyBUQyhcImAubWF0Y2hBbGxgIGRvZXMgbm90IGFsbG93IG5vbi1nbG9iYWwgcmVnZXhlc1wiKTtpZihSQylyZXR1cm4gZ0MobyxlKTtpZih2b2lkIDA9PT0obj1hQyhlLHBDKSkmJlwiUmVnRXhwXCI9PXJDKGUpJiYobj1JQyksbilyZXR1cm4gSlIobixlLG8pfXJldHVybiBpPXRDKG8pLHI9bmV3IFJlZ0V4cChlLFwiZ1wiKSxKUihJQyxyLGkpfX0pO3ZhciB2Qz1YaShcIlN0cmluZ1wiKS5tYXRjaEFsbCx5Qz1sLEFDPXZDLGJDPVN0cmluZy5wcm90b3R5cGUsd0M9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5tYXRjaEFsbDtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZXx8ZT09PWJDfHx5QyhiQyxlKSYmdD09PWJDLm1hdGNoQWxsP0FDOnR9LE9DPWkod0MpO2Z1bmN0aW9uIE5DKGUpe2Z1bmN0aW9uIHQoZSxpLG4scil7bGV0IG89ZVtyKytdO2lmKFwiX19wcm90b19fXCI9PT1vKXJldHVybiEwO2NvbnN0IHM9TnVtYmVyLmlzRmluaXRlKCtvKSxhPXI+PWUubGVuZ3RoO2lmKG89IW8mJmVtLmlzQXJyYXkobik/bi5sZW5ndGg6byxhKXJldHVybiBlbS5oYXNPd25Qcm9wKG4sbyk/bltvXT1bbltvXSxpXTpuW29dPWksIXM7bltvXSYmZW0uaXNPYmplY3QobltvXSl8fChuW29dPVtdKTtyZXR1cm4gdChlLGksbltvXSxyKSYmZW0uaXNBcnJheShuW29dKSYmKG5bb109ZnVuY3Rpb24oZSl7Y29uc3QgdD17fSxpPU9iamVjdC5rZXlzKGUpO2xldCBuO2NvbnN0IHI9aS5sZW5ndGg7bGV0IG87Zm9yKG49MDtuPHI7bisrKW89aVtuXSx0W29dPWVbb107cmV0dXJuIHR9KG5bb10pKSwhc31pZihlbS5pc0Zvcm1EYXRhKGUpJiZlbS5pc0Z1bmN0aW9uKGUuZW50cmllcykpe2NvbnN0IGk9e307cmV0dXJuIGVtLmZvckVhY2hFbnRyeShlLCgoZSxuKT0+e3QoZnVuY3Rpb24oZSl7cmV0dXJuIE9DKGVtKS5jYWxsKGVtLC9cXHcrfFxcWyhcXHcqKV0vZyxlKS5tYXAoKGU9PlwiW11cIj09PWVbMF0/XCJcIjplWzFdfHxlWzBdKSl9KGUpLG4saSwwKX0pKSxpfXJldHVybiBudWxsfWNvbnN0IERDPXt0cmFuc2l0aW9uYWw6RW0sYWRhcHRlcjpbXCJ4aHJcIixcImh0dHBcIl0sdHJhbnNmb3JtUmVxdWVzdDpbZnVuY3Rpb24oZSx0KXtjb25zdCBpPXQuZ2V0Q29udGVudFR5cGUoKXx8XCJcIixuPWkuaW5kZXhPZihcImFwcGxpY2F0aW9uL2pzb25cIik+LTEscj1lbS5pc09iamVjdChlKTtyJiZlbS5pc0hUTUxGb3JtKGUpJiYoZT1uZXcgRm9ybURhdGEoZSkpO2lmKGVtLmlzRm9ybURhdGEoZSkpcmV0dXJuIG4/SlNPTi5zdHJpbmdpZnkoTkMoZSkpOmU7aWYoZW0uaXNBcnJheUJ1ZmZlcihlKXx8ZW0uaXNCdWZmZXIoZSl8fGVtLmlzU3RyZWFtKGUpfHxlbS5pc0ZpbGUoZSl8fGVtLmlzQmxvYihlKSlyZXR1cm4gZTtpZihlbS5pc0FycmF5QnVmZmVyVmlldyhlKSlyZXR1cm4gZS5idWZmZXI7aWYoZW0uaXNVUkxTZWFyY2hQYXJhbXMoZSkpcmV0dXJuIHQuc2V0Q29udGVudFR5cGUoXCJhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQ7Y2hhcnNldD11dGYtOFwiLCExKSxlLnRvU3RyaW5nKCk7bGV0IG87aWYocil7aWYoaS5pbmRleE9mKFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCIpPi0xKXJldHVybiBmdW5jdGlvbihlLHQpe3JldHVybiBjbShlLG5ldyBMUi5jbGFzc2VzLlVSTFNlYXJjaFBhcmFtcyxPYmplY3QuYXNzaWduKHt2aXNpdG9yOmZ1bmN0aW9uKGUsdCxpLG4pe3JldHVybiBMUi5pc05vZGUmJmVtLmlzQnVmZmVyKGUpPyh0aGlzLmFwcGVuZCh0LGUudG9TdHJpbmcoXCJiYXNlNjRcIikpLCExKTpuLmRlZmF1bHRWaXNpdG9yLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19LHQpKX0oZSx0aGlzLmZvcm1TZXJpYWxpemVyKS50b1N0cmluZygpO2lmKChvPWVtLmlzRmlsZUxpc3QoZSkpfHxpLmluZGV4T2YoXCJtdWx0aXBhcnQvZm9ybS1kYXRhXCIpPi0xKXtjb25zdCB0PXRoaXMuZW52JiZ0aGlzLmVudi5Gb3JtRGF0YTtyZXR1cm4gY20obz97XCJmaWxlc1tdXCI6ZX06ZSx0JiZuZXcgdCx0aGlzLmZvcm1TZXJpYWxpemVyKX19cmV0dXJuIHJ8fG4/KHQuc2V0Q29udGVudFR5cGUoXCJhcHBsaWNhdGlvbi9qc29uXCIsITEpLGZ1bmN0aW9uKGUsdCxpKXtpZihlbS5pc1N0cmluZyhlKSl0cnl7cmV0dXJuKHR8fEpTT04ucGFyc2UpKGUpLGpwKGVtKS5jYWxsKGVtLGUpfWNhdGNoKGUpe2lmKFwiU3ludGF4RXJyb3JcIiE9PWUubmFtZSl0aHJvdyBlfXJldHVybihpfHxKU09OLnN0cmluZ2lmeSkoZSl9KGUpKTplfV0sdHJhbnNmb3JtUmVzcG9uc2U6W2Z1bmN0aW9uKGUpe2NvbnN0IHQ9dGhpcy50cmFuc2l0aW9uYWx8fERDLnRyYW5zaXRpb25hbCxpPXQmJnQuZm9yY2VkSlNPTlBhcnNpbmcsbj1cImpzb25cIj09PXRoaXMucmVzcG9uc2VUeXBlO2lmKGUmJmVtLmlzU3RyaW5nKGUpJiYoaSYmIXRoaXMucmVzcG9uc2VUeXBlfHxuKSl7Y29uc3QgaT0hKHQmJnQuc2lsZW50SlNPTlBhcnNpbmcpJiZuO3RyeXtyZXR1cm4gSlNPTi5wYXJzZShlKX1jYXRjaChlKXtpZihpKXtpZihcIlN5bnRheEVycm9yXCI9PT1lLm5hbWUpdGhyb3cgdG0uZnJvbShlLHRtLkVSUl9CQURfUkVTUE9OU0UsdGhpcyxudWxsLHRoaXMucmVzcG9uc2UpO3Rocm93IGV9fX1yZXR1cm4gZX1dLHRpbWVvdXQ6MCx4c3JmQ29va2llTmFtZTpcIlhTUkYtVE9LRU5cIix4c3JmSGVhZGVyTmFtZTpcIlgtWFNSRi1UT0tFTlwiLG1heENvbnRlbnRMZW5ndGg6LTEsbWF4Qm9keUxlbmd0aDotMSxlbnY6e0Zvcm1EYXRhOkxSLmNsYXNzZXMuRm9ybURhdGEsQmxvYjpMUi5jbGFzc2VzLkJsb2J9LHZhbGlkYXRlU3RhdHVzOmZ1bmN0aW9uKGUpe3JldHVybiBlPj0yMDAmJmU8MzAwfSxoZWFkZXJzOntjb21tb246e0FjY2VwdDpcImFwcGxpY2F0aW9uL2pzb24sIHRleHQvcGxhaW4sICovKlwiLFwiQ29udGVudC1UeXBlXCI6dm9pZCAwfX19O2VtLmZvckVhY2goW1wiZGVsZXRlXCIsXCJnZXRcIixcImhlYWRcIixcInBvc3RcIixcInB1dFwiLFwicGF0Y2hcIl0sKGU9PntEQy5oZWFkZXJzW2VdPXt9fSkpO3ZhciBQQz1EQztjb25zdCBMQz1lbS50b09iamVjdFNldChbXCJhZ2VcIixcImF1dGhvcml6YXRpb25cIixcImNvbnRlbnQtbGVuZ3RoXCIsXCJjb250ZW50LXR5cGVcIixcImV0YWdcIixcImV4cGlyZXNcIixcImZyb21cIixcImhvc3RcIixcImlmLW1vZGlmaWVkLXNpbmNlXCIsXCJpZi11bm1vZGlmaWVkLXNpbmNlXCIsXCJsYXN0LW1vZGlmaWVkXCIsXCJsb2NhdGlvblwiLFwibWF4LWZvcndhcmRzXCIsXCJwcm94eS1hdXRob3JpemF0aW9uXCIsXCJyZWZlcmVyXCIsXCJyZXRyeS1hZnRlclwiLFwidXNlci1hZ2VudFwiXSk7Y29uc3Qga0M9U3ltYm9sKFwiaW50ZXJuYWxzXCIpO2Z1bmN0aW9uIE1DKGUpe3ZhciB0O3JldHVybiBlJiZqcCh0PVN0cmluZyhlKSkuY2FsbCh0KS50b0xvd2VyQ2FzZSgpfWZ1bmN0aW9uIFVDKGUpe3JldHVybiExPT09ZXx8bnVsbD09ZT9lOmVtLmlzQXJyYXkoZSk/ZS5tYXAoVUMpOlN0cmluZyhlKX1mdW5jdGlvbiB4QyhlLHQsaSxuLHIpe3JldHVybiBlbS5pc0Z1bmN0aW9uKG4pP24uY2FsbCh0aGlzLHQsaSk6KHImJih0PWkpLGVtLmlzU3RyaW5nKHQpP2VtLmlzU3RyaW5nKG4pPy0xIT09dC5pbmRleE9mKG4pOmVtLmlzUmVnRXhwKG4pP24udGVzdCh0KTp2b2lkIDA6dm9pZCAwKX1jbGFzcyBWQ3tjb25zdHJ1Y3RvcihlKXtlJiZ0aGlzLnNldChlKX1zZXQoZSx0LGkpe2NvbnN0IG49dGhpcztmdW5jdGlvbiByKGUsdCxpKXtjb25zdCByPU1DKHQpO2lmKCFyKXRocm93IG5ldyBFcnJvcihcImhlYWRlciBuYW1lIG11c3QgYmUgYSBub24tZW1wdHkgc3RyaW5nXCIpO2NvbnN0IG89ZW0uZmluZEtleShuLHIpOyghb3x8dm9pZCAwPT09bltvXXx8ITA9PT1pfHx2b2lkIDA9PT1pJiYhMSE9PW5bb10pJiYobltvfHx0XT1VQyhlKSl9Y29uc3Qgbz0oZSx0KT0+ZW0uZm9yRWFjaChlLCgoZSxpKT0+cihlLGksdCkpKTt2YXIgcztyZXR1cm4gZW0uaXNQbGFpbk9iamVjdChlKXx8ZSBpbnN0YW5jZW9mIHRoaXMuY29uc3RydWN0b3I/byhlLHQpOmVtLmlzU3RyaW5nKGUpJiYoZT1qcChlKS5jYWxsKGUpKSYmIS9eWy1fYS16QS1aMC05XmB8fiwhIyQlJicqKy5dKyQvLnRlc3QoanAocz1lKS5jYWxsKHMpKT9vKChlPT57Y29uc3QgdD17fTtsZXQgaSxuLHI7cmV0dXJuIGUmJmUuc3BsaXQoXCJcXG5cIikuZm9yRWFjaCgoZnVuY3Rpb24oZSl7dmFyIG8scztyPWUuaW5kZXhPZihcIjpcIiksaT1qcChvPWUuc3Vic3RyaW5nKDAscikpLmNhbGwobykudG9Mb3dlckNhc2UoKSxuPWpwKHM9ZS5zdWJzdHJpbmcocisxKSkuY2FsbChzKSwhaXx8dFtpXSYmTENbaV18fChcInNldC1jb29raWVcIj09PWk/dFtpXT90W2ldLnB1c2gobik6dFtpXT1bbl06dFtpXT10W2ldP3RbaV0rXCIsIFwiK246bil9KSksdH0pKGUpLHQpOm51bGwhPWUmJnIodCxlLGkpLHRoaXN9Z2V0KGUsdCl7aWYoZT1NQyhlKSl7Y29uc3QgaT1lbS5maW5kS2V5KHRoaXMsZSk7aWYoaSl7Y29uc3QgZT10aGlzW2ldO2lmKCF0KXJldHVybiBlO2lmKCEwPT09dClyZXR1cm4gZnVuY3Rpb24oZSl7Y29uc3QgdD1PYmplY3QuY3JlYXRlKG51bGwpLGk9LyhbXlxccyw7PV0rKVxccyooPzo9XFxzKihbXiw7XSspKT8vZztsZXQgbjtmb3IoO249aS5leGVjKGUpOyl0W25bMV1dPW5bMl07cmV0dXJuIHR9KGUpO2lmKGVtLmlzRnVuY3Rpb24odCkpcmV0dXJuIHQuY2FsbCh0aGlzLGUsaSk7aWYoZW0uaXNSZWdFeHAodCkpcmV0dXJuIHQuZXhlYyhlKTt0aHJvdyBuZXcgVHlwZUVycm9yKFwicGFyc2VyIG11c3QgYmUgYm9vbGVhbnxyZWdleHB8ZnVuY3Rpb25cIil9fX1oYXMoZSx0KXtpZihlPU1DKGUpKXtjb25zdCBpPWVtLmZpbmRLZXkodGhpcyxlKTtyZXR1cm4hKCFpfHx2b2lkIDA9PT10aGlzW2ldfHx0JiYheEMoMCx0aGlzW2ldLGksdCkpfXJldHVybiExfWRlbGV0ZShlLHQpe2NvbnN0IGk9dGhpcztsZXQgbj0hMTtmdW5jdGlvbiByKGUpe2lmKGU9TUMoZSkpe2NvbnN0IHI9ZW0uZmluZEtleShpLGUpOyFyfHx0JiYheEMoMCxpW3JdLHIsdCl8fChkZWxldGUgaVtyXSxuPSEwKX19cmV0dXJuIGVtLmlzQXJyYXkoZSk/ZS5mb3JFYWNoKHIpOnIoZSksbn1jbGVhcihlKXtjb25zdCB0PU9iamVjdC5rZXlzKHRoaXMpO2xldCBpPXQubGVuZ3RoLG49ITE7Zm9yKDtpLS07KXtjb25zdCByPXRbaV07ZSYmIXhDKDAsdGhpc1tyXSxyLGUsITApfHwoZGVsZXRlIHRoaXNbcl0sbj0hMCl9cmV0dXJuIG59bm9ybWFsaXplKGUpe2NvbnN0IHQ9dGhpcyxpPXt9O3JldHVybiBlbS5mb3JFYWNoKHRoaXMsKChuLHIpPT57dmFyIG87Y29uc3Qgcz1lbS5maW5kS2V5KGkscik7aWYocylyZXR1cm4gdFtzXT1VQyhuKSx2b2lkIGRlbGV0ZSB0W3JdO2NvbnN0IGE9ZT9mdW5jdGlvbihlKXtyZXR1cm4ganAoZSkuY2FsbChlKS50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoLyhbYS16XFxkXSkoXFx3KikvZywoKGUsdCxpKT0+dC50b1VwcGVyQ2FzZSgpK2kpKX0ocik6anAobz1TdHJpbmcocikpLmNhbGwobyk7YSE9PXImJmRlbGV0ZSB0W3JdLHRbYV09VUMobiksaVthXT0hMH0pKSx0aGlzfWNvbmNhdCgpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHQ9bmV3IEFycmF5KGUpLGk9MDtpPGU7aSsrKXRbaV09YXJndW1lbnRzW2ldO3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLmNvbmNhdCh0aGlzLC4uLnQpfXRvSlNPTihlKXtjb25zdCB0PU9iamVjdC5jcmVhdGUobnVsbCk7cmV0dXJuIGVtLmZvckVhY2godGhpcywoKGksbik9PntudWxsIT1pJiYhMSE9PWkmJih0W25dPWUmJmVtLmlzQXJyYXkoaSk/aS5qb2luKFwiLCBcIik6aSl9KSksdH1bU3ltYm9sLml0ZXJhdG9yXSgpe3JldHVybiBPYmplY3QuZW50cmllcyh0aGlzLnRvSlNPTigpKVtTeW1ib2wuaXRlcmF0b3JdKCl9dG9TdHJpbmcoKXtyZXR1cm4gT2JqZWN0LmVudHJpZXModGhpcy50b0pTT04oKSkubWFwKChlPT57bGV0W3QsaV09ZTtyZXR1cm4gdCtcIjogXCIraX0pKS5qb2luKFwiXFxuXCIpfWdldFtTeW1ib2wudG9TdHJpbmdUYWddKCl7cmV0dXJuXCJBeGlvc0hlYWRlcnNcIn1zdGF0aWMgZnJvbShlKXtyZXR1cm4gZSBpbnN0YW5jZW9mIHRoaXM/ZTpuZXcgdGhpcyhlKX1zdGF0aWMgY29uY2F0KGUpe2NvbnN0IHQ9bmV3IHRoaXMoZSk7Zm9yKHZhciBpPWFyZ3VtZW50cy5sZW5ndGgsbj1uZXcgQXJyYXkoaT4xP2ktMTowKSxyPTE7cjxpO3IrKyluW3ItMV09YXJndW1lbnRzW3JdO3JldHVybiBuLmZvckVhY2goKGU9PnQuc2V0KGUpKSksdH1zdGF0aWMgYWNjZXNzb3IoZSl7Y29uc3QgdD0odGhpc1trQ109dGhpc1trQ109e2FjY2Vzc29yczp7fX0pLmFjY2Vzc29ycyxpPXRoaXMucHJvdG90eXBlO2Z1bmN0aW9uIG4oZSl7Y29uc3Qgbj1NQyhlKTt0W25dfHwoIWZ1bmN0aW9uKGUsdCl7Y29uc3QgaT1lbS50b0NhbWVsQ2FzZShcIiBcIit0KTtbXCJnZXRcIixcInNldFwiLFwiaGFzXCJdLmZvckVhY2goKG49PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxuK2kse3ZhbHVlOmZ1bmN0aW9uKGUsaSxyKXtyZXR1cm4gdGhpc1tuXS5jYWxsKHRoaXMsdCxlLGkscil9LGNvbmZpZ3VyYWJsZTohMH0pfSkpfShpLGUpLHRbbl09ITApfXJldHVybiBlbS5pc0FycmF5KGUpP2UuZm9yRWFjaChuKTpuKGUpLHRoaXN9fVZDLmFjY2Vzc29yKFtcIkNvbnRlbnQtVHlwZVwiLFwiQ29udGVudC1MZW5ndGhcIixcIkFjY2VwdFwiLFwiQWNjZXB0LUVuY29kaW5nXCIsXCJVc2VyLUFnZW50XCIsXCJBdXRob3JpemF0aW9uXCJdKSxlbS5yZWR1Y2VEZXNjcmlwdG9ycyhWQy5wcm90b3R5cGUsKChlLHQpPT57bGV0e3ZhbHVlOml9PWUsbj10WzBdLnRvVXBwZXJDYXNlKCkrdC5zbGljZSgxKTtyZXR1cm57Z2V0OigpPT5pLHNldChlKXt0aGlzW25dPWV9fX0pKSxlbS5mcmVlemVNZXRob2RzKFZDKTt2YXIgRkM9VkM7ZnVuY3Rpb24gQkMoZSx0KXtjb25zdCBpPXRoaXN8fFBDLG49dHx8aSxyPUZDLmZyb20obi5oZWFkZXJzKTtsZXQgbz1uLmRhdGE7cmV0dXJuIGVtLmZvckVhY2goZSwoZnVuY3Rpb24oZSl7bz1lLmNhbGwoaSxvLHIubm9ybWFsaXplKCksdD90LnN0YXR1czp2b2lkIDApfSkpLHIubm9ybWFsaXplKCksb31mdW5jdGlvbiBqQyhlKXtyZXR1cm4hKCFlfHwhZS5fX0NBTkNFTF9fKX1mdW5jdGlvbiBHQyhlLHQsaSl7dG0uY2FsbCh0aGlzLG51bGw9PWU/XCJjYW5jZWxlZFwiOmUsdG0uRVJSX0NBTkNFTEVELHQsaSksdGhpcy5uYW1lPVwiQ2FuY2VsZWRFcnJvclwifWVtLmluaGVyaXRzKEdDLHRtLHtfX0NBTkNFTF9fOiEwfSk7dmFyIFdDPUxSLmhhc1N0YW5kYXJkQnJvd3NlckVudj97d3JpdGUoZSx0LGksbixyLG8pe2NvbnN0IHM9W2UrXCI9XCIrZW5jb2RlVVJJQ29tcG9uZW50KHQpXTtlbS5pc051bWJlcihpKSYmcy5wdXNoKFwiZXhwaXJlcz1cIituZXcgRGF0ZShpKS50b0dNVFN0cmluZygpKSxlbS5pc1N0cmluZyhuKSYmcy5wdXNoKFwicGF0aD1cIituKSxlbS5pc1N0cmluZyhyKSYmcy5wdXNoKFwiZG9tYWluPVwiK3IpLCEwPT09byYmcy5wdXNoKFwic2VjdXJlXCIpLGRvY3VtZW50LmNvb2tpZT1zLmpvaW4oXCI7IFwiKX0scmVhZChlKXtjb25zdCB0PWRvY3VtZW50LmNvb2tpZS5tYXRjaChuZXcgUmVnRXhwKFwiKF58O1xcXFxzKikoXCIrZStcIik9KFteO10qKVwiKSk7cmV0dXJuIHQ/ZGVjb2RlVVJJQ29tcG9uZW50KHRbM10pOm51bGx9LHJlbW92ZShlKXt0aGlzLndyaXRlKGUsXCJcIixEYXRlLm5vdygpLTg2NGU1KX19Ont3cml0ZSgpe30scmVhZDooKT0+bnVsbCxyZW1vdmUoKXt9fTtmdW5jdGlvbiBIQyhlLHQpe3JldHVybiBlJiYhZnVuY3Rpb24oZSl7cmV0dXJuL14oW2Etel1bYS16XFxkK1xcLS5dKjopP1xcL1xcLy9pLnRlc3QoZSl9KHQpP2Z1bmN0aW9uKGUsdCl7cmV0dXJuIHQ/ZS5yZXBsYWNlKC9cXC8/XFwvJC8sXCJcIikrXCIvXCIrdC5yZXBsYWNlKC9eXFwvKy8sXCJcIik6ZX0oZSx0KTp0fXZhciBLQz1MUi5oYXNTdGFuZGFyZEJyb3dzZXJFbnY/ZnVuY3Rpb24oKXtjb25zdCBlPS8obXNpZXx0cmlkZW50KS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCksdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtsZXQgaTtmdW5jdGlvbiBuKGkpe2xldCBuPWk7cmV0dXJuIGUmJih0LnNldEF0dHJpYnV0ZShcImhyZWZcIixuKSxuPXQuaHJlZiksdC5zZXRBdHRyaWJ1dGUoXCJocmVmXCIsbikse2hyZWY6dC5ocmVmLHByb3RvY29sOnQucHJvdG9jb2w/dC5wcm90b2NvbC5yZXBsYWNlKC86JC8sXCJcIik6XCJcIixob3N0OnQuaG9zdCxzZWFyY2g6dC5zZWFyY2g/dC5zZWFyY2gucmVwbGFjZSgvXlxcPy8sXCJcIik6XCJcIixoYXNoOnQuaGFzaD90Lmhhc2gucmVwbGFjZSgvXiMvLFwiXCIpOlwiXCIsaG9zdG5hbWU6dC5ob3N0bmFtZSxwb3J0OnQucG9ydCxwYXRobmFtZTpcIi9cIj09PXQucGF0aG5hbWUuY2hhckF0KDApP3QucGF0aG5hbWU6XCIvXCIrdC5wYXRobmFtZX19cmV0dXJuIGk9bih3aW5kb3cubG9jYXRpb24uaHJlZiksZnVuY3Rpb24oZSl7Y29uc3QgdD1lbS5pc1N0cmluZyhlKT9uKGUpOmU7cmV0dXJuIHQucHJvdG9jb2w9PT1pLnByb3RvY29sJiZ0Lmhvc3Q9PT1pLmhvc3R9fSgpOmZ1bmN0aW9uKCl7cmV0dXJuITB9O2Z1bmN0aW9uIFlDKGUsdCl7bGV0IGk9MDtjb25zdCBuPWZ1bmN0aW9uKGUsdCl7ZT1lfHwxMDtjb25zdCBpPW5ldyBBcnJheShlKSxuPW5ldyBBcnJheShlKTtsZXQgcixvPTAscz0wO3JldHVybiB0PXZvaWQgMCE9PXQ/dDoxZTMsZnVuY3Rpb24oYSl7Y29uc3QgYz1EYXRlLm5vdygpLGQ9bltzXTtyfHwocj1jKSxpW29dPWEsbltvXT1jO2xldCBsPXMsdT0wO2Zvcig7bCE9PW87KXUrPWlbbCsrXSxsJT1lO2lmKG89KG8rMSklZSxvPT09cyYmKHM9KHMrMSklZSksYy1yPHQpcmV0dXJuO2NvbnN0IGg9ZCYmYy1kO3JldHVybiBoP01hdGgucm91bmQoMWUzKnUvaCk6dm9pZCAwfX0oNTAsMjUwKTtyZXR1cm4gcj0+e2NvbnN0IG89ci5sb2FkZWQscz1yLmxlbmd0aENvbXB1dGFibGU/ci50b3RhbDp2b2lkIDAsYT1vLWksYz1uKGEpO2k9bztjb25zdCBkPXtsb2FkZWQ6byx0b3RhbDpzLHByb2dyZXNzOnM/by9zOnZvaWQgMCxieXRlczphLHJhdGU6Y3x8dm9pZCAwLGVzdGltYXRlZDpjJiZzJiZvPD1zPyhzLW8pL2M6dm9pZCAwLGV2ZW50OnJ9O2RbdD9cImRvd25sb2FkXCI6XCJ1cGxvYWRcIl09ITAsZShkKX19dmFyIHFDPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBYTUxIdHRwUmVxdWVzdCYmZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBHaCgoZnVuY3Rpb24odCxpKXtsZXQgbj1lLmRhdGE7Y29uc3Qgcj1GQy5mcm9tKGUuaGVhZGVycykubm9ybWFsaXplKCk7bGV0IG8scyx7cmVzcG9uc2VUeXBlOmEsd2l0aFhTUkZUb2tlbjpjfT1lO2Z1bmN0aW9uIGQoKXtlLmNhbmNlbFRva2VuJiZlLmNhbmNlbFRva2VuLnVuc3Vic2NyaWJlKG8pLGUuc2lnbmFsJiZlLnNpZ25hbC5yZW1vdmVFdmVudExpc3RlbmVyKFwiYWJvcnRcIixvKX1pZihlbS5pc0Zvcm1EYXRhKG4pKWlmKExSLmhhc1N0YW5kYXJkQnJvd3NlckVudnx8TFIuaGFzU3RhbmRhcmRCcm93c2VyV2ViV29ya2VyRW52KXIuc2V0Q29udGVudFR5cGUoITEpO2Vsc2UgaWYoITEhPT0ocz1yLmdldENvbnRlbnRUeXBlKCkpKXtjb25zdFtlLC4uLnRdPXM/cy5zcGxpdChcIjtcIikubWFwKChlPT5qcChlKS5jYWxsKGUpKSkuZmlsdGVyKEJvb2xlYW4pOltdO3Iuc2V0Q29udGVudFR5cGUoW2V8fFwibXVsdGlwYXJ0L2Zvcm0tZGF0YVwiLC4uLnRdLmpvaW4oXCI7IFwiKSl9bGV0IGw9bmV3IFhNTEh0dHBSZXF1ZXN0O2lmKGUuYXV0aCl7Y29uc3QgdD1lLmF1dGgudXNlcm5hbWV8fFwiXCIsaT1lLmF1dGgucGFzc3dvcmQ/dW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KGUuYXV0aC5wYXNzd29yZCkpOlwiXCI7ci5zZXQoXCJBdXRob3JpemF0aW9uXCIsXCJCYXNpYyBcIitidG9hKHQrXCI6XCIraSkpfWNvbnN0IHU9SEMoZS5iYXNlVVJMLGUudXJsKTtmdW5jdGlvbiBoKCl7aWYoIWwpcmV0dXJuO2NvbnN0IG49RkMuZnJvbShcImdldEFsbFJlc3BvbnNlSGVhZGVyc1wiaW4gbCYmbC5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSk7IWZ1bmN0aW9uKGUsdCxpKXtjb25zdCBuPWkuY29uZmlnLnZhbGlkYXRlU3RhdHVzO2kuc3RhdHVzJiZuJiYhbihpLnN0YXR1cyk/dChuZXcgdG0oXCJSZXF1ZXN0IGZhaWxlZCB3aXRoIHN0YXR1cyBjb2RlIFwiK2kuc3RhdHVzLFt0bS5FUlJfQkFEX1JFUVVFU1QsdG0uRVJSX0JBRF9SRVNQT05TRV1bTWF0aC5mbG9vcihpLnN0YXR1cy8xMDApLTRdLGkuY29uZmlnLGkucmVxdWVzdCxpKSk6ZShpKX0oKGZ1bmN0aW9uKGUpe3QoZSksZCgpfSksKGZ1bmN0aW9uKGUpe2koZSksZCgpfSkse2RhdGE6YSYmXCJ0ZXh0XCIhPT1hJiZcImpzb25cIiE9PWE/bC5yZXNwb25zZTpsLnJlc3BvbnNlVGV4dCxzdGF0dXM6bC5zdGF0dXMsc3RhdHVzVGV4dDpsLnN0YXR1c1RleHQsaGVhZGVyczpuLGNvbmZpZzplLHJlcXVlc3Q6bH0pLGw9bnVsbH1pZihsLm9wZW4oZS5tZXRob2QudG9VcHBlckNhc2UoKSxwbSh1LGUucGFyYW1zLGUucGFyYW1zU2VyaWFsaXplciksITApLGwudGltZW91dD1lLnRpbWVvdXQsXCJvbmxvYWRlbmRcImluIGw/bC5vbmxvYWRlbmQ9aDpsLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe2wmJjQ9PT1sLnJlYWR5U3RhdGUmJigwIT09bC5zdGF0dXN8fGwucmVzcG9uc2VVUkwmJjA9PT1sLnJlc3BvbnNlVVJMLmluZGV4T2YoXCJmaWxlOlwiKSkmJnNldFRpbWVvdXQoaCl9LGwub25hYm9ydD1mdW5jdGlvbigpe2wmJihpKG5ldyB0bShcIlJlcXVlc3QgYWJvcnRlZFwiLHRtLkVDT05OQUJPUlRFRCxlLGwpKSxsPW51bGwpfSxsLm9uZXJyb3I9ZnVuY3Rpb24oKXtpKG5ldyB0bShcIk5ldHdvcmsgRXJyb3JcIix0bS5FUlJfTkVUV09SSyxlLGwpKSxsPW51bGx9LGwub250aW1lb3V0PWZ1bmN0aW9uKCl7bGV0IHQ9ZS50aW1lb3V0P1widGltZW91dCBvZiBcIitlLnRpbWVvdXQrXCJtcyBleGNlZWRlZFwiOlwidGltZW91dCBleGNlZWRlZFwiO2NvbnN0IG49ZS50cmFuc2l0aW9uYWx8fEVtO2UudGltZW91dEVycm9yTWVzc2FnZSYmKHQ9ZS50aW1lb3V0RXJyb3JNZXNzYWdlKSxpKG5ldyB0bSh0LG4uY2xhcmlmeVRpbWVvdXRFcnJvcj90bS5FVElNRURPVVQ6dG0uRUNPTk5BQk9SVEVELGUsbCkpLGw9bnVsbH0sTFIuaGFzU3RhbmRhcmRCcm93c2VyRW52JiYoYyYmZW0uaXNGdW5jdGlvbihjKSYmKGM9YyhlKSksY3x8ITEhPT1jJiZLQyh1KSkpe2NvbnN0IHQ9ZS54c3JmSGVhZGVyTmFtZSYmZS54c3JmQ29va2llTmFtZSYmV0MucmVhZChlLnhzcmZDb29raWVOYW1lKTt0JiZyLnNldChlLnhzcmZIZWFkZXJOYW1lLHQpfXZvaWQgMD09PW4mJnIuc2V0Q29udGVudFR5cGUobnVsbCksXCJzZXRSZXF1ZXN0SGVhZGVyXCJpbiBsJiZlbS5mb3JFYWNoKHIudG9KU09OKCksKGZ1bmN0aW9uKGUsdCl7bC5zZXRSZXF1ZXN0SGVhZGVyKHQsZSl9KSksZW0uaXNVbmRlZmluZWQoZS53aXRoQ3JlZGVudGlhbHMpfHwobC53aXRoQ3JlZGVudGlhbHM9ISFlLndpdGhDcmVkZW50aWFscyksYSYmXCJqc29uXCIhPT1hJiYobC5yZXNwb25zZVR5cGU9ZS5yZXNwb25zZVR5cGUpLFwiZnVuY3Rpb25cIj09dHlwZW9mIGUub25Eb3dubG9hZFByb2dyZXNzJiZsLmFkZEV2ZW50TGlzdGVuZXIoXCJwcm9ncmVzc1wiLFlDKGUub25Eb3dubG9hZFByb2dyZXNzLCEwKSksXCJmdW5jdGlvblwiPT10eXBlb2YgZS5vblVwbG9hZFByb2dyZXNzJiZsLnVwbG9hZCYmbC51cGxvYWQuYWRkRXZlbnRMaXN0ZW5lcihcInByb2dyZXNzXCIsWUMoZS5vblVwbG9hZFByb2dyZXNzKSksKGUuY2FuY2VsVG9rZW58fGUuc2lnbmFsKSYmKG89dD0+e2wmJihpKCF0fHx0LnR5cGU/bmV3IEdDKG51bGwsZSxsKTp0KSxsLmFib3J0KCksbD1udWxsKX0sZS5jYW5jZWxUb2tlbiYmZS5jYW5jZWxUb2tlbi5zdWJzY3JpYmUobyksZS5zaWduYWwmJihlLnNpZ25hbC5hYm9ydGVkP28oKTplLnNpZ25hbC5hZGRFdmVudExpc3RlbmVyKFwiYWJvcnRcIixvKSkpO2NvbnN0IHA9ZnVuY3Rpb24oZSl7Y29uc3QgdD0vXihbLStcXHddezEsMjV9KSg6P1xcL1xcL3w6KS8uZXhlYyhlKTtyZXR1cm4gdCYmdFsxXXx8XCJcIn0odSk7cCYmLTE9PT1MUi5wcm90b2NvbHMuaW5kZXhPZihwKT9pKG5ldyB0bShcIlVuc3VwcG9ydGVkIHByb3RvY29sIFwiK3ArXCI6XCIsdG0uRVJSX0JBRF9SRVFVRVNULGUpKTpsLnNlbmQobnx8bnVsbCl9KSl9O2NvbnN0IHpDPXtodHRwOm51bGwseGhyOnFDfTtlbS5mb3JFYWNoKHpDLCgoZSx0KT0+e2lmKGUpe3RyeXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcIm5hbWVcIix7dmFsdWU6dH0pfWNhdGNoKGUpe31PYmplY3QuZGVmaW5lUHJvcGVydHkoZSxcImFkYXB0ZXJOYW1lXCIse3ZhbHVlOnR9KX19KSk7Y29uc3QgSkM9ZT0+XCItIFwiLmNvbmNhdChlKSxYQz1lPT5lbS5pc0Z1bmN0aW9uKGUpfHxudWxsPT09ZXx8ITE9PT1lO3ZhciBRQz17Z2V0QWRhcHRlcjplPT57ZT1lbS5pc0FycmF5KGUpP2U6W2VdO2NvbnN0e2xlbmd0aDp0fT1lO2xldCBpLG47Y29uc3Qgcj17fTtmb3IobGV0IG89MDtvPHQ7bysrKXtsZXQgdDtpZihpPWVbb10sbj1pLCFYQyhpKSYmKG49ekNbKHQ9U3RyaW5nKGkpKS50b0xvd2VyQ2FzZSgpXSx2b2lkIDA9PT1uKSl0aHJvdyBuZXcgdG0oXCJVbmtub3duIGFkYXB0ZXIgJ1wiLmNvbmNhdCh0LFwiJ1wiKSk7aWYobilicmVhaztyW3R8fFwiI1wiK29dPW59aWYoIW4pe2NvbnN0IGU9T2JqZWN0LmVudHJpZXMocikubWFwKChlPT57bGV0W3QsaV09ZTtyZXR1cm5cImFkYXB0ZXIgXCIuY29uY2F0KHQsXCIgXCIpKyghMT09PWk/XCJpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoZSBlbnZpcm9ubWVudFwiOlwiaXMgbm90IGF2YWlsYWJsZSBpbiB0aGUgYnVpbGRcIil9KSk7dGhyb3cgbmV3IHRtKFwiVGhlcmUgaXMgbm8gc3VpdGFibGUgYWRhcHRlciB0byBkaXNwYXRjaCB0aGUgcmVxdWVzdCBcIisodD9lLmxlbmd0aD4xP1wic2luY2UgOlxcblwiK2UubWFwKEpDKS5qb2luKFwiXFxuXCIpOlwiIFwiK0pDKGVbMF0pOlwiYXMgbm8gYWRhcHRlciBzcGVjaWZpZWRcIiksXCJFUlJfTk9UX1NVUFBPUlRcIil9cmV0dXJuIG59LGFkYXB0ZXJzOnpDfTtmdW5jdGlvbiBaQyhlKXtpZihlLmNhbmNlbFRva2VuJiZlLmNhbmNlbFRva2VuLnRocm93SWZSZXF1ZXN0ZWQoKSxlLnNpZ25hbCYmZS5zaWduYWwuYWJvcnRlZCl0aHJvdyBuZXcgR0MobnVsbCxlKX1mdW5jdGlvbiAkQyhlKXtaQyhlKSxlLmhlYWRlcnM9RkMuZnJvbShlLmhlYWRlcnMpLGUuZGF0YT1CQy5jYWxsKGUsZS50cmFuc2Zvcm1SZXF1ZXN0KSwtMSE9PVtcInBvc3RcIixcInB1dFwiLFwicGF0Y2hcIl0uaW5kZXhPZihlLm1ldGhvZCkmJmUuaGVhZGVycy5zZXRDb250ZW50VHlwZShcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiLCExKTtyZXR1cm4gUUMuZ2V0QWRhcHRlcihlLmFkYXB0ZXJ8fFBDLmFkYXB0ZXIpKGUpLnRoZW4oKGZ1bmN0aW9uKHQpe3JldHVybiBaQyhlKSx0LmRhdGE9QkMuY2FsbChlLGUudHJhbnNmb3JtUmVzcG9uc2UsdCksdC5oZWFkZXJzPUZDLmZyb20odC5oZWFkZXJzKSx0fSksKGZ1bmN0aW9uKHQpe3JldHVybiBqQyh0KXx8KFpDKGUpLHQmJnQucmVzcG9uc2UmJih0LnJlc3BvbnNlLmRhdGE9QkMuY2FsbChlLGUudHJhbnNmb3JtUmVzcG9uc2UsdC5yZXNwb25zZSksdC5yZXNwb25zZS5oZWFkZXJzPUZDLmZyb20odC5yZXNwb25zZS5oZWFkZXJzKSkpLEdoLnJlamVjdCh0KX0pKX1mdW5jdGlvbiBlSShlLHQpe3ZhciBpPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKG49bi5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksaS5wdXNoLmFwcGx5KGksbil9cmV0dXJuIGl9Y29uc3QgdEk9ZT0+ZSBpbnN0YW5jZW9mIEZDP2Z1bmN0aW9uKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBpPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP2VJKE9iamVjdChpKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7b2coZSx0LGlbdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoaSkpOmVJKE9iamVjdChpKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGksdCkpfSkpfXJldHVybiBlfSh7fSxlKTplO2Z1bmN0aW9uIGlJKGUsdCl7dD10fHx7fTtjb25zdCBpPXt9O2Z1bmN0aW9uIG4oZSx0LGkpe3JldHVybiBlbS5pc1BsYWluT2JqZWN0KGUpJiZlbS5pc1BsYWluT2JqZWN0KHQpP2VtLm1lcmdlLmNhbGwoe2Nhc2VsZXNzOml9LGUsdCk6ZW0uaXNQbGFpbk9iamVjdCh0KT9lbS5tZXJnZSh7fSx0KTplbS5pc0FycmF5KHQpP3Quc2xpY2UoKTp0fWZ1bmN0aW9uIHIoZSx0LGkpe3JldHVybiBlbS5pc1VuZGVmaW5lZCh0KT9lbS5pc1VuZGVmaW5lZChlKT92b2lkIDA6bih2b2lkIDAsZSxpKTpuKGUsdCxpKX1mdW5jdGlvbiBvKGUsdCl7aWYoIWVtLmlzVW5kZWZpbmVkKHQpKXJldHVybiBuKHZvaWQgMCx0KX1mdW5jdGlvbiBzKGUsdCl7cmV0dXJuIGVtLmlzVW5kZWZpbmVkKHQpP2VtLmlzVW5kZWZpbmVkKGUpP3ZvaWQgMDpuKHZvaWQgMCxlKTpuKHZvaWQgMCx0KX1mdW5jdGlvbiBhKGkscixvKXtyZXR1cm4gbyBpbiB0P24oaSxyKTpvIGluIGU/bih2b2lkIDAsaSk6dm9pZCAwfWNvbnN0IGM9e3VybDpvLG1ldGhvZDpvLGRhdGE6byxiYXNlVVJMOnMsdHJhbnNmb3JtUmVxdWVzdDpzLHRyYW5zZm9ybVJlc3BvbnNlOnMscGFyYW1zU2VyaWFsaXplcjpzLHRpbWVvdXQ6cyx0aW1lb3V0TWVzc2FnZTpzLHdpdGhDcmVkZW50aWFsczpzLHdpdGhYU1JGVG9rZW46cyxhZGFwdGVyOnMscmVzcG9uc2VUeXBlOnMseHNyZkNvb2tpZU5hbWU6cyx4c3JmSGVhZGVyTmFtZTpzLG9uVXBsb2FkUHJvZ3Jlc3M6cyxvbkRvd25sb2FkUHJvZ3Jlc3M6cyxkZWNvbXByZXNzOnMsbWF4Q29udGVudExlbmd0aDpzLG1heEJvZHlMZW5ndGg6cyxiZWZvcmVSZWRpcmVjdDpzLHRyYW5zcG9ydDpzLGh0dHBBZ2VudDpzLGh0dHBzQWdlbnQ6cyxjYW5jZWxUb2tlbjpzLHNvY2tldFBhdGg6cyxyZXNwb25zZUVuY29kaW5nOnMsdmFsaWRhdGVTdGF0dXM6YSxoZWFkZXJzOihlLHQpPT5yKHRJKGUpLHRJKHQpLCEwKX07cmV0dXJuIGVtLmZvckVhY2goT2JqZWN0LmtleXMoT2JqZWN0LmFzc2lnbih7fSxlLHQpKSwoZnVuY3Rpb24obil7Y29uc3Qgbz1jW25dfHxyLHM9byhlW25dLHRbbl0sbik7ZW0uaXNVbmRlZmluZWQocykmJm8hPT1hfHwoaVtuXT1zKX0pKSxpfWNvbnN0IG5JPVwiMS42LjhcIixyST17fTtbXCJvYmplY3RcIixcImJvb2xlYW5cIixcIm51bWJlclwiLFwiZnVuY3Rpb25cIixcInN0cmluZ1wiLFwic3ltYm9sXCJdLmZvckVhY2goKChlLHQpPT57cklbZV09ZnVuY3Rpb24oaSl7cmV0dXJuIHR5cGVvZiBpPT09ZXx8XCJhXCIrKHQ8MT9cIm4gXCI6XCIgXCIpK2V9fSkpO2NvbnN0IG9JPXt9O3JJLnRyYW5zaXRpb25hbD1mdW5jdGlvbihlLHQsaSl7ZnVuY3Rpb24gbihlLHQpe3JldHVyblwiW0F4aW9zIHZcIituSStcIl0gVHJhbnNpdGlvbmFsIG9wdGlvbiAnXCIrZStcIidcIit0KyhpP1wiLiBcIitpOlwiXCIpfXJldHVybihpLHIsbyk9PntpZighMT09PWUpdGhyb3cgbmV3IHRtKG4ocixcIiBoYXMgYmVlbiByZW1vdmVkXCIrKHQ/XCIgaW4gXCIrdDpcIlwiKSksdG0uRVJSX0RFUFJFQ0FURUQpO3JldHVybiB0JiYhb0lbcl0mJihvSVtyXT0hMCxjb25zb2xlLndhcm4obihyLFwiIGhhcyBiZWVuIGRlcHJlY2F0ZWQgc2luY2UgdlwiK3QrXCIgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgbmVhciBmdXR1cmVcIikpKSwhZXx8ZShpLHIsbyl9fTt2YXIgc0k9e2Fzc2VydE9wdGlvbnM6ZnVuY3Rpb24oZSx0LGkpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlKXRocm93IG5ldyB0bShcIm9wdGlvbnMgbXVzdCBiZSBhbiBvYmplY3RcIix0bS5FUlJfQkFEX09QVElPTl9WQUxVRSk7Y29uc3Qgbj1PYmplY3Qua2V5cyhlKTtsZXQgcj1uLmxlbmd0aDtmb3IoO3ItLSA+MDspe2NvbnN0IG89bltyXSxzPXRbb107aWYocyl7Y29uc3QgdD1lW29dLGk9dm9pZCAwPT09dHx8cyh0LG8sZSk7aWYoITAhPT1pKXRocm93IG5ldyB0bShcIm9wdGlvbiBcIitvK1wiIG11c3QgYmUgXCIraSx0bS5FUlJfQkFEX09QVElPTl9WQUxVRSl9ZWxzZSBpZighMCE9PWkpdGhyb3cgbmV3IHRtKFwiVW5rbm93biBvcHRpb24gXCIrbyx0bS5FUlJfQkFEX09QVElPTil9fSx2YWxpZGF0b3JzOnJJfTtjb25zdCBhST1zSS52YWxpZGF0b3JzO2xldCBjST1jbGFzc3tjb25zdHJ1Y3RvcihlKXt0aGlzLmRlZmF1bHRzPWUsdGhpcy5pbnRlcmNlcHRvcnM9e3JlcXVlc3Q6bmV3IF9tLHJlc3BvbnNlOm5ldyBfbX19YXN5bmMgcmVxdWVzdChlLHQpe3RyeXtyZXR1cm4gYXdhaXQgdGhpcy5fcmVxdWVzdChlLHQpfWNhdGNoKGUpe2lmKGUgaW5zdGFuY2VvZiBFcnJvcil7bGV0IHQ7RXJyb3IuY2FwdHVyZVN0YWNrVHJhY2U/RXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodD17fSk6dD1uZXcgRXJyb3I7Y29uc3QgaT10LnN0YWNrP3Quc3RhY2sucmVwbGFjZSgvXi4rXFxuLyxcIlwiKTpcIlwiO2Uuc3RhY2s/aSYmIVN0cmluZyhlLnN0YWNrKS5lbmRzV2l0aChpLnJlcGxhY2UoL14uK1xcbi4rXFxuLyxcIlwiKSkmJihlLnN0YWNrKz1cIlxcblwiK2kpOmUuc3RhY2s9aX10aHJvdyBlfX1fcmVxdWVzdChlLHQpe1wic3RyaW5nXCI9PXR5cGVvZiBlPyh0PXR8fHt9KS51cmw9ZTp0PWV8fHt9LHQ9aUkodGhpcy5kZWZhdWx0cyx0KTtjb25zdHt0cmFuc2l0aW9uYWw6aSxwYXJhbXNTZXJpYWxpemVyOm4saGVhZGVyczpyfT10O3ZvaWQgMCE9PWkmJnNJLmFzc2VydE9wdGlvbnMoaSx7c2lsZW50SlNPTlBhcnNpbmc6YUkudHJhbnNpdGlvbmFsKGFJLmJvb2xlYW4pLGZvcmNlZEpTT05QYXJzaW5nOmFJLnRyYW5zaXRpb25hbChhSS5ib29sZWFuKSxjbGFyaWZ5VGltZW91dEVycm9yOmFJLnRyYW5zaXRpb25hbChhSS5ib29sZWFuKX0sITEpLG51bGwhPW4mJihlbS5pc0Z1bmN0aW9uKG4pP3QucGFyYW1zU2VyaWFsaXplcj17c2VyaWFsaXplOm59OnNJLmFzc2VydE9wdGlvbnMobix7ZW5jb2RlOmFJLmZ1bmN0aW9uLHNlcmlhbGl6ZTphSS5mdW5jdGlvbn0sITApKSx0Lm1ldGhvZD0odC5tZXRob2R8fHRoaXMuZGVmYXVsdHMubWV0aG9kfHxcImdldFwiKS50b0xvd2VyQ2FzZSgpO2xldCBvPXImJmVtLm1lcmdlKHIuY29tbW9uLHJbdC5tZXRob2RdKTtyJiZlbS5mb3JFYWNoKFtcImRlbGV0ZVwiLFwiZ2V0XCIsXCJoZWFkXCIsXCJwb3N0XCIsXCJwdXRcIixcInBhdGNoXCIsXCJjb21tb25cIl0sKGU9PntkZWxldGUgcltlXX0pKSx0LmhlYWRlcnM9RkMuY29uY2F0KG8scik7Y29uc3Qgcz1bXTtsZXQgYT0hMDt0aGlzLmludGVyY2VwdG9ycy5yZXF1ZXN0LmZvckVhY2goKGZ1bmN0aW9uKGUpe1wiZnVuY3Rpb25cIj09dHlwZW9mIGUucnVuV2hlbiYmITE9PT1lLnJ1bldoZW4odCl8fChhPWEmJmUuc3luY2hyb25vdXMscy51bnNoaWZ0KGUuZnVsZmlsbGVkLGUucmVqZWN0ZWQpKX0pKTtjb25zdCBjPVtdO2xldCBkO3RoaXMuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLmZvckVhY2goKGZ1bmN0aW9uKGUpe2MucHVzaChlLmZ1bGZpbGxlZCxlLnJlamVjdGVkKX0pKTtsZXQgbCx1PTA7aWYoIWEpe2NvbnN0IGU9WyRDLmJpbmQodGhpcyksdm9pZCAwXTtmb3IoZS51bnNoaWZ0LmFwcGx5KGUscyksZS5wdXNoLmFwcGx5KGUsYyksbD1lLmxlbmd0aCxkPUdoLnJlc29sdmUodCk7dTxsOylkPWQudGhlbihlW3UrK10sZVt1KytdKTtyZXR1cm4gZH1sPXMubGVuZ3RoO2xldCBoPXQ7Zm9yKHU9MDt1PGw7KXtjb25zdCBlPXNbdSsrXSx0PXNbdSsrXTt0cnl7aD1lKGgpfWNhdGNoKGUpe3QuY2FsbCh0aGlzLGUpO2JyZWFrfX10cnl7ZD0kQy5jYWxsKHRoaXMsaCl9Y2F0Y2goZSl7cmV0dXJuIEdoLnJlamVjdChlKX1mb3IodT0wLGw9Yy5sZW5ndGg7dTxsOylkPWQudGhlbihjW3UrK10sY1t1KytdKTtyZXR1cm4gZH1nZXRVcmkoZSl7cmV0dXJuIHBtKEhDKChlPWlJKHRoaXMuZGVmYXVsdHMsZSkpLmJhc2VVUkwsZS51cmwpLGUucGFyYW1zLGUucGFyYW1zU2VyaWFsaXplcil9fTtlbS5mb3JFYWNoKFtcImRlbGV0ZVwiLFwiZ2V0XCIsXCJoZWFkXCIsXCJvcHRpb25zXCJdLChmdW5jdGlvbihlKXtjSS5wcm90b3R5cGVbZV09ZnVuY3Rpb24odCxpKXtyZXR1cm4gdGhpcy5yZXF1ZXN0KGlJKGl8fHt9LHttZXRob2Q6ZSx1cmw6dCxkYXRhOihpfHx7fSkuZGF0YX0pKX19KSksZW0uZm9yRWFjaChbXCJwb3N0XCIsXCJwdXRcIixcInBhdGNoXCJdLChmdW5jdGlvbihlKXtmdW5jdGlvbiB0KHQpe3JldHVybiBmdW5jdGlvbihpLG4scil7cmV0dXJuIHRoaXMucmVxdWVzdChpSShyfHx7fSx7bWV0aG9kOmUsaGVhZGVyczp0P3tcIkNvbnRlbnQtVHlwZVwiOlwibXVsdGlwYXJ0L2Zvcm0tZGF0YVwifTp7fSx1cmw6aSxkYXRhOm59KSl9fWNJLnByb3RvdHlwZVtlXT10KCksY0kucHJvdG90eXBlW2UrXCJGb3JtXCJdPXQoITApfSkpO3ZhciBkST1jSTtjbGFzcyBsSXtjb25zdHJ1Y3RvcihlKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlKXRocm93IG5ldyBUeXBlRXJyb3IoXCJleGVjdXRvciBtdXN0IGJlIGEgZnVuY3Rpb24uXCIpO2xldCB0O3RoaXMucHJvbWlzZT1uZXcgR2goKGZ1bmN0aW9uKGUpe3Q9ZX0pKTtjb25zdCBpPXRoaXM7dGhpcy5wcm9taXNlLnRoZW4oKGU9PntpZighaS5fbGlzdGVuZXJzKXJldHVybjtsZXQgdD1pLl9saXN0ZW5lcnMubGVuZ3RoO2Zvcig7dC0tID4wOylpLl9saXN0ZW5lcnNbdF0oZSk7aS5fbGlzdGVuZXJzPW51bGx9KSksdGhpcy5wcm9taXNlLnRoZW49ZT0+e2xldCB0O2NvbnN0IG49bmV3IEdoKChlPT57aS5zdWJzY3JpYmUoZSksdD1lfSkpLnRoZW4oZSk7cmV0dXJuIG4uY2FuY2VsPWZ1bmN0aW9uKCl7aS51bnN1YnNjcmliZSh0KX0sbn0sZSgoZnVuY3Rpb24oZSxuLHIpe2kucmVhc29ufHwoaS5yZWFzb249bmV3IEdDKGUsbixyKSx0KGkucmVhc29uKSl9KSl9dGhyb3dJZlJlcXVlc3RlZCgpe2lmKHRoaXMucmVhc29uKXRocm93IHRoaXMucmVhc29ufXN1YnNjcmliZShlKXt0aGlzLnJlYXNvbj9lKHRoaXMucmVhc29uKTp0aGlzLl9saXN0ZW5lcnM/dGhpcy5fbGlzdGVuZXJzLnB1c2goZSk6dGhpcy5fbGlzdGVuZXJzPVtlXX11bnN1YnNjcmliZShlKXtpZighdGhpcy5fbGlzdGVuZXJzKXJldHVybjtjb25zdCB0PXRoaXMuX2xpc3RlbmVycy5pbmRleE9mKGUpOy0xIT09dCYmdGhpcy5fbGlzdGVuZXJzLnNwbGljZSh0LDEpfXN0YXRpYyBzb3VyY2UoKXtsZXQgZTtyZXR1cm57dG9rZW46bmV3IGxJKChmdW5jdGlvbih0KXtlPXR9KSksY2FuY2VsOmV9fX12YXIgdUk9bEk7Y29uc3QgaEk9e0NvbnRpbnVlOjEwMCxTd2l0Y2hpbmdQcm90b2NvbHM6MTAxLFByb2Nlc3Npbmc6MTAyLEVhcmx5SGludHM6MTAzLE9rOjIwMCxDcmVhdGVkOjIwMSxBY2NlcHRlZDoyMDIsTm9uQXV0aG9yaXRhdGl2ZUluZm9ybWF0aW9uOjIwMyxOb0NvbnRlbnQ6MjA0LFJlc2V0Q29udGVudDoyMDUsUGFydGlhbENvbnRlbnQ6MjA2LE11bHRpU3RhdHVzOjIwNyxBbHJlYWR5UmVwb3J0ZWQ6MjA4LEltVXNlZDoyMjYsTXVsdGlwbGVDaG9pY2VzOjMwMCxNb3ZlZFBlcm1hbmVudGx5OjMwMSxGb3VuZDozMDIsU2VlT3RoZXI6MzAzLE5vdE1vZGlmaWVkOjMwNCxVc2VQcm94eTozMDUsVW51c2VkOjMwNixUZW1wb3JhcnlSZWRpcmVjdDozMDcsUGVybWFuZW50UmVkaXJlY3Q6MzA4LEJhZFJlcXVlc3Q6NDAwLFVuYXV0aG9yaXplZDo0MDEsUGF5bWVudFJlcXVpcmVkOjQwMixGb3JiaWRkZW46NDAzLE5vdEZvdW5kOjQwNCxNZXRob2ROb3RBbGxvd2VkOjQwNSxOb3RBY2NlcHRhYmxlOjQwNixQcm94eUF1dGhlbnRpY2F0aW9uUmVxdWlyZWQ6NDA3LFJlcXVlc3RUaW1lb3V0OjQwOCxDb25mbGljdDo0MDksR29uZTo0MTAsTGVuZ3RoUmVxdWlyZWQ6NDExLFByZWNvbmRpdGlvbkZhaWxlZDo0MTIsUGF5bG9hZFRvb0xhcmdlOjQxMyxVcmlUb29Mb25nOjQxNCxVbnN1cHBvcnRlZE1lZGlhVHlwZTo0MTUsUmFuZ2VOb3RTYXRpc2ZpYWJsZTo0MTYsRXhwZWN0YXRpb25GYWlsZWQ6NDE3LEltQVRlYXBvdDo0MTgsTWlzZGlyZWN0ZWRSZXF1ZXN0OjQyMSxVbnByb2Nlc3NhYmxlRW50aXR5OjQyMixMb2NrZWQ6NDIzLEZhaWxlZERlcGVuZGVuY3k6NDI0LFRvb0Vhcmx5OjQyNSxVcGdyYWRlUmVxdWlyZWQ6NDI2LFByZWNvbmRpdGlvblJlcXVpcmVkOjQyOCxUb29NYW55UmVxdWVzdHM6NDI5LFJlcXVlc3RIZWFkZXJGaWVsZHNUb29MYXJnZTo0MzEsVW5hdmFpbGFibGVGb3JMZWdhbFJlYXNvbnM6NDUxLEludGVybmFsU2VydmVyRXJyb3I6NTAwLE5vdEltcGxlbWVudGVkOjUwMSxCYWRHYXRld2F5OjUwMixTZXJ2aWNlVW5hdmFpbGFibGU6NTAzLEdhdGV3YXlUaW1lb3V0OjUwNCxIdHRwVmVyc2lvbk5vdFN1cHBvcnRlZDo1MDUsVmFyaWFudEFsc29OZWdvdGlhdGVzOjUwNixJbnN1ZmZpY2llbnRTdG9yYWdlOjUwNyxMb29wRGV0ZWN0ZWQ6NTA4LE5vdEV4dGVuZGVkOjUxMCxOZXR3b3JrQXV0aGVudGljYXRpb25SZXF1aXJlZDo1MTF9O09iamVjdC5lbnRyaWVzKGhJKS5mb3JFYWNoKChlPT57bGV0W3QsaV09ZTtoSVtpXT10fSkpO3ZhciBwST1oSTtjb25zdCBfST1mdW5jdGlvbiBlKHQpe2NvbnN0IGk9bmV3IGRJKHQpLG49Z0UoZEkucHJvdG90eXBlLnJlcXVlc3QsaSk7cmV0dXJuIGVtLmV4dGVuZChuLGRJLnByb3RvdHlwZSxpLHthbGxPd25LZXlzOiEwfSksZW0uZXh0ZW5kKG4saSxudWxsLHthbGxPd25LZXlzOiEwfSksbi5jcmVhdGU9ZnVuY3Rpb24oaSl7cmV0dXJuIGUoaUkodCxpKSl9LG59KFBDKTtfSS5BeGlvcz1kSSxfSS5DYW5jZWxlZEVycm9yPUdDLF9JLkNhbmNlbFRva2VuPXVJLF9JLmlzQ2FuY2VsPWpDLF9JLlZFUlNJT049bkksX0kudG9Gb3JtRGF0YT1jbSxfSS5BeGlvc0Vycm9yPXRtLF9JLkNhbmNlbD1fSS5DYW5jZWxlZEVycm9yLF9JLmFsbD1mdW5jdGlvbihlKXtyZXR1cm4gR2guYWxsKGUpfSxfSS5zcHJlYWQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGZ1bmN0aW9uKHQpe3JldHVybiBlLmFwcGx5KG51bGwsdCl9fSxfSS5pc0F4aW9zRXJyb3I9ZnVuY3Rpb24oZSl7cmV0dXJuIGVtLmlzT2JqZWN0KGUpJiYhMD09PWUuaXNBeGlvc0Vycm9yfSxfSS5tZXJnZUNvbmZpZz1pSSxfSS5BeGlvc0hlYWRlcnM9RkMsX0kuZm9ybVRvSlNPTj1lPT5OQyhlbS5pc0hUTUxGb3JtKGUpP25ldyBGb3JtRGF0YShlKTplKSxfSS5nZXRBZGFwdGVyPVFDLmdldEFkYXB0ZXIsX0kuSHR0cFN0YXR1c0NvZGU9cEksX0kuZGVmYXVsdD1fSTt2YXIgRUk9X0k7Y29uc3QgbUk9KCk9Pnt9O2Z1bmN0aW9uIGZJKCl7Y29uc3QgZT17cHJvbWlzZTp2b2lkIDAsaXNSZXNvbHZlZDohMSxpc1JlamVjdGVkOiExLGlzRmluaXNoZWQ6ITEscmVzb2x2ZTp2b2lkIDAscmVqZWN0OnZvaWQgMCxjYW5jZWw6bUl9O3JldHVybiBlLnByb21pc2U9bmV3IEdoKCgodCxpKT0+e2UucmVzb2x2ZT1pPT57ZS5pc0ZpbmlzaGVkfHwoZS5pc1Jlc29sdmVkPSEwLGUuaXNGaW5pc2hlZD0hMCx0KGkpLGUudmFsdWU9aSl9LGUucmVqZWN0PXQ9PntlLmlzRmluaXNoZWR8fChlLmlzUmVqZWN0ZWQ9ITAsZS5pc0ZpbmlzaGVkPSEwLGkodCkpfX0pKSxlfWNvbnN0IFRJPW5ldyBNYXAsU0k9bmV3IE1hcCxnST1uZXcgTWFwO2xldCBSST1mdW5jdGlvbihlKXtyZXR1cm4gZS5XSU5fMTA9XCJXaW5kb3dzIDEwXCIsZS5XSU5fODE9XCJXaW5kb3dzIDguMVwiLGUuV0lOXzg9XCJXaW5kb3dzIDhcIixlLldJTl83PVwiV2luZG93cyA3XCIsZS5XSU5fVklTVEE9XCJXaW5kb3dzIFZpc3RhXCIsZS5XSU5fU0VSVkVSXzIwMDM9XCJXaW5kb3dzIFNlcnZlciAyMDAzXCIsZS5XSU5fWFA9XCJXaW5kb3dzIFhQXCIsZS5XSU5fMjAwMD1cIldpbmRvd3MgMjAwMFwiLGUuQU5EUk9JRD1cIkFuZHJvaWRcIixlLkhBUk1PTllfT1M9XCJIYXJtb255T1NcIixlLk9QRU5fQlNEPVwiT3BlbiBCU0RcIixlLlNVTl9PUz1cIlN1biBPU1wiLGUuTElOVVg9XCJMaW51eFwiLGUuSU9TPVwiaU9TXCIsZS5NQUNfT1M9XCJNYWMgT1NcIixlLkNIUk9NSVVNX09TPVwiQ2hyb21pdW0gT1NcIixlLlFOWD1cIlFOWFwiLGUuVU5JWD1cIlVOSVhcIixlLkJFT1M9XCJCZU9TXCIsZS5PU18yPVwiT1MvMlwiLGUuU0VBUkNIX0JPVD1cIlNlYXJjaCBCb3RcIixlfSh7fSksQ0k9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuQ0hST01FPVwiQ2hyb21lXCIsZS5TQUZBUkk9XCJTYWZhcmlcIixlLkVER0U9XCJFZGdlXCIsZS5GSVJFRk9YPVwiRmlyZWZveFwiLGUuT1BFUkE9XCJPUFJcIixlLlFRPVwiUVFCcm93c2VyXCIsZS5XRUNIQVQ9XCJNaWNyb01lc3NlbmdlclwiLGV9KHt9KTtjb25zdCBJST1uZXcgZEU7bGV0IHZJPUlJLmdldFJlc3VsdCgpLHlJPW51bGw7ZnVuY3Rpb24gQUkoZSl7aWYoIXlJKXtlJiZJSS5zZXRVQShlKSx2ST1JSS5nZXRSZXN1bHQoKTtjb25zdCB0PWZ1bmN0aW9uKGUpe2lmKFwiQmxpbmtcIj09PWUuZW5naW5lLm5hbWUmJlwiV2VDaGF0XCIhPT1lLmJyb3dzZXIubmFtZSlyZXR1cm4gQ0kuQ0hST01FO3N3aXRjaChlLmJyb3dzZXIubmFtZSl7Y2FzZVwiQ2hyb21lIEhlYWRsZXNzXCI6Y2FzZVwiQ2hyb21lXCI6Y2FzZVwiQ2hyb21pdW1cIjpyZXR1cm4gQ0kuQ0hST01FO2Nhc2VcIlNhZmFyaVwiOmNhc2VcIk1vYmlsZSBTYWZhcmlcIjpyZXR1cm4gQ0kuU0FGQVJJO2Nhc2VcIkVkZ2VcIjpyZXR1cm4gQ0kuRURHRTtjYXNlXCJGaXJlZm94XCI6cmV0dXJuIENJLkZJUkVGT1g7Y2FzZVwiUVFcIjpjYXNlXCJRUUJyb3dzZXJcIjpyZXR1cm4gQ0kuUVE7Y2FzZVwiT3BlcmFcIjpyZXR1cm4gQ0kuT1BFUkE7Y2FzZVwiV2VDaGF0XCI6cmV0dXJuIENJLldFQ0hBVDtkZWZhdWx0OnJldHVybiBlLmJyb3dzZXIubmFtZXx8XCJcIn19KHZJKSxpPWJJKHZJKSxuPWZ1bmN0aW9uKGUpe3JldHVyblwiV2luZG93c1wiPT09ZS5vcy5uYW1lP2Uub3MudmVyc2lvbj9lLm9zLm5hbWUrXCIgXCIrZS5vcy52ZXJzaW9uOmUub3MubmFtZTplLm9zLm5hbWV8fFwiXCJ9KHZJKSxyPXZJLm9zLnZlcnNpb24sbz1iSSh2SSwhMSkscz12SS5kZXZpY2UudHlwZTtpZighKHQmJmkmJm4mJnIpKXJldHVybntuYW1lOnQsdmVyc2lvbjppLG9zOm4sb3NWZXJzaW9uOnIsYnJvd3NlclZlcnNpb246byxkZXZpY2VUeXBlOnN9O3lJPXtuYW1lOnQsdmVyc2lvbjppLG9zOm4sb3NWZXJzaW9uOnIsYnJvd3NlclZlcnNpb246byxkZXZpY2VUeXBlOnN9fXJldHVybiB5SX1mdW5jdGlvbiBiSShlKXtsZXQgdCxpPSEoYXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0pfHxhcmd1bWVudHNbMV07cmV0dXJuIHQ9XCJCbGlua1wiPT09ZS5lbmdpbmUubmFtZT9lLmVuZ2luZS52ZXJzaW9ufHxcIlwiOmUuYnJvd3Nlci52ZXJzaW9ufHxcIlwiLGk/dC5zcGxpdChcIi5cIilbMF06dH1mdW5jdGlvbiB3SSgpe3JldHVybiBBSSgpLm9zfWZ1bmN0aW9uIE9JKCl7Y29uc3QgZT1BSSgpO3JldHVyblwiXCIuY29uY2F0KGUub3MsXCIgXCIpLmNvbmNhdChlLm9zVmVyc2lvbil9ZnVuY3Rpb24gTkkoKXtjb25zdCBlPUFJKCk7cmV0dXJuISEoXCJXZWJLaXRcIj09PXZJLmVuZ2luZS5uYW1lJiZlLm9zPT09UkkuTUFDX09TJiZuYXZpZ2F0b3IubWF4VG91Y2hQb2ludHMmJm5hdmlnYXRvci5tYXhUb3VjaFBvaW50cz4wJiZlLm5hbWUhPT1DSS5TQUZBUkl8fE1JKCkmJmUubmFtZSE9PUNJLlNBRkFSSSl9ZnVuY3Rpb24gREkoKXtyZXR1cm4gQUkoKS5uYW1lPT09Q0kuQ0hST01FfWZ1bmN0aW9uIFBJKCl7cmV0dXJuIEFJKCkubmFtZT09PUNJLlNBRkFSSX1mdW5jdGlvbiBMSSgpe3JldHVybiBBSSgpLm5hbWU9PT1DSS5FREdFfWZ1bmN0aW9uIGtJKCl7cmV0dXJuIEFJKCkubmFtZT09PUNJLkZJUkVGT1h9ZnVuY3Rpb24gTUkoKXtyZXR1cm4gQUkoKS5vcz09PVJJLklPU31mdW5jdGlvbiBVSShlKXtjb25zdCB0PUFJKCk7cmV0dXJuISh0Lm5hbWUhPT1DSS5DSFJPTUV8fCF0Lm9zVmVyc2lvbikmJk51bWJlcih0LnZlcnNpb24pPj1lfWZ1bmN0aW9uIHhJKGUpe2NvbnN0IHQ9QUkoKTtyZXR1cm4hKHQubmFtZSE9PUNJLkNIUk9NRXx8IXQub3NWZXJzaW9uKSYmTnVtYmVyKHQudmVyc2lvbik8ZX1mdW5jdGlvbiBWSShlKXtjb25zdCB0PUFJKCk7cmV0dXJuISh0Lm5hbWUhPT1DSS5FREdFfHwhdC5vc1ZlcnNpb24pJiZOdW1iZXIodC52ZXJzaW9uKT49ZX1mdW5jdGlvbiBGSShlKXtjb25zdCB0PUFJKCk7cmV0dXJuISh0Lm5hbWUhPT1DSS5TQUZBUkl8fCF0Lm9zVmVyc2lvbikmJk51bWJlcih0LnZlcnNpb24pPj1lfWZ1bmN0aW9uIEJJKGUsdCxpKXtjb25zdCBuPUFJKCk7aWYobi5vcyE9PVJJLklPU3x8IW4ub3NWZXJzaW9uKXJldHVybiExO2NvbnN0IHI9bi5vc1ZlcnNpb24uc3BsaXQoXCIuXCIpO3JldHVybiBpP3QmJk51bWJlcihyWzBdKT09PWUmJk51bWJlcihyWzFdKTx0fHxOdW1iZXIoclswXSk8ZTp0P051bWJlcihyWzBdKT09PWUmJk51bWJlcihyWzFdKTw9dHx8TnVtYmVyKHJbMF0pPGU6TnVtYmVyKHJbMF0pPD1lfWZ1bmN0aW9uIGpJKGUsdCxpKXtjb25zdCBuPUFJKCk7aWYobi5uYW1lIT09Q0kuU0FGQVJJfHwhbi5vc1ZlcnNpb258fCFuLmJyb3dzZXJWZXJzaW9uKXJldHVybiExO2NvbnN0IHI9bi5icm93c2VyVmVyc2lvbi5zcGxpdChcIi5cIik7cmV0dXJuIGk/dCYmTnVtYmVyKHJbMF0pPT09ZSYmTnVtYmVyKHJbMV0pPHR8fE51bWJlcihyWzBdKTxlOnQ/TnVtYmVyKHJbMF0pPT09ZSYmTnVtYmVyKHJbMV0pPD10fHxOdW1iZXIoclswXSk8ZTpOdW1iZXIoclswXSk8PWV9ZnVuY3Rpb24gR0koZSl7Y29uc3QgdD1BSSgpO3JldHVybiEodC5uYW1lIT09Q0kuT1BFUkF8fCF0Lm9zVmVyc2lvbikmJk51bWJlcih0LnZlcnNpb24pPj1lfWZ1bmN0aW9uIFdJKCl7Y29uc3QgZT1BSSgpO2lmKGUub3MhPT1SSS5JT1N8fCFlLm9zVmVyc2lvbilyZXR1cm4hMTtjb25zdCB0PWUub3NWZXJzaW9uLnNwbGl0KFwiLlwiKTtyZXR1cm4gTnVtYmVyKHRbMF0pPDE0fHwxND09PU51bWJlcih0WzBdKSYmTnVtYmVyKHRbMV0pPD02fWZ1bmN0aW9uIEhJKCl7Y29uc3QgZT1BSSgpO2lmKGUub3MhPT1SSS5JT1N8fCFlLm9zVmVyc2lvbilyZXR1cm4hMTtjb25zdCB0PWUub3NWZXJzaW9uLnNwbGl0KFwiLlwiKTtyZXR1cm4gMTU9PT1OdW1iZXIodFswXSl9ZnVuY3Rpb24gS0koKXtjb25zdCBlPUFJKCk7aWYoZS5vcyE9PVJJLklPU3x8IWUub3NWZXJzaW9uKXJldHVybiExO2NvbnN0IHQ9ZS5vc1ZlcnNpb24uc3BsaXQoXCIuXCIpO3JldHVybiAxNj09PU51bWJlcih0WzBdKX1mdW5jdGlvbiBZSSgpe2NvbnN0IGU9QUkoKTtpZihlLm9zIT09UkkuSU9TfHwhZS5vc1ZlcnNpb24pcmV0dXJuITE7Y29uc3QgdD1lLm9zVmVyc2lvbi5zcGxpdChcIi5cIik7cmV0dXJuIDE1PT09TnVtYmVyKHRbMF0pJiZOdW1iZXIodFsxXSk+PTF9ZnVuY3Rpb24gcUkoKXtyZXR1cm4gUEkoKSYmbmF2aWdhdG9yLm1heFRvdWNoUG9pbnRzPjB9ZnVuY3Rpb24gekkoKXtyZXR1cm4gQUkoKS5uYW1lPT09Q0kuV0VDSEFUfWZ1bmN0aW9uIEpJKCl7cmV0dXJuIHdpbmRvdy5uYXZpZ2F0b3IuYXBwVmVyc2lvbiYmbnVsbCE9PXdpbmRvdy5uYXZpZ2F0b3IuYXBwVmVyc2lvbi5tYXRjaCgvQ2hyb21lXFwvKFtcXHdcXFddKj8pXFwuLykmJndpbmRvdy5uYXZpZ2F0b3IuYXBwVmVyc2lvbi5tYXRjaCgvQ2hyb21lXFwvKFtcXHdcXFddKj8pXFwuLylbMV08PTM1fWZ1bmN0aW9uIFhJKCl7Y29uc3QgZT13SSgpO3JldHVybiBmdW5jdGlvbigpe2NvbnN0e2RldmljZVR5cGU6ZX09QUkoKTtyZXR1cm5cIm1vYmlsZVwiPT09ZXx8XCJ0YWJsZXRcIj09PWV9KCl8fGU9PT1SSS5BTkRST0lEfHxlPT09UkkuSU9TfHxlPT09UkkuSEFSTU9OWV9PU31mdW5jdGlvbiBRSSgpe2NvbnN0IGU9QUkoKTtyZXR1cm4gZS5uYW1lIT09Q0kuRURHRSYmZS5uYW1lIT09Q0kuU0FGQVJJJiYhIW5hdmlnYXRvci51c2VyQWdlbnQudG9Mb2NhbGVMb3dlckNhc2UoKS5tYXRjaCgvY2hyb21lXFwvW1xcZF0uL2kpfWZ1bmN0aW9uIFpJKCl7cmV0dXJuIHdJKCk9PT1SSS5BTkRST0lEfWZ1bmN0aW9uICRJKCl7Y29uc3QgZT1BSSgpO3JldHVybiBaSSgpJiYoZS5uYW1lPT09Q0kuQ0hST01FfHxlLm5hbWU9PT1DSS5XRUNIQVR8fC9jaHJvbWV8Y2hyb21pdW0vaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpKX1mdW5jdGlvbiBldihlLHQsaSl7cmV0dXJuKHQ9ZnVuY3Rpb24oZSl7dmFyIHQ9ZnVuY3Rpb24oZSx0KXtpZihcIm9iamVjdFwiIT10eXBlb2YgZXx8IWUpcmV0dXJuIGU7dmFyIGk9ZVtTeW1ib2wudG9QcmltaXRpdmVdO2lmKHZvaWQgMCE9PWkpe3ZhciBuPWkuY2FsbChlLFwic3RyaW5nXCIpO2lmKFwib2JqZWN0XCIhPXR5cGVvZiBuKXJldHVybiBuO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKX1yZXR1cm4gU3RyaW5nKGUpfShlKTtyZXR1cm5cInN5bWJvbFwiPT10eXBlb2YgdD90OnQrXCJcIn0odCkpaW4gZT9PYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHt2YWx1ZTppLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6ZVt0XT1pLGV9ZnVuY3Rpb24gdHYoZSx0KXt2YXIgaT1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihuPW4uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLGkucHVzaC5hcHBseShpLG4pfXJldHVybiBpfWZ1bmN0aW9uIGl2KGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBpPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP3R2KE9iamVjdChpKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7ZXYoZSx0LGlbdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoaSkpOnR2KE9iamVjdChpKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGksdCkpfSkpfXJldHVybiBlfWxldCBudj1mdW5jdGlvbihlKXtyZXR1cm4gZS5VTkVYUEVDVEVEX0VSUk9SPVwiVU5FWFBFQ1RFRF9FUlJPUlwiLGUuVU5FWFBFQ1RFRF9SRVNQT05TRT1cIlVORVhQRUNURURfUkVTUE9OU0VcIixlLlRJTUVPVVQ9XCJUSU1FT1VUXCIsZS5JTlZBTElEX1BBUkFNUz1cIklOVkFMSURfUEFSQU1TXCIsZS5OT1RfUkVBREFCTEU9XCJOT1RfUkVBREFCTEVcIixlLk5PVF9TVVBQT1JURUQ9XCJOT1RfU1VQUE9SVEVEXCIsZS5JTlZBTElEX09QRVJBVElPTj1cIklOVkFMSURfT1BFUkFUSU9OXCIsZS5PUEVSQVRJT05fQUJPUlRFRD1cIk9QRVJBVElPTl9BQk9SVEVEXCIsZS5XRUJfU0VDVVJJVFlfUkVTVFJJQ1Q9XCJXRUJfU0VDVVJJVFlfUkVTVFJJQ1RcIixlLkVYQ0hBTkdFX1NEUF9GQUlMRUQ9XCJFWENIQU5HRV9TRFBfRkFJTEVEXCIsZS5BRERfQ0FORElEQVRFX0ZBSUxFRD1cIkFERF9DQU5ESURBVEVfRkFJTEVEXCIsZS5EQVRBQ0hBTk5FTF9GQUlMRUQ9XCJEQVRBQ0hBTk5FTF9GQUlMRURcIixlLk5FVFdPUktfRVJST1I9XCJORVRXT1JLX0VSUk9SXCIsZS5ORVRXT1JLX1RJTUVPVVQ9XCJORVRXT1JLX1RJTUVPVVRcIixlLk5FVFdPUktfUkVTUE9OU0VfRVJST1I9XCJORVRXT1JLX1JFU1BPTlNFX0VSUk9SXCIsZS5BUElfSU5WT0tFX1RJTUVPVVQ9XCJBUElfSU5WT0tFX1RJTUVPVVRcIixlLkVOVU1FUkFURV9ERVZJQ0VTX0ZBSUxFRD1cIkVOVU1FUkFURV9ERVZJQ0VTX0ZBSUxFRFwiLGUuREVWSUNFX05PVF9GT1VORD1cIkRFVklDRV9OT1RfRk9VTkRcIixlLkVMRUNUUk9OX0lTX05VTEw9XCJFTEVDVFJPTl9JU19OVUxMXCIsZS5FTEVDVFJPTl9ERVNLVE9QX0NBUFRVUkVSX0dFVF9TT1VSQ0VTX0VSUk9SPVwiRUxFQ1RST05fREVTS1RPUF9DQVBUVVJFUl9HRVRfU09VUkNFU19FUlJPUlwiLGUuQ0hST01FX1BMVUdJTl9OT19SRVNQT05TRT1cIkNIUk9NRV9QTFVHSU5fTk9fUkVTUE9OU0VcIixlLkNIUk9NRV9QTFVHSU5fTk9UX0lOU1RBTEw9XCJDSFJPTUVfUExVR0lOX05PVF9JTlNUQUxMXCIsZS5NRURJQV9PUFRJT05fSU5WQUxJRD1cIk1FRElBX09QVElPTl9JTlZBTElEXCIsZS5QRVJNSVNTSU9OX0RFTklFRD1cIlBFUk1JU1NJT05fREVOSUVEXCIsZS5DT05TVFJBSU5UX05PVF9TQVRJU0ZJRUQ9XCJDT05TVFJBSU5UX05PVF9TQVRJU0ZJRURcIixlLlRSQUNLX0lTX0RJU0FCTEVEPVwiVFJBQ0tfSVNfRElTQUJMRURcIixlLkdFVF9WSURFT19FTEVNRU5UX1ZJU0lCTEVfRVJST1I9XCJHRVRfVklERU9fRUxFTUVOVF9WSVNJQkxFX0VSUk9SXCIsZS5TSEFSRV9BVURJT19OT1RfQUxMT1dFRD1cIlNIQVJFX0FVRElPX05PVF9BTExPV0VEXCIsZS5MT1dfU1RSRUFNX0VOQ09ESU5HX0VSUk9SPVwiTE9XX1NUUkVBTV9FTkNPRElOR19FUlJPUlwiLGUuU0VUX0VOQ09ESU5HX1BBUkFNRVRFUl9FUlJPUj1cIlNFVF9FTkNPRElOR19QQVJBTUVURVJfRVJST1JcIixlLlRSQUNLX1NUQVRFX1VOUkVBQ0hBQkxFPVwiVFJBQ0tfU1RBVEVfVU5SRUFDSEFCTEVcIixlLklOVkFMSURfVUlOVF9VSURfRlJPTV9TVFJJTkdfVUlEPVwiSU5WQUxJRF9VSU5UX1VJRF9GUk9NX1NUUklOR19VSURcIixlLkNBTl9OT1RfR0VUX1BST1hZX1NFUlZFUj1cIkNBTl9OT1RfR0VUX1BST1hZX1NFUlZFUlwiLGUuQ0FOX05PVF9HRVRfR0FURVdBWV9TRVJWRVI9XCJDQU5fTk9UX0dFVF9HQVRFV0FZX1NFUlZFUlwiLGUuVk9JRF9HQVRFV0FZX0FERFJFU1M9XCJWT0lEX0dBVEVXQVlfQUREUkVTU1wiLGUuVUlEX0NPTkZMSUNUPVwiVUlEX0NPTkZMSUNUXCIsZS5NVUxUSV9VTklMQlNfUkVTUE9OU0VfRVJST1I9XCJNVUxUSV9VTklMQlNfUkVTUE9OU0VfRVJST1JcIixlLlVQREFURV9USUNLRVRfRkFJTEVEPVwiVVBEQVRFX1RJQ0tFVF9GQUlMRURcIixlLklOVkFMSURfTE9DQUxfVFJBQ0s9XCJJTlZBTElEX0xPQ0FMX1RSQUNLXCIsZS5JTlZBTElEX1RSQUNLPVwiSU5WQUxJRF9UUkFDS1wiLGUuU0VOREVSX05PVF9GT1VORD1cIlNFTkRFUl9OT1RfRk9VTkRcIixlLkNSRUFURV9PRkZFUl9GQUlMRUQ9XCJDUkVBVEVfT0ZGRVJfRkFJTEVEXCIsZS5TRVRfQU5TV0VSX0ZBSUxFRD1cIlNFVF9BTlNXRVJfRkFJTEVEXCIsZS5JQ0VfRkFJTEVEPVwiSUNFX0ZBSUxFRFwiLGUuUENfQ0xPU0VEPVwiUENfQ0xPU0VEXCIsZS5TRU5ERVJfUkVQTEFDRV9GQUlMRUQ9XCJTRU5ERVJfUkVQTEFDRV9GQUlMRURcIixlLkdFVF9MT0NBTF9DQVBBQklMSVRJRVNfRkFJTEVEPVwiR0VUX0xPQ0FMX0NBUEFCSUxJVElFU19GQUlMRURcIixlLkdFVF9MT0NBTF9DT05ORUNUSU9OX1BBUkFNU19GQUlMRUQ9XCJHRVRfTE9DQUxfQ09OTkVDVElPTl9QQVJBTVNfRkFJTEVEXCIsZS5TVUJTQ1JJQkVfRkFJTEVEPVwiU1VCU0NSSUJFX0ZBSUxFRFwiLGUuVU5TVUJTQ1JJQkVfRkFJTEVEPVwiVU5TVUJTQ1JJQkVfRkFJTEVEXCIsZS5HQVRFV0FZX1AyUF9MT1NUPVwiR0FURVdBWV9QMlBfTE9TVFwiLGUuTk9fSUNFX0NBTkRJREFURT1cIk5PX0lDRV9DQU5ESURBVEVcIixlLkNBTl9OT1RfUFVCTElTSF9NVUxUSVBMRV9WSURFT19UUkFDS1M9XCJDQU5fTk9UX1BVQkxJU0hfTVVMVElQTEVfVklERU9fVFJBQ0tTXCIsZS5FWElTVF9ESVNBQkxFRF9WSURFT19UUkFDSz1cIkVYSVNUX0RJU0FCTEVEX1ZJREVPX1RSQUNLXCIsZS5JTlZBTElEX1JFTU9URV9VU0VSPVwiSU5WQUxJRF9SRU1PVEVfVVNFUlwiLGUuUkVNT1RFX1VTRVJfSVNfTk9UX1BVQkxJU0hFRD1cIlJFTU9URV9VU0VSX0lTX05PVF9QVUJMSVNIRURcIixlLkNVU1RPTV9SRVBPUlRfU0VORF9GQUlMRUQ9XCJDVVNUT01fUkVQT1JUX1NFTkRfRkFJTEVEXCIsZS5DVVNUT01fUkVQT1JUX0ZSRVFVRU5DWV9UT09fSElHSD1cIkNVU1RPTV9SRVBPUlRfRlJFUVVFTkNZX1RPT19ISUdIXCIsZS5GRVRDSF9BVURJT19GSUxFX0ZBSUxFRD1cIkZFVENIX0FVRElPX0ZJTEVfRkFJTEVEXCIsZS5SRUFEX0xPQ0FMX0FVRElPX0ZJTEVfRVJST1I9XCJSRUFEX0xPQ0FMX0FVRElPX0ZJTEVfRVJST1JcIixlLkRFQ09ERV9BVURJT19GSUxFX0ZBSUxFRD1cIkRFQ09ERV9BVURJT19GSUxFX0ZBSUxFRFwiLGUuV1NfQUJPUlQ9XCJXU19BQk9SVFwiLGUuV1NfRElTQ09OTkVDVD1cIldTX0RJU0NPTk5FQ1RcIixlLldTX0VSUj1cIldTX0VSUlwiLGUuRVhURVJOQUxfU0lHTkFMX0FCT1JUPVwiRVhURVJOQUxfU0lHTkFMX0FCT1JUXCIsZS5MSVZFX1NUUkVBTUlOR19UQVNLX0NPTkZMSUNUPVwiTElWRV9TVFJFQU1JTkdfVEFTS19DT05GTElDVFwiLGUuTElWRV9TVFJFQU1JTkdfSU5WQUxJRF9BUkdVTUVOVD1cIkxJVkVfU1RSRUFNSU5HX0lOVkFMSURfQVJHVU1FTlRcIixlLkxJVkVfU1RSRUFNSU5HX0lOVEVSTkFMX1NFUlZFUl9FUlJPUj1cIkxJVkVfU1RSRUFNSU5HX0lOVEVSTkFMX1NFUlZFUl9FUlJPUlwiLGUuTElWRV9TVFJFQU1JTkdfUFVCTElTSF9TVFJFQU1fTk9UX0FVVEhPUklaRUQ9XCJMSVZFX1NUUkVBTUlOR19QVUJMSVNIX1NUUkVBTV9OT1RfQVVUSE9SSVpFRFwiLGUuTElWRV9TVFJFQU1JTkdfVFJBTlNDT0RJTkdfTk9UX1NVUFBPUlRFRD1cIkxJVkVfU1RSRUFNSU5HX1RSQU5TQ09ESU5HX05PVF9TVVBQT1JURURcIixlLkxJVkVfU1RSRUFNSU5HX0NETl9FUlJPUj1cIkxJVkVfU1RSRUFNSU5HX0NETl9FUlJPUlwiLGUuTElWRV9TVFJFQU1JTkdfSU5WQUxJRF9SQVdfU1RSRUFNPVwiTElWRV9TVFJFQU1JTkdfSU5WQUxJRF9SQVdfU1RSRUFNXCIsZS5MSVZFX1NUUkVBTUlOR19XQVJOX1NUUkVBTV9OVU1fUkVBQ0hfTElNSVQ9XCJMSVZFX1NUUkVBTUlOR19XQVJOX1NUUkVBTV9OVU1fUkVBQ0hfTElNSVRcIixlLkxJVkVfU1RSRUFNSU5HX1dBUk5fRkFJTEVEX0xPQURfSU1BR0U9XCJMSVZFX1NUUkVBTUlOR19XQVJOX0ZBSUxFRF9MT0FEX0lNQUdFXCIsZS5MSVZFX1NUUkVBTUlOR19XQVJOX0ZSRVFVRU5UX1JFUVVFU1Q9XCJMSVZFX1NUUkVBTUlOR19XQVJOX0ZSRVFVRU5UX1JFUVVFU1RcIixlLldFQkdMX0lOVEVSTkFMX0VSUk9SPVwiV0VCR0xfSU5URVJOQUxfRVJST1JcIixlLkJFQVVUWV9QUk9DRVNTT1JfSU5URVJOQUxfRVJST1I9XCJCRUFVVFlfUFJPQ0VTU09SX0lOVEVSTkFMX0VSUk9SXCIsZS5DUk9TU19DSEFOTkVMX1dBSVRfU1RBVFVTX0VSUk9SPVwiQ1JPU1NfQ0hBTk5FTF9XQUlUX1NUQVRVU19FUlJPUlwiLGUuQ1JPU1NfQ0hBTk5FTF9GQUlMRURfSk9JTl9TUkM9XCJDUk9TU19DSEFOTkVMX0ZBSUxFRF9KT0lOX1NFQ1wiLGUuQ1JPU1NfQ0hBTk5FTF9GQUlMRURfSk9JTl9ERVNUPVwiQ1JPU1NfQ0hBTk5FTF9GQUlMRURfSk9JTl9ERVNUXCIsZS5DUk9TU19DSEFOTkVMX0ZBSUxFRF9QQUNLRVRfU0VOVF9UT19ERVNUPVwiQ1JPU1NfQ0hBTk5FTF9GQUlMRURfUEFDS0VUX1NFTlRfVE9fREVTVFwiLGUuQ1JPU1NfQ0hBTk5FTF9TRVJWRVJfRVJST1JfUkVTUE9OU0U9XCJDUk9TU19DSEFOTkVMX1NFUlZFUl9FUlJPUl9SRVNQT05TRVwiLGUuTUVUQURBVEFfT1VUX09GX1JBTkdFPVwiTUVUQURBVEFfT1VUX09GX1JBTkdFXCIsZS5MT0NBTF9BRUNfRVJST1I9XCJMT0NBTF9BRUNfRVJST1JcIixlLklOVkFMSURfUExVR0lOPVwiSU5WQUxJRF9QTFVHSU5cIixlLkRJU0NPTk5FQ1RfUDJQPVwiRElTQ09OTkVDVF9QMlBcIixlLkNPTlZFUlRJTkdfSU1BR0VEQVRBX1RPX0JMT0JfRkFJTEVEPVwiQ09OVkVSVElOR19JTUFHRURBVEFfVE9fQkxPQl9GQUlMRURcIixlLkNPTlZFUlRJTkdfVklERU9fRlJBTUVfVE9fQkxPQl9GQUlMRUQ9XCJDT05WRVJUSU5HX1ZJREVPX0ZSQU1FX1RPX0JMT0JfRkFJTEVEXCIsZS5JTklUX0RBVEFDSEFOTkVMX1RJTUVPVVQ9XCJJTklUX0RBVEFDSEFOTkVMX1RJTUVPVVRcIixlLkNSRUFURV9EQVRBQ0hBTk5FTF9FUlJPUj1cIkNSRUFURV9EQVRBQ0hBTk5FTF9FUlJPUlwiLGUuREFUQUNIQU5ORUxfQ09OTkVDVElPTl9USU1FT1VUPVwiREFUQUNIQU5ORUxfQ09OTkVDVElPTl9USU1FT1VUXCIsZS5QUk9ISUJJVEVEX09QRVJBVElPTj1cIlBST0hJQklURURfT1BFUkFUSU9OXCIsZS5JTUFHRV9NT0RFUkFUSU9OX1VQTE9BRF9GQUlMRUQ9XCJJTUFHRV9NT0RFUkFUSU9OX1VQTE9BRF9GQUlMRURcIixlLlAyUF9NRVNTQUdFX0ZBSUxFRD1cIlAyUF9NRVNTQUdFX0ZBSUxFRFwiLGV9KHt9KSxydj1jbGFzcyBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKGUpe2xldCB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpcIlwiLGk9YXJndW1lbnRzLmxlbmd0aD4yP2FyZ3VtZW50c1syXTp2b2lkIDA7c3VwZXIodCksZXYodGhpcyxcImNvZGVcIix2b2lkIDApLGV2KHRoaXMsXCJtZXNzYWdlXCIsdm9pZCAwKSxldih0aGlzLFwiZGF0YVwiLHZvaWQgMCksZXYodGhpcyxcIm5hbWVcIixcIkFnb3JhUlRDRXhjZXB0aW9uXCIpLHRoaXMuY29kZT1lLHRoaXMubWVzc2FnZT1cIkFnb3JhUlRDRXJyb3IgXCIuY29uY2F0KHRoaXMuY29kZSxcIjogXCIpLmNvbmNhdCh0KSx0aGlzLmRhdGE9aX10b1N0cmluZygpe3JldHVybiB0aGlzLmRhdGE/XCJkYXRhOiBcIi5jb25jYXQoSlNPTi5zdHJpbmdpZnkodGhpcy5kYXRhKSxcIlxcblwiKS5jb25jYXQodGhpcy5zdGFjayk6XCJcIi5jb25jYXQodGhpcy5zdGFjayl9cHJpbnQoKXtsZXQgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06XCJlcnJvclwiLHQ9YXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDA7cmV0dXJuXCJlcnJvclwiPT09ZSYmKHR8fGNvbnNvbGUpLmVycm9yKHRoaXMudG9TdHJpbmcoKSksXCJ3YXJuaW5nXCI9PT1lJiYodHx8Y29uc29sZSkud2Fybih0aGlzLnRvU3RyaW5nKCkpLHRoaXN9dGhyb3coZSl7dGhyb3cgdGhpcy5wcmludChcImVycm9yXCIsZSksdGhpc319O2Z1bmN0aW9uIG92KGUsdCl7aWYoXCJib29sZWFuXCIhPXR5cGVvZiBlKXRocm93IG5ldyBydihudi5JTlZBTElEX1BBUkFNUyxcIkludmFsaWQgXCIuY29uY2F0KHQsXCI6IFRoZSB2YWx1ZSBpcyBvZiB0aGUgYm9vbGVhbiB0eXBlLlwiKSl9ZnVuY3Rpb24gc3YoZSx0LGkpe2lmKCFEbihpKS5jYWxsKGksZSkpdGhyb3cgbmV3IHJ2KG52LklOVkFMSURfUEFSQU1TLFwiXCIuY29uY2F0KHQsXCIgY2FuIG9ubHkgYmUgc2V0IGFzIFwiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkoaSkpKX1mdW5jdGlvbiBhdihlLHQpe2xldCBpPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXToxLG49YXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10/YXJndW1lbnRzWzNdOjFlNDtpZihlPGl8fGU+bnx8KCEoYXJndW1lbnRzLmxlbmd0aD40JiZ2b2lkIDAhPT1hcmd1bWVudHNbNF0pfHxhcmd1bWVudHNbNF0pJiYhZnVuY3Rpb24oZSl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIGUmJmUlMT09MH0oZSkpdGhyb3cgbmV3IHJ2KG52LklOVkFMSURfUEFSQU1TLFwiaW52YWxpZCBcIi5jb25jYXQodCxcIjogdGhlIHZhbHVlIHJhbmdlIGlzIFtcIikuY29uY2F0KGksXCIsIFwiKS5jb25jYXQobixcIl0uIGludGVnZXIgb25seVwiKSl9ZnVuY3Rpb24gY3YoZSx0KXtpZihcIm51bWJlclwiIT10eXBlb2YgZSl7aWYoIShlLm1pbnx8ZS5tYXh8fGUuaWRlYWx8fGUuZXhhY3QpKXRocm93IG5ldyBydihudi5JTlZBTElEX1BBUkFNUyxcIlwiLmNvbmNhdCh0LFwiIGlzIG5vdCBhIHZhbGlkIENvbnN0cmFpbkxvbmdcIikpO3ZvaWQgMCE9PWUubWluJiZhdihlLm1pbixcIlwiLmNvbmNhdCh0LFwiLm1pblwiKSwwLDEvMCksdm9pZCAwIT09ZS5tYXgmJmF2KGUubWF4LFwiXCIuY29uY2F0KHQsXCIubWF4XCIpLDEsMS8wKSx2b2lkIDAhPT1lLmV4YWN0JiZhdihlLmV4YWN0LFwiXCIuY29uY2F0KHQsXCIuZXhhY3RcIiksMSwxLzApLHZvaWQgMCE9PWUuaWRlYWwmJmF2KGUuaWRlYWwsXCJcIi5jb25jYXQodCxcIi5pZGVhbFwiKSwxLDEvMCl9ZWxzZSBhdihlLHQsMSwxLzApfWZ1bmN0aW9uIGR2KGUsdCl7bGV0IGk9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOjEsbj1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106MjU1LHI9IShhcmd1bWVudHMubGVuZ3RoPjQmJnZvaWQgMCE9PWFyZ3VtZW50c1s0XSl8fGFyZ3VtZW50c1s0XTtpZihudWxsPT1lKXRocm93IG5ldyBydihudi5JTlZBTElEX1BBUkFNUyxcIlwiLmNvbmNhdCh0fHxcInBhcmFtXCIsXCIgY2Fubm90IGJlIGVtcHR5XCIpKTtpZighaHYoZSxpLG4scikpdGhyb3cgbmV3IHJ2KG52LklOVkFMSURfUEFSQU1TLFwiSW52YWxpZCBcIi5jb25jYXQodHx8XCJzdHJpbmcgcGFyYW1cIixcIjogTGVuZ3RoIG9mIHRoZSBzdHJpbmc6IFtcIikuY29uY2F0KGksXCIsXCIpLmNvbmNhdChuLFwiXS5cIikuY29uY2F0KHI/XCIgQVNDSUkgY2hhcmFjdGVycyBvbmx5LlwiOlwiXCIpKX1mdW5jdGlvbiBsdihlLHQpe2lmKCFBcnJheS5pc0FycmF5KGUpKXRocm93IG5ldyBydihudi5JTlZBTElEX1BBUkFNUyxcIlwiLmNvbmNhdCh0LFwiIHNob3VsZCBiZSBhbiBhcnJheVwiKSl9ZnVuY3Rpb24gdXYoZSl7cmV0dXJuIG51bGw9PWV9ZnVuY3Rpb24gaHYoZSl7bGV0IHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjEsaT1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06MjU1LG49IShhcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXSl8fGFyZ3VtZW50c1szXTtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZSYmZS5sZW5ndGg8PWkmJmUubGVuZ3RoPj10JiYoIW58fGZ1bmN0aW9uKGUpe2lmKFwic3RyaW5nXCIhPXR5cGVvZiBlKXJldHVybiExO2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7dCs9MSl7Y29uc3QgaT1lLmNoYXJDb2RlQXQodCk7aWYoaTwwfHxpPjI1NSlyZXR1cm4hMX1yZXR1cm4hMH0oZSkpfXZhciBwdj1mdW5jdGlvbihlKXtyZXR1cm4gZS5DT1ZFUkVEPVwiQ09WRVJFRFwiLGUuUE9TSVRJT049XCJQT1NJVElPTlwiLGUuU0laRT1cIlNJWkVcIixlLlNUWUxFPVwiU1RZTEVcIixlfShwdnx8e30pLF92PWZ1bmN0aW9uKGUpe3JldHVybiBlLlVOTU9VTlRFRD1cIlVOTU9VTlRFRFwiLGUuSU5WQUxJRF9IVE1MX0VMRU1FTlQ9XCJJTlZBTElEX0hUTUxfRUxFTUVOVFwiLGV9KF92fHx7fSk7Y29uc3QgRXY9bmV3IGNsYXNze2NvbnN0cnVjdG9yKCl7ZXYodGhpcyxcIl9jbGllbnRTaXplXCIsbnVsbCksZXYodGhpcyxcImdldENsaWVudFdpZHRoXCIsKCgpPT5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ/ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoOmRvY3VtZW50LmJvZHkuY2xpZW50V2lkdGgpKSxldih0aGlzLFwiZ2V0Q2xpZW50SGVpZ2h0XCIsKCgpPT5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ/ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodDpkb2N1bWVudC5ib2R5LmNsaWVudEhlaWdodCkpLGV2KHRoaXMsXCJnZXRTdHlsZVwiLChlPT53aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlLG51bGwpKSksZXYodGhpcyxcImNoZWNrQ3NzVmlzaWJsZVByb3BlcnR5XCIsKGU9Pnt2YXIgdDtsZXQgaT0hMDtjb25zdCBuPXRoaXMuZ2V0U3R5bGUoZSkse2Rpc3BsYXk6cix2aXNpYmlsaXR5Om8sb3BhY2l0eTpzLGZpbHRlcjphfT1uO3JldHVybihcIm5vbmVcIj09PXJ8fERuKHQ9W1wiaGlkZGVuXCIsXCJjb2xsYXBzZVwiXSkuY2FsbCh0LG8pfHxOdW1iZXIocyk8LjEpJiYoaT0hMSksISFpJiYoYSYmYS5zcGxpdChcIiBcIikuZmlsdGVyKChlPT57dmFyIHQ7Y29uc3QgaT1lLnNwbGl0KFwiKFwiKVswXTtyZXR1cm4gRG4odD1bXCJicmlnaHRuZXNzXCIsXCJibHVyXCIsXCJvcGFjaXR5XCJdKS5jYWxsKHQsaSl9KSkubWFwKChlPT57Y29uc3RbdCxpXT1lLnNwbGl0KC9cXCh8XFwpLyk7cmV0dXJuW3QsTnVtYmVyKGkubWF0Y2goL15bMC05XFwuXSsvKSldfSkpLmZvckVhY2goKGU9Pntjb25zdFt0LG5dPWU7c3dpdGNoKHQpe2Nhc2VcImJyaWdodG5lc3NcIjoobjwuMXx8bj4zKSYmKGk9ITEpO2JyZWFrO2Nhc2VcImJsdXJcIjpuPjMmJihpPSExKTticmVhaztjYXNlXCJvcGFjaXR5XCI6bjwuMSYmKGk9ITEpfX0pKSxpKX0pKSxldih0aGlzLFwiY2hlY2tQcm9wZXJ0eVVwVG9BbGxQYXJlbnROb2Rlc1wiLCgoZSx0KT0+e2xldCBpPSEwLG49ITA7Y29uc3Qgcj1lPT50KGUpO2xldCBvPWU7Zm9yKDtvJiZuOylyKG8pfHwoaT0hMSxuPSExKSxvPW8ucGFyZW50RWxlbWVudCxvfHwobj0hMSk7cmV0dXJuIGl9KSksZXYodGhpcyxcImNoZWNrQWN0dWFsQ3NzVmlzaWJsZUluY2x1ZGVJbmhlcml0XCIsKGU9PnRoaXMuY2hlY2tQcm9wZXJ0eVVwVG9BbGxQYXJlbnROb2RlcyhlLHRoaXMuY2hlY2tDc3NWaXNpYmxlUHJvcGVydHkpKSksZXYodGhpcyxcImdldFNpemVBYm91dENsaWVudFwiLChlPT57Y29uc3R7d2lkdGg6dCxoZWlnaHQ6aSxsZWZ0Om4scmlnaHQ6cix0b3A6byxib3R0b206c309ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxhPXRoaXMuZ2V0Q2xpZW50V2lkdGgoKSxjPXRoaXMuZ2V0Q2xpZW50SGVpZ2h0KCk7cmV0dXJue3dpZHRoOnQsaGVpZ2h0OmksbGVmdDpuLHJpZ2h0OnIsdG9wOm8sYm90dG9tOnMsY2xpZW50V2lkdGg6YSxjbGllbnRIZWlnaHQ6YyxjbGllbnRNaW46TWF0aC5taW4oYSxjKX19KSksZXYodGhpcyxcImNoZWNrQWN0dWFsU2l6ZVwiLCgoKT0+e2NvbnN0e3dpZHRoOmUsaGVpZ2h0OnQsY2xpZW50TWluOml9PXRoaXMuX2NsaWVudFNpemU7cmV0dXJuIHRoaXMuY2hlY2tTaXplSXNWaXNpYmxlKGUsdCxpKX0pKSxldih0aGlzLFwiZWxlbWVudEZyb21Qb2ludFwiLCgoZSx0KT0+ZG9jdW1lbnQuZWxlbWVudEZyb21Qb2ludD9kb2N1bWVudC5lbGVtZW50RnJvbVBvaW50KGUsdCk6bnVsbCkpLGV2KHRoaXMsXCJjaGVja0NvdmVyRm9yQVBvaW50XCIsKChlLHQsaSk9Pntjb25zdCBuPXRoaXMuZWxlbWVudEZyb21Qb2ludChlLHQpO3JldHVybiBudWxsIT09biYmbiE9PWl9KSksZXYodGhpcyxcImdldFBvaW50UG9zaXRpb25MaXN0XCIsKCgpPT57Y29uc3R7d2lkdGg6ZSxoZWlnaHQ6dCxsZWZ0OmksdG9wOm59PXRoaXMuX2NsaWVudFNpemUscj1lLzYsbz10LzYscz1bXSxhPTEwKio2O2ZvcihsZXQgZT0wO2U8NTtlKyspZm9yKGxldCB0PTA7dDw1O3QrKyl7Y29uc3QgYz0oaSphKygwPT09ZT8uMTo0PT09ZT8ociplKmEtMWU1KS9hOnIqZSkqYSkvYSxkPShuKmErKDA9PT10Py4xOjQ9PT10PyhvKnQqYS0xZTUpL2E6byp0KSphKS9hO3MucHVzaCh7eDpjLHk6ZH0pfXJldHVyblsuLi5zXX0pKSxldih0aGlzLFwiY2hlY2tFbGVtZW50Q292ZXJcIiwoZT0+dGhpcy5nZXRQb2ludFBvc2l0aW9uTGlzdCgpLm1hcCgodD0+dGhpcy5jaGVja0NvdmVyRm9yQVBvaW50KHQueCx0LnksZSkpKS5maWx0ZXIoKGU9PiEhZSkpLmxlbmd0aD42KSksZXYodGhpcyxcImNoZWNrU2l6ZUlzVmlzaWJsZVwiLCgoZSx0LGkpPT4oZT41MHx8aS9lPD0xMCkmJih0PjUwfHxpL3Q8PTEwKSkpLGV2KHRoaXMsXCJjaGVja1NpemVPZlBhcnRJbkNsaWVudFwiLCgoKT0+e2NvbnN0e2xlZnQ6ZSxyaWdodDp0LHRvcDppLGJvdHRvbTpuLGNsaWVudEhlaWdodDpyLGNsaWVudFdpZHRoOm8sY2xpZW50TWluOnN9PXRoaXMuX2NsaWVudFNpemU7bGV0IGEsYyxkLGw7aWYoZTwwKWE9MDtlbHNle2lmKCEoZTxvKSlyZXR1cm4hMTthPWV9aWYodDwwKXJldHVybiExO2lmKGM9dDxvP3Q6byxpPDApZD0wO2Vsc2V7aWYoIShpPHIpKXJldHVybiExO2Q9aX1pZihuPDApcmV0dXJuITE7bD1uPHI/bjpyO2NvbnN0IHU9Yy1hLGg9bC1kO3JldHVybiB0aGlzLmNoZWNrU2l6ZUlzVmlzaWJsZSh1LGgscyl9KSksZXYodGhpcyxcInJldHVybkhpZGRlblJlc3VsdFwiLChlPT4odGhpcy5fY2xpZW50U2l6ZT1udWxsLHt2aXNpYmxlOiExLHJlYXNvbjplfSkpKSxldih0aGlzLFwiY2hlY2tPbmVFbGVtZW50VmlzaWJsZVwiLChlPT57aWYoZSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KXtpZih0aGlzLmNoZWNrRWxlbWVudElzTW91bnRlZE9uRG9tKGUpKXtpZih0aGlzLmNoZWNrQWN0dWFsQ3NzVmlzaWJsZUluY2x1ZGVJbmhlcml0KGUpKXtpZih0aGlzLl9jbGllbnRTaXplPXRoaXMuZ2V0U2l6ZUFib3V0Q2xpZW50KGUpLHRoaXMuY2hlY2tFbGVtZW50Q292ZXIoZSkpcmV0dXJuIHRoaXMucmV0dXJuSGlkZGVuUmVzdWx0KHB2LkNPVkVSRUQpO3tjb25zdCBlPXRoaXMuY2hlY2tBY3R1YWxTaXplKCksdD10aGlzLmNoZWNrU2l6ZU9mUGFydEluQ2xpZW50KCk7cmV0dXJuIGUmJiF0P3RoaXMucmV0dXJuSGlkZGVuUmVzdWx0KHB2LlBPU0lUSU9OKTplPyh0aGlzLl9jbGllbnRTaXplPW51bGwse3Zpc2libGU6ITB9KTp0aGlzLnJldHVybkhpZGRlblJlc3VsdChwdi5TSVpFKX19cmV0dXJuIHRoaXMucmV0dXJuSGlkZGVuUmVzdWx0KHB2LlNUWUxFKX1yZXR1cm4gdGhpcy5yZXR1cm5IaWRkZW5SZXN1bHQoX3YuVU5NT1VOVEVEKX1yZXR1cm4gdGhpcy5yZXR1cm5IaWRkZW5SZXN1bHQoX3YuSU5WQUxJRF9IVE1MX0VMRU1FTlQpfSkpLGV2KHRoaXMsXCJjaGVja0VsZW1lbnRJc01vdW50ZWRPbkRvbVwiLChlPT50aGlzLmNoZWNrUHJvcGVydHlVcFRvQWxsUGFyZW50Tm9kZXMoZSwoZT0+XCJIVE1MXCIhPT1lLm5vZGVOYW1lLnRvVXBwZXJDYXNlKCk/bnVsbCE9PWUucGFyZW50RWxlbWVudDohIWRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkpKSl9fTtmdW5jdGlvbiBtdihlKXtyZXR1cm4obmV3IFRleHRFbmNvZGVyKS5lbmNvZGUoZSl9Y29uc3QgZnY9ZnVuY3Rpb24oZSx0KXtjb25zdCBpPW5ldyBVaW50OEFycmF5KGUuYnl0ZUxlbmd0aCt0LmJ5dGVMZW5ndGgpO3JldHVybiBpLnNldChuZXcgVWludDhBcnJheShlKSwwKSxpLnNldChuZXcgVWludDhBcnJheSh0KSxlLmJ5dGVMZW5ndGgpLGl9O2NvbnN0IFR2PWFzeW5jIGU9PmZ1bmN0aW9uKGUsdCl7bGV0IGk9XCJcIjtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoZSkuZm9yRWFjaCgoZT0+e2krPWUudG9TdHJpbmcodCkucGFkU3RhcnQoMixcIjBcIil9KSksaX0oYXdhaXQgY3J5cHRvLnN1YnRsZS5kaWdlc3QoXCJTSEEtMjU2XCIsbXYoZSkpLDE2KTtsZXQgU3Y9Y2xhc3N7Y29uc3RydWN0b3IoKXtldih0aGlzLFwiX2V2ZW50c1wiLHt9KSxldih0aGlzLFwiYWRkTGlzdGVuZXJcIix0aGlzLm9uKX1nZXRMaXN0ZW5lcnMoZSl7cmV0dXJuIHRoaXMuX2V2ZW50c1tlXT90aGlzLl9ldmVudHNbZV0ubWFwKChlPT5lLmxpc3RlbmVyKSk6W119b24oZSx0KXt0aGlzLl9ldmVudHNbZV18fCh0aGlzLl9ldmVudHNbZV09W10pO2NvbnN0IGk9dGhpcy5fZXZlbnRzW2VdOy0xPT09dGhpcy5faW5kZXhPZkxpc3RlbmVyKGksdCkmJmkucHVzaCh7bGlzdGVuZXI6dCxvbmNlOiExfSl9b25jZShlLHQpe3RoaXMuX2V2ZW50c1tlXXx8KHRoaXMuX2V2ZW50c1tlXT1bXSk7Y29uc3QgaT10aGlzLl9ldmVudHNbZV07LTE9PT10aGlzLl9pbmRleE9mTGlzdGVuZXIoaSx0KSYmaS5wdXNoKHtsaXN0ZW5lcjp0LG9uY2U6ITB9KX1vZmYoZSx0KXtpZighdGhpcy5fZXZlbnRzW2VdKXJldHVybjtjb25zdCBpPXRoaXMuX2V2ZW50c1tlXSxuPXRoaXMuX2luZGV4T2ZMaXN0ZW5lcihpLHQpOy0xIT09biYmaS5zcGxpY2UobiwxKSwwPT09dGhpcy5fZXZlbnRzW2VdLmxlbmd0aCYmZGVsZXRlIHRoaXMuX2V2ZW50c1tlXX1yZW1vdmVBbGxMaXN0ZW5lcnMoZSl7ZT9kZWxldGUgdGhpcy5fZXZlbnRzW2VdOnRoaXMuX2V2ZW50cz17fX1lbWl0KGUpe3RoaXMuX2V2ZW50c1tlXXx8KHRoaXMuX2V2ZW50c1tlXT1bXSk7Y29uc3QgdD10aGlzLl9ldmVudHNbZV0ubWFwKChlPT5lKSk7Zm9yKHZhciBpPWFyZ3VtZW50cy5sZW5ndGgsbj1uZXcgQXJyYXkoaT4xP2ktMTowKSxyPTE7cjxpO3IrKyluW3ItMV09YXJndW1lbnRzW3JdO2ZvcihsZXQgaT0wO2k8dC5sZW5ndGg7aSs9MSl7Y29uc3Qgcj10W2ldO3Iub25jZSYmdGhpcy5vZmYoZSxyLmxpc3RlbmVyKSxyLmxpc3RlbmVyLmFwcGx5KHRoaXMsbnx8W10pfX1zYWZlRW1pdChlKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxpPW5ldyBBcnJheSh0PjE/dC0xOjApLG49MTtuPHQ7bisrKWlbbi0xXT1hcmd1bWVudHNbbl07Wy4uLnRoaXMuX2V2ZW50c1tlXXx8W11dLmZvckVhY2goKHQ9Pnt0Lm9uY2UmJnRoaXMub2ZmKGUsdC5saXN0ZW5lcik7dHJ5e3QubGlzdGVuZXIuYXBwbHkodGhpcyxpKX1jYXRjaCh0KXtjb25zb2xlLmVycm9yKFwic2FmZUVtaXQgZXZlbnQ6XCIuY29uY2F0KGUsXCIgZXJyb3IgXCIpLmNvbmNhdChudWxsPT10P3ZvaWQgMDp0LnRvU3RyaW5nKCkpKX19KSl9X2luZGV4T2ZMaXN0ZW5lcihlLHQpe2xldCBpPWUubGVuZ3RoO2Zvcig7aS0tOylpZihlW2ldLmxpc3RlbmVyPT09dClyZXR1cm4gaTtyZXR1cm4tMX19O2xldCBndj1udWxsO2Z1bmN0aW9uIFJ2KCl7aWYoZ3YpcmV0dXJuIGd2O2lmKHdpbmRvdy5lbGVjdHJvbilyZXR1cm4gZ3Y9d2luZG93LmVsZWN0cm9uO2lmKCF3aW5kb3cucmVxdWlyZSlyZXR1cm4gbnVsbDt0cnl7cmV0dXJuIGd2PXdpbmRvdy5yZXF1aXJlKFwiZWxlY3Ryb25cIiksZ3Z9Y2F0Y2goZSl7cmV0dXJuIG51bGx9fWxldCBDdj1mdW5jdGlvbihlKXtyZXR1cm4gZS5DUkVBVEVfQ0xJRU5UPVwiY3JlYXRlQ2xpZW50XCIsZS5DSEVDS19TWVNURU1fUkVRVUlSRU1FTlRTPVwiY2hlY2tTeXN0ZW1SZXF1aXJlbWVudHNcIixlLlNFVF9BUkVBPVwic2V0QXJlYVwiLGUuUFJFTE9BRD1cIlBSRUxPQURcIixlLkNIRUNLX1ZJREVPX1RSQUNLX0lTX0FDVElWRT1cImNoZWNrVmlkZW9UcmFja0lzQWN0aXZlXCIsZS5DSEVDS19BVURJT19UUkFDS19JU19BQ1RJVkU9XCJjaGVja0F1ZGlvVHJhY2tJc0FjdGl2ZVwiLGUuQ1JFQVRFX01JQ19BVURJT19UUkFDSz1cImNyZWF0ZU1pY3JvcGhvbmVBdWRpb1RyYWNrXCIsZS5DUkVBVEVfQ1VTVE9NX0FVRElPX1RSQUNLPVwiY3JlYXRlQ3VzdG9tQXVkaW9UcmFja1wiLGUuQ1JFQVRFX0JVRkZFUl9BVURJT19UUkFDSz1cImNyZWF0ZUJ1ZmZlclNvdXJjZUF1ZGlvVHJhY2tcIixlLkNSRUFURV9DQU1fVklERU9fVFJBQ0s9XCJjcmVhdGVDYW1lcmFWaWRlb1RyYWNrXCIsZS5DUkVBVEVfQ1VTVE9NX1ZJREVPX1RSQUNLPVwiY3JlYXRlQ3VzdG9tVmlkZW9UcmFja1wiLGUuQ1JFQVRFX01JQ19BTkRfQ0FNX1RSQUNLUz1cImNyZWF0ZU1pY3JvcGhvbmVBbmRDYW1lcmFUcmFja3NcIixlLkNSRUFURV9TQ1JFRU5fVklERU9fVFJBQ0s9XCJjcmVhdGVTY3JlZW5WaWRlb1RyYWNrXCIsZS5TRVRfRU5DUllQVElPTl9DT05GSUc9XCJDbGllbnQuc2V0RW5jcnlwdGlvbkNvbmZpZ1wiLGUuU1RBUlRfUFJPWFlfU0VSVkVSPVwiQ2xpZW50LnN0YXJ0UHJveHlTZXJ2ZXJcIixlLlNUT1BfUFJPWFlfU0VSVkVSPVwiQ2xpZW50LnN0b3BQcm94eVNlcnZlclwiLGUuU0VUX1BST1hZX1NFUlZFUj1cIkNsaWVudC5zZXRQcm94eVNlcnZlclwiLGUuU0VUX1RVUk5fU0VSVkVSPVwiQ2xpZW50LnNldFR1cm5TZXJ2ZXJcIixlLlNFVF9DTElFTlRfUk9MRT1cIkNsaWVudC5zZXRDbGllbnRSb2xlXCIsZS5TRVRfTE9XX1NUUkVBTV9QQVJBTUVURVI9XCJDbGllbnQuc2V0TG93U3RyZWFtUGFyYW1ldGVyXCIsZS5FTkFCTEVfRFVBTF9TVFJFQU09XCJDbGllbnQuZW5hYmxlRHVhbFN0cmVhbVwiLGUuRElTQUJMRV9EVUFMX1NUUkVBTT1cIkNsaWVudC5kaXNhYmxlRHVhbFN0cmVhbVwiLGUuSk9JTj1cIkNsaWVudC5qb2luXCIsZS5MRUFWRT1cIkNsaWVudC5sZWF2ZVwiLGUuUFVCTElTSD1cIkNsaWVudC5wdWJsaXNoXCIsZS5VTlBVQkxJU0g9XCJDbGllbnQudW5wdWJsaXNoXCIsZS5TVUJTQ1JJQkU9XCJDbGllbnQuc3Vic2NyaWJlXCIsZS5NQVNTX1NVQlNDUklCRT1cIkNsaWVudC5tYXNzU3Vic2NyaWJlXCIsZS5NQVNTX1VOU1VCU0NSSUJFPVwiQ2xpZW50Lm1hc3NVbnN1YnNjcmliZVwiLGUuVU5TVUJTQ1JJQkU9XCJDbGllbnQudW5zdWJzY3JpYmVcIixlLlJFTkVXX1RPS0VOPVwiQ2xpZW50LnJlbmV3VG9rZW5cIixlLlNFVF9SRU1PVEVfVklERU9fU1RSRUFNX1RZUEU9XCJDbGllbnQuc2V0UmVtb3RlVmlkZW9TdHJlYW1UeXBlXCIsZS5TRVRfU1RSRUFNX0ZBTExCQUNLX09QVElPTj1cIkNsaWVudC5zZXRTdHJlYW1GYWxsYmFja09wdGlvblwiLGUuRU5BQkxFX0FVRElPX1ZPTFVNRV9JTkRJQ0FUT1I9XCJDbGllbnQuZW5hYmxlQXVkaW9Wb2x1bWVJbmRpY2F0b3JcIixlLlNFTkRfQ1VTVE9NX1JFUE9SVF9NRVNTQUdFPVwiQ2xpZW50LnNlbmRDdXN0b21SZXBvcnRNZXNzYWdlXCIsZS5JTlNQRUNUX1ZJREVPX0NPTlRFTlQ9XCJDbGllbnQuaW5zcGVjdFZpZGVvQ29udGVudFwiLGUuU1RPUF9JTlNQRUNUX1ZJREVPX0NPTlRFTlQ9XCJDbGllbnQuc3RvcEluc3BlY3RWaWRlb0NvbnRlbnRcIixlLkpPSU5fRkFMTEJBQ0tfVE9fUFJPWFk9XCJDbGllbnQuX2pvaW5GYWxsYmFja1RvUHJveHlcIixlLk9OX0xJVkVfU1RSRUFNX1dBUk5JTkc9XCJDbGllbnQub25MaXZlU3RyZWFtV2FybmluZ1wiLGUuT05fTElWRV9TVFJFQU1fRVJST1I9XCJDbGllbnQub25MaXZlU3RyZWFtaW5nRXJyb3JcIixlLlNUQVJUX0xJVkVfU1RSRUFNSU5HPVwiQ2xpZW50LnN0YXJ0TGl2ZVN0cmVhbWluZ1wiLGUuU0VUX0xJVkVfVFJBTlNDT0RJTkc9XCJDbGllbnQuc2V0TGl2ZVRyYW5zY29kaW5nXCIsZS5TVE9QX0xJVkVfU1RSRUFNSU5HPVwiQ2xpZW50LnN0b3BMaXZlU3RyZWFtaW5nXCIsZS5TVEFSVF9DSEFOTkVMX01FRElBX1JFTEFZPVwiQ2xpZW50LnN0YXJ0Q2hhbm5lbE1lZGlhUmVsYXlcIixlLlVQREFURV9DSEFOTkVMX01FRElBX1JFTEFZPVwiQ2xpZW50LnVwZGF0ZUNoYW5uZWxNZWRpYVJlbGF5XCIsZS5TVE9QX0NIQU5ORUxfTUVESUFfUkVMQVk9XCJDbGllbnQuc3RvcENoYW5uZWxNZWRpYVJlbGF5XCIsZS5SRVFVRVNUX0NPTkZJR19ESVNUUklCVVRFPVwiX2NvbmZpZy1kaXN0cmlidXRlLXJlcXVlc3RcIixlLlNFVF9DT05GSUdfRElTVFJJQlVURT1cIl9jb25maWdEaXN0cmlidXRlXCIsZS5MT0NBTF9UUkFDS19TRVRfTVVURUQ9XCJMb2NhbFRyYWNrLnNldE11dGVcIixlLkxPQ0FMX0FVRElPX1RSQUNLX1BMQVk9XCJMb2NhbEF1ZGlvVHJhY2sucGxheVwiLGUuTE9DQUxfQVVESU9fVFJBQ0tfUExBWV9JTl9FTEVNRU5UPVwiTG9jYWxBdWRpb1RyYWNrLnBsYXlJbkVsZW1lbnRcIixlLkxPQ0FMX0FVRElPX1RSQUNLX1NUT1A9XCJMb2NhbEF1ZGlvVHJhY2suc3RvcFwiLGUuTE9DQUxfQVVESU9fVFJBQ0tfU0VUX1ZPTFVNRT1cIkxvY2FsQXVkaW9UcmFjay5zZXRWb2x1bWVcIixlLk1JQ19BVURJT19UUkFDS19TRVRfREVWSUNFPVwiTWljcm9waG9uZUF1ZGlvVHJhY2suc2V0RGV2aWNlXCIsZS5CVUZGRVJfQVVESU9fVFJBQ0tfU1RBUlQ9XCJCdWZmZXJTb3VyY2VBdWRpb1RyYWNrLnN0YXJ0UHJvY2Vzc0F1ZGlvQnVmZmVyXCIsZS5CVUZGRVJfQVVESU9fVFJBQ0tfU1RPUD1cIkJ1ZmZlclNvdXJjZUF1ZGlvVHJhY2suc3RvcFByb2Nlc3NBdWRpb0J1ZmZlclwiLGUuQlVGRkVSX0FVRElPX1RSQUNLX1BBVVNFPVwiQnVmZmVyU291cmNlQXVkaW9UcmFjay5wYXVzZVByb2Nlc3NBdWRpb0J1ZmZlclwiLGUuQlVGRkVSX0FVRElPX1RSQUNLX1JFU1VNRT1cIkJ1ZmZlclNvdXJjZUF1ZGlvVHJhY2sucmVzdW1lUHJvY2Vzc0F1ZGlvQnVmZmVyXCIsZS5CVUZGRVJfQVVESU9fVFJBQ0tfU0VFSz1cIkJ1ZmZlclNvdXJjZUF1ZGlvVHJhY2suc2Vla0F1ZGlvQnVmZmVyXCIsZS5MT0NBTF9WSURFT19UUkFDS19QTEFZPVwiTG9jYWxWaWRlb1RyYWNrLnBsYXlcIixlLkxPQ0FMX1ZJREVPX1RSQUNLX1NUT1A9XCJMb2NhbFZpZGVvVHJhY2suc3RvcFwiLGUuTE9DQUxfVklERU9fVFJBQ0tfR0VUX1ZJREVPX1ZJU0lCTEU9XCJMb2NhbFZpZGVvVHJhY2suZ2V0VmlkZW9FbGVtZW50VmlzaWJsZVN0YXR1c1wiLGUuTE9DQUxfVklERU9fVFJBQ0tfQkVBVVRZPVwiTG9jYWxWaWRlb1RyYWNrLnNldEJlYXV0eUVmZmVjdFwiLGUuTE9DQUxfVklERU9fU0VORF9TRUlfREFUQT1cIkxvY2FsVmlkZW9UcmFjay5zZW5kU2VpRGF0YVwiLGUuQ0FNX1ZJREVPX1RSQUNLX1NFVF9ERVZJQ0U9XCJDYW1lcmFWaWRlb1RyYWNrLnNldERldmljZVwiLGUuQ0FNX1ZJREVPX1RSQUNLX1NFVF9FTkNPREVSX0NPTkZJRz1cIkNhbWVyYVZpZGVvVHJhY2suc2V0RW5jb2RlckNvbmZpZ3VyYXRpb25cIixlLlJFTU9URV9WSURFT19UUkFDS19QTEFZPVwiUmVtb3RlVmlkZW9UcmFjay5wbGF5XCIsZS5SRU1PVEVfVklERU9fVFJBQ0tfU1RPUD1cIlJlbW90ZVZpZGVvVHJhY2suc3RvcFwiLGUuUkVNT1RFX1ZJREVPX1RSQUNLX0dFVF9WSURFT19WSVNJQkxFPVwiUmVtb3RlVmlkZW9UcmFjay5nZXRWaWRlb0VsZW1lbnRWaXNpYmxlU3RhdHVzXCIsZS5SRU1PVEVfQVVESU9fVFJBQ0tfUExBWT1cIlJlbW90ZUF1ZGlvVHJhY2sucGxheVwiLGUuUkVNT1RFX0FVRElPX1RSQUNLX1NUT1A9XCJSZW1vdGVBdWRpb1RyYWNrLnN0b3BcIixlLlJFTU9URV9BVURJT19TRVRfVk9MVU1FPVwiUmVtb3RlQXVkaW9UcmFjay5zZXRWb2x1bWVcIixlLlJFTU9URV9BVURJT19TRVRfT1VUUFVUX0RFVklDRT1cIlJlbW90ZUF1ZGlvVHJhY2suc2V0T3V0cHV0RGV2aWNlXCIsZS5HRVRfTUVESUFfU1RSRUFNX1RSQUNLPVwiVHJhY2suZ2V0TWVkaWFTdHJlYW1UcmFja1wiLGUuU1RSRUFNX1RZUEVfQ0hBTkdFPVwic3RyZWFtVHlwZUNoYW5nZVwiLGUuQ09OTkVDVElPTl9TVEFURV9DSEFOR0U9XCJjb25uZWN0aW9uU3RhdGVDaGFuZ2VcIixlLkxPQURfQ09ORklHX0ZST01fTE9DQUxTVE9SQUdFPVwibG9hZENvbmZpZ0Zyb21Mb2NhbFN0b3JhZ2VcIixlLklNQUdFX01PREVSQVRJT05fVVBMT0FEPVwiaW1hZ2VNb2RlcmF0aW9uVXBsb2FkXCIsZX0oe30pLEl2PWZ1bmN0aW9uKGUpe3JldHVybiBlLlRSQUNFUj1cInRyYWNlclwiLGV9KHt9KTtmdW5jdGlvbiB2dihlKXtyZXR1cm4gYXYoZS50aW1lb3V0LFwiY29uZmlnLnRpbWVvdXRcIiwwLDFlNSksYXYoZS50aW1lb3V0RmFjdG9yLFwiY29uZmlnLnRpbWVvdXRGYWN0b3JcIiwwLDEwMCwhMSksYXYoZS5tYXhSZXRyeUNvdW50LFwiY29uZmlnLm1heFJldHJ5Q29uZmlnXCIsMCwxLzApLGF2KGUubWF4UmV0cnlUaW1lb3V0LFwiY29uZmlnLm1heFJldHJ5VGltZW91dFwiLDAsMS8wKSwhMH1sZXQgeXY9ZnVuY3Rpb24oZSl7cmV0dXJuIGVbZS5BVURJRU5DRV9MRVZFTF9MT1dfTEFURU5DWT0xXT1cIkFVRElFTkNFX0xFVkVMX0xPV19MQVRFTkNZXCIsZVtlLkFVRElFTkNFX0xFVkVMX1VMVFJBX0xPV19MQVRFTkNZPTJdPVwiQVVESUVOQ0VfTEVWRUxfVUxUUkFfTE9XX0xBVEVOQ1lcIixlW2UuQVVESUVOQ0VfTEVWRUxfU1lOQ19MQVRFTkNZPTNdPVwiQVVESUVOQ0VfTEVWRUxfU1lOQ19MQVRFTkNZXCIsZX0oe30pLEF2PWZ1bmN0aW9uKGUpe3JldHVybiBlLkxFQVZFPVwiTEVBVkVcIixlLk5FVFdPUktfRVJST1I9XCJORVRXT1JLX0VSUk9SXCIsZS5TRVJWRVJfRVJST1I9XCJTRVJWRVJfRVJST1JcIixlLlVJRF9CQU5ORUQ9XCJVSURfQkFOTkVEXCIsZS5GQUxMQkFDSz1cIkZBTExCQUNLXCIsZS5JUF9CQU5ORUQ9XCJJUF9CQU5ORURcIixlLkNIQU5ORUxfQkFOTkVEPVwiQ0hBTk5FTF9CQU5ORURcIixlLkxJQ0VOU0VfTUlTU0lORz1cIkxJQ0VOU0VfTUlTU0lOR1wiLGUuTElDRU5TRV9FWFBJUkVEPVwiTElDRU5TRV9FWFBJUkVEXCIsZS5MSUNFTlNFX01JTlVURVNfRVhDRUVERUQ9XCJMSUNFTlNFX01JTlVURVNfRVhDRUVERURcIixlLkxJQ0VOU0VfUEVSSU9EX0lOVkFMSUQ9XCJMSUNFTlNFX1BFUklPRF9JTlZBTElEXCIsZS5MSUNFTlNFX01VTFRJUExFX1NES19TRVJWSUNFPVwiTElDRU5TRV9NVUxUSVBMRV9TREtfU0VSVklDRVwiLGUuTElDRU5TRV9JTExFR0FMPVwiTElDRU5TRV9JTExFR0FMXCIsZS5UT0tFTl9FWFBJUkU9XCJUT0tFTl9FWFBJUkVcIixlfSh7fSk7ZnVuY3Rpb24gYnYoZSl7aWYoIUFycmF5LmlzQXJyYXkoZSl8fGUubGVuZ3RoPDEpcmV0dXJuITE7dHJ5e2UuZm9yRWFjaCgoZT0+e2lmKCFlLnVybHMpdGhyb3cgRXJyb3IoKX0pKX1jYXRjaChlKXtyZXR1cm4hMX1yZXR1cm4hMH1mdW5jdGlvbiB3dihlKXtyZXR1cm4gZHYoZS50dXJuU2VydmVyVVJMLFwidHVyblNlcnZlclVSTFwiKSxkdihlLnVzZXJuYW1lLFwidXNlcm5hbWVcIiksZHYoZS5wYXNzd29yZCxcInBhc3N3b3JkXCIpLGUudWRwcG9ydCYmYXYoZS51ZHBwb3J0LFwidWRwcG9ydFwiLDEsOTk5OTksITApLGUuZm9yY2V0dXJuJiZvdihlLmZvcmNldHVybixcImZvcmNldHVyblwiKSxlLnNlY3VyaXR5JiZvdihlLnNlY3VyaXR5LFwic2VjdXJpdHlcIiksZS50Y3Bwb3J0JiZhdihlLnRjcHBvcnQsXCJ0Y3Bwb3J0XCIsMSw5OTk5OSwhMCksITB9ZnVuY3Rpb24gT3YoZSl7cmV0dXJuIHZvaWQgMCE9PWUubGV2ZWwmJnN2KGUubGV2ZWwsXCJsZXZlbFwiLFsxLDIsM10pLHZvaWQgMCE9PWUuZGVsYXkmJmF2KGUuZGVsYXksXCJkZWxheVwiLDAsM2UzLCEwKSwhMH1sZXQgTnY9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuQ09OTkVDVElPTl9TVEFURV9DSEFOR0U9XCJjb25uZWN0aW9uLXN0YXRlLWNoYW5nZVwiLGUuTUVESUFfUkVDT05ORUNUX1NUQVJUPVwibWVkaWEtcmVjb25uZWN0LXN0YXJ0XCIsZS5NRURJQV9SRUNPTk5FQ1RfRU5EPVwibWVkaWEtcmVjb25uZWN0LWVuZFwiLGUuSVNfVVNJTkdfQ0xPVURfUFJPWFk9XCJpcy11c2luZy1jbG91ZC1wcm94eVwiLGUuVVNFUl9KT0lORUQ9XCJ1c2VyLWpvaW5lZFwiLGUuVVNFUl9MRUFWRUQ9XCJ1c2VyLWxlZnRcIixlLlVTRVJfUFVCTElTSEVEPVwidXNlci1wdWJsaXNoZWRcIixlLlVTRVJfVU5QVUJMSVNIRUQ9XCJ1c2VyLXVucHVibGlzaGVkXCIsZS5VU0VSX0lORk9fVVBEQVRFRD1cInVzZXItaW5mby11cGRhdGVkXCIsZS5DTElFTlRfQkFOTkVEPVwiY2xpZW50LWJhbm5lZFwiLGUuQ0hBTk5FTF9NRURJQV9SRUxBWV9TVEFURT1cImNoYW5uZWwtbWVkaWEtcmVsYXktc3RhdGVcIixlLkNIQU5ORUxfTUVESUFfUkVMQVlfRVZFTlQ9XCJjaGFubmVsLW1lZGlhLXJlbGF5LWV2ZW50XCIsZS5WT0xVTUVfSU5ESUNBVE9SPVwidm9sdW1lLWluZGljYXRvclwiLGUuQ1JZUFRfRVJST1I9XCJjcnlwdC1lcnJvclwiLGUuT05fVE9LRU5fUFJJVklMRUdFX1dJTExfRVhQSVJFPVwidG9rZW4tcHJpdmlsZWdlLXdpbGwtZXhwaXJlXCIsZS5PTl9UT0tFTl9QUklWSUxFR0VfRElEX0VYUElSRT1cInRva2VuLXByaXZpbGVnZS1kaWQtZXhwaXJlXCIsZS5ORVRXT1JLX1FVQUxJVFk9XCJuZXR3b3JrLXF1YWxpdHlcIixlLlNUUkVBTV9UWVBFX0NIQU5HRUQ9XCJzdHJlYW0tdHlwZS1jaGFuZ2VkXCIsZS5TVFJFQU1fRkFMTEJBQ0s9XCJzdHJlYW0tZmFsbGJhY2tcIixlLlJFQ0VJVkVfTUVUQURBVEE9XCJyZWNlaXZlLW1ldGFkYXRhXCIsZS5TVFJFQU1fTUVTU0FHRT1cInN0cmVhbS1tZXNzYWdlXCIsZS5MSVZFX1NUUkVBTUlOR19FUlJPUj1cImxpdmUtc3RyZWFtaW5nLWVycm9yXCIsZS5MSVZFX1NUUkVBTUlOR19XQVJOSU5HPVwibGl2ZS1zdHJlYW1pbmctd2FybmluZ1wiLGUuRVhDRVBUSU9OPVwiZXhjZXB0aW9uXCIsZS5FUlJPUj1cImVycm9yXCIsZS5QMlBfTE9TVD1cInAycF9sb3N0XCIsZS5KT0lOX0ZBTExCQUNLX1RPX1BST1hZPVwiam9pbi1mYWxsYmFjay10by1wcm94eVwiLGUuQ0hBTk5FTF9GQUxMQkFDS19UT19XRUJTT0NLRVQ9XCJjaGFubmVsLWZhbGxiYWNrLXRvLXdlYnNvY2tldFwiLGUuTUVESUFfQ09OTkVDVElPTl9UWVBFX0NIQU5HRT1cIm1lZGlhLWNvbm5lY3Rpb24tdHlwZS1jaGFuZ2VcIixlLlBVQkxJU0hFRF9VU0VSX0xJU1Q9XCJwdWJsaXNoZWQtdXNlci1saXN0XCIsZS5DT05URU5UX0lOU1BFQ1RfQ09OTkVDVElPTl9TVEFURV9DSEFOR0U9XCJjb250ZW50LWluc3BlY3QtY29ubmVjdGlvbi1zdGF0ZS1jaGFuZ2VcIixlLkNPTlRFTlRfSU5TUEVDVF9FUlJPUj1cImNvbnRlbnQtaW5zcGVjdC1lcnJvclwiLGUuQ09OVEVOVF9JTlNQRUNUX1JFU1VMVD1cImNvbnRlbnQtaW5zcGVjdC1yZXN1bHRcIixlLklNQUdFX01PREVSQVRJT05fQ09OTkVDVElPTl9TVEFURV9DSEFOR0U9XCJpbWFnZS1tb2RlcmF0aW9uLWNvbm5lY3Rpb24tc3RhdGUtY2hhbmdlXCIsZX0oe30pLER2PWZ1bmN0aW9uKGUpe3JldHVybiBlLk5FVFdPUktfRVJST1I9XCJORVRXT1JLX0VSUk9SXCIsZS5TRVJWRVJfRVJST1I9XCJTRVJWRVJfRVJST1JcIixlLk1VTFRJX0lQPVwiTVVMVElfSVBcIixlLlRJTUVPVVQ9XCJUSU1FT1VUXCIsZS5PRkZMSU5FPVwiT0ZGTElORVwiLGUuTEVBVkU9XCJMRUFWRVwiLGUuUDJQX0ZBSUxFRD1cIlAyUF9GQUlMRURcIixlLkZBTExCQUNLPVwiRkFMTEJBQ0tcIixlfSh7fSksUHY9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuT05MSU5FPVwiT05MSU5FXCIsZS5PRkZMSU5FPVwiT0ZGTElORVwiLGV9KHt9KSxMdj1mdW5jdGlvbihlKXtyZXR1cm4gZS5ORVRXT1JLX1NUQVRFX0NIQU5HRT1cIk5FVFdPUktfU1RBVEVfQ0hBTkdFXCIsZS5PTkxJTkU9XCJPTkxJTkVcIixlLk9GRkxJTkU9XCJPRkZMSU5FXCIsZX0oe30pO2Z1bmN0aW9uIGt2KGUsdCl7Zm9yKHZhciBpPWFyZ3VtZW50cy5sZW5ndGgsbj1uZXcgQXJyYXkoaT4yP2ktMjowKSxyPTI7cjxpO3IrKyluW3ItMl09YXJndW1lbnRzW3JdO3JldHVybiAwPT09ZS5nZXRMaXN0ZW5lcnModCkubGVuZ3RoP0doLnJlamVjdChuZXcgcnYobnYuVU5FWFBFQ1RFRF9FUlJPUixcImNhbiBub3QgZW1pdCBwcm9taXNlXCIpKTpuZXcgR2goKChpLHIpPT57ZS5lbWl0KHQsLi4ubixpLHIpfSkpfWZ1bmN0aW9uIE12KGUsdCl7aWYoMD09PWUuZ2V0TGlzdGVuZXJzKHQpLmxlbmd0aClyZXR1cm4gR2gucmVzb2x2ZSgpO2Zvcih2YXIgaT1hcmd1bWVudHMubGVuZ3RoLG49bmV3IEFycmF5KGk+Mj9pLTI6MCkscj0yO3I8aTtyKyspbltyLTJdPWFyZ3VtZW50c1tyXTtyZXR1cm4ga3YoZSx0LC4uLm4pfWZ1bmN0aW9uIFV2KGUsdCl7aWYoMD09PWUuZ2V0TGlzdGVuZXJzKHQpLmxlbmd0aClyZXR1cm4gbnVsbDtmb3IodmFyIGk9YXJndW1lbnRzLmxlbmd0aCxuPW5ldyBBcnJheShpPjI/aS0yOjApLHI9MjtyPGk7cisrKW5bci0yXT1hcmd1bWVudHNbcl07cmV0dXJuIHh2KGUsdCwuLi5uKX1mdW5jdGlvbiB4dihlLHQpe2xldCBpPW51bGwsbj1udWxsO2Zvcih2YXIgcj1hcmd1bWVudHMubGVuZ3RoLG89bmV3IEFycmF5KHI+Mj9yLTI6MCkscz0yO3M8cjtzKyspb1tzLTJdPWFyZ3VtZW50c1tzXTtpZihlLmVtaXQodCwuLi5vLChlPT57aT1lfSksKGU9PntuPWV9KSksbnVsbCE9PW4pdGhyb3cgbjtpZihudWxsPT09aSl0aHJvdyBuZXcgcnYobnYuVU5FWFBFQ1RFRF9FUlJPUixcImhhbmRsZXIgaXMgbm90IHN5bmNcIik7cmV0dXJuIGl9Y29uc3QgVnY9bmV3IGNsYXNzIGV4dGVuZHMgU3Z7c2V0IG5ldHdvcmtTdGF0ZShlKXt0aGlzLmVtaXQoTHYuTkVUV09SS19TVEFURV9DSEFOR0UsZSx0aGlzLl9uZXR3b3JrU3RhdGUpLGU9PT1Qdi5PTkxJTkU/dGhpcy5lbWl0KEx2Lk9OTElORSk6ZT09PVB2Lk9GRkxJTkUmJih0aGlzLm9ubGluZVdhaXRlcj1uZXcgR2goKGU9Pnt0aGlzLm9uY2UoTHYuT05MSU5FLCgoKT0+e3RoaXMub25saW5lV2FpdGVyPXZvaWQgMCxlKFB2Lk9OTElORSl9KSl9KSksdGhpcy5lbWl0KEx2Lk9GRkxJTkUpKSx0aGlzLl9uZXR3b3JrU3RhdGU9ZX1nZXQgbmV0d29ya1N0YXRlKCl7cmV0dXJuIHRoaXMuX25ldHdvcmtTdGF0ZX1nZXQgaXNPbmxpbmUoKXtyZXR1cm4gdGhpcy5fbmV0d29ya1N0YXRlPT09UHYuT05MSU5FfWNvbnN0cnVjdG9yKCl7c3VwZXIoKSxldih0aGlzLFwiX21vZHVsZU5hbWVcIixcIm5ldHdvcmstaW5kaWNhdG9yXCIpLGV2KHRoaXMsXCJfbmV0d29ya1N0YXRlXCIsUHYuT05MSU5FKSxldih0aGlzLFwib25saW5lV2FpdGVyXCIsdm9pZCAwKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm9ubGluZVwiLCgoKT0+e3RoaXMubmV0d29ya1N0YXRlPVB2Lk9OTElORX0pKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcIm9mZmxpbmVcIiwoKCk9Pnt0aGlzLm5ldHdvcmtTdGF0ZT1Qdi5PRkZMSU5FfSkpfX07ZnVuY3Rpb24gRnYoZSx0KXtjb25zdCBpPWUuaW5kZXhPZih0KTstMSE9PWkmJmUuc3BsaWNlKGksMSl9ZnVuY3Rpb24gQnYoZSl7Y29uc3QgdD1bXTtyZXR1cm4gZS5mb3JFYWNoKChlPT57LTE9PT10LmluZGV4T2YoZSkmJnQucHVzaChlKX0pKSx0fWZ1bmN0aW9uIGp2KGUpe3ZvaWQgMCE9PUdoP0doLnJlc29sdmUoKS50aGVuKGUpOnNldFRpbWVvdXQoZSwwKX1mdW5jdGlvbiBHdihlKXtyZXR1cm4gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShlKSl9ZnVuY3Rpb24gV3YoZSl7dHJ5e3JldHVybiBHdihlKX1jYXRjaCh0KXtyZXR1cm4gZX19Y29uc3QgSHY9e307ZnVuY3Rpb24gS3YoZSx0KXtIdlt0XXx8KEh2W3RdPSEwLGUoKSl9ZnVuY3Rpb24gWXYoZSl7Y29uc3QgdD13aW5kb3cuYXRvYihlKSxpPW5ldyBVaW50OEFycmF5KG5ldyBBcnJheUJ1ZmZlcih0Lmxlbmd0aCkpO2ZvcihsZXQgZT0wO2U8dC5sZW5ndGg7ZSs9MSlpW2VdPXQuY2hhckNvZGVBdChlKTtyZXR1cm4gaX1mdW5jdGlvbiBxdihlKXtsZXQgdD1cIlwiO2ZvcihsZXQgaT0wO2k8ZS5sZW5ndGg7aSs9MSl0Kz1TdHJpbmcuZnJvbUNoYXJDb2RlKGVbaV0pO3JldHVybiB3aW5kb3cuYnRvYSh0KX1mdW5jdGlvbiB6dihlKXtsZXQgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06MTYsaT0obmV3IFRleHRFbmNvZGVyKS5lbmNvZGUoZSk7aWYoaS5sZW5ndGg+dClpPWkuc2xpY2UoMCx0KTtlbHNlIGlmKGkubGVuZ3RoPHQpe2NvbnN0IGU9bmV3IFVpbnQ4QXJyYXkodCk7ZS5zZXQoaSksaT1lfXJldHVybiBpfWZ1bmN0aW9uIEp2KCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsdD1uZXcgQXJyYXkoZSksaT0wO2k8ZTtpKyspdFtpXT1hcmd1bWVudHNbaV07Y29uc3Qgbj1Kbih0KS5jYWxsKHQsKChlLHQpPT5lK3QubGVuZ3RoKSwwKSxyPW5ldyBVaW50OEFycmF5KG5ldyBBcnJheUJ1ZmZlcihuKSk7bGV0IG89MDtyZXR1cm4gdC5mb3JFYWNoKChlPT57ci5zZXQoZSxvKSxvKz1lLmxlbmd0aH0pKSxyfWZ1bmN0aW9uIFh2KGUpe3JldHVybiB3aW5kb3cuVGV4dEVuY29kZXI/KG5ldyBUZXh0RW5jb2RlcikuZW5jb2RlKGUpLmxlbmd0aDplLmxlbmd0aH1mdW5jdGlvbiBRdihlKXtsZXQgdD0wO3JldHVybigvRGluZ1RhbGsvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpfHwvQWxpQXBwL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSkmJmUucmVhbEZvcm1EYXRhJiYoZT1lLnJlYWxGb3JtRGF0YSksZS5mb3JFYWNoKChlPT57dCs9XCJzdHJpbmdcIj09dHlwZW9mIGU/WHYoZSk6ZS5zaXplfSkpLHQrMTM4fWZ1bmN0aW9uIFp2KGUpe2NvbnN0IHQ9bmV3IHJ2KG52LlRJTUVPVVQsXCJ0aW1lb3V0XCIpO3JldHVybiBuZXcgR2goKChpLG4pPT57d2luZG93LnNldFRpbWVvdXQoKCgpPT5uKHQpKSxlKX0pKX1mdW5jdGlvbiAkdihlKXtyZXR1cm4gbmV3IEdoKCh0PT57d2luZG93LnNldFRpbWVvdXQodCxlKX0pKX1mdW5jdGlvbiBleSgpe2xldCBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTo3LHQ9YXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDA7Y29uc3QgaT1NYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDE2KS5zdWJzdHIoMixlKS50b0xvd2VyQ2FzZSgpO3JldHVybiBpLmxlbmd0aD09PWU/XCJcIi5jb25jYXQodCkuY29uY2F0KGkpOlwiXCIuY29uY2F0KHQpLmNvbmNhdChpKStleShlLWkubGVuZ3RoLFwiXCIpfWZ1bmN0aW9uIHR5KCl7cmV0dXJuIGV5KDMyLFwiXCIpLnRvVXBwZXJDYXNlKCl9Y29uc3QgaXk9KCk9Pnt9LG55PW5ldyBjbGFzc3tjb25zdHJ1Y3Rvcigpe2V2KHRoaXMsXCJmbk1hcFwiLG5ldyBNYXApfXRocm90dGxlQnlLZXkoZSx0LGksbil7Zm9yKHZhciByPWFyZ3VtZW50cy5sZW5ndGgsbz1uZXcgQXJyYXkocj40P3ItNDowKSxzPTQ7czxyO3MrKylvW3MtNF09YXJndW1lbnRzW3NdO2lmKHRoaXMuZm5NYXAuaGFzKHQpKXtjb25zdCByPXRoaXMuZm5NYXAuZ2V0KHQpO2lmKHIudGhyZXNob2xkIT09aSl7ci5mbiguLi5yLmFyZ3MpLGNsZWFyVGltZW91dChyLnRpbWVyKTtjb25zdCBzPXdpbmRvdy5zZXRUaW1lb3V0KCgoKT0+e2NvbnN0IGU9dGhpcy5mbk1hcC5nZXQodCk7ZSYmZS5mbiguLi5lLmFyZ3MpLHRoaXMuZm5NYXAuZGVsZXRlKHQpfSksaSk7dGhpcy5mbk1hcC5zZXQodCx7Zm46ZSx0aHJlc2hvbGQ6aSx0aW1lcjpzLGFyZ3M6byxza2lwRm46bn0pfWVsc2Ugci5za2lwRm4mJnIuc2tpcEZuKC4uLnIuYXJncyksdGhpcy5mbk1hcC5zZXQodCxpdihpdih7fSxyKSx7fSx7Zm46ZSxhcmdzOm8sc2tpcEZuOm59KSl9ZWxzZXtjb25zdCByPXdpbmRvdy5zZXRUaW1lb3V0KCgoKT0+e2NvbnN0IGU9dGhpcy5mbk1hcC5nZXQodCk7ZSYmZS5mbiguLi5lLmFyZ3MpLHRoaXMuZm5NYXAuZGVsZXRlKHQpfSksaSk7dGhpcy5mbk1hcC5zZXQodCx7Zm46ZSx0aHJlc2hvbGQ6aSx0aW1lcjpyLGFyZ3M6byxza2lwRm46bn0pfX19LHJ5PW55LnRocm90dGxlQnlLZXkuYmluZChueSk7ZnVuY3Rpb24gb3koZSl7cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIGUmJm51bGwhPT1lJiYhKGUgaW5zdGFuY2VvZiBSZWdFeHApfWZ1bmN0aW9uIHN5KGUsdCl7aWYoIW95KGUpfHwhb3kodCkpcmV0dXJuIHQ7aWYoQXJyYXkuaXNBcnJheShlKSYmIUFycmF5LmlzQXJyYXkodCl8fCFBcnJheS5pc0FycmF5KGUpJiZBcnJheS5pc0FycmF5KHQpKXJldHVybiB0O2lmKEFycmF5LmlzQXJyYXkodCkmJkFycmF5LmlzQXJyYXkoZSkpe2NvbnN0IGk9Wy4uLmVdO2ZvcihsZXQgbj0wO248dC5sZW5ndGg7bisrKWlbbl09c3koZVtuXSx0W25dKTtyZXR1cm4gaX17Y29uc3QgaT1pdih7fSxlKTtmb3IoY29uc3QgbiBpbiB0KU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LG4pJiYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGUsbik/aVtuXT1zeShlW25dLHRbbl0pOmlbbl09dFtuXSk7cmV0dXJuIGl9fWZ1bmN0aW9uIGF5KGUsdCl7bGV0IGk9WzBdO2lmKHQmJihpPW5ldyBBcnJheSh0KS5maWxsKDApKSwwPT09ZSlyZXR1cm4gaTtsZXQgbj0wO2Zvcig7ZT4wJiYoaVtuXT0yNTUmZSxlPj49OCxuKyssIXR8fG4hPT10KTspO3JldHVybiBpfWZ1bmN0aW9uIGN5KGUpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiBlP2U6ZS5leGFjdHx8ZS5pZGVhbHx8ZS5tYXh8fGUubWlufHwwfWZ1bmN0aW9uIGR5KGUpe2NvbnN0IHQ9XCIwMTIzNDU2Nzg5YWJjZGVmXCI7ZnVuY3Rpb24gaShlKXtsZXQgaSxuPVwiXCI7Zm9yKGk9MDtpPD0zO2krKyluKz10LmNoYXJBdChlPj44KmkrNCYxNSkrdC5jaGFyQXQoZT4+OCppJjE1KTtyZXR1cm4gbn1mdW5jdGlvbiBuKGUsdCl7Y29uc3QgaT0oNjU1MzUmZSkrKDY1NTM1JnQpO3JldHVybihlPj4xNikrKHQ+PjE2KSsoaT4+MTYpPDwxNnw2NTUzNSZpfWZ1bmN0aW9uIHIoZSx0LGkscixvLHMpe3JldHVybiBuKGZ1bmN0aW9uKGUsdCl7cmV0dXJuIGU8PHR8ZT4+PjMyLXR9KG4obih0LGUpLG4ocixzKSksbyksaSl9ZnVuY3Rpb24gbyhlLHQsaSxuLG8scyxhKXtyZXR1cm4gcih0Jml8fnQmbixlLHQsbyxzLGEpfWZ1bmN0aW9uIHMoZSx0LGksbixvLHMsYSl7cmV0dXJuIHIodCZufGkmfm4sZSx0LG8scyxhKX1mdW5jdGlvbiBhKGUsdCxpLG4sbyxzLGEpe3JldHVybiByKHReaV5uLGUsdCxvLHMsYSl9ZnVuY3Rpb24gYyhlLHQsaSxuLG8scyxhKXtyZXR1cm4gcihpXih0fH5uKSxlLHQsbyxzLGEpfWNvbnN0IGQ9ZnVuY3Rpb24oZSl7bGV0IHQ7Y29uc3QgaT0xKyhlLmxlbmd0aCs4Pj42KSxuPW5ldyBBcnJheSgxNippKTtmb3IodD0wO3Q8MTYqaTt0Kyspblt0XT0wO2Zvcih0PTA7dDxlLmxlbmd0aDt0Kyspblt0Pj4yXXw9ZS5jaGFyQ29kZUF0KHQpPDx0JTQqODtyZXR1cm4gblt0Pj4yXXw9MTI4PDx0JTQqOCxuWzE2KmktMl09OCplLmxlbmd0aCxufShlKTtsZXQgbCx1LGgscCxfLEU9MTczMjU4NDE5MyxtPS0yNzE3MzM4NzksZj0tMTczMjU4NDE5NCxUPTI3MTczMzg3ODtmb3IobD0wO2w8ZC5sZW5ndGg7bCs9MTYpdT1FLGg9bSxwPWYsXz1ULEU9byhFLG0sZixULGRbbCswXSw3LC02ODA4NzY5MzYpLFQ9byhULEUsbSxmLGRbbCsxXSwxMiwtMzg5NTY0NTg2KSxmPW8oZixULEUsbSxkW2wrMl0sMTcsNjA2MTA1ODE5KSxtPW8obSxmLFQsRSxkW2wrM10sMjIsLTEwNDQ1MjUzMzApLEU9byhFLG0sZixULGRbbCs0XSw3LC0xNzY0MTg4OTcpLFQ9byhULEUsbSxmLGRbbCs1XSwxMiwxMjAwMDgwNDI2KSxmPW8oZixULEUsbSxkW2wrNl0sMTcsLTE0NzMyMzEzNDEpLG09byhtLGYsVCxFLGRbbCs3XSwyMiwtNDU3MDU5ODMpLEU9byhFLG0sZixULGRbbCs4XSw3LDE3NzAwMzU0MTYpLFQ9byhULEUsbSxmLGRbbCs5XSwxMiwtMTk1ODQxNDQxNyksZj1vKGYsVCxFLG0sZFtsKzEwXSwxNywtNDIwNjMpLG09byhtLGYsVCxFLGRbbCsxMV0sMjIsLTE5OTA0MDQxNjIpLEU9byhFLG0sZixULGRbbCsxMl0sNywxODA0NjAzNjgyKSxUPW8oVCxFLG0sZixkW2wrMTNdLDEyLC00MDM0MTEwMSksZj1vKGYsVCxFLG0sZFtsKzE0XSwxNywtMTUwMjAwMjI5MCksbT1vKG0sZixULEUsZFtsKzE1XSwyMiwxMjM2NTM1MzI5KSxFPXMoRSxtLGYsVCxkW2wrMV0sNSwtMTY1Nzk2NTEwKSxUPXMoVCxFLG0sZixkW2wrNl0sOSwtMTA2OTUwMTYzMiksZj1zKGYsVCxFLG0sZFtsKzExXSwxNCw2NDM3MTc3MTMpLG09cyhtLGYsVCxFLGRbbCswXSwyMCwtMzczODk3MzAyKSxFPXMoRSxtLGYsVCxkW2wrNV0sNSwtNzAxNTU4NjkxKSxUPXMoVCxFLG0sZixkW2wrMTBdLDksMzgwMTYwODMpLGY9cyhmLFQsRSxtLGRbbCsxNV0sMTQsLTY2MDQ3ODMzNSksbT1zKG0sZixULEUsZFtsKzRdLDIwLC00MDU1Mzc4NDgpLEU9cyhFLG0sZixULGRbbCs5XSw1LDU2ODQ0NjQzOCksVD1zKFQsRSxtLGYsZFtsKzE0XSw5LC0xMDE5ODAzNjkwKSxmPXMoZixULEUsbSxkW2wrM10sMTQsLTE4NzM2Mzk2MSksbT1zKG0sZixULEUsZFtsKzhdLDIwLDExNjM1MzE1MDEpLEU9cyhFLG0sZixULGRbbCsxM10sNSwtMTQ0NDY4MTQ2NyksVD1zKFQsRSxtLGYsZFtsKzJdLDksLTUxNDAzNzg0KSxmPXMoZixULEUsbSxkW2wrN10sMTQsMTczNTMyODQ3MyksbT1zKG0sZixULEUsZFtsKzEyXSwyMCwtMTkyNjYwNzczNCksRT1hKEUsbSxmLFQsZFtsKzVdLDQsLTM3ODU1OCksVD1hKFQsRSxtLGYsZFtsKzhdLDExLC0yMDIyNTc0NDYzKSxmPWEoZixULEUsbSxkW2wrMTFdLDE2LDE4MzkwMzA1NjIpLG09YShtLGYsVCxFLGRbbCsxNF0sMjMsLTM1MzA5NTU2KSxFPWEoRSxtLGYsVCxkW2wrMV0sNCwtMTUzMDk5MjA2MCksVD1hKFQsRSxtLGYsZFtsKzRdLDExLDEyNzI4OTMzNTMpLGY9YShmLFQsRSxtLGRbbCs3XSwxNiwtMTU1NDk3NjMyKSxtPWEobSxmLFQsRSxkW2wrMTBdLDIzLC0xMDk0NzMwNjQwKSxFPWEoRSxtLGYsVCxkW2wrMTNdLDQsNjgxMjc5MTc0KSxUPWEoVCxFLG0sZixkW2wrMF0sMTEsLTM1ODUzNzIyMiksZj1hKGYsVCxFLG0sZFtsKzNdLDE2LC03MjI1MjE5NzkpLG09YShtLGYsVCxFLGRbbCs2XSwyMyw3NjAyOTE4OSksRT1hKEUsbSxmLFQsZFtsKzldLDQsLTY0MDM2NDQ4NyksVD1hKFQsRSxtLGYsZFtsKzEyXSwxMSwtNDIxODE1ODM1KSxmPWEoZixULEUsbSxkW2wrMTVdLDE2LDUzMDc0MjUyMCksbT1hKG0sZixULEUsZFtsKzJdLDIzLC05OTUzMzg2NTEpLEU9YyhFLG0sZixULGRbbCswXSw2LC0xOTg2MzA4NDQpLFQ9YyhULEUsbSxmLGRbbCs3XSwxMCwxMTI2ODkxNDE1KSxmPWMoZixULEUsbSxkW2wrMTRdLDE1LC0xNDE2MzU0OTA1KSxtPWMobSxmLFQsRSxkW2wrNV0sMjEsLTU3NDM0MDU1KSxFPWMoRSxtLGYsVCxkW2wrMTJdLDYsMTcwMDQ4NTU3MSksVD1jKFQsRSxtLGYsZFtsKzNdLDEwLC0xODk0OTg2NjA2KSxmPWMoZixULEUsbSxkW2wrMTBdLDE1LC0xMDUxNTIzKSxtPWMobSxmLFQsRSxkW2wrMV0sMjEsLTIwNTQ5MjI3OTkpLEU9YyhFLG0sZixULGRbbCs4XSw2LDE4NzMzMTMzNTkpLFQ9YyhULEUsbSxmLGRbbCsxNV0sMTAsLTMwNjExNzQ0KSxmPWMoZixULEUsbSxkW2wrNl0sMTUsLTE1NjAxOTgzODApLG09YyhtLGYsVCxFLGRbbCsxM10sMjEsMTMwOTE1MTY0OSksRT1jKEUsbSxmLFQsZFtsKzRdLDYsLTE0NTUyMzA3MCksVD1jKFQsRSxtLGYsZFtsKzExXSwxMCwtMTEyMDIxMDM3OSksZj1jKGYsVCxFLG0sZFtsKzJdLDE1LDcxODc4NzI1OSksbT1jKG0sZixULEUsZFtsKzldLDIxLC0zNDM0ODU1NTEpLEU9bihFLHUpLG09bihtLGgpLGY9bihmLHApLFQ9bihULF8pO3JldHVybiBpKEUpK2kobSkraShmKStpKFQpfWxldCBseT0xLHV5PWNvbnNvbGUsaHk9Y2xhc3N7c3RhdGljIHNldExvZ2dlcihlKXt1eT1lfWNvbnN0cnVjdG9yKGUpe2V2KHRoaXMsXCJsb2NraW5nUHJvbWlzZVwiLEdoLnJlc29sdmUoKSksZXYodGhpcyxcImxvY2tzXCIsMCksZXYodGhpcyxcIm5hbWVcIixcIlwiKSxldih0aGlzLFwibG9ja0lkXCIsdm9pZCAwKSx0aGlzLmxvY2tJZD1seSsrLGUmJih0aGlzLm5hbWU9ZSksdXkuZGVidWcoXCJbbG9jay1cIi5jb25jYXQodGhpcy5uYW1lLFwiLVwiKS5jb25jYXQodGhpcy5sb2NrSWQsXCJdIGlzIGNyZWF0ZWQuXCIpKX1nZXQgaXNMb2NrZWQoKXtyZXR1cm4gdGhpcy5sb2Nrcz4wfWxvY2soZSl7bGV0IHQ7dGhpcy5sb2Nrcys9MSx1eS5kZWJ1ZyhcIltsb2NrLVwiLmNvbmNhdCh0aGlzLm5hbWUsXCItXCIpLmNvbmNhdCh0aGlzLmxvY2tJZCxcIl0gaXMgbG9ja2VkLCBjdXJyZW50IHF1ZXVlIFwiKS5jb25jYXQodGhpcy5sb2NrcyxcIi4gXCIpLmNvbmNhdChcInN0cmluZ1wiPT10eXBlb2YgZT9lOlwiXCIpKTtjb25zdCBpPW5ldyBHaCgoaT0+e3Q9KCk9Pnt0aGlzLmxvY2tzLT0xLHV5LmRlYnVnKFwiW2xvY2stXCIuY29uY2F0KHRoaXMubmFtZSxcIi1cIikuY29uY2F0KHRoaXMubG9ja0lkLFwiXSBpcyBub3QgbG9ja2VkLCBjdXJyZW50IHF1ZXVlIFwiKS5jb25jYXQodGhpcy5sb2NrcyxcIi4gXCIpLmNvbmNhdChcInN0cmluZ1wiPT10eXBlb2YgZT9lOlwiXCIpKSxpKCl9fSkpLG49dGhpcy5sb2NraW5nUHJvbWlzZS50aGVuKCgoKT0+dCkpO3JldHVybiB0aGlzLmxvY2tpbmdQcm9taXNlPXRoaXMubG9ja2luZ1Byb21pc2UudGhlbigoKCk9PmkpKSxufX07ZnVuY3Rpb24gcHkoZSx0KXtyZXR1cm4gZnVuY3Rpb24oaSxuLHIpe2NvbnN0IG89ci52YWx1ZTtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBvKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCB1c2UgbXV0ZXggb24gb2JqZWN0IHByb3BlcnR5LlwiKTtyZXR1cm4gci52YWx1ZT1hc3luYyBmdW5jdGlvbigpe2NvbnN0IGk9dGhpc1t0XTtpZighaSl0aHJvdyBuZXcgRXJyb3IoXCJtdXRleCBwcm9wZXJ0eSBrZXkgXCIuY29uY2F0KHQsXCIgZG9lc24ndCBleGlzdCBvbiBcIikuY29uY2F0KGUpKTtjb25zdCByPWF3YWl0IGkubG9jayhcIkZyb20gXCIuY29uY2F0KGUsXCIuXCIpLmNvbmNhdChuKSk7dHJ5e2Zvcih2YXIgcz1hcmd1bWVudHMubGVuZ3RoLGE9bmV3IEFycmF5KHMpLGM9MDtjPHM7YysrKWFbY109YXJndW1lbnRzW2NdO3JldHVybiBhd2FpdCBvLmFwcGx5KHRoaXMsYSl9ZmluYWxseXtyKCl9fSxyfX1jb25zdCBfeT17dGltZW91dDo1MDAsdGltZW91dEZhY3RvcjoxLjUsbWF4UmV0cnlDb3VudDoxLzAsbWF4UmV0cnlUaW1lb3V0OjFlNH07ZnVuY3Rpb24gRXkoZSx0KXtjb25zdCBpPU1hdGguZmxvb3IodC50aW1lb3V0Kk1hdGgucG93KHQudGltZW91dEZhY3RvcixlKSk7cmV0dXJuIE1hdGgubWluKHQubWF4UmV0cnlUaW1lb3V0LGkpfWZ1bmN0aW9uIG15KGUsdCxpLG4pe2NvbnN0IHI9T2JqZWN0LmFzc2lnbih7fSxfeSxuKTtsZXQgbz1yLnRpbWVvdXQ7Y29uc3Qgcz1hc3luYygpPT57YXdhaXQgZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBHaCgodD0+e3dpbmRvdy5zZXRUaW1lb3V0KHQsZSl9KSl9KG8pLG8qPXIudGltZW91dEZhY3RvcixvPU1hdGgubWluKHIubWF4UmV0cnlUaW1lb3V0LG8pfTtsZXQgYT0hMTtjb25zdCBjPW5ldyBHaCgoYXN5bmMobixvKT0+e3Q9dHx8KCgpPT4hMSksaT1pfHwoKCk9PiEwKTtmb3IobGV0IGM9MDtjPHIubWF4UmV0cnlDb3VudDtjKz0xKXtpZihhKXJldHVybiBvKG5ldyBydihudi5PUEVSQVRJT05fQUJPUlRFRCkpO3RyeXtjb25zdCBpPWF3YWl0IGUoKTtpZighdChpLGMpKXJldHVybiBuKGkpO2lmKGMrMT09PXIubWF4UmV0cnlDb3VudClyZXR1cm4gbihpKTthd2FpdCBzKCl9Y2F0Y2goZSl7aWYoIWkoZSxjKSlyZXR1cm4gbyhlKTtpZihjKzE9PT1yLm1heFJldHJ5Q291bnQpcmV0dXJuIG8oZSk7YXdhaXQgcygpfX19KSk7cmV0dXJuIGMuY2FuY2VsPSgpPT5hPSEwLGN9Y2xhc3MgZnl7Y29uc3RydWN0b3IoZSl7ZXYodGhpcyxcImlucHV0XCIsW10pLGV2KHRoaXMsXCJzaXplXCIsdm9pZCAwKSx0aGlzLnNpemU9ZX1hZGQoZSl7dGhpcy5pbnB1dC5wdXNoKGUpLHRoaXMuaW5wdXQubGVuZ3RoPnRoaXMuc2l6ZSYmdGhpcy5pbnB1dC5zcGxpY2UoMCwxKX1tZWFuKCl7dmFyIGU7cmV0dXJuIDA9PT10aGlzLmlucHV0Lmxlbmd0aD8wOkpuKGU9dGhpcy5pbnB1dCkuY2FsbChlLCgoZSx0KT0+ZSt0KSkvdGhpcy5pbnB1dC5sZW5ndGh9fWxldCBUeSxTeT0wLGd5PTA7ZnVuY3Rpb24gUnkoZSx0LGksbil7cmV0dXJuIG5ldyBHaCgoKHIsbyk9Pnt0LnJlc3BvbnNlVHlwZT10LnJlc3BvbnNlVHlwZXx8XCJqc29uXCIsdC5kYXRhJiYhaT8odC5kYXRhPUpTT04uc3RyaW5naWZ5KHQuZGF0YSksU3krPVh2KHQuZGF0YSkpOmkmJih0LmRhdGEuc2l6ZT9TeSs9dC5kYXRhLnNpemU6dC5kYXRhIGluc3RhbmNlb2YgRm9ybURhdGE/U3krPVF2KHQuZGF0YSk6U3krPVh2KEpTT04uc3RyaW5naWZ5KHQuZGF0YSkpKSx0LmhlYWRlcnM9dC5oZWFkZXJzfHx7fSx0LmhlYWRlcnNbXCJDb250ZW50LVR5cGVcIl09dC5oZWFkZXJzW1wiQ29udGVudC1UeXBlXCJdfHxcImFwcGxpY2F0aW9uL2pzb25cIix0Lm1ldGhvZD1cIlBPU1RcIix0LnVybD1lLEVJLnJlcXVlc3QodCkudGhlbigoZT0+e1wic3RyaW5nXCI9PXR5cGVvZiBlLmRhdGE/Z3krPVh2KGUuZGF0YSk6ZS5kYXRhIGluc3RhbmNlb2YgQXJyYXlCdWZmZXJ8fGUuZGF0YSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXk/Z3krPWUuZGF0YS5ieXRlTGVuZ3RoOmd5Kz1YdihKU09OLnN0cmluZ2lmeShlLmRhdGEpKSxuJiZyKHtkYXRhOmUuZGF0YSxoZWFkZXJzOmUuaGVhZGVyc30pLHIoZS5kYXRhKX0pKS5jYXRjaCgoZT0+e0VJLmlzQ2FuY2VsKGUpP28obmV3IHJ2KG52Lk9QRVJBVElPTl9BQk9SVEVELFwiY2FuY2VsIHRva2VuIGNhbmNlbGVkXCIpKTpcIkVDT05OQUJPUlRFRFwiPT09ZS5jb2RlP28obmV3IHJ2KG52Lk5FVFdPUktfVElNRU9VVCxlLm1lc3NhZ2UpKTplLnJlc3BvbnNlP28obmV3IHJ2KG52Lk5FVFdPUktfUkVTUE9OU0VfRVJST1IsZS5yZXNwb25zZS5zdGF0dXMpKTpvKG5ldyBydihudi5ORVRXT1JLX0VSUk9SLGUubWVzc2FnZSkpfSkpfSkpfWFzeW5jIGZ1bmN0aW9uIEN5KGUsdCl7Y29uc3QgaT1uZXcgQmxvYihbdC5kYXRhXSx7dHlwZTpcImJ1ZmZlclwifSk7cmV0dXJuIGF3YWl0IFJ5KGUsaXYoaXYoe30sdCkse30se2RhdGE6aSxoZWFkZXJzOntcIkNvbnRlbnQtVHlwZVwiOlwiYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtXCJ9fSksITApfWNvbnN0IEl5PSgpPT52b2lkIDAhPT13aW5kb3cuaXNTZWN1cmVDb250ZXh0O2NvbnN0IHZ5PWZ1bmN0aW9uKGUpe2lmKGUubWF0Y2goL1swLTldK1xcLlswLTldK1xcLlswLTldKyQvKSlyZXR1cm4gZTtjb25zdCB0PWUubWF0Y2goLyhbMC05XStcXC5bMC05XStcXC5bMC05XSspXFwtYWxwaGFcXC4oWzAtOV0rKS8pO2lmKHQmJnRbMV0mJnRbMl0pe2NvbnN0IGU9dFsxXSxpPXRbMl07cmV0dXJuXCJcIi5jb25jYXQoZSxcIi5cIikuY29uY2F0KGkpfWNvbnN0IGk9ZS5tYXRjaCgvKFswLTldK1xcLlswLTldK1xcLlswLTldKylcXC1zcGVjaWFsXFwuKFswLTldKykvKTtpZihpJiZpWzFdJiZpWzJdKXtjb25zdCBlPWlbMV0sdD1pWzJdO3JldHVyblwiXCIuY29uY2F0KGUsXCIuXCIpLmNvbmNhdCgxMDAqKE51bWJlcih0KSsxKSl9cmV0dXJuXCI0LjAuMC45OTlcIn0oXCI0LjIyLjBcIikseXk9ZnVuY3Rpb24oKXt0cnl7cmV0dXJuITA9PT1KU09OLnBhcnNlKFwidHJ1ZVwiKX1jYXRjaChlKXtyZXR1cm4hMH19KCk7bGV0IEF5PWZ1bmN0aW9uKGUpe3JldHVybiBlLkRlZmF1bHQ9XCJkZWZhdWx0XCIsZS5BdXRvPVwiYXV0b1wiLGUuUmVsYXk9XCJyZWxheVwiLGUuU2RSdG49XCJzZC1ydG5cIixlfSh7fSk7Y29uc3QgYnk9e01JTl9GUkFNRV9SQVRFOjEsTUFYX0ZSQU1FX1JBVEU6MzAsTUFYX1RIUkVTSE9MRF9GUkFNRVJBVEU6MzAsQklUUkFURV9NSU5fVEhSRVNIT0xEOjEwMCxCSVRSQVRFX01BWF9USFJFU0hPTEQ6MTAwLE1BWF9TQ0FMRTo1LEJXRV9TQ0FMRV9VUF9USFJFU0hPTEQ6LjYsQldFX1NDQUxFX0RPV05fVEhSRVNIT0xEOi42LFBFUkZfU0NBTEVfVVBfVEhSRVNIT0xEOi43LFBFUkZfU0NBTEVfRE9XTl9USFJFU0hPTEQ6LjYsTU9USU9OX1JFU09MVVRJT05fRkFDVE9SOi44LE1PVElPTl9CSVRSQVRFX0ZBQ1RPUjouNixERVRBSUxfRlJBTUVSQVRFX0ZBQ1RPUjouOCxERVRBSUxfQklUUkFURV9GQUNUT1I6LjYsQkFMQU5DRV9SRVNPTFVUSU9OX0ZBQ1RPUjouOSxCQUxBTkNFX0ZSQU1FUkFURV9GQUNUT1I6LjksQkFMQU5DRV9CSVRSQVRFX0ZBQ1RPUjouNixPVkVSVVNFX1RJTUVTX1RIUkVTSE9MRDoxMCxVTkRFUlVTRV9USU1FU19USFJFU0hPTEQ6NDB9LHd5PVwidjQuMjIuMC0wLWc4NTY5MjQxZC1kaXJ0eSg4LzE1LzIwMjQsIDc6MDQ6MDYgUE0pXCIsT3k9aXYoaXYoe1BST0NFU1NfSUQ6XCJcIixFTkNSWVBUX0FFUzohMCxBUkVBUzpbXCJDSElOQVwiLFwiR0xPQkFMXCJdLFdFQkNTX0RPTUFJTjpbXCJ3ZWJydGMyLWFwLXdlYi0xLmFnb3JhLmlvXCIsXCJ3ZWJydGMyLTIuYXAuc2QtcnRuLmNvbVwiXSxXRUJDU19ET01BSU5fQkFDS1VQX0xJU1Q6W1wid2VicnRjMi1hcC13ZWItMy5hZ29yYS5pb1wiLFwid2VicnRjMi00LmFwLnNkLXJ0bi5jb21cIl0sUFJPWFlfQ1M6W1wiYXAtcHJveHktMS5hZ29yYS5pb1wiLFwiYXAtcHJveHktMi5hZ29yYS5pb1wiXSxDRFNfQVA6W1wiY2RzLWFwLXdlYi0xLmFnb3JhLmlvXCIsXCJjZHMtd2ViLTIuYXAuc2QtcnRuLmNvbVwiLFwiY2RzLWFwLXdlYi0zLmFnb3JhLmlvXCIsXCJjZHMtd2ViLTQuYXAuc2QtcnRuLmNvbVwiXSxBQ0NPVU5UX1JFR0lTVEVSOltcInN1YS1hcC13ZWItMS5hZ29yYS5pb1wiLFwic3VhLXdlYi0yLmFwLnNkLXJ0bi5jb21cIixcInN1YS1hcC13ZWItMy5hZ29yYS5pb1wiLFwic3VhLXdlYi00LmFwLnNkLXJ0bi5jb21cIl0sVUFQX0FQOltcInVhcC1hcC13ZWItMS5hZ29yYS5pb1wiLFwidWFwLXdlYi0yLmFwLnNkLXJ0bi5jb21cIixcInVhcC1hcC13ZWItMy5hZ29yYS5pb1wiLFwidWFwLXdlYi00LmFwLnNkLXJ0bi5jb21cIl0sTE9HX1VQTE9BRF9TRVJWRVI6XCJsb2dzZXJ2aWNlLmFnb3JhLmlvXCIsRVZFTlRfUkVQT1JUX0RPTUFJTjpcInN0YXRzY29sbGVjdG9yLTEuYWdvcmEuaW9cIixFVkVOVF9SRVBPUlRfQkFDS1VQX0RPTUFJTjpcIndlYi0yLnN0YXRzY29sbGVjdG9yLnNkLXJ0bi5jb21cIixFTkFCTEVfRVZFTlRfUkVQT1JUOiEwLEdBVEVXQVlfQUREUkVTUzpbXSxHQVRFV0FZX1dTU19BRERSRVNTOlwiXCIsTElWRV9TVFJFQU1JTkdfQUREUkVTUzpcIlwiLEhUVFBfQ09OTkVDVF9USU1FT1VUOjVlMyxTSUdOQUxfUkVRVUVTVF9USU1FT1VUOjFlNCxSRVBPUlRfU1RBVFM6ITAsVVBMT0FEX0xPRzohMSxOT1RfUkVQT1JUX0VWRU5UOltdLFBJTkdfUE9OR19USU1FX09VVDoxMCxXRUJTT0NLRVRfVElNRU9VVF9NSU46MWU0LEVWRU5UX1JFUE9SVF9TRU5EX0lOVEVSVkFMOjNlMyxDT05GSUdfRElTVFJJQlVURV9JTlRFUlZBTDozZTUsRU5BQkxFX0NPTkZJR19ESVNUUklCVVRFOiEwLENBTkRJREFURV9USU1FT1VUOjVlMyxTSE9XX1JFUE9SVF9JTlZPS0VSX0xPRzohMSxKT0lOX0VYVEVORDpcIlwiLFBVQl9FWFRFTkQ6XCJcIixTVUJfRVhURU5EOlwiXCIsRk9SQ0VfVFVSTjohMSxUVVJOX0VOQUJMRV9UQ1A6ITAsVFVSTl9FTkFCTEVfVURQOiEwLE1BWF9VUExPQURfQ0FDSEU6NTAsVVBMT0FEX0NBQ0hFX0lOVEVSVkFMOjJlMyxBSkFYX1JFUVVFU1RfQ09OQ1VSUkVOVDozLFJFUE9SVF9BUFBfU0NFTkFSSU86dm9pZCAwLEdBVEVXQVlfRE9NQUlOUzpbXCJlZGdlLmFnb3JhLmlvXCIsXCJlZGdlLnNkLXJ0bi5jb21cIl0sQ09OTkVDVF9HQVRFV0FZX1dJVEhPVVRfRE9NQUlOOiExLFdPUktFUl9ET01BSU46XCJlZGdlLmFnb3JhLmlvXCIsVFVSTl9ET01BSU46XCJlZGdlLmFnb3JhLmlvXCIsRVZFTlRfUkVQT1JUX1JFVFJZOiEwLENIUk9NRV9GT1JDRV9QTEFOX0I6ITEsQVVESU9fU09VUkNFX1ZPTFVNRV9VUERBVEVfSU5URVJWQUw6NDAwLEFVRElPX1NPVVJDRV9BVkdfVk9MVU1FX0RVUkFUSU9OOjNlMyxBVURJT19WT0xVTUVfSU5ESUNBVElPTl9JTlRFUlZBTDoyZTMsVk9MVU1FX1ZPSUNFX1dFSUdIVDoxMCxHRVRfVk9MVU1FX09GX01VVEVEX0FVRElPX1RSQUNLOiExLFNUQVRTX1VQREFURV9JTlRFUlZBTDoyNTAsTk9STUFMX0VWRU5UX1FVRVVFX0NBUEFDSVRZOjEwMCxDVVNUT01fUkVQT1JUOiEwLENVU1RPTV9SRVBPUlRfTElNSVQ6MjAsUFJPWFlfU0VSVkVSX1RZUEUyOlwid2VibmdpbngtcHJveHkuYWdvcmEuaW9cIixQUk9YWV9TRVJWRVJfVFlQRTM6W1wid2VicnRjLWNsb3VkLXByb3h5LnNkLXJ0bi5jb21cIixcIndlYnJ0Yy1jbG91ZC1wcm94eS5hZ29yYS5pb1wiXSxDVVNUT01fUFVCX0FOU1dFUl9NT0RJRklFUjpudWxsLENVU1RPTV9TVUJfQU5TV0VSX01PRElGSUVSOm51bGwsQ1VTVE9NX1BVQl9PRkZFUl9NT0RJRklFUjpudWxsLENVU1RPTV9TVUJfT0ZGRVJfTU9ESUZJRVI6bnVsbCxEU0NQX1RZUEU6XCJoaWdoXCIsUkVNT1ZFX05FV19DT0RFQ1M6ITAsRlJBR0VNRU5UX0xFTkdUSDozLFdFQlNPQ0tFVF9DT01QUkVTUzohMSxTSU1VTENBU1Q6ITEsUFJFTE9BRF9NRURJQV9DT1VOVDowLENIRUNLX1ZJREVPX1ZJU0lCTEVfSU5URVJWQUw6M2U0LENIRUNLX0xPQ0FMX1NUQVRTX0lOVEVSVkFMOjI1MCxQUk9GSUxFX1NXSVRDSF9JTlRFUlZBTDoyZTMsVU5TVVBQT1JURURfVklERU9fQ09ERUM6W10sRU5VTUVSQVRFX0RFVklDRVNfSU5URVJWQUw6ITEsRU5VTUVSQVRFX0RFVklDRVNfSU5URVJWQUxfVElNRToxZTQsVVNFX05FV19UT0tFTjohMSxDTE9TRV9BRkJfRk9SX0xPQ0FMX0FQOiEwLEpPSU5fTUFYX0NPTkNVUlJFTkNZOjYsSk9JTl9XSVRIX0ZBTExCQUNLX1NJR05BTF9QUk9YWTohMCxKT0lOX1dJVEhfRkFMTEJBQ0tfTUVESUFfUFJPWFk6ITAsSk9JTl9XSVRIX0ZBTExCQUNLX01FRElBX1BST1hZX0ZPUkNFOiExLEpPSU5fR0FURVdBWV9UUllfNDQzUE9SVF9EVVJBVElPTjoyZTMsSk9JTl9HQVRFV0FZX1VTRV80NDNQT1JUX09OTFk6ITEsSk9JTl9HQVRFV0FZX1VTRV9EVUFMX0RPTUFJTjohMCxKT0lOX0dBVEVXQVlfRkFMTEJBQ0tfUE9SVDo0NDMsVVNFX1RVUk5fU0VSVkVSX09GX0dBVEVXQVk6ITEsSDI2NF9QUk9GSUxFX0xFVkVMX0lEOlwiXCIsVVNFX05FV19MT0c6ITEsTE9HX1ZFUlNJT046MyxNRURJQV9ERVZJQ0VfQ09OU1RSQUlOVFM6bnVsbCxFTkNSWVBUX1BST1hZX1VTRVJOQU1FX0FORF9QU1c6ITAsU0RQX0xPR0dJTkc6ITEsQ1NQX0RFVEVDVEVEX0hPU1ROQU1FX0xJU1Q6W1wiYWdvcmEuaW9cIixcInNkLXJ0bi5jb21cIl0sUkVNT1RFX0FVRElPX1RSQUNLX1VTRVNfV0VCX0FVRElPOiExLExPQ0FMX0FVRElPX1RSQUNLX1VTRVNfV0VCX0FVRElPOiExLEJJVFJBVEVfQURBUFRFUl9UWVBFOlwiU1RBTkRBUkRfQklUUkFURVwiLEFJX0RFTk9JU0VSX1BBUkFNRVRFUlM6e2V4Y2x1ZGVkTGlua3M6W119LEFESlVTVF8zQV9GUk9NX1BMVUdJTlM6ITAsUkFJU0VfSDI2NF9CQVNFTElORV9QUklPUklUWTohMCxGSUxURVJfU0VORF9IMjY0X0JBU0VMSU5FOiExLFhfR09PR0xFX1NUQVJUX0JJVFJBVEU6dm9pZCAwLE5FV19SRVBPUlRfU0VSVkVSOiExLE5FV19SRVBPUlRfU0VSVkVSX0RPTUFJTlM6W1wiZGF0YS1yZXBvcnRpbmcuYWdvcmEuaW9cIixcImRhdGEtcmVwb3J0aW5nLmFnb3JhLmlvXCJdLFZJREVPX0lOU1BFQ1RfV09SS0VSX01FU1NBR0VfTEVOR1RIX0xJTUlUOjNlNSxWSURFT19JTlNQRUNUX0lOVEVSVkFMX01JTklNVU06MWUzLFZJREVPX0lOU1BFQ1RfUVVBTElUWV9SQVRJTzouOSxWSURFT19JTlNQRUNUX1dPUktFUl9NQU5BR0VSX0hPU1Q6XCJlZGdlLmFnb3JhLmlvXCIsVklERU9fSU5TUEVDVF9XT1JLRVJfTUFOQUdFUl9QT1JUOlwiXCIsVklERU9fSU5TUEVDVF9XT1JLRVJfUE9SVDpcIlwiLFNIT1dfVklERU9fSU5TUEVDVF9XT1JLRVJfTUVTU0FHRTohMSxTVEFUU19DT0xMRUNUT1JfUE9SVDo0NDMsRk9SQ0VfVFVSTl9UQ1A6ITEsV0VCQVVESU9fSU5JVF9PUFRJT05TOnZvaWQgMCxGSUxURVJfVklERU9fRkVDOiEwLEZJTFRFUl9BVURJT19GRUM6ITEsQ0hST01FX0RVQUxfU1RSRUFNX1VTRV9FTkNPRElORzohMCxESVNBQkxFX0RVQUxfU1RSRUFNX1VTRV9FTkNPRElORzohMSxFWFRFTlNJT05fVVNBR0VfVVBMT0FEX0lOVEVSVkFMOjFlNCxJQ0VfUkVTVEFSVDohMCxJQ0VfUkVTVEFSVF9JTlRFUlZBTDoxZTQsTkVXX0lDRV9SRVNUQVJUOiExLFRSQU5TTUlUVEVSX0lOSVRJQUxfUlRUOjMwLFRSQU5TTUlUVEVSX0lOSVRJQUxfUlRPOjMwLFRSQU5TTUlUVEVSX01BWF9CQVRDSF9BQ0tfQ09VTlQ6MixUUkFOU01JVFRFUl9NQVhfUlRPOjUwMCxEQVRBQ0hBTk5FTF9DT01QUkVTUzohMSxGSU5HRVJQUklOVDpudWxsLERDX0pPSU5fV0lUSF9GQUlMQkFDSzo1ZTMsRU5BQkxFX1ZJREVPX0ZSQU1FX0NBTExCQUNLOiEwLFZJREVPX0ZSRUVaRV9EVVJBVElPTjo1MDAsU1BBVElBTElaRVJfUEFSQU1FVEVSUzp7fSxVUExPQURfTE9HX0lOVEVSVkFMOjNlMyxVUExPQURfTE9HX1JFUVVFU1RfUkVUUllfSU5URVJWQUw6MmUzLFVQTE9BRF9MT0dfUkVRVUVTVF9NQVhfUkVUUllfSU5URVJWQUw6MmU0LFVQTE9BRF9MT0dfVFJZX0lOVEVSVkFMX1dISUxFX09GRjo1ZTMsVVBMT0FEX0xPR19SRVRSWV9JTlRFUlZBTF9WMToxZTQsVVBMT0FEX0xPR19UV0lDRV9SRVRSWV9JTlRFUlZBTF9WMToyMDAsVVBMT0FEX0xPR19MRU5HVEhfRUFDSF9USU1FOjEwLEFQUF9UWVBFOjAsRElTQUJMRV9XRUJBVURJTzohMSxDSEFOTkVMX01FRElBX1JFTEFZX1NFUlZFUlM6dm9pZCAwLEtFRVBfTEFTVF9GUkFNRTohMCxGT1JXQVJEX1AyUF9DUkVBVElPTjohMCxTWU5DX0dST1VQOiEwLEJMT0NLX0xPQ0FMX0NMSUVOVDohMSxBUF9BUkVBOiEwLEVOQUJMRV9FTkNPREVEX1RSQU5TRk9STTohMSxFTkFCTEVfVklERU9fU0VJOiExLElNQUdFX01PREVSQVRJT05fV09SS0VSX0hPU1Q6XCJlZGdlLmFnb3JhLmlvXCIsSU1BR0VfTU9ERVJBVElPTl9XT1JLRVJfTUVTU0FHRV9MRU5HVEhfTElNSVQ6M2U1LElNQUdFX01PREVSQVRJT05fSU5URVJWQUxfTUlOSU1VTToxZTMsU0hPV19JTUFHRV9NT0RFUkFUSU9OX1dPUktFUl9NRVNTQUdFOiExLElNQUdFX01PREVSQVRJT05fUVVBTElUWV9SQVRJTzouOSxJTUFHRV9NT0RFUkFUSU9OX1VQTE9BRF9SRVBPUlRfSU5URVJWQUw6NWUzLFNIT1dfR0xPQkFMX0NMSUVOVF9MSVNUOiExLERBVEFTVFJFQU1fTUFYX1JFVFJBTlNNSVRTOjEwLFRDUF9DQU5ESURBVEVfT05MWTohMSxFWFRFUk5BTF9TSUdOQUxfUkVRVUVTVF9USU1FT1VUOjNlMyxTSE9XX1AyUF9MT0c6ITEsTUFYX1AyUF9USU1FT1VUOjNlNCxQMlBfVE9LRU5fSU5URVJWQUw6MWUzLFNIT1dfREFUQVNUUkVBTTJfTE9HOiExLFJFU1RSSUNUSU9OX1NFVF9QTEFZQkFDS19ERVZJQ0U6ITAsVVNFX1BVUkVfRU5DUllQVElPTl9NQVNURVJfS0VZOiExLEFDQ09VTlRfUkVHSVNURVJfUkVUUllfVElNRU9VVDoxLEFDQ09VTlRfUkVHSVNURVJfUkVUUllfUkFUSU86MixBQ0NPVU5UX1JFR0lTVEVSX1JFVFJZX1RJTUVPVVRfTUFYOjZlNCxBQ0NPVU5UX1JFR0lTVEVSX1JFVFJZX0NPVU5UX01BWDoxZTUsQVVESU9fQ09OVEVYVDpudWxsLFdFQkNTX0JBQ0tVUF9DT05ORUNUX1RJTUVPVVQ6NmUzLFBMQVlFUl9TVEFURV9ERUZFUjoyZTMsU0lHTkFMX1JFUVVFU1RfV0FUQ0hfSU5URVJWQUw6MWUzLEZJTEVQQVRIX0xFTk1BWDoyNTUsRFVBTFNUUkVBTV9PUEVSQVRJT05fQ0hFQ0s6ITAsTUVESUFfRUxFTUVOVF9FWElTVFNfREVQVEg6MyxTSElNX0NBTkRJREFURTohMSxMRUFWRV9NU0dfVElNRU9VVDoyZTMsU1RBVFNfRklMVEVSOnt0cmFuc3BvcnRJZDohMCxnb29nVHJhY2tJZDohMH0sRklMVEVSX1ZJREVPX0NPREVDOltdLFVTRV9ORVdfTkVUV09SS19DT05GSUc6ITEsQVVUT19SRVNFVF9BVURJT19ST1VURTohMSxQTFVHSU5fSU5GTzpbXSxPVkVSVVNFX0RFVEVDVE9SX1BBUkFNUzpieSxFTkFCTEVfQUdfQURBUFRBVElPTjohMCxGT1JDRV9BR19ISUdIX0ZSQU1FUkFURTohMSxGT1JDRV9TVVBQT1JUX0FHX0FEQVBUQVRJT046ITEsQ1VTVE9NX0FEQVBUQVRJT05fREVGQVVMVF9NT0RFOlwiXCIsRU5DT0RFUl9DT05GSUdfTElNSVQ6e30sQ0FNRVJBX0NBUFRVUkVfQ09ORklHOnZvaWQgMCxISURFX05PX1BPU1RFUjohMSxBUF9DQUNIRV9OVU06MTAsQVBfVVBEQVRFX0lOVEVSVkFMOjEyZTQsQVBfQ0FDSEVfTElGRVRJTUU6MTJlNCxNQVhfUFJFTE9BRF9BU1lOQ19MRU5HVEg6MyxFTkFCTEVfUFJFTE9BRDohMH0se0VOQUJMRV9QVUJMSVNIRURfVVNFUl9MSVNUOiEwLE1BWF9TVUJTQ1JJUFRJT046NTAsU1VCU0NSSUJFX0FVRElPX0ZJTFRFUl9UT1BOOnZvaWQgMCxFTkFCTEVfUFVCTElTSF9BVURJT19GSUxURVI6dm9pZCAwLEVOQUJMRV9VU0VSX0xJQ0VOU0VfQ0hFQ0s6ITAsVVNFX1BVQl9SVFg6ITAsVVNFX1NVQl9SVFg6ITAsRElTQUJMRV9GRUM6dm9pZCAwLEVOQUJMRV9OVFBfUkVQT1JUOiExLEVOQUJMRV9JTlNUQU5UX1ZJREVPOiExLEVOQUJMRV9EQVRBU1RSRUFNXzI6ITEsRU5BQkxFX1VTRVJfQVVUT19SRUJBTEFOQ0VfQ0hFQ0s6ITAsVVNFX1hSOiEwLEVOQUJMRV9MT1NTQkFTRURfQldFOiEwLEVOQUJMRV9BVVRfQ0M6ITEsRU5BQkxFX0NDX0ZBTExCQUNLOnZvaWQgMCxFTkFCTEVfUFJFQUxMT0NfUEM6ITEsU1VCU0NSSUJFX1RXQ0M6ITAsUFVCTElTSF9UV0NDOiExLEVOQUJMRV9TVkM6ITEsRU5BQkxFX1NWQ19ERUZBVUxUX0NPREVDUzpbXCJIMjY0XCIsXCJWUDhcIixcIlZQOVwiLFwiQVYxXCJdLFNWQzpbXSxFTkFCTEVfRlVMTF9MSU5LX0FWX1NZTkM6ITEsU1ZDX01PREU6bnVsbCxQUkVfU1VCX05VTToyLEVOQUJMRV9QUkVfU1VCOiExLEVOQUJMRV9BVVRfRkVFREJBQ0s6ITF9KSx7fSx7VVNFX0NBTkRJREFURV9GUk9NX0FQX0RFVEFJTDohMX0pO2Z1bmN0aW9uIE55KGUsdCxpKXt2YXIgbixyLG87RG4obj1PYmplY3Qua2V5cyhPeSkpLmNhbGwobixlKSYmKCFpJiZEbihyPU9iamVjdC5rZXlzKFB5KSkuY2FsbChyLGUpfHwoT3lbZV09dCxcIkVOQUJMRV9WSURFT19TRUlcIj09PWUmJiEwPT09dCYmKE95LkVOQUJMRV9FTkNPREVEX1RSQU5TRk9STT0hMCksXCJVU0VfTkVXX05FVFdPUktfQ09ORklHXCI9PT1lJiZ0JiYobz0hIXQsT3kuVVNFX05FV19ORVRXT1JLX0NPTkZJRz1vLG8mJihPeS5XRUJDU19ET01BSU49W1wid2VicnRjMi0yLmFwLnNkLXJ0bi5jb21cIl0sT3kuV0VCQ1NfRE9NQUlOX0JBQ0tVUF9MSVNUPVtcIndlYnJ0YzItNC5hcC5zZC1ydG4uY29tXCJdLE95LkNEU19BUD1bXCJjZHMtd2ViLTIuYXAuc2QtcnRuLmNvbVwiLFwiY2RzLXdlYi00LmFwLnNkLXJ0bi5jb21cIl0sT3kuQUNDT1VOVF9SRUdJU1RFUj1bXCJzdWEtd2ViLTIuYXAuc2QtcnRuLmNvbVwiLFwic3VhLXdlYi00LmFwLnNkLXJ0bi5jb21cIl0sT3kuRVZFTlRfUkVQT1JUX0RPTUFJTj1cIndlYi0yLnN0YXRzY29sbGVjdG9yLnNkLXJ0bi5jb21cIixPeS5FVkVOVF9SRVBPUlRfQkFDS1VQX0RPTUFJTj1cInN0YXRzY29sbGVjdG9yLTEuYWdvcmEuaW9cIixPeS5HQVRFV0FZX0RPTUFJTlM9W1wiZWRnZS5zZC1ydG4uY29tXCJdKSksXCJFTkFCTEVfUFJFX1NVQlwiPT09ZSYmdCYmKE95LkVOQUJMRV9JTlNUQU5UX1ZJREVPPSEwLE95LkVOQUJMRV9QUkVBTExPQ19QQz0hMCksXCJFTkFCTEVfU1ZDXCI9PT1lJiZ0JiYoT3kuRU5BQkxFX0FVVF9DQz0hMCkpKX1mdW5jdGlvbiBEeShlKXtyZXR1cm4gT3lbZV19Y29uc3QgUHk9e307dmFyIEx5PWZ1bmN0aW9uKGUpe3JldHVybiBlLlNFVF9TRVNTSU9OX0lEPVwiU0VUX1NFU1NJT05fSURcIixlLlNFVF9QMlBfSUQ9XCJTRVRfUDJQX2lkXCIsZS5TRVRfRENfSUQ9XCJTRVRfRENfaWRcIixlLlNFVF9VSUQ9XCJTRVRfVUlEXCIsZS5TRVRfSU5UX1VJRD1cIlNFVF9JTlRfVUlEXCIsZS5TRVRfUFVCX0lEPVwiU0VUX1BVQl9JRFwiLGUuU0VUX0NMT1VEX1BST1hZX1NFUlZFUl9NT0RFPVwiU0VUX0NMT1VEX1BST1hZX1NFUlZFUl9NT0RFXCIsZS5LRVlfTUVUUklDX0NMSUVOVF9DUkVBVEVEPVwiS0VZX01FVFJJQ19DTElFTlRfQ1JFQVRFRFwiLGUuS0VZX01FVFJJQ19KT0lOX1NUQVJUPVwiS0VZX01FVFJJQ19KT0lOX1NUQVJUXCIsZS5BVk9JRF9KT0lOX1NUQVJUPVwiQVZPSURfSk9JTl9TVEFSVFwiLGUuS0VZX01FVFJJQ19KT0lOX0VORD1cIktFWV9NRVRSSUNfSk9JTl9FTkRcIixlLktFWV9NRVRSSUNfUkVRVUVTVF9BUF9TVEFSVD1cIktFWV9NRVRSSUNfUkVRVUVTVF9BUF9TVEFSVFwiLGUuS0VZX01FVFJJQ19SRVFVRVNUX0FQX0VORD1cIktFWV9NRVRSSUNfUkVRVUVTVF9BUF9FTkRcIixlLktFWV9NRVRSSUNfSk9JTl9HQVRFV0FZX1NUQVJUPVwiS0VZX01FVFJJQ19KT0lOX0dBVEVXQVlfU1RBUlRcIixlLktFWV9NRVRSSUNfSk9JTl9HQVRFV0FZX0VORD1cIktFWV9NRVRSSUNfSk9JTl9HQVRFV0FZX0VORFwiLGUuS0VZX01FVFJJQ19QRUVSX0NPTk5FQ1RJT05fU1RBUlQ9XCJLRVlfTUVUUklDX1BFRVJfQ09OTkVDVElPTl9TVEFSVFwiLGUuS0VZX01FVFJJQ19QRUVSX0NPTk5FQ1RJT05fRU5EPVwiS0VZX01FVFJJQ19QRUVSX0NPTk5FQ1RJT05fRU5EXCIsZS5LRVlfTUVUUklDX0RFU0NSSVBUSU9OX1NUQVJUPVwiS0VZX01FVFJJQ19ERVNDUklQVElPTl9TVEFSVFwiLGUuS0VZX01FVFJJQ19JQ0VfQ09OTkVDVElPTl9FTkQ9XCJLRVlfTUVUUklDX0lDRV9DT05ORUNUSU9OX0VORFwiLGUuS0VZX01FVFJJQ19TSUdOQUxfQ0hBTk5FTF9PUEVOPVwiS0VZX01FVFJJQ19TSUdOQUxfQ0hBTk5FTF9PUEVOXCIsZS5LRVlfTUVUUklDX1BVQkxJU0g9XCJLRVlfTUVUUklDX1BVQkxJU0hcIixlLktFWV9NRVRSSUNfU1VCU0NSSUJFPVwiS0VZX01FVFJJQ19TVUJTQ1JJQkVcIixlLlJFQ09SRF9KT0lOX0NIQU5ORUxfU0VSVklDRT1cIlJFQ09SRF9KT0lOX0NIQU5ORUxfU0VSVklDRVwiLGUuUkVTRVRfSk9JTl9DSEFOTkVMX1NFUlZJQ0VfUkVDT1JEUz1cIlJFU0VUX0pPSU5fQ0hBTk5FTF9TRVJWSUNFX1JFQ09SRFNcIixlLlJFU0VUX0tFWV9NRVRSSUNTPVwiUkVTRVRfS0VZX01FVFJJQ1NcIixlLlNFVF9VU0VfUDJQPVwiU0VUX1VTRV9QMlBcIixlLlNFVF9UUkFOU1BPUlRfVFlQRT1cIlNFVF9UUkFOU1BPUlRfVFlQRVwiLGV9KEx5fHx7fSk7Y2xhc3Mga3l7Y29uc3RydWN0b3IoZSx0LGksbil7ZXYodGhpcyxcInN0YXRlXCIsdm9pZCAwKSx0aGlzLnN0YXRlPXtjb2RlYzplLGF1ZGlvQ29kZWM6dCxtb2RlOmksY2xpZW50SWQ6bixzZXNzaW9uSWQ6bnVsbCxwMnBJZDowLGRjSWQ6MCxwdWJJZDowLHN1YklkOjAsYXZvaWRKb2luU3RhcnQ6MCxrZXlNZXRyaWNzOntwdWJsaXNoOltdLHN1YnNjcmliZTpbXX0sam9pbkNoYW5uZWxTZXJ2aWNlUmVjb3JkczpbXSxjbG91ZFByb3h5U2VydmVyTW9kZTpcImRpc2FibGVkXCIsdXNlUDJQOiExLHAycFRyYW5zcG9ydDpBeS5EZWZhdWx0fX1kaXNwYXRjaChlKXt0aGlzLnN0YXRlPWZ1bmN0aW9uKGUsdCl7c3dpdGNoKHQudHlwZSl7Y2FzZSBMeS5TRVRfU0VTU0lPTl9JRDpyZXR1cm4gaXYoaXYoe30sZSkse30se3Nlc3Npb25JZDp0LnNlc3Npb25JZH0pO2Nhc2UgTHkuU0VUX1AyUF9JRDpyZXR1cm4gaXYoaXYoe30sZSkse30se3AycElkOnQucDJwSWR9KTtjYXNlIEx5LlNFVF9VSUQ6cmV0dXJuIGl2KGl2KHt9LGUpLHt9LHt1aWQ6dC51aWR9KTtjYXNlIEx5LlNFVF9JTlRfVUlEOnJldHVybiBpdihpdih7fSxlKSx7fSx7aW50VWlkOnQuaW50VWlkfSk7Y2FzZSBMeS5TRVRfUFVCX0lEOnJldHVybiBpdihpdih7fSxlKSx7fSx7cHViSWQ6dC5wdWJJZH0pO2Nhc2UgTHkuS0VZX01FVFJJQ19DTElFTlRfQ1JFQVRFRDpyZXR1cm4gaXYoaXYoe30sZSkse30se2tleU1ldHJpY3M6aXYoaXYoe30sZS5rZXlNZXRyaWNzKSx7fSx7Y2xpZW50Q3JlYXRlZDp0Lm1ldHJpY30pfSk7Y2FzZSBMeS5LRVlfTUVUUklDX0pPSU5fU1RBUlQ6cmV0dXJuIGl2KGl2KHt9LGUpLHt9LHtrZXlNZXRyaWNzOml2KGl2KHt9LGUua2V5TWV0cmljcykse30se2pvaW5TdGFydDp0Lm1ldHJpY30pfSk7Y2FzZSBMeS5BVk9JRF9KT0lOX1NUQVJUOnJldHVybiBpdihpdih7fSxlKSx7fSx7YXZvaWRKb2luU3RhcnQ6dC5hdm9pZEpvaW5TdGFydH0pO2Nhc2UgTHkuS0VZX01FVFJJQ19KT0lOX0VORDpyZXR1cm4gaXYoaXYoe30sZSkse30se2tleU1ldHJpY3M6aXYoaXYoe30sZS5rZXlNZXRyaWNzKSx7fSx7am9pbkVuZDp0Lm1ldHJpY30pfSk7Y2FzZSBMeS5LRVlfTUVUUklDX1JFUVVFU1RfQVBfU1RBUlQ6cmV0dXJuIGl2KGl2KHt9LGUpLHt9LHtrZXlNZXRyaWNzOml2KGl2KHt9LGUua2V5TWV0cmljcykse30se3JlcXVlc3RBUFN0YXJ0OnQubWV0cmljfSl9KTtjYXNlIEx5LktFWV9NRVRSSUNfUkVRVUVTVF9BUF9FTkQ6cmV0dXJuIGl2KGl2KHt9LGUpLHt9LHtrZXlNZXRyaWNzOml2KGl2KHt9LGUua2V5TWV0cmljcykse30se3JlcXVlc3RBUEVuZDp0Lm1ldHJpY30pfSk7Y2FzZSBMeS5LRVlfTUVUUklDX0pPSU5fR0FURVdBWV9TVEFSVDpyZXR1cm4gaXYoaXYoe30sZSkse30se2tleU1ldHJpY3M6aXYoaXYoe30sZS5rZXlNZXRyaWNzKSx7fSx7am9pbkdhdGV3YXlTdGFydDp0Lm1ldHJpY30pfSk7Y2FzZSBMeS5LRVlfTUVUUklDX0pPSU5fR0FURVdBWV9FTkQ6cmV0dXJuIGl2KGl2KHt9LGUpLHt9LHtrZXlNZXRyaWNzOml2KGl2KHt9LGUua2V5TWV0cmljcykse30se2pvaW5HYXRld2F5RW5kOnQubWV0cmljfSl9KTtjYXNlIEx5LktFWV9NRVRSSUNfUEVFUl9DT05ORUNUSU9OX1NUQVJUOnJldHVybiBpdihpdih7fSxlKSx7fSx7a2V5TWV0cmljczppdihpdih7fSxlLmtleU1ldHJpY3MpLHt9LHtwZWVyQ29ubmVjdGlvblN0YXJ0OnQubWV0cmljfSl9KTtjYXNlIEx5LktFWV9NRVRSSUNfUEVFUl9DT05ORUNUSU9OX0VORDpyZXR1cm4gaXYoaXYoe30sZSkse30se2tleU1ldHJpY3M6aXYoaXYoe30sZS5rZXlNZXRyaWNzKSx7fSx7cGVlckNvbm5lY3Rpb25FbmQ6dC5tZXRyaWN9KX0pO2Nhc2UgTHkuS0VZX01FVFJJQ19ERVNDUklQVElPTl9TVEFSVDpyZXR1cm4gaXYoaXYoe30sZSkse30se2tleU1ldHJpY3M6aXYoaXYoe30sZS5rZXlNZXRyaWNzKSx7fSx7ZGVzY3JpcHRpb25TdGFydDp0Lm1ldHJpY30pfSk7Y2FzZSBMeS5LRVlfTUVUUklDX1NJR05BTF9DSEFOTkVMX09QRU46cmV0dXJuIGl2KGl2KHt9LGUpLHt9LHtrZXlNZXRyaWNzOml2KGl2KHt9LGUua2V5TWV0cmljcykse30se3NpZ25hbENoYW5uZWxPcGVuOnQubWV0cmljfSl9KTtjYXNlIEx5LktFWV9NRVRSSUNfSUNFX0NPTk5FQ1RJT05fRU5EOnJldHVybiBpdihpdih7fSxlKSx7fSx7a2V5TWV0cmljczppdihpdih7fSxlLmtleU1ldHJpY3MpLHt9LHtpY2VDb25uZWN0aW9uRW5kOnQubWV0cmljfSl9KTtjYXNlIEx5LktFWV9NRVRSSUNfUFVCTElTSDp7Y29uc3QgaT1lLmtleU1ldHJpY3MucHVibGlzaCxuPWkuZmluZEluZGV4KChlPT5lLnRyYWNrSWQ9PT10Lm1ldHJpYy50cmFja0lkKSk7cmV0dXJuLTEhPT1uPyhpW25dPWl2KGl2KHt9LGlbbl0pLHQubWV0cmljKSxpdihpdih7fSxlKSx7fSx7a2V5TWV0cmljczppdihpdih7fSxlLmtleU1ldHJpY3MpLHt9LHtwdWJsaXNoOlsuLi5pXX0pfSkpOml2KGl2KHt9LGUpLHt9LHtrZXlNZXRyaWNzOml2KGl2KHt9LGUua2V5TWV0cmljcykse30se3B1Ymxpc2g6Wy4uLmUua2V5TWV0cmljcy5wdWJsaXNoLHQubWV0cmljXX0pfSl9Y2FzZSBMeS5LRVlfTUVUUklDX1NVQlNDUklCRTp7Y29uc3QgaT1lLmtleU1ldHJpY3Muc3Vic2NyaWJlLG49aS5maW5kSW5kZXgoKGU9PmUudXNlcklkPT09dC5tZXRyaWMudXNlcklkJiZlLnR5cGU9PT10Lm1ldHJpYy50eXBlKSk7cmV0dXJuLTEhPT1uPyhpW25dPWl2KGl2KHt9LGlbbl0pLHQubWV0cmljKSxpdihpdih7fSxlKSx7fSx7a2V5TWV0cmljczppdihpdih7fSxlLmtleU1ldHJpY3MpLHt9LHtzdWJzY3JpYmU6Wy4uLmldfSl9KSk6aXYoaXYoe30sZSkse30se2tleU1ldHJpY3M6aXYoaXYoe30sZS5rZXlNZXRyaWNzKSx7fSx7c3Vic2NyaWJlOlsuLi5lLmtleU1ldHJpY3Muc3Vic2NyaWJlLHQubWV0cmljXX0pfSl9Y2FzZSBMeS5TRVRfQ0xPVURfUFJPWFlfU0VSVkVSX01PREU6cmV0dXJuIGUuY2xvdWRQcm94eVNlcnZlck1vZGU9dC5tb2RlLGU7Y2FzZSBMeS5SRUNPUkRfSk9JTl9DSEFOTkVMX1NFUlZJQ0U6cmV0dXJuXCJudW1iZXJcIiE9dHlwZW9mIHQuaW5kZXg/ZS5qb2luQ2hhbm5lbFNlcnZpY2VSZWNvcmRzPVsuLi5lLmpvaW5DaGFubmVsU2VydmljZVJlY29yZHMsdC5yZWNvcmRdOihlLmpvaW5DaGFubmVsU2VydmljZVJlY29yZHNbdC5pbmRleF09aXYoaXYoe30sZS5qb2luQ2hhbm5lbFNlcnZpY2VSZWNvcmRzW3QuaW5kZXhdKSx0LnJlY29yZCksZS5qb2luQ2hhbm5lbFNlcnZpY2VSZWNvcmRzPVsuLi5lLmpvaW5DaGFubmVsU2VydmljZVJlY29yZHNdKSxlO2Nhc2UgTHkuUkVTRVRfSk9JTl9DSEFOTkVMX1NFUlZJQ0VfUkVDT1JEUzpyZXR1cm4gZS5qb2luQ2hhbm5lbFNlcnZpY2VSZWNvcmRzPVtdLGU7Y2FzZSBMeS5SRVNFVF9LRVlfTUVUUklDUzpyZXR1cm4gZS5rZXlNZXRyaWNzPXtwdWJsaXNoOltdLHN1YnNjcmliZTpbXX0sZTtjYXNlIEx5LlNFVF9VU0VfUDJQOnJldHVybiBpdihpdih7fSxlKSx7fSx7dXNlUDJQOnQudmFsfSk7Y2FzZSBMeS5TRVRfVFJBTlNQT1JUX1RZUEU6cmV0dXJuIGl2KGl2KHt9LGUpLHt9LHtwMnBUcmFuc3BvcnQ6dC52YWx9KTtkZWZhdWx0OnJldHVybiBlfX0odGhpcy5zdGF0ZSxlKX1zZXQgc2Vzc2lvbklkKGUpe3RoaXMuZGlzcGF0Y2goe3R5cGU6THkuU0VUX1NFU1NJT05fSUQsc2Vzc2lvbklkOmV9KX1nZXQgc2Vzc2lvbklkKCl7cmV0dXJuIHRoaXMuc3RhdGUuc2Vzc2lvbklkfXNldCBjb2RlYyhlKXt0aGlzLnN0YXRlLmNvZGVjPWV9Z2V0IGNvZGVjKCl7cmV0dXJuIHRoaXMuc3RhdGUuY29kZWN9Z2V0IG1vZGUoKXtyZXR1cm4gdGhpcy5zdGF0ZS5tb2RlfWdldCBhdWRpb0NvZGVjKCl7cmV0dXJuIHRoaXMuc3RhdGUuYXVkaW9Db2RlY31nZXQgY2xpZW50SWQoKXtyZXR1cm4gdGhpcy5zdGF0ZS5jbGllbnRJZH1zZXQgcDJwSWQoZSl7dGhpcy5kaXNwYXRjaCh7dHlwZTpMeS5TRVRfUDJQX0lELHAycElkOmV9KX1nZXQgcDJwSWQoKXtyZXR1cm4gdGhpcy5zdGF0ZS5wMnBJZH1zZXQgZGNJZChlKXt0aGlzLmRpc3BhdGNoKHt0eXBlOkx5LlNFVF9EQ19JRCxkY0lkOmV9KX1nZXQgZGNJZCgpe3JldHVybiB0aGlzLnN0YXRlLmRjSWR9c2V0IHVpZChlKXt0aGlzLmRpc3BhdGNoKHt0eXBlOkx5LlNFVF9VSUQsdWlkOmV9KX1nZXQgdWlkKCl7cmV0dXJuIHRoaXMuc3RhdGUudWlkfXNldCBpbnRVaWQoZSl7dGhpcy5kaXNwYXRjaCh7dHlwZTpMeS5TRVRfSU5UX1VJRCxpbnRVaWQ6ZX0pfWdldCBpbnRVaWQoKXtyZXR1cm4gdGhpcy5zdGF0ZS5pbnRVaWR9c2V0IHB1YklkKGUpe3RoaXMuZGlzcGF0Y2goe3R5cGU6THkuU0VUX1BVQl9JRCxwdWJJZDplfSl9Z2V0IHB1YklkKCl7cmV0dXJuIHRoaXMuc3RhdGUucHViSWR9c2V0IGNsb3VkUHJveHlTZXJ2ZXJNb2RlKGUpe3RoaXMuZGlzcGF0Y2goe3R5cGU6THkuU0VUX0NMT1VEX1BST1hZX1NFUlZFUl9NT0RFLG1vZGU6ZX0pfWdldCBjbG91ZFByb3h5U2VydmVyTW9kZSgpe3JldHVybiB0aGlzLnN0YXRlLmNsb3VkUHJveHlTZXJ2ZXJNb2RlfXNldCB1c2VQMlAoZSl7dGhpcy5kaXNwYXRjaCh7dHlwZTpMeS5TRVRfVVNFX1AyUCx2YWw6ZX0pfWdldCB1c2VQMlAoKXtyZXR1cm4gdGhpcy5zdGF0ZS51c2VQMlB9c2V0IHAycFRyYW5zcG9ydChlKXt0aGlzLmRpc3BhdGNoKHt0eXBlOkx5LlNFVF9UUkFOU1BPUlRfVFlQRSx2YWw6ZX0pfWdldCBwMnBUcmFuc3BvcnQoKXtyZXR1cm4gdGhpcy5zdGF0ZS5wMnBUcmFuc3BvcnR9Y2xpZW50Q3JlYXRlZCgpe3RoaXMuZGlzcGF0Y2goe3R5cGU6THkuS0VZX01FVFJJQ19DTElFTlRfQ1JFQVRFRCxtZXRyaWM6RGF0ZS5ub3coKX0pfWpvaW5TdGFydCgpe3RoaXMuZGlzcGF0Y2goe3R5cGU6THkuS0VZX01FVFJJQ19KT0lOX1NUQVJULG1ldHJpYzpEYXRlLm5vdygpfSl9am9pbkVuZCgpe3RoaXMuZGlzcGF0Y2goe3R5cGU6THkuS0VZX01FVFJJQ19KT0lOX0VORCxtZXRyaWM6RGF0ZS5ub3coKX0pfXJlcXVlc3RBUFN0YXJ0KCl7dGhpcy5kaXNwYXRjaCh7dHlwZTpMeS5LRVlfTUVUUklDX1JFUVVFU1RfQVBfU1RBUlQsbWV0cmljOkRhdGUubm93KCl9KX1yZXF1ZXN0QVBFbmQoKXt0aGlzLmRpc3BhdGNoKHt0eXBlOkx5LktFWV9NRVRSSUNfUkVRVUVTVF9BUF9FTkQsbWV0cmljOkRhdGUubm93KCl9KX1qb2luR2F0ZXdheVN0YXJ0KCl7dGhpcy5kaXNwYXRjaCh7dHlwZTpMeS5LRVlfTUVUUklDX0pPSU5fR0FURVdBWV9TVEFSVCxtZXRyaWM6RGF0ZS5ub3coKX0pfWpvaW5HYXRld2F5RW5kKCl7dGhpcy5kaXNwYXRjaCh7dHlwZTpMeS5LRVlfTUVUUklDX0pPSU5fR0FURVdBWV9FTkQsbWV0cmljOkRhdGUubm93KCl9KX1wZWVyQ29ubmVjdGlvblN0YXJ0KCl7dGhpcy5kaXNwYXRjaCh7dHlwZTpMeS5LRVlfTUVUUklDX1BFRVJfQ09OTkVDVElPTl9TVEFSVCxtZXRyaWM6RGF0ZS5ub3coKX0pfXBlZXJDb25uZWN0aW9uRW5kKCl7dGhpcy5kaXNwYXRjaCh7dHlwZTpMeS5LRVlfTUVUUklDX1BFRVJfQ09OTkVDVElPTl9FTkQsbWV0cmljOkRhdGUubm93KCl9KX1kZXNjcmlwdGlvblN0YXJ0KCl7dGhpcy5kaXNwYXRjaCh7dHlwZTpMeS5LRVlfTUVUUklDX0RFU0NSSVBUSU9OX1NUQVJULG1ldHJpYzpEYXRlLm5vdygpfSl9c2lnbmFsQ2hhbm5lbE9wZW4oKXt0aGlzLmRpc3BhdGNoKHt0eXBlOkx5LktFWV9NRVRSSUNfU0lHTkFMX0NIQU5ORUxfT1BFTixtZXRyaWM6RGF0ZS5ub3coKX0pfWljZUNvbm5lY3Rpb25FbmQoKXt0aGlzLmRpc3BhdGNoKHt0eXBlOkx5LktFWV9NRVRSSUNfSUNFX0NPTk5FQ1RJT05fRU5ELG1ldHJpYzpEYXRlLm5vdygpfSl9cHVibGlzaChlLHQsaSxuKXt0aGlzLmRpc3BhdGNoKHt0eXBlOkx5LktFWV9NRVRSSUNfUFVCTElTSCxtZXRyaWM6aXYoaXYoe3RyYWNrSWQ6ZSx0eXBlOnR9LGkmJntwdWJsaXNoU3RhcnQ6aX0pLG4mJntwdWJsaXNoRW5kOm59KX0pfXN1YnNjcmliZShlLHQsaSxuLHIsbyxzKXt0aGlzLmRpc3BhdGNoKHt0eXBlOkx5LktFWV9NRVRSSUNfU1VCU0NSSUJFLG1ldHJpYzppdihpdihpdihpdihpdih7dXNlcklkOmUsdHlwZTp0fSxpJiZ7c3Vic2NyaWJlU3RhcnQ6aX0pLG4mJntzdWJzY3JpYmVFbmQ6bn0pLHImJntmaXJzdEZyYW1lOnJ9KSxvJiZ7c3RyZWFtQWRkZWQ6b30pLHMmJntmaXJzdERlY29kZWQ6c30pfSl9bWFzc1N1YnNjcmliZShlLHQsaSxuKXtlLmZvckVhY2goKGU9Pnt0aGlzLmRpc3BhdGNoKHt0eXBlOkx5LktFWV9NRVRSSUNfU1VCU0NSSUJFLG1ldHJpYzppdihpdihpdih7dXNlcklkOmUudXNlcklkLHR5cGU6ZS50eXBlfSx0JiZ7c3Vic2NyaWJlU3RhcnQ6dH0pLGkmJntzdWJzY3JpYmVFbmQ6aX0pLG4mJntmaXJzdEZyYW1lOm59KX0pfSkpfWdldCBrZXlNZXRyaWNzKCl7cmV0dXJuIHRoaXMuc3RhdGUua2V5TWV0cmljc31yZWNvcmRKb2luQ2hhbm5lbFNlcnZpY2UoZSx0KXtcImdhdGV3YXlcIj09PWUuc2VydmljZSYmQXJyYXkuaXNBcnJheShlLnVybHMpJiYoZS51cmxzPWUudXJscy5tYXAoKGU9PmUucmVwbGFjZSgvKFxcZCspLVxcZCstXFxkKy0oXFxkKykvLFwiJDEtKi0qLSQyXCIpKSkpO3RyeXtyZXR1cm5cIm51bWJlclwiIT10eXBlb2YgdD8odGhpcy5kaXNwYXRjaCh7dHlwZTpMeS5SRUNPUkRfSk9JTl9DSEFOTkVMX1NFUlZJQ0UscmVjb3JkOml2KGl2KHt9LGUpLHt9LHtzZXNzaW9uSWQ6dGhpcy5zZXNzaW9uSWQsY2xvdWRQcm94eU1vZGU6dGhpcy5jbG91ZFByb3h5U2VydmVyTW9kZSx1aWQ6dGhpcy51aWR9KX0pLHRoaXMuc3RhdGUuam9pbkNoYW5uZWxTZXJ2aWNlUmVjb3Jkcy5sZW5ndGgtMSk6KHQ8MHx8dD49dGhpcy5zdGF0ZS5qb2luQ2hhbm5lbFNlcnZpY2VSZWNvcmRzLmxlbmd0aHx8dGhpcy5kaXNwYXRjaCh7dHlwZTpMeS5SRUNPUkRfSk9JTl9DSEFOTkVMX1NFUlZJQ0UscmVjb3JkOmUsaW5kZXg6dH0pLHQpfWNhdGNoKGUpe3JldHVybiAwfX1yZXNldEpvaW5DaGFubmVsU2VydmljZVJlY29yZHMoKXt0aGlzLmRpc3BhdGNoKHt0eXBlOkx5LlJFU0VUX0pPSU5fQ0hBTk5FTF9TRVJWSUNFX1JFQ09SRFN9KX1yZXNldEtleU1ldHJpY3MoKXt0aGlzLmRpc3BhdGNoKHt0eXBlOkx5LlJFU0VUX0tFWV9NRVRSSUNTfSl9Z2V0IGpvaW5DaGFubmVsU2VydmljZVJlY29yZHMoKXt0cnl7cmV0dXJuIHRoaXMuc3RhdGUuam9pbkNoYW5uZWxTZXJ2aWNlUmVjb3Jkc31jYXRjaChlKXtyZXR1cm5bXX19Z2V0IGF2b2lkSm9pblN0YXJ0KCl7cmV0dXJuIHRoaXMuc3RhdGUuYXZvaWRKb2luU3RhcnR9c2V0IGF2b2lkSm9pblN0YXJ0KGUpe3RoaXMuZGlzcGF0Y2goe3R5cGU6THkuQVZPSURfSk9JTl9TVEFSVCxhdm9pZEpvaW5TdGFydDplfSl9fWxldCBNeT1mdW5jdGlvbihlKXtyZXR1cm4gZS5oMjY0PVwiaDI2NFwiLGUuaDI2NT1cImgyNjVcIixlLnZwOD1cInZwOFwiLGUudnA5PVwidnA5XCIsZS5hdjE9XCJhdjFcIixlfSh7fSk7IWZ1bmN0aW9uKGUpe2Uub3B1cz1cIm9wdXNcIixlLnBjbWE9XCJwY21hXCIsZS5wY211PVwicGNtdVwiLGUuZzcyMj1cImc3MjJcIn0oe30pO2NvbnN0IFV5PTEyOCx4eT05NixWeT0xZTMsRnk9MTA7bGV0IEJ5PTA7ZnVuY3Rpb24gankoZSx0LGkpe3JldHVybih0PWZ1bmN0aW9uKGUpe3ZhciB0PWZ1bmN0aW9uKGUsdCl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGV8fCFlKXJldHVybiBlO3ZhciBpPWVbU3ltYm9sLnRvUHJpbWl0aXZlXTtpZih2b2lkIDAhPT1pKXt2YXIgbj1pLmNhbGwoZSxcInN0cmluZ1wiKTtpZihcIm9iamVjdFwiIT10eXBlb2YgbilyZXR1cm4gbjt0aHJvdyBuZXcgVHlwZUVycm9yKFwiQEB0b1ByaW1pdGl2ZSBtdXN0IHJldHVybiBhIHByaW1pdGl2ZSB2YWx1ZS5cIil9cmV0dXJuIFN0cmluZyhlKX0oZSk7cmV0dXJuXCJzeW1ib2xcIj09dHlwZW9mIHQ/dDp0K1wiXCJ9KHQpKWluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6aSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09aSxlfWZ1bmN0aW9uIEd5KGUsdCl7dmFyIGk9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYobj1uLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxpLnB1c2guYXBwbHkoaSxuKX1yZXR1cm4gaX1mdW5jdGlvbiBXeShlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgaT1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9HeShPYmplY3QoaSksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe2p5KGUsdCxpW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKGkpKTpHeShPYmplY3QoaSkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpLHQpKX0pKX1yZXR1cm4gZX1jb25zdCBIeT1uZXcgY2xhc3MgZXh0ZW5kcyBTdntjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksankodGhpcyxcImN1cnJlbnRVcGxvYWRMb2dJRFwiLDApfXJlcG9ydExvZ1VwbG9hZEVycm9yKGUpe2NvbnN0e2Vycm9yUmFuZ2U6dH09ZTt0W3QubGVuZ3RoLTFdJiZ0W3QubGVuZ3RoLTFdPnRoaXMuY3VycmVudFVwbG9hZExvZ0lEJiYodGhpcy5jdXJyZW50VXBsb2FkTG9nSUQ9dFt0Lmxlbmd0aC0xXSx0aGlzLmVtaXQoXCJSRVBPUlRfTE9HX1VQTE9BRFwiLGUpKX19O2NsYXNzIEt5e2NvbnN0cnVjdG9yKGUpe2p5KHRoaXMsXCJsb2dnZXJcIix2b2lkIDApLGp5KHRoaXMsXCJwcmVmaXhMaXN0c1wiLFtdKSx0aGlzLmxvZ2dlcj1lfWRlYnVnKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsdD1uZXcgQXJyYXkoZSksaT0wO2k8ZTtpKyspdFtpXT1hcmd1bWVudHNbaV07dGhpcy5sb2dnZXIuZGVidWcoLi4udGhpcy5wcmVmaXhMaXN0cywuLi50KX1pbmZvKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsdD1uZXcgQXJyYXkoZSksaT0wO2k8ZTtpKyspdFtpXT1hcmd1bWVudHNbaV07dGhpcy5sb2dnZXIuaW5mbyguLi50aGlzLnByZWZpeExpc3RzLC4uLnQpfXdhcm5pbmcoKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCx0PW5ldyBBcnJheShlKSxpPTA7aTxlO2krKyl0W2ldPWFyZ3VtZW50c1tpXTt0aGlzLmxvZ2dlci53YXJuaW5nKC4uLnRoaXMucHJlZml4TGlzdHMsLi4udCl9ZXJyb3IoKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCx0PW5ldyBBcnJheShlKSxpPTA7aTxlO2krKyl0W2ldPWFyZ3VtZW50c1tpXTt0aGlzLmxvZ2dlci5lcnJvciguLi50aGlzLnByZWZpeExpc3RzLC4uLnQpfXByZWZpeChlKXtyZXR1cm4gdGhpcy5wcmVmaXhMaXN0cy5wdXNoKGUpLHRoaXN9cG9wUHJlZml4KCl7cmV0dXJuIHRoaXMucHJlZml4TGlzdHMucG9wKCksdGhpc319ZnVuY3Rpb24gWXkoKXtjb25zdCBlPW5ldyBEYXRlO3JldHVybiBlLnRvVGltZVN0cmluZygpLnNwbGl0KFwiIFwiKVswXStcIjpcIitlLmdldE1pbGxpc2Vjb25kcygpfWZ1bmN0aW9uIHF5KCl7Y29uc3QgZT1uZXcgRGF0ZSx0PS8oKFxcZCs6KXsyfVxcZCspLy5leGVjKChuZXcgRGF0ZSkudG9VVENTdHJpbmcoKSk7cmV0dXJuIHQ/KG51bGw9PXQ/dm9pZCAwOnRbMF0pK1wiOlwiK2UuZ2V0VVRDTWlsbGlzZWNvbmRzKCk6ZS50b1RpbWVTdHJpbmcoKS5zcGxpdChcIiBcIilbMF0rXCI6XCIrZS5nZXRNaWxsaXNlY29uZHMoKX1jb25zdCB6eT17REVCVUc6MCxJTkZPOjEsV0FSTklORzoyLEVSUk9SOjMsTk9ORTo0fSxKeT1EYXRlLm5vdygpLFh5PWU9Pntmb3IoY29uc3QgdCBpbiB6eSlpZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoenksdCkmJnp5W3RdPT09ZSlyZXR1cm4gdDtyZXR1cm5cIkRFRkFVTFRcIn07Y29uc3QgUXk9bmV3IGNsYXNze2NvbnN0cnVjdG9yKCl7ankodGhpcyxcInByb3h5U2VydmVyVVJMXCIsdm9pZCAwKSxqeSh0aGlzLFwibG9nTGV2ZWxcIix6eS5ERUJVRyksankodGhpcyxcInVwbG9hZFN0YXRlXCIsXCJjb2xsZWN0aW5nXCIpLGp5KHRoaXMsXCJ1cGxvYWRMb2dXYWl0aW5nTGlzdFwiLFtdKSxqeSh0aGlzLFwidXBsb2FkTG9nVXBsb2FkaW5nTGlzdFwiLFtdKSxqeSh0aGlzLFwidXBsb2FkRXJyb3JDb3VudFwiLDApLGp5KHRoaXMsXCJjdXJyZW50TG9nSURcIiwwKSxqeSh0aGlzLFwidXJsXCIsdm9pZCAwKSxqeSh0aGlzLFwiZXh0TG9nXCIsKChlLHQpPT57dGhpcy5hcHBlbmRMb2dUb1dhaXRpbmdMaXN0KGUsLi4udCl9KSl9ZGVidWcoKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCx0PW5ldyBBcnJheShlKSxpPTA7aTxlO2krKyl0W2ldPWFyZ3VtZW50c1tpXTtjb25zdCBuPVt6eS5ERUJVR10uY29uY2F0KHQpO3RoaXMubG9nLmFwcGx5KHRoaXMsbil9aW5mbygpe2Zvcih2YXIgZT1hcmd1bWVudHMubGVuZ3RoLHQ9bmV3IEFycmF5KGUpLGk9MDtpPGU7aSsrKXRbaV09YXJndW1lbnRzW2ldO2NvbnN0IG49W3p5LklORk9dLmNvbmNhdCh0KTt0aGlzLmxvZy5hcHBseSh0aGlzLG4pfXdhcm5pbmcoKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCx0PW5ldyBBcnJheShlKSxpPTA7aTxlO2krKyl0W2ldPWFyZ3VtZW50c1tpXTtjb25zdCBuPVt6eS5XQVJOSU5HXS5jb25jYXQodCk7dGhpcy5sb2cuYXBwbHkodGhpcyxuKX13YXJuKCl7dGhpcy53YXJuaW5nKC4uLmFyZ3VtZW50cyl9ZXJyb3IoKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCx0PW5ldyBBcnJheShlKSxpPTA7aTxlO2krKyl0W2ldPWFyZ3VtZW50c1tpXTtjb25zdCBuPVt6eS5FUlJPUl0uY29uY2F0KHQpO3RoaXMubG9nLmFwcGx5KHRoaXMsbil9dXBsb2FkKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsdD1uZXcgQXJyYXkoZSksaT0wO2k8ZTtpKyspdFtpXT1hcmd1bWVudHNbaV07Y29uc3Qgbj1benkuREVCVUddLmNvbmNhdCh0KTt0aGlzLnVwbG9hZExvZy5hcHBseSh0aGlzLG4pfXNldExvZ0xldmVsKGUpe2U9TWF0aC5taW4oTWF0aC5tYXgoMCxlKSw0KSx0aGlzLmxvZ0xldmVsPWV9ZW5hYmxlTG9nVXBsb2FkKCl7TnkoXCJVUExPQURfTE9HXCIsITApfWRpc2FibGVMb2dVcGxvYWQoKXtOeShcIlVQTE9BRF9MT0dcIiwhMSksdGhpcy51cGxvYWRMb2dVcGxvYWRpbmdMaXN0PVtdLHRoaXMudXBsb2FkTG9nV2FpdGluZ0xpc3Q9W119c2V0UHJveHlTZXJ2ZXIoZSl7dGhpcy5wcm94eVNlcnZlclVSTD1lfXByZWZpeChlKXtyZXR1cm4gbmV3IEt5KHRoaXMpLnByZWZpeChlKX1sb2coKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCx0PW5ldyBBcnJheShlKSxpPTA7aTxlO2krKyl0W2ldPWFyZ3VtZW50c1tpXTtpZihEYXRlLm5vdygpLUp5PDEwMClyZXR1cm4gdm9pZCBzZXRUaW1lb3V0KCgoKT0+e3RoaXMubG9nKC4uLnQpfSksRGF0ZS5ub3coKS1KeSk7Y29uc3Qgbj1NYXRoLm1heCgwLE1hdGgubWluKDQsdFswXSkpO2lmKHRbMF09WXkoKStcIiBBZ29yYS1TREsgW1wiLmNvbmNhdChYeShuKSxcIl06XCIpLHRoaXMuYXBwZW5kTG9nVG9XYWl0aW5nTGlzdChuLC4uLnQpLG48dGhpcy5sb2dMZXZlbClyZXR1cm47Y29uc3Qgcj1ZeSgpK1wiICVjQWdvcmEtU0RLIFtcIi5jb25jYXQoWHkobiksXCJdOlwiKTtsZXQgbz1bXTtpZighRHkoXCJVU0VfTkVXX0xPR1wiKSlzd2l0Y2gobil7Y2FzZSB6eS5ERUJVRzpvPVtyLFwiY29sb3I6ICM2NEI1RjY7XCJdLmNvbmNhdCh0LnNsaWNlKDEpKSxjb25zb2xlLmxvZy5hcHBseShjb25zb2xlLG8pO2JyZWFrO2Nhc2UgenkuSU5GTzpvPVtyLFwiY29sb3I6ICMxRTg4RTU7IGZvbnQtd2VpZ2h0OiBib2xkO1wiXS5jb25jYXQodC5zbGljZSgxKSksY29uc29sZS5sb2cuYXBwbHkoY29uc29sZSxvKTticmVhaztjYXNlIHp5LldBUk5JTkc6bz1bcixcImNvbG9yOiAjRkI4QzAwOyBmb250LXdlaWdodDogYm9sZDtcIl0uY29uY2F0KHQuc2xpY2UoMSkpLGNvbnNvbGUud2Fybi5hcHBseShjb25zb2xlLG8pO2JyZWFrO2Nhc2UgenkuRVJST1I6bz1bcixcImNvbG9yOiAjQjAwMDIwOyBmb250LXdlaWdodDogYm9sZDtcIl0uY29uY2F0KHQuc2xpY2UoMSkpLGNvbnNvbGUuZXJyb3IuYXBwbHkoY29uc29sZSxvKX19dXBsb2FkTG9nKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsdD1uZXcgQXJyYXkoZSksaT0wO2k8ZTtpKyspdFtpXT1hcmd1bWVudHNbaV07aWYoRGF0ZS5ub3coKS1KeTwxMDApcmV0dXJuIHZvaWQgc2V0VGltZW91dCgoKCk9Pnt0aGlzLnVwbG9hZExvZyguLi50KX0pLERhdGUubm93KCktSnkpO2NvbnN0IG49TWF0aC5tYXgoMCxNYXRoLm1pbig0LHRbMF0pKTt0WzBdPVl5KCkrXCIgQWdvcmEtU0RLIFtcIi5jb25jYXQoWHkobiksXCJdOlwiKSx0aGlzLmFwcGVuZExvZ1RvV2FpdGluZ0xpc3QobiwuLi50KX1hcHBlbmRMb2dUb1dhaXRpbmdMaXN0KGUpe2lmKCFEeShcIlVQTE9BRF9MT0dcIikpcmV0dXJuO2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLGk9bmV3IEFycmF5KHQ+MT90LTE6MCksbj0xO248dDtuKyspaVtuLTFdPWFyZ3VtZW50c1tuXTtBcnJheS5pc0FycmF5KGlbMF0pP2lbMF1bMF09cXkoKStcIiBBZ29yYS1TREsgW1wiLmNvbmNhdChYeShlKSxcIl06XCIpOmlbMF09cXkoKStcIiBBZ29yYS1TREsgW1wiLmNvbmNhdChYeShlKSxcIl06XCIpO2xldCByPVwiXCI7aS5mb3JFYWNoKChlPT57XCJvYmplY3RcIj09dHlwZW9mIGUmJihlPUpTT04uc3RyaW5naWZ5KGUpKSxyKz1cIlwiLmNvbmNhdChlLFwiIFwiKX0pKSx0aGlzLnVwbG9hZExvZ1dhaXRpbmdMaXN0LnB1c2goe3BheWxvYWRfc3RyOnIsbG9nX2xldmVsOmUsbG9nX2l0ZW1faWQ6dGhpcy5jdXJyZW50TG9nSUQrK30pLFwidXBsb2FkaW5nXCI9PT10aGlzLnVwbG9hZFN0YXRlJiYwPT09dGhpcy51cGxvYWRMb2dVcGxvYWRpbmdMaXN0Lmxlbmd0aCYmdGhpcy51cGxvYWRMb2dJbnRlcnZhbCgpfXN0YXJ0VXBsb2FkKCl7dGhpcy51cGxvYWRTdGF0ZT1cInVwbG9hZGluZ1wiLDA9PT10aGlzLnVwbG9hZExvZ1VwbG9hZGluZ0xpc3QubGVuZ3RoJiZ0aGlzLnVwbG9hZExvZ0ludGVydmFsKCl9YXN5bmMgdXBsb2FkTG9ncygpe2NvbnN0IGU9dGhpcy51cGxvYWRMb2dVcGxvYWRpbmdMaXN0LHQ9e3Nka192ZXJzaW9uOnZ5LHByb2Nlc3NfaWQ6RHkoXCJQUk9DRVNTX0lEXCIpLHBheWxvYWQ6SlNPTi5zdHJpbmdpZnkoZSl9O3JldHVybiBteSgoYXN5bmMoKT0+e2NvbnN0IGU9YXdhaXQgRUkucG9zdCh0aGlzLnVybHx8KHRoaXMucHJveHlTZXJ2ZXJVUkw/XCJodHRwczovL1wiLmNvbmNhdCh0aGlzLnByb3h5U2VydmVyVVJMLFwiL2xzLz9oPVwiKS5jb25jYXQoRHkoXCJMT0dfVVBMT0FEX1NFUlZFUlwiKSxcIiZwPTQ0MyZkPXVwbG9hZC92MVwiKTpcImh0dHBzOi8vXCIuY29uY2F0KER5KFwiTE9HX1VQTE9BRF9TRVJWRVJcIiksXCIvdXBsb2FkL3YxXCIpKSx0LHtyZXNwb25zZVR5cGU6XCJ0ZXh0XCJ9KTtpZihcIk9LXCIhPT1lLmRhdGEpe2NvbnN0IHQ9bmV3IEVycm9yKFwidW5leHBlY3RlZCB1cGxvYWQgbG9nIHJlc3BvbnNlXCIpO3Rocm93IHQucmVzcG9uc2U9ZSx0fX0pLCgoKT0+KHRoaXMudXBsb2FkTG9nVXBsb2FkaW5nTGlzdD1bXSwhMSkpLCh0PT57Y29uc3QgaT17c3RhdHVzOi0xLG1lc3NhZ2U6dC5tZXNzYWdlLGVycm9yUmFuZ2U6ZS5tYXAoKGU9PmUubG9nX2l0ZW1faWQpKX07cmV0dXJuIHQucmVzcG9uc2U/KGkuc3RhdHVzPXQucmVzcG9uc2Uuc3RhdHVzLGkuZGF0YT10LnJlc3BvbnNlLmRhdGEsaS5oZWFkZXJzPXQucmVzcG9uc2UuaGVhZGVycyk6dC5yZXF1ZXN0JiYoaS5zdGF0dXM9dC5yZXF1ZXN0LnN0YXR1cyksSHkucmVwb3J0TG9nVXBsb2FkRXJyb3IoaSksITB9KSx7dGltZW91dDpEeShcIlVQTE9BRF9MT0dfUkVRVUVTVF9SRVRSWV9JTlRFUlZBTFwiKSxtYXhSZXRyeVRpbWVvdXQ6RHkoXCJVUExPQURfTE9HX1JFUVVFU1RfTUFYX1JFVFJZX0lOVEVSVkFMXCIpfSl9dXBsb2FkTG9nSW50ZXJ2YWwoKXswPT09dGhpcy51cGxvYWRMb2dVcGxvYWRpbmdMaXN0Lmxlbmd0aCYmMD09PXRoaXMudXBsb2FkTG9nV2FpdGluZ0xpc3QubGVuZ3RofHwoMD09PXRoaXMudXBsb2FkTG9nVXBsb2FkaW5nTGlzdC5sZW5ndGgmJih0aGlzLnVwbG9hZExvZ1VwbG9hZGluZ0xpc3Q9dGhpcy51cGxvYWRMb2dXYWl0aW5nTGlzdC5zcGxpY2UoMCxEeShcIlVQTE9BRF9MT0dfTEVOR1RIX0VBQ0hfVElNRVwiKSkpLHRoaXMudXBsb2FkTG9ncygpLnRoZW4oKCgpPT57dGhpcy51cGxvYWRFcnJvckNvdW50PTAsdGhpcy51cGxvYWRMb2dXYWl0aW5nTGlzdC5sZW5ndGg+MCYmd2luZG93LnNldFRpbWVvdXQoKCgpPT50aGlzLnVwbG9hZExvZ0ludGVydmFsKCkpLER5KFwiVVBMT0FEX0xPR19JTlRFUlZBTFwiKSl9KSkuY2F0Y2goKGU9Pnt0aGlzLnVwbG9hZEVycm9yQ291bnQrPTEsdGhpcy51cGxvYWRFcnJvckNvdW50PDI/d2luZG93LnNldFRpbWVvdXQoKCgpPT50aGlzLnVwbG9hZExvZ0ludGVydmFsKCkpLER5KFwiVVBMT0FEX0xPR19UV0lDRV9SRVRSWV9JTlRFUlZBTF9WMVwiKSk6d2luZG93LnNldFRpbWVvdXQoKCgpPT50aGlzLnVwbG9hZExvZ0ludGVydmFsKCkpLER5KFwiVVBMT0FEX0xPR19SRVRSWV9JTlRFUlZBTF9WMVwiKSl9KSkpfX07dmFyIFp5O2Z1bmN0aW9uICR5KGUpe3JldHVybiBkdihlLnJlcG9ydElkLFwicGFyYW1zLnJlcG9ydElkXCIsMCwxMDAsITEpLGR2KGUuY2F0ZWdvcnksXCJwYXJhbXMuY2F0ZWdvcnlcIiwwLDEwMCwhMSksZHYoZS5ldmVudCxcInBhcmFtcy5ldmVudFwiLDAsMTAwLCExKSxkdihlLmxhYmVsLFwicGFyYW1zLmxhYmVsXCIsMCwxMDAsITEpLGF2KGUudmFsdWUsXCJwYXJhbXMudmFsdWVcIixOdW1iZXIuTUlOX1NBRkVfSU5URUdFUixOdW1iZXIuTUFYX1NBRkVfSU5URUdFUiwhMSksITB9KFp5PXt9KS5GUkVFPVwiZnJlZVwiLFp5LlVQTE9BRElORz1cInVwbG9hZGluZ1wiLGZ1bmN0aW9uKGUpe2VbZS5NSVNDPTBdPVwiTUlTQ1wiLGVbZS5JTlRFUk5BTF9FVkVOVD0xXT1cIklOVEVSTkFMX0VWRU5UXCIsZVtlLlBVQkxJQ19FVkVOVD0yXT1cIlBVQkxJQ19FVkVOVFwiLGVbZS5XRUJfRVZFTlQ9M109XCJXRUJfRVZFTlRcIixlW2UuSU5URVJOQUxfQVBJPTRdPVwiSU5URVJOQUxfQVBJXCIsZVtlLldFQl9BUEk9NV09XCJXRUJfQVBJXCIsZVtlLlBVQkxJQ19BUEk9Nl09XCJQVUJMSUNfQVBJXCJ9KHt9KTtjb25zdCBlQT17c2lkOlwiXCIsbHRzOjAsc3VjY2VzczpudWxsLGNuYW1lOm51bGwsdWlkOm51bGwscGVlcjpudWxsLGNpZDpudWxsLGVsYXBzZTpudWxsLGV4dGVuZDpudWxsLHZpZDowfTtsZXQgdEE9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuUFVCTElTSD1cInB1Ymxpc2hcIixlLlNVQlNDUklCRT1cInN1YnNjcmliZVwiLGUuV1NfQ09NUFJFU1NPUl9JTklUPVwid3NfY29tcHJlc3Nvcl9pbml0XCIsZS5TRVNTSU9OX0lOSVQ9XCJzZXNzaW9uX2luaXRcIixlLkpPSU5fQ0hPT1NFX1NFUlZFUj1cImpvaW5fY2hvb3NlX3NlcnZlclwiLGUuUkVRX1VTRVJfQUNDT1VOVD1cInJlcV91c2VyX2FjY291bnRcIixlLkpPSU5fR0FURVdBWT1cImpvaW5fZ2F0ZXdheVwiLGUuUkVKT0lOX0dBVEVXQVk9XCJyZWpvaW5fZ2F0ZXdheVwiLGUuU1RSRUFNX1NXSVRDSD1cInN0cmVhbV9zd2l0Y2hcIixlLlJFUVVFU1RfUFJPWFlfV09SS0VSX01BTkFHRVI9XCJyZXF1ZXN0X3Byb3h5X3dvcmtlcl9tYW5hZ2VyXCIsZS5SRVFVRVNUX1BST1hZX0FQUENFTlRFUj1cInJlcXVlc3RfcHJveHlfYXBwY2VudGVyXCIsZS5GSVJTVF9WSURFT19SRUNFSVZFRD1cImZpcnN0X3ZpZGVvX3JlY2VpdmVkXCIsZS5GSVJTVF9BVURJT19SRUNFSVZFRD1cImZpcnN0X2F1ZGlvX3JlY2VpdmVkXCIsZS5GSVJTVF9WSURFT19ERUNPREU9XCJmaXJzdF92aWRlb19kZWNvZGVcIixlLkZJUlNUX0FVRElPX0RFQ09ERT1cImZpcnN0X2F1ZGlvX2RlY29kZVwiLGUuT05fQUREX0FVRElPX1NUUkVBTT1cIm9uX2FkZF9hdWRpb19zdHJlYW1cIixlLk9OX0FERF9WSURFT19TVFJFQU09XCJvbl9hZGRfdmlkZW9fc3RyZWFtXCIsZS5PTl9VUERBVEVfU1RSRUFNPVwib25fdXBkYXRlX3N0cmVhbVwiLGUuT05fUkVNT1ZFX1NUUkVBTT1cIm9uX3JlbW92ZV9zdHJlYW1cIixlLlVTRVJfQU5BTFlUSUNTPVwicmVxX3VzZXJfYW5hbHl0aWNzXCIsZS5QQ19TVEFUUz1cInBjX3N0YXRzXCIsZS5VUERBVEVfUkVNT1RFX1JUUENBUEFCSUxJVElFUz1cInVwZGF0ZV9yZW1vdGVfcnRwQ2FwYWJpbGl0aWVzXCIsZX0oe30pLGlBPWZ1bmN0aW9uKGUpe3JldHVybiBlLlNFU1NJT049XCJpby5hZ29yYS5wYi5XcnRjLlNlc3Npb25cIixlLkpPSU5fQ0hPT1NFX1NFUlZFUj1cImlvLmFnb3JhLnBiLldydGMuSm9pbkNob29zZVNlcnZlclwiLGUuUkVRX1VTRVJfQUNDT1VOVD1cImlvLmFnb3JhLnBiLldydGMuUmVxVXNlckFjY291bnRcIixlLkpPSU5fR0FURVdBWT1cImlvLmFnb3JhLnBiLldydGMuSm9pbkdhdGV3YXlcIixlLlJFX0pPSU5fR0FURVdBWT1cImlvLmFnb3JhLnBiLldydGMuUmVKb2luR2F0ZXdheVwiLGUuUFVCTElTSD1cImlvLmFnb3JhLnBiLldydGMuUHVibGlzaFwiLGUuU1VCU0NSSUJFPVwiaW8uYWdvcmEucGIuV3J0Yy5TdWJzY3JpYmVcIixlLldTX0NPTVBSRVNTT1JfSU5JVD1cImlvLmFnb3JhLnBiLldydGMuV3NDb21wcmVzc29ySW5pdFwiLGUuU1RSRUFNX1NXSVRDSD1cImlvLmFnb3JhLnBiLldydGMuU3RyZWFtU3dpdGNoXCIsZS5BVURJT19TRU5ESU5HX1NUT1BQRUQ9XCJpby5hZ29yYS5wYi5XcnRjLkF1ZGlvU2VuZGluZ1N0b3BwZWRcIixlLlZJREVPX1NFTkRJTkdfU1RPUFBFRD1cImlvLmFnb3JhLnBiLldydGMuVmlkZW9TZW5kaW5nU3RvcHBlZFwiLGUuUkVRVUVTVF9QUk9YWV9BUFBDRU5URVI9XCJpby5hZ29yYS5wYi5XcnRjLlJlcXVlc3RQcm94eUFwcENlbnRlclwiLGUuUkVRVUVTVF9QUk9YWV9XT1JLRVJfTUFOQUdFUj1cImlvLmFnb3JhLnBiLldydGMuUmVxdWVzdFByb3h5V29ya2VyTWFuYWdlclwiLGUuQVBJX0lOVk9LRT1cImlvLmFnb3JhLnBiLldydGMuQXBpSW52b2tlXCIsZS5GSVJTVF9WSURFT19SRUNFSVZFRD1cImlvLmFnb3JhLnBiLldydGMuRmlyc3RWaWRlb1JlY2VpdmVkXCIsZS5GSVJTVF9BVURJT19SRUNFSVZFRD1cImlvLmFnb3JhLnBiLldydGMuRmlyc3RBdWRpb1JlY2VpdmVkXCIsZS5GSVJTVF9WSURFT19ERUNPREU9XCJpby5hZ29yYS5wYi5XcnRjLkZpcnN0VmlkZW9EZWNvZGVcIixlLkZJUlNUX0FVRElPX0RFQ09ERT1cImlvLmFnb3JhLnBiLldydGMuRmlyc3RBdWRpb0RlY29kZVwiLGUuT05fQUREX0FVRElPX1NUUkVBTT1cImlvLmFnb3JhLnBiLldydGMuT25BZGRBdWRpb1N0cmVhbVwiLGUuT05fQUREX1ZJREVPX1NUUkVBTT1cImlvLmFnb3JhLnBiLldydGMuT25BZGRWaWRlb1N0cmVhbVwiLGUuT05fVVBEQVRFX1NUUkVBTT1cImlvLmFnb3JhLnBiLldydGMuT25VcGRhdGVTdHJlYW1cIixlLk9OX1JFTU9WRV9TVFJFQU09XCJpby5hZ29yYS5wYi5XcnRjLk9uUmVtb3ZlU3RyZWFtXCIsZS5KT0lOX0NIQU5ORUxfVElNRU9VVD1cImlvLmFnb3JhLnBiLldydGMuSm9pbkNoYW5uZWxUaW1lb3V0XCIsZS5QRUVSX1BVQkxJU0hfU1RBVFVTPVwiaW8uYWdvcmEucGIuV3J0Yy5QZWVyUHVibGlzaFN0YXR1c1wiLGUuV09SS0VSX0VWRU5UPVwiaW8uYWdvcmEucGIuV3J0Yy5Xb3JrZXJFdmVudFwiLGUuQVBfV09SS0VSX0VWRU5UPVwiaW8uYWdvcmEucGIuV3J0Yy5BUFdvcmtlckV2ZW50XCIsZS5KT0lOX1dFQl9QUk9YWV9BUD1cImlvLmFnb3JhLnBiLldydGMuSm9pbldlYlByb3h5QVBcIixlLldFQlNPQ0tFVF9RVUlUPVwiaW8uYWdvcmEucGIuV3J0Yy5XZWJTb2NrZXRRdWl0XCIsZS5VU0VSX0FOQUxZVElDUz1cImlvLmFnb3JhLnBiLldydGMuVXNlckFuYWx5dGljc1wiLGUuQVVUT1BMQVlfRkFJTEVEPVwiaW8uYWdvcmEucGIuV3J0Yy5BdXRvcGxheUZhaWxlZFwiLGUuUENfU1RBVFM9XCJpby5hZ29yYS5wYi5XcnRjLlBDU3RhdHNcIixlLlVQREFURV9SRU1PVEVfUlRQQ0FQQUJJTElUSUVTPVwiaW8uYWdvcmEucGIuV3J0Yy5VcGRhdGVSZW1vdGVSVFBDYXBhYmlsaXRpZXNcIixlfSh7fSk7IWZ1bmN0aW9uKGUpe2VbZS5XT1JLRVJfRVZFTlQ9MTU2XT1cIldPUktFUl9FVkVOVFwiLGVbZS5BUF9XT1JLRVJfRVZFTlQ9MTYwXT1cIkFQX1dPUktFUl9FVkVOVFwifSh7fSk7bGV0IG5BPWZ1bmN0aW9uKGUpe3JldHVybiBlW2UuU0VTU0lPTj0yNl09XCJTRVNTSU9OXCIsZVtlLkpPSU5fQ0hPT1NFX1NFUlZFUj0yN109XCJKT0lOX0NIT09TRV9TRVJWRVJcIixlW2UuUkVRX1VTRVJfQUNDT1VOVD0xOTZdPVwiUkVRX1VTRVJfQUNDT1VOVFwiLGVbZS5KT0lOX0dBVEVXQVk9MjhdPVwiSk9JTl9HQVRFV0FZXCIsZVtlLlBVQkxJU0g9MzBdPVwiUFVCTElTSFwiLGVbZS5TVUJTQ1JJQkU9MjldPVwiU1VCU0NSSUJFXCIsZVtlLldTX0NPTVBSRVNTT1JfSU5JVD05NDMwXT1cIldTX0NPTVBSRVNTT1JfSU5JVFwiLGVbZS5TVFJFQU1fU1dJVENIPTMyXT1cIlNUUkVBTV9TV0lUQ0hcIixlW2UuQVVESU9fU0VORElOR19TVE9QUEVEPTMzXT1cIkFVRElPX1NFTkRJTkdfU1RPUFBFRFwiLGVbZS5WSURFT19TRU5ESU5HX1NUT1BQRUQ9MzRdPVwiVklERU9fU0VORElOR19TVE9QUEVEXCIsZVtlLlJFUVVFU1RfUFJPWFlfQVBQQ0VOVEVSPTM1XT1cIlJFUVVFU1RfUFJPWFlfQVBQQ0VOVEVSXCIsZVtlLlJFUVVFU1RfUFJPWFlfV09SS0VSX01BTkFHRVI9MzZdPVwiUkVRVUVTVF9QUk9YWV9XT1JLRVJfTUFOQUdFUlwiLGVbZS5BUElfSU5WT0tFPTQxXT1cIkFQSV9JTlZPS0VcIixlW2UuRklSU1RfVklERU9fUkVDRUlWRUQ9MzQ4XT1cIkZJUlNUX1ZJREVPX1JFQ0VJVkVEXCIsZVtlLkZJUlNUX0FVRElPX1JFQ0VJVkVEPTM0OV09XCJGSVJTVF9BVURJT19SRUNFSVZFRFwiLGVbZS5GSVJTVF9WSURFT19ERUNPREU9MzUwXT1cIkZJUlNUX1ZJREVPX0RFQ09ERVwiLGVbZS5GSVJTVF9BVURJT19ERUNPREU9MzUxXT1cIkZJUlNUX0FVRElPX0RFQ09ERVwiLGVbZS5PTl9BRERfQVVESU9fU1RSRUFNPTM1Ml09XCJPTl9BRERfQVVESU9fU1RSRUFNXCIsZVtlLk9OX0FERF9WSURFT19TVFJFQU09MzUzXT1cIk9OX0FERF9WSURFT19TVFJFQU1cIixlW2UuT05fVVBEQVRFX1NUUkVBTT0zNTZdPVwiT05fVVBEQVRFX1NUUkVBTVwiLGVbZS5PTl9SRU1PVkVfU1RSRUFNPTM1NV09XCJPTl9SRU1PVkVfU1RSRUFNXCIsZVtlLkpPSU5fQ0hBTk5FTF9USU1FT1VUPTQwN109XCJKT0lOX0NIQU5ORUxfVElNRU9VVFwiLGVbZS5QRUVSX1BVQkxJU0hfU1RBVFVTPTQwOF09XCJQRUVSX1BVQkxJU0hfU1RBVFVTXCIsZVtlLldPUktFUl9FVkVOVD0xNTZdPVwiV09SS0VSX0VWRU5UXCIsZVtlLkFQX1dPUktFUl9FVkVOVD0xNjBdPVwiQVBfV09SS0VSX0VWRU5UXCIsZVtlLkpPSU5fV0VCX1BST1hZX0FQPTcwMF09XCJKT0lOX1dFQl9QUk9YWV9BUFwiLGVbZS5XRUJTT0NLRVRfUVVJVD02NzFdPVwiV0VCU09DS0VUX1FVSVRcIixlW2UuVVNFUl9BTkFMWVRJQ1M9MWU0XT1cIlVTRVJfQU5BTFlUSUNTXCIsZVtlLkFVVE9QTEFZX0ZBSUxFRD05MTc4XT1cIkFVVE9QTEFZX0ZBSUxFRFwiLGV9KHt9KTtjbGFzcyByQXtjb25zdHJ1Y3Rvcigpe2p5KHRoaXMsXCJiYXNlSW5mb01hcFwiLG5ldyBNYXApLGp5KHRoaXMsXCJwcm94eVNlcnZlclwiLHZvaWQgMCksankodGhpcyxcImV2ZW50VXBsb2FkVGltZXJcIix2b2lkIDApLGp5KHRoaXMsXCJzZXRTZXNzaW9uSWRUaW1lclwiLHZvaWQgMCksankodGhpcyxcInVybFwiLHZvaWQgMCksankodGhpcyxcImJhY2t1cFVybFwiLHZvaWQgMCksankodGhpcyxcIl9hcHBJZFwiLHZvaWQgMCksankodGhpcyxcImtleUV2ZW50VXBsb2FkUGVuZGluZ0l0ZW1zXCIsW10pLGp5KHRoaXMsXCJub3JtYWxFdmVudFVwbG9hZFBlbmRpbmdJdGVtc1wiLFtdKSxqeSh0aGlzLFwiYXBpSW52b2tlVXBsb2FkUGVuZGluZ0l0ZW1zXCIsW10pLGp5KHRoaXMsXCJhcGlJbnZva2VDb3VudFwiLDApLGp5KHRoaXMsXCJsdHNMaXN0XCIsW10pLGp5KHRoaXMsXCJsYXN0U2VuZE5vcm1hbEV2ZW50VGltZVwiLERhdGUubm93KCkpLGp5KHRoaXMsXCJjdXN0b21SZXBvcnRDb3VudGVyVGltZXJcIix2b2lkIDApLGp5KHRoaXMsXCJjdXN0b21SZXBvcnRDb3VudFwiLDApLGp5KHRoaXMsXCJleHRBcGlJbnZva2VcIiwoYXN5bmMgZT0+e2Zvcihjb25zdCB0IG9mIGUpe2NvbnN0IGU9V3koV3koe30sdCkse30se3NpZDpudWxsLGludm9rZUlkOisrdGhpcy5hcGlJbnZva2VDb3VudCx0YWc6SXYuVFJBQ0VSfSk7dGhpcy5zZW5kQXBpSW52b2tlKGUpfX0pKSx0aGlzLmV2ZW50VXBsb2FkVGltZXI9d2luZG93LnNldEludGVydmFsKHRoaXMuZG9TZW5kLmJpbmQodGhpcyksRHkoXCJFVkVOVF9SRVBPUlRfU0VORF9JTlRFUlZBTFwiKSksdGhpcy5zZXRTZXNzaW9uSWRUaW1lcj13aW5kb3cuc2V0SW50ZXJ2YWwodGhpcy5hcHBlbmRTZXNzaW9uSWQuYmluZCh0aGlzKSxEeShcIkVWRU5UX1JFUE9SVF9TRU5EX0lOVEVSVkFMXCIpKX1nZXRCYXNlSW5mb0J5U2Vzc2lvbklkKGUpe3JldHVybiB0aGlzLmJhc2VJbmZvTWFwLmdldChlKX1hZGp1c3RTZXNzaW9uU3RhcnRUaW1lKGUpe2lmKCF0aGlzLmJhc2VJbmZvTWFwLmhhcyhlKSYmIXRoaXMuYmFzZUluZm9NYXAuZ2V0KGUpKXJldHVybiB2b2lkIFF5LmVycm9yKFwiYWRqdXN0IHNlc3Npb24gXCIuY29uY2F0KGUsXCIgc3RhcnQgdGltZSwgc2lkIGlzIG5vdCBleGlzdCBvciBpbmZvIGlzIHVuZGVmaW5lZFwiKSk7Y29uc3QgdD10aGlzLmJhc2VJbmZvTWFwLmdldChlKSxpPURhdGUubm93KCksbj10LnN0YXJ0VGltZTt0LnN0YXJ0VGltZT1pLFF5LmRlYnVnKFwicmV3cml0ZSBzZXNzaW9uIFwiLmNvbmNhdChlLFwiIHN0YXJ0VGltZTogXCIpLmNvbmNhdChpLFwiICwgXCIpLmNvbmNhdChpLW4sXCJtc1wiKSksdGhpcy5iYXNlSW5mb01hcC5zZXQoZSx0KX1zZXRBcHBJZChlKXt0aGlzLl9hcHBJZD1lfXJlcG9ydEFwaUludm9rZShlLHQsaSl7dC50aW1lb3V0PXQudGltZW91dHx8NmU0LHQucmVwb3J0UmVzdWx0PXZvaWQgMD09PXQucmVwb3J0UmVzdWx0fHx0LnJlcG9ydFJlc3VsdDtjb25zdCBuPURhdGUubm93KCk7dGhpcy5hcGlJbnZva2VDb3VudCs9MTtjb25zdCByPXRoaXMuYXBpSW52b2tlQ291bnQsbz0oKT0+KHt0YWc6dC50YWcsaW52b2tlSWQ6cixzaWQ6ZSxuYW1lOnQubmFtZSxhcGlJbnZva2VUaW1lOm4sb3B0aW9uczp0Lm9wdGlvbnMsc3RhdGVzOnQuc3RhdGVzfHxudWxsfSkscz0hIUR5KFwiU0hPV19SRVBPUlRfSU5WT0tFUl9MT0dcIik7cyYmUXkuaW5mbyhcIlwiLmNvbmNhdCh0Lm5hbWUsXCIgc3RhcnRcIiksdC5vcHRpb25zKTtsZXQgYT0hMTskdih0LnRpbWVvdXQpLnRoZW4oKCgpPT57YXx8KHRoaXMuc2VuZEFwaUludm9rZShXeShXeSh7fSxvKCkpLHt9LHtlcnJvcjpudi5BUElfSU5WT0tFX1RJTUVPVVQsc3VjY2VzczohMX0pKSxReS5kZWJ1ZyhcIlwiLmNvbmNhdCh0Lm5hbWUsXCIgdGltZW91dFwiKSkpfSkpO2NvbnN0IGM9bmV3IHJ2KG52LlVORVhQRUNURURfRVJST1IsXCJcIi5jb25jYXQodC5uYW1lLFwiOiB0aGlzIGFwaSBpbnZva2UgaXMgZW5kXCIpKTtyZXR1cm57b25TdWNjZXNzOmU9Pntjb25zdCBuPSgpPT57aWYoYSl0aHJvdyBjO3JldHVybiBhPSEwLHRoaXMuc2VuZEFwaUludm9rZShXeShXeSh7fSxvKCkpLHt9LHtzdWNjZXNzOiEwfSx0LnJlcG9ydFJlc3VsdCYme3Jlc3VsdDplfSkpLHMmJlF5LmluZm8oXCJcIi5jb25jYXQodC5uYW1lLFwiIG9uU3VjY2Vzc1wiKSksZX07cmV0dXJuIGk/cnkobix0Lm5hbWUrXCJTdWNjZXNzXCIsaSwoKCk9PmE9ITApKTpuKCl9LG9uRXJyb3I6ZT0+e2NvbnN0IG49KCk9PntpZihhKXRocm93IGU7YT0hMCx0aGlzLnNlbmRBcGlJbnZva2UoV3koV3koe30sbygpKSx7fSx7c3VjY2VzczohMSxlcnJvcjplfSkpLHMmJlF5LmluZm8oXCJcIi5jb25jYXQodC5uYW1lLFwiIG9uRmFpbHVyZVwiKSxlLnRvU3RyaW5nKCkpfTtyZXR1cm4gaT9yeShuLHQubmFtZStcIkVycm9yXCIsaSwoKCk9PmE9ITApKTpuKCl9fX1zZXNzaW9uSW5pdChlLHQpe2lmKHRoaXMuYmFzZUluZm9NYXAuaGFzKGUpKXJldHVybjtjb25zdCBpPURhdGUubm93KCksbj10aGlzLmNyZWF0ZUJhc2VJbmZvKGUsaSk7bi5jbmFtZT10LmNuYW1lO2NvbnN0IHI9T2JqZWN0LmFzc2lnbih7fSx7d2lsbFVwbG9hZENvbnNvbGVMb2c6RHkoXCJVUExPQURfTE9HXCIpLG1heFRvdWNoUG9pbnRzOm5hdmlnYXRvci5tYXhUb3VjaFBvaW50cyxhcmVhVmVyc2lvbjp5eT9cImdsb2JhbFwiOlwib3ZlcnNlYVwiLGFyZWFzOkR5KFwiQVJFQVNcIikmJkR5KFwiQVJFQVNcIikuam9pbihcIixcIil9LHQuZXh0ZW5kKSx7c3RyaW5nVWlkOm8sY2hhbm5lbFByb2ZpbGU6cyxjaGFubmVsTW9kZTphLGlzQUJUZXN0U3VjY2VzczpjLGxzaWQ6ZCxjbGllbnRSb2xlOmx9PXQsdT1EYXRlLm5vdygpLGg9V3koV3koe30sbikse30se2V2ZW50VHlwZTp0QS5TRVNTSU9OX0lOSVQsYXBwaWQ6dC5hcHBpZCxicm93c2VyOm5hdmlnYXRvci51c2VyQWdlbnQsYnVpbGRGb3JtYXQ6dC5idWlsZEZvcm1hdCxidWlsZDp3eSxsdHM6dSxlbGFwc2U6dS1pLGV4dGVuZDpKU09OLnN0cmluZ2lmeShyKSxtb2RlOnQubW9kZSxwcm9jZXNzOkR5KFwiUFJPQ0VTU19JRFwiKSxhcHBUeXBlOkR5KFwiQVBQX1RZUEVcIiksc3VjY2VzczohMCx2ZXJzaW9uOnZ5LHN0cmluZ1VpZDpvLGNoYW5uZWxQcm9maWxlOnMsY2hhbm5lbE1vZGU6YSxpc0FCVGVzdFN1Y2Nlc3M6Yyxsc2lkOmQsY2xpZW50VHlwZTpEbihwPXdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50KS5jYWxsKHAsXCJBZ29yYVdlYlZpZXdcIik/NDI6MjAsY2xpZW50Um9sZTpsLHNlcnZpY2VJZDpEeShcIlBST0NFU1NfSURcIiksZXh0ZW5zaW9uSUQ6RHkoXCJQTFVHSU5fSU5GT1wiKS5qb2luKFwiLFwiKXx8XCJcIn0pO3ZhciBwO3RoaXMuc2VuZCh7dHlwZTppQS5TRVNTSU9OLGRhdGE6aH0sITApfWpvaW5DaG9vc2VTZXJ2ZXIoZSx0KXtjb25zdCBpPXRoaXMuYmFzZUluZm9NYXAuZ2V0KGUpO2lmKCFpKXJldHVybjtjb25zdCBuPWkuaW5mbyxyPURhdGUubm93KCksbz1XeShXeSh7fSxuKSx7fSx7ZXZlbnRUeXBlOnRBLkpPSU5fQ0hPT1NFX1NFUlZFUixsdHM6cixldmVudEVsYXBzZTp0LmVsYXBzZXx8ci10Lmx0cyxjaG9vc2VTZXJ2ZXJBZGRyOnQuY3NBZGRyLGVycm9yQ29kZTp0LmVjLGVsYXBzZTpyLWkuc3RhcnRUaW1lLHN1Y2Nlc3M6dC5zdWNjLGNob29zZVNlcnZlckFkZHJMaXN0OkpTT04uc3RyaW5naWZ5KHQuc2VydmVyTGlzdCksdWlkOnQudWlkP3BhcnNlSW50KHQudWlkKTpudWxsLGNpZDp0LmNpZD9wYXJzZUludCh0LmNpZCk6bnVsbCxjaG9vc2VTZXJ2ZXJJcDp0LmNzSXB8fFwiXCIsb3BpZDp0Lm9waWQsdW5pbGJzU2VydmVySWRzOnQudW5pbGJzU2VydmVySWRzLGV4dGVuZDp0LmV4dGVuZHx8dm9pZCAwLGlzSHR0cDM6dC5pc0h0dHAzfSk7dGhpcy5zZW5kKHt0eXBlOmlBLkpPSU5fQ0hPT1NFX1NFUlZFUixkYXRhOm99LCEwKX1yZXFVc2VyQWNjb3VudChlLHQpe2NvbnN0IGk9dGhpcy5iYXNlSW5mb01hcC5nZXQoZSk7aWYoIWkpcmV0dXJuO2NvbnN0IG49aS5pbmZvLHI9RGF0ZS5ub3coKSxvPVd5KFd5KHt9LG4pLHt9LHtldmVudFR5cGU6dEEuUkVRX1VTRVJfQUNDT1VOVCxsdHM6cixzdWNjZXNzOnQuc3VjY2VzcyxzZXJ2ZXJBZGRyZXNzOnQuc2VydmVyQWRkcixzdHJpbmdVaWQ6dC5zdHJpbmdVaWQsdWlkOnQudWlkLGVycm9yQ29kZTp0LmVycm9yQ29kZSxlbGFwc2U6dC5lbGFwc2V8fHItaS5zdGFydFRpbWUsZXZlbnRFbGFwc2U6ci10Lmx0cyxleHRlbmQ6SlNPTi5zdHJpbmdpZnkodC5leHRlbmQpfSk7dGhpcy5zZW5kKHt0eXBlOmlBLlJFUV9VU0VSX0FDQ09VTlQsZGF0YTpvfSwhMCl9am9pbkdhdGV3YXkoZSx0KXtjb25zdCBpPXRoaXMuYmFzZUluZm9NYXAuZ2V0KGUpO2lmKCFpKXJldHVybjtjb25zdCBuPWkuaW5mbzt0LnZpZCYmKG4udmlkPXQudmlkKSxuLnVpZD10LnVpZCxuLmNpZD10LmNpZDtjb25zdCByPURhdGUubm93KCkse2ZpcnN0U3VjY2VzczpvLGF2b2lkSm9pblN0YXJ0VGltZTpzfT10LGE9ci0obyYmcz9zOmkuc3RhcnRUaW1lKSxjPVd5KFd5KHt9LG4pLHt9LHtldmVudFR5cGU6dEEuSk9JTl9HQVRFV0FZLGx0czpyLGdhdGV3YXlBZGRyOnQuYWRkcixzdWNjZXNzOnQuc3VjYyxlcnJvckNvZGU6dC5lYyxlcnJvck1zZzp0LmVycm9yTXNnfHxcIlwiLGVsYXBzZTphLGV2ZW50RWxhcHNlOnItdC5sdHMsZmlyc3RTdWNjZXNzOm8sc2lnbmFsQ2hhbm5lbDp0LnNpZ25hbENoYW5uZWwscHJlbG9hZDp0LnByZWxvYWQ/MTowfSk7dC5zdWNjJiYoaS5sYXN0Sm9pblN1Y2Nlc3NUaW1lPXIpLHRoaXMuc2VuZCh7dHlwZTppQS5KT0lOX0dBVEVXQVksZGF0YTpjfSwhMCl9am9pbkNoYW5uZWxUaW1lb3V0KGUsdCl7Y29uc3QgaT10aGlzLmJhc2VJbmZvTWFwLmdldChlKTtpZighaSlyZXR1cm47Y29uc3Qgbj1EYXRlLm5vdygpLHI9V3koV3koe30saS5pbmZvKSx7fSx7bHRzOm4sdGltZW91dDp0LGVsYXBzZTpuLWkuc3RhcnRUaW1lfSk7dGhpcy5zZW5kKHt0eXBlOmlBLkpPSU5fQ0hBTk5FTF9USU1FT1VULGRhdGE6cn0sITApfXB1Ymxpc2goZSx0KXtjb25zdCBpPXRoaXMuYmFzZUluZm9NYXAuZ2V0KGUpO2lmKCFpKXJldHVybjtjb25zdCBuPWkuaW5mbyxyPURhdGUubm93KCksbz1XeShXeSh7fSxuKSx7fSx7ZXZlbnRUeXBlOnRBLlBVQkxJU0gsbHRzOnIsZXZlbnRFbGFwc2U6dC5ldmVudEVsYXBzZSxlbGFwc2U6ci1pLnN0YXJ0VGltZSxzdWNjZXNzOnQuc3VjYyxlcnJvckNvZGU6dC5lYyx2aWRlb05hbWU6dC52aWRlb05hbWUsYXVkaW9OYW1lOnQuYXVkaW9OYW1lLHNjcmVlbk5hbWU6dC5zY3JlZW5OYW1lLHNjcmVlbnNoYXJlOnQuc2NyZWVuc2hhcmUsYXVkaW86dC5hdWRpbyx2aWRlbzp0LnZpZGVvLHAycGlkOnQucDJwaWQscHVibGlzaFJlcXVlc3RpZDp0LnB1Ymxpc2hSZXF1ZXN0aWR9KTt0aGlzLnNlbmQoe3R5cGU6aUEuUFVCTElTSCxkYXRhOm99LCEwKX1zdWJzY3JpYmUoZSx0LGkpe2NvbnN0IG49dGhpcy5iYXNlSW5mb01hcC5nZXQoZSk7aWYoIW4pcmV0dXJuO2NvbnN0IHI9bi5pbmZvLG89RGF0ZS5ub3coKSxzPVd5KFd5KHt9LHIpLHt9LHtldmVudFR5cGU6dEEuU1VCU0NSSUJFLGx0czpvLGV2ZW50RWxhcHNlOnQuZXZlbnRFbGFwc2UsZWxhcHNlOm8tbi5zdGFydFRpbWUsc3VjY2Vzczp0LnN1Y2MsZXJyb3JDb2RlOnQuZWMsdmlkZW86dC52aWRlbyxhdWRpbzp0LmF1ZGlvLHN1YnNjcmliZVJlcXVlc3RpZDp0LnN1YnNjcmliZVJlcXVlc3RpZCxwMnBpZDp0LnAycGlkLHByZVNzcmM6dC5wcmVTc3JjPzE6MH0saSYme2V4dGVuZDpKU09OLnN0cmluZ2lmeSh7aXNNYXNzU3Vic2NyaWJlOiEwfSl9KTtcInN0cmluZ1wiPT10eXBlb2YgdC5wZWVyaWQ/cy5wZWVyU3VpZD10LnBlZXJpZDpzLnBlZXI9dC5wZWVyaWQsdGhpcy5zZW5kKHt0eXBlOmlBLlNVQlNDUklCRSxkYXRhOnN9LCEwKX13c0NvbXByZXNzb3JJbml0KGUpe3ZhciB0O2NvbnN0IGk9Wy4uLmRfKHQ9dGhpcy5iYXNlSW5mb01hcCkuY2FsbCh0KV0sbj1pLmxlbmd0aD9pWzBdOlwiVW5hYmxlVG9HZXRTaWRcIixyPXRoaXMuYmFzZUluZm9NYXAuZ2V0KG4pO2lmKCFyKXJldHVybjtjb25zdCBvPXIuaW5mbyxzPURhdGUubm93KCksYT1XeShXeSh7fSxvKSx7fSx7ZXZlbnRUeXBlOnRBLldTX0NPTVBSRVNTT1JfSU5JVCxsdHM6cyxldmVudEVsYXBzZTplLmV2ZW50RWxhcHNlLGVsYXBzZTpzLXIuc3RhcnRUaW1lLHN0YXR1czplLnN0YXR1cz8xOjJ9KTt0aGlzLnNlbmQoe3R5cGU6aUEuV1NfQ09NUFJFU1NPUl9JTklULGRhdGE6YX0sITApfWZpcnN0UmVtb3RlVmlkZW9EZWNvZGUoZSx0LGksbil7Y29uc3Qgcj10aGlzLmJhc2VJbmZvTWFwLmdldChlKTtpZighcilyZXR1cm47Y29uc3Qgbz1yLmluZm8scz1EYXRlLm5vdygpLGE9V3koV3koV3koe30sbyksbikse30se2VsYXBzZTpzLXIuc3RhcnRUaW1lLGV2ZW50VHlwZTp0LGx0czpzLGZpcnN0RGVjb2RlRnJhbWU6TWF0aC5tYXgoKG4uZmlyc3RGcmFtZXx8cyktci5zdGFydFRpbWUsMCksYXBFbmQ6TWF0aC5tYXgobi5hcEVuZC1yLnN0YXJ0VGltZSwwKSxhcFN0YXJ0Ok1hdGgubWF4KG4uYXBTdGFydC1yLnN0YXJ0VGltZSwwKSxqb2luR3dFbmQ6TWF0aC5tYXgobi5qb2luR3dFbmQtci5zdGFydFRpbWUsMCksam9pbkd3U3RhcnQ6TWF0aC5tYXgobi5qb2luR3dTdGFydC1yLnN0YXJ0VGltZSwwKSxwY0VuZDpNYXRoLm1heChuLnBjRW5kLXIuc3RhcnRUaW1lLDApLHBjU3RhcnQ6TWF0aC5tYXgobi5wY1N0YXJ0LXIuc3RhcnRUaW1lLDApLHN1YnNjcmliZXJFbmQ6TWF0aC5tYXgobi5zdWJzY3JpYmVyRW5kLXIuc3RhcnRUaW1lLDApLHN1YnNjcmliZXJTdGFydDpNYXRoLm1heChuLnN1YnNjcmliZXJTdGFydC1yLnN0YXJ0VGltZSwwKSx2aWRlb0FkZE5vdGlmeTpNYXRoLm1heChuLnZpZGVvQWRkTm90aWZ5LXIuc3RhcnRUaW1lLDApfSk7dGhpcy5zZW5kKHt0eXBlOmksZGF0YTphfSwhMCl9Zmlyc3RSZW1vdGVGcmFtZShlLHQsaSxuKXtjb25zdCByPXRoaXMuYmFzZUluZm9NYXAuZ2V0KGUpO2lmKCFyKXJldHVybjtjb25zdCBvPXIuaW5mbyxzPURhdGUubm93KCksYT1XeShXeShXeSh7fSxvKSxuKSx7fSx7ZWxhcHNlOnMtci5zdGFydFRpbWUsZXZlbnRUeXBlOnQsbHRzOnN9KTt0aGlzLnNlbmQoe3R5cGU6aSxkYXRhOmF9LCEwKX1wY1N0YXRzKGUsdCl7Y29uc3QgaT10aGlzLmJhc2VJbmZvTWFwLmdldChlKTtpZighaSlyZXR1cm47Y29uc3Qgbj1pLmluZm8scj1EYXRlLm5vdygpLG89V3koV3koV3koe30sbiksdCkse30se3ZpZDp2b2lkIDA9PT1uLnZpZD8wOk51bWJlcihuLnZpZCksZWxhcHNlOnItaS5zdGFydFRpbWUsZXZlbnRUeXBlOnRBLlBDX1NUQVRTLGx0czpyLHByZWFsbG9jYXRpb246dC5wcmVhbGxvY2F0aW9uPzE6MH0pO3RoaXMuc2VuZCh7dHlwZTppQS5QQ19TVEFUUyxkYXRhOm99LCEwKX11cGRhdGVSZW1vdGVSVFBDYXBhYmlsaXRpZXMoZSx0KXtpZihlKXtjb25zdCBpPXRoaXMuYmFzZUluZm9NYXAuZ2V0KGUpO2lmKCFpKXJldHVybjtjb25zdCBuPWkuaW5mbyxyPURhdGUubm93KCksbz1XeShXeShXeSh7fSxuKSx0KSx7fSx7dmlkOnZvaWQgMD09PW4udmlkPzA6TnVtYmVyKG4udmlkKSxldmVudFR5cGU6dEEuVVBEQVRFX1JFTU9URV9SVFBDQVBBQklMSVRJRVMsbHRzOnJ9KTt0aGlzLnNlbmQoe3R5cGU6aUEuVVBEQVRFX1JFTU9URV9SVFBDQVBBQklMSVRJRVMsZGF0YTpvfSwhMCl9fW9uR2F0ZXdheVN0cmVhbShlLHQsaSxuKXtjb25zdCByPXRoaXMuYmFzZUluZm9NYXAuZ2V0KGUpO2lmKCFyKXJldHVybjtjb25zdCBvPXIuaW5mbyxzPURhdGUubm93KCksYT1XeShXeShXeSh7fSxvKSxuKSx7fSx7ZXZlbnRUeXBlOnQsbHRzOnN9KTt0aGlzLnNlbmQoe3R5cGU6aSxkYXRhOmF9LCEwKX1zdHJlYW1Td2l0Y2goZSx0KXtjb25zdCBpPXRoaXMuYmFzZUluZm9NYXAuZ2V0KGUpO2lmKCFpKXJldHVybjtjb25zdCBuPWkuaW5mbyxyPURhdGUubm93KCksbz1XeShXeSh7fSxuKSx7fSx7ZXZlbnRUeXBlOnRBLlNUUkVBTV9TV0lUQ0gsbHRzOnIsaXNEdWFsOnQuaXNkdWFsLGVsYXBzZTpyLWkuc3RhcnRUaW1lLHN1Y2Nlc3M6dC5zdWNjfSk7dGhpcy5zZW5kKHt0eXBlOmlBLlNUUkVBTV9TV0lUQ0gsZGF0YTpvfSwhMCl9cmVxdWVzdFByb3h5QXBwQ2VudGVyKGUsdCl7Y29uc3QgaT10aGlzLmJhc2VJbmZvTWFwLmdldChlKTtpZighaSlyZXR1cm47Y29uc3Qgbj1pLmluZm8scj1EYXRlLm5vdygpLG89V3koV3koe30sbikse30se2V2ZW50VHlwZTp0QS5SRVFVRVNUX1BST1hZX0FQUENFTlRFUixsdHM6cixldmVudEVsYXBzZTpyLXQubHRzLGVsYXBzZTpyLWkuc3RhcnRUaW1lLEFQQWRkcjp0LkFQQWRkcix3b3JrZXJNYW5hZ2VyTGlzdDp0Lndvcmtlck1hbmFnZXJMaXN0LHJlc3BvbnNlOnQucmVzcG9uc2UsZXJyb3JDb2RlOnQuZWMsc3VjY2Vzczp0LnN1Y2N9KTt0aGlzLnNlbmQoe3R5cGU6aUEuUkVRVUVTVF9QUk9YWV9BUFBDRU5URVIsZGF0YTpvfSwhMCl9cmVxdWVzdFByb3h5V29ya2VyTWFuYWdlcihlLHQpe2NvbnN0IGk9dGhpcy5iYXNlSW5mb01hcC5nZXQoZSk7aWYoIWkpcmV0dXJuO2NvbnN0IG49aS5pbmZvLHI9RGF0ZS5ub3coKSxvPVd5KFd5KHt9LG4pLHt9LHtldmVudFR5cGU6dEEuUkVRVUVTVF9QUk9YWV9XT1JLRVJfTUFOQUdFUixsdHM6cixldmVudEVsYXBzZTpyLXQubHRzLGVsYXBzZTpyLWkuc3RhcnRUaW1lLHdvcmtlck1hbmFnZXJBZGRyOnQud29ya2VyTWFuYWdlckFkZHIscmVzcG9uc2U6dC5yZXNwb25zZSxlcnJvckNvZGU6dC5lYyxzdWNjZXNzOnQuc3VjY30pO3RoaXMuc2VuZCh7dHlwZTppQS5SRVFVRVNUX1BST1hZX1dPUktFUl9NQU5BR0VSLGRhdGE6b30sITApfXNldFByb3h5U2VydmVyKGUpe3RoaXMucHJveHlTZXJ2ZXI9ZSxlP1F5LmRlYnVnKFwicmVwb3J0UHJveHlTZXJ2ZXJ1cmw6IFwiLmNvbmNhdChlKSk6UXkuZGVidWcoXCJkaXNhYmxlIHJlcG9ydFByb3h5U2VydmVydXJsOiBcIi5jb25jYXQoZSkpfXBlZXJQdWJsaXNoU3RhdHVzKGUsdCl7Y29uc3QgaT10aGlzLmJhc2VJbmZvTWFwLmdldChlKTtpZighaSlyZXR1cm47Y29uc3Qgbj1pLmluZm8scj1EYXRlLm5vdygpLG89V3koV3koe30sbikse30se3N1YnNjcmliZUVsYXBzZTp0LnN1YnNjcmliZUVsYXBzZSxwZWVyOnQucGVlcixwZWVyUHVibGlzaER1cmF0aW9uOk1hdGgubWF4KHQuYXVkaW9QdWJsaXNoRHVyYXRpb24sdC52aWRlb1B1Ymxpc2hEdXJhdGlvbiksYXVkaW90YWc6dC5hdWRpb1B1Ymxpc2hEdXJhdGlvbj4wPzE6LTEsdmlkZW90YWc6dC52aWRlb1B1Ymxpc2hEdXJhdGlvbj4wPzE6LTEsbHRzOnIsZWxhcHNlOnItaS5zdGFydFRpbWUsam9pbkNoYW5uZWxTdWNjZXNzRWxhcHNlOnItKGkubGFzdEpvaW5TdWNjZXNzVGltZXx8cikscGVlclB1Ymxpc2hEdXJhdGlvblZpZGVvOnQudmlkZW9QdWJsaXNoRHVyYXRpb24scGVlclB1Ymxpc2hEdXJhdGlvbkF1ZGlvOnQuYXVkaW9QdWJsaXNoRHVyYXRpb259KTt0aGlzLnNlbmQoe3R5cGU6aUEuUEVFUl9QVUJMSVNIX1NUQVRVUyxkYXRhOm99LCEwKX13b3JrZXJFdmVudChlLHQpe2NvbnN0IGk9dGhpcy5iYXNlSW5mb01hcC5nZXQoZSk7aWYoIWkpcmV0dXJuO2NvbnN0IG49aS5pbmZvLHI9RGF0ZS5ub3coKTsoZnVuY3Rpb24oZSx0LGkpe2NvbnN0IG49ZVt0XTtpZighbnx8XCJzdHJpbmdcIiE9dHlwZW9mIG4pcmV0dXJuW2VdO2VbdF09XCJcIjtjb25zdCByPVh2KEpTT04uc3RyaW5naWZ5KGUpKTtsZXQgbz0wO2NvbnN0IHM9W107bGV0IGE9MDtmb3IobGV0IGM9MDtjPG4ubGVuZ3RoO2MrKylhKz1uLmNoYXJDb2RlQXQoYyk8PTEyNz8xOjMsYTw9aS1yfHwoc1tzLmxlbmd0aF09aXYoaXYoe30sZSkse30se1t0XTpuLnN1YnN0cmluZyhvLGMpfSksbz1jLGE9bi5jaGFyQ29kZUF0KGMpPD0xMjc/MTozKTtyZXR1cm4gbyE9PW4ubGVuZ3RoLTEmJihzW3MubGVuZ3RoXT1pdihpdih7fSxlKSx7fSx7W3RdOm4uc3Vic3RyaW5nKG8pfSkpLHN9KShXeShXeShXeSh7fSxuKSx0KSx7fSx7ZWxhcHNlOnItaS5zdGFydFRpbWUsbHRzOnIscHJvZHVjdFR5cGU6XCJXZWJSVENcIn0pLFwicGF5bG9hZFwiLDEzMDApLmZvckVhY2goKGU9PnRoaXMuc2VuZCh7dHlwZTppQS5XT1JLRVJfRVZFTlQsZGF0YTplfSwhMCkpKX1hcHdvcmtlckV2ZW50KGUsdCl7Y29uc3QgaT10aGlzLmJhc2VJbmZvTWFwLmdldChlKTtpZighaSlyZXR1cm47Y29uc3Qgbj1pLmluZm8scj1EYXRlLm5vdygpLG89V3koV3koV3koe30sbiksdCkse30se2VsYXBzZTpyLWkuc3RhcnRUaW1lLGx0czpyfSk7dGhpcy5zZW5kKHt0eXBlOmlBLkFQX1dPUktFUl9FVkVOVCxkYXRhOm99LCEwKX1qb2luV2ViUHJveHlBUChlLHQpe2NvbnN0IGk9dGhpcy5iYXNlSW5mb01hcC5nZXQoZSk7aWYoIWkpcmV0dXJuO2NvbnN0IG49aS5pbmZvLHI9RGF0ZS5ub3coKSxvPVd5KFd5KFd5KHt9LG4pLHQpLHt9LHtlbGFwc2U6ci1pLnN0YXJ0VGltZSxsdHM6cixleHRlbmQ6dC5leHRlbmR8fHZvaWQgMH0pO3RoaXMuc2VuZCh7dHlwZTppQS5KT0lOX1dFQl9QUk9YWV9BUCxkYXRhOm99LCEwKX1XZWJTb2NrZXRRdWl0KGUsdCl7Y29uc3QgaT10aGlzLmJhc2VJbmZvTWFwLmdldChlKTtpZighaSlyZXR1cm47Y29uc3Qgbj1pLmluZm8scj1EYXRlLm5vdygpLG89V3koV3koV3koe30sbiksdCkse30se2VsYXBzZTpyLWkuc3RhcnRUaW1lLGx0czpyfSk7dGhpcy5zZW5kKHt0eXBlOmlBLldFQlNPQ0tFVF9RVUlULGRhdGE6b30sITApfWFzeW5jIHNlbmRDdXN0b21SZXBvcnRNZXNzYWdlKGUsdCl7aWYodGhpcy5jdXN0b21SZXBvcnRDb3VudCs9dC5sZW5ndGgsdGhpcy5jdXN0b21SZXBvcnRDb3VudD5EeShcIkNVU1RPTV9SRVBPUlRfTElNSVRcIikpdGhyb3cgbmV3IHJ2KG52LkNVU1RPTV9SRVBPUlRfRlJFUVVFTkNZX1RPT19ISUdIKTt0aGlzLmN1c3RvbVJlcG9ydENvdW50ZXJUaW1lcnx8KHRoaXMuY3VzdG9tUmVwb3J0Q291bnRlclRpbWVyPXdpbmRvdy5zZXRJbnRlcnZhbCgoKCk9Pnt0aGlzLmN1c3RvbVJlcG9ydENvdW50PTB9KSw1ZTMpKTtjb25zdCBpPURhdGUubm93KCksbj10Lm1hcCgodD0+KHt0eXBlOmlBLlVTRVJfQU5BTFlUSUNTLGRhdGE6V3koV3koe3NpZDplfSx0KSx7fSx7bHRzOml9KX0pKSk7dHJ5e0R5KFwiTkVXX1JFUE9SVF9TRVJWRVJcIik/YXdhaXQgdGhpcy5wb3N0RGF0YVRvU3RhdHNDb2xsZWN0b3IyKG4pOmF3YWl0IHRoaXMucG9zdERhdGFUb1N0YXRzQ29sbGVjdG9yKG4pfWNhdGNoKGUpe3Rocm93IFF5LmVycm9yKFwic2VuZCBjdXN0b20gcmVwb3J0IG1lc3NhZ2UgZmFpbGVkXCIsZS50b1N0cmluZygpKSxuZXcgcnYobnYuQ1VTVE9NX1JFUE9SVF9TRU5EX0ZBSUxFRCxlLm1lc3NhZ2UpfX1zZW5kQXBpSW52b2tlKGUpe2NvbnN0IHQ9RHkoXCJOT1RfUkVQT1JUX0VWRU5UXCIpO2lmKGUudGFnJiZEbih0KSYmRG4odCkuY2FsbCh0LGUudGFnKSlyZXR1cm4hMTtpZihudWxsPT09ZS5zaWQpcmV0dXJuIHRoaXMuYXBpSW52b2tlVXBsb2FkUGVuZGluZ0l0ZW1zLnB1c2goZSksITE7Y29uc3QgaT10aGlzLmJhc2VJbmZvTWFwLmdldChlLnNpZCk7aWYoIWkpcmV0dXJuIHRoaXMuYXBpSW52b2tlVXBsb2FkUGVuZGluZ0l0ZW1zLnB1c2goZSksITE7Y29uc3R7Y25hbWU6bix1aWQ6cixjaWQ6b309aS5pbmZvO2xldCBzO2lmKGUubHRzPWUubHRzfHxEYXRlLm5vdygpLGUuZXJyb3IpaWYoZS5lcnJvciBpbnN0YW5jZW9mIHJ2KXtjb25zdHtjb2RlOnQsbWVzc2FnZTppfT1lLmVycm9yO3M9dHx8aXx8ZS5lcnJvci50b1N0cmluZygpfWVsc2Ugcz1lLmVycm9yLnRvU3RyaW5nKCk7Y29uc3QgYT17aW52b2tlSWQ6ZS5pbnZva2VJZCxzaWQ6ZS5zaWQsY25hbWU6bixjaWQ6byx1aWQ6cixsdHM6ZS5sdHMsc3VjY2VzczplLnN1Y2Nlc3MsZWxhcHNlOmUubHRzLWkuc3RhcnRUaW1lLGV4ZWNFbGFwc2U6ZS5sdHMtZS5hcGlJbnZva2VUaW1lLGFwaU5hbWU6ZS5uYW1lLG9wdGlvbnM6ZS5vcHRpb25zP0pTT04uc3RyaW5naWZ5KGUub3B0aW9ucyk6dm9pZCAwLGV4ZWNTdGF0ZXM6ZS5zdGF0ZXM/SlNPTi5zdHJpbmdpZnkoZS5zdGF0ZXMpOnZvaWQgMCxleGVjUmVzdWx0OmUucmVzdWx0P0pTT04uc3RyaW5naWZ5KGUucmVzdWx0KTp2b2lkIDAsZXJyb3JDb2RlOmUuZXJyb3I/czp2b2lkIDAsZXJyb3JNc2c6ZS5lcnJvcj9KU09OLnN0cmluZ2lmeShlLmVycm9yKTp2b2lkIDB9O3JldHVybiB0aGlzLnNlbmQoe3R5cGU6aUEuQVBJX0lOVk9LRSxkYXRhOmF9LCExKSwhMH1hcHBlbmRTZXNzaW9uSWQoKXtyQS5fX0NMSUVOVF9MSVNUX18uZm9yRWFjaCgoZT0+e2lmKGUuX3Nlc3Npb25JZCl7Y29uc3QgdD10aGlzLmFwaUludm9rZVVwbG9hZFBlbmRpbmdJdGVtcy5sZW5ndGg7Zm9yKGxldCBpPTA7aTx0O2krKyl7Y29uc3QgdD10aGlzLmFwaUludm9rZVVwbG9hZFBlbmRpbmdJdGVtcy5zaGlmdCgpO3QmJih0LnNpZD1lLl9zZXNzaW9uSWQsdGhpcy5zZW5kQXBpSW52b2tlKE9iamVjdC5hc3NpZ24oe30sdCkpKX19fSkpfXNlbmQoZSx0KXtpZih0KXJldHVybiB0aGlzLmtleUV2ZW50VXBsb2FkUGVuZGluZ0l0ZW1zLnB1c2goZSksdm9pZCB0aGlzLnNlbmRJdGVtcyh0aGlzLmtleUV2ZW50VXBsb2FkUGVuZGluZ0l0ZW1zLCEwKTt0aGlzLm5vcm1hbEV2ZW50VXBsb2FkUGVuZGluZ0l0ZW1zLnB1c2goZSksdGhpcy5ub3JtYWxFdmVudFVwbG9hZFBlbmRpbmdJdGVtcy5sZW5ndGg+RHkoXCJOT1JNQUxfRVZFTlRfUVVFVUVfQ0FQQUNJVFlcIikmJnRoaXMubm9ybWFsRXZlbnRVcGxvYWRQZW5kaW5nSXRlbXMuc3BsaWNlKDAsMSksdGhpcy5ub3JtYWxFdmVudFVwbG9hZFBlbmRpbmdJdGVtcy5sZW5ndGg+PTEwJiZ0aGlzLnNlbmRJdGVtcyh0aGlzLm5vcm1hbEV2ZW50VXBsb2FkUGVuZGluZ0l0ZW1zLCExKX1kb1NlbmQoKXt0aGlzLmtleUV2ZW50VXBsb2FkUGVuZGluZ0l0ZW1zLmxlbmd0aD4wJiZ0aGlzLnNlbmRJdGVtcyh0aGlzLmtleUV2ZW50VXBsb2FkUGVuZGluZ0l0ZW1zLCEwKSx0aGlzLm5vcm1hbEV2ZW50VXBsb2FkUGVuZGluZ0l0ZW1zLmxlbmd0aD4wJiZEYXRlLm5vdygpLXRoaXMubGFzdFNlbmROb3JtYWxFdmVudFRpbWU+PTVlMyYmdGhpcy5zZW5kSXRlbXModGhpcy5ub3JtYWxFdmVudFVwbG9hZFBlbmRpbmdJdGVtcywhMSl9c2VuZEl0ZW1zKGUsdCl7Y29uc3QgaT1bXSxuPVtdO2Zvcig7ZS5sZW5ndGg7KXtjb25zdCB0PWUuc2hpZnQoKTtpLmxlbmd0aDwyMD9pLnB1c2godCk6bi5wdXNoKHQpfWUucHVzaCguLi5uKTtmb3IoY29uc3QgZSBvZlsuLi5pXSl7dmFyIHI7LTEhPT10aGlzLmx0c0xpc3QuaW5kZXhPZihlLmRhdGEubHRzKT8oZS5kYXRhLmx0cz10aGlzLmx0c0xpc3RbdGhpcy5sdHNMaXN0Lmxlbmd0aC0xXSsxLHRoaXMubHRzTGlzdC5wdXNoKGUuZGF0YS5sdHMpKToodGhpcy5sdHNMaXN0LnB1c2goZS5kYXRhLmx0cyksYUUocj10aGlzLmx0c0xpc3QpLmNhbGwociwoKGUsdCk9PmUtdCkpKX1yZXR1cm4gdHx8KHRoaXMubGFzdFNlbmROb3JtYWxFdmVudFRpbWU9RGF0ZS5ub3coKSksRHkoXCJFTkFCTEVfRVZFTlRfUkVQT1JUXCIpPyhpLmxlbmd0aCYmKER5KFwiTkVXX1JFUE9SVF9TRVJWRVJcIik/dGhpcy5wb3N0RGF0YVRvU3RhdHNDb2xsZWN0b3IyKGkpOnRoaXMucG9zdERhdGFUb1N0YXRzQ29sbGVjdG9yKGkpKS5jYXRjaCgoZT0+aT0+e0R5KFwiRVZFTlRfUkVQT1JUX1JFVFJZXCIpJiYodD90aGlzLmtleUV2ZW50VXBsb2FkUGVuZGluZ0l0ZW1zPXRoaXMua2V5RXZlbnRVcGxvYWRQZW5kaW5nSXRlbXMuY29uY2F0KGUpOih0aGlzLm5vcm1hbEV2ZW50VXBsb2FkUGVuZGluZ0l0ZW1zPXRoaXMubm9ybWFsRXZlbnRVcGxvYWRQZW5kaW5nSXRlbXMuY29uY2F0KGUpLHRoaXMubm9ybWFsRXZlbnRVcGxvYWRQZW5kaW5nSXRlbXMubGVuZ3RoPkR5KFwiTk9STUFMX0VWRU5UX1FVRVVFX0NBUEFDSVRZXCIpJiYodGhpcy5ub3JtYWxFdmVudFVwbG9hZFBlbmRpbmdJdGVtcy5zcGxpY2UoMCx0aGlzLm5vcm1hbEV2ZW50VXBsb2FkUGVuZGluZ0l0ZW1zLmxlbmd0aC1EeShcIk5PUk1BTF9FVkVOVF9RVUVVRV9DQVBBQ0lUWVwiKSksUXkud2FybmluZyhcInJlcG9ydDogZHJvcCBub3JtYWwgZXZlbnRzXCIpKSkpfSkoaSkpLGUpOmV9YXN5bmMgcG9zdERhdGFUb1N0YXRzQ29sbGVjdG9yMihlKXtWdi5uZXR3b3JrU3RhdGU9PT1Qdi5PRkZMSU5FJiZhd2FpdCBHaC5yYWNlKFtWdi5vbmxpbmVXYWl0ZXIsJHYoMipfeS5tYXhSZXRyeVRpbWVvdXQpXSk7Y29uc3QgdD1lPT57bGV0IHQ9bmV3IFVpbnQ4QXJyYXk7cmV0dXJuIGUuZm9yRWFjaCgoZT0+e2NvbnN0IGk9bXYoSlNPTi5zdHJpbmdpZnkoZS5kYXRhKSksbj1uZXcgQXJyYXlCdWZmZXIoNSkscj0oZT0+e2xldCB0PTA7cmV0dXJuIE9iamVjdC5lbnRyaWVzKGlBKS5mb3JFYWNoKChpPT57bGV0W24scl09aTtyPT09ZS50eXBlJiYodD1uQVtuXSl9KSksdH0pKGUpLG89bmV3IERhdGFWaWV3KG4pO28uc2V0VWludDE2KDAsaS5ieXRlTGVuZ3RoLCEwKSxvLnNldFVpbnQ4KDIsMjU1JnIpLG8uc2V0VWludDgoMyxyPj4+OCYyNTUpLG8uc2V0VWludDgoNCxyPj4+MTYmMjU1KSx0PWZ2KHQsbmV3IFVpbnQ4QXJyYXkobikpLHQ9ZnYodCxpKX0pKSx0fSxpPVwiZXZlbnRcIjtsZXQgbj10aGlzLnByb3h5U2VydmVyP1wiaHR0cHM6Ly9cIi5jb25jYXQodGhpcy5wcm94eVNlcnZlcixcIi9ycy8/aD1cIikuY29uY2F0KER5KFwiTkVXX1JFUE9SVF9TRVJWRVJfRE9NQUlOU1wiKVswXSxcIiZwPTQ0MyZkPVwiKS5jb25jYXQoaSk6XCJodHRwczovL1wiLmNvbmNhdChEeShcIk5FV19SRVBPUlRfU0VSVkVSX0RPTUFJTlNcIilbMF0sXCIvXCIpLmNvbmNhdChpKTtmb3IobGV0IHI9MDtyPDI7cis9MSl7MT09PXImJihuPXRoaXMucHJveHlTZXJ2ZXI/XCJodHRwczovL1wiLmNvbmNhdCh0aGlzLnByb3h5U2VydmVyLFwiL3JzLz9oPVwiKS5jb25jYXQoRHkoXCJORVdfUkVQT1JUX1NFUlZFUl9ET01BSU5TXCIpWzFdLFwiJnA9NDQzJmQ9XCIpLmNvbmNhdChpKTpcImh0dHBzOi8vXCIuY29uY2F0KER5KFwiTkVXX1JFUE9SVF9TRVJWRVJfRE9NQUlOU1wiKVsxXSxcIi9cIikuY29uY2F0KGkpKTt0cnl7YXdhaXQgUnkobix7dGltZW91dDoxZTQsZGF0YTp0KGUpLGhlYWRlcnM6V3koV3koe2JpejpcIndlYnJ0Y1wiLHNlbmR0czpNYXRoLnJvdW5kKERhdGUubm93KCkvMWUzKSxkZWJ1ZzpcImZhbHNlXCJ9LHRoaXMuX2FwcElkJiZ7YXBwaWQ6dGhpcy5fYXBwSWR9KSx7fSx7XCJDb250ZW50LVR5cGVcIjpcImFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbVwifSl9LCEwKX1jYXRjaChlKXtpZigxPT09cil0aHJvdyBlO2NvbnRpbnVlfXJldHVybn19YXN5bmMgcG9zdERhdGFUb1N0YXRzQ29sbGVjdG9yKGUpe2xldCB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdJiZhcmd1bWVudHNbMV07Y29uc3QgaT17bXNnVHlwZTpcIkV2ZW50TWVzc2FnZXNcIixzZW50VHM6TWF0aC5yb3VuZChEYXRlLm5vdygpLzFlMykscGF5bG9hZHM6ZS5tYXAoKGU9PkpTT04uc3RyaW5naWZ5KGUpKSksdmlkOihlPT57Y29uc3QgdD1lJiZlLmRhdGEuc2lkJiZ0aGlzLmJhc2VJbmZvTWFwLmdldChlLmRhdGEuc2lkKTtyZXR1cm4gdCYmdC5pbmZvLnZpZCYmK3QuaW5mby52aWR8fDB9KShlWzBdKX07VnYubmV0d29ya1N0YXRlPT09UHYuT0ZGTElORSYmYXdhaXQgR2gucmFjZShbVnYub25saW5lV2FpdGVyLCR2KDIqX3kubWF4UmV0cnlUaW1lb3V0KV0pO2NvbnN0IG49dD9cIi9ldmVudHMvcHJvdG8tcmF3c1wiOlwiL2V2ZW50cy9tZXNzYWdlc1wiO2xldCByPXRoaXMudXJsfHwodGhpcy5wcm94eVNlcnZlcj9cImh0dHBzOi8vXCIuY29uY2F0KHRoaXMucHJveHlTZXJ2ZXIsXCIvcnMvP2g9XCIpLmNvbmNhdChEeShcIkVWRU5UX1JFUE9SVF9ET01BSU5cIiksXCImcD1cIikuY29uY2F0KER5KFwiU1RBVFNfQ09MTEVDVE9SX1BPUlRcIiksXCImZD1cIikuY29uY2F0KG4pOlwiaHR0cHM6Ly9cIi5jb25jYXQoRHkoXCJFVkVOVF9SRVBPUlRfRE9NQUlOXCIpLFwiOlwiKS5jb25jYXQoRHkoXCJTVEFUU19DT0xMRUNUT1JfUE9SVFwiKSkuY29uY2F0KG4pKTtmb3IobGV0IGU9MDtlPDI7ZSs9MSl7MT09PWUmJihyPXRoaXMuYmFja3VwVXJsfHwodGhpcy5wcm94eVNlcnZlcj9cImh0dHBzOi8vXCIuY29uY2F0KHRoaXMucHJveHlTZXJ2ZXIsXCIvcnMvP2g9XCIpLmNvbmNhdChEeShcIkVWRU5UX1JFUE9SVF9CQUNLVVBfRE9NQUlOXCIpLFwiJnA9XCIpLmNvbmNhdChEeShcIlNUQVRTX0NPTExFQ1RPUl9QT1JUXCIpLFwiJmQ9XCIpLmNvbmNhdChuKTpcImh0dHBzOi8vXCIuY29uY2F0KER5KFwiRVZFTlRfUkVQT1JUX0JBQ0tVUF9ET01BSU5cIiksXCI6XCIpLmNvbmNhdChEeShcIlNUQVRTX0NPTExFQ1RPUl9QT1JUXCIpKS5jb25jYXQobikpKTt0cnl7dD9hd2FpdCBDeShyLHt0aW1lb3V0OjFlNCxkYXRhOml9KTphd2FpdCBSeShyLHt0aW1lb3V0OjFlNCxkYXRhOml9KX1jYXRjaCh0KXtpZigxPT09ZSl0aHJvdyB0O2NvbnRpbnVlfXJldHVybn19Y3JlYXRlQmFzZUluZm8oZSx0KXtjb25zdCBpPU9iamVjdC5hc3NpZ24oe30sZUEpO3JldHVybiBpLnNpZD1lLHRoaXMuYmFzZUluZm9NYXAuc2V0KGUse2luZm86aSxzdGFydFRpbWU6dH0pLGl9cmVwb3J0UmVzb3VyY2VUaW1pbmcoZSx0KXtjb25zdCBpPXBlcmZvcm1hbmNlLmdldEVudHJpZXNCeU5hbWUoZSksbj1pW2kubGVuZ3RoLTFdO24mJnRoaXMucmVwb3J0QXBpSW52b2tlKHQse25hbWU6XCJDbGllbnQucmVzb3VyY2VUaW1pbmdcIixvcHRpb25zOm4sdGFnOkl2LlRSQUNFUn0pLm9uU3VjY2VzcygpfX1mdW5jdGlvbiBvQSgpe2xldCBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtyZXR1cm4gZnVuY3Rpb24odCxpLG4pe2NvbnN0IHI9bi52YWx1ZTtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiByKXtjb25zdCBvPWUuY2xhc3NOYW1lfHx0Ll9fY2xhc3NOYW1lX198fChcIkFnb3JhUlRDQ2xpZW50XCI9PT10LmNvbnN0cnVjdG9yLm5hbWU/XCJDbGllbnRcIjp0LmNvbnN0cnVjdG9yLm5hbWUpO24udmFsdWU9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxuPW5ldyBBcnJheSh0KSxzPTA7czx0O3MrKyluW3NdPWFyZ3VtZW50c1tzXTtsZXQgYT1uO2lmKGUuYXJnc01hcCl0cnl7YT1lLmFyZ3NNYXAodGhpcywuLi5uKX1jYXRjaChlKXtReS53YXJuaW5nKGUpLGE9W119dHJ5e0pTT04uc3RyaW5naWZ5KGEpfWNhdGNoKGUpe1F5Lndhcm5pbmcoXCJhcmd1bWVudHMgZm9yIG1ldGhvZCBcIi5jb25jYXQobyxcIi5cIikuY29uY2F0KFN0cmluZyhpKSxcIiBub3Qgc2VyaWFsaXphYmxlIGZvciBhcGlJbnZva2UuXCIpKSxhPVtdfWNvbnN0IGM9KGUucmVwb3J0fHxzQSkucmVwb3J0QXBpSW52b2tlKHRoaXMuX3Nlc3Npb25JZHx8bnVsbCx7bmFtZTpcIlwiLmNvbmNhdChvLFwiLlwiKS5jb25jYXQoU3RyaW5nKGkpKSxvcHRpb25zOmEsdGFnOkl2LlRSQUNFUixyZXBvcnRSZXN1bHQ6ZS5yZXBvcnRSZXN1bHR9LGUudGhyb3R0bGVUaW1lKTt0cnl7Y29uc3QgdD1yLmFwcGx5KHRoaXMsbik7cmV0dXJuIHQgaW5zdGFuY2VvZiBHaD90LnRoZW4oKHQ9PihjLm9uU3VjY2VzcyhlLnJlcG9ydFJlc3VsdCYmdCksdCkpKS5jYXRjaCgoZT0+e3Rocm93IGMub25FcnJvcihlKSxlfSkpOihjLm9uU3VjY2VzcyhlLnJlcG9ydFJlc3VsdCYmdCksdCl9Y2F0Y2goZSl7dGhyb3cgYy5vbkVycm9yKGUpLGV9fX1yZXR1cm4gbn19ankockEsXCJfX0NMSUVOVF9MSVNUX19cIixbXSk7Y29uc3Qgc0E9bmV3IHJBO0h5Lm9uKFwiUkVQT1JUX0xPR19VUExPQURcIiwoZT0+e2UubmV0d29ya1N0YXRlPVZ2Lm5ldHdvcmtTdGF0ZSxzQS5yZXBvcnRBcGlJbnZva2UobnVsbCx7bmFtZTpcImxvZ1VwbG9hZEVycm9yXCIsb3B0aW9uczplLHRhZzpJdi5UUkFDRVJ9KS5vblN1Y2Nlc3MoXCJsb2dVcGxvYWRFcnJvclwiKX0pKTtjb25zdCBhQT1bXCJDSElOQVwiLFwiR0xPQkFMXCJdLGNBPWZ1bmN0aW9uKCl7Y29uc3QgZT1cInVzXCIuY29uY2F0KFwiZXJuYVwiLFwibWVcIiksdD1cInBhXCIuY29uY2F0KFwic3N3b1wiLFwicmRcIiksaT1bXCJ0XCIsXCJzXCIsXCJ0XCJdO2kuc3BsaWNlKDEsMCxcImVcIik7Y29uc3Qgbj1pLmpvaW4oXCJcIikscj1bXTtmb3IobGV0IGU9MDtlPDY7ZSsrKXIucHVzaChcIjFcIik7Y29uc3Qgbz1yLmpvaW4oXCJcIikscz17fTtyZXR1cm4gc1tlXT1uLHNbdF09byxPYmplY3QuYXNzaWduKHMse3R1cm5TZXJ2ZXJVUkw6XCJcIix0Y3Bwb3J0OjM0MzMsdWRwcG9ydDozNDc4LGZvcmNldHVybjohMX0pfSgpO3dpbmRvdy5ERUZBVUxUX1RVUk5fQ09ORklHPWNBLHl5fHwoT3kuV0VCQ1NfRE9NQUlOPVtcImFwLXdlYi0xLW92ZXJzZWEuYWdvcmEuaW9cIixcImFwLXdlYi0xLW5vcnRoLWFtZXJpY2EuYWdvcmEuaW9cIl0sT3kuV0VCQ1NfRE9NQUlOX0JBQ0tVUF9MSVNUPVtcImFwLXdlYi0yLW92ZXJzZWEuYWdvcmEuaW9cIixcImFwLXdlYi0yLW5vcnRoLWFtZXJpY2EuYWdvcmEuaW9cIl0sT3kuUFJPWFlfQ1M9W1wicHJveHktYXAtd2ViLW92ZXJzZWEuYWdvcmEuaW9cIixcInByb3h5LWFwLXdlYi1hbWVyaWNhLmFnb3JhLmlvXCJdLE95LkNEU19BUD1bXCJjZHMtYXAtd2ViLW92ZXJzZWEuYWdvcmEuaW9cIixcImNkcy1hcC13ZWItYW1lcmljYS5hZ29yYS5pb1wiLFwiY2RzLWFwLXdlYi1hbWVyaWNhMi5hZ29yYS5pb1wiXSxPeS5BQ0NPVU5UX1JFR0lTVEVSPVtcInN1YS1hcC13ZWItb3ZlcnNlYS5hZ29yYS5pb1wiLFwic3VhLWFwLXdlYi1hbWVyaWNhLmFnb3JhLmlvXCIsXCJzdWEtYXAtd2ViLWFtZXJpY2EyLmFnb3JhLmlvXCJdLE95LlVBUF9BUD1bXCJ1YXAtYXAtd2ViLW92ZXJzZWEuYWdvcmEuaW9cIixcInVhcC1hcC13ZWItYW1lcmljYS5hZ29yYS5pb1wiLFwidWFwLWFwLXdlYi1hbWVyaWNhMi5hZ29yYS5pb1wiXSxPeS5MT0dfVVBMT0FEX1NFUlZFUj1cImxvZ3NlcnZpY2Utb3ZlcnNlYS5hZ29yYS5pb1wiLE95LkVWRU5UX1JFUE9SVF9ET01BSU49XCJzdGF0c2NvbGxlY3Rvci0xLW92ZXJzZWEuYWdvcmEuaW9cIixPeS5FVkVOVF9SRVBPUlRfQkFDS1VQX0RPTUFJTj1cInN0YXRzY29sbGVjdG9yLTItb3ZlcnNlYS5hZ29yYS5pb1wiLE95LlBST1hZX1NFUlZFUl9UWVBFMz1cIndlYnJ0Yy1jbG91ZC1wcm94eS5hZ29yYS5pb1wiLE95LkFSRUFTPVtcIk5PUlRIX0FNRVJJQ0FcIixcIk9WRVJTRUFcIl0pO2NvbnN0IGRBPVtbMCwxLDIsMyw0LDUsNV0sWzAsMiwyLDMsNCw1LDVdLFswLDMsMywzLDQsNSw1XSxbMCw0LDQsNCw0LDUsNV0sWzAsNSw1LDUsNSw1LDVdXSxsQT1bXTtmdW5jdGlvbiB1QShlLHQpe3JldHVybiEhdCYmbEEuc29tZSgoaT0+aS51aWQ9PT1lJiZpLmNoYW5uZWxOYW1lPT09dCkpfXJBLl9fQ0xJRU5UX0xJU1RfXz1sQTt2YXIgaEE9SWYuZm9yRWFjaCxwQT1CbihcImZvckVhY2hcIik/W10uZm9yRWFjaDpmdW5jdGlvbihlKXtyZXR1cm4gaEEodGhpcyxlLGFyZ3VtZW50cy5sZW5ndGg+MT9hcmd1bWVudHNbMV06dm9pZCAwKX07d2koe3RhcmdldDpcIkFycmF5XCIscHJvdG86ITAsZm9yY2VkOltdLmZvckVhY2ghPXBBfSx7Zm9yRWFjaDpwQX0pO3ZhciBfQT1YaShcIkFycmF5XCIpLmZvckVhY2gsRUE9cG4sbUE9WmUsZkE9bCxUQT1fQSxTQT1BcnJheS5wcm90b3R5cGUsZ0E9e0RPTVRva2VuTGlzdDohMCxOb2RlTGlzdDohMH0sUkE9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5mb3JFYWNoO3JldHVybiBlPT09U0F8fGZBKFNBLGUpJiZ0PT09U0EuZm9yRWFjaHx8bUEoZ0EsRUEoZSkpP1RBOnR9LENBPWkoUkEpLElBPUplLHZBPWVvO3dpKHt0YXJnZXQ6XCJPYmplY3RcIixzdGF0OiEwLGZvcmNlZDpuKChmdW5jdGlvbigpe3ZBKDEpfSkpfSx7a2V5czpmdW5jdGlvbihlKXtyZXR1cm4gdkEoSUEoZSkpfX0pO3ZhciB5QT1pKGllLk9iamVjdC5rZXlzKSxBQT1pKHpuKSxiQT13aSx3QT12bSxPQT1kKFtdLnJldmVyc2UpLE5BPVsxLDJdO2JBKHt0YXJnZXQ6XCJBcnJheVwiLHByb3RvOiEwLGZvcmNlZDpTdHJpbmcoTkEpPT09U3RyaW5nKE5BLnJldmVyc2UoKSl9LHtyZXZlcnNlOmZ1bmN0aW9uKCl7cmV0dXJuIHdBKHRoaXMpJiYodGhpcy5sZW5ndGg9dGhpcy5sZW5ndGgpLE9BKHRoaXMpfX0pO3ZhciBEQT1YaShcIkFycmF5XCIpLnJldmVyc2UsUEE9bCxMQT1EQSxrQT1BcnJheS5wcm90b3R5cGUsTUE9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5yZXZlcnNlO3JldHVybiBlPT09a0F8fFBBKGtBLGUpJiZ0PT09a0EucmV2ZXJzZT9MQTp0fSxVQT1NQSx4QT1pKFVBKSxWQT13aSxGQT12bSxCQT1qYyxqQT10ZSxHQT14aSxXQT1HaSxIQT1aLEtBPUVfLFlBPWh0LHFBPVhjLHpBPVVtKFwic2xpY2VcIiksSkE9WUEoXCJzcGVjaWVzXCIpLFhBPUFycmF5LFFBPU1hdGgubWF4O1ZBKHt0YXJnZXQ6XCJBcnJheVwiLHByb3RvOiEwLGZvcmNlZDohekF9LHtzbGljZTpmdW5jdGlvbihlLHQpe3ZhciBpLG4scixvPUhBKHRoaXMpLHM9V0EobyksYT1HQShlLHMpLGM9R0Eodm9pZCAwPT09dD9zOnQscyk7aWYoRkEobykmJihpPW8uY29uc3RydWN0b3IsKEJBKGkpJiYoaT09PVhBfHxGQShpLnByb3RvdHlwZSkpfHxqQShpKSYmbnVsbD09PShpPWlbSkFdKSkmJihpPXZvaWQgMCksaT09PVhBfHx2b2lkIDA9PT1pKSlyZXR1cm4gcUEobyxhLGMpO2ZvcihuPW5ldyh2b2lkIDA9PT1pP1hBOmkpKFFBKGMtYSwwKSkscj0wO2E8YzthKysscisrKWEgaW4gbyYmS0EobixyLG9bYV0pO3JldHVybiBuLmxlbmd0aD1yLG59fSk7dmFyIFpBPVhpKFwiQXJyYXlcIikuc2xpY2UsJEE9bCxlYj1aQSx0Yj1BcnJheS5wcm90b3R5cGUsaWI9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS5zbGljZTtyZXR1cm4gZT09PXRifHwkQSh0YixlKSYmdD09PXRiLnNsaWNlP2ViOnR9LG5iPWkoaWIpO2Z1bmN0aW9uIHJiKGUsdCxpLG4scil7dmFyIG8scyxhLGM9e307cmV0dXJuIENBKG89eUEobikpLmNhbGwobywoZnVuY3Rpb24oZSl7Y1tlXT1uW2VdfSkpLGMuZW51bWVyYWJsZT0hIWMuZW51bWVyYWJsZSxjLmNvbmZpZ3VyYWJsZT0hIWMuY29uZmlndXJhYmxlLChcInZhbHVlXCJpbiBjfHxjLmluaXRpYWxpemVyKSYmKGMud3JpdGFibGU9ITApLGM9QUEocz14QShhPW5iKGkpLmNhbGwoaSkpLmNhbGwoYSkpLmNhbGwocywoZnVuY3Rpb24oaSxuKXtyZXR1cm4gbihlLHQsaSl8fGl9KSxjKSxyJiZ2b2lkIDAhPT1jLmluaXRpYWxpemVyJiYoYy52YWx1ZT1jLmluaXRpYWxpemVyP2MuaW5pdGlhbGl6ZXIuY2FsbChyKTp2b2lkIDAsYy5pbml0aWFsaXplcj12b2lkIDApLHZvaWQgMD09PWMuaW5pdGlhbGl6ZXImJihDbShlLHQsYyksYz1udWxsKSxjfWxldCBvYj1mdW5jdGlvbihlKXtyZXR1cm4gZS5MMVQxPVwiTDFUMVwiLGUuTDFUMj1cIkwxVDJcIixlLkwxVDM9XCJMMVQzXCIsZS5MMVQzX0tFWT1cIkwxVDNfS0VZXCIsZS5MMlQxX0tFWT1cIkwyVDFfS0VZXCIsZS5MMlQyX0tFWT1cIkwyVDJfS0VZXCIsZS5MMlQzX0tFWT1cIkwyVDNfS0VZXCIsZS5MM1QxX0tFWT1cIkwzVDFfS0VZXCIsZS5MM1QyX0tFWT1cIkwzVDJfS0VZXCIsZS5MM1QzX0tFWT1cIkwzVDNfS0VZXCIsZX0oe30pLHNiPWZ1bmN0aW9uKGUpe3JldHVybiBlLkNFUlRJRklDQVRFPVwiY2VydGlmaWNhdGVcIixlLkNPREVDPVwiY29kZWNcIixlLkNBTkRJREFURV9QQUlSPVwiY2FuZGlkYXRlLXBhaXJcIixlLkxPQ0FMX0NBTkRJREFURT1cImxvY2FsLWNhbmRpZGF0ZVwiLGUuUkVNT1RFX0NBTkRJREFURT1cInJlbW90ZS1jYW5kaWRhdGVcIixlLklOQk9VTkQ9XCJpbmJvdW5kLXJ0cFwiLGUuVFJBQ0s9XCJ0cmFja1wiLGUuT1VUQk9VTkQ9XCJvdXRib3VuZC1ydHBcIixlLlBDPVwicGVlci1jb25uZWN0aW9uXCIsZS5SRU1PVEVfSU5CT1VORD1cInJlbW90ZS1pbmJvdW5kLXJ0cFwiLGUuUkVNT1RFX09VVEJPVU5EPVwicmVtb3RlLW91dGJvdW5kLXJ0cFwiLGUuVFJBTlNQT1JUPVwidHJhbnNwb3J0XCIsZS5DU1JDPVwiY3NyY1wiLGUuREFUQV9DSEFOTkVMPVwiZGF0YS1jaGFubmVsXCIsZS5TVFJFQU09XCJzdHJlYW1cIixlLlNFTkRFUj1cInNlbmRlclwiLGUuUkVDRUlWRVI9XCJyZWNlaXZlclwiLGV9KHt9KSxhYj1mdW5jdGlvbihlKXtyZXR1cm4gZVtlLkFDQ0VTU19QT0lOVD0xMDFdPVwiQUNDRVNTX1BPSU5UXCIsZVtlLlVOSUxCUz0yMDFdPVwiVU5JTEJTXCIsZVtlLlNUUklOR19VSURfQUxMT0NBVE9SPTkwMV09XCJTVFJJTkdfVUlEX0FMTE9DQVRPUlwiLGV9KHt9KSxjYj1mdW5jdGlvbihlKXtyZXR1cm4gZVtlLklJSUVHQUxfQVBQSUQ9MV09XCJJSUlFR0FMX0FQUElEXCIsZVtlLklJSUVHQUxfVUlEPTJdPVwiSUlJRUdBTF9VSURcIixlW2UuSU5URVJOQUxfRVJST1I9M109XCJJTlRFUk5BTF9FUlJPUlwiLGV9KHt9KSxkYj1mdW5jdGlvbihlKXtyZXR1cm4gZVtlLklOVkFMSURfVkVORE9SX0tFWT01XT1cIklOVkFMSURfVkVORE9SX0tFWVwiLGVbZS5JTlZBTElEX0NIQU5ORUxfTkFNRT03XT1cIklOVkFMSURfQ0hBTk5FTF9OQU1FXCIsZVtlLklOVEVSTkFMX0VSUk9SPThdPVwiSU5URVJOQUxfRVJST1JcIixlW2UuTk9fQVVUSE9SSVpFRD05XT1cIk5PX0FVVEhPUklaRURcIixlW2UuRFlOQU1JQ19LRVlfVElNRU9VVD0xMF09XCJEWU5BTUlDX0tFWV9USU1FT1VUXCIsZVtlLk5PX0FDVElWRV9TVEFUVVM9MTFdPVwiTk9fQUNUSVZFX1NUQVRVU1wiLGVbZS5EWU5BTUlDX0tFWV9FWFBJUkVEPTEzXT1cIkRZTkFNSUNfS0VZX0VYUElSRURcIixlW2UuU1RBVElDX1VTRV9EWU5BTUlDX0tFWT0xNF09XCJTVEFUSUNfVVNFX0RZTkFNSUNfS0VZXCIsZVtlLkRZTkFNSUNfVVNFX1NUQVRJQ19LRVk9MTVdPVwiRFlOQU1JQ19VU0VfU1RBVElDX0tFWVwiLGVbZS5VU0VSX09WRVJMT0FEPTE2XT1cIlVTRVJfT1ZFUkxPQURcIixlW2UuRk9SQklEREVOX1JFR0lPTj0xOF09XCJGT1JCSURERU5fUkVHSU9OXCIsZVtlLkNBTk5PVF9NRUVUX0FSRUFfREVNQU5EPTE5XT1cIkNBTk5PVF9NRUVUX0FSRUFfREVNQU5EXCIsZX0oe30pLGxiPWZ1bmN0aW9uKGUpe3JldHVybiBlW2UuTk9fRkxBR19TRVQ9MTAwXT1cIk5PX0ZMQUdfU0VUXCIsZVtlLkZMQUdfU0VUX0JVVF9FTVBUWT0xMDFdPVwiRkxBR19TRVRfQlVUX0VNUFRZXCIsZVtlLklOVkFMSURfRkFMR19TRVQ9MTAyXT1cIklOVkFMSURfRkFMR19TRVRcIixlW2UuRkxBR19TRVRfQlVUX05PX1JFPTEwM109XCJGTEFHX1NFVF9CVVRfTk9fUkVcIixlW2UuSU5WQUxJRF9TRVJWSUNFX0lEPTEwNF09XCJJTlZBTElEX1NFUlZJQ0VfSURcIixlW2UuTk9fU0VSVklDRV9BVkFJTEFCTEU9MjAwXT1cIk5PX1NFUlZJQ0VfQVZBSUxBQkxFXCIsZVtlLk5PX1NFUlZJQ0VfQVZBSUxBQkxFX1AyUD0yMDFdPVwiTk9fU0VSVklDRV9BVkFJTEFCTEVfUDJQXCIsZVtlLk5PX1NFUlZJQ0VfQVZBSUxBQkxFX1ZPSUNFPTIwMl09XCJOT19TRVJWSUNFX0FWQUlMQUJMRV9WT0lDRVwiLGVbZS5OT19TRVJWSUNFX0FWQUlMQUJMRV9XRUJSVEM9MjAzXT1cIk5PX1NFUlZJQ0VfQVZBSUxBQkxFX1dFQlJUQ1wiLGVbZS5OT19TRVJWSUNFX0FWQUlMQUJMRV9DRFM9MjA0XT1cIk5PX1NFUlZJQ0VfQVZBSUxBQkxFX0NEU1wiLGVbZS5OT19TRVJWSUNFX0FWQUlMQUJMRV9DRE49MjA1XT1cIk5PX1NFUlZJQ0VfQVZBSUxBQkxFX0NETlwiLGVbZS5OT19TRVJWSUNFX0FWQUlMQUJMRV9URFM9MjA2XT1cIk5PX1NFUlZJQ0VfQVZBSUxBQkxFX1REU1wiLGVbZS5OT19TRVJWSUNFX0FWQUlMQUJMRV9SRVBPUlQ9MjA3XT1cIk5PX1NFUlZJQ0VfQVZBSUxBQkxFX1JFUE9SVFwiLGVbZS5OT19TRVJWSUNFX0FWQUlMQUJMRV9BUFBfQ0VOVEVSPTIwOF09XCJOT19TRVJWSUNFX0FWQUlMQUJMRV9BUFBfQ0VOVEVSXCIsZVtlLk5PX1NFUlZJQ0VfQVZBSUxBQkxFX0VOVjA9MjA5XT1cIk5PX1NFUlZJQ0VfQVZBSUxBQkxFX0VOVjBcIixlW2UuTk9fU0VSVklDRV9BVkFJTEFCTEVfVk9FVD0yMTBdPVwiTk9fU0VSVklDRV9BVkFJTEFCTEVfVk9FVFwiLGVbZS5OT19TRVJWSUNFX0FWQUlMQUJMRV9TVFJJTkdfVUlEPTIxMV09XCJOT19TRVJWSUNFX0FWQUlMQUJMRV9TVFJJTkdfVUlEXCIsZVtlLk5PX1NFUlZJQ0VfQVZBSUxBQkxFX1dFQlJUQ19VTklMQlM9MjEyXT1cIk5PX1NFUlZJQ0VfQVZBSUxBQkxFX1dFQlJUQ19VTklMQlNcIixlW2UuTk9fU0VSVklDRV9BVkFJTEFCTEVfVU5JTEJTX0ZMVj0yMTNdPVwiTk9fU0VSVklDRV9BVkFJTEFCTEVfVU5JTEJTX0ZMVlwiLGV9KHt9KSx1Yj1mdW5jdGlvbihlKXtyZXR1cm4gZVtlLktfVElNRVNUQU1QX0VYUElSRUQ9Ml09XCJLX1RJTUVTVEFNUF9FWFBJUkVEXCIsZVtlLktfQ0hBTk5FTF9QRVJNSVNTSU9OX0lOVkFMSUQ9M109XCJLX0NIQU5ORUxfUEVSTUlTU0lPTl9JTlZBTElEXCIsZVtlLktfQ0VSVElGSUNBVEVfSU5WQUxJRD00XT1cIktfQ0VSVElGSUNBVEVfSU5WQUxJRFwiLGVbZS5LX0NIQU5ORUxfTkFNRV9FTVBUWT01XT1cIktfQ0hBTk5FTF9OQU1FX0VNUFRZXCIsZVtlLktfQ0hBTk5FTF9OT1RfRk9VTkQ9Nl09XCJLX0NIQU5ORUxfTk9UX0ZPVU5EXCIsZVtlLktfVElDS0VUX0lOVkFMSUQ9N109XCJLX1RJQ0tFVF9JTlZBTElEXCIsZVtlLktfQ0hBTk5FTF9DT05GTElDVEVEPThdPVwiS19DSEFOTkVMX0NPTkZMSUNURURcIixlW2UuS19TRVJWSUNFX05PVF9SRUFEWT05XT1cIktfU0VSVklDRV9OT1RfUkVBRFlcIixlW2UuS19TRVJWSUNFX1RPT19IRUFWWT0xMF09XCJLX1NFUlZJQ0VfVE9PX0hFQVZZXCIsZVtlLktfVUlEX0JBTk5FRD0xNF09XCJLX1VJRF9CQU5ORURcIixlW2UuS19JUF9CQU5ORUQ9MTVdPVwiS19JUF9CQU5ORURcIixlW2UuS19DSEFOTkVMX0JBTk5FRD0xNl09XCJLX0NIQU5ORUxfQkFOTkVEXCIsZVtlLktfQVVUT19SRUJBTEFOQ0U9MjhdPVwiS19BVVRPX1JFQkFMQU5DRVwiLGVbZS5XQVJOX05PX0FWQUlMQUJMRV9DSEFOTkVMPTEwM109XCJXQVJOX05PX0FWQUlMQUJMRV9DSEFOTkVMXCIsZVtlLldBUk5fTE9PS1VQX0NIQU5ORUxfVElNRU9VVD0xMDRdPVwiV0FSTl9MT09LVVBfQ0hBTk5FTF9USU1FT1VUXCIsZVtlLldBUk5fTE9PS1VQX0NIQU5ORUxfUkVKRUNURUQ9MTA1XT1cIldBUk5fTE9PS1VQX0NIQU5ORUxfUkVKRUNURURcIixlW2UuV0FSTl9PUEVOX0NIQU5ORUxfVElNRU9VVD0xMDZdPVwiV0FSTl9PUEVOX0NIQU5ORUxfVElNRU9VVFwiLGVbZS5XQVJOX09QRU5fQ0hBTk5FTF9SRUpFQ1RFRD0xMDddPVwiV0FSTl9PUEVOX0NIQU5ORUxfUkVKRUNURURcIixlW2UuV0FSTl9SRVFVRVNUX0RFRkVSUkVEPTEwOF09XCJXQVJOX1JFUVVFU1RfREVGRVJSRURcIixlW2UuRVJSX0RZTkFNSUNfS0VZX1RJTUVPVVQ9MTA5XT1cIkVSUl9EWU5BTUlDX0tFWV9USU1FT1VUXCIsZVtlLkVSUl9OT19BVVRIT1JJWkVEPTExMF09XCJFUlJfTk9fQVVUSE9SSVpFRFwiLGVbZS5FUlJfVk9NX1NFUlZJQ0VfVU5BVkFJTEFCTEU9MTExXT1cIkVSUl9WT01fU0VSVklDRV9VTkFWQUlMQUJMRVwiLGVbZS5FUlJfTk9fQ0hBTk5FTF9BVkFJTEFCTEVfQ09ERT0xMTJdPVwiRVJSX05PX0NIQU5ORUxfQVZBSUxBQkxFX0NPREVcIixlW2UuRVJSX01BU1RFUl9WT0NTX1VOQVZBSUxBQkxFPTExNF09XCJFUlJfTUFTVEVSX1ZPQ1NfVU5BVkFJTEFCTEVcIixlW2UuRVJSX0lOVEVSTkFMX0VSUk9SPTExNV09XCJFUlJfSU5URVJOQUxfRVJST1JcIixlW2UuRVJSX05PX0FDVElWRV9TVEFUVVM9MTE2XT1cIkVSUl9OT19BQ1RJVkVfU1RBVFVTXCIsZVtlLkVSUl9JTlZBTElEX1VJRD0xMTddPVwiRVJSX0lOVkFMSURfVUlEXCIsZVtlLkVSUl9EWU5BTUlDX0tFWV9FWFBJUkVEPTExOF09XCJFUlJfRFlOQU1JQ19LRVlfRVhQSVJFRFwiLGVbZS5FUlJfU1RBVElDX1VTRV9EWUFOTUlDX0tFPTExOV09XCJFUlJfU1RBVElDX1VTRV9EWUFOTUlDX0tFXCIsZVtlLkVSUl9EWU5BTUlDX1VTRV9TVEFUSUNfS0U9MTIwXT1cIkVSUl9EWU5BTUlDX1VTRV9TVEFUSUNfS0VcIixlW2UuRVJSX05PX1ZPQ1NfQVZBSUxBQkxFPTJlM109XCJFUlJfTk9fVk9DU19BVkFJTEFCTEVcIixlW2UuRVJSX05PX1ZPU19BVkFJTEFCTEU9MjAwMV09XCJFUlJfTk9fVk9TX0FWQUlMQUJMRVwiLGVbZS5FUlJfSk9JTl9DSEFOTkVMX1RJTUVPVVQ9MjAwMl09XCJFUlJfSk9JTl9DSEFOTkVMX1RJTUVPVVRcIixlW2UuRVJSX1JFUEVBVF9KT0lOX0NIQU5ORUw9MjAwM109XCJFUlJfUkVQRUFUX0pPSU5fQ0hBTk5FTFwiLGVbZS5FUlJfSk9JTl9CWV9NVUxUSV9JUD0yMDA0XT1cIkVSUl9KT0lOX0JZX01VTFRJX0lQXCIsZVtlLkVSUl9OT1RfSk9JTkVEPTIwMTFdPVwiRVJSX05PVF9KT0lORURcIixlW2UuRVJSX1JFUEVBVF9KT0lOX1JFUVVFU1Q9MjAxMl09XCJFUlJfUkVQRUFUX0pPSU5fUkVRVUVTVFwiLGVbZS5FUlJfSU5WQUxJRF9WRU5ET1JfS0VZPTIwMTNdPVwiRVJSX0lOVkFMSURfVkVORE9SX0tFWVwiLGVbZS5FUlJfSU5WQUxJRF9DSEFOTkVMX05BTUU9MjAxNF09XCJFUlJfSU5WQUxJRF9DSEFOTkVMX05BTUVcIixlW2UuRVJSX0lOVkFMSURfU1RSSU5HVUlEPTIwMTVdPVwiRVJSX0lOVkFMSURfU1RSSU5HVUlEXCIsZVtlLkVSUl9UT09fTUFOWV9VU0VSUz0yMDE2XT1cIkVSUl9UT09fTUFOWV9VU0VSU1wiLGVbZS5FUlJfU0VUX0NMSUVOVF9ST0xFX1RJTUVPVVQ9MjAxN109XCJFUlJfU0VUX0NMSUVOVF9ST0xFX1RJTUVPVVRcIixlW2UuRVJSX1NFVF9DTElFTlRfUk9MRV9OT19QRVJNSVNTSU9OPTIwMThdPVwiRVJSX1NFVF9DTElFTlRfUk9MRV9OT19QRVJNSVNTSU9OXCIsZVtlLkVSUl9TRVRfQ0xJRU5UX1JPTEVfQUxSRUFEWV9JTl9VU0U9MjAxOV09XCJFUlJfU0VUX0NMSUVOVF9ST0xFX0FMUkVBRFlfSU5fVVNFXCIsZVtlLkVSUl9QVUJMSVNIX1JFUVVFU1RfSU5WQUxJRD0yMDIwXT1cIkVSUl9QVUJMSVNIX1JFUVVFU1RfSU5WQUxJRFwiLGVbZS5FUlJfU1VCU0NSSUJFX1JFUVVFU1RfSU5WQUxJRD0yMDIxXT1cIkVSUl9TVUJTQ1JJQkVfUkVRVUVTVF9JTlZBTElEXCIsZVtlLkVSUl9OT1RfU1VQUE9SVEVEX01FU1NBR0U9MjAyMl09XCJFUlJfTk9UX1NVUFBPUlRFRF9NRVNTQUdFXCIsZVtlLkVSUl9JTExFQUdBTF9QTFVHSU49MjAyM109XCJFUlJfSUxMRUFHQUxfUExVR0lOXCIsZVtlLkVSUl9SRUpPSU5fVE9LRU5fSU5WQUxJRD0yMDI0XT1cIkVSUl9SRUpPSU5fVE9LRU5fSU5WQUxJRFwiLGVbZS5FUlJfUkVKT0lOX1VTRVJfTk9UX0pPSU5FRD0yMDI1XT1cIkVSUl9SRUpPSU5fVVNFUl9OT1RfSk9JTkVEXCIsZVtlLkVSUl9JTlZBTElEX09QVElPTkFMX0lORk89MjAyN109XCJFUlJfSU5WQUxJRF9PUFRJT05BTF9JTkZPXCIsZVtlLklMTEVHQUxfQUVTX1BBU1NXT1JEPTIwMjhdPVwiSUxMRUdBTF9BRVNfUEFTU1dPUkRcIixlW2UuSUxMRUdBTF9DTElFTlRfUk9MRV9MRVZFTD0yMDI5XT1cIklMTEVHQUxfQ0xJRU5UX1JPTEVfTEVWRUxcIixlW2UuRVJSX1RPT19NQU5ZX0JST0FEQ0FTVEVSUz0yMDMxXT1cIkVSUl9UT09fTUFOWV9CUk9BRENBU1RFUlNcIixlW2UuRVJSX1RPT19NQU5ZX1NVQlNDUklCRVJTPTIwMzJdPVwiRVJSX1RPT19NQU5ZX1NVQlNDUklCRVJTXCIsZVtlLkVSUl9MSUNFTlNFX01JU1NJTkc9MzI3NjldPVwiRVJSX0xJQ0VOU0VfTUlTU0lOR1wiLGVbZS5FUlJfTElDRU5TRV9FWFBJUkVEPTMyNzcxXT1cIkVSUl9MSUNFTlNFX0VYUElSRURcIixlW2UuRVJSX0xJQ0VOU0VfTUlOVVRFU19FWENFRURFRD0zMjc3M109XCJFUlJfTElDRU5TRV9NSU5VVEVTX0VYQ0VFREVEXCIsZVtlLkVSUl9MSUNFTlNFX1BFUklPRF9JTlZBTElEPTMyNzc0XT1cIkVSUl9MSUNFTlNFX1BFUklPRF9JTlZBTElEXCIsZVtlLkVSUl9MSUNFTlNFX01VTFRJUExFX1NES19TRVJWSUNFPTMyNzc4XT1cIkVSUl9MSUNFTlNFX01VTFRJUExFX1NES19TRVJWSUNFXCIsZVtlLkVSUl9MSUNFTlNFX0lMTEVHQUw9MzI3ODNdPVwiRVJSX0xJQ0VOU0VfSUxMRUdBTFwiLGVbZS5FUlJfVEVTVF9SRUNPVkVSPTllM109XCJFUlJfVEVTVF9SRUNPVkVSXCIsZVtlLkVSUl9URVNUX1RSWU5FWFQ9OTAwMV09XCJFUlJfVEVTVF9UUllORVhUXCIsZVtlLkVSUl9URVNUX1JFVFJZPTkwMDJdPVwiRVJSX1RFU1RfUkVUUllcIixlfSh7fSksaGI9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuQ09OTkVDVElORz1cImNvbm5lY3RpbmdcIixlLkNPTk5FQ1RFRD1cImNvbm5lY3RlZFwiLGUuUkVDT05ORUNUSU5HPVwicmVjb25uZWN0aW5nXCIsZS5DTE9TRUQ9XCJjbG9zZWRcIixlfSh7fSkscGI9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuV1NfQ09OTkVDVEVEPVwid3NfY29ubmVjdGVkXCIsZS5XU19SRUNPTk5FQ1RJTkc9XCJ3c19yZWNvbm5lY3RpbmdcIixlLldTX0NMT1NFRD1cIndzX2Nsb3NlZFwiLGUuV1NfUkVDT05ORUNUX1dBSVRUSU5HX0ZJTklTSD1cIndzX3JlY29ubmVjdF93YWl0dGluZ19maW5pc2hcIixlLldTX1JFQ09OTkVDVF9DUkVBVEVfQ09OTkVDVElPTj1cIndzX3JlY29ubmVjdF9jcmVhdGVfY29ubmVjdGlvblwiLGUuT05fQklOQVJZX0RBVEE9XCJvbl9iaW5hcnlfZGF0YVwiLGUuUkVRVUVTVF9SRUNPVkVSPVwicmVxdWVzdF9yZWNvdmVyXCIsZS5SRVFVRVNUX0pPSU5fSU5GTz1cInJlcXVlc3Rfam9pbl9pbmZvXCIsZS5SRVFVRVNUX1JFSk9JTl9JTkZPPVwicmVxX3Jlam9pbl9pbmZvXCIsZS5JU19QMlBfRElTQ09OTkVDVEVEPVwiaXNfcDJwX2Rpc1wiLGUuRElTQ09OTkVDVF9QMlA9XCJkaXNfcDJwXCIsZS5BQk9SVF9QMlBfRVhFQ1VUSU9OPVwiYWJvcnRfcDJwX2V4ZWN1dGlvblwiLGUuTkVFRF9SRU5FV19TRVNTSU9OPVwibmVlZC1zaWRcIixlLlJFUE9SVF9KT0lOX0dBVEVXQVk9XCJyZXBvcnRfam9pbl9nYXRld2F5XCIsZS5SRVFVRVNUX1RJTUVPVVQ9XCJyZXF1ZXN0X3RpbWVvdXRcIixlLlJFUVVFU1RfU1VDQ0VTUz1cInJlcXVlc3Rfc3VjY2Vzc1wiLGUuSk9JTl9SRVNQT05TRT1cImpvaW5fcmVzcG9uc2VcIixlLlBSRV9DT05ORUNUX1BDPVwicHJlX2Nvbm5lY3RfcGNcIixlLlAyUF9DT05ORUNUSU9OPVwicDJwX2Nvbm5lY3Rpb25cIixlLlAyUF9SRU1PVEVfQ0FORElEQVRFX1VQREFURT1cInAycF9yZW1vdGVfY2FuZGlkYXRlX3VwZGF0ZVwiLGUuUDJQX1NVQlNDUklCRT1cInAycF9zdWJzY3JpYmVcIixlLlAyUF9VTlNVQlNDUklCRT1cInAycF91bnN1YnNjcmliZVwiLGUuUDJQX0VYQ0hBTkdFX1NEUD1cInAycF9leGNoYW5nZV9zZHBcIixlLlAyUF9PTl9BRERfVklERU9fU1RSRUFNPVwicDJwX29uX2FkZF92aWRlb19zdHJlYW1cIixlLlAyUF9PTl9BRERfQVVESU9fU1RSRUFNPVwicDJwX29uX2FkZF9hdWRpb19zdHJlYW1cIixlfSh7fSksX2I9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuUElORz1cInBpbmdcIixlLlBJTkdfQkFDSz1cInBpbmdfYmFja1wiLGUuSk9JTj1cImpvaW5fdjNcIixlLlJFSk9JTj1cInJlam9pbl92M1wiLGUuTEVBVkU9XCJsZWF2ZVwiLGUuU0VUX0NMSUVOVF9ST0xFPVwic2V0X2NsaWVudF9yb2xlXCIsZS5QVUJMSVNIPVwicHVibGlzaFwiLGUuUFVCTElTSF9EQVRBU1RSRUFNPVwicHVibGlzaF9kYXRhc3RyZWFtXCIsZS5VTlBVQkxJU0g9XCJ1bnB1Ymxpc2hcIixlLlVOUFVCTElTSF9EQVRBU1RSRUFNPVwidW5wdWJsaXNoX2RhdGFzdHJlYW1cIixlLlNVQlNDUklCRT1cInN1YnNjcmliZVwiLGUuUFJFX1NVQlNDUklCRT1cInByZV9zdWJzY3JpYmVcIixlLlNVQlNDUklCRV9EQVRBU1RSRUFNPVwic3Vic2NyaWJlX2RhdGFzdHJlYW1cIixlLlNVQlNDUklCRV9TVFJFQU1TPVwic3Vic2NyaWJlX3N0cmVhbXNcIixlLlVOU1VCU0NSSUJFPVwidW5zdWJzY3JpYmVcIixlLlVOU1VCU0NSSUJFX0RBVEFTVFJFQU09XCJ1bnN1YnNjcmliZV9kYXRhc3RyZWFtXCIsZS5VTlNVQlNDUklCRV9TVFJFQU1TPVwidW5zdWJzY3JpYmVfc3RyZWFtc1wiLGUuU1VCU0NSSUJFX0NIQU5HRT1cInN1YnNjcmliZV9jaGFuZ2VcIixlLlRSQUZGSUNfU1RBVFM9XCJ0cmFmZmljX3N0YXRzXCIsZS5SRU5FV19UT0tFTj1cInJlbmV3X3Rva2VuXCIsZS5TV0lUQ0hfVklERU9fU1RSRUFNPVwic3dpdGNoX3ZpZGVvX3N0cmVhbVwiLGUuREVGQVVMVF9WSURFT19TVFJFQU09XCJkZWZhdWx0X3ZpZGVvX3N0cmVhbVwiLGUuU0VUX0ZBTExCQUNLX09QVElPTj1cInNldF9mYWxsYmFja19vcHRpb25cIixlLkdBVEVXQVlfSU5GTz1cImdhdGV3YXlfaW5mb1wiLGUuQ09OVFJPTD1cImNvbnRyb2xcIixlLlNFTkRfTUVUQURBVEE9XCJzZW5kX21ldGFkYXRhXCIsZS5EQVRBX1NUUkVBTT1cImRhdGFfc3RyZWFtXCIsZS5QSUNLX1NWQ19MQVlFUj1cInBpY2tfc3ZjX2xheWVyXCIsZS5SRVNUQVJUX0lDRT1cInJlc3RhcnRfaWNlXCIsZS5DT05ORUNUX1BDPVwiY29ubmVjdF9wY1wiLGUuU0VUX1ZJREVPX1BST0ZJTEU9XCJzZXRfdmlkZW9fcHJvZmlsZVwiLGUuU0VUX1BBUkFNRVRFUj1cInNldF9wYXJhbWV0ZXJcIixlLlNFVF9SVE0yX0ZMQUc9XCJzZXRfcnRtMl9mbGFnXCIsZX0oe30pLEViPWZ1bmN0aW9uKGUpe3JldHVybiBlLldSVENfU1RBVFM9XCJ3cnRjX3N0YXRzXCIsZS5XU19JTkZMQVRFX0RBVEFfTEVOR1RIPVwid3NfaW5mbGF0ZV9kYXRhX2xlbmd0aFwiLGUuREVOT0lTRVJfU1RBVFM9XCJkZW5vaXNlcl9zdGF0c1wiLGUuRVhURU5TSU9OX1VTQUdFX1NUQVRTPVwiZXh0ZW5zaW9uX3VzYWdlX3N0YXRzXCIsZX0oe30pLG1iPWZ1bmN0aW9uKGUpe3JldHVybiBlLk9OX1VTRVJfT05MSU5FPVwib25fdXNlcl9vbmxpbmVcIixlLk9OX1VTRVJfT0ZGTElORT1cIm9uX3VzZXJfb2ZmbGluZVwiLGUuT05fU1RSRUFNX0ZBTExCQUNLX1VQREFURT1cIm9uX3N0cmVhbV9mYWxsYmFja191cGRhdGVcIixlLk9OX1BVQkxJU0hfU1RSRUFNPVwib25fcHVibGlzaF9zdHJlYW1cIixlLk9OX1VQTElOS19TVEFUUz1cIm9uX3VwbGlua19zdGF0c1wiLGUuT05fUDJQX0xPU1Q9XCJvbl9wMnBfbG9zdFwiLGUuT05fUkVNT1ZFX1NUUkVBTT1cIm9uX3JlbW92ZV9zdHJlYW1cIixlLk9OX0FERF9BVURJT19TVFJFQU09XCJvbl9hZGRfYXVkaW9fc3RyZWFtXCIsZS5PTl9BRERfVklERU9fU1RSRUFNPVwib25fYWRkX3ZpZGVvX3N0cmVhbVwiLGUuT05fVE9LRU5fUFJJVklMRUdFX1dJTExfRVhQSVJFPVwib25fdG9rZW5fcHJpdmlsZWdlX3dpbGxfZXhwaXJlXCIsZS5PTl9UT0tFTl9QUklWSUxFR0VfRElEX0VYUElSRT1cIm9uX3Rva2VuX3ByaXZpbGVnZV9kaWRfZXhwaXJlXCIsZS5PTl9VU0VSX0JBTk5FRD1cIm9uX3VzZXJfYmFubmVkXCIsZS5PTl9VU0VSX0xJQ0VOU0VfQkFOTkVEPVwib25fdXNlcl9saWNlbnNlX2Jhbm5lZFwiLGUuT05fTk9USUZJQ0FUSU9OPVwib25fbm90aWZpY2F0aW9uXCIsZS5PTl9DUllQVF9FUlJPUj1cIm9uX2NyeXB0X2Vycm9yXCIsZS5NVVRFX0FVRElPPVwibXV0ZV9hdWRpb1wiLGUuTVVURV9WSURFTz1cIm11dGVfdmlkZW9cIixlLlVOTVVURV9BVURJTz1cInVubXV0ZV9hdWRpb1wiLGUuVU5NVVRFX1ZJREVPPVwidW5tdXRlX3ZpZGVvXCIsZS5PTl9QMlBfT0s9XCJvbl9wMnBfb2tcIixlLlJFQ0VJVkVfTUVUQURBVEE9XCJyZWNlaXZlX21ldGFkYXRhXCIsZS5PTl9EQVRBX1NUUkVBTT1cIm9uX2RhdGFfc3RyZWFtXCIsZS5PTl9SVFBfQ0FQQUJJTElUWV9DSEFOR0U9XCJvbl9ydHBfY2FwYWJpbGl0eV9jaGFuZ2VcIixlLk9OX1JFTU9URV9EQVRBU1RSRUFNX1VQREFURT1cIm9uX3JlbW90ZV9kYXRhc3RyZWFtX3VwZGF0ZVwiLGUuT05fUkVNT1RFX0ZVTExfREFUQVNUUkVBTV9JTkZPPVwib25fcmVtb3RlX2Z1bGxfZGF0YXN0cmVhbV9pbmZvXCIsZS5FTkFCTEVfTE9DQUxfVklERU89XCJlbmFibGVfbG9jYWxfdmlkZW9cIixlLkRJU0FCTEVfTE9DQUxfVklERU89XCJkaXNhYmxlX2xvY2FsX3ZpZGVvXCIsZS5FTkFCTEVfTE9DQUxfQVVESU89XCJlbmFibGVfbG9jYWxfYXVkaW9cIixlLkRJU0FCTEVfTE9DQUxfQVVESU89XCJkaXNhYmxlX2xvY2FsX2F1ZGlvXCIsZS5PTl9QVUJMSVNIRURfVVNFUl9MSVNUPVwib25fcHVibGlzaGVkX3VzZXJfbGlzdFwiLGV9KHt9KSxmYj1mdW5jdGlvbihlKXtyZXR1cm4gZS5TRU5EX09OTFk9XCJTRU5EX09OTFlcIixlLlJFQ0VJVkVfT05MWT1cIlJFQ0VJVkVfT05MWVwiLGV9KHt9KSxUYj1mdW5jdGlvbihlKXtyZXR1cm4gZS5DT05ORUNURUQ9XCJ3ZWJzb2NrZXQ6Y29ubmVjdGVkXCIsZS5SRUNPTk5FQ1RJTkc9XCJ3ZWJzb2NrZXQ6cmVjb25uZWN0aW5nXCIsZS5XSUxMX1JFQ09OTkVDVD1cIndlYnNvY2tldDp3aWxsX3JlY29ubmVjdFwiLGUuQ0xPU0VEPVwid2Vic29ja2V0OmNsb3NlZFwiLGUuRkFJTEVEPVwid2Vic29ja2V0OmZhaWxlZFwiLGUuT05fTUVTU0FHRT1cIndlYnNvY2tldDpvbl9tZXNzYWdlXCIsZS5SRVFVRVNUX05FV19VUkxTPVwid2Vic29ja2V0OnJlcXVlc3RfbmV3X3VybHNcIixlLlJFQ09OTkVDVF9XQUlUVElOR19GSU5JU0g9XCJ3ZWJzb2NrZXQ6cmVjb25uZWN0X3dhaXR0aW5nX2ZpbmlzaFwiLGUuUkVDT05ORUNUX0NSRUFURV9DT05ORUNUSU9OPVwid2Vic29ja2V0OnJlY29ubmVjdF9jcmVhdGVfY29ubmVjdGlvblwiLGUuT05fVE9LRU5fUFJJVklMRUdFX0RJRF9FWFBJUkU9XCJ3ZWJzb2NrZXQ6b25fdG9rZW5fcHJpdmlsZWdlX2RpZF9leHBpcmVcIixlfSh7fSk7Y2xhc3MgU2IgZXh0ZW5kcyBydntjb25zdHJ1Y3RvcihlKXtzdXBlcihlLGFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpcIlwiLGFyZ3VtZW50cy5sZW5ndGg+Mj9hcmd1bWVudHNbMl06dm9pZCAwKSxvZyh0aGlzLFwibmFtZVwiLFwiQWdvcmFSVENFeGNlcHRpb25cIil9cHJpbnQoKXtsZXQgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06XCJlcnJvclwiO3JldHVybiBzdXBlci5wcmludChlLFF5KX10aHJvdygpe3N1cGVyLnRocm93KFF5KX19ZnVuY3Rpb24gZ2IoZSl7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGV8fCEvXlthLXpBLVowLTkgXFwhXFwjXFwkXFwlXFwmXFwoXFwpXFwrXFwtXFw6XFw7XFw8XFw9XFwuXFw+XFw/XFxAXFxbXFxdXFxeXFxfXFx7XFx9XFx8XFx+XFwsXXsxLDY0fSQvLnRlc3QoZSkpdGhyb3cgUXkuZXJyb3IoXCJJbnZhbGlkIENoYW5uZWwgTmFtZSBcIi5jb25jYXQoZSkpLG5ldyBTYihudi5JTlZBTElEX1BBUkFNUyxcIlRoZSBsZW5ndGggbXVzdCBiZSB3aXRoaW4gNjQgYnl0ZXMuIFRoZSBzdXBwb3J0ZWQgY2hhcmFjdGVyczogYS16LEEtWiwwLTksc3BhY2UsISwgIywgJCwgJSwgJiwgKCwgKSwgKywgLSwgOiwgOywgPCwgPSwgLiwgPiwgPywgQCwgWywgXSwgXiwgXywgIHssIH0sIHwsIH4sICxcIil9ZnVuY3Rpb24gUmIoZSl7aWYoIWZ1bmN0aW9uKGUpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiBlJiZNYXRoLmZsb29yKGUpPT09ZSYmMDw9ZSYmZTw9NDI5NDk2NzI5NX0oZSkmJiFodihlLDEsMjU1KSl0aHJvdyBuZXcgU2IobnYuSU5WQUxJRF9QQVJBTVMsXCJbU3RyaW5nIHVpZF0gTGVuZ3RoIG9mIHRoZSBzdHJpbmc6IFsxLDI1NV0uIEFTQ0lJIGNoYXJhY3RlcnMgb25seS4gW051bWJlciB1aWRdIFRoZSB2YWx1ZSByYW5nZSBpcyBbMCwxMDAwMF1cIik7XCJzdHJpbmdcIj09dHlwZW9mIGUmJlF5Lndhcm4oXCJZb3UgaW5wdXQgYSBzdHJpbmcgYXMgdGhlIHVzZXIgSUQsIHRvIGVuc3VyZSBiZXR0ZXIgZW5kLXVzZXIgZXhwZXJpZW5jZSwgQWdvcmEgaGlnaGx5IHN1Z2dlc3RzIG5vdCB1c2luZyBhIHN0cmluZyBhcyB0aGUgdXNlciBJRC5cIil9bGV0IENiPWZ1bmN0aW9uKGUpe3JldHVybiBlLlRSQU5TQ09ERT1cIm1peF9zdHJlYW1pbmdcIixlLlJBVz1cInJhd19zdHJlYW1pbmdcIixlfSh7fSk7Y29uc3QgSWI9e2FscGhhOjEsaGVpZ2h0OjY0MCx3aWR0aDozNjAseDowLHk6MCx6T3JkZXI6MCxhdWRpb0NoYW5uZWw6MH0sdmI9e3g6MCx5OjAsd2lkdGg6MTYwLGhlaWdodDoxNjAsek9yZGVyOjI1NSxhbHBoYToxfTtmdW5jdGlvbiB5YihlLHQpe2R2KGUudXJsLFwiXCIuY29uY2F0KHQsXCIudXJsXCIpLDEsMWUzLCExKSx1dihlLngpfHxhdihlLngsXCJcIi5jb25jYXQodCxcIi54XCIpLDAsMWU0KSx1dihlLnkpfHxhdihlLnksXCJcIi5jb25jYXQodCxcIi55XCIpLDAsMWU0KSx1dihlLndpZHRoKXx8YXYoZS53aWR0aCxcIlwiLmNvbmNhdCh0LFwiLndpZHRoXCIpLDAsMWU0KSx1dihlLmhlaWdodCl8fGF2KGUuaGVpZ2h0LFwiXCIuY29uY2F0KHQsXCIuaGVpZ2h0XCIpLDAsMWU0KSx1dihlLnpPcmRlcil8fGF2KGUuek9yZGVyLFwiXCIuY29uY2F0KHQsXCIuek9yZGVyXCIpLDAsMjU1KSx1dihlLmFscGhhKXx8YXYoZS5hbHBoYSxcIlwiLmNvbmNhdCh0LFwiLmFscGhhXCIpLDAsMSwhMSl9Y29uc3QgQWI9e2F1ZGlvQml0cmF0ZTo0OCxhdWRpb0NoYW5uZWxzOjEsYXVkaW9TYW1wbGVSYXRlOjQ4ZTMsYmFja2dyb3VuZENvbG9yOjAsaGVpZ2h0OjM2MCxsb3dMYXRlbmN5OiExLHZpZGVvQml0cmF0ZTo0MDAsdmlkZW9Db2RlY1Byb2ZpbGU6MTAwLHZpZGVvQ29kZWNUeXBlOjEsdmlkZW9GcmFtZVJhdGU6MTUsdmlkZW9Hb3A6MzAsd2lkdGg6NjQwLGltYWdlczpbXSx1c2VyQ29uZmlnczpbXSx1c2VyQ29uZmlnRXh0cmFJbmZvOlwiXCJ9O2xldCBiYj1mdW5jdGlvbihlKXtyZXR1cm4gZS5XQVJOSU5HPVwiQGxpdmVfdWFwLXdhcm5pbmdcIixlLkVSUk9SPVwiQGxpbmVfdWFwLWVycm9yXCIsZS5QVUJMSVNIX1NUUkVBTV9TVEFUVVM9XCJAbGl2ZV91YXAtcHVibGlzaC1zdGF0dXNcIixlLldPUktFUl9TVEFUVVM9XCJAbGl2ZV91YXAtd29ya2VyLXN0YXR1c1wiLGUuUkVRVUVTVF9ORVdfQUREUkVTUz1cIkBsaXZlX3VhcC1yZXF1ZXN0LWFkZHJlc3NcIixlfSh7fSksd2I9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuUkVRVUVTVF9XT1JLRVJfTUFOQUdFUl9MSVNUPVwiQGxpdmVfcmVxX3dvcmtlcl9tYW5hZ2VyXCIsZX0oe30pLE9iPWZ1bmN0aW9uKGUpe3JldHVybiBlW2UuTElWRV9TVFJFQU1fUkVTUE9OU0VfU1VDQ0VFRD0yMDBdPVwiTElWRV9TVFJFQU1fUkVTUE9OU0VfU1VDQ0VFRFwiLGVbZS5MSVZFX1NUUkVBTV9SRVNQT05TRV9BTFJFQURZX0VYSVNUU19TVFJFQU09NDU0XT1cIkxJVkVfU1RSRUFNX1JFU1BPTlNFX0FMUkVBRFlfRVhJU1RTX1NUUkVBTVwiLGVbZS5MSVZFX1NUUkVBTV9SRVNQT05TRV9UUkFOU0NPRElOR19QQVJBTUVURVJfRVJST1I9NDUwXT1cIkxJVkVfU1RSRUFNX1JFU1BPTlNFX1RSQU5TQ09ESU5HX1BBUkFNRVRFUl9FUlJPUlwiLGVbZS5MSVZFX1NUUkVBTV9SRVNQT05TRV9CQURfU1RSRUFNPTQ1MV09XCJMSVZFX1NUUkVBTV9SRVNQT05TRV9CQURfU1RSRUFNXCIsZVtlLkxJVkVfU1RSRUFNX1JFU1BPTlNFX1dNX1BBUkFNRVRFUl9FUlJPUj00MDBdPVwiTElWRV9TVFJFQU1fUkVTUE9OU0VfV01fUEFSQU1FVEVSX0VSUk9SXCIsZVtlLkxJVkVfU1RSRUFNX1JFU1BPTlNFX1dNX1dPUktFUl9OT1RfRVhJU1Q9NDA0XT1cIkxJVkVfU1RSRUFNX1JFU1BPTlNFX1dNX1dPUktFUl9OT1RfRVhJU1RcIixlW2UuTElWRV9TVFJFQU1fUkVTUE9OU0VfTk9UX0FVVEhPUklaRUQ9NDU2XT1cIkxJVkVfU1RSRUFNX1JFU1BPTlNFX05PVF9BVVRIT1JJWkVEXCIsZVtlLkxJVkVfU1RSRUFNX1JFU1BPTlNFX0ZBSUxFRF9MT0FEX0lNQUdFPTQ1N109XCJMSVZFX1NUUkVBTV9SRVNQT05TRV9GQUlMRURfTE9BRF9JTUFHRVwiLGVbZS5MSVZFX1NUUkVBTV9SRVNQT05TRV9SRVFVRVNUX1RPT19PRlRFTj00MjldPVwiTElWRV9TVFJFQU1fUkVTUE9OU0VfUkVRVUVTVF9UT09fT0ZURU5cIixlW2UuTElWRV9TVFJFQU1fUkVTUE9OU0VfTk9UX0ZPVU5EX1BVQkxJU0g9NDUyXT1cIkxJVkVfU1RSRUFNX1JFU1BPTlNFX05PVF9GT1VORF9QVUJMSVNIXCIsZVtlLkxJVkVfU1RSRUFNX1JFU1BPTlNFX05PVF9TVVBQT1JURUQ9NDUzXT1cIkxJVkVfU1RSRUFNX1JFU1BPTlNFX05PVF9TVVBQT1JURURcIixlW2UuTElWRV9TVFJFQU1fUkVTUE9OU0VfTUFYX1NUUkVBTV9OVU09NDU1XT1cIkxJVkVfU1RSRUFNX1JFU1BPTlNFX01BWF9TVFJFQU1fTlVNXCIsZVtlLkxJVkVfU1RSRUFNX1JFU1BPTlNFX0lOVEVSTkFMX1NFUlZFUl9FUlJPUj01MDBdPVwiTElWRV9TVFJFQU1fUkVTUE9OU0VfSU5URVJOQUxfU0VSVkVSX0VSUk9SXCIsZVtlLkxJVkVfU1RSRUFNX1JFU1BPTlNFX1dPUktFUl9MT1NUPTUwMV09XCJMSVZFX1NUUkVBTV9SRVNQT05TRV9XT1JLRVJfTE9TVFwiLGVbZS5MSVZFX1NUUkVBTV9SRVNQT05TRV9SRVNPVVJDRV9MSU1JVD01MDJdPVwiTElWRV9TVFJFQU1fUkVTUE9OU0VfUkVTT1VSQ0VfTElNSVRcIixlW2UuTElWRV9TVFJFQU1fUkVTUE9OU0VfV09SS0VSX1FVSVQ9NTAzXT1cIkxJVkVfU1RSRUFNX1JFU1BPTlNFX1dPUktFUl9RVUlUXCIsZVtlLkVSUk9SX0ZBSUxfU0VORF9NRVNTQUdFPTUwNF09XCJFUlJPUl9GQUlMX1NFTkRfTUVTU0FHRVwiLGVbZS5QVUJMSVNIX1NUUkVBTV9TVEFUVVNfRVJST1JfUlRNUF9IQU5EU0hBS0U9MzBdPVwiUFVCTElTSF9TVFJFQU1fU1RBVFVTX0VSUk9SX1JUTVBfSEFORFNIQUtFXCIsZVtlLlBVQkxJU0hfU1RSRUFNX1NUQVRVU19FUlJPUl9SVE1QX0NPTk5FQ1Q9MzFdPVwiUFVCTElTSF9TVFJFQU1fU1RBVFVTX0VSUk9SX1JUTVBfQ09OTkVDVFwiLGVbZS5QVUJMSVNIX1NUUkVBTV9TVEFUVVNfRVJST1JfUlRNUF9QVUJMSVNIPTMyXT1cIlBVQkxJU0hfU1RSRUFNX1NUQVRVU19FUlJPUl9SVE1QX1BVQkxJU0hcIixlW2UuUFVCTElTSF9TVFJFQU1fU1RBVFVTX0VSUk9SX1BVQkxJU0hfQlJPS0VOPTMzXT1cIlBVQkxJU0hfU1RSRUFNX1NUQVRVU19FUlJPUl9QVUJMSVNIX0JST0tFTlwiLGV9KHt9KTtmdW5jdGlvbiBOYihlKXtpZighZS5jaGFubmVsTmFtZSl0aHJvdyBuZXcgU2IobnYuSU5WQUxJRF9QQVJBTVMsXCJpbnZhbGlkIGNoYW5uZWxOYW1lIGluIGluZm9cIik7aWYoXCJudW1iZXJcIiE9dHlwZW9mIGUudWlkKXRocm93IG5ldyBTYihudi5JTlZBTElEX1BBUkFNUyxcImludmFsaWQgdWlkIGluIGluZm8sIHVpZCBtdXN0IGJlIGEgbnVtYmVyXCIpO3JldHVybiBlLnRva2VuJiZkdihlLnRva2VuLFwiaW5mby50b2tlblwiLDEsMjA0NyksUmIoZS51aWQpLGdiKGUuY2hhbm5lbE5hbWUpLCEwfWxldCBEYj1mdW5jdGlvbihlKXtyZXR1cm4gZVtlLlNldFNka1Byb2ZpbGU9MF09XCJTZXRTZGtQcm9maWxlXCIsZVtlLlNldFNvdXJjZUNoYW5uZWw9MV09XCJTZXRTb3VyY2VDaGFubmVsXCIsZVtlLlNldFNvdXJjZVVzZXJJZD0yXT1cIlNldFNvdXJjZVVzZXJJZFwiLGVbZS5TZXREZXN0Q2hhbm5lbD0zXT1cIlNldERlc3RDaGFubmVsXCIsZVtlLlN0YXJ0UGFja2V0VHJhbnNmZXI9NF09XCJTdGFydFBhY2tldFRyYW5zZmVyXCIsZVtlLlN0b3BQYWNrZXRUcmFuc2Zlcj01XT1cIlN0b3BQYWNrZXRUcmFuc2ZlclwiLGVbZS5VcGRhdGVEZXN0Q2hhbm5lbD02XT1cIlVwZGF0ZURlc3RDaGFubmVsXCIsZVtlLlJlY29ubmVjdD03XT1cIlJlY29ubmVjdFwiLGVbZS5TZXRWaWRlb1Byb2ZpbGU9OF09XCJTZXRWaWRlb1Byb2ZpbGVcIixlfSh7fSksUGI9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuTkVUV09SS19ESVNDT05ORUNURUQ9XCJORVRXT1JLX0RJU0NPTk5FQ1RFRFwiLGUuTkVUV09SS19DT05ORUNURUQ9XCJORVRXT1JLX0NPTk5FQ1RFRFwiLGUuUEFDS0VUX0pPSU5FRF9TUkNfQ0hBTk5FTD1cIlBBQ0tFVF9KT0lORURfU1JDX0NIQU5ORUxcIixlLlBBQ0tFVF9KT0lORURfREVTVF9DSEFOTkVMPVwiUEFDS0VUX0pPSU5FRF9ERVNUX0NIQU5ORUxcIixlLlBBQ0tFVF9TRU5UX1RPX0RFU1RfQ0hBTk5FTD1cIlBBQ0tFVF9TRU5UX1RPX0RFU1RfQ0hBTk5FTFwiLGUuUEFDS0VUX1JFQ0VJVkVEX1ZJREVPX0ZST01fU1JDPVwiUEFDS0VUX1JFQ0VJVkVEX1ZJREVPX0ZST01fU1JDXCIsZS5QQUNLRVRfUkVDRUlWRURfQVVESU9fRlJPTV9TUkM9XCJQQUNLRVRfUkVDRUlWRURfQVVESU9fRlJPTV9TUkNcIixlLlBBQ0tFVF9VUERBVEVfREVTVF9DSEFOTkVMPVwiUEFDS0VUX1VQREFURV9ERVNUX0NIQU5ORUxcIixlLlBBQ0tFVF9VUERBVEVfREVTVF9DSEFOTkVMX1JFRlVTRUQ9XCJQQUNLRVRfVVBEQVRFX0RFU1RfQ0hBTk5FTF9SRUZVU0VEXCIsZS5QQUNLRVRfVVBEQVRFX0RFU1RfQ0hBTk5FTF9OT1RfQ0hBTkdFPVwiUEFDS0VUX1VQREFURV9ERVNUX0NIQU5ORUxfTk9UX0NIQU5HRVwiLGV9KHt9KSxMYj1mdW5jdGlvbihlKXtyZXR1cm4gZS5SRUxBWV9TVEFURV9JRExFPVwiUkVMQVlfU1RBVEVfSURMRVwiLGUuUkVMQVlfU1RBVEVfQ09OTkVDVElORz1cIlJFTEFZX1NUQVRFX0NPTk5FQ1RJTkdcIixlLlJFTEFZX1NUQVRFX1JVTk5JTkc9XCJSRUxBWV9TVEFURV9SVU5OSU5HXCIsZS5SRUxBWV9TVEFURV9GQUlMVVJFPVwiUkVMQVlfU1RBVEVfRkFJTFVSRVwiLGV9KHt9KSxrYj1mdW5jdGlvbihlKXtyZXR1cm4gZS5SRUxBWV9PSz1cIlJFTEFZX09LXCIsZS5TRVJWRVJfQ09OTkVDVElPTl9MT1NUPVwiU0VSVkVSX0NPTk5FQ1RJT05fTE9TVFwiLGUuU1JDX1RPS0VOX0VYUElSRUQ9XCJTUkNfVE9LRU5fRVhQSVJFRFwiLGUuREVTVF9UT0tFTl9FWFBJUkVEPVwiREVTVF9UT0tFTl9FWFBJUkVEXCIsZX0oe30pLE1iPWZ1bmN0aW9uKGUpe3JldHVybiBlLkhpZ2g9XCJoaWdoXCIsZS5Mb3c9XCJsb3dcIixlLkF1ZGlvPVwiYXVkaW9cIixlLlNjcmVlbj1cInNjcmVlblwiLGUuU2NyZWVuTG93PVwic2NyZWVuX2xvd1wiLGV9KHt9KSxVYj1mdW5jdGlvbihlKXtyZXR1cm4gZS5ESVNDT05ORUNUPVwiZGlzY29ubmVjdFwiLGUuQ09OTkVDVElPTl9TVEFURV9DSEFOR0U9XCJjb25uZWN0aW9uLXN0YXRlLWNoYW5nZVwiLGUuTkVUV09SS19RVUFMSVRZPVwibmV0d29yay1xdWFsaXR5XCIsZS5TVFJFQU1fVFlQRV9DSEFOR0U9XCJzdHJlYW0tdHlwZS1jaGFuZ2VcIixlLklTX1AyUF9ESVNDT05ORUNURUQ9XCJpcy1wMnAtZGlzXCIsZS5ESVNDT05ORUNUX1AyUD1cImRpcy1wMnBcIixlLlJFUVVFU1RfTkVXX0dBVEVXQVlfTElTVD1cInJlcS1nYXRlLXVybFwiLGUuTkVFRF9SRU5FV19TRVNTSU9OPVwibmVlZC1zaWRcIixlLlJFUVVFU1RfUDJQX0NPTk5FQ1RJT05fUEFSQU1TPVwicmVxdWVzdC1wMnAtY29ubmVjdGlvbi1wYXJhbXNcIixlLkpPSU5fUkVTUE9OU0U9XCJqb2luLXJlc3BvbnNlXCIsZS5SRVNFVF9DT05ORUNUSU9OX0VWRU5UUz1cInJlc2V0LWNvbm5lY3Rpb24tZXZlbnRzXCIsZS5QUkVfQ09OTkVDVF9QQz1cInByZS1jb25uZWN0X3BjXCIsZX0oe30pLHhiPWZ1bmN0aW9uKGUpe3JldHVybiBlLlAyUF9ESVNDT05ORUNURUQ9XCJQMlBfRElTQ09OTkVDVEVEXCIsZS5BX1JPVU5EX1dTX0ZBSUxFRD1cIkFfUk9VTkRfV1NfRkFJTEVEXCIsZS5USU1FT1VUPVwiVElNRU9VVFwiLGUuVU5LTk9XTl9SRUFTT049XCJVTktOT1dOX1JFQVNPTlwiLGV9KHt9KSxWYj1mdW5jdGlvbihlKXtyZXR1cm4gZVtlLk5vdGhpbmc9MF09XCJOb3RoaW5nXCIsZVtlLkF1ZGlvPTFdPVwiQXVkaW9cIixlW2UuTHdvVmlkZW89Ml09XCJMd29WaWRlb1wiLGVbZS5WaWRlbz00XT1cIlZpZGVvXCIsZVtlLkRhdGE9OF09XCJEYXRhXCIsZVtlLkRhdGFTdHJlYW0wPTI1Nl09XCJEYXRhU3RyZWFtMFwiLGVbZS5EYXRhU3RyZWFtMT01MTJdPVwiRGF0YVN0cmVhbTFcIixlW2UuRGF0YVN0cmVhbTI9MTAyNF09XCJEYXRhU3RyZWFtMlwiLGVbZS5EYXRhU3RyZWFtMz0yMDQ4XT1cIkRhdGFTdHJlYW0zXCIsZVtlLkRhdGFTdHJlYW00PTQwOTZdPVwiRGF0YVN0cmVhbTRcIixlW2UuRGF0YVN0cmVhbTU9ODE5Ml09XCJEYXRhU3RyZWFtNVwiLGVbZS5EYXRhU3RyZWFtNj0xNjM4NF09XCJEYXRhU3RyZWFtNlwiLGVbZS5EYXRhU3RyZWFtNz0zMjc2OF09XCJEYXRhU3RyZWFtN1wiLGV9KHt9KSxGYj1mdW5jdGlvbihlKXtyZXR1cm4gZS5DSElOQT1cIkNISU5BXCIsZS5BU0lBPVwiQVNJQVwiLGUuTk9SVEhfQU1FUklDQT1cIk5PUlRIX0FNRVJJQ0FcIixlLkVVUk9QRT1cIkVVUk9QRVwiLGUuSkFQQU49XCJKQVBBTlwiLGUuSU5ESUE9XCJJTkRJQVwiLGUuS09SRUE9XCJLT1JFQVwiLGUuSEtNQz1cIkhLTUNcIixlLlVTPVwiVVNcIixlLk9DRUFOSUE9XCJPQ0VBTklBXCIsZS5TT1VUSF9BTUVSSUNBPVwiU09VVEhfQU1FUklDQVwiLGUuQUZSSUNBPVwiQUZSSUNBXCIsZS5PVkVSU0VBPVwiT1ZFUlNFQVwiLGUuR0xPQkFMPVwiR0xPQkFMXCIsZS5FWFRFTlNJT05TPVwiRVhURU5TSU9OU1wiLGV9KHt9KTtjb25zdCBCYj1bRmIuQUZSSUNBLEZiLkFTSUEsRmIuQ0hJTkEsRmIuRVVST1BFLEZiLkdMT0JBTCxGYi5JTkRJQSxGYi5KQVBBTixGYi5OT1JUSF9BTUVSSUNBLEZiLk9DRUFOSUEsRmIuT1ZFUlNFQSxGYi5TT1VUSF9BTUVSSUNBXTtsZXQgamI9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuQ0hJTkE9XCJDTlwiLGUuQVNJQT1cIkFTXCIsZS5OT1JUSF9BTUVSSUNBPVwiTkFcIixlLkVVUk9QRT1cIkVVXCIsZS5KQVBBTj1cIkpQXCIsZS5JTkRJQT1cIklOXCIsZS5LT1JFQT1cIktSXCIsZS5IS01DPVwiSEtcIixlLlVTPVwiVVNcIixlLk9DRUFOSUE9XCJPQ1wiLGUuU09VVEhfQU1FUklDQT1cIlNBXCIsZS5BRlJJQ0E9XCJBRlwiLGUuT1ZFUlNFQT1cIk9WRVJTRUFcIixlLkdMT0JBTD1cIkdMT0JBTFwiLGUuRVhURU5TSU9OUz1cIkdMT0JBTFwiLGV9KHt9KTtjb25zdCBHYj17Q0hJTkE6e30sQVNJQTp7Q09ERTpqYi5BU0lBLFdFQkNTX0RPTUFJTjpbXCJhcC13ZWItMS1hc2lhLmFnb3JhLmlvXCJdLFdFQkNTX0RPTUFJTl9CQUNLVVBfTElTVDpbXCJhcC13ZWItMi1hc2lhLmFnb3JhLmlvXCJdLFBST1hZX0NTOltcInByb3h5LWFwLXdlYi1hc2lhLmFnb3JhLmlvXCJdLENEU19BUDpbXCJjZHMtYXAtd2ViLWFzaWEuYWdvcmEuaW9cIixcImNkcy1hcC13ZWItYXNpYTIuYWdvcmEuaW9cIl0sQUNDT1VOVF9SRUdJU1RFUjpbXCJzdWEtYXAtd2ViLWFzaWEuYWdvcmEuaW9cIixcInN1YS1hcC13ZWItYXNpYTIuYWdvcmEuaW9cIl0sVUFQX0FQOltcInVhcC1hcC13ZWItYXNpYS5hZ29yYS5pb1wiLFwidWFwLWFwLXdlYi1hc2lhMi5hZ29yYS5pb1wiXSxFVkVOVF9SRVBPUlRfRE9NQUlOOltcInN0YXRzY29sbGVjdG9yLTEtYXNpYS5hZ29yYS5pb1wiXSxFVkVOVF9SRVBPUlRfQkFDS1VQX0RPTUFJTjpbXCJzdGF0c2NvbGxlY3Rvci0yLWFzaWEuYWdvcmEuaW9cIl0sTE9HX1VQTE9BRF9TRVJWRVI6W1wibG9nc2VydmljZS1hc2lhLmFnb3JhLmlvXCJdLFBST1hZX1NFUlZFUl9UWVBFMzpbXCJzb3V0aGVhc3QtYXNpYS53ZWJydGMtY2xvdWQtcHJveHkuc2QtcnRuLmNvbVwiXX0sTk9SVEhfQU1FUklDQTp7Q09ERTpqYi5OT1JUSF9BTUVSSUNBLFdFQkNTX0RPTUFJTjpbXCJhcC13ZWItMS1ub3J0aC1hbWVyaWNhLmFnb3JhLmlvXCJdLFdFQkNTX0RPTUFJTl9CQUNLVVBfTElTVDpbXCJhcC13ZWItMi1ub3J0aC1hbWVyaWNhLmFnb3JhLmlvXCJdLFBST1hZX0NTOltcInByb3h5LWFwLXdlYi1hbWVyaWNhLmFnb3JhLmlvXCJdLENEU19BUDpbXCJjZHMtYXAtd2ViLWFtZXJpY2EuYWdvcmEuaW9cIixcImNkcy1hcC13ZWItYW1lcmljYTIuYWdvcmEuaW9cIl0sQUNDT1VOVF9SRUdJU1RFUjpbXCJzdWEtYXAtd2ViLWFtZXJpY2EuYWdvcmEuaW9cIixcInN1YS1hcC13ZWItYW1lcmljYTIuYWdvcmEuaW9cIl0sVUFQX0FQOltcInVhcC1hcC13ZWItYW1lcmljYS5hZ29yYS5pb1wiLFwidWFwLWFwLXdlYi1hbWVyaWNhMi5hZ29yYS5pb1wiXSxFVkVOVF9SRVBPUlRfRE9NQUlOOltcInN0YXRzY29sbGVjdG9yLTEtbm9ydGgtYW1lcmljYS5hZ29yYS5pb1wiXSxFVkVOVF9SRVBPUlRfQkFDS1VQX0RPTUFJTjpbXCJzdGF0c2NvbGxlY3Rvci0yLW5vcnRoLWFtZXJpY2EuYWdvcmEuaW9cIl0sTE9HX1VQTE9BRF9TRVJWRVI6W1wibG9nc2VydmljZS1ub3J0aC1hbWVyaWNhLmFnb3JhLmlvXCJdLFBST1hZX1NFUlZFUl9UWVBFMzpbXCJlYXN0LXVzYS53ZWJydGMtY2xvdWQtcHJveHkuc2QtcnRuLmNvbVwiXX0sRVVST1BFOntDT0RFOmpiLkVVUk9QRSxXRUJDU19ET01BSU46W1wiYXAtd2ViLTEtZXVyb3BlLmFnb3JhLmlvXCJdLFdFQkNTX0RPTUFJTl9CQUNLVVBfTElTVDpbXCJhcC13ZWItMi1ldXJvcGUuYWdvcmEuaW9cIl0sUFJPWFlfQ1M6W1wicHJveHktYXAtd2ViLWV1cm9wZS5hZ29yYS5pb1wiXSxDRFNfQVA6W1wiY2RzLWFwLXdlYi1ldXJvcGUuYWdvcmEuaW9cIixcImNkcy1hcC13ZWItZXVyb3BlMi5hZ29yYS5pb1wiXSxBQ0NPVU5UX1JFR0lTVEVSOltcInN1YS1hcC13ZWItZXVyb3BlLmFnb3JhLmlvXCIsXCJzdWEtYXAtd2ViLWV1cm9wZS5hZ29yYS5pb1wiXSxVQVBfQVA6W1widWFwLWFwLXdlYi1ldXJvcGUuYWdvcmEuaW9cIixcInVhcC1hcC13ZWItZXVyb3BlMi5hZ29yYS5pb1wiXSxFVkVOVF9SRVBPUlRfRE9NQUlOOltcInN0YXRzY29sbGVjdG9yLTEtZXVyb3BlLmFnb3JhLmlvXCJdLEVWRU5UX1JFUE9SVF9CQUNLVVBfRE9NQUlOOltcInN0YXRzY29sbGVjdG9yLTItZXVyb3BlLmFnb3JhLmlvXCJdLExPR19VUExPQURfU0VSVkVSOltcImxvZ3NlcnZpY2UtZXVyb3BlLmFnb3JhLmlvXCJdLFBST1hZX1NFUlZFUl9UWVBFMzpbXCJldXJvcGUud2VicnRjLWNsb3VkLXByb3h5LnNkLXJ0bi5jb21cIl19LEpBUEFOOntDT0RFOmpiLkpBUEFOLFdFQkNTX0RPTUFJTjpbXCJhcC13ZWItMS1qYXBhbi5hZ29yYS5pb1wiXSxXRUJDU19ET01BSU5fQkFDS1VQX0xJU1Q6W1wiYXAtd2ViLTItamFwYW4uYWdvcmEuaW9cIl0sUFJPWFlfQ1M6W1wicHJveHktYXAtd2ViLWphcGFuLmFnb3JhLmlvXCJdLENEU19BUDpbXCJjZHMtYXAtd2ViLWphcGFuLmFnb3JhLmlvXCIsXCJjZHMtYXAtd2ViLWphcGFuMi5hZ29yYS5pb1wiXSxBQ0NPVU5UX1JFR0lTVEVSOltcInN1YS1hcC13ZWItamFwYW4uYWdvcmEuaW9cIixcInN1YS1hcC13ZWItamFwYW4yLmFnb3JhLmlvXCJdLFVBUF9BUDpbXCJ1YXAtYXAtd2ViLWphcGFuLmFnb3JhLmlvXCIsXCJ1YXAtYXAtd2ViLWphcGFuMi5hZ29yYS5pb1wiXSxFVkVOVF9SRVBPUlRfRE9NQUlOOltcInN0YXRzY29sbGVjdG9yLTEtamFwYW4uYWdvcmEuaW9cIl0sRVZFTlRfUkVQT1JUX0JBQ0tVUF9ET01BSU46W1wic3RhdHNjb2xsZWN0b3ItMi1qYXBhbi5hZ29yYS5pb1wiXSxMT0dfVVBMT0FEX1NFUlZFUjpbXCJsb2dzZXJ2aWNlLWphcGFuLmFnb3JhLmlvXCJdLFBST1hZX1NFUlZFUl9UWVBFMzpbXCJqYXBhbi53ZWJydGMtY2xvdWQtcHJveHkuc2QtcnRuLmNvbVwiXX0sSU5ESUE6e0NPREU6amIuSU5ESUEsV0VCQ1NfRE9NQUlOOltcImFwLXdlYi0xLWluZGlhLmFnb3JhLmlvXCJdLFdFQkNTX0RPTUFJTl9CQUNLVVBfTElTVDpbXCJhcC13ZWItMi1pbmRpYS5hZ29yYS5pb1wiXSxQUk9YWV9DUzpbXCJwcm94eS1hcC13ZWItaW5kaWEuYWdvcmEuaW9cIl0sQ0RTX0FQOltcImNkcy1hcC13ZWItaW5kaWEuYWdvcmEuaW9cIixcImNkcy1hcC13ZWItaW5kaWEyLmFnb3JhLmlvXCJdLEFDQ09VTlRfUkVHSVNURVI6W1wic3VhLWFwLXdlYi1pbmRpYS5hZ29yYS5pb1wiLFwic3VhLWFwLXdlYi1pbmRpYTIuYWdvcmEuaW9cIl0sVUFQX0FQOltcInVhcC1hcC13ZWItaW5kaWEuYWdvcmEuaW9cIixcInVhcC1hcC13ZWItaW5kaWEyLmFnb3JhLmlvXCJdLEVWRU5UX1JFUE9SVF9ET01BSU46W1wic3RhdHNjb2xsZWN0b3ItMS1pbmRpYS5hZ29yYS5pb1wiXSxFVkVOVF9SRVBPUlRfQkFDS1VQX0RPTUFJTjpbXCJzdGF0c2NvbGxlY3Rvci0yLWluZGlhLmFnb3JhLmlvXCJdLExPR19VUExPQURfU0VSVkVSOltcImxvZ3NlcnZpY2UtaW5kaWEuYWdvcmEuaW9cIl0sUFJPWFlfU0VSVkVSX1RZUEUzOltcImluZGlhLndlYnJ0Yy1jbG91ZC1wcm94eS5zZC1ydG4uY29tXCJdfSxLT1JFQTp7Q09ERTpqYi5LT1JFQSxXRUJDU19ET01BSU46W1wiYXAtd2ViLTEta29yZWEuYWdvcmEuaW9cIl0sV0VCQ1NfRE9NQUlOX0JBQ0tVUF9MSVNUOltcImFwLXdlYi0yLWtvcmVhLmFnb3JhLmlvXCJdLFBST1hZX0NTOltcInByb3h5LWFwLXdlYi1rb3JlYS5hZ29yYS5pb1wiXSxDRFNfQVA6W1wiY2RzLWFwLXdlYi1rb3JlYS5hZ29yYS5pb1wiLFwiY2RzLWFwLXdlYi1rb3JlYTIuYWdvcmEuaW9cIl0sQUNDT1VOVF9SRUdJU1RFUjpbXCJzdWEtYXAtd2ViLWtvcmVhLmFnb3JhLmlvXCIsXCJzdWEtYXAtd2ViLWtvcmVhMi5hZ29yYS5pb1wiXSxVQVBfQVA6W1widWFwLWFwLXdlYi1rb3JlYS5hZ29yYS5pb1wiLFwidWFwLWFwLXdlYi1rb3JlYTIuYWdvcmEuaW9cIl0sRVZFTlRfUkVQT1JUX0RPTUFJTjpbXCJzdGF0c2NvbGxlY3Rvci0xLWtvcmVhLmFnb3JhLmlvXCJdLEVWRU5UX1JFUE9SVF9CQUNLVVBfRE9NQUlOOltcInN0YXRzY29sbGVjdG9yLTIta29yZWEuYWdvcmEuaW9cIl0sTE9HX1VQTE9BRF9TRVJWRVI6W1wibG9nc2VydmljZS1rb3JlYS5hZ29yYS5pb1wiXSxQUk9YWV9TRVJWRVJfVFlQRTM6W1wia29yZWEud2VicnRjLWNsb3VkLXByb3h5LnNkLXJ0bi5jb21cIl19LEhLTUM6e0NPREU6amIuSEtNQyxXRUJDU19ET01BSU46W1wiYXAtd2ViLTEtaGttYy5hZ29yYS5pb1wiXSxXRUJDU19ET01BSU5fQkFDS1VQX0xJU1Q6W1wiYXAtd2ViLTItaGttYy5hZ29yYS5pb1wiXSxQUk9YWV9DUzpbXCJwcm94eS1hcC13ZWItaGttYy5hZ29yYS5pb1wiXSxDRFNfQVA6W1wiY2RzLWFwLXdlYi1oa21jLmFnb3JhLmlvXCIsXCJjZHMtYXAtd2ViLWhrbWMyLmFnb3JhLmlvXCJdLEFDQ09VTlRfUkVHSVNURVI6W1wic3VhLWFwLXdlYi1oa21jLmFnb3JhLmlvXCIsXCJzdWEtYXAtd2ViLWhrbWMyLmFnb3JhLmlvXCJdLFVBUF9BUDpbXCJ1YXAtYXAtd2ViLWhrbWMuYWdvcmEuaW9cIixcInVhcC1hcC13ZWItaGttYzIuYWdvcmEuaW9cIl0sRVZFTlRfUkVQT1JUX0RPTUFJTjpbXCJzdGF0c2NvbGxlY3Rvci0xLWhrbWMuYWdvcmEuaW9cIl0sRVZFTlRfUkVQT1JUX0JBQ0tVUF9ET01BSU46W1wic3RhdHNjb2xsZWN0b3ItMi1oa21jLmFnb3JhLmlvXCJdLExPR19VUExPQURfU0VSVkVSOltcImxvZ3NlcnZpY2UtaGttYy5hZ29yYS5pb1wiXSxQUk9YWV9TRVJWRVJfVFlQRTM6W1wiaGttYy53ZWJydGMtY2xvdWQtcHJveHkuc2QtcnRuLmNvbVwiXX0sVVM6e0NPREU6amIuVVMsV0VCQ1NfRE9NQUlOOltcImFwLXdlYi0xLXVzLmFnb3JhLmlvXCJdLFdFQkNTX0RPTUFJTl9CQUNLVVBfTElTVDpbXCJhcC13ZWItMi11cy5hZ29yYS5pb1wiXSxQUk9YWV9DUzpbXCJwcm94eS1hcC13ZWItdXMuYWdvcmEuaW9cIl0sQ0RTX0FQOltcImNkcy1hcC13ZWItdXMuYWdvcmEuaW9cIixcImNkcy1hcC13ZWItdXMyLmFnb3JhLmlvXCJdLEFDQ09VTlRfUkVHSVNURVI6W1wic3VhLWFwLXdlYi11cy5hZ29yYS5pb1wiLFwic3VhLWFwLXdlYi11czIuYWdvcmEuaW9cIl0sVUFQX0FQOltcInVhcC1hcC13ZWItdXMuYWdvcmEuaW9cIixcInVhcC1hcC13ZWItdXMyLmFnb3JhLmlvXCJdLEVWRU5UX1JFUE9SVF9ET01BSU46W1wic3RhdHNjb2xsZWN0b3ItMS11cy5hZ29yYS5pb1wiXSxFVkVOVF9SRVBPUlRfQkFDS1VQX0RPTUFJTjpbXCJzdGF0c2NvbGxlY3Rvci0yLXVzLmFnb3JhLmlvXCJdLExPR19VUExPQURfU0VSVkVSOltcImxvZ3NlcnZpY2UtdXMuYWdvcmEuaW9cIl0sUFJPWFlfU0VSVkVSX1RZUEUzOltcInVzLndlYnJ0Yy1jbG91ZC1wcm94eS5zZC1ydG4uY29tXCJdfSxPVkVSU0VBOntDT0RFOmpiLk9WRVJTRUEsV0VCQ1NfRE9NQUlOOltcImFwLXdlYi0xLW92ZXJzZWEuYWdvcmEuaW9cIl0sV0VCQ1NfRE9NQUlOX0JBQ0tVUF9MSVNUOltcImFwLXdlYi0yLW92ZXJzZWEuYWdvcmEuaW9cIl0sUFJPWFlfQ1M6W1wicHJveHktYXAtd2ViLW92ZXJzZWEuYWdvcmEuaW9cIl0sQ0RTX0FQOltcImNkcy1hcC13ZWItb3ZlcnNlYS5hZ29yYS5pb1wiXSxBQ0NPVU5UX1JFR0lTVEVSOltcInN1YS1hcC13ZWItb3ZlcnNlYS5hZ29yYS5pb1wiXSxVQVBfQVA6W1widWFwLWFwLXdlYi1vdmVyc2VhLmFnb3JhLmlvXCJdLEVWRU5UX1JFUE9SVF9ET01BSU46W1wic3RhdHNjb2xsZWN0b3ItMS1vdmVyc2VhLmFnb3JhLmlvXCJdLEVWRU5UX1JFUE9SVF9CQUNLVVBfRE9NQUlOOltcInN0YXRzY29sbGVjdG9yLTItb3ZlcnNlYS5hZ29yYS5pb1wiXSxMT0dfVVBMT0FEX1NFUlZFUjpbXCJsb2dzZXJ2aWNlLW92ZXJzZWEuYWdvcmEuaW9cIl0sUFJPWFlfU0VSVkVSX1RZUEUzOltcIndlYnJ0Yy1jbG91ZC1wcm94eS5hZ29yYS5pb1wiXX0sR0xPQkFMOntDT0RFOmpiLkdMT0JBTCxXRUJDU19ET01BSU46W1wid2VicnRjMi1hcC13ZWItMS5hZ29yYS5pb1wiXSxXRUJDU19ET01BSU5fQkFDS1VQX0xJU1Q6W1wid2VicnRjMi1hcC13ZWItMy5hZ29yYS5pb1wiXSxQUk9YWV9DUzpbXCJhcC1wcm94eS0xLmFnb3JhLmlvXCIsXCJhcC1wcm94eS0yLmFnb3JhLmlvXCJdLENEU19BUDpbXCJjZHMtYXAtd2ViLTEuYWdvcmEuaW9cIixcImNkcy1hcC13ZWItMy5hZ29yYS5pb1wiXSxBQ0NPVU5UX1JFR0lTVEVSOltcInN1YS1hcC13ZWItMS5hZ29yYS5pb1wiLFwic3VhLWFwLXdlYi0zLmFnb3JhLmlvXCJdLFVBUF9BUDpbXCJ1YXAtYXAtd2ViLTEuYWdvcmEuaW9cIixcInVhcC1hcC13ZWItMy5hZ29yYS5pb1wiXSxFVkVOVF9SRVBPUlRfRE9NQUlOOltcInN0YXRzY29sbGVjdG9yLTEuYWdvcmEuaW9cIl0sRVZFTlRfUkVQT1JUX0JBQ0tVUF9ET01BSU46W1wic3RhdHNjb2xsZWN0b3ItMi5hZ29yYS5pb1wiXSxMT0dfVVBMT0FEX1NFUlZFUjpbXCJsb2dzZXJ2aWNlLmFnb3JhLmlvXCJdLFBST1hZX1NFUlZFUl9UWVBFMzpbXCJ3ZWJydGMtY2xvdWQtcHJveHkuc2QtcnRuLmNvbVwiXX0sT0NFQU5JQTp7Q09ERTpqYi5PQ0VBTklBLFdFQkNTX0RPTUFJTjpbXCJhcC13ZWItMS1vY2VhbmlhLmFnb3JhLmlvXCJdLFdFQkNTX0RPTUFJTl9CQUNLVVBfTElTVDpbXCJhcC13ZWItMi1vY2VhbmlhLmFnb3JhLmlvXCJdLFBST1hZX0NTOltcInByb3h5LWFwLXdlYi1vY2VhbmlhLmFnb3JhLmlvXCJdLENEU19BUDpbXCJjZHMtYXAtd2ViLW9jZWFuaWEuYWdvcmEuaW9cIixcImNkcy1hcC13ZWItb2NlYW5pYTIuYWdvcmEuaW9cIl0sQUNDT1VOVF9SRUdJU1RFUjpbXCJzdWEtYXAtd2ViLW9jZWFuaWEuYWdvcmEuaW9cIixcInN1YS1hcC13ZWItb2NlYW5pYTIuYWdvcmEuaW9cIl0sVUFQX0FQOltcInVhcC1hcC13ZWItb2NlYW5pYS5hZ29yYS5pb1wiLFwidWFwLWFwLXdlYi1vY2VhbmlhMi5hZ29yYS5pb1wiXSxFVkVOVF9SRVBPUlRfRE9NQUlOOltcInN0YXRzY29sbGVjdG9yLTEtb2NlYW5pYS5hZ29yYS5pb1wiXSxFVkVOVF9SRVBPUlRfQkFDS1VQX0RPTUFJTjpbXCJzdGF0c2NvbGxlY3Rvci0yLW9jZWFuaWEuYWdvcmEuaW9cIl0sTE9HX1VQTE9BRF9TRVJWRVI6W1wibG9nc2VydmljZS1vY2VhbmlhLmFnb3JhLmlvXCJdLFBST1hZX1NFUlZFUl9UWVBFMzpbXCJvY2VhbmlhLndlYnJ0Yy1jbG91ZC1wcm94eS5zZC1ydG4uY29tXCJdfSxTT1VUSF9BTUVSSUNBOntDT0RFOmpiLlNPVVRIX0FNRVJJQ0EsV0VCQ1NfRE9NQUlOOltcImFwLXdlYi0xLXNvdXRoLWFtZXJpY2EuYWdvcmEuaW9cIl0sV0VCQ1NfRE9NQUlOX0JBQ0tVUF9MSVNUOltcImFwLXdlYi0yLXNvdXRoLWFtZXJpY2EuYWdvcmEuaW9cIl0sUFJPWFlfQ1M6W1wicHJveHktYXAtd2ViLXNvdXRoLWFtZXJpY2EuYWdvcmEuaW9cIl0sQ0RTX0FQOltcImNkcy1hcC13ZWItc291dGgtYW1lcmljYS5hZ29yYS5pb1wiLFwiY2RzLWFwLXdlYi1zb3V0aC1hbWVyaWNhMi5hZ29yYS5pb1wiXSxBQ0NPVU5UX1JFR0lTVEVSOltcInN1YS1hcC13ZWItc291dGgtYW1lcmljYS5hZ29yYS5pb1wiLFwic3VhLWFwLXdlYi1zb3V0aC1hbWVyaWNhMi5hZ29yYS5pb1wiXSxVQVBfQVA6W1widWFwLWFwLXdlYi1zb3V0aC1hbWVyaWNhLmFnb3JhLmlvXCIsXCJ1YXAtYXAtd2ViLXNvdXRoLWFtZXJpY2EyLmFnb3JhLmlvXCJdLEVWRU5UX1JFUE9SVF9ET01BSU46W1wic3RhdHNjb2xsZWN0b3ItMS1zb3V0aC1hbWVyaWNhLmFnb3JhLmlvXCJdLEVWRU5UX1JFUE9SVF9CQUNLVVBfRE9NQUlOOltcInN0YXRzY29sbGVjdG9yLTItc291dGgtYW1lcmljYS5hZ29yYS5pb1wiXSxMT0dfVVBMT0FEX1NFUlZFUjpbXCJsb2dzZXJ2aWNlLXNvdXRoLWFtZXJpY2EuYWdvcmEuaW9cIl0sUFJPWFlfU0VSVkVSX1RZUEUzOltcInNvdXRoLWFtZXJpY2Eud2VicnRjLWNsb3VkLXByb3h5LnNkLXJ0bi5jb21cIl19LEFGUklDQTp7Q09ERTpqYi5BRlJJQ0EsV0VCQ1NfRE9NQUlOOltcImFwLXdlYi0xLWFmcmljYS5hZ29yYS5pb1wiXSxXRUJDU19ET01BSU5fQkFDS1VQX0xJU1Q6W1wiYXAtd2ViLTItYWZyaWNhLmFnb3JhLmlvXCJdLFBST1hZX0NTOltcInByb3h5LWFwLXdlYi1hZnJpY2EuYWdvcmEuaW9cIl0sQ0RTX0FQOltcImNkcy1hcC13ZWItYWZyaWNhLmFnb3JhLmlvXCIsXCJjZHMtYXAtd2ViLWFmcmljYTIuYWdvcmEuaW9cIl0sQUNDT1VOVF9SRUdJU1RFUjpbXCJzdWEtYXAtd2ViLWFmcmljYS5hZ29yYS5pb1wiLFwic3VhLWFwLXdlYi1hZnJpY2EyLmFnb3JhLmlvXCJdLFVBUF9BUDpbXCJ1YXAtYXAtd2ViLWFmcmljYS5hZ29yYS5pb1wiLFwidWFwLWFwLXdlYi1hZnJpY2EyLmFnb3JhLmlvXCJdLEVWRU5UX1JFUE9SVF9ET01BSU46W1wic3RhdHNjb2xsZWN0b3ItMS1hZnJpY2EuYWdvcmEuaW9cIl0sRVZFTlRfUkVQT1JUX0JBQ0tVUF9ET01BSU46W1wic3RhdHNjb2xsZWN0b3ItMi1hZnJpY2EuYWdvcmEuaW9cIl0sTE9HX1VQTE9BRF9TRVJWRVI6W1wibG9nc2VydmljZS1zb3V0aC1hZnJpY2EuYWdvcmEuaW9cIl0sUFJPWFlfU0VSVkVSX1RZUEUzOltcImFmcmljYS53ZWJydGMtY2xvdWQtcHJveHkuc2QtcnRuLmNvbVwiXX0sRVhURU5TSU9OUzp7fX07eXkmJihHYi5DSElOQT17Q09ERTpqYi5DSElOQSxXRUJDU19ET01BSU46W1wid2VicnRjMi0yLmFwLnNkLXJ0bi5jb21cIl0sV0VCQ1NfRE9NQUlOX0JBQ0tVUF9MSVNUOltcIndlYnJ0YzItNC5hcC5zZC1ydG4uY29tXCJdLFBST1hZX0NTOltcInByb3h5LXdlYi5hcC5zZC1ydG4uY29tXCJdLENEU19BUDpbXCJjZHMtd2ViLTIuYXAuc2QtcnRuLmNvbVwiLFwiY2RzLXdlYi00LmFwLnNkLXJ0bi5jb21cIl0sQUNDT1VOVF9SRUdJU1RFUjpbXCJzdWEtd2ViLTIuYXAuc2QtcnRuLmNvbVwiLFwic3VhLXdlYi00LmFwLnNkLXJ0bi5jb21cIl0sVUFQX0FQOltcInVhcC13ZWItMi5hcC5zZC1ydG4uY29tXCIsXCJ1YXAtd2ViLTQuYXAuc2QtcnRuLmNvbVwiXSxFVkVOVF9SRVBPUlRfRE9NQUlOOltcIndlYi0zLnN0YXRzY29sbGVjdG9yLnNkLXJ0bi5jb21cIl0sRVZFTlRfUkVQT1JUX0JBQ0tVUF9ET01BSU46W1wid2ViLTQuc3RhdHNjb2xsZWN0b3Iuc2QtcnRuLmNvbVwiXSxMT0dfVVBMT0FEX1NFUlZFUjpbXCJsb2dzZXJ2aWNlLWNoaW5hLmFnb3JhLmlvXCJdLFBST1hZX1NFUlZFUl9UWVBFMzpbXCJlYXN0LWNuLndlYnJ0Yy1jbG91ZC1wcm94eS5zZC1ydG4uY29tXCJdfSk7bGV0IFdiPWZ1bmN0aW9uKGUpe3JldHVybiBlLlVQREFURV9CSVRSQVRFX0xJTUlUPVwidXBkYXRlX2JpdHJhdGVfbGltaXRcIixlfSh7fSk7Y2xhc3MgSGIgZXh0ZW5kcyBTdntjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKCksb2codGhpcyxcIm9uSUNFQ29ubmVjdGlvblN0YXRlQ2hhbmdlXCIsdm9pZCAwKSxvZyh0aGlzLFwib25Db25uZWN0aW9uU3RhdGVDaGFuZ2VcIix2b2lkIDApLG9nKHRoaXMsXCJvbkRUTFNUcmFuc3BvcnRTdGF0ZUNoYW5nZVwiLHZvaWQgMCksb2codGhpcyxcIm9uRFRMU1RyYW5zcG9ydEVycm9yXCIsdm9pZCAwKSxvZyh0aGlzLFwib25JQ0VUcmFuc3BvcnRTdGF0ZUNoYW5nZVwiLHZvaWQgMCksb2codGhpcyxcIm9uRmlyc3RBdWRpb1JlY2VpdmVkXCIsdm9pZCAwKSxvZyh0aGlzLFwib25GaXJzdFZpZGVvUmVjZWl2ZWRcIix2b2lkIDApLG9nKHRoaXMsXCJvbkZpcnN0QXVkaW9EZWNvZGVkXCIsdm9pZCAwKSxvZyh0aGlzLFwib25GaXJzdFZpZGVvRGVjb2RlZFwiLHZvaWQgMCksb2codGhpcyxcIm9uRmlyc3RWaWRlb0RlY29kZWRUaW1lb3V0XCIsdm9pZCAwKSxvZyh0aGlzLFwib25TZWxlY3RlZExvY2FsQ2FuZGlkYXRlQ2hhbmdlZFwiLHZvaWQgMCksb2codGhpcyxcIm9uU2VsZWN0ZWRSZW1vdGVDYW5kaWRhdGVDaGFuZ2VkXCIsdm9pZCAwKSxvZyh0aGlzLFwiZ2V0TG9jYWxWaWRlb1N0YXRzXCIsdm9pZCAwKX19Y2xhc3MgS2IgZXh0ZW5kcyBIYntjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUsdCksb2codGhpcyxcImVzdGFibGlzaFByb21pc2VcIix2b2lkIDApfX1sZXQgWWI9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuVklERU89XCJ2aWRlb1wiLGUuQVVESU89XCJhdWRpb1wiLGV9KHt9KSxxYj1mdW5jdGlvbihlKXtyZXR1cm4gZVtlLlVEUD0wXT1cIlVEUFwiLGVbZS5UQ1A9MV09XCJUQ1BcIixlW2UuUkVMQVk9Ml09XCJSRUxBWVwiLGV9KHt9KSx6Yj1mdW5jdGlvbihlKXtyZXR1cm4gZVtlLkZJUlNUX0NPTk5FQ1RJT049MF09XCJGSVJTVF9DT05ORUNUSU9OXCIsZVtlLlRDUF9SRVNUQVJUPTFdPVwiVENQX1JFU1RBUlRcIixlW2UuUkVMQVlfUkVTVEFSVD0yXT1cIlJFTEFZX1JFU1RBUlRcIixlW2UuT0xEX0ZJUlNUX0NPTk5FQ1RJT049MTBdPVwiT0xEX0ZJUlNUX0NPTk5FQ1RJT05cIixlW2UuT0xEX1JFU1RBUlQ9MTFdPVwiT0xEX1JFU1RBUlRcIixlW2UuRElTQ09OTkVDVEVEX09SX0ZBSUxFRD0yMF09XCJESVNDT05ORUNURURfT1JfRkFJTEVEXCIsZX0oe30pLEpiPWZ1bmN0aW9uKGUpe3JldHVybiBlLkxvY2FsVmlkZW9UcmFjaz1cInZpZGVvVHJhY2tcIixlLkxvY2FsQXVkaW9UcmFjaz1cImF1ZGlvVHJhY2tcIixlLkxvY2FsVmlkZW9Mb3dUcmFjaz1cInZpZGVvTG93VHJhY2tcIixlfSh7fSksWGI9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuTmV3PVwibmV3XCIsZS5Db25uZWN0ZWQ9XCJjb25uZWN0ZWRcIixlLlJlY29ubmVjdGluZz1cInJlY29ubmVjdGluZ1wiLGUuRGlzY29ubmVjdGVkPVwiZGlzY29ubmVjdGVkXCIsZX0oe30pLFFiPWZ1bmN0aW9uKGUpe3JldHVybiBlLlN0YXRlQ2hhbmdlPVwic3RhdGVDaGFuZ2VcIixlLkljZUNvbm5lY3Rpb25TdGF0ZUNoYW5nZT1cImljZUNvbm5lY3Rpb25TdGF0ZUNoYW5nZVwiLGUuUmVxdWVzdE11dGVMb2NhbD1cInJlcXVlc3RNdXRlTG9jYWxcIixlLlJlcXVlc3RVbm11dGVMb2NhbD1cInJlcXVlc3RVbm11dGVMb2NhbFwiLGUuUmVxdWVzdFJlUHVibGlzaD1cInJlcXVlc3RSZVB1Ymxpc2hcIixlLlJlcXVlc3RSZVB1Ymxpc2hEYXRhQ2hhbm5lbD1cInJlcXVlc3RSZVB1Ymxpc2hEYXRhQ2hhbm5lbFwiLGUuUmVxdWVzdFJlU3Vic2NyaWJlPVwicmVxdWVzdFJlU3Vic2NyaWJlXCIsZS5SZXF1ZXN0VXBsb2FkU3RhdHM9XCJyZXF1ZXN0VXBsb2FkU3RhdHNcIixlLlJlcXVlc3RVcGxvYWQ9XCJyZXF1ZXN0VXBsb2FkXCIsZS5NZWRpYVJlY29ubmVjdFN0YXJ0PVwiTWVkaWFSZWNvbm5lY3RTdGFydFwiLGUuTWVkaWFSZWNvbm5lY3RFbmQ9XCJNZWRpYVJlY29ubmVjdEVuZFwiLGUuTmVlZFNpZ25hbFJUVD1cIk5lZWRTaWduYWxSVFRcIixlLlJlcXVlc3RSZXN0YXJ0SUNFPVwiUmVxdWVzdFJlc3RhcnRJY2VcIixlLlBlZXJDb25uZWN0aW9uU3RhdGVDaGFuZ2U9XCJQZWVyQ29ubmVjdGlvblN0YXRlQ2hhbmdlXCIsZS5SZXF1ZXN0UmVjb25uZWN0PVwiUmVxdWVzdFJlY29ubmVjdFwiLGUuUmVxdWVzdFJlY29ubmVjdFBDPVwiUmVxdWVzdFJlY29ubmVjdFBDXCIsZS5SZXF1ZXN0VW5wdWJsaXNoRm9yUmVjb25uZWN0UEM9XCJSZXF1ZXN0VW5wdWJsaXNoRm9yUmVjb25uZWN0UENcIixlLlAyUExvc3Q9XCJQMlBMb3N0XCIsZS5VcGRhdGVWaWRlb0VuY29kZXI9XCJVcGRhdGVWaWRlb0VuY29kZXJcIixlLkNvbm5lY3Rpb25UeXBlQ2hhbmdlPVwiQ29ubmVjdGlvblR5cGVDaGFuZ2VcIixlLlJlcXVlc3RMb3dTdHJlYW1QYXJhbWV0ZXI9XCJSZXF1ZXN0TG93U3RyZWFtUGFyYW1ldGVyXCIsZS5RdWVyeUNsaWVudENvbm5lY3Rpb25TdGF0ZT1cIlF1ZXJ5Q2xpZW50Q29ubmVjdGlvblN0YXRlXCIsZS5Mb2NhbENhbmRpZGF0ZT1cIkxvY2FsQ2FuZGlkYXRlXCIsZS5SZXF1ZXN0UDJQTXV0ZUxvY2FsPVwicmVxdWVzdFAyUE11dGVMb2NhbFwiLGUuUmVxdWVzdFAyUFVuUHVibGlzaD1cIlJlcXVlc3RQMlBVblB1Ymxpc2hcIixlLlJlcXVlc3RQMlBVbm11dGVSZW1vdGU9XCJSZXF1ZXN0UDJQVW5tdXRlUmVtb3RlXCIsZS5SZXF1ZXN0UDJQTXV0ZVJlbW90ZT1cIlJlcXVlc3RQMlBNdXRlUmVtb3RlXCIsZS5SZXF1ZXN0UDJQUmVzdGFydElDRT1cIlJlcXVlc3RQMlBSZXN0YXJ0SUNFXCIsZX0oe30pLFpiPWZ1bmN0aW9uKGUpe3JldHVybiBlLkNPTk5FQ1RJTkc9XCJDT05ORUNUSU5HXCIsZS5SRUNPTk5FQ1RJTkc9XCJSRUNPTk5FQ1RJTkdcIixlLkNPTk5FQ1RFRD1cIkNPTk5FQ1RFRFwiLGUuQ0xPU0VEPVwiQ0xPU0VEXCIsZX0oe30pLCRiPWZ1bmN0aW9uKGUpe3JldHVybiBlW2UuQ09OTkVDVF9BUD0wXT1cIkNPTk5FQ1RfQVBcIixlW2UuQVBfQ09OTkVDVEVEPTFdPVwiQVBfQ09OTkVDVEVEXCIsZVtlLkNPTk5FQ1RfV09SS0VSX01BTkFHRVI9Ml09XCJDT05ORUNUX1dPUktFUl9NQU5BR0VSXCIsZVtlLldPUktFUl9NQU5BR0VSX0NPTk5FQ1RFRD0zXT1cIldPUktFUl9NQU5BR0VSX0NPTk5FQ1RFRFwiLGVbZS5HRVRfV09SS0VSX01BTkFHRVJfUkVTUE9OU0U9NF09XCJHRVRfV09SS0VSX01BTkFHRVJfUkVTUE9OU0VcIixlW2UuQ09OTkVDVF9XT1JLRVI9NV09XCJDT05ORUNUX1dPUktFUlwiLGVbZS5XT1JLRVJfQ09OTkVDVEVEPTZdPVwiV09SS0VSX0NPTk5FQ1RFRFwiLGVbZS5DTE9TRUQ9N109XCJDTE9TRURcIixlfSh7fSksZXc9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuQ09OTkVDVElPTl9TVEFURV9DSEFOR0U9XCJjb25uZWN0aW9uLXN0YXRlLWNoYW5nZVwiLGUuU1RBVEVfQ0hBTkdFPVwic3RhdGUtY2hhbmdlXCIsZS5JTlNQRUNUX1JFU1VMVD1cImluc3BlY3QtcmVzdWx0XCIsZS5DTElFTlRfTE9DQUxfVklERU9fVFJBQ0s9XCJjbGllbnQtbG9jYWwtdmlkZW8tdHJhY2tcIixlLlJFUVVFU1RfTkVXX1dPUktFUl9VUkw9XCJyZXF1ZXN0LW5ldy13b3JrZXItdXJsXCIsZX0oe30pLHR3PWZ1bmN0aW9uKGUpe3JldHVybiBlLkNPTk5FQ1RFRD1cInRyYW5zbWl0dGVyOmNvbm5lY3RlZFwiLGUuUkVDT05ORUNUSU5HPVwidHJhbnNtaXR0ZXI6cmVjb25uZWN0aW5nXCIsZS5XSUxMX1JFQ09OTkVDVD1cInRyYW5zbWl0dGVyOndpbGxfcmVjb25uZWN0XCIsZS5DTE9TRUQ9XCJ0cmFuc21pdHRlcjpjbG9zZWRcIixlLkZBSUxFRD1cInRyYW5zbWl0dGVyOmZhaWxlZFwiLGUuT05fTUVTU0FHRT1cInRyYW5zbWl0dGVyOm9uX21lc3NhZ2VcIixlLlJFUVVFU1RfTkVXX1VSTFM9XCJ0cmFuc21pdHRlcjpyZXF1ZXN0X25ld191cmxzXCIsZS5SRUNPTk5FQ1RfV0FJVFRJTkdfRklOSVNIPVwidHJhbnNtaXR0ZXI6cmVjb25uZWN0X3dhaXR0aW5nX2ZpbmlzaFwiLGUuUkVDT05ORUNUX0NSRUFURV9DT05ORUNUSU9OPVwidHJhbnNtaXR0ZXI6cmVjb25uZWN0X2NyZWF0ZV9jb25uZWN0aW9uXCIsZS5PTl9UT0tFTl9QUklWSUxFR0VfRElEX0VYUElSRT1cInRyYW5zbWl0dGVyOm9uX3Rva2VuX3ByaXZpbGVnZV9kaWRfZXhwaXJlXCIsZS5UT19DT05ORUNUX0RBVEFDSEFOTkVMPVwidHJhbnNtaXR0ZXI6dG9fY29ubmVjdF9kYXRhY2hhbm5lbFwiLGUuRkFJTEJBQ0s9XCJ0cmFuc21pdHRlcjpmYWlsYmFja1wiLGUuUFJFX0NPTk5FQ1RfUEM9XCJ0cmFuc21pdHRlcjpwcmVfY29ubmVjdF9wY1wiLGV9KHt9KSxpdz1mdW5jdGlvbihlKXtyZXR1cm4gZS5DQU1FUkFfQ0hBTkdFRD1cImNhbWVyYS1jaGFuZ2VkXCIsZS5NSUNST1BIT05FX0NIQU5HRUQ9XCJtaWNyb3Bob25lLWNoYW5nZWRcIixlLlBMQVlCQUNLX0RFVklDRV9DSEFOR0VEPVwicGxheWJhY2stZGV2aWNlLWNoYW5nZWRcIixlLkFVRElPX0FVVE9QTEFZX0ZBSUxFRD1cImF1ZGlvLWF1dG9wbGF5LWZhaWxlZFwiLGUuQVVUT1BMQVlfRkFJTEVEPVwiYXV0b3BsYXktZmFpbGVkXCIsZS5BVURJT19DT05URVhUX1NUQVRFX0NIQU5HRUQ9XCJhdWRpby1jb250ZXh0LXN0YXRlLWNoYW5nZWRcIixlLlNFQ1VSSVRZX1BPTElDWV9WSU9MQVRJT049XCJzZWN1cml0eS1wb2xpY3ktdmlvbGF0aW9uXCIsZX0oe30pLG53PWZ1bmN0aW9uKGUpe3JldHVybiBlLkNPTk5FQ1RJTkc9XCJDT05ORUNUSU5HXCIsZS5SRUNPTk5FQ1RJTkc9XCJSRUNPTk5FQ1RJTkdcIixlLkNPTk5FQ1RFRD1cIkNPTk5FQ1RFRFwiLGUuQ0xPU0VEPVwiQ0xPU0VEXCIsZX0oe30pLHJ3PWZ1bmN0aW9uKGUpe3JldHVybiBlLkNPTk5FQ1RJT05fU1RBVEVfQ0hBTkdFPVwiY29ubmVjdGlvbi1zdGF0ZS1jaGFuZ2VcIixlLlNUQVRFX0NIQU5HRT1cInN0YXRlLWNoYW5nZVwiLGUuSU5TUEVDVF9SRVNVTFQ9XCJpbnNwZWN0LXJlc3VsdFwiLGUuQ0xJRU5UX0xPQ0FMX1ZJREVPX1RSQUNLPVwiY2xpZW50LWxvY2FsLXZpZGVvLXRyYWNrXCIsZS5SRVFVRVNUX05FV19XT1JLRVJfVVJMPVwicmVxdWVzdC1uZXctd29ya2VyLXVybFwiLGV9KHt9KSxvdz1mdW5jdGlvbihlKXtyZXR1cm4gZVtlLkNPTk5FQ1RfQVA9MF09XCJDT05ORUNUX0FQXCIsZVtlLkFQX0NPTk5FQ1RFRD0xXT1cIkFQX0NPTk5FQ1RFRFwiLGVbZS5DT05ORUNUX1dPUktFUl9NQU5BR0VSPTJdPVwiQ09OTkVDVF9XT1JLRVJfTUFOQUdFUlwiLGVbZS5XT1JLRVJfTUFOQUdFUl9DT05ORUNURUQ9M109XCJXT1JLRVJfTUFOQUdFUl9DT05ORUNURURcIixlW2UuR0VUX1dPUktFUl9NQU5BR0VSX1JFU1BPTlNFPTRdPVwiR0VUX1dPUktFUl9NQU5BR0VSX1JFU1BPTlNFXCIsZVtlLkNPTk5FQ1RfV09SS0VSPTVdPVwiQ09OTkVDVF9XT1JLRVJcIixlW2UuV09SS0VSX0NPTk5FQ1RFRD02XT1cIldPUktFUl9DT05ORUNURURcIixlW2UuQ0xPU0VEPTddPVwiQ0xPU0VEXCIsZX0oe30pLHN3PWZ1bmN0aW9uKGUpe3JldHVybiBlLkNBTEw9XCJjYWxsXCIsZS5DQU5ESURBVEU9XCJjYW5kaWRhdGVcIixlLlBVQkxJU0g9XCJwdWJsaXNoXCIsZS5VTlBVQkxJU0g9XCJ1bnB1Ymxpc2hcIixlLkNPTlRST0w9XCJjb250cm9sXCIsZS5SRVNUQVJUX0lDRT1cInJlc3RhcnRfaWNlXCIsZS5BQ0s9XCJhY2tcIixlLlJFU1BPTlNFPVwicmVzcG9uc2VcIixlLkpPSU49XCJqb2luXCIsZS5DSEVDSz1cImNoZWNrXCIsZX0oe30pLGF3PWZ1bmN0aW9uKGUpe3JldHVybiBlLkFCT1JUPVwiYWJvcnRcIixlfSh7fSksY3c9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuTVVURV9MT0NBTF9BVURJTz1cIm11dGVfbG9jYWxfYXVkaW9cIixlLk1VVEVfTE9DQUxfVklERU89XCJtdXRlX2xvY2FsX3ZpZGVvXCIsZS5VTk1VVEVfTE9DQUxfQVVESU89XCJ1bm11dGVfbG9jYWxfYXVkaW9cIixlLlVOTVVURV9MT0NBTF9WSURFTz1cInVubXV0ZV9sb2NhbF92aWRlb1wiLGV9KHt9KSxkdz1mdW5jdGlvbihlKXtyZXR1cm4gZS5QMlBfVE9LRU5fVElNRU9VVD1cInAycF90b2tlbl90aW1lb3V0XCIsZS5QMlBfVE9LRU5fQ0hBTkdFRD1cInAycF90b2tlbl9jaGFuZ2VkXCIsZX0oe30pO2NvbnN0IGx3PXtbYWIuQUNDRVNTX1BPSU5UXTp7W2xiLk5PX0ZMQUdfU0VUXTp7ZGVzYzpcImZsYWcgaXMgemVyb1wiLHJldHJ5OiExfSxbbGIuRkxBR19TRVRfQlVUX0VNUFRZXTp7ZGVzYzpcImZsYWcgaXMgZW1wdHlcIixyZXRyeTohMX0sW2xiLklOVkFMSURfRkFMR19TRVRdOntkZXNjOlwiaW52YWxpZCBmbGFnXCIscmV0cnk6ITF9LFtsYi5GTEFHX1NFVF9CVVRfTk9fUkVdOntkZXNjOlwiZmxhZyBzZXQgdW5pbGJzIGJ1dCBubyByZXF1ZXN0XCIscmV0cnk6ITF9LFtsYi5JTlZBTElEX1NFUlZJQ0VfSURdOntkZXNjOlwiaW52YWxpZCBzZXJ2aWNlIGlkXCIscmV0cnk6ITF9LFtsYi5OT19TRVJWSUNFX0FWQUlMQUJMRV06e2Rlc2M6XCJubyBzZXJ2aWNlIGF2YWlsYWJsZVwiLHJldHJ5OiEwfSxbbGIuTk9fU0VSVklDRV9BVkFJTEFCTEVfUDJQXTp7ZGVzYzpcIm5vIHVuaWxicyBwMnAgc2VydmljZSBhdmFpbGFibGVcIixyZXRyeTohMH0sW2xiLk5PX1NFUlZJQ0VfQVZBSUxBQkxFX1ZPSUNFXTp7ZGVzYzpcIm5vIHVuaWxicyB2b2ljZSBzZXJ2aWNlIGF2YWlsYWJsZVwiLHJldHJ5OiEwfSxbbGIuTk9fU0VSVklDRV9BVkFJTEFCTEVfV0VCUlRDXTp7ZGVzYzpcIm5vIHVuaWxicyB3ZWJydGMgc2VydmljZSBhdmFpbGFibGVcIixyZXRyeTohMH0sW2xiLk5PX1NFUlZJQ0VfQVZBSUxBQkxFX0NEU106e2Rlc2M6XCJubyBjZHMgc2VydmljZSBhdmFpbGFibGVcIixyZXRyeTohMH0sW2xiLk5PX1NFUlZJQ0VfQVZBSUxBQkxFX0NETl06e2Rlc2M6XCJubyBjZG4gZGlzcGF0Y2hlciBzZXJ2aWNlIGF2YWlsYWJsZVwiLHJldHJ5OiEwfSxbbGIuTk9fU0VSVklDRV9BVkFJTEFCTEVfVERTXTp7ZGVzYzpcIm5vIHRkcyBzZXJ2aWNlIGF2YWlsYWJsZVwiLHJldHJ5OiEwfSxbbGIuTk9fU0VSVklDRV9BVkFJTEFCTEVfUkVQT1JUXTp7ZGVzYzpcIm5vIHVuaWxicyByZXBvcnQgc2VydmljZSBhdmFpbGFibGVcIixyZXRyeTohMH0sW2xiLk5PX1NFUlZJQ0VfQVZBSUxBQkxFX0FQUF9DRU5URVJdOntkZXNjOlwibm8gYXBwIGNlbnRlciBzZXJ2aWNlIGF2YWlsYWJsZVwiLHJldHJ5OiEwfSxbbGIuTk9fU0VSVklDRV9BVkFJTEFCTEVfRU5WMF06e2Rlc2M6XCJubyB1bmlsYnMgc2lnIGVudjAgc2VydmljZSBhdmFpbGFibGVcIixyZXRyeTohMH0sW2xiLk5PX1NFUlZJQ0VfQVZBSUxBQkxFX1ZPRVRdOntkZXNjOlwibm8gdW5pbGJzIHZvZXQgc2VydmljZSBhdmFpbGFibGVcIixyZXRyeTohMH0sW2xiLk5PX1NFUlZJQ0VfQVZBSUxBQkxFX1NUUklOR19VSURdOntkZXNjOlwibm8gc3RyaW5nIHVpZCBzZXJ2aWNlIGF2YWlsYWJsZVwiLHJldHJ5OiEwfSxbbGIuTk9fU0VSVklDRV9BVkFJTEFCTEVfV0VCUlRDX1VOSUxCU106e2Rlc2M6XCJubyB3ZWJydGMgdW5pbGJzIHNlcnZpY2UgYXZhaWxhYmxlXCIscmV0cnk6ITB9fSxbYWIuVU5JTEJTXTp7W2RiLklOVkFMSURfVkVORE9SX0tFWV06e2Rlc2M6XCJpbnZhbGlkIHZlbmRvciBrZXksIGNhbiBub3QgZmluZCBhcHBpZFwiLHJldHJ5OiExfSxbZGIuSU5WQUxJRF9DSEFOTkVMX05BTUVdOntkZXNjOlwiaW52YWxpZCBjaGFubmVsIG5hbWVcIixyZXRyeTohMX0sW2RiLklOVEVSTkFMX0VSUk9SXTp7ZGVzYzpcInVuaWxicyBpbnRlcm5hbCBlcnJvclwiLHJldHJ5OiExfSxbZGIuTk9fQVVUSE9SSVpFRF06e2Rlc2M6XCJpbnZhbGlkIHRva2VuLCBhdXRob3JpemVkIGZhaWxlZFwiLHJldHJ5OiExfSxbZGIuRFlOQU1JQ19LRVlfVElNRU9VVF06e2Rlc2M6XCJkeW5hbWljIGtleSBvciB0b2tlbiB0aW1lb3V0XCIscmV0cnk6ITF9LFtkYi5OT19BQ1RJVkVfU1RBVFVTXTp7ZGVzYzpcIm5vIGFjdGl2ZSBzdGF0dXNcIixyZXRyeTohMX0sW2RiLkRZTkFNSUNfS0VZX0VYUElSRURdOntkZXNjOlwiZHluYW1pYyBrZXkgZXhwaXJlZFwiLHJldHJ5OiExfSxbZGIuU1RBVElDX1VTRV9EWU5BTUlDX0tFWV06e2Rlc2M6XCJzdGF0aWMgdXNlIGR5bmFtaWMga2V5XCIscmV0cnk6ITF9LFtkYi5EWU5BTUlDX1VTRV9TVEFUSUNfS0VZXTp7ZGVzYzpcImR5bmFtaWMgdXNlIHN0YXRpYyBrZXlcIixyZXRyeTohMX0sW2RiLlVTRVJfT1ZFUkxPQURdOntkZXNjOlwiYW1vdW50IG9mIHVzZXJzIG92ZXIgbG9hZFwiLHJldHJ5OiExfSxbZGIuRk9SQklEREVOX1JFR0lPTl06e2Rlc2M6XCJ0aGUgcmVxdWVzdCBpcyBmb3JiaWRkZW4gaW4gdGhpcyBhcmVhXCIscmV0cnk6ITF9LFtkYi5DQU5OT1RfTUVFVF9BUkVBX0RFTUFORF06e2Rlc2M6XCJ1bmFibGUgdG8gYWxsb2NhdGUgc2VydmljZXMgaW4gdGhpcyBhcmVhXCIscmV0cnk6ITF9fSxbYWIuU1RSSU5HX1VJRF9BTExPQ0FUT1JdOntbY2IuSUlJRUdBTF9BUFBJRF06e2Rlc2M6XCJpbnZhbGlkIGFwcGlkXCIscmV0cnk6ITF9LFtjYi5JSUlFR0FMX1VJRF06e2Rlc2M6XCJpbnZhbGlkIHN0cmluZyB1aWRcIixyZXRyeTohMX0sW2NiLklOVEVSTkFMX0VSUk9SXTp7ZGVzYzpcInN0cmluZyB1aWQgYWxsb2NhdG9yIGludGVybmFsIGVycm9yXCIscmV0cnk6ITB9fX07ZnVuY3Rpb24gdXcoZSl7Y29uc3QgdD1sd1tNYXRoLmZsb29yKGUvMWU0KV07aWYoIXQpcmV0dXJue2Rlc2M6XCJ1bmtub3duIGVycm9yXCIscmV0cnk6ITF9O2NvbnN0IGk9dFtlJTFlNF07aWYoIWkpe2lmKE1hdGguZmxvb3IoZS8xZTQpPT09YWIuQUNDRVNTX1BPSU5UKXtjb25zdCB0PWUlMWU0O2lmKFwiMVwiPT09dC50b1N0cmluZygpWzBdKXJldHVybntkZXNjOmUudG9TdHJpbmcoKSxyZXRyeTohMX07aWYoXCIyXCI9PT10LnRvU3RyaW5nKClbMF0pcmV0dXJue2Rlc2M6ZS50b1N0cmluZygpLHJldHJ5OiEwfX1yZXR1cm57ZGVzYzpcInVua25vd24gZXJyb3JcIixyZXRyeTohMX19cmV0dXJuIGl9Y29uc3QgaHc9e1t1Yi5LX1RJTUVTVEFNUF9FWFBJUkVEXTp7ZGVzYzpcIktfVElNRVNUQU1QX0VYUElSRURcIixhY3Rpb246XCJmYWlsZWRcIn0sW3ViLktfQ0hBTk5FTF9QRVJNSVNTSU9OX0lOVkFMSURdOntkZXNjOlwiS19DSEFOTkVMX1BFUk1JU1NJT05fSU5WQUxJRFwiLGFjdGlvbjpcImZhaWxlZFwifSxbdWIuS19DRVJUSUZJQ0FURV9JTlZBTElEXTp7ZGVzYzpcIktfQ0VSVElGSUNBVEVfSU5WQUxJRFwiLGFjdGlvbjpcImZhaWxlZFwifSxbdWIuS19DSEFOTkVMX05BTUVfRU1QVFldOntkZXNjOlwiS19DSEFOTkVMX05BTUVfRU1QVFlcIixhY3Rpb246XCJmYWlsZWRcIn0sW3ViLktfQ0hBTk5FTF9OT1RfRk9VTkRdOntkZXNjOlwiS19DSEFOTkVMX05PVF9GT1VORFwiLGFjdGlvbjpcImZhaWxlZFwifSxbdWIuS19USUNLRVRfSU5WQUxJRF06e2Rlc2M6XCJLX1RJQ0tFVF9JTlZBTElEXCIsYWN0aW9uOlwiZmFpbGVkXCJ9LFt1Yi5LX0NIQU5ORUxfQ09ORkxJQ1RFRF06e2Rlc2M6XCJLX0NIQU5ORUxfQ09ORkxJQ1RFRFwiLGFjdGlvbjpcImZhaWxlZFwifSxbdWIuS19TRVJWSUNFX05PVF9SRUFEWV06e2Rlc2M6XCJLX1NFUlZJQ0VfTk9UX1JFQURZXCIsYWN0aW9uOlwidHJ5TmV4dFwifSxbdWIuS19TRVJWSUNFX1RPT19IRUFWWV06e2Rlc2M6XCJLX1NFUlZJQ0VfVE9PX0hFQVZZXCIsYWN0aW9uOlwidHJ5TmV4dFwifSxbdWIuS19VSURfQkFOTkVEXTp7ZGVzYzpcIktfVUlEX0JBTk5FRFwiLGFjdGlvbjpcImZhaWxlZFwifSxbdWIuS19JUF9CQU5ORURdOntkZXNjOlwiS19JUF9CQU5ORURcIixhY3Rpb246XCJmYWlsZWRcIn0sW3ViLktfQVVUT19SRUJBTEFOQ0VdOntkZXNjOlwia19BVVRPX1JFQkFMQU5DRVwiLGFjdGlvbjpcInJlY292ZXJcIn0sW3ViLkVSUl9JTlZBTElEX1ZFTkRPUl9LRVldOntkZXNjOlwiRVJSX0lOVkFMSURfVkVORE9SX0tFWVwiLGFjdGlvbjpcImZhaWxlZFwifSxbdWIuRVJSX0lOVkFMSURfQ0hBTk5FTF9OQU1FXTp7ZGVzYzpcIkVSUl9JTlZBTElEX0NIQU5ORUxfTkFNRVwiLGFjdGlvbjpcImZhaWxlZFwifSxbdWIuV0FSTl9OT19BVkFJTEFCTEVfQ0hBTk5FTF06e2Rlc2M6XCJXQVJOX05PX0FWQUlMQUJMRV9DSEFOTkVMXCIsYWN0aW9uOlwiZmFpbGVkXCJ9LFt1Yi5XQVJOX0xPT0tVUF9DSEFOTkVMX1RJTUVPVVRdOntkZXNjOlwiV0FSTl9MT09LVVBfQ0hBTk5FTF9USU1FT1VUXCIsYWN0aW9uOlwidHJ5TmV4dFwifSxbdWIuV0FSTl9MT09LVVBfQ0hBTk5FTF9SRUpFQ1RFRF06e2Rlc2M6XCJXQVJOX0xPT0tVUF9DSEFOTkVMX1JFSkVDVEVEXCIsYWN0aW9uOlwiZmFpbGVkXCJ9LFt1Yi5XQVJOX09QRU5fQ0hBTk5FTF9USU1FT1VUXTp7ZGVzYzpcIldBUk5fT1BFTl9DSEFOTkVMX1RJTUVPVVRcIixhY3Rpb246XCJ0cnlOZXh0XCJ9LFt1Yi5XQVJOX09QRU5fQ0hBTk5FTF9SRUpFQ1RFRF06e2Rlc2M6XCJXQVJOX09QRU5fQ0hBTk5FTF9SRUpFQ1RFRFwiLGFjdGlvbjpcImZhaWxlZFwifSxbdWIuV0FSTl9SRVFVRVNUX0RFRkVSUkVEXTp7ZGVzYzpcIldBUk5fUkVRVUVTVF9ERUZFUlJFRFwiLGFjdGlvbjpcImZhaWxlZFwifSxbdWIuRVJSX0RZTkFNSUNfS0VZX1RJTUVPVVRdOntkZXNjOlwiRVJSX0RZTkFNSUNfS0VZX1RJTUVPVVRcIixhY3Rpb246XCJmYWlsZWRcIn0sW3ViLkVSUl9OT19BVVRIT1JJWkVEXTp7ZGVzYzpcIkVSUl9OT19BVVRIT1JJWkVEXCIsYWN0aW9uOlwiZmFpbGVkXCJ9LFt1Yi5FUlJfVk9NX1NFUlZJQ0VfVU5BVkFJTEFCTEVdOntkZXNjOlwiRVJSX1ZPTV9TRVJWSUNFX1VOQVZBSUxBQkxFXCIsYWN0aW9uOlwidHJ5TmV4dFwifSxbdWIuRVJSX05PX0NIQU5ORUxfQVZBSUxBQkxFX0NPREVdOntkZXNjOlwiRVJSX05PX0NIQU5ORUxfQVZBSUxBQkxFX0NPREVcIixhY3Rpb246XCJmYWlsZWRcIn0sW3ViLkVSUl9NQVNURVJfVk9DU19VTkFWQUlMQUJMRV06e2Rlc2M6XCJFUlJfTUFTVEVSX1ZPQ1NfVU5BVkFJTEFCTEVcIixhY3Rpb246XCJ0cnlOZXh0XCJ9LFt1Yi5FUlJfSU5URVJOQUxfRVJST1JdOntkZXNjOlwiRVJSX0lOVEVSTkFMX0VSUk9SXCIsYWN0aW9uOlwidHJ5TmV4dFwifSxbdWIuRVJSX05PX0FDVElWRV9TVEFUVVNdOntkZXNjOlwiRVJSX05PX0FDVElWRV9TVEFUVVNcIixhY3Rpb246XCJmYWlsZWRcIn0sW3ViLkVSUl9JTlZBTElEX1VJRF06e2Rlc2M6XCJFUlJfSU5WQUxJRF9VSURcIixhY3Rpb246XCJmYWlsZWRcIn0sW3ViLkVSUl9EWU5BTUlDX0tFWV9FWFBJUkVEXTp7ZGVzYzpcIkVSUl9EWU5BTUlDX0tFWV9FWFBJUkVEXCIsYWN0aW9uOlwiZmFpbGVkXCJ9LFt1Yi5FUlJfU1RBVElDX1VTRV9EWUFOTUlDX0tFXTp7ZGVzYzpcIkVSUl9TVEFUSUNfVVNFX0RZQU5NSUNfS0VcIixhY3Rpb246XCJmYWlsZWRcIn0sW3ViLkVSUl9EWU5BTUlDX1VTRV9TVEFUSUNfS0VdOntkZXNjOlwiRVJSX0RZTkFNSUNfVVNFX1NUQVRJQ19LRVwiLGFjdGlvbjpcImZhaWxlZFwifSxbdWIuRVJSX05PX1ZPQ1NfQVZBSUxBQkxFXTp7ZGVzYzpcIkVSUl9OT19WT0NTX0FWQUlMQUJMRVwiLGFjdGlvbjpcInRyeU5leHRcIn0sW3ViLkVSUl9OT19WT1NfQVZBSUxBQkxFXTp7ZGVzYzpcIkVSUl9OT19WT1NfQVZBSUxBQkxFXCIsYWN0aW9uOlwidHJ5TmV4dFwifSxbdWIuRVJSX0pPSU5fQ0hBTk5FTF9USU1FT1VUXTp7ZGVzYzpcIkVSUl9KT0lOX0NIQU5ORUxfVElNRU9VVFwiLGFjdGlvbjpcInRyeU5leHRcIn0sW3ViLkVSUl9KT0lOX0JZX01VTFRJX0lQXTp7ZGVzYzpcIkVSUl9KT0lOX0JZX01VTFRJX0lQXCIsYWN0aW9uOlwicmVjb3ZlclwifSxbdWIuRVJSX05PVF9KT0lORURdOntkZXNjOlwiRVJSX05PVF9KT0lORURcIixhY3Rpb246XCJmYWlsZWRcIn0sW3ViLkVSUl9SRVBFQVRfSk9JTl9SRVFVRVNUXTp7ZGVzYzpcIkVSUl9SRVBFQVRfSk9JTl9SRVFVRVNUXCIsYWN0aW9uOlwicXVpdFwifSxbdWIuRVJSX1JFUEVBVF9KT0lOX0NIQU5ORUxdOntkZXNjOlwiRVJSX1JFUEVBVF9KT0lOX0NIQU5ORUxcIixhY3Rpb246XCJxdWl0XCJ9LFt1Yi5FUlJfSU5WQUxJRF9TVFJJTkdVSURdOntkZXNjOlwiRVJSX0lOVkFMSURfU1RSSU5HVUlEXCIsYWN0aW9uOlwiZmFpbGVkXCJ9LFt1Yi5FUlJfVE9PX01BTllfVVNFUlNdOntkZXNjOlwiRVJSX1RPT19NQU5ZX1VTRVJTXCIsYWN0aW9uOlwidHJ5TmV4dFwifSxbdWIuRVJSX1NFVF9DTElFTlRfUk9MRV9USU1FT1VUXTp7ZGVzYzpcIkVSUl9TRVRfQ0xJRU5UX1JPTEVfVElNRU9VVFwiLGFjdGlvbjpcImZhaWxlZFwifSxbdWIuRVJSX1NFVF9DTElFTlRfUk9MRV9OT19QRVJNSVNTSU9OXTp7ZGVzYzpcIkVSUl9TRVRfQ0xJRU5UX1JPTEVfVElNRU9VVFwiLGFjdGlvbjpcImZhaWxlZFwifSxbdWIuRVJSX1NFVF9DTElFTlRfUk9MRV9BTFJFQURZX0lOX1VTRV06e2Rlc2M6XCJFUlJfU0VUX0NMSUVOVF9ST0xFX0FMUkVBRFlfSU5fVVNFXCIsYWN0aW9uOlwic3VjY2Vzc1wifSxbdWIuRVJSX1BVQkxJU0hfUkVRVUVTVF9JTlZBTElEXTp7ZGVzYzpcIkVSUl9QVUJMSVNIX1JFUVVFU1RfSU5WQUxJRFwiLGFjdGlvbjpcImZhaWxlZFwifSxbdWIuRVJSX1NVQlNDUklCRV9SRVFVRVNUX0lOVkFMSURdOntkZXNjOlwiRVJSX1NVQlNDUklCRV9SRVFVRVNUX0lOVkFMSURcIixhY3Rpb246XCJmYWlsZWRcIn0sW3ViLkVSUl9OT1RfU1VQUE9SVEVEX01FU1NBR0VdOntkZXNjOlwiRVJSX05PVF9TVVBQT1JURURfTUVTU0FHRVwiLGFjdGlvbjpcImZhaWxlZFwifSxbdWIuRVJSX0lMTEVBR0FMX1BMVUdJTl06e2Rlc2M6XCJFUlJfSUxMRUFHQUxfUExVR0lOXCIsYWN0aW9uOlwiZmFpbGVkXCJ9LFt1Yi5JTExFR0FMX0NMSUVOVF9ST0xFX0xFVkVMXTp7ZGVzYzpcIklMTEVHQUxfQ0xJRU5UX1JPTEVfTEVWRUxcIixhY3Rpb246XCJmYWlsZWRcIn0sW3ViLkVSUl9SRUpPSU5fVE9LRU5fSU5WQUxJRF06e2Rlc2M6XCJFUlJfUkVKT0lOX1RPS0VOX0lOVkFMSURcIixhY3Rpb246XCJmYWlsZWRcIn0sW3ViLkVSUl9SRUpPSU5fVVNFUl9OT1RfSk9JTkVEXTp7ZGVzYzpcIkVSUl9SRUpPSU5fTk9UX0pPSU5FRFwiLGFjdGlvbjpcImZhaWxlZFwifSxbdWIuRVJSX0lOVkFMSURfT1BUSU9OQUxfSU5GT106e2Rlc2M6XCJFUlJfSU5WQUxJRF9PUFRJT05BTF9JTkZPXCIsYWN0aW9uOlwicXVpdFwifSxbdWIuRVJSX1RFU1RfUkVDT1ZFUl06e2Rlc2M6XCJFUlJfVEVTVF9SRUNPVkVSXCIsYWN0aW9uOlwicmVjb3ZlclwifSxbdWIuRVJSX1RFU1RfVFJZTkVYVF06e2Rlc2M6XCJFUlJfVEVTVF9UUllORVhUXCIsYWN0aW9uOlwicmVjb3ZlclwifSxbdWIuRVJSX1RFU1RfUkVUUlldOntkZXNjOlwiRVJSX1RFU1RfUkVUUllcIixhY3Rpb246XCJyZWNvdmVyXCJ9LFt1Yi5JTExFR0FMX0FFU19QQVNTV09SRF06e2Rlc2M6XCJFUlJfVEVTVF9SRVRSWVwiLGFjdGlvbjpcImZhaWxlZFwifSxbdWIuRVJSX1RPT19NQU5ZX0JST0FEQ0FTVEVSU106e2Rlc2M6XCJFUlJfVE9PX01BTllfQlJPQURDQVNURVJTXCIsYWN0aW9uOlwiZmFpbGVkXCJ9LFt1Yi5FUlJfVE9PX01BTllfU1VCU0NSSUJFUlNdOntkZXNjOlwiRVJSX1RPT19NQU5ZX1NVQlNDUklCRVJTXCIsYWN0aW9uOlwiZmFpbGVkXCJ9LFt1Yi5FUlJfTElDRU5TRV9JTExFR0FMXTp7ZGVzYzpcIkVSUl9MSUNFTlNFX0lMTEVHQUxcIixhY3Rpb246XCJxdWl0XCJ9LFt1Yi5FUlJfTElDRU5TRV9NSVNTSU5HXTp7ZGVzYzpcIkVSUl9MSUNFTlNFX01JU1NJTkdcIixhY3Rpb246XCJxdWl0XCJ9LFt1Yi5FUlJfTElDRU5TRV9FWFBJUkVEXTp7ZGVzYzpcIkVSUl9MSUNFTlNFX0VYUElSRURcIixhY3Rpb246XCJxdWl0XCJ9LFt1Yi5FUlJfTElDRU5TRV9NSU5VVEVTX0VYQ0VFREVEXTp7ZGVzYzpcIkVSUl9MSUNFTlNFX01JTlVURVNfRVhDRUVERURcIixhY3Rpb246XCJxdWl0XCJ9LFt1Yi5FUlJfTElDRU5TRV9QRVJJT0RfSU5WQUxJRF06e2Rlc2M6XCJFUlJfTElDRU5TRV9QRVJJT0RfSU5WQUxJRFwiLGFjdGlvbjpcInF1aXRcIn0sW3ViLkVSUl9MSUNFTlNFX01VTFRJUExFX1NES19TRVJWSUNFXTp7ZGVzYzpcIkVSUl9MSUNFTlNFX01VTFRJUExFX1NES19TRVJWSUNFXCIsYWN0aW9uOlwicXVpdFwifX07ZnVuY3Rpb24gcHcoZSl7Y29uc3QgdD1od1tlXTtyZXR1cm4gdHx8e2Rlc2M6XCJVTktOT1dOX0VSUk9SX1wiLmNvbmNhdChlKSxhY3Rpb246XCJmYWlsZWRcIn19ZnVuY3Rpb24gX3coZSx0KXt2YXIgaT1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihuPW4uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLGkucHVzaC5hcHBseShpLG4pfXJldHVybiBpfWZ1bmN0aW9uIEV3KGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBpPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP193KE9iamVjdChpKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7b2coZSx0LGlbdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoaSkpOl93KE9iamVjdChpKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGksdCkpfSkpfXJldHVybiBlfWZ1bmN0aW9uIG13KGUpe3JldHVybiBlLmV2ZXJ5KChlPT5lLnJlYWR5U3RhdGU9PT1XZWJTb2NrZXQuQ0xPU0VEfHxlLnJlYWR5U3RhdGU9PT1XZWJTb2NrZXQuQ0xPU0lORykpfWZ1bmN0aW9uIGZ3KGUsdCl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpcmV0dXJuIGU7Y29uc3R7cHJveHk6aSxob3N0Om4scG9ydDpyfT1lO2lmKHQpe2NvbnN0IGU9RHkoXCJKT0lOX0dBVEVXQVlfRkFMTEJBQ0tfUE9SVFwiKXx8NDQzO3JldHVybiA0NDM9PT1lP1wid3NzOi8vXCIuY29uY2F0KG4sXCIvd3MvP3A9XCIpLmNvbmNhdChOdW1iZXIocikrMTUwKTpcIndzczovL1wiLmNvbmNhdChuLFwiOlwiKS5jb25jYXQoZSxcIi93cy8/cD1cIikuY29uY2F0KE51bWJlcihyKSsxNTApfXJldHVybiBpP1wid3NzOi8vXCIuY29uY2F0KGksXCIvd3MvP2g9XCIpLmNvbmNhdChuLFwiJnA9XCIpLmNvbmNhdChyKTpcIndzczovL1wiLmNvbmNhdChuLFwiOlwiKS5jb25jYXQocil9Y29uc3QgVHc9L3dzczpcXC9cXC8oLispXFwvd3NcXC9cXD9oPSguKykmcD0oWzAtOV0rKVxcLz8vLFN3PS93c3M6XFwvXFwvKC4rKVxcL3dzXFwvXFw/cD0oWzAtOV0rKVxcLz8vLGd3PS93c3M6XFwvXFwvKC4rKTooWzAtOV0rKVxcLz8vLFJ3PS93c3M6XFwvXFwvKC5bXlxcL10rKVxcLz8vO2xldCBDdz0wO2NsYXNzIEl3e2NvbnN0cnVjdG9yKGUsdCl7b2codGhpcyxcImlkXCIsMCksb2codGhpcyxcInN0b3JlXCIsdm9pZCAwKSxvZyh0aGlzLFwicmVjb3JkSW5kZXhcIix2b2lkIDApLG9nKHRoaXMsXCJ3ZWJzb2NrZXRzXCIsW10pLG9nKHRoaXMsXCJ0cnk0NDNQb3J0RHVyYXRpb25cIiwyZTMpLG9nKHRoaXMsXCJmb3JjZUNsb3NlV1NEdXJhdGlvblwiLDVlMyksb2codGhpcyxcInRyeTQ0M1BvcnRUaW1lb3V0XCIsbnVsbCksb2codGhpcyxcImZvcmNlQ2xvc2VUaW1lb3V0XCIsbnVsbCksb2codGhpcyxcImlzVHJ5NDQzUG9ydEZhaWxlZFwiLCExKSxvZyh0aGlzLFwiaXNOb3JtYWxQb3J0RmFpbGVkXCIsITEpLG9nKHRoaXMsXCJ1c2VEb3VibGVEb21haW5cIiwhMSksb2codGhpcyxcInVzZVByb3h5XCIsITEpLG9nKHRoaXMsXCJzdGFydFRpbWVcIixEYXRlLm5vdygpKSx0aGlzLmlkPSsrQ3csdGhpcy50cnk0NDNQb3J0RHVyYXRpb249RHkoXCJKT0lOX0dBVEVXQVlfVFJZXzQ0M1BPUlRfRFVSQVRJT05cIil8fDJlMyx0aGlzLmZvcmNlQ2xvc2VXU0R1cmF0aW9uPWV8fDVlMyx0aGlzLnN0b3JlPXR9Y2xvc2VBbGxXZWJzb2NrZXRzKCl7dGhpcy53ZWJzb2NrZXRzLmZvckVhY2goKGU9PntlLm9ub3Blbj1udWxsLGUub25jbG9zZT1udWxsLGUub25tZXNzYWdlPW51bGwsZS5jbG9zZSgpfSkpLHRoaXMud2Vic29ja2V0cy5sZW5ndGg9MH1jbGVhclRpbWVvdXQoKXt0aGlzLmZvcmNlQ2xvc2VUaW1lb3V0JiZjbGVhclRpbWVvdXQodGhpcy5mb3JjZUNsb3NlVGltZW91dCksdGhpcy50cnk0NDNQb3J0VGltZW91dCYmY2xlYXJUaW1lb3V0KHRoaXMudHJ5NDQzUG9ydFRpbWVvdXQpfWxvZ2dlcigpe3ZhciBlO2NvbnN0IHQ9RGF0ZS5ub3coKS10aGlzLnN0YXJ0VGltZTtmb3IodmFyIGk9YXJndW1lbnRzLmxlbmd0aCxuPW5ldyBBcnJheShpKSxyPTA7cjxpO3IrKyluW3JdPWFyZ3VtZW50c1tyXTtReS5kZWJ1ZyhcIltjaG9vc2UtYmVzdC13cyBcIi5jb25jYXQobnVsbD09PShlPXRoaXMuc3RvcmUpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmNsaWVudElkLFwiIFwiKS5jb25jYXQodGhpcy5pZCxcIl0gXCIpLmNvbmNhdCh0LFwibXM6XCIpLC4uLm4pfWNyZWF0ZVdlYlNvY2tldChlLHQsaSl7dGhpcy5sb2dnZXIoXCJjcmVhdGVXZWJTb2NrZXQ6XCIsZSx7aXNUcnk0NDNQb3J0OnQsaGFzVGltZW91dERldGVjdGlvbjppfSk7Y29uc3Qgbj1EeShcIkdBVEVXQVlfRE9NQUlOU1wiKSxyPURhdGUubm93KCksbz1bXSxzPW4uZmluZCgodD0+e3ZhciBpO3JldHVybiBEbihpPWUuaG9zdCkuY2FsbChpLHQpfSkpO3N8fCh0aGlzLnVzZURvdWJsZURvbWFpbj0hMSk7Y29uc3QgYT1bXTtpZih0aGlzLnVzZURvdWJsZURvbWFpbiluLmZvckVhY2goKGk9PnthLnB1c2goZncoRXcoRXcoe30sZSkse30se2hvc3Q6ZS5ob3N0LnJlcGxhY2UocyxpKX0pLHQpKX0pKTtlbHNle2NvbnN0IGk9RXcoe30sZSk7aWYodCYmcyl7Y29uc3QgZT1uLmZpbmQoKGU9PmUhPT1zKSk7ZSYmKGkuaG9zdD1pLmhvc3QucmVwbGFjZShzLGUpKX1hLnB1c2goZncoaSx0KSl9dHJ5e2EuZm9yRWFjaCgoZT0+e2NvbnN0IHQ9bmV3IFdlYlNvY2tldChlKTt0LmJpbmFyeVR5cGU9XCJhcnJheWJ1ZmZlclwiLG8ucHVzaCh0KSx0aGlzLmxvZ2dlcihcIndzIGlzIGNvbm5lY3Rpbmc6XCIsdC51cmwpfSkpfWNhdGNoKG4pe2lmKHRoaXMubG9nZ2VyKFwid3MgY3JlYXRlIGZhaWxlZFwiKSxvLmZvckVhY2goKGU9PmUuY2xvc2UoKSkpLG8ubGVuZ3RoPTAsdGhpcy51c2VEb3VibGVEb21haW4pcmV0dXJuIHRoaXMudXNlRG91YmxlRG9tYWluPSExLHRoaXMuY3JlYXRlV2ViU29ja2V0KGUsdCxpKTtpZighdCYmNDQzIT09TnVtYmVyKGUucG9ydCkpcmV0dXJuIHRoaXMuY3JlYXRlV2ViU29ja2V0KGUsITAsaSk7dGhyb3cgbmV3IFNiKG52LldTX0VSUixcImluaXQgd2Vic29ja2V0IGZhaWxlZCEgRXJyb3I6IFwiLmNvbmNhdChuLnRvU3RyaW5nKCkpKX1jb25zdCBjPWZJKCk7dGhpcy5zdG9yZSYmdGhpcy5zdG9yZS5yZWNvcmRKb2luQ2hhbm5lbFNlcnZpY2Uoe3VybHM6by5tYXAoKGU9PmUudXJsKSksc2VydmljZTpcImdhdGV3YXlcIn0sdGhpcy5yZWNvcmRJbmRleCksby5mb3JFYWNoKChlPT57ZS5vbm9wZW49KCk9Pnt0aGlzLmxvZ2dlcihcIm9ub3Blbjogd3MgXCIuY29uY2F0KGUudXJsLFwiIG9wZW4gY29zdCBcIikuY29uY2F0KERhdGUubm93KCktcixcIm1zXCIpKSx0aGlzLndlYnNvY2tldHMuZm9yRWFjaCgodD0+e3QhPT1lJiYodC5vbm9wZW49bnVsbCx0Lm9uY2xvc2U9bnVsbCx0Lm9ubWVzc2FnZT1udWxsLHQuY2xvc2UoKSx0aGlzLmxvZ2dlcihcImNsb3NlIGJhY2t1cCB3ZWJzb2NrZXQ6IFwiLmNvbmNhdCh0LnVybCkpKX0pKSx0aGlzLndlYnNvY2tldHMubGVuZ3RoPTAsYy5yZXNvbHZlKGUpfSxlLm9uY2xvc2U9aT0+e3RoaXMubG9nZ2VyKFwib25jbG9zZTogd3MgXCIuY29uY2F0KGUudXJsLFwiIGNsb3NlZCBjb3N0IFwiKS5jb25jYXQoRGF0ZS5ub3coKS1yLFwibXMgc3RhdGU6IFwiKS5jb25jYXQoZS5yZWFkeVN0YXRlKSksdD90aGlzLmlzVHJ5NDQzUG9ydEZhaWxlZD1tdyhvKTp0aGlzLmlzTm9ybWFsUG9ydEZhaWxlZD1tdyhvKSx0aGlzLmxvZ2dlcihcIjQ0MzogXCIuY29uY2F0KHRoaXMudXNlUHJveHk/XCJub3QgdHJ5XCI6dGhpcy5pc1RyeTQ0M1BvcnRGYWlsZWQ/XCJmYWlsZWRcIjpcInRyeWluZ1wiLFwiIDQ3eHg6IFwiKS5jb25jYXQodGhpcy5pc05vcm1hbFBvcnRGYWlsZWQ/XCJmYWlsZWRcIjpcInRyeWluZ1wiKSksKHQmJnRoaXMuaXNUcnk0NDNQb3J0RmFpbGVkfHwhdCYmKHRoaXMuaXNUcnk0NDNQb3J0RmFpbGVkfHx0aGlzLnVzZVByb3h5KSYmdGhpcy5pc05vcm1hbFBvcnRGYWlsZWQpJiYodGhpcy5sb2dnZXIoXCJvbmNsb3NlOiBhbGwgd2Vic29ja2V0IGlzIGNsb3NlZCwgXCIuY29uY2F0KGkucmVhc29uKSksYy5yZWplY3Qoe2NvZGU6aS5jb2RlLHJlYXNvbjp4Yi5BX1JPVU5EX1dTX0ZBSUxFRH0pKX0sZS5vbm1lc3NhZ2U9dD0+dGhpcy5sb2dnZXIoXCJcIi5jb25jYXQoZS51cmwsXCIgb25tZXNzYWdlOiBcIikuY29uY2F0KHQuZGF0YSkpfSkpLHRoaXMud2Vic29ja2V0cy5wdXNoKC4uLm8pO3JldHVybiBpfHwoKCk9Pntjb25zdCBpPSgpPT57dGhpcy5sb2dnZXIoXCI1cyB0aW1lb3V0IGNsb3NlIHVuLW9wZW5zLCBpc1dlYnNvY2tldCBjcmVhdGVkOiBcIixjLmlzUmVzb2x2ZWQpLHRoaXMud2Vic29ja2V0cy5mb3JFYWNoKChlPT5lLnJlYWR5U3RhdGUhPT1XZWJTb2NrZXQuT1BFTiYmZS5jbG9zZSgpKSl9O2lmKHR8fHRoaXMudXNlUHJveHkpcmV0dXJuIHRoaXMubG9nZ2VyKFwiYWRkIDVzIHRpbWVvdXQgYXQgXCIuY29uY2F0KHQ/XCJ0cnktNDQzXCI6XCJwcm94eVwiLFwiIGNvbmRpdGlvblwiKSksdGhpcy5mb3JjZUNsb3NlVGltZW91dD13aW5kb3cuc2V0VGltZW91dChpLHRoaXMuZm9yY2VDbG9zZVdTRHVyYXRpb24pO3RoaXMudHJ5NDQzUG9ydFRpbWVvdXQ9d2luZG93LnNldFRpbWVvdXQoKCgpPT57aWYodGhpcy5sb2dnZXIoXCIycyB0aW1lb3V0LCBpc1dlYnNvY2tldCBjcmVhdGVkOiBcIixjLmlzUmVzb2x2ZWQpLGMuaXNSZXNvbHZlZClyZXR1cm4gaSgpO0FJKCkub3M9PT1SSS5NQUNfT1MmJmtJKCkmJmkoKSx0aGlzLmNyZWF0ZVdlYlNvY2tldChlLCEwLCEwKS50aGVuKChlPT5jLnJlc29sdmUoZSkpKS5jYXRjaCgoZT0+e3RoaXMuaXNOb3JtYWxQb3J0RmFpbGVkJiZjLnJlamVjdChlKSx0aGlzLmxvZ2dlcihcInRyeSA0NDMgcG9ydCB0byBjcmVhdGUgd3MgZmFpbGVkXCIpfSkpLHRoaXMuZm9yY2VDbG9zZVRpbWVvdXQ9d2luZG93LnNldFRpbWVvdXQoaSx0aGlzLmZvcmNlQ2xvc2VXU0R1cmF0aW9uKX0pLHRoaXMudHJ5NDQzUG9ydER1cmF0aW9uKX0pKCksYy5wcm9taXNlfWNob29zZUJlc3RXZWJzb2NrZXQoZSx0LGksbil7cmV0dXJuIHRoaXMudXNlRG91YmxlRG9tYWluPSEhdCxcInN0cmluZ1wiPT10eXBlb2YgZSYmKGU9ZnVuY3Rpb24oZSl7bGV0IHQsaSxuO3JldHVyblssdCxpLG5dPWUubWF0Y2goVHcpfHxbXSx0fHwoWyxpLG5dPWUubWF0Y2goU3cpfHxbXSksaSYmbnx8KFssaSxuXT1lLm1hdGNoKGd3KXx8W10pLGkmJm58fChbLGldPWUubWF0Y2goUncpfHxbXSksaXx8UXkud2FybmluZyhcInVuLWRlc3RydWN0aWJsZSB1cmw6IFwiLGUpLHtwcm94eTp0LGhvc3Q6aSxwb3J0Om58fFwiNDQzXCJ9fShlKSksdGhpcy5yZWNvcmRJbmRleD1uLHRoaXMudXNlUHJveHk9ISFlLnByb3h5LGkmJnRoaXMudXNlUHJveHkmJihReS53YXJuKFwiY2Fubm90IHVzZSA0NDMgb25seSB3aGVuIHVzZSBwcm94eVwiKSxpPSExKSx0aGlzLmNyZWF0ZVdlYlNvY2tldChlLCEhaSwhMSkuZmluYWxseSgoKCk9PnRoaXMuY2xlYXJUaW1lb3V0KCkpKX19ZnVuY3Rpb24gdncoZSx0KXt2YXIgaT1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihuPW4uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLGkucHVzaC5hcHBseShpLG4pfXJldHVybiBpfWNsYXNzIHl3IGV4dGVuZHMgU3Z7Z2V0IHVybCgpe3JldHVybiB0aGlzLndlYnNvY2tldCYmdGhpcy53ZWJzb2NrZXQudXJsfHxudWxsfWdldCByZWNvbm5lY3RNb2RlKCl7cmV0dXJuIHRoaXMuX3JlY29ubmVjdE1vZGV9c2V0IHJlY29ubmVjdE1vZGUoZSl7dmFyIHQ7RG4odD1bXCJ0cnlOZXh0XCIsXCJyZWNvdmVyXCJdKS5jYWxsKHQsZSkmJnRoaXMucmVzZXRSZWNvbm5lY3RDb3VudChlKSx0aGlzLl9yZWNvbm5lY3RNb2RlPWV9Z2V0IHN0YXRlKCl7cmV0dXJuIHRoaXMuX3N0YXRlfXNldCBzdGF0ZShlKXtlIT09dGhpcy5fc3RhdGUmJih0aGlzLl9zdGF0ZT1lLFwicmVjb25uZWN0aW5nXCI9PT10aGlzLl9zdGF0ZT90aGlzLmVtaXQoVGIuUkVDT05ORUNUSU5HLHRoaXMucmVjb25uZWN0UmVhc29uKTpcImNvbm5lY3RlZFwiPT09dGhpcy5fc3RhdGU/dGhpcy5lbWl0KFRiLkNPTk5FQ1RFRCk6XCJjbG9zZWRcIj09PXRoaXMuX3N0YXRlP3RoaXMuZW1pdChUYi5DTE9TRUQpOlwiZmFpbGVkXCI9PT10aGlzLl9zdGF0ZSYmdGhpcy5lbWl0KFRiLkZBSUxFRCkpfXJlc2V0UmVjb25uZWN0Q291bnQoZSl7UXkuZGVidWcoXCJ3ZWJzb2NrZXQgcmVzZXQgcmVjb25uZWN0IGNvdW50LCByZWFzb246IFwiK2UpLHRoaXMucmVjb25uZWN0Q291bnQ9MH1jb25zdHJ1Y3RvcihlLHQpe2xldCBpPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdJiZhcmd1bWVudHNbMl0sbj1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXSYmYXJndW1lbnRzWzNdLHI9YXJndW1lbnRzLmxlbmd0aD40JiZ2b2lkIDAhPT1hcmd1bWVudHNbNF0mJmFyZ3VtZW50c1s0XSxvPWFyZ3VtZW50cy5sZW5ndGg+NT9hcmd1bWVudHNbNV06dm9pZCAwO3N1cGVyKCksb2codGhpcyxcImNvbm5lY3Rpb25JRFwiLDApLG9nKHRoaXMsXCJjdXJyZW50VVJMSW5kZXhcIiwwKSxvZyh0aGlzLFwidXJsc1wiLFtdKSxvZyh0aGlzLFwiX3JlY29ubmVjdE1vZGVcIixcInRyeU5leHRcIiksb2codGhpcyxcInJlY29ubmVjdFJlYXNvblwiLHZvaWQgMCksb2codGhpcyxcIl9pbml0TXV0ZXhcIixuZXcgaHkoXCJ3ZWJzb2NrZXRcIikpLG9nKHRoaXMsXCJuYW1lXCIsdm9pZCAwKSxvZyh0aGlzLFwiX3N0YXRlXCIsXCJjbG9zZWRcIiksb2codGhpcyxcInJlY29ubmVjdEludGVycnVwdGVyXCIsdm9pZCAwKSxvZyh0aGlzLFwid2Vic29ja2V0XCIsdm9pZCAwKSxvZyh0aGlzLFwicmV0cnlDb25maWdcIix2b2lkIDApLG9nKHRoaXMsXCJyZWNvbm5lY3RDb3VudFwiLDApLG9nKHRoaXMsXCJmb3JjZUNsb3NlVGltZW91dFwiLDVlMyksb2codGhpcyxcIm9ubGluZVJlY29ubmVjdExpc3RlbmVyXCIsdm9pZCAwKSxvZyh0aGlzLFwidXNlQ29tcHJlc3NcIix2b2lkIDApLG9nKHRoaXMsXCJ0cnlEb3VibGVEb21haW5cIiwhMSksb2codGhpcyxcInVzZTQ0M1BvcnRPbmx5XCIsITEpLG9nKHRoaXMsXCJ3c0luZmxhdGVMZW5ndGhcIiwwKSxvZyh0aGlzLFwid3NEZWZsYXRlTGVuZ3RoXCIsMCksb2codGhpcyxcImNsb3NlRXN0YWJsaXNoaW5nV3NcIiwoKCk9Pnt9KSksb2codGhpcyxcInN0b3JlXCIsdm9pZCAwKSxvZyh0aGlzLFwiam9pbkdhdGV3YXlSZWNvcmRJbmRleFwiLHZvaWQgMCksdGhpcy5zdG9yZT1vLHRoaXMubmFtZT1lLHRoaXMucmV0cnlDb25maWc9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIGk9bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/dncoT2JqZWN0KGkpLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtvZyhlLHQsaVt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhpKSk6dncoT2JqZWN0KGkpKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaSx0KSl9KSl9cmV0dXJuIGV9KHt9LHQpLHRoaXMudXNlQ29tcHJlc3M9aSx0aGlzLnRyeURvdWJsZURvbWFpbj1uLHRoaXMudXNlNDQzUG9ydE9ubHk9cjtjb25zdHt0aW1lb3V0OnMsdGltZW91dEZhY3RvcjphfT10LGM9TWF0aC5tYXgoMzAwLE1hdGguZmxvb3IoMypzLzUpKSxkPU1hdGgubWF4KDEuMixNYXRoLmZsb29yKDgqYSkvMTApO1B2Lk9OTElORSYmKHRoaXMucmV0cnlDb25maWcudGltZW91dD1jLHRoaXMucmV0cnlDb25maWcudGltZW91dEZhY3Rvcj1kKSxWdi5vbihMdi5ORVRXT1JLX1NUQVRFX0NIQU5HRSwoKGUsdCk9PntlIT09dCYmKHRoaXMucmVzZXRSZWNvbm5lY3RDb3VudChcIm5ldHdvcmsgc3RhdGUgY2hhbmdlOiBcIi5jb25jYXQodCxcIiAtPiBcIikuY29uY2F0KGUpKSxlPT09UHYuT05MSU5FPyh0aGlzLnJldHJ5Q29uZmlnLnRpbWVvdXQ9Yyx0aGlzLnJldHJ5Q29uZmlnLnRpbWVvdXRGYWN0b3I9ZCk6KHRoaXMucmV0cnlDb25maWcudGltZW91dD1zLHRoaXMucmV0cnlDb25maWcudGltZW91dEZhY3Rvcj1hKSl9KSl9Z2V0Q29ubmVjdGlvbigpe3JldHVybiB0aGlzLndlYnNvY2tldHx8dm9pZCAwfWFzeW5jIGluaXQoZSl7bGV0IHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjVlMztjb25zdCBpPWF3YWl0IHRoaXMuX2luaXRNdXRleC5sb2NrKCk7dGhpcy5mb3JjZUNsb3NlVGltZW91dD10LHRoaXMudXJscz1lLHRoaXMuc3RhdGU9XCJjb25uZWN0aW5nXCI7dHJ5e2NvbnN0IGU9ZkkoKSx0PXRoaXMudXJsc1t0aGlzLmN1cnJlbnRVUkxJbmRleF07RHkoXCJFTkFCTEVfUFJFQUxMT0NfUENcIikmJnRoaXMuZW1pdCh0dy5QUkVfQ09OTkVDVF9QQyksdGhpcy5jcmVhdGVXZWJTb2NrZXRDb25uZWN0aW9uKHQpLnRoZW4oZS5yZXNvbHZlKS5jYXRjaChlLnJlamVjdCksdGhpcy5vbmNlKFRiLkNMT1NFRCwoKCk9PntlLnJlamVjdChuZXcgcnYobnYuV1NfRElTQ09OTkVDVCkpfSkpLHRoaXMub25jZShUYi5DT05ORUNURUQsZS5yZXNvbHZlKSxhd2FpdCBlLnByb21pc2V9Y2F0Y2goZSl7fWZpbmFsbHl7aSgpfX1jbG9zZShlLHQpe2lmKHRoaXMuY3VycmVudFVSTEluZGV4PTAsdGhpcy5yZXNldFJlY29ubmVjdENvdW50KFwiY2xvc2VcIiksdGhpcy5yZWNvbm5lY3RJbnRlcnJ1cHRlciYmdGhpcy5yZWNvbm5lY3RJbnRlcnJ1cHRlcigpLHRoaXMud2Vic29ja2V0KXt0aGlzLndlYnNvY2tldC5vbmNsb3NlPW51bGwsdGhpcy53ZWJzb2NrZXQub25vcGVuPW51bGwsdGhpcy53ZWJzb2NrZXQub25tZXNzYWdlPW51bGw7Y29uc3QgZT10aGlzLndlYnNvY2tldDt0P3NldFRpbWVvdXQoKCgpPT5lLmNsb3NlKCkpLDUwMCk6ZS5jbG9zZSgpLHRoaXMud2Vic29ja2V0PXZvaWQgMH10aGlzLnN0YXRlPWU/XCJmYWlsZWRcIjpcImNsb3NlZFwiLHRoaXMuY2xvc2VFc3RhYmxpc2hpbmdXcyYmdGhpcy5jbG9zZUVzdGFibGlzaGluZ1dzKCl9cmVjb25uZWN0KGUsdCl7aWYoIXRoaXMud2Vic29ja2V0KXJldHVybiB2b2lkIFF5Lndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMubmFtZSxcIl0gY2FuIG5vdCByZWNvbm5lY3QsIG5vIHdlYnNvY2tldFwiKSk7dm9pZCAwIT09ZSYmKHRoaXMucmVjb25uZWN0TW9kZT1lKSxReS5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5uYW1lLFwiXSByZWNvbm5lY3QgaXMgdHJpZ2dlcmVkIGluaXRpYXRpdmVcIikpLFwibnVtYmVyXCI9PXR5cGVvZiB0aGlzLmpvaW5HYXRld2F5UmVjb3JkSW5kZXgmJnRoaXMuc3RvcmUmJnRoaXMuc3RvcmUucmVjb3JkSm9pbkNoYW5uZWxTZXJ2aWNlKHtzdGF0dXM6XCJlcnJvclwiLGVycm9yczpbbmV3IEVycm9yKHQpXX0sdGhpcy5qb2luR2F0ZXdheVJlY29yZEluZGV4KTtjb25zdCBpPXRoaXMud2Vic29ja2V0Lm9uY2xvc2U7dGhpcy53ZWJzb2NrZXQub25jbG9zZT1udWxsLHRoaXMud2Vic29ja2V0LmNsb3NlKCksaSYmaS5iaW5kKHRoaXMud2Vic29ja2V0KSh7Y29kZTo5OTk5LHJlYXNvbjp0fSl9c2VuZE1lc3NhZ2UoZSl7bGV0IHQ9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0mJmFyZ3VtZW50c1syXTtpZighdGhpcy53ZWJzb2NrZXR8fHRoaXMud2Vic29ja2V0LnJlYWR5U3RhdGUhPT1XZWJTb2NrZXQuT1BFTil0aHJvdyBuZXcgcnYobnYuV1NfQUJPUlQsXCJ3ZWJzb2NrZXQgaXMgbm90IHJlYWR5XCIpO3RyeXt0fHwoZT1KU09OLnN0cmluZ2lmeShlKSksdGhpcy53ZWJzb2NrZXQuc2VuZChlKX1jYXRjaChlKXt0aHJvdyBuZXcgcnYobnYuV1NfRVJSLFwic2VuZCB3ZWJzb2NrZXQgbWVzc2FnZSBlcnJvclwiK2UudG9TdHJpbmcoKSl9fXNldFdzSW5mbGF0ZURhdGEoZSl7dGhpcy53c0RlZmxhdGVMZW5ndGg9dGhpcy53c0RlZmxhdGVMZW5ndGgrZS5vcmlnaW5MZW5ndGgsdGhpcy53c0luZmxhdGVMZW5ndGg9dGhpcy53c0luZmxhdGVMZW5ndGgrZS5jb21wcmVzc2VkTGVuZ3RofWdldFdzSW5mbGF0ZURhdGEoKXtjb25zdCBlPXRoaXMud3NJbmZsYXRlTGVuZ3RoLHQ9dGhpcy53c0RlZmxhdGVMZW5ndGg7cmV0dXJuIHRoaXMuY2xlYXJXc0luZmxhdGVEYXRhKCkse3dzSW5mbGF0ZUxlbmd0aDplLHdzRGVmbGF0ZUxlbmd0aDp0fX1jbGVhcldzSW5mbGF0ZURhdGEoKXt0aGlzLndzSW5mbGF0ZUxlbmd0aD0wLHRoaXMud3NEZWZsYXRlTGVuZ3RoPTB9YXN5bmMgY3JlYXRlV2ViU29ja2V0Q29ubmVjdGlvbihlKXt2YXIgdDtjb25zdCBpPWZJKCk7dGhpcy5jb25uZWN0aW9uSUQrPTEsdGhpcy5qb2luR2F0ZXdheVJlY29yZEluZGV4PXZvaWQgMDtjb25zdCBuPWU9Pnt2YXIgdDtudWxsPT09KHQ9dGhpcy5zdG9yZSl8fHZvaWQgMD09PXR8fHQuc2lnbmFsQ2hhbm5lbE9wZW4oKSxReS5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5uYW1lLFwiXSB3ZWJzb2NrZXQgb3BlbmVkOlwiKSxlKSx0aGlzLnJlY29ubmVjdE1vZGU9XCJyZXRyeVwiLHRoaXMuc3RhdGU9XCJjb25uZWN0ZWRcIix0aGlzLnJlc2V0UmVjb25uZWN0Q291bnQoXCJvcGVuZWRcIiksaS5yZXNvbHZlKCl9LHI9YXN5bmMgZT0+e3ZhciB0O2lmKFF5LmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLm5hbWUsXCJdIHdlYnNvY2tldCBjbG9zZSBcIikuY29uY2F0KG51bGw9PT0odD10aGlzLndlYnNvY2tldCl8fHZvaWQgMD09PXQ/dm9pZCAwOnQudXJsLFwiLCBjb2RlOiBcIikuY29uY2F0KGUuY29kZSxcIiwgcmVhc29uOiBcIikuY29uY2F0KGUucmVhc29uLFwiLCBjdXJyZW50IG1vZGU6IFwiKS5jb25jYXQodGhpcy5yZWNvbm5lY3RNb2RlKSksdGhpcy5yZWNvbm5lY3RDb3VudD49dGhpcy5yZXRyeUNvbmZpZy5tYXhSZXRyeUNvdW50KWkucmVqZWN0KG5ldyBydihudi5XU19ESVNDT05ORUNULFwid2Vic29ja2V0IGNsb3NlOiBcIi5jb25jYXQoZS5jb2RlKSkpLHRoaXMuY2xvc2UoKTtlbHNle1wiY29ubmVjdGVkXCI9PT10aGlzLnN0YXRlJiYodGhpcy5yZWNvbm5lY3RSZWFzb249ZS5yZWFzb24sdGhpcy5zdGF0ZT1cInJlY29ubmVjdGluZ1wiKTtjb25zdCB0PVV2KHRoaXMsVGIuV0lMTF9SRUNPTk5FQ1QsdGhpcy5yZWNvbm5lY3RNb2RlLGUucmVhc29uKXx8dGhpcy5yZWNvbm5lY3RNb2RlLG49YXdhaXQgdGhpcy5yZWNvbm5lY3RXaXRoQWN0aW9uKHQpO2lmKFwiY2xvc2VkXCI9PT10aGlzLnN0YXRlKXJldHVybiB2b2lkIFF5LmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmNvbm5lY3Rpb25JRCxcIl0gd3MgaXMgY2xvc2VkLCBubyBuZWVkIHRvIHJlY29ubmVjdFwiKSk7aWYoIW4pcmV0dXJuIGkucmVqZWN0KG5ldyBydihudi5XU19ESVNDT05ORUNULFwid2Vic29ja2V0IHJlY29ubmVjdCBmYWlsZWQ6IFwiLmNvbmNhdChlLmNvZGUpKSksdGhpcy5jbG9zZSghMCk7aS5yZXNvbHZlKCl9fSxvPWU9Pnt0aGlzLmVtaXQoVGIuT05fTUVTU0FHRSxlKX0scz1lPT57UXkud2FybihcIltcIi5jb25jYXQodGhpcy5jb25uZWN0aW9uSUQsXCJdIHdzIG9wZW4gZXJyb3IgXCIpLmNvbmNhdChlKSl9O3RoaXMud2Vic29ja2V0JiYodGhpcy53ZWJzb2NrZXQub25jbG9zZT1udWxsLHRoaXMud2Vic29ja2V0LmNsb3NlKCkpLER5KFwiR0FURVdBWV9XU1NfQUREUkVTU1wiKSYmdGhpcy5uYW1lLnN0YXJ0c1dpdGgoXCJnYXRld2F5XCIpJiYoZT1EeShcIkdBVEVXQVlfV1NTX0FERFJFU1NcIikpLFF5LmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLm5hbWUsXCJdIHN0YXJ0IGNvbm5lY3QsIHVybDpcIiksZSk7Y29uc3QgYT1udWxsPT09KHQ9dGhpcy5zdG9yZSl8fHZvaWQgMD09PXQ/dm9pZCAwOnQucmVjb3JkSm9pbkNoYW5uZWxTZXJ2aWNlKHtzdGFydFRzOkRhdGUubm93KCksc3RhdHVzOlwicGVuZGluZ1wiLHNlcnZpY2U6XCJnYXRld2F5XCJ9KTt0cnl7dmFyIGM7Y29uc3QgdD1hd2FpdCB0aGlzLmNob29zZUJlc3RXZWJzb2NrZXRDb25uZWN0aW9uKGUpO3RoaXMud2Vic29ja2V0PXQsbiYmbih0aGlzLndlYnNvY2tldC51cmwpLHRoaXMud2Vic29ja2V0Lm9uY2xvc2U9cix0aGlzLndlYnNvY2tldC5vbm1lc3NhZ2U9byx0aGlzLndlYnNvY2tldC5vbmVycm9yPXMsbnVsbD09PShjPXRoaXMuc3RvcmUpfHx2b2lkIDA9PT1jfHxjLnJlY29yZEpvaW5DaGFubmVsU2VydmljZSh7ZW5kVHM6RGF0ZS5ub3coKSxzdGF0dXM6XCJzdWNjZXNzXCJ9LGEpLHRoaXMuam9pbkdhdGV3YXlSZWNvcmRJbmRleD1hfWNhdGNoKGUpe2NvbnN0IHQ9XCJjbG9zZWRcIj09PXRoaXMuc3RhdGUsbj1lIGluc3RhbmNlb2YgcnYsbz1uJiZlLmNvZGU9PT1udi5XU19BQk9SVCxzPW4mJmUuY29kZT09PW52LldTX0VSUixjPW4/ZS5tZXNzYWdlOmUmJihlLnJlYXNvbnx8ZS50b1N0cmluZygpKTtReS53YXJuaW5nKFwiW2Nob29zZS1iZXN0LXdzXSBjaG9vc2VCZXN0V2Vic29ja2V0IGVycm9yOiBcIi5jb25jYXQoYykpLHRoaXMuc3RvcmUmJnRoaXMuc3RvcmUucmVjb3JkSm9pbkNoYW5uZWxTZXJ2aWNlKHtlbmRUczpEYXRlLm5vdygpLHN0YXR1czpvP1wiYWJvcnRlZFwiOlwiZXJyb3JcIixlcnJvcnM6W2VdfSxhKSx0fHxzPyhpLnJlamVjdCh0P25ldyBydihudi5XU19ESVNDT05ORUNULFwid2Vic29ja2V0IGlzIGNsb3NlZDogXCIuY29uY2F0KGMpKTpuZXcgcnYobnYuV1NfRVJSLFwiaW5pdCB3ZWJzb2NrZXQgZmFpbGVkOiBcIi5jb25jYXQoYykpKSxzJiZReS5lcnJvcihcIltcIi5jb25jYXQodGhpcy5uYW1lLFwiXSBpbml0IHdlYnNvY2tldCBmYWlsZWQ6IFwiKS5jb25jYXQoYykpKTpyJiZyKGUpfXJldHVybiBpLnByb21pc2V9YXN5bmMgcmVjb25uZWN0V2l0aEFjdGlvbihlKXtsZXQgdD0hKGFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdKXx8YXJndW1lbnRzWzFdO2lmKHRoaXMucmVjb25uZWN0Q291bnQ+PXRoaXMucmV0cnlDb25maWcubWF4UmV0cnlDb3VudClyZXR1cm4hMTtpZigwPT09dGhpcy51cmxzLmxlbmd0aClyZXR1cm4hMTtpZihcImNsb3NlZFwiPT09dGhpcy5zdGF0ZSlyZXR1cm4hMTtReS53YXJuaW5nKFwiW2Nob29zZS1iZXN0LXdzXSBhY3Rpb246ID0+XCIsZSksdGhpcy5vbmxpbmVSZWNvbm5lY3RMaXN0ZW5lcnx8VnYuaXNPbmxpbmV8fCFWdi5vbmxpbmVXYWl0ZXJ8fCh0aGlzLm9ubGluZVJlY29ubmVjdExpc3RlbmVyPVZ2Lm9ubGluZVdhaXRlci50aGVuKCgoKT0+e3RoaXMub25saW5lUmVjb25uZWN0TGlzdGVuZXI9dm9pZCAwfSkpKTtsZXQgaT0hMDtpZih0aGlzLnJlY29ubmVjdEludGVycnVwdGVyPSgpPT5pPSExLHQpe2NvbnN0IHQ9RXkodGhpcy5yZWNvbm5lY3RDb3VudCx0aGlzLnJldHJ5Q29uZmlnKTtReS5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5uYW1lLFwiXSB3YWl0IFwiKS5jb25jYXQodCxcIm1zIHRvIHJlY29ubmVjdCB3ZWJzb2NrZXQsIG1vZGU6IFwiKS5jb25jYXQoZSkpLGF3YWl0IEdoLnJhY2UoWyR2KHQpLHRoaXMub25saW5lUmVjb25uZWN0TGlzdGVuZXJ8fG5ldyBHaCgoKCk9Pnt9KSldKX1pZihcImNsb3NlZFwiPT09dGhpcy5fc3RhdGV8fCFpKXJldHVybiExO3RoaXMucmVjb25uZWN0Q291bnQrPTE7Y29uc3Qgbj1hc3luYyhlLHQpPT57dGhpcy5lbWl0KFRiLlJFQ09OTkVDVF9DUkVBVEVfQ09OTkVDVElPTix0KSxhd2FpdCB0aGlzLmNyZWF0ZVdlYlNvY2tldENvbm5lY3Rpb24oZSl9O3RyeXtpZihcInJldHJ5XCI9PT1lKXRoaXMuZW1pdChUYi5SRUNPTk5FQ1RfV0FJVFRJTkdfRklOSVNILGUpLGF3YWl0IG4odGhpcy51cmxzW3RoaXMuY3VycmVudFVSTEluZGV4XSxlKTtlbHNlIGlmKFwidHJ5TmV4dFwiPT09ZSl7aWYodGhpcy5jdXJyZW50VVJMSW5kZXgrPTEsdGhpcy5jdXJyZW50VVJMSW5kZXg+PXRoaXMudXJscy5sZW5ndGgpcmV0dXJuIHRoaXMucmVjb25uZWN0V2l0aEFjdGlvbihcInJlY292ZXJcIiwhMSk7UXkuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMubmFtZSxcIl0gd2Vic29ja2V0IHVybCBsZW5ndGg6IFwiKS5jb25jYXQodGhpcy51cmxzLmxlbmd0aCxcIiBjdXJyZW50IGluZGV4OiBcIikuY29uY2F0KHRoaXMuY3VycmVudFVSTEluZGV4KSksdGhpcy5lbWl0KFRiLlJFQ09OTkVDVF9XQUlUVElOR19GSU5JU0gsZSksYXdhaXQgbih0aGlzLnVybHNbdGhpcy5jdXJyZW50VVJMSW5kZXhdLGUpfWVsc2VcInJlY292ZXJcIj09PWUmJihReS5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5uYW1lLFwiXSByZXF1ZXN0IG5ldyB1cmxzXCIpKSx0aGlzLnJlc2V0UmVjb25uZWN0Q291bnQoXCJyZWNvdmVyIG1vZGVcIiksdGhpcy5lbWl0KFRiLlJFQ09OTkVDVF9XQUlUVElOR19GSU5JU0gsZSksdGhpcy51cmxzPWF3YWl0IGt2KHRoaXMsVGIuUkVRVUVTVF9ORVdfVVJMUyksdGhpcy5jdXJyZW50VVJMSW5kZXg9MCxhd2FpdCBuKHRoaXMudXJsc1t0aGlzLmN1cnJlbnRVUkxJbmRleF0sZSkpfWNhdGNoKGkpe3ZhciByO1F5LmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLm5hbWUsXCJdIHJlY29ubmVjdCBmYWlsZWQgXCIpLmNvbmNhdChpJiZpLnRvU3RyaW5nKCkpKTtjb25zdCBuPW51bGw9PWl8fG51bGw9PT0ocj1pLmRhdGEpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLmRlc2M7cmV0dXJuIEFycmF5LmlzQXJyYXkobikmJkRuKG4pLmNhbGwobixcImR5bmFtaWMga2V5IGV4cGlyZWRcIik/KHRoaXMuZW1pdChUYi5PTl9UT0tFTl9QUklWSUxFR0VfRElEX0VYUElSRSksITEpOnRoaXMucmVjb25uZWN0V2l0aEFjdGlvbihlLHQpfXJldHVybiEwfX1jbGFzcyBBdyBleHRlbmRzIHl3e2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoZSx0LGFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdJiZhcmd1bWVudHNbMl0sYXJndW1lbnRzLmxlbmd0aD4zJiZ2b2lkIDAhPT1hcmd1bWVudHNbM10mJmFyZ3VtZW50c1szXSxhcmd1bWVudHMubGVuZ3RoPjQmJnZvaWQgMCE9PWFyZ3VtZW50c1s0XSYmYXJndW1lbnRzWzRdLGFyZ3VtZW50cy5sZW5ndGg+NT9hcmd1bWVudHNbNV06dm9pZCAwKX1hc3luYyBjaG9vc2VCZXN0V2Vic29ja2V0Q29ubmVjdGlvbihlLHQpe2NvbnN0IGk9ZkkoKSxuPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIG5ldyBJdyhlLHQpfSh0aGlzLmZvcmNlQ2xvc2VUaW1lb3V0LHRoaXMuc3RvcmUpO3RoaXMuY2xvc2VFc3RhYmxpc2hpbmdXcz0oKT0+e1F5LmRlYnVnKFwiW2Nob29zZS1iZXN0LXdzXSBjbG9zZSBlc3RhYmxpc2hpbmcgd2Vic29ja2V0c1wiKSxuLmNsb3NlQWxsV2Vic29ja2V0cygpLGkucmVqZWN0KG5ldyBydihudi5XU19BQk9SVCxcImNob29zZSBiZXN0IHdlYnNvY2tldCBhYm9ydGVkXCIpKX07Y29uc3Qgcj1EeShcIkdBVEVXQVlfRE9NQUlOU1wiKTtyZXR1cm4gUXkuZGVidWcoXCJbY2hvb3NlLWJlc3Qtd3NdIGN1cnJlbnREb21haW46IFwiLGUsXCIsIGRvbWFpbnM6IFwiLHIsXCJ0b3RhbDogXCIuY29uY2F0KHRoaXMudXJscy5sZW5ndGgpLFwiY3VycmVudDogXCIuY29uY2F0KHRoaXMuY3VycmVudFVSTEluZGV4KzEpKSxuLmNob29zZUJlc3RXZWJzb2NrZXQoZSx0aGlzLnRyeURvdWJsZURvbWFpbix0aGlzLnVzZTQ0M1BvcnRPbmx5LHQpLnRoZW4oaS5yZXNvbHZlKS5jYXRjaChpLnJlamVjdCksaS5wcm9taXNlLmZpbmFsbHkoKCgpPT57dGhpcy5jbG9zZUVzdGFibGlzaGluZ1dzPXZvaWQgMH0pKX19Y2xhc3MgYncgZXh0ZW5kcyB5d3tjb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUsdCxhcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXSYmYXJndW1lbnRzWzJdLGFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdJiZhcmd1bWVudHNbM10sYXJndW1lbnRzLmxlbmd0aD40JiZ2b2lkIDAhPT1hcmd1bWVudHNbNF0mJmFyZ3VtZW50c1s0XSxhcmd1bWVudHMubGVuZ3RoPjU/YXJndW1lbnRzWzVdOnZvaWQgMCl9YXN5bmMgY2hvb3NlQmVzdFdlYnNvY2tldENvbm5lY3Rpb24oZSx0KXtyZXR1cm4gbmV3IEdoKCgoaSxuKT0+e2xldCByPSExO2NvbnN0IG89W107dGhpcy5jbG9zZUVzdGFibGlzaGluZ1dzPSgpPT57UXkuZGVidWcoXCJbY2hvb3NlLWJlc3Qtd3NdIGNsb3NlIGVzdGFibGlzaGluZyB3ZWJzb2NrZXRzXCIpLG8uZm9yRWFjaCgoZT0+e2Uub25jbG9zZT1udWxsLGUub25vcGVuPW51bGwsZS5vbm1lc3NhZ2U9bnVsbCxlLmNsb3NlKCl9KSksbihuZXcgcnYobnYuV1NfQUJPUlQsXCJjaG9vc2UgYmVzdCB3ZWJzb2NrZXQgYWJvcnRlZFwiKSl9O2NvbnN0IHM9RHkoXCJHQVRFV0FZX0RPTUFJTlNcIik7bGV0IGE7Y29uc3QgYz1lLmluZGV4T2YoXCI/aD1cIiksZD1zLmZpbmQoKHQ9Pi0xIT09Yz9EbihlKS5jYWxsKGUsdCxjKTpEbihlKS5jYWxsKGUsdCkpKTtReS5kZWJ1ZyhcIltjaG9vc2UtYmVzdC13c10gY3VycmVudERvbWFpbjogXCIsZCxcIiwgZG9tYWluczogXCIscyk7bGV0IGw9IXRoaXMudHJ5RG91YmxlRG9tYWlufHwhZDtpZighbCYmZCl7dmFyIHU7Y29uc3QgaD1EYXRlLm5vdygpO3RyeXtzLmZvckVhY2goKHQ9Pntjb25zdCBpPS0xPT09Yz9lLnJlcGxhY2UoZCx0KTplLnN1YnN0cigwLGMpK2Uuc3Vic3RyKGMpLnJlcGxhY2UoZCx0KSxuPW5ldyBXZWJTb2NrZXQoaSk7bi5iaW5hcnlUeXBlPVwiYXJyYXlidWZmZXJcIixvLnB1c2gobiksUXkuZGVidWcoXCJbY2hvb3NlLWJlc3Qtd3NdIHdzIGlzIGNvbm5lY3Rpbmc6XCIsbi51cmwpfSkpfWNhdGNoKGUpe2ZvcihReS5kZWJ1ZyhcIltjaG9vc2UtYmVzdC13c10gd3MgY3JlYXRlIGZhaWxlZCwgZmFsbGJhY2sgdG8gc2luZ2xlIHVybFwiKSxvLmZvckVhY2goKGU9PmUuY2xvc2UoKSkpO28ubGVuZ3RoOylvLnBvcCgpO2w9ITB9bnVsbD09PSh1PXRoaXMuc3RvcmUpfHx2b2lkIDA9PT11fHx1LnJlY29yZEpvaW5DaGFubmVsU2VydmljZSh7dXJsczpvLm1hcCgoZT0+ZS51cmwpKSxzZXJ2aWNlOlwiZ2F0ZXdheVwifSx0KSxvLmZvckVhY2goKGU9PntlLm9ub3Blbj0oKT0+e2lmKHIpcmV0dXJuO2NvbnN0IHQ9RGF0ZS5ub3coKS1oO1F5LmRlYnVnKFwiW2Nob29zZS1iZXN0LXdzXSB3cyBvcGVuIGNvc3QgXCIuY29uY2F0KHQsXCJtc1wiKSksby5maWx0ZXIoKHQ9PnQhPT1lKSkuZm9yRWFjaCgoZT0+e1F5LmRlYnVnKFwiW2Nob29zZS1iZXN0LXdzXWNsb3NlIGJhY2t1cCB3ZWJzb2NrZXQ6IFwiLmNvbmNhdChlLnVybCkpLGUuY2xvc2UoKX0pKSxyPSEwLGkoZSl9LGUub25jbG9zZT1lPT57aWYoYT1lLHIpcmV0dXJuO28uZmluZCgoZT0+IShlLnJlYWR5U3RhdGU9PT1XZWJTb2NrZXQuQ0xPU0VEfHxlLnJlYWR5U3RhdGU9PT1XZWJTb2NrZXQuQ0xPU0lORykpKXx8KFF5LmRlYnVnKFwiW2Nob29zZS1iZXN0LXdzXSBhbGwgd2Vic29ja2V0IGlzIGNsb3NlZFwiKSxyPSEwLG4oYSkpfSxlLm9ubWVzc2FnZT10PT57UXkuZGVidWcoXCJbY2hvb3NlLWJlc3Qtd3NdXCIuY29uY2F0KGUudXJsLFwiIG9ubWVzc2FnZTogXCIpLmNvbmNhdCh0LmRhdGEpKX19KSksJHYodGhpcy5mb3JjZUNsb3NlVGltZW91dCkudGhlbigoKCk9PntvLmZvckVhY2goKGU9PntlLnJlYWR5U3RhdGUhPT1XZWJTb2NrZXQuT1BFTiYmZS5jbG9zZSgpfSkpfSkpfWlmKGwpe3ZhciBoO2xldCByO1F5LmRlYnVnKFwiW2Nob29zZS1iZXN0LXdzXSB1c2Ugc2luZ2xlIHVybDogXCIsZSksbnVsbD09PShoPXRoaXMuc3RvcmUpfHx2b2lkIDA9PT1ofHxoLnJlY29yZEpvaW5DaGFubmVsU2VydmljZSh7dXJsczpbZV0sc2VydmljZTpcImdhdGV3YXlcIn0sdCk7dHJ5e3I9bmV3IFdlYlNvY2tldChlKSxvLnB1c2gociksci5iaW5hcnlUeXBlPVwiYXJyYXlidWZmZXJcIn1jYXRjaChlKXtjb25zdCB0PW5ldyBydihudi5XU19FUlIsXCJpbml0IHdlYnNvY2tldCBmYWlsZWQhIEVycm9yOiBcIi5jb25jYXQoZS50b1N0cmluZygpKSk7cmV0dXJuIFF5LmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLm5hbWUsXCJdXCIpLmNvbmNhdCh0KSksdm9pZCBuKHQpfXIub25vcGVuPSgpPT57aShyKX0sci5vbmNsb3NlPWU9PntuKGUpfSxyLm9ubWVzc2FnZT1lPT57UXkuZGVidWcoXCJbY2hvb3NlLWJlc3Qtd3NdXCIuY29uY2F0KHIudXJsLFwiIG9ubWVzc2FnZTogXCIpLmNvbmNhdChlLmRhdGEpKX0sJHYodGhpcy5mb3JjZUNsb3NlVGltZW91dCkudGhlbigoKCk9PntyJiZyLnJlYWR5U3RhdGUhPT1XZWJTb2NrZXQuT1BFTiYmci5jbG9zZSgpfSkpfX0pKS50aGVuKChlPT4odGhpcy5jbG9zZUVzdGFibGlzaGluZ1dzPXZvaWQgMCxlKSkpLmNhdGNoKChlPT57dGhyb3cgdGhpcy5jbG9zZUVzdGFibGlzaGluZ1dzPXZvaWQgMCxlfSkpfX1jbGFzcyB3dyBleHRlbmRzIFN2e2dldCBjb25uZWN0aW9uU3RhdGUoKXtyZXR1cm4gdGhpcy5fY29ubmVjdGlvblN0YXRlfXNldCBjb25uZWN0aW9uU3RhdGUoZSl7ZSE9PXRoaXMuX2Nvbm5lY3Rpb25TdGF0ZSYmKHRoaXMuX2Nvbm5lY3Rpb25TdGF0ZT1lLGU9PT1oYi5DT05ORUNURUQ/dGhpcy5lbWl0KHBiLldTX0NPTk5FQ1RFRCk6ZT09PWhiLlJFQ09OTkVDVElORz90aGlzLmVtaXQocGIuV1NfUkVDT05ORUNUSU5HLHRoaXMuX3dlYnNvY2tldFJlY29ubmVjdFJlYXNvbik6ZT09PWhiLkNMT1NFRCYmdGhpcy5lbWl0KHBiLldTX0NMT1NFRCx0aGlzLl9kaXNjb25uZWN0ZWRSZWFzb24pKX1nZXQgY3VycmVudFVSTEluZGV4KCl7cmV0dXJuIHRoaXMud2Vic29ja2V0LmN1cnJlbnRVUkxJbmRleH1nZXQgdXJsKCl7cmV0dXJuIHRoaXMud2Vic29ja2V0JiZ0aGlzLndlYnNvY2tldC51cmx8fG51bGx9Z2V0IHJ0dCgpe3JldHVybiB0aGlzLnJ0dFJvbGxpbmcubWVhbigpfWNvbnN0cnVjdG9yKGUsdCl7c3VwZXIoKSxvZyh0aGlzLFwiX2Rpc2Nvbm5lY3RlZFJlYXNvblwiLHZvaWQgMCksb2codGhpcyxcIl93ZWJzb2NrZXRSZWNvbm5lY3RSZWFzb25cIix2b2lkIDApLG9nKHRoaXMsXCJfY29ubmVjdGlvblN0YXRlXCIsaGIuQ0xPU0VEKSxvZyh0aGlzLFwicmVjb25uZWN0VG9rZW5cIix2b2lkIDApLG9nKHRoaXMsXCJ3ZWJzb2NrZXRcIix2b2lkIDApLG9nKHRoaXMsXCJvcGVuQ29ubmVjdGlvblRpbWVcIix2b2lkIDApLG9nKHRoaXMsXCJjbGllbnRJZFwiLHZvaWQgMCksb2codGhpcyxcImxhc3RNc2dUaW1lXCIsRGF0ZS5ub3coKSksb2codGhpcyxcInVwbG9hZENhY2hlXCIsW10pLG9nKHRoaXMsXCJ1cGxvYWRDYWNoZUludGVydmFsXCIsdm9pZCAwKSxvZyh0aGlzLFwicnR0Um9sbGluZ1wiLG5ldyBmeSg1KSksb2codGhpcyxcInBpbmdwb25nVGltZXJcIix2b2lkIDApLG9nKHRoaXMsXCJ3c0luZmxhdGVEYXRhVGltZXJcIix2b2lkIDApLG9nKHRoaXMsXCJwaW5ncG9uZ1RpbWVvdXRDb3VudFwiLDApLG9nKHRoaXMsXCJqb2luUmVzcG9uc2VcIix2b2lkIDApLG9nKHRoaXMsXCJtdWx0aUlwT3B0aW9uXCIsdm9pZCAwKSxvZyh0aGlzLFwiaW5pdEVycm9yXCIsdm9pZCAwKSxvZyh0aGlzLFwic3BlY1wiLHZvaWQgMCksb2codGhpcyxcInN0b3JlXCIsdm9pZCAwKSxvZyh0aGlzLFwib25XZWJzb2NrZXRNZXNzYWdlXCIsKGU9PntpZihlLmRhdGEgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcilyZXR1cm4gdm9pZCB0aGlzLmVtaXQocGIuT05fQklOQVJZX0RBVEEsZS5kYXRhKTtjb25zdCB0PUpTT04ucGFyc2UoZS5kYXRhKTtpZih0aGlzLmxhc3RNc2dUaW1lPURhdGUubm93KCksT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsXCJfaWRcIikpe2NvbnN0IGU9XCJyZXMtQFwiLmNvbmNhdCh0Ll9pZCk7dGhpcy5lbWl0KGUsdC5fcmVzdWx0LHQuX21lc3NhZ2UpfWVsc2UgaWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsXCJfdHlwZVwiKSl7aWYodGhpcy5lbWl0KHQuX3R5cGUsdC5fbWVzc2FnZSksdC5fdHlwZT09PW1iLk9OX05PVElGSUNBVElPTiYmdGhpcy5oYW5kbGVOb3RpZmljYXRpb24odC5fbWVzc2FnZSksdC5fdHlwZT09PW1iLk9OX1VTRVJfQkFOTkVEKXN3aXRjaCh0Ll9tZXNzYWdlLmVycm9yX2NvZGUpe2Nhc2UgMTQ6dGhpcy5jbG9zZShBdi5VSURfQkFOTkVEKTticmVhaztjYXNlIDE1OnRoaXMuY2xvc2UoQXYuSVBfQkFOTkVEKTticmVhaztjYXNlIDE2OnRoaXMuY2xvc2UoQXYuQ0hBTk5FTF9CQU5ORUQpfWlmKHQuX3R5cGU9PT1tYi5PTl9VU0VSX0xJQ0VOU0VfQkFOTkVEKXN3aXRjaCh0Ll9tZXNzYWdlLmVycm9yX2NvZGUpe2Nhc2UgdWIuRVJSX0xJQ0VOU0VfTUlTU0lORzp0aGlzLmNsb3NlKEF2LkxJQ0VOU0VfTUlTU0lORyk7YnJlYWs7Y2FzZSB1Yi5FUlJfTElDRU5TRV9FWFBJUkVEOnRoaXMuY2xvc2UoQXYuTElDRU5TRV9FWFBJUkVEKTticmVhaztjYXNlIHViLkVSUl9MSUNFTlNFX01JTlVURVNfRVhDRUVERUQ6dGhpcy5jbG9zZShBdi5MSUNFTlNFX01JTlVURVNfRVhDRUVERUQpO2JyZWFrO2Nhc2UgdWIuRVJSX0xJQ0VOU0VfUEVSSU9EX0lOVkFMSUQ6dGhpcy5jbG9zZShBdi5MSUNFTlNFX1BFUklPRF9JTlZBTElEKTticmVhaztjYXNlIHViLkVSUl9MSUNFTlNFX01VTFRJUExFX1NES19TRVJWSUNFOnRoaXMuY2xvc2UoQXYuTElDRU5TRV9NVUxUSVBMRV9TREtfU0VSVklDRSk7YnJlYWs7Y2FzZSB1Yi5FUlJfTElDRU5TRV9JTExFR0FMOnRoaXMuY2xvc2UoQXYuTElDRU5TRV9JTExFR0FMKTticmVhaztkZWZhdWx0OnRoaXMuY2xvc2UoKX19fSkpLHRoaXMuY2xpZW50SWQ9ZS5jbGllbnRJZCx0aGlzLnNwZWM9ZSx0aGlzLnN0b3JlPXQsdGhpcy53ZWJzb2NrZXQ9bmV3IEF3KFwiZ2F0ZXdheS1cIi5jb25jYXQodGhpcy5jbGllbnRJZCksdGhpcy5zcGVjLnJldHJ5Q29uZmlnLCEwLER5KFwiSk9JTl9HQVRFV0FZX1VTRV9EVUFMX0RPTUFJTlwiKSxEeShcIkpPSU5fR0FURVdBWV9VU0VfNDQzUE9SVF9PTkxZXCIpLHQpLHRoaXMuaGFuZGxlV2Vic29ja2V0RXZlbnRzKCksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJvZmZsaW5lXCIsKCgpPT57dGhpcy5jb25uZWN0aW9uU3RhdGU9PT1oYi5DT05ORUNURUQmJnRoaXMucmVjb25uZWN0KFwicmV0cnlcIixEdi5PRkZMSU5FKX0pKX1hc3luYyByZXF1ZXN0KGUsdCxpLG4pe2NvbnN0IHI9ZXkoNixcIlwiKSxvPXtfaWQ6cixfdHlwZTplLF9tZXNzYWdlOnR9LHM9dGhpcy53ZWJzb2NrZXQuY29ubmVjdGlvbklELGE9KCk9Pm5ldyBHaCgoKHQsaSk9PntpZih0aGlzLmNvbm5lY3Rpb25TdGF0ZT09PWhiLkNPTk5FQ1RFRClyZXR1cm4gdCgpO2NvbnN0IG49KCk9Pnt0aGlzLm9mZihwYi5XU19DTE9TRUQsciksdCgpfSxyPSgpPT57dGhpcy5vZmYocGIuV1NfQ09OTkVDVEVELG4pLGkobmV3IFNiKG52LldTX0FCT1JUKSl9O3RoaXMub25jZShwYi5XU19DT05ORUNURUQsbiksdGhpcy5vbmNlKHBiLldTX0NMT1NFRCxyKSxlIT09X2IuUFVCTElTSCYmZSE9PV9iLlBVQkxJU0hfREFUQVNUUkVBTSYmZSE9PV9iLlNVQlNDUklCRSYmZSE9PV9iLlNVQlNDUklCRV9EQVRBU1RSRUFNJiZlIT09X2IuVU5TVUJTQ1JJQkUmJmUhPT1fYi5VTlNVQlNDUklCRV9EQVRBU1RSRUFNJiZlIT09X2IuVU5QVUJMSVNIJiZlIT09X2IuVU5QVUJMSVNIX0RBVEFTVFJFQU0mJmUhPT1fYi5DT05UUk9MJiZlIT09X2IuUkVTVEFSVF9JQ0V8fHRoaXMub25jZShwYi5ESVNDT05ORUNUX1AyUCwoKCk9PntpKG5ldyBTYihudi5ESVNDT05ORUNUX1AyUCkpfSkpLGUhPT1fYi5QVUJMSVNIJiZlIT09X2IuUkVTVEFSVF9JQ0V8fHRoaXMub25jZShwYi5BQk9SVF9QMlBfRVhFQ1VUSU9OLCgoKT0+e2kobmV3IFNiKG52LkRJU0NPTk5FQ1RfUDJQKSl9KSl9KSk7aWYodGhpcy5jb25uZWN0aW9uU3RhdGUhPT1oYi5DT05ORUNUSU5HJiZ0aGlzLmNvbm5lY3Rpb25TdGF0ZSE9PWhiLlJFQ09OTkVDVElOR3x8ZT09PV9iLkpPSU58fGU9PT1fYi5SRUpPSU58fGF3YWl0IGEoKSx0aGlzLndlYnNvY2tldC5zZW5kTWVzc2FnZShvLCEwKSxuKXJldHVybjtjb25zdCBjPW5ldyBHaCgoKGksbik9PntsZXQgbz0hMTtjb25zdCBhPShuLHIpPT57bz0hMCxpKHtpc1N1Y2Nlc3M6XCJzdWNjZXNzXCI9PT1uLG1lc3NhZ2U6cnx8e319KSx0aGlzLm9mZihwYi5XU19DTE9TRUQsYyksdGhpcy5vZmYocGIuV1NfUkVDT05ORUNUSU5HLGMpLHRoaXMuZW1pdChwYi5SRVFVRVNUX1NVQ0NFU1MsZSx0KX07dGhpcy5vbmNlKFwicmVzLUBcIi5jb25jYXQociksYSk7Y29uc3QgYz0oKT0+e24obmV3IFNiKG52LldTX0FCT1JULFwidHlwZTogXCIuY29uY2F0KGUpKSksdGhpcy5vZmYocGIuV1NfQ0xPU0VELGMpLHRoaXMub2ZmKHBiLldTX1JFQ09OTkVDVElORyxjKSx0aGlzLm9mZihcInJlcy1AXCIuY29uY2F0KHIpLGEpfTt0aGlzLm9uY2UocGIuV1NfQ0xPU0VELGMpLHRoaXMub25jZShwYi5XU19SRUNPTk5FQ1RJTkcsYyksJHYoRHkoXCJTSUdOQUxfUkVRVUVTVF9USU1FT1VUXCIpKS50aGVuKCgoKT0+e3RoaXMud2Vic29ja2V0LmNvbm5lY3Rpb25JRCE9PXN8fG98fChReS53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLmNsaWVudElkLFwiXSB3cyByZXF1ZXN0IHRpbWVvdXQsIHR5cGU6IFwiKS5jb25jYXQoZSkpLHRoaXMuZW1pdChwYi5SRVFVRVNUX1RJTUVPVVQsZSx0KSl9KSl9KSk7bGV0IGQ9bnVsbDt0cnl7ZD1hd2FpdCBjfWNhdGNoKG4pe2lmKHRoaXMuY29ubmVjdGlvblN0YXRlPT09aGIuQ0xPU0VEfHxlPT09X2IuTEVBVkUpdGhyb3cgbmV3IFNiKG52LldTX0FCT1JUKTtyZXR1cm4hdGhpcy5zcGVjLmZvcmNlV2FpdEdhdGV3YXlSZXNwb25zZXx8aT9uLnRocm93KCk6ZT09PV9iLkpPSU58fGU9PT1fYi5SRUpPSU4/bnVsbDooYXdhaXQgYSgpLGF3YWl0IHRoaXMucmVxdWVzdChlLHQpKX1pZihkLmlzU3VjY2VzcylyZXR1cm4gZC5tZXNzYWdlO2NvbnN0IGw9TnVtYmVyKGQubWVzc2FnZS5lcnJvcl9jb2RlfHxkLm1lc3NhZ2UuY29kZSksdT1wdyhsKSxoPW5ldyBTYihudi5VTkVYUEVDVEVEX1JFU1BPTlNFLFwiXCIuY29uY2F0KHUuZGVzYyxcIjogXCIpLmNvbmNhdChkLm1lc3NhZ2UuZXJyb3Jfc3RyKSx7Y29kZTpsLGRhdGE6ZC5tZXNzYWdlLGRlc2M6dS5kZXNjfSk7cmV0dXJuXCJzdWNjZXNzXCI9PT11LmFjdGlvbj9kLm1lc3NhZ2U6KFF5Lndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCJdIFtcIikuY29uY2F0KHRoaXMud2Vic29ja2V0LmNvbm5lY3Rpb25JRCxcIl0gdW5leHBlY3RlZCByZXNwb25zZSBmcm9tIHR5cGUgXCIpLmNvbmNhdChlLFwiLCBlcnJvcl9jb2RlOiBcIikuY29uY2F0KGwsXCIsIG1lc3NhZ2U6IFwiKS5jb25jYXQodS5kZXNjLFwiLCBhY3Rpb246IFwiKS5jb25jYXQodS5hY3Rpb24pKSxsPT09dWIuRVJSX1RPT19NQU5ZX0JST0FEQ0FTVEVSUz9lPT09X2IuSk9JTnx8ZT09PV9iLlJFSk9JTj8odGhpcy5pbml0RXJyb3I9aCx0aGlzLmNsb3NlKCksaC50aHJvdygpKTpoLnRocm93KCk6XCJmYWlsZWRcIj09PXUuYWN0aW9uP2gudGhyb3coKTpcInF1aXRcIj09PXUuYWN0aW9uPyh0aGlzLmluaXRFcnJvcj1oLHRoaXMuY2xvc2UoKSxoLnRocm93KCkpOihsPT09dWIuRVJSX0pPSU5fQllfTVVMVElfSVA/KHRoaXMubXVsdGlJcE9wdGlvbj1kLm1lc3NhZ2Uub3B0aW9uLFF5Lndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCJdIGRldGVjdCBtdWx0aSBpcCwgcmVjb3ZlclwiKSksdGhpcy5yZWNvbm5lY3QoXCJyZWNvdmVyXCIsRHYuTVVMVElfSVApKTp0aGlzLnJlY29ubmVjdCh1LmFjdGlvbixEdi5TRVJWRVJfRVJST1IpLGU9PT1fYi5KT0lOfHxlPT09X2IuUkVKT0lOP251bGw6YXdhaXQgdGhpcy5yZXF1ZXN0KGUsdCkpKX13YWl0TWVzc2FnZShlLHQpe3JldHVybiBuZXcgR2goKGk9Pntjb25zdCBuPXI9PnsoIXR8fHQocikpJiYodGhpcy5vZmYoZSxuKSxpKHIpKX07dGhpcy5vbihlLG4pfSkpfXVwbG9hZFdSVENTdGF0cyhlKXtpZighdGhpcy5zdG9yZS5zZXNzaW9uSWQpcmV0dXJuIHZvaWQgUXkud2FybihcIltcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIl0gbm8gc2Vzc2lvbiBpZCB3aGVuIHVwbG9hZCB3cnRjIHN0YXRzXCIpKTtjb25zdCB0PXtsdHM6RGF0ZS5ub3coKSxzaWQ6dGhpcy5zdG9yZS5zZXNzaW9uSWQsdWlkOnRoaXMuc3RvcmUuaW50VWlkLHN0YXRzOmV9O3RoaXMudXBsb2FkKEViLldSVENfU1RBVFMsdCl9dXBsb2FkKGUsdCl7Y29uc3QgaT17X3R5cGU6ZSxfbWVzc2FnZTp0fTt0cnl7dGhpcy53ZWJzb2NrZXQuc2VuZE1lc3NhZ2UoaSl9Y2F0Y2goZSl7Y29uc3QgdD1EeShcIk1BWF9VUExPQURfQ0FDSEVcIil8fDUwO3RoaXMudXBsb2FkQ2FjaGUucHVzaChpKSx0aGlzLnVwbG9hZENhY2hlLmxlbmd0aD50JiZ0aGlzLnVwbG9hZENhY2hlLnNwbGljZSgwLDEpLHRoaXMudXBsb2FkQ2FjaGUubGVuZ3RoPjAmJiF0aGlzLnVwbG9hZENhY2hlSW50ZXJ2YWwmJih0aGlzLnVwbG9hZENhY2hlSW50ZXJ2YWw9d2luZG93LnNldEludGVydmFsKCgoKT0+e2lmKHRoaXMuY29ubmVjdGlvblN0YXRlIT09aGIuQ09OTkVDVEVEKXJldHVybjtjb25zdCBlPXRoaXMudXBsb2FkQ2FjaGUuc3BsaWNlKDAsMSlbMF07MD09PXRoaXMudXBsb2FkQ2FjaGUubGVuZ3RoJiYod2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy51cGxvYWRDYWNoZUludGVydmFsKSx0aGlzLnVwbG9hZENhY2hlSW50ZXJ2YWw9dm9pZCAwKSx0aGlzLnVwbG9hZChlLl90eXBlLGUuX21lc3NhZ2UpfSksRHkoXCJVUExPQURfQ0FDSEVfSU5URVJWQUxcIil8fDJlMykpfX1zZW5kKGUsdCl7Y29uc3QgaT17X3R5cGU6ZSxfbWVzc2FnZTp0fTt0aGlzLndlYnNvY2tldC5zZW5kTWVzc2FnZShpKX1pbml0KGUsdCl7cmV0dXJuIHRoaXMuaW5pdEVycm9yPXZvaWQgMCx0aGlzLm11bHRpSXBPcHRpb249dm9pZCAwLHRoaXMuam9pblJlc3BvbnNlPXZvaWQgMCx0aGlzLnJlY29ubmVjdFRva2VuPXZvaWQgMCx0aGlzLm9wZW5Db25uZWN0aW9uVGltZT12b2lkIDAsbmV3IEdoKCgodCxpKT0+e3RoaXMub25jZShwYi5XU19DT05ORUNURUQsKCgpPT50KHRoaXMuam9pblJlc3BvbnNlKSkpLHRoaXMub25jZShwYi5XU19DTE9TRUQsKCgpPT5pKHRoaXMuaW5pdEVycm9yfHxuZXcgU2IobnYuV1NfQUJPUlQpKSkpLHRoaXMuY29ubmVjdGlvblN0YXRlPWhiLkNPTk5FQ1RJTkcsdGhpcy53ZWJzb2NrZXQuaW5pdChlKS5jYXRjaChpKSx0aGlzLndzSW5mbGF0ZURhdGFUaW1lciYmd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy53c0luZmxhdGVEYXRhVGltZXIpLHRoaXMud3NJbmZsYXRlRGF0YVRpbWVyPXdpbmRvdy5zZXRJbnRlcnZhbCgoKCk9Pnt0aGlzLmhhbmRsZVdzSW5mbGF0ZURhdGEoKX0pLDJlNCl9KSl9Y2xvc2UoZSl7dGhpcy5waW5ncG9uZ1RpbWVyJiYodGhpcy5waW5ncG9uZ1RpbWVvdXRDb3VudD0wLHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMucGluZ3BvbmdUaW1lciksdGhpcy5waW5ncG9uZ1RpbWVyPXZvaWQgMCksdGhpcy53c0luZmxhdGVEYXRhVGltZXImJih0aGlzLmhhbmRsZVdzSW5mbGF0ZURhdGEoKSx3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLndzSW5mbGF0ZURhdGFUaW1lciksdGhpcy53c0luZmxhdGVEYXRhVGltZXI9dm9pZCAwKSx0aGlzLnJlY29ubmVjdFRva2VuPXZvaWQgMCx0aGlzLmpvaW5SZXNwb25zZT12b2lkIDAsdGhpcy5fZGlzY29ubmVjdGVkUmVhc29uPWV8fEF2LkxFQVZFLHRoaXMuY29ubmVjdGlvblN0YXRlPWhiLkNMT1NFRCxReS5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIl0gXCIpK1wid2lsbCBjbG9zZSB3ZWJzb2NrZXQgaW4gc2lnbmFsXCIpLHRoaXMud2Vic29ja2V0LmNsb3NlKCl9YXN5bmMgam9pbigpe2lmKCF0aGlzLmpvaW5SZXNwb25zZSl7dGhpcy5lbWl0KHBiLkFCT1JUX1AyUF9FWEVDVVRJT04pO2NvbnN0IGU9YXdhaXQga3YodGhpcyxwYi5SRVFVRVNUX0pPSU5fSU5GTyksdD1hd2FpdCB0aGlzLnJlcXVlc3QoX2IuSk9JTixlKTtpZighdClyZXR1cm4gdGhpcy5lbWl0KHBiLlJFUE9SVF9KT0lOX0dBVEVXQVkseGIuVElNRU9VVCx0aGlzLnVybHx8XCJcIiksITE7dGhpcy5qb2luUmVzcG9uc2U9dCx0aGlzLmVtaXQocGIuSk9JTl9SRVNQT05TRSx0aGlzLmpvaW5SZXNwb25zZSksdGhpcy5yZWNvbm5lY3RUb2tlbj10aGlzLmpvaW5SZXNwb25zZS5yZWpvaW5fdG9rZW59cmV0dXJuIHRoaXMuY29ubmVjdGlvblN0YXRlPWhiLkNPTk5FQ1RFRCx0aGlzLnBpbmdwb25nVGltZXImJndpbmRvdy5jbGVhckludGVydmFsKHRoaXMucGluZ3BvbmdUaW1lciksdGhpcy5waW5ncG9uZ1RpbWVyPXdpbmRvdy5zZXRJbnRlcnZhbCh0aGlzLmhhbmRsZVBpbmdQb25nLmJpbmQodGhpcyksM2UzKSwhMH1hc3luYyByZWpvaW4oKXtpZighdGhpcy5yZWNvbm5lY3RUb2tlbil0aHJvdyBuZXcgU2IobnYuVU5FWFBFQ1RFRF9FUlJPUixcImNhbiBub3QgcmVqb2luLCBubyByZWpvaW4gdG9rZW5cIik7Y29uc3QgZT14dih0aGlzLHBiLlJFUVVFU1RfUkVKT0lOX0lORk8pO2UudG9rZW49dGhpcy5yZWNvbm5lY3RUb2tlbjtjb25zdCB0PWF3YWl0IHRoaXMucmVxdWVzdChfYi5SRUpPSU4sZSk7cmV0dXJuISF0JiYodGhpcy5jb25uZWN0aW9uU3RhdGU9aGIuQ09OTkVDVEVELHRoaXMucGluZ3BvbmdUaW1lciYmd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5waW5ncG9uZ1RpbWVyKSx0aGlzLnBpbmdwb25nVGltZXI9d2luZG93LnNldEludGVydmFsKHRoaXMuaGFuZGxlUGluZ1BvbmcuYmluZCh0aGlzKSwzZTMpLHQucGVlcnMmJnQucGVlcnMuZm9yRWFjaCgoZT0+e3RoaXMuZW1pdChtYi5PTl9VU0VSX09OTElORSx7dWlkOmUudWlkfSksZS5hdWRpbyYmdGhpcy5lbWl0KG1iLk9OX0FERF9BVURJT19TVFJFQU0se3VpZDplLnVpZCx1aW50X2lkOmUudWludF9pZCxhdWRpbzohMCxzc3JjSWQ6ZS5hdWRpb19zc3JjfSksZS52aWRlbyYmdGhpcy5lbWl0KG1iLk9OX0FERF9WSURFT19TVFJFQU0se3VpZDplLnVpZCx1aW50X2lkOmUudWludF9pZCx2aWRlbzohMCxzc3JjSWQ6ZS52aWRlb19zc3JjfSksZS5hdWRpb19tdXRlP3RoaXMuZW1pdChtYi5NVVRFX0FVRElPLHt1aWQ6ZS51aWR9KTp0aGlzLmVtaXQobWIuVU5NVVRFX0FVRElPLHt1aWQ6ZS51aWR9KSxlLnZpZGVvX211dGU/dGhpcy5lbWl0KG1iLk1VVEVfVklERU8se3VpZDplLnVpZH0pOnRoaXMuZW1pdChtYi5VTk1VVEVfVklERU8se3VpZDplLnVpZH0pLGUuYXVkaW9fZW5hYmxlX2xvY2FsP3RoaXMuZW1pdChtYi5FTkFCTEVfTE9DQUxfQVVESU8se3VpZDplLnVpZH0pOnRoaXMuZW1pdChtYi5ESVNBQkxFX0xPQ0FMX0FVRElPLHt1aWQ6ZS51aWR9KSxlLnZpZGVvX2VuYWJsZV9sb2NhbD90aGlzLmVtaXQobWIuRU5BQkxFX0xPQ0FMX1ZJREVPLHt1aWQ6ZS51aWR9KTp0aGlzLmVtaXQobWIuRElTQUJMRV9MT0NBTF9WSURFTyx7dWlkOmUudWlkfSksZS5hdWRpb3x8ZS52aWRlb3x8dGhpcy5lbWl0KG1iLk9OX1JFTU9WRV9TVFJFQU0se3VpZDplLnVpZCx1aW50X2lkOmUudWludF9pZH0pfSkpLCEwKX1yZWNvbm5lY3QoZSx0KXt0aGlzLnBpbmdwb25nVGltZXImJih0aGlzLnBpbmdwb25nVGltZW91dENvdW50PTAsd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5waW5ncG9uZ1RpbWVyKSx0aGlzLnBpbmdwb25nVGltZXI9dm9pZCAwKSx0aGlzLndlYnNvY2tldC5yZWNvbm5lY3QoZSx0KX1oYW5kbGVOb3RpZmljYXRpb24oZSl7UXkuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCJdIHJlY2VpdmUgbm90aWZpY2F0aW9uOiBcIiksZSk7Y29uc3QgdD1wdyhlLmNvZGUpO2lmKFwic3VjY2Vzc1wiIT09dC5hY3Rpb24pe2lmKFwiZmFpbGVkXCIhPT10LmFjdGlvbilyZXR1cm5cInF1aXRcIj09PXQuYWN0aW9uPyhcIkVSUl9SRVBFQVRfSk9JTl9DSEFOTkVMXCI9PT10LmRlc2MmJnRoaXMuY2xvc2UoQXYuVUlEX0JBTk5FRCksdm9pZCB0aGlzLmNsb3NlKCkpOnZvaWQgdGhpcy5yZWNvbm5lY3QodC5hY3Rpb24sRHYuU0VSVkVSX0VSUk9SKTtReS5lcnJvcihcIltcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIl0gaWdub3JlIGVycm9yOiBcIiksdC5kZXNjKX19aGFuZGxlUGluZ1BvbmcoKXtpZighdGhpcy53ZWJzb2NrZXR8fFwiY29ubmVjdGVkXCIhPT10aGlzLndlYnNvY2tldC5zdGF0ZSlyZXR1cm47dGhpcy5waW5ncG9uZ1RpbWVvdXRDb3VudD4wJiZ0aGlzLnJ0dFJvbGxpbmcuYWRkKDNlMyksdGhpcy5waW5ncG9uZ1RpbWVvdXRDb3VudCs9MTtjb25zdCBlPUR5KFwiUElOR19QT05HX1RJTUVfT1VUXCIpLHQ9RGF0ZS5ub3coKTt0aGlzLnBpbmdwb25nVGltZW91dENvdW50Pj1lJiYoUXkud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIl0gUElORy1QT05HIFRpbWVvdXQuIExhc3QgU29ja2V0IE1lc3NhZ2U6IFwiKS5jb25jYXQodC10aGlzLmxhc3RNc2dUaW1lLFwibXNcIikpLHQtdGhpcy5sYXN0TXNnVGltZT5EeShcIldFQlNPQ0tFVF9USU1FT1VUX01JTlwiKSk/dGhpcy5yZWNvbm5lY3QoXCJyZXRyeVwiLER2LlRJTUVPVVQpOnRoaXMucmVxdWVzdChfYi5QSU5HLHZvaWQgMCwhMCkudGhlbigoKCk9Pnt0aGlzLnBpbmdwb25nVGltZW91dENvdW50PTA7Y29uc3QgZT1EYXRlLm5vdygpLXQ7dGhpcy5ydHRSb2xsaW5nLmFkZChlKSxEeShcIlJFUE9SVF9TVEFUU1wiKSYmdGhpcy5zZW5kKF9iLlBJTkdfQkFDSyx7cGluZ3BvbmdFbGFwc2U6ZX0pfSkpLmNhdGNoKChlPT57fSkpfWhhbmRsZVdzSW5mbGF0ZURhdGEoKXtjb25zdHt3c0luZmxhdGVMZW5ndGg6ZSx3c0RlZmxhdGVMZW5ndGg6dH09dGhpcy53ZWJzb2NrZXQuZ2V0V3NJbmZsYXRlRGF0YSgpOzAhPT1lJiYwIT09dCYmdGhpcy51cGxvYWQoRWIuV1NfSU5GTEFURV9EQVRBX0xFTkdUSCx7d3NfZGVmbGF0ZV9sZW5ndGg6dCx3c19pbmZsYXRlX2xlbmd0aDplfSl9aGFuZGxlV2Vic29ja2V0RXZlbnRzKCl7dGhpcy53ZWJzb2NrZXQub24oVGIuUkVDT05ORUNUX1dBSVRUSU5HX0ZJTklTSCwoZT0+e3RoaXMuZW1pdChwYi5XU19SRUNPTk5FQ1RfV0FJVFRJTkdfRklOSVNILGUpfSkpLHRoaXMud2Vic29ja2V0Lm9uKFRiLlJFQ09OTkVDVF9DUkVBVEVfQ09OTkVDVElPTiwoZT0+e3RoaXMuZW1pdChwYi5XU19SRUNPTk5FQ1RfQ1JFQVRFX0NPTk5FQ1RJT04sZSl9KSksdGhpcy53ZWJzb2NrZXQub24oVGIuT05fTUVTU0FHRSx0aGlzLm9uV2Vic29ja2V0TWVzc2FnZSksdGhpcy53ZWJzb2NrZXQub24oVGIuQ0xPU0VELCgoKT0+e3RoaXMuY29ubmVjdGlvblN0YXRlPWhiLkNMT1NFRH0pKSx0aGlzLndlYnNvY2tldC5vbihUYi5GQUlMRUQsKCgpPT57dGhpcy5fZGlzY29ubmVjdGVkUmVhc29uPUF2Lk5FVFdPUktfRVJST1IsdGhpcy5jb25uZWN0aW9uU3RhdGU9aGIuQ0xPU0VEfSkpLHRoaXMud2Vic29ja2V0Lm9uKFRiLlJFQ09OTkVDVElORywoZT0+e3RoaXMuX3dlYnNvY2tldFJlY29ubmVjdFJlYXNvbj1lLHRoaXMuam9pblJlc3BvbnNlPXZvaWQgMCx0aGlzLmNvbm5lY3Rpb25TdGF0ZT09PWhiLkNPTk5FQ1RFRD90aGlzLmNvbm5lY3Rpb25TdGF0ZT1oYi5SRUNPTk5FQ1RJTkc6dGhpcy5jb25uZWN0aW9uU3RhdGU9aGIuQ09OTkVDVElOR30pKSx0aGlzLndlYnNvY2tldC5vbihUYi5XSUxMX1JFQ09OTkVDVCwoKGUsdCxpKT0+e2NvbnN0IG49eHYodGhpcyxwYi5JU19QMlBfRElTQ09OTkVDVEVEKSxyPW58fFwicmV0cnlcIiE9PWU7biYmXCJyZXRyeVwiPT09ZSYmKFF5LmRlYnVnKFwiXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCIgcmVjb25uZWN0IG1vZGUgaXMgcmV0cnksIGJ1dCBwMnAgbG9zdCwgY2hhbmdlIHRvIHRyeU5leHRcIikpLGU9XCJ0cnlOZXh0XCIsdD14Yi5QMlBfRElTQ09OTkVDVEVEKSxyJiYoUXkuZGVidWcoXCJcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIiB3aWxsIHJlbmV3U2Vzc2lvbiwgcmVjb25uZWN0IG1vZGU6IFwiKS5jb25jYXQoZSkpLHRoaXMuZW1pdChwYi5SRVBPUlRfSk9JTl9HQVRFV0FZLHR8fHhiLlVOS05PV05fUkVBU09OLHRoaXMudXJsfHxcIlwiKSx0aGlzLnJlY29ubmVjdFRva2VuPXZvaWQgMCx0aGlzLmVtaXQocGIuRElTQ09OTkVDVF9QMlApKSxpKGUpfSkpLHRoaXMud2Vic29ja2V0Lm9uKFRiLkNPTk5FQ1RFRCwoKCk9Pnt0aGlzLm9wZW5Db25uZWN0aW9uVGltZT1EYXRlLm5vdygpLHRoaXMucmVjb25uZWN0VG9rZW4/dGhpcy5yZWpvaW4oKS5jYXRjaCgoZT0+e1F5Lndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCJdIHJlam9pbiBmYWlsZWQgXCIpLmNvbmNhdChlKSksdGhpcy5yZWNvbm5lY3QoXCJ0cnlOZXh0XCIsRHYuU0VSVkVSX0VSUk9SKX0pKTp0aGlzLmpvaW4oKS5jYXRjaCgoZT0+e2lmKHRoaXMuZW1pdChwYi5SRVBPUlRfSk9JTl9HQVRFV0FZLGUsdGhpcy51cmx8fFwiXCIpLGUgaW5zdGFuY2VvZiBTYil7aWYoZS5jb2RlPT09bnYuVU5FWFBFQ1RFRF9SRVNQT05TRSYmZS5kYXRhLmNvZGU9PT11Yi5FUlJfTk9fQVVUSE9SSVpFRClyZXR1cm4gdGhpcy5pbml0RXJyb3I9bmV3IFNiKG52LkNBTl9OT1RfR0VUX0dBVEVXQVlfU0VSVkVSLFwiQWdvcmFSVENFcnJvciBDQU5fTk9UX0dFVF9HQVRFV0FZX1NFUlZFUjogZHluYW1pYyBrZXkgZXhwaXJlZFwiKSxReS53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLmNsaWVudElkLFwiXSByZWNvbm5lY3Qgbm8gYXV0aG9yaXplZCwgcmVjb3ZlclwiKSksdm9pZCB0aGlzLnJlY29ubmVjdChcInJlY292ZXJcIixEdi5TRVJWRVJfRVJST1IpO1F5LmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLmNsaWVudElkLFwiXSBqb2luIGdhdGV3YXkgcmVxdWVzdCBmYWlsZWRcIiksZS50b1N0cmluZygpKSx0aGlzLnNwZWMuZm9yY2VXYWl0R2F0ZXdheVJlc3BvbnNlP3RoaXMucmVjb25uZWN0KFwidHJ5TmV4dFwiLER2LlNFUlZFUl9FUlJPUik6KHRoaXMuaW5pdEVycm9yPWUsdGhpcy5jbG9zZSgpKX19KSl9KSksdGhpcy53ZWJzb2NrZXQub24oVGIuUkVRVUVTVF9ORVdfVVJMUywoKGUsdCk9Pntrdih0aGlzLHBiLlJFUVVFU1RfUkVDT1ZFUix0aGlzLm11bHRpSXBPcHRpb24pLnRoZW4oZSkuY2F0Y2godCl9KSksdGhpcy53ZWJzb2NrZXQub24oVGIuT05fVE9LRU5fUFJJVklMRUdFX0RJRF9FWFBJUkUsKCgpPT57dGhpcy5lbWl0KG1iLk9OX1RPS0VOX1BSSVZJTEVHRV9ESURfRVhQSVJFKX0pKSx0aGlzLndlYnNvY2tldC5vbih0dy5QUkVfQ09OTkVDVF9QQywoKCk9Pnt0aGlzLmVtaXQocGIuUFJFX0NPTk5FQ1RfUEMpfSkpfX1sZXQgT3c9ZnVuY3Rpb24oZSl7cmV0dXJuIGVbZS5DSE9PU0VfU0VSVkVSPTExXT1cIkNIT09TRV9TRVJWRVJcIixlW2UuQ0xPVURfUFJPWFk9MThdPVwiQ0xPVURfUFJPWFlcIixlW2UuQ0xPVURfUFJPWFlfNT0yMF09XCJDTE9VRF9QUk9YWV81XCIsZVtlLkNMT1VEX1BST1hZX0ZBTExCQUNLPTI2XT1cIkNMT1VEX1BST1hZX0ZBTExCQUNLXCIsZX0oe30pO2Z1bmN0aW9uIE53KGUsdCl7dmFyIGk9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYobj1uLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxpLnB1c2guYXBwbHkoaSxuKX1yZXR1cm4gaX1mdW5jdGlvbiBEdyhlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgaT1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9OdyhPYmplY3QoaSksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe29nKGUsdCxpW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKGkpKTpOdyhPYmplY3QoaSkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpLHQpKX0pKX1yZXR1cm4gZX1mdW5jdGlvbiBQdyhlKXtyZXR1cm4gZS5tYXRjaCgvXltcXC5cXDpcXGRdKyQvKT9cIlwiLmNvbmNhdChlLnJlcGxhY2UoL1teXFxkXS9nLFwiLVwiKSxcIi5cIikuY29uY2F0KER5KFwiVFVSTl9ET01BSU5cIikpOihReS5pbmZvKFwiVW5pZGVudGlmaWVkIGFzIGlwOiBcIi5jb25jYXQoZSxcIiwgdXNlIGFzIGhvc3RcIikpLGUpfWZ1bmN0aW9uIEx3KGUsdCl7ZS5hZGRyZXNzZXN8fChlLmFkZHJlc3Nlcz1bXSk7Y29uc3QgaT1mdW5jdGlvbihlLHQpe2lmKER5KFwiQ09OTkVDVF9HQVRFV0FZX1dJVEhPVVRfRE9NQUlOXCIpKXJldHVybiBlLm1hcCgoZT0+e2xldHtpcDp0LHBvcnQ6aX09ZTtyZXR1cm57YWRkcmVzczpcIlwiLmNvbmNhdCh0LFwiOlwiKS5jb25jYXQoaSl9fSkpO2NvbnN0IGk9RHkoXCJHQVRFV0FZX0RPTUFJTlNcIik7bGV0IG49aVsxXSYmRG4odCkuY2FsbCh0LGlbMV0pPzE6MDtyZXR1cm4gZS5tYXAoKGU9PntsZXR7ZG9tYWluX3ByZWZpeDp0LHBvcnQ6cixpcDpvfT1lO2lmKHQpcmV0dXJue2FkZHJlc3M6XCJcIi5jb25jYXQodCxcIi5cIikuY29uY2F0KGlbbisrJWkubGVuZ3RoXSxcIjpcIikuY29uY2F0KHIpfTtjb25zdCBzPS9eW1xcLlxcOlxcZF0rJC8udGVzdChvKSxhPXM/XCJcIi5jb25jYXQoby5yZXBsYWNlKC9bXlxcZF0vZyxcIi1cIiksXCIuXCIpLmNvbmNhdChpW24rKyVpLmxlbmd0aF0sXCI6XCIpLmNvbmNhdChyKTpcIlwiLmNvbmNhdChvLFwiOlwiKS5jb25jYXQocik7cmV0dXJuIHN8fFF5LmluZm8oXCJVbmlkZW50aWZpZWQgYXMgaXA6IFwiLmNvbmNhdChvLFwiLCB1c2UgYXMgaG9zdFwiKSkse2lwOm8scG9ydDpyLGFkZHJlc3M6YX19KSl9KGUuYWRkcmVzc2VzLHQpLG49QXJyYXkuaXNBcnJheShlLmRldGFpbCkmJmUuZGV0YWlsWzE4XTtpZihuJiZcInN0cmluZ1wiPT10eXBlb2Ygbil7Y29uc3QgZT1uLnNwbGl0KFwiO1wiKTtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrKyl7dmFyIHI7Y29uc3Qgbj1qcChyPWVbdF0pLmNhbGwocik7aVt0XSYmbiYmKGlbdF0uaXA2PW4pfX1jb25zdCBvPWUuZGV0YWlsJiZlLmRldGFpbC5jYW5kaWRhdGU7bGV0IHM7aWYobyl7Y29uc3RbZSx0XT1vLnNwbGl0KFwiOlwiKTtlJiZ0JiYocz17cG9ydDpOdW1iZXIodCksaXA6ZSxhZGRyZXNzOlwiXCIuY29uY2F0KGUsXCI6XCIpLmNvbmNhdCh0KX0pfXJldHVybntnYXRld2F5QWRkcnM6aSxhcEdhdGV3YXlBZGRyZXNzOnMsdWlkOmUudWlkLGNpZDplLmNpZCxjZXJ0OmUuY2VydCx2aWQ6ZS5kZXRhaWwmJmUuZGV0YWlsWzhdLHVuaV9sYnNfaXA6ZS5kZXRhaWwmJmUuZGV0YWlsWzFdLHJlczplLGNzSXA6ZS5kZXRhaWwmJmUuZGV0YWlsWzUwMl19fWZ1bmN0aW9uIGt3KGUpe3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiBlP2U6ZS5leGFjdHx8ZS5pZGVhbHx8ZS5tYXh8fGUubWlufHwwfWZ1bmN0aW9uIE13KGUpe2NvbnN0IHQ9ZS5fZW5jb2RlckNvbmZpZztpZighdClyZXR1cm57fTtjb25zdCBpPXtyZXNvbHV0aW9uOnQud2lkdGgmJnQuaGVpZ2h0P1wiXCIuY29uY2F0KGt3KHQud2lkdGgpLFwieFwiKS5jb25jYXQoa3codC5oZWlnaHQpKTp2b2lkIDAsbWF4VmlkZW9CVzp0LmJpdHJhdGVNYXgsbWluVmlkZW9CVzp0LmJpdHJhdGVNaW59O3JldHVyblwibnVtYmVyXCI9PXR5cGVvZiB0LmZyYW1lUmF0ZT8oaS5tYXhGcmFtZVJhdGU9dC5mcmFtZVJhdGUsaS5taW5GcmFtZVJhdGU9dC5mcmFtZVJhdGUpOnQuZnJhbWVSYXRlJiYoaS5tYXhGcmFtZVJhdGU9dC5mcmFtZVJhdGUubWF4fHx0LmZyYW1lUmF0ZS5pZGVhbHx8dC5mcmFtZVJhdGUuZXhhY3R8fHQuZnJhbWVSYXRlLm1pbixpLm1pbkZyYW1lUmF0ZT10LmZyYW1lUmF0ZS5taW58fHQuZnJhbWVSYXRlLmlkZWFsfHx0LmZyYW1lUmF0ZS5leGFjdHx8dC5mcmFtZVJhdGUubWF4KSxpfWZ1bmN0aW9uIFV3KGUpe3JldHVybiBlPj0wJiZlPC4xNz8xOmU+PS4xNyYmZTwuMzY/MjplPj0uMzYmJmU8LjU5PzM6ZT49LjU5JiZlPD0xPzQ6ZT4xPzU6MH1mdW5jdGlvbiB4dyhlLHQpe2xldCBpLG4scjtzd2l0Y2godCl7Y2FzZSBPdy5DSE9PU0VfU0VSVkVSOm49NDA5NixyPVwiY2hvb3NlIHNlcnZlclwiO2JyZWFrO2Nhc2UgT3cuQ0xPVURfUFJPWFk6bj0xMDQ4NTc2LHI9XCJwcm94eVwiO2JyZWFrO2Nhc2UgT3cuQ0xPVURfUFJPWFlfNTpuPTQxOTQzMDQscj1cInByb3h5NVwiO2JyZWFrO2Nhc2UgT3cuQ0xPVURfUFJPWFlfRkFMTEJBQ0s6bj00MTk0MzEwLHI9XCJwcm94eSBmYWxsYmFja1wiO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IFNiKG52LlVORVhQRUNURURfRVJST1IsXCJtdWx0aSB1bmxpYnMgcmVzcG9uc2UgdHJhbnNmb3JtZXIgZ2V0IHVua25vd24gc2VydmljZSBpZFwiLHtjc0lwOmUuZGV0YWlsJiZlLmRldGFpbFs1MDJdLHJldHJ5OiExfSl9aWYoZS5yZXNwb25zZV9ib2R5LmZvckVhY2goKHQ9Pnt0LmJ1ZmZlciYmdC5idWZmZXIuZmxhZz09PW4mJihpPXtjb2RlOnQuYnVmZmVyLmNvZGUsYWRkcmVzc2VzOih0LmJ1ZmZlci5lZGdlc19zZXJ2aWNlc3x8W10pLm1hcCgoZT0+RHcoRHcoe30sZSkse30se3RpY2tldDp0LmJ1ZmZlci5jZXJ0fSkpKSxzZXJ2ZXJfdHM6ZS5lbnRlcl90cyx1aWQ6dC5idWZmZXIudWlkLGNpZDp0LmJ1ZmZlci5jaWQsY25hbWU6dC5idWZmZXIuY25hbWUsZGV0YWlsOkR3KER3KHt9LHQuYnVmZmVyLmRldGFpbCksZS5kZXRhaWwpLGZsYWc6dC5idWZmZXIuZmxhZyxvcGlkOmUub3BpZCxjZXJ0OnQuYnVmZmVyLmNlcnR9KX0pKSwhaSl0aHJvdyBuZXcgU2IobnYuTVVMVElfVU5JTEJTX1JFU1BPTlNFX0VSUk9SLFwiY2Fubm90IHBhcnNlIHJlc3BvbnNlIFwiLmNvbmNhdChyLFwiIGZyb20gbXVsdGkgdW5pbGJzIHJlc3BvbnNlXCIpLHtjc0lwOmUuZGV0YWlsJiZlLmRldGFpbFs1MDJdfSk7cmV0dXJuIGl9YXN5bmMgZnVuY3Rpb24gVncoZSx0KXtyZXR1cm4gYXdhaXQgR2guYWxsKGUuYWRkcmVzc2VzLm1hcCgoYXN5bmMgZT0+KHthZGRyZXNzOlB3KGUuaXApLHRjcHBvcnQ6ZS5wb3J0LHVkcHBvcnQ6ZS5wb3J0LHVzZXJuYW1lOnQmJkR5KFwiRU5DUllQVF9QUk9YWV9VU0VSTkFNRV9BTkRfUFNXXCIpJiZ3aW5kb3cuaXNTZWN1cmVDb250ZXh0P3QudG9TdHJpbmcoKTpjQS51c2VybmFtZSxwYXNzd29yZDp0JiZEeShcIkVOQ1JZUFRfUFJPWFlfVVNFUk5BTUVfQU5EX1BTV1wiKSYmd2luZG93LmlzU2VjdXJlQ29udGV4dD9hd2FpdCBUdih0LnRvU3RyaW5nKCkpOmNBLnBhc3N3b3JkfSkpKSl9ZnVuY3Rpb24gRncoZSx0KXtjb25zdCBpPXQuZ2V0TWVkaWFTdHJlYW1UcmFjayghMCkuZ2V0U2V0dGluZ3MoKSxuPXQudmlkZW9IZWlnaHR8fGkuaGVpZ2h0LHI9dC52aWRlb1dpZHRofHxpLndpZHRoO3JldHVybiBuJiZyP01hdGgubWF4KE1hdGgubWluKG4scikvTWF0aC5taW4oa3coZS5oZWlnaHQpLGt3KGUud2lkdGgpKSwxKTooUXkud2FybmluZyhcImNhbid0IGdldCBvcmktdHJhY2sncyBoZWlnaHQsIGRlZmF1bHQgc2NhbGUgZG93biA0IHRpbWVzIGZvciBsb3cgc3RyZWFtXCIpLDQpfWZ1bmN0aW9uIEJ3KGUpe2xldHtjYW5kaWRhdGVUeXBlOnQscmVsYXlQcm90b2NvbDppLHR5cGU6bixhZGRyZXNzOnIscG9ydDpvLHByb3RvY29sOnN9PWU7cmV0dXJuXCJsb2NhbC1jYW5kaWRhdGVcIj09PW4/e2NhbmRpZGF0ZVR5cGU6dCxyZWxheVByb3RvY29sOmkscHJvdG9jb2w6c306e2NhbmRpZGF0ZVR5cGU6dCxyZWxheVByb3RvY29sOmksYWRkcmVzczpyLHBvcnQ6byxwcm90b2NvbDpzfX12YXIgancsR3c9aShVQSksV3c9WGkoXCJBcnJheVwiKS52YWx1ZXMsSHc9cG4sS3c9WmUsWXc9bCxxdz1Xdyx6dz1BcnJheS5wcm90b3R5cGUsSnc9e0RPTVRva2VuTGlzdDohMCxOb2RlTGlzdDohMH0sWHc9ZnVuY3Rpb24oZSl7dmFyIHQ9ZS52YWx1ZXM7cmV0dXJuIGU9PT16d3x8WXcoencsZSkmJnQ9PT16dy52YWx1ZXN8fEt3KEp3LEh3KGUpKT9xdzp0fSxRdz1pKFh3KSxadz1OLCR3PWQsZU89TCx0Tz1uLGlPPWVvLG5PPUJyLHJPPWssb089SmUsc089SyxhTz1PYmplY3QuYXNzaWduLGNPPU9iamVjdC5kZWZpbmVQcm9wZXJ0eSxkTz0kdyhbXS5jb25jYXQpLGxPPSFhT3x8dE8oKGZ1bmN0aW9uKCl7aWYoWncmJjEhPT1hTyh7YjoxfSxhTyhjTyh7fSxcImFcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtjTyh0aGlzLFwiYlwiLHt2YWx1ZTozLGVudW1lcmFibGU6ITF9KX19KSx7YjoyfSkpLmIpcmV0dXJuITA7dmFyIGU9e30sdD17fSxpPVN5bWJvbCgpLG49XCJhYmNkZWZnaGlqa2xtbm9wcXJzdFwiO3JldHVybiBlW2ldPTcsbi5zcGxpdChcIlwiKS5mb3JFYWNoKChmdW5jdGlvbihlKXt0W2VdPWV9KSksNyE9YU8oe30sZSlbaV18fGlPKGFPKHt9LHQpKS5qb2luKFwiXCIpIT1ufSkpP2Z1bmN0aW9uKGUsdCl7Zm9yKHZhciBpPW9PKGUpLG49YXJndW1lbnRzLmxlbmd0aCxyPTEsbz1uTy5mLHM9ck8uZjtuPnI7KWZvcih2YXIgYSxjPXNPKGFyZ3VtZW50c1tyKytdKSxkPW8/ZE8oaU8oYyksbyhjKSk6aU8oYyksbD1kLmxlbmd0aCx1PTA7bD51OylhPWRbdSsrXSxadyYmIWVPKHMsYyxhKXx8KGlbYV09Y1thXSk7cmV0dXJuIGl9OmFPLHVPPWlpLGhPPXJzLHBPPVh0LF9PPUwsRU89SmUsbU89ZnVuY3Rpb24oZSx0LGksbil7dHJ5e3JldHVybiBuP3QodU8oaSlbMF0saVsxXSk6dChpKX1jYXRjaCh0KXtoTyhlLFwidGhyb3dcIix0KX19LGZPPWpvLFRPPWpjLFNPPUdpLGdPPUVfLFJPPWVzLENPPXFvLElPPUFycmF5LHZPPWQseU89MjE0NzQ4MzY0NyxBTz0vW15cXDAtXFx1MDA3RV0vLGJPPS9bLlxcdTMwMDJcXHVGRjBFXFx1RkY2MV0vZyx3Tz1cIk92ZXJmbG93OiBpbnB1dCBuZWVkcyB3aWRlciBpbnRlZ2VycyB0byBwcm9jZXNzXCIsT089UmFuZ2VFcnJvcixOTz12TyhiTy5leGVjKSxETz1NYXRoLmZsb29yLFBPPVN0cmluZy5mcm9tQ2hhckNvZGUsTE89dk8oXCJcIi5jaGFyQ29kZUF0KSxrTz12TyhbXS5qb2luKSxNTz12TyhbXS5wdXNoKSxVTz12TyhcIlwiLnJlcGxhY2UpLHhPPXZPKFwiXCIuc3BsaXQpLFZPPXZPKFwiXCIudG9Mb3dlckNhc2UpLEZPPWZ1bmN0aW9uKGUpe3JldHVybiBlKzIyKzc1KihlPDI2KX0sQk89ZnVuY3Rpb24oZSx0LGkpe3ZhciBuPTA7Zm9yKGU9aT9ETyhlLzcwMCk6ZT4+MSxlKz1ETyhlL3QpO2U+NDU1OyllPURPKGUvMzUpLG4rPTM2O3JldHVybiBETyhuKzM2KmUvKGUrMzgpKX0sak89ZnVuY3Rpb24oZSl7dmFyIHQ9W107ZT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9W10saT0wLG49ZS5sZW5ndGg7aTxuOyl7dmFyIHI9TE8oZSxpKyspO2lmKHI+PTU1Mjk2JiZyPD01NjMxOSYmaTxuKXt2YXIgbz1MTyhlLGkrKyk7NTYzMjA9PSg2NDUxMiZvKT9NTyh0LCgoMTAyMyZyKTw8MTApKygxMDIzJm8pKzY1NTM2KTooTU8odCxyKSxpLS0pfWVsc2UgTU8odCxyKX1yZXR1cm4gdH0oZSk7dmFyIGksbixyPWUubGVuZ3RoLG89MTI4LHM9MCxhPTcyO2ZvcihpPTA7aTxlLmxlbmd0aDtpKyspKG49ZVtpXSk8MTI4JiZNTyh0LFBPKG4pKTt2YXIgYz10Lmxlbmd0aCxkPWM7Zm9yKGMmJk1PKHQsXCItXCIpO2Q8cjspe3ZhciBsPXlPO2ZvcihpPTA7aTxlLmxlbmd0aDtpKyspKG49ZVtpXSk+PW8mJm48bCYmKGw9bik7dmFyIHU9ZCsxO2lmKGwtbz5ETygoeU8tcykvdSkpdGhyb3cgT08od08pO2ZvcihzKz0obC1vKSp1LG89bCxpPTA7aTxlLmxlbmd0aDtpKyspe2lmKChuPWVbaV0pPG8mJisrcz55Tyl0aHJvdyBPTyh3Tyk7aWYobj09byl7Zm9yKHZhciBoPXMscD0zNjs7KXt2YXIgXz1wPD1hPzE6cD49YSsyNj8yNjpwLWE7aWYoaDxfKWJyZWFrO3ZhciBFPWgtXyxtPTM2LV87TU8odCxQTyhGTyhfK0UlbSkpKSxoPURPKEUvbSkscCs9MzZ9TU8odCxQTyhGTyhoKSkpLGE9Qk8ocyx1LGQ9PWMpLHM9MCxkKyt9fXMrKyxvKyt9cmV0dXJuIGtPKHQsXCJcIil9LEdPPXdpLFdPPU4sSE89Y2csS089aCxZTz1YdCxxTz1kLHpPPWhhLEpPPWhjLFhPPVNjLFFPPVplLFpPPWxPLCRPPWZ1bmN0aW9uKGUpe3ZhciB0PUVPKGUpLGk9VE8odGhpcyksbj1hcmd1bWVudHMubGVuZ3RoLHI9bj4xP2FyZ3VtZW50c1sxXTp2b2lkIDAsbz12b2lkIDAhPT1yO28mJihyPXBPKHIsbj4yP2FyZ3VtZW50c1syXTp2b2lkIDApKTt2YXIgcyxhLGMsZCxsLHUsaD1DTyh0KSxwPTA7aWYoIWh8fHRoaXM9PT1JTyYmZk8oaCkpZm9yKHM9U08odCksYT1pP25ldyB0aGlzKHMpOklPKHMpO3M+cDtwKyspdT1vP3IodFtwXSxwKTp0W3BdLGdPKGEscCx1KTtlbHNlIGZvcihsPShkPVJPKHQsaCkpLm5leHQsYT1pP25ldyB0aGlzOltdOyEoYz1fTyhsLGQpKS5kb25lO3ArKyl1PW8/bU8oZCxyLFtjLnZhbHVlLHBdLCEwKTpjLnZhbHVlLGdPKGEscCx1KTtyZXR1cm4gYS5sZW5ndGg9cCxhfSxlTj1SXyx0Tj1DaC5jb2RlQXQsaU49ZnVuY3Rpb24oZSl7dmFyIHQsaSxuPVtdLHI9eE8oVU8oVk8oZSksYk8sXCIuXCIpLFwiLlwiKTtmb3IodD0wO3Q8ci5sZW5ndGg7dCsrKWk9clt0XSxNTyhuLE5PKEFPLGkpP1wieG4tLVwiK2pPKGkpOmkpO3JldHVybiBrTyhuLFwiLlwiKX0sbk49bW4sck49RGEsb049WmMsc049dlIsYU49cmEsY049YU4uc2V0LGROPWFOLmdldHRlckZvcihcIlVSTFwiKSxsTj1zTi5VUkxTZWFyY2hQYXJhbXMsdU49c04uZ2V0U3RhdGUsaE49S08uVVJMLHBOPUtPLlR5cGVFcnJvcixfTj1LTy5wYXJzZUludCxFTj1NYXRoLmZsb29yLG1OPU1hdGgucG93LGZOPXFPKFwiXCIuY2hhckF0KSxUTj1xTygvLi8uZXhlYyksU049cU8oW10uam9pbiksZ049cU8oMS4udG9TdHJpbmcpLFJOPXFPKFtdLnBvcCksQ049cU8oW10ucHVzaCksSU49cU8oXCJcIi5yZXBsYWNlKSx2Tj1xTyhbXS5zaGlmdCkseU49cU8oXCJcIi5zcGxpdCksQU49cU8oXCJcIi5zbGljZSksYk49cU8oXCJcIi50b0xvd2VyQ2FzZSksd049cU8oW10udW5zaGlmdCksT049XCJJbnZhbGlkIHNjaGVtZVwiLE5OPVwiSW52YWxpZCBob3N0XCIsRE49XCJJbnZhbGlkIHBvcnRcIixQTj0vW2Etel0vaSxMTj0vW1xcZCstLmEtel0vaSxrTj0vXFxkLyxNTj0vXjB4L2ksVU49L15bMC03XSskLyx4Tj0vXlxcZCskLyxWTj0vXltcXGRhLWZdKyQvaSxGTj0vW1xcMFxcdFxcblxcciAjJS86PD4/QFtcXFxcXFxdXnxdLyxCTj0vW1xcMFxcdFxcblxcciAjLzo8Pj9AW1xcXFxcXF1efF0vLGpOPS9eW1xcdTAwMDAtXFx1MDAyMF0rLyxHTj0vKF58W15cXHUwMDAwLVxcdTAwMjBdKVtcXHUwMDAwLVxcdTAwMjBdKyQvLFdOPS9bXFx0XFxuXFxyXS9nLEhOPWZ1bmN0aW9uKGUpe3ZhciB0LGksbixyO2lmKFwibnVtYmVyXCI9PXR5cGVvZiBlKXtmb3IodD1bXSxpPTA7aTw0O2krKyl3Tih0LGUlMjU2KSxlPUVOKGUvMjU2KTtyZXR1cm4gU04odCxcIi5cIil9aWYoXCJvYmplY3RcIj09dHlwZW9mIGUpe2Zvcih0PVwiXCIsbj1mdW5jdGlvbihlKXtmb3IodmFyIHQ9bnVsbCxpPTEsbj1udWxsLHI9MCxvPTA7bzw4O28rKykwIT09ZVtvXT8ocj5pJiYodD1uLGk9ciksbj1udWxsLHI9MCk6KG51bGw9PT1uJiYobj1vKSwrK3IpO3JldHVybiByPmkmJih0PW4saT1yKSx0fShlKSxpPTA7aTw4O2krKylyJiYwPT09ZVtpXXx8KHImJihyPSExKSxuPT09aT8odCs9aT9cIjpcIjpcIjo6XCIscj0hMCk6KHQrPWdOKGVbaV0sMTYpLGk8NyYmKHQrPVwiOlwiKSkpO3JldHVyblwiW1wiK3QrXCJdXCJ9cmV0dXJuIGV9LEtOPXt9LFlOPVpPKHt9LEtOLHtcIiBcIjoxLCdcIic6MSxcIjxcIjoxLFwiPlwiOjEsXCJgXCI6MX0pLHFOPVpPKHt9LFlOLHtcIiNcIjoxLFwiP1wiOjEsXCJ7XCI6MSxcIn1cIjoxfSksek49Wk8oe30scU4se1wiL1wiOjEsXCI6XCI6MSxcIjtcIjoxLFwiPVwiOjEsXCJAXCI6MSxcIltcIjoxLFwiXFxcXFwiOjEsXCJdXCI6MSxcIl5cIjoxLFwifFwiOjF9KSxKTj1mdW5jdGlvbihlLHQpe3ZhciBpPXROKGUsMCk7cmV0dXJuIGk+MzImJmk8MTI3JiYhUU8odCxlKT9lOmVuY29kZVVSSUNvbXBvbmVudChlKX0sWE49e2Z0cDoyMSxmaWxlOm51bGwsaHR0cDo4MCxodHRwczo0NDMsd3M6ODAsd3NzOjQ0M30sUU49ZnVuY3Rpb24oZSx0KXt2YXIgaTtyZXR1cm4gMj09ZS5sZW5ndGgmJlROKFBOLGZOKGUsMCkpJiYoXCI6XCI9PShpPWZOKGUsMSkpfHwhdCYmXCJ8XCI9PWkpfSxaTj1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gZS5sZW5ndGg+MSYmUU4oQU4oZSwwLDIpKSYmKDI9PWUubGVuZ3RofHxcIi9cIj09PSh0PWZOKGUsMikpfHxcIlxcXFxcIj09PXR8fFwiP1wiPT09dHx8XCIjXCI9PT10KX0sJE49ZnVuY3Rpb24oZSl7cmV0dXJuXCIuXCI9PT1lfHxcIiUyZVwiPT09Yk4oZSl9LGVEPXt9LHREPXt9LGlEPXt9LG5EPXt9LHJEPXt9LG9EPXt9LHNEPXt9LGFEPXt9LGNEPXt9LGREPXt9LGxEPXt9LHVEPXt9LGhEPXt9LHBEPXt9LF9EPXt9LEVEPXt9LG1EPXt9LGZEPXt9LFREPXt9LFNEPXt9LGdEPXt9LFJEPWZ1bmN0aW9uKGUsdCxpKXt2YXIgbixyLG8scz1uTihlKTtpZih0KXtpZihyPXRoaXMucGFyc2UocykpdGhyb3cgcE4ocik7dGhpcy5zZWFyY2hQYXJhbXM9bnVsbH1lbHNle2lmKHZvaWQgMCE9PWkmJihuPW5ldyBSRChpLCEwKSkscj10aGlzLnBhcnNlKHMsbnVsbCxuKSl0aHJvdyBwTihyKTsobz11TihuZXcgbE4pKS5iaW5kVVJMKHRoaXMpLHRoaXMuc2VhcmNoUGFyYW1zPW99fTtSRC5wcm90b3R5cGU9e3R5cGU6XCJVUkxcIixwYXJzZTpmdW5jdGlvbihlLHQsaSl7dmFyIG4scixvLHMsYSxjPXRoaXMsZD10fHxlRCxsPTAsdT1cIlwiLGg9ITEscD0hMSxfPSExO2ZvcihlPW5OKGUpLHR8fChjLnNjaGVtZT1cIlwiLGMudXNlcm5hbWU9XCJcIixjLnBhc3N3b3JkPVwiXCIsYy5ob3N0PW51bGwsYy5wb3J0PW51bGwsYy5wYXRoPVtdLGMucXVlcnk9bnVsbCxjLmZyYWdtZW50PW51bGwsYy5jYW5ub3RCZUFCYXNlVVJMPSExLGU9SU4oZSxqTixcIlwiKSxlPUlOKGUsR04sXCIkMVwiKSksZT1JTihlLFdOLFwiXCIpLG49JE8oZSk7bDw9bi5sZW5ndGg7KXtzd2l0Y2gocj1uW2xdLGQpe2Nhc2UgZUQ6aWYoIXJ8fCFUTihQTixyKSl7aWYodClyZXR1cm4gT047ZD1pRDtjb250aW51ZX11Kz1iTihyKSxkPXREO2JyZWFrO2Nhc2UgdEQ6aWYociYmKFROKExOLHIpfHxcIitcIj09cnx8XCItXCI9PXJ8fFwiLlwiPT1yKSl1Kz1iTihyKTtlbHNle2lmKFwiOlwiIT1yKXtpZih0KXJldHVybiBPTjt1PVwiXCIsZD1pRCxsPTA7Y29udGludWV9aWYodCYmKGMuaXNTcGVjaWFsKCkhPVFPKFhOLHUpfHxcImZpbGVcIj09dSYmKGMuaW5jbHVkZXNDcmVkZW50aWFscygpfHxudWxsIT09Yy5wb3J0KXx8XCJmaWxlXCI9PWMuc2NoZW1lJiYhYy5ob3N0KSlyZXR1cm47aWYoYy5zY2hlbWU9dSx0KXJldHVybiB2b2lkKGMuaXNTcGVjaWFsKCkmJlhOW2Muc2NoZW1lXT09Yy5wb3J0JiYoYy5wb3J0PW51bGwpKTt1PVwiXCIsXCJmaWxlXCI9PWMuc2NoZW1lP2Q9cEQ6Yy5pc1NwZWNpYWwoKSYmaSYmaS5zY2hlbWU9PWMuc2NoZW1lP2Q9bkQ6Yy5pc1NwZWNpYWwoKT9kPWFEOlwiL1wiPT1uW2wrMV0/KGQ9ckQsbCsrKTooYy5jYW5ub3RCZUFCYXNlVVJMPSEwLENOKGMucGF0aCxcIlwiKSxkPVREKX1icmVhaztjYXNlIGlEOmlmKCFpfHxpLmNhbm5vdEJlQUJhc2VVUkwmJlwiI1wiIT1yKXJldHVybiBPTjtpZihpLmNhbm5vdEJlQUJhc2VVUkwmJlwiI1wiPT1yKXtjLnNjaGVtZT1pLnNjaGVtZSxjLnBhdGg9ZU4oaS5wYXRoKSxjLnF1ZXJ5PWkucXVlcnksYy5mcmFnbWVudD1cIlwiLGMuY2Fubm90QmVBQmFzZVVSTD0hMCxkPWdEO2JyZWFrfWQ9XCJmaWxlXCI9PWkuc2NoZW1lP3BEOm9EO2NvbnRpbnVlO2Nhc2UgbkQ6aWYoXCIvXCIhPXJ8fFwiL1wiIT1uW2wrMV0pe2Q9b0Q7Y29udGludWV9ZD1jRCxsKys7YnJlYWs7Y2FzZSByRDppZihcIi9cIj09cil7ZD1kRDticmVha31kPWZEO2NvbnRpbnVlO2Nhc2Ugb0Q6aWYoYy5zY2hlbWU9aS5zY2hlbWUscj09ancpYy51c2VybmFtZT1pLnVzZXJuYW1lLGMucGFzc3dvcmQ9aS5wYXNzd29yZCxjLmhvc3Q9aS5ob3N0LGMucG9ydD1pLnBvcnQsYy5wYXRoPWVOKGkucGF0aCksYy5xdWVyeT1pLnF1ZXJ5O2Vsc2UgaWYoXCIvXCI9PXJ8fFwiXFxcXFwiPT1yJiZjLmlzU3BlY2lhbCgpKWQ9c0Q7ZWxzZSBpZihcIj9cIj09ciljLnVzZXJuYW1lPWkudXNlcm5hbWUsYy5wYXNzd29yZD1pLnBhc3N3b3JkLGMuaG9zdD1pLmhvc3QsYy5wb3J0PWkucG9ydCxjLnBhdGg9ZU4oaS5wYXRoKSxjLnF1ZXJ5PVwiXCIsZD1TRDtlbHNle2lmKFwiI1wiIT1yKXtjLnVzZXJuYW1lPWkudXNlcm5hbWUsYy5wYXNzd29yZD1pLnBhc3N3b3JkLGMuaG9zdD1pLmhvc3QsYy5wb3J0PWkucG9ydCxjLnBhdGg9ZU4oaS5wYXRoKSxjLnBhdGgubGVuZ3RoLS0sZD1mRDtjb250aW51ZX1jLnVzZXJuYW1lPWkudXNlcm5hbWUsYy5wYXNzd29yZD1pLnBhc3N3b3JkLGMuaG9zdD1pLmhvc3QsYy5wb3J0PWkucG9ydCxjLnBhdGg9ZU4oaS5wYXRoKSxjLnF1ZXJ5PWkucXVlcnksYy5mcmFnbWVudD1cIlwiLGQ9Z0R9YnJlYWs7Y2FzZSBzRDppZighYy5pc1NwZWNpYWwoKXx8XCIvXCIhPXImJlwiXFxcXFwiIT1yKXtpZihcIi9cIiE9cil7Yy51c2VybmFtZT1pLnVzZXJuYW1lLGMucGFzc3dvcmQ9aS5wYXNzd29yZCxjLmhvc3Q9aS5ob3N0LGMucG9ydD1pLnBvcnQsZD1mRDtjb250aW51ZX1kPWREfWVsc2UgZD1jRDticmVhaztjYXNlIGFEOmlmKGQ9Y0QsXCIvXCIhPXJ8fFwiL1wiIT1mTih1LGwrMSkpY29udGludWU7bCsrO2JyZWFrO2Nhc2UgY0Q6aWYoXCIvXCIhPXImJlwiXFxcXFwiIT1yKXtkPWREO2NvbnRpbnVlfWJyZWFrO2Nhc2UgZEQ6aWYoXCJAXCI9PXIpe2gmJih1PVwiJTQwXCIrdSksaD0hMCxvPSRPKHUpO2Zvcih2YXIgRT0wO0U8by5sZW5ndGg7RSsrKXt2YXIgbT1vW0VdO2lmKFwiOlwiIT1tfHxfKXt2YXIgZj1KTihtLHpOKTtfP2MucGFzc3dvcmQrPWY6Yy51c2VybmFtZSs9Zn1lbHNlIF89ITB9dT1cIlwifWVsc2UgaWYocj09and8fFwiL1wiPT1yfHxcIj9cIj09cnx8XCIjXCI9PXJ8fFwiXFxcXFwiPT1yJiZjLmlzU3BlY2lhbCgpKXtpZihoJiZcIlwiPT11KXJldHVyblwiSW52YWxpZCBhdXRob3JpdHlcIjtsLT0kTyh1KS5sZW5ndGgrMSx1PVwiXCIsZD1sRH1lbHNlIHUrPXI7YnJlYWs7Y2FzZSBsRDpjYXNlIHVEOmlmKHQmJlwiZmlsZVwiPT1jLnNjaGVtZSl7ZD1FRDtjb250aW51ZX1pZihcIjpcIiE9cnx8cCl7aWYocj09and8fFwiL1wiPT1yfHxcIj9cIj09cnx8XCIjXCI9PXJ8fFwiXFxcXFwiPT1yJiZjLmlzU3BlY2lhbCgpKXtpZihjLmlzU3BlY2lhbCgpJiZcIlwiPT11KXJldHVybiBOTjtpZih0JiZcIlwiPT11JiYoYy5pbmNsdWRlc0NyZWRlbnRpYWxzKCl8fG51bGwhPT1jLnBvcnQpKXJldHVybjtpZihzPWMucGFyc2VIb3N0KHUpKXJldHVybiBzO2lmKHU9XCJcIixkPW1ELHQpcmV0dXJuO2NvbnRpbnVlfVwiW1wiPT1yP3A9ITA6XCJdXCI9PXImJihwPSExKSx1Kz1yfWVsc2V7aWYoXCJcIj09dSlyZXR1cm4gTk47aWYocz1jLnBhcnNlSG9zdCh1KSlyZXR1cm4gcztpZih1PVwiXCIsZD1oRCx0PT11RClyZXR1cm59YnJlYWs7Y2FzZSBoRDppZighVE4oa04scikpe2lmKHI9PWp3fHxcIi9cIj09cnx8XCI/XCI9PXJ8fFwiI1wiPT1yfHxcIlxcXFxcIj09ciYmYy5pc1NwZWNpYWwoKXx8dCl7aWYoXCJcIiE9dSl7dmFyIFQ9X04odSwxMCk7aWYoVD42NTUzNSlyZXR1cm4gRE47Yy5wb3J0PWMuaXNTcGVjaWFsKCkmJlQ9PT1YTltjLnNjaGVtZV0/bnVsbDpULHU9XCJcIn1pZih0KXJldHVybjtkPW1EO2NvbnRpbnVlfXJldHVybiBETn11Kz1yO2JyZWFrO2Nhc2UgcEQ6aWYoYy5zY2hlbWU9XCJmaWxlXCIsXCIvXCI9PXJ8fFwiXFxcXFwiPT1yKWQ9X0Q7ZWxzZXtpZighaXx8XCJmaWxlXCIhPWkuc2NoZW1lKXtkPWZEO2NvbnRpbnVlfWlmKHI9PWp3KWMuaG9zdD1pLmhvc3QsYy5wYXRoPWVOKGkucGF0aCksYy5xdWVyeT1pLnF1ZXJ5O2Vsc2UgaWYoXCI/XCI9PXIpYy5ob3N0PWkuaG9zdCxjLnBhdGg9ZU4oaS5wYXRoKSxjLnF1ZXJ5PVwiXCIsZD1TRDtlbHNle2lmKFwiI1wiIT1yKXtaTihTTihlTihuLGwpLFwiXCIpKXx8KGMuaG9zdD1pLmhvc3QsYy5wYXRoPWVOKGkucGF0aCksYy5zaG9ydGVuUGF0aCgpKSxkPWZEO2NvbnRpbnVlfWMuaG9zdD1pLmhvc3QsYy5wYXRoPWVOKGkucGF0aCksYy5xdWVyeT1pLnF1ZXJ5LGMuZnJhZ21lbnQ9XCJcIixkPWdEfX1icmVhaztjYXNlIF9EOmlmKFwiL1wiPT1yfHxcIlxcXFxcIj09cil7ZD1FRDticmVha31pJiZcImZpbGVcIj09aS5zY2hlbWUmJiFaTihTTihlTihuLGwpLFwiXCIpKSYmKFFOKGkucGF0aFswXSwhMCk/Q04oYy5wYXRoLGkucGF0aFswXSk6Yy5ob3N0PWkuaG9zdCksZD1mRDtjb250aW51ZTtjYXNlIEVEOmlmKHI9PWp3fHxcIi9cIj09cnx8XCJcXFxcXCI9PXJ8fFwiP1wiPT1yfHxcIiNcIj09cil7aWYoIXQmJlFOKHUpKWQ9ZkQ7ZWxzZSBpZihcIlwiPT11KXtpZihjLmhvc3Q9XCJcIix0KXJldHVybjtkPW1EfWVsc2V7aWYocz1jLnBhcnNlSG9zdCh1KSlyZXR1cm4gcztpZihcImxvY2FsaG9zdFwiPT1jLmhvc3QmJihjLmhvc3Q9XCJcIiksdClyZXR1cm47dT1cIlwiLGQ9bUR9Y29udGludWV9dSs9cjticmVhaztjYXNlIG1EOmlmKGMuaXNTcGVjaWFsKCkpe2lmKGQ9ZkQsXCIvXCIhPXImJlwiXFxcXFwiIT1yKWNvbnRpbnVlfWVsc2UgaWYodHx8XCI/XCIhPXIpaWYodHx8XCIjXCIhPXIpe2lmKHIhPWp3JiYoZD1mRCxcIi9cIiE9cikpY29udGludWV9ZWxzZSBjLmZyYWdtZW50PVwiXCIsZD1nRDtlbHNlIGMucXVlcnk9XCJcIixkPVNEO2JyZWFrO2Nhc2UgZkQ6aWYocj09and8fFwiL1wiPT1yfHxcIlxcXFxcIj09ciYmYy5pc1NwZWNpYWwoKXx8IXQmJihcIj9cIj09cnx8XCIjXCI9PXIpKXtpZihcIi4uXCI9PT0oYT1iTihhPXUpKXx8XCIlMmUuXCI9PT1hfHxcIi4lMmVcIj09PWF8fFwiJTJlJTJlXCI9PT1hPyhjLnNob3J0ZW5QYXRoKCksXCIvXCI9PXJ8fFwiXFxcXFwiPT1yJiZjLmlzU3BlY2lhbCgpfHxDTihjLnBhdGgsXCJcIikpOiROKHUpP1wiL1wiPT1yfHxcIlxcXFxcIj09ciYmYy5pc1NwZWNpYWwoKXx8Q04oYy5wYXRoLFwiXCIpOihcImZpbGVcIj09Yy5zY2hlbWUmJiFjLnBhdGgubGVuZ3RoJiZRTih1KSYmKGMuaG9zdCYmKGMuaG9zdD1cIlwiKSx1PWZOKHUsMCkrXCI6XCIpLENOKGMucGF0aCx1KSksdT1cIlwiLFwiZmlsZVwiPT1jLnNjaGVtZSYmKHI9PWp3fHxcIj9cIj09cnx8XCIjXCI9PXIpKWZvcig7Yy5wYXRoLmxlbmd0aD4xJiZcIlwiPT09Yy5wYXRoWzBdOyl2TihjLnBhdGgpO1wiP1wiPT1yPyhjLnF1ZXJ5PVwiXCIsZD1TRCk6XCIjXCI9PXImJihjLmZyYWdtZW50PVwiXCIsZD1nRCl9ZWxzZSB1Kz1KTihyLHFOKTticmVhaztjYXNlIFREOlwiP1wiPT1yPyhjLnF1ZXJ5PVwiXCIsZD1TRCk6XCIjXCI9PXI/KGMuZnJhZ21lbnQ9XCJcIixkPWdEKTpyIT1qdyYmKGMucGF0aFswXSs9Sk4ocixLTikpO2JyZWFrO2Nhc2UgU0Q6dHx8XCIjXCIhPXI/ciE9ancmJihcIidcIj09ciYmYy5pc1NwZWNpYWwoKT9jLnF1ZXJ5Kz1cIiUyN1wiOmMucXVlcnkrPVwiI1wiPT1yP1wiJTIzXCI6Sk4ocixLTikpOihjLmZyYWdtZW50PVwiXCIsZD1nRCk7YnJlYWs7Y2FzZSBnRDpyIT1qdyYmKGMuZnJhZ21lbnQrPUpOKHIsWU4pKX1sKyt9fSxwYXJzZUhvc3Q6ZnVuY3Rpb24oZSl7dmFyIHQsaSxuO2lmKFwiW1wiPT1mTihlLDApKXtpZihcIl1cIiE9Zk4oZSxlLmxlbmd0aC0xKSlyZXR1cm4gTk47aWYodD1mdW5jdGlvbihlKXt2YXIgdCxpLG4scixvLHMsYSxjPVswLDAsMCwwLDAsMCwwLDBdLGQ9MCxsPW51bGwsdT0wLGg9ZnVuY3Rpb24oKXtyZXR1cm4gZk4oZSx1KX07aWYoXCI6XCI9PWgoKSl7aWYoXCI6XCIhPWZOKGUsMSkpcmV0dXJuO3UrPTIsbD0rK2R9Zm9yKDtoKCk7KXtpZig4PT1kKXJldHVybjtpZihcIjpcIiE9aCgpKXtmb3IodD1pPTA7aTw0JiZUTihWTixoKCkpOyl0PTE2KnQrX04oaCgpLDE2KSx1KyssaSsrO2lmKFwiLlwiPT1oKCkpe2lmKDA9PWkpcmV0dXJuO2lmKHUtPWksZD42KXJldHVybjtmb3Iobj0wO2goKTspe2lmKHI9bnVsbCxuPjApe2lmKCEoXCIuXCI9PWgoKSYmbjw0KSlyZXR1cm47dSsrfWlmKCFUTihrTixoKCkpKXJldHVybjtmb3IoO1ROKGtOLGgoKSk7KXtpZihvPV9OKGgoKSwxMCksbnVsbD09PXIpcj1vO2Vsc2V7aWYoMD09cilyZXR1cm47cj0xMCpyK299aWYocj4yNTUpcmV0dXJuO3UrK31jW2RdPTI1NipjW2RdK3IsMiE9KytuJiY0IT1ufHxkKyt9aWYoNCE9bilyZXR1cm47YnJlYWt9aWYoXCI6XCI9PWgoKSl7aWYodSsrLCFoKCkpcmV0dXJufWVsc2UgaWYoaCgpKXJldHVybjtjW2QrK109dH1lbHNle2lmKG51bGwhPT1sKXJldHVybjt1KyssbD0rK2R9fWlmKG51bGwhPT1sKWZvcihzPWQtbCxkPTc7MCE9ZCYmcz4wOylhPWNbZF0sY1tkLS1dPWNbbCtzLTFdLGNbbCstLXNdPWE7ZWxzZSBpZig4IT1kKXJldHVybjtyZXR1cm4gY30oQU4oZSwxLC0xKSksIXQpcmV0dXJuIE5OO3RoaXMuaG9zdD10fWVsc2UgaWYodGhpcy5pc1NwZWNpYWwoKSl7aWYoZT1pTihlKSxUTihGTixlKSlyZXR1cm4gTk47aWYodD1mdW5jdGlvbihlKXt2YXIgdCxpLG4scixvLHMsYSxjPXlOKGUsXCIuXCIpO2lmKGMubGVuZ3RoJiZcIlwiPT1jW2MubGVuZ3RoLTFdJiZjLmxlbmd0aC0tLCh0PWMubGVuZ3RoKT40KXJldHVybiBlO2ZvcihpPVtdLG49MDtuPHQ7bisrKXtpZihcIlwiPT0ocj1jW25dKSlyZXR1cm4gZTtpZihvPTEwLHIubGVuZ3RoPjEmJlwiMFwiPT1mTihyLDApJiYobz1UTihNTixyKT8xNjo4LHI9QU4ociw4PT1vPzE6MikpLFwiXCI9PT1yKXM9MDtlbHNle2lmKCFUTigxMD09bz94Tjo4PT1vP1VOOlZOLHIpKXJldHVybiBlO3M9X04ocixvKX1DTihpLHMpfWZvcihuPTA7bjx0O24rKylpZihzPWlbbl0sbj09dC0xKXtpZihzPj1tTigyNTYsNS10KSlyZXR1cm4gbnVsbH1lbHNlIGlmKHM+MjU1KXJldHVybiBudWxsO2ZvcihhPVJOKGkpLG49MDtuPGkubGVuZ3RoO24rKylhKz1pW25dKm1OKDI1NiwzLW4pO3JldHVybiBhfShlKSxudWxsPT09dClyZXR1cm4gTk47dGhpcy5ob3N0PXR9ZWxzZXtpZihUTihCTixlKSlyZXR1cm4gTk47Zm9yKHQ9XCJcIixpPSRPKGUpLG49MDtuPGkubGVuZ3RoO24rKyl0Kz1KTihpW25dLEtOKTt0aGlzLmhvc3Q9dH19LGNhbm5vdEhhdmVVc2VybmFtZVBhc3N3b3JkUG9ydDpmdW5jdGlvbigpe3JldHVybiF0aGlzLmhvc3R8fHRoaXMuY2Fubm90QmVBQmFzZVVSTHx8XCJmaWxlXCI9PXRoaXMuc2NoZW1lfSxpbmNsdWRlc0NyZWRlbnRpYWxzOmZ1bmN0aW9uKCl7cmV0dXJuXCJcIiE9dGhpcy51c2VybmFtZXx8XCJcIiE9dGhpcy5wYXNzd29yZH0saXNTcGVjaWFsOmZ1bmN0aW9uKCl7cmV0dXJuIFFPKFhOLHRoaXMuc2NoZW1lKX0sc2hvcnRlblBhdGg6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnBhdGgsdD1lLmxlbmd0aDshdHx8XCJmaWxlXCI9PXRoaXMuc2NoZW1lJiYxPT10JiZRTihlWzBdLCEwKXx8ZS5sZW5ndGgtLX0sc2VyaWFsaXplOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcyx0PWUuc2NoZW1lLGk9ZS51c2VybmFtZSxuPWUucGFzc3dvcmQscj1lLmhvc3Qsbz1lLnBvcnQscz1lLnBhdGgsYT1lLnF1ZXJ5LGM9ZS5mcmFnbWVudCxkPXQrXCI6XCI7cmV0dXJuIG51bGwhPT1yPyhkKz1cIi8vXCIsZS5pbmNsdWRlc0NyZWRlbnRpYWxzKCkmJihkKz1pKyhuP1wiOlwiK246XCJcIikrXCJAXCIpLGQrPUhOKHIpLG51bGwhPT1vJiYoZCs9XCI6XCIrbykpOlwiZmlsZVwiPT10JiYoZCs9XCIvL1wiKSxkKz1lLmNhbm5vdEJlQUJhc2VVUkw/c1swXTpzLmxlbmd0aD9cIi9cIitTTihzLFwiL1wiKTpcIlwiLG51bGwhPT1hJiYoZCs9XCI/XCIrYSksbnVsbCE9PWMmJihkKz1cIiNcIitjKSxkfSxzZXRIcmVmOmZ1bmN0aW9uKGUpe3ZhciB0PXRoaXMucGFyc2UoZSk7aWYodCl0aHJvdyBwTih0KTt0aGlzLnNlYXJjaFBhcmFtcy51cGRhdGUoKX0sZ2V0T3JpZ2luOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5zY2hlbWUsdD10aGlzLnBvcnQ7aWYoXCJibG9iXCI9PWUpdHJ5e3JldHVybiBuZXcgQ0QoZS5wYXRoWzBdKS5vcmlnaW59Y2F0Y2goZSl7cmV0dXJuXCJudWxsXCJ9cmV0dXJuXCJmaWxlXCIhPWUmJnRoaXMuaXNTcGVjaWFsKCk/ZStcIjovL1wiK0hOKHRoaXMuaG9zdCkrKG51bGwhPT10P1wiOlwiK3Q6XCJcIik6XCJudWxsXCJ9LGdldFByb3RvY29sOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc2NoZW1lK1wiOlwifSxzZXRQcm90b2NvbDpmdW5jdGlvbihlKXt0aGlzLnBhcnNlKG5OKGUpK1wiOlwiLGVEKX0sZ2V0VXNlcm5hbWU6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy51c2VybmFtZX0sc2V0VXNlcm5hbWU6ZnVuY3Rpb24oZSl7dmFyIHQ9JE8obk4oZSkpO2lmKCF0aGlzLmNhbm5vdEhhdmVVc2VybmFtZVBhc3N3b3JkUG9ydCgpKXt0aGlzLnVzZXJuYW1lPVwiXCI7Zm9yKHZhciBpPTA7aTx0Lmxlbmd0aDtpKyspdGhpcy51c2VybmFtZSs9Sk4odFtpXSx6Til9fSxnZXRQYXNzd29yZDpmdW5jdGlvbigpe3JldHVybiB0aGlzLnBhc3N3b3JkfSxzZXRQYXNzd29yZDpmdW5jdGlvbihlKXt2YXIgdD0kTyhuTihlKSk7aWYoIXRoaXMuY2Fubm90SGF2ZVVzZXJuYW1lUGFzc3dvcmRQb3J0KCkpe3RoaXMucGFzc3dvcmQ9XCJcIjtmb3IodmFyIGk9MDtpPHQubGVuZ3RoO2krKyl0aGlzLnBhc3N3b3JkKz1KTih0W2ldLHpOKX19LGdldEhvc3Q6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLmhvc3QsdD10aGlzLnBvcnQ7cmV0dXJuIG51bGw9PT1lP1wiXCI6bnVsbD09PXQ/SE4oZSk6SE4oZSkrXCI6XCIrdH0sc2V0SG9zdDpmdW5jdGlvbihlKXt0aGlzLmNhbm5vdEJlQUJhc2VVUkx8fHRoaXMucGFyc2UoZSxsRCl9LGdldEhvc3RuYW1lOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5ob3N0O3JldHVybiBudWxsPT09ZT9cIlwiOkhOKGUpfSxzZXRIb3N0bmFtZTpmdW5jdGlvbihlKXt0aGlzLmNhbm5vdEJlQUJhc2VVUkx8fHRoaXMucGFyc2UoZSx1RCl9LGdldFBvcnQ6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnBvcnQ7cmV0dXJuIG51bGw9PT1lP1wiXCI6bk4oZSl9LHNldFBvcnQ6ZnVuY3Rpb24oZSl7dGhpcy5jYW5ub3RIYXZlVXNlcm5hbWVQYXNzd29yZFBvcnQoKXx8KFwiXCI9PShlPW5OKGUpKT90aGlzLnBvcnQ9bnVsbDp0aGlzLnBhcnNlKGUsaEQpKX0sZ2V0UGF0aG5hbWU6ZnVuY3Rpb24oKXt2YXIgZT10aGlzLnBhdGg7cmV0dXJuIHRoaXMuY2Fubm90QmVBQmFzZVVSTD9lWzBdOmUubGVuZ3RoP1wiL1wiK1NOKGUsXCIvXCIpOlwiXCJ9LHNldFBhdGhuYW1lOmZ1bmN0aW9uKGUpe3RoaXMuY2Fubm90QmVBQmFzZVVSTHx8KHRoaXMucGF0aD1bXSx0aGlzLnBhcnNlKGUsbUQpKX0sZ2V0U2VhcmNoOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5xdWVyeTtyZXR1cm4gZT9cIj9cIitlOlwiXCJ9LHNldFNlYXJjaDpmdW5jdGlvbihlKXtcIlwiPT0oZT1uTihlKSk/dGhpcy5xdWVyeT1udWxsOihcIj9cIj09Zk4oZSwwKSYmKGU9QU4oZSwxKSksdGhpcy5xdWVyeT1cIlwiLHRoaXMucGFyc2UoZSxTRCkpLHRoaXMuc2VhcmNoUGFyYW1zLnVwZGF0ZSgpfSxnZXRTZWFyY2hQYXJhbXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5zZWFyY2hQYXJhbXMuZmFjYWRlfSxnZXRIYXNoOmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5mcmFnbWVudDtyZXR1cm4gZT9cIiNcIitlOlwiXCJ9LHNldEhhc2g6ZnVuY3Rpb24oZSl7XCJcIiE9KGU9bk4oZSkpPyhcIiNcIj09Zk4oZSwwKSYmKGU9QU4oZSwxKSksdGhpcy5mcmFnbWVudD1cIlwiLHRoaXMucGFyc2UoZSxnRCkpOnRoaXMuZnJhZ21lbnQ9bnVsbH0sdXBkYXRlOmZ1bmN0aW9uKCl7dGhpcy5xdWVyeT10aGlzLnNlYXJjaFBhcmFtcy5zZXJpYWxpemUoKXx8bnVsbH19O3ZhciBDRD1mdW5jdGlvbihlKXt2YXIgdD1YTyh0aGlzLElEKSxpPW9OKGFyZ3VtZW50cy5sZW5ndGgsMSk+MT9hcmd1bWVudHNbMV06dm9pZCAwLG49Y04odCxuZXcgUkQoZSwhMSxpKSk7V098fCh0LmhyZWY9bi5zZXJpYWxpemUoKSx0Lm9yaWdpbj1uLmdldE9yaWdpbigpLHQucHJvdG9jb2w9bi5nZXRQcm90b2NvbCgpLHQudXNlcm5hbWU9bi5nZXRVc2VybmFtZSgpLHQucGFzc3dvcmQ9bi5nZXRQYXNzd29yZCgpLHQuaG9zdD1uLmdldEhvc3QoKSx0Lmhvc3RuYW1lPW4uZ2V0SG9zdG5hbWUoKSx0LnBvcnQ9bi5nZXRQb3J0KCksdC5wYXRobmFtZT1uLmdldFBhdGhuYW1lKCksdC5zZWFyY2g9bi5nZXRTZWFyY2goKSx0LnNlYXJjaFBhcmFtcz1uLmdldFNlYXJjaFBhcmFtcygpLHQuaGFzaD1uLmdldEhhc2goKSl9LElEPUNELnByb3RvdHlwZSx2RD1mdW5jdGlvbihlLHQpe3JldHVybntnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gZE4odGhpcylbZV0oKX0sc2V0OnQmJmZ1bmN0aW9uKGUpe3JldHVybiBkTih0aGlzKVt0XShlKX0sY29uZmlndXJhYmxlOiEwLGVudW1lcmFibGU6ITB9fTtpZihXTyYmKEpPKElELFwiaHJlZlwiLHZEKFwic2VyaWFsaXplXCIsXCJzZXRIcmVmXCIpKSxKTyhJRCxcIm9yaWdpblwiLHZEKFwiZ2V0T3JpZ2luXCIpKSxKTyhJRCxcInByb3RvY29sXCIsdkQoXCJnZXRQcm90b2NvbFwiLFwic2V0UHJvdG9jb2xcIikpLEpPKElELFwidXNlcm5hbWVcIix2RChcImdldFVzZXJuYW1lXCIsXCJzZXRVc2VybmFtZVwiKSksSk8oSUQsXCJwYXNzd29yZFwiLHZEKFwiZ2V0UGFzc3dvcmRcIixcInNldFBhc3N3b3JkXCIpKSxKTyhJRCxcImhvc3RcIix2RChcImdldEhvc3RcIixcInNldEhvc3RcIikpLEpPKElELFwiaG9zdG5hbWVcIix2RChcImdldEhvc3RuYW1lXCIsXCJzZXRIb3N0bmFtZVwiKSksSk8oSUQsXCJwb3J0XCIsdkQoXCJnZXRQb3J0XCIsXCJzZXRQb3J0XCIpKSxKTyhJRCxcInBhdGhuYW1lXCIsdkQoXCJnZXRQYXRobmFtZVwiLFwic2V0UGF0aG5hbWVcIikpLEpPKElELFwic2VhcmNoXCIsdkQoXCJnZXRTZWFyY2hcIixcInNldFNlYXJjaFwiKSksSk8oSUQsXCJzZWFyY2hQYXJhbXNcIix2RChcImdldFNlYXJjaFBhcmFtc1wiKSksSk8oSUQsXCJoYXNoXCIsdkQoXCJnZXRIYXNoXCIsXCJzZXRIYXNoXCIpKSksek8oSUQsXCJ0b0pTT05cIiwoZnVuY3Rpb24oKXtyZXR1cm4gZE4odGhpcykuc2VyaWFsaXplKCl9KSx7ZW51bWVyYWJsZTohMH0pLHpPKElELFwidG9TdHJpbmdcIiwoZnVuY3Rpb24oKXtyZXR1cm4gZE4odGhpcykuc2VyaWFsaXplKCl9KSx7ZW51bWVyYWJsZTohMH0pLGhOKXt2YXIgeUQ9aE4uY3JlYXRlT2JqZWN0VVJMLEFEPWhOLnJldm9rZU9iamVjdFVSTDt5RCYmek8oQ0QsXCJjcmVhdGVPYmplY3RVUkxcIixZTyh5RCxoTikpLEFEJiZ6TyhDRCxcInJldm9rZU9iamVjdFVSTFwiLFlPKEFELGhOKSl9ck4oQ0QsXCJVUkxcIiksR08oe2dsb2JhbDohMCxjb25zdHJ1Y3RvcjohMCxmb3JjZWQ6IUhPLHNoYW06IVdPfSx7VVJMOkNEfSk7dmFyIGJEPXdpLHdEPW4sT0Q9WmMsTkQ9bW4sREQ9Y2csUEQ9YWUoXCJVUkxcIik7YkQoe3RhcmdldDpcIlVSTFwiLHN0YXQ6ITAsZm9yY2VkOiEoREQmJndEKChmdW5jdGlvbigpe1BELmNhblBhcnNlKCl9KSkpfSx7Y2FuUGFyc2U6ZnVuY3Rpb24oZSl7dmFyIHQ9T0QoYXJndW1lbnRzLmxlbmd0aCwxKSxpPU5EKGUpLG49dDwyfHx2b2lkIDA9PT1hcmd1bWVudHNbMV0/dm9pZCAwOk5EKGFyZ3VtZW50c1sxXSk7dHJ5e3JldHVybiEhbmV3IFBEKGksbil9Y2F0Y2goZSl7cmV0dXJuITF9fX0pO3ZhciBMRD1pKGllLlVSTCk7Y29uc3Qga0Q9e2dldERpc3BsYXlNZWRpYTohMSxnZXRTdHJlYW1Gcm9tRXh0ZW5zaW9uOiExLHN1cHBvcnRVbmlmaWVkUGxhbjohMSxzdXBwb3J0TWluQml0cmF0ZTohMSxzdXBwb3J0U2V0UnRwU2VuZGVyUGFyYW1ldGVyczohMSxzdXBwb3J0RHVhbFN0cmVhbTohMCx3ZWJBdWRpb01lZGlhU3RyZWFtRGVzdDohMSxzdXBwb3J0UmVwbGFjZVRyYWNrOiExLHN1cHBvcnRXZWJHTDohMSx3ZWJBdWRpb1dpdGhBRUM6ITEsc3VwcG9ydFJlcXVlc3RGcmFtZTohMSxzdXBwb3J0U2hhcmVBdWRpbzohMSxzdXBwb3J0RHVhbFN0cmVhbUVuY29kaW5nOiExLHN1cHBvcnREYXRhQ2hhbm5lbDohMSxzdXBwb3J0UENTZXRDb25maWd1cmF0aW9uOiExLHN1cHBvcnRXZWJSVENFbmNvZGVkVHJhbnNmb3JtOiExLHN1cHBvcnRXZWJSVENJbnNlcnRhYmxlU3RyZWFtOiExLHN1cHBvcnRSZXF1ZXN0VmlkZW9GcmFtZUNhbGxiYWNrOiExLHN1cHBvcnRXZWJDcnlwdG86ITF9O2Z1bmN0aW9uIE1EKCl7cmV0dXJuIGtEfWZ1bmN0aW9uIFVEKCl7cmV0dXJuXCJzZXRTaW5rSWRcImluIEhUTUxBdWRpb0VsZW1lbnQucHJvdG90eXBlJiYoIUR5KFwiUkVTVFJJQ1RJT05fU0VUX1BMQVlCQUNLX0RFVklDRVwiKXx8KERJKCl8fExJKCkpJiYhWEkoKSl9ZnVuY3Rpb24geEQoKXtyZXR1cm4ha0Quc3VwcG9ydFVuaWZpZWRQbGFufHxEeShcIkNIUk9NRV9GT1JDRV9QTEFOX0JcIikmJlFJKCl9bGV0IFZEPWZ1bmN0aW9uKGUpe3JldHVybiBlLklPU18xNV8xNl9JTlRFUlJVUFRJT05fU1RBUlQ9XCJpb3MxNV8xNi1pbnRlcnJ1cHRpb24tc3RhcnRcIixlLklPU18xNV8xNl9JTlRFUlJVUFRJT05fRU5EPVwiaW9zMTVfMTYtaW50ZXJydXB0aW9uLWVuZFwiLGUuSU9TX0lOVEVSUlVQVElPTl9TVEFSVD1cImlvcy1pbnRlcnJ1cHRpb24tc3RhcnRcIixlLklPU19JTlRFUlJVUFRJT05fRU5EPVwiaW9zLWludGVycnVwdGlvbi1lbmRcIixlLlNUQVRFX0NIQU5HRT1cInN0YXRlLWNoYW5nZVwiLGV9KHt9KTtmdW5jdGlvbiBGRChlLHQsaSl7cmV0dXJue3NhbXBsZVJhdGU6ZSxzdGVyZW86dCxiaXRyYXRlOml9fWZ1bmN0aW9uIEJEKGUsdCxpLG4scil7cmV0dXJue3dpZHRoOmUsaGVpZ2h0OnQsZnJhbWVSYXRlOmksYml0cmF0ZU1pbjpuLGJpdHJhdGVNYXg6cn19ZnVuY3Rpb24gakQoZSx0LGksbixyKXtyZXR1cm57d2lkdGg6e21heDplfSxoZWlnaHQ6e21heDp0fSxmcmFtZVJhdGU6aSxiaXRyYXRlTWluOm4sYml0cmF0ZU1heDpyfX1mdW5jdGlvbiBHRChlLHQpe3JldHVybntudW1TcGF0aWFsTGF5ZXJzOmUsbnVtVGVtcG9yYWxMYXllcnM6dH19Y29uc3QgV0Q9e1wiOTBwXCI6QkQoMTYwLDkwKSxcIjkwcF8xXCI6QkQoMTYwLDkwKSxcIjEyMHBcIjpCRCgxNjAsMTIwLDE1LDMwLDY1KSxcIjEyMHBfMVwiOkJEKDE2MCwxMjAsMTUsMzAsNjUpLFwiMTIwcF8zXCI6QkQoMTIwLDEyMCwxNSwzMCw1MCksXCIxMjBwXzRcIjpCRCgyMTIsMTIwKSxcIjE4MHBcIjpCRCgzMjAsMTgwLDE1LDMwLDE0MCksXCIxODBwXzFcIjpCRCgzMjAsMTgwLDE1LDMwLDE0MCksXCIxODBwXzNcIjpCRCgxODAsMTgwLDE1LDMwLDEwMCksXCIxODBwXzRcIjpCRCgyNDAsMTgwLDE1LDMwLDEyMCksXCIyNDBwXCI6QkQoMzIwLDI0MCwxNSw0MCwyMDApLFwiMjQwcF8xXCI6QkQoMzIwLDI0MCwxNSw0MCwyMDApLFwiMjQwcF8zXCI6QkQoMjQwLDI0MCwxNSw0MCwxNDApLFwiMjQwcF80XCI6QkQoNDI0LDI0MCwxNSw0MCwyMjApLFwiMzYwcFwiOkJEKDY0MCwzNjAsMTUsODAsNDAwKSxcIjM2MHBfMVwiOkJEKDY0MCwzNjAsMTUsODAsNDAwKSxcIjM2MHBfM1wiOkJEKDM2MCwzNjAsMTUsODAsMjYwKSxcIjM2MHBfNFwiOkJEKDY0MCwzNjAsMzAsODAsNjAwKSxcIjM2MHBfNlwiOkJEKDM2MCwzNjAsMzAsODAsNDAwKSxcIjM2MHBfN1wiOkJEKDQ4MCwzNjAsMTUsODAsMzIwKSxcIjM2MHBfOFwiOkJEKDQ4MCwzNjAsMzAsODAsNDkwKSxcIjM2MHBfOVwiOkJEKDY0MCwzNjAsMTUsODAsODAwKSxcIjM2MHBfMTBcIjpCRCg2NDAsMzYwLDI0LDgwLDgwMCksXCIzNjBwXzExXCI6QkQoNjQwLDM2MCwyNCw4MCwxZTMpLFwiNDgwcFwiOkJEKDY0MCw0ODAsMTUsMTAwLDUwMCksXCI0ODBwXzFcIjpCRCg2NDAsNDgwLDE1LDEwMCw1MDApLFwiNDgwcF8yXCI6QkQoNjQwLDQ4MCwzMCwxMDAsMWUzKSxcIjQ4MHBfM1wiOkJEKDQ4MCw0ODAsMTUsMTAwLDQwMCksXCI0ODBwXzRcIjpCRCg2NDAsNDgwLDMwLDEwMCw3NTApLFwiNDgwcF82XCI6QkQoNDgwLDQ4MCwzMCwxMDAsNjAwKSxcIjQ4MHBfOFwiOkJEKDg0OCw0ODAsMTUsMTAwLDYxMCksXCI0ODBwXzlcIjpCRCg4NDgsNDgwLDMwLDEwMCw5MzApLFwiNDgwcF8xMFwiOkJEKDY0MCw0ODAsMTAsMTAwLDQwMCksXCI3MjBwXCI6QkQoMTI4MCw3MjAsMTUsMTIwLDExMzApLFwiNzIwcF9hdXRvXCI6QkQoMTI4MCw3MjAsMzAsOTAwLDNlMyksXCI3MjBwXzFcIjpCRCgxMjgwLDcyMCwxNSwxMjAsMTEzMCksXCI3MjBwXzJcIjpCRCgxMjgwLDcyMCwzMCwxMjAsMmUzKSxcIjcyMHBfM1wiOkJEKDEyODAsNzIwLDMwLDEyMCwxNzEwKSxcIjcyMHBfNVwiOkJEKDk2MCw3MjAsMTUsMTIwLDkxMCksXCI3MjBwXzZcIjpCRCg5NjAsNzIwLDMwLDEyMCwxMzgwKSxcIjEwODBwXCI6QkQoMTkyMCwxMDgwLDE1LDEyMCwyMDgwKSxcIjEwODBwXzFcIjpCRCgxOTIwLDEwODAsMTUsMTIwLDIwODApLFwiMTA4MHBfMlwiOkJEKDE5MjAsMTA4MCwzMCwxMjAsM2UzKSxcIjEwODBwXzNcIjpCRCgxOTIwLDEwODAsMzAsMTIwLDMxNTApLFwiMTA4MHBfNVwiOkJEKDE5MjAsMTA4MCw2MCwxMjAsNDc4MCksXCIxNDQwcFwiOkJEKDI1NjAsMTQ0MCwzMCwxMjAsNDg1MCksXCIxNDQwcF8xXCI6QkQoMjU2MCwxNDQwLDMwLDEyMCw0ODUwKSxcIjE0NDBwXzJcIjpCRCgyNTYwLDE0NDAsNjAsMTIwLDczNTApLFwiNGtcIjpCRCgzODQwLDIxNjAsMzAsMTIwLDg5MTApLFwiNGtfMVwiOkJEKDM4NDAsMjE2MCwzMCwxMjAsODkxMCksXCI0a18zXCI6QkQoMzg0MCwyMTYwLDYwLDEyMCwxMzUwMCl9LEhEPXtcIjQ4MHBcIjpqRCg2NDAsNDgwLDUpLFwiNDgwcF8xXCI6akQoNjQwLDQ4MCw1KSxcIjQ4MHBfMlwiOmpEKDY0MCw0ODAsMzApLFwiNDgwcF8zXCI6akQoNjQwLDQ4MCwxNSksXCI3MjBwXCI6akQoMTI4MCw3MjAsNSksXCI3MjBwX2F1dG9cIjpCRCgxMjgwLDcyMCwzMCw5MDAsM2UzKSxcIjcyMHBfMVwiOmpEKDEyODAsNzIwLDUpLFwiNzIwcF8yXCI6akQoMTI4MCw3MjAsMzApLFwiNzIwcF8zXCI6akQoMTI4MCw3MjAsMTUpLFwiMTA4MHBcIjpqRCgxOTIwLDEwODAsNSksXCIxMDgwcF8xXCI6akQoMTkyMCwxMDgwLDUpLFwiMTA4MHBfMlwiOmpEKDE5MjAsMTA4MCwzMCksXCIxMDgwcF8zXCI6akQoMTkyMCwxMDgwLDE1KX0sS0Q9e1wiMVNMMVRMXCI6R0QoMSwxKSxcIjNTTDNUTFwiOkdEKDMsMyksXCIyU0wzVExcIjpHRCgyLDMpfTtmdW5jdGlvbiBZRChlKXtyZXR1cm4gZXx8KGU9XCI0ODBwXzFcIiksXCJzdHJpbmdcIj09dHlwZW9mIGU/T2JqZWN0LmFzc2lnbih7fSxXRFtlXSk6ZX1mdW5jdGlvbiBxRChlKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZT9PYmplY3QuYXNzaWduKHt9LEhEW2VdKTplfWZ1bmN0aW9uIHpEKGUpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlP09iamVjdC5hc3NpZ24oe30sS0RbZV0pOmV9Y29uc3QgSkQ9e3NwZWVjaF9sb3dfcXVhbGl0eTpGRCgxNmUzLCExKSxzcGVlY2hfc3RhbmRhcmQ6RkQoMzJlMywhMSwxOCksbXVzaWNfc3RhbmRhcmQ6RkQoNDhlMywhMSksc3RhbmRhcmRfc3RlcmVvOkZEKDQ4ZTMsITAsNTYpLGhpZ2hfcXVhbGl0eTpGRCg0OGUzLCExLDEyOCksaGlnaF9xdWFsaXR5X3N0ZXJlbzpGRCg0OGUzLCEwLDE5Mil9O2Z1bmN0aW9uIFhEKGUpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlP09iamVjdC5hc3NpZ24oe30sSkRbZV0pOmV9Y29uc3QgUUQ9W107ZnVuY3Rpb24gWkQoZSl7cmV0dXJuIHN2KGUsXCJtZWRpYVNvdXJjZVwiLFtcInNjcmVlblwiLFwid2luZG93XCIsXCJhcHBsaWNhdGlvblwiXSksITB9bGV0ICREPWZ1bmN0aW9uKGUpe3JldHVybiBlLk5FRURfUkVORUdPVElBVEU9XCJAbmVlZF9yZW5lZ290aWF0ZVwiLGUuTkVFRF9SRVBMQUNFX1RSQUNLPVwiQG5lZWRfcmVwbGFjZV90cmFja1wiLGUuTkVFRF9SRVBMQUNFX01JWElOR19UUkFDSz1cIkBuZWVkX3JlcGxhY2VfbWl4aW5nX3RyYWNrXCIsZS5ORUVEX0NMT1NFPVwiQG5lZWRfY2xvc2VcIixlLk5FRURfRU5BQkxFX1RSQUNLPVwiQG5lZWRfZW5hYmxlX3RyYWNrXCIsZS5ORUVEX0RJU0FCTEVfVFJBQ0s9XCJAbmVlZF9kaXNhYmxlX3RyYWNrXCIsZS5ORUVEX1NFU1NJT05fSUQ9XCJAbmVlZF9zaWRcIixlLlNFVF9PUFRJTUlaQVRJT05fTU9ERT1cIkBzZXRfb3B0aW1pemF0aW9uX21vZGVcIixlLkdFVF9TVEFUUz1cIkBnZXRfc3RhdHNcIixlLkdFVF9SVENfU1RBVFM9XCJAZ2V0X3J0Y19zdGF0c1wiLGUuR0VUX0xPV19WSURFT19UUkFDSz1cIkBnZXRfbG93X3ZpZGVvX3RyYWNrXCIsZS5ORUVEX1JFU0VUX1JFTU9URV9TRFA9XCJAbmVlZF9yZXNldF9yZW1vdGVfc2RwXCIsZS5ORUVEX1VQREFURV9WSURFT19FTkNPREVSPVwiQG5lZWRfdXBkYXRlX3ZpZGVvX2VuY29kZXJcIixlLk5FRURfVVBEQVRFX1ZJREVPX1NFTkRfUEFSQU1FVEVSUz1cIkBuZWVkX3VwZGF0ZV92aWRlb19zZW5kX3BhcmFtZXRlcnNcIixlLk5FRURfTVVURV9UUkFDSz1cIkBuZWVkX211dGVfdHJhY2tcIixlLk5FRURfVU5NVVRFX1RSQUNLPVwiQG5lZWRfdW5tdXRlX3RyYWNrXCIsZX0oe30pLGVQPWZ1bmN0aW9uKGUpe3JldHVybiBlLlNDUkVFTl9UUkFDSz1cInNjcmVlbl90cmFja1wiLGUuQ1VTVE9NX1RSQUNLPVwiY3VzdG9tZV90cmFja1wiLGUuTE9XX1NUUkVBTT1cImxvd19zdHJlYW1cIixlfSh7fSk7bGV0IHRQPWZ1bmN0aW9uKGUpe3JldHVybiBlW2UuSElHSF9TVFJFQU09MF09XCJISUdIX1NUUkVBTVwiLGVbZS5MT1dfU1RSRUFNPTFdPVwiTE9XX1NUUkVBTVwiLGV9KHt9KSxpUD1mdW5jdGlvbihlKXtyZXR1cm4gZVtlLkhJR0hfU1RSRUFNPTBdPVwiSElHSF9TVFJFQU1cIixlW2UuTE9XX1NUUkVBTT0xXT1cIkxPV19TVFJFQU1cIixlfSh7fSksblA9ZnVuY3Rpb24oZSl7cmV0dXJuIGVbZS5ESVNBQkxFPTBdPVwiRElTQUJMRVwiLGVbZS5MT1dfU1RSRUFNPTFdPVwiTE9XX1NUUkVBTVwiLGVbZS5BVURJT19PTkxZPTJdPVwiQVVESU9fT05MWVwiLGV9KHt9KSxyUD1mdW5jdGlvbihlKXtyZXR1cm4gZS5UUkFOU0NFSVZFUl9VUERBVEVEPVwidHJhbnNjZWl2ZXItdXBkYXRlZFwiLGUuU0VJX1RPX1NFTkQ9XCJzZWktdG8tc2VuZFwiLGUuU0VJX1JFQ0VJVkVEPVwic2VpLXJlY2VpdmVkXCIsZS5UUkFDS19VUERBVEVEPVwidHJhY2stdXBkYXRlZFwiLGV9KHt9KSxvUD1mdW5jdGlvbihlKXtyZXR1cm4gZS5TT1VSQ0VfU1RBVEVfQ0hBTkdFPVwic291cmNlLXN0YXRlLWNoYW5nZVwiLGUuVFJBQ0tfRU5ERUQ9XCJ0cmFjay1lbmRlZFwiLGUuQkVBVVRZX0VGRkVDVF9PVkVSTE9BRD1cImJlYXV0eS1lZmZlY3Qtb3ZlcmxvYWRcIixlLlZJREVPX0VMRU1FTlRfVklTSUJMRV9TVEFUVVM9XCJ2aWRlby1lbGVtZW50LXZpc2libGUtc3RhdHVzXCIsZS5DTE9TRUQ9XCJjbG9zZWRcIixlfSh7fSksc1A9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuRklSU1RfRlJBTUVfREVDT0RFRD1cImZpcnN0LWZyYW1lLWRlY29kZWRcIixlLlZJREVPX0VMRU1FTlRfVklTSUJMRV9TVEFUVVM9XCJ2aWRlby1lbGVtZW50LXZpc2libGUtc3RhdHVzXCIsZS5WSURFT19TVEFURV9DSEFOR0VEPVwidmlkZW8tc3RhdGUtY2hhbmdlZFwiLGV9KHt9KSxhUD1mdW5jdGlvbihlKXtyZXR1cm4gZS5BVURJTz1cImF1ZGlvXCIsZS5WSURFTz1cInZpZGVvXCIsZS5EQVRBPVwiZGF0YVwiLGV9KHt9KSxjUD1mdW5jdGlvbihlKXtyZXR1cm4gZS5BVURJT19TT1VSQ0VfU1RBVEVfQ0hBTkdFPVwiYXVkaW9fc291cmNlX3N0YXRlX2NoYW5nZVwiLGUuUkVDRUlWRV9UUkFDS19CVUZGRVI9XCJyZWNlaXZlX3RyYWNrX2J1ZmZlclwiLGUuT05fQVVESU9fQlVGRkVSPVwib25fYXVkaW9fYnVmZmVyXCIsZS5VUERBVEVfU09VUkNFPVwidXBkYXRlX3NvdXJjZVwiLGV9KHt9KTshZnVuY3Rpb24oZSl7ZS5VUERBVEVfVFJBQ0tfU09VUkNFPVwidXBkYXRlLXRyYWNrLXNvdXJjZVwifSh7fSk7Y29uc3QgZFA9e3NlbmRWb2x1bWVMZXZlbDowLHNlbmRCaXRyYXRlOjAsc2VuZEJ5dGVzOjAsc2VuZFBhY2tldHM6MCxzZW5kUGFja2V0c0xvc3Q6MCxzZW5kSml0dGVyTXM6MCxzZW5kUnR0TXM6MCxjdXJyZW50UGFja2V0TG9zc1JhdGU6MH0sbFA9e3NlbmRCeXRlczowLHNlbmRCaXRyYXRlOjAsc2VuZFBhY2tldHM6MCxzZW5kUGFja2V0c0xvc3Q6MCxzZW5kSml0dGVyTXM6MCxzZW5kUnR0TXM6MCxzZW5kUmVzb2x1dGlvbkhlaWdodDowLHNlbmRSZXNvbHV0aW9uV2lkdGg6MCxjYXB0dXJlUmVzb2x1dGlvbkhlaWdodDowLGNhcHR1cmVSZXNvbHV0aW9uV2lkdGg6MCx0YXJnZXRTZW5kQml0cmF0ZTowLHRvdGFsRHVyYXRpb246MCx0b3RhbEZyZWV6ZVRpbWU6MCxjdXJyZW50UGFja2V0TG9zc1JhdGU6MH0sdVA9e3RyYW5zcG9ydERlbGF5OjAsZW5kMkVuZERlbGF5OjAscmVjZWl2ZUJpdHJhdGU6MCxyZWNlaXZlTGV2ZWw6MCxyZWNlaXZlQnl0ZXM6MCxyZWNlaXZlRGVsYXk6MCxyZWNlaXZlUGFja2V0czowLHJlY2VpdmVQYWNrZXRzTG9zdDowLHJlY2VpdmVQYWNrZXRzRGlzY2FyZGVkOjAsdG90YWxEdXJhdGlvbjowLHRvdGFsRnJlZXplVGltZTowLGZyZWV6ZVJhdGU6MCxwYWNrZXRMb3NzUmF0ZTowLGN1cnJlbnRQYWNrZXRMb3NzUmF0ZTowLHB1Ymxpc2hEdXJhdGlvbjotMX0saFA9e3VwbGlua05ldHdvcmtRdWFsaXR5OjAsZG93bmxpbmtOZXR3b3JrUXVhbGl0eTowfSxwUD17dHJhbnNwb3J0RGVsYXk6MCxlbmQyRW5kRGVsYXk6MCxyZWNlaXZlQml0cmF0ZTowLHJlY2VpdmVCeXRlczowLHJlY2VpdmVEZWxheTowLHJlY2VpdmVQYWNrZXRzOjAscmVjZWl2ZVBhY2tldHNMb3N0OjAscmVjZWl2ZVJlc29sdXRpb25IZWlnaHQ6MCxyZWNlaXZlUmVzb2x1dGlvbldpZHRoOjAsdG90YWxEdXJhdGlvbjowLHRvdGFsRnJlZXplVGltZTowLGZyZWV6ZVJhdGU6MCxwYWNrZXRMb3NzUmF0ZTowLGN1cnJlbnRQYWNrZXRMb3NzUmF0ZTowLHB1Ymxpc2hEdXJhdGlvbjotMX07bGV0IF9QPWZ1bmN0aW9uKGUpe3JldHVybiBlLk9OX1RSQUNLPVwib25fdHJhY2tcIixlLk9OX05PREU9XCJvbl9ub2RlXCIsZX0oe30pLEVQPWZ1bmN0aW9uKGUpe3JldHVybiBlLlJFUVVFU1RfVVBEQVRFX0NPTlNUUkFJTlRTPVwicmVxdWVzdF91cGRhdGVfY29uc3RyYWludHNcIixlLlJFUVVFU1RfQ09OU1RSQUlOVFM9XCJyZXF1ZXN0X2NvbnN0cmFpbnRzXCIsZX0oe30pLG1QPWZ1bmN0aW9uKGUpe3JldHVybiBlLklETEU9XCJJRExFXCIsZS5JTklUSU5HPVwiSU5JVElOR1wiLGUuSU5JVEVORD1cIklOSVRFTkRcIixlfSh7fSksZlA9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuU1RBVEVfQ0hBTkdFPVwic3RhdGVfY2hhbmdlXCIsZS5SRUNPUkRJTkdfREVWSUNFX0NIQU5HRUQ9XCJyZWNvcmRpbmdEZXZpY2VDaGFuZ2VkXCIsZS5QTEFZT1VUX0RFVklDRV9DSEFOR0VEPVwicGxheW91dERldmljZUNoYW5nZWRcIixlLkNBTUVSQV9ERVZJQ0VfQ0hBTkdFRD1cImNhbWVyYURldmljZUNoYW5nZWRcIixlfSh7fSksVFA9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuTk9ORT1cIm5vbmVcIixlLklOSVQ9XCJpbml0XCIsZS5DQU5QTEFZPVwiY2FucGxheVwiLGUuUExBWUlORz1cInBsYXlpbmdcIixlLlBBVVNFRD1cInBhdXNlZFwiLGUuU1VTUEVORD1cInN1c3BlbmRcIixlLlNUQUxMRUQ9XCJzdGFsbGVkXCIsZS5XQUlUSU5HPVwid2FpdGluZ1wiLGUuRVJST1I9XCJlcnJvclwiLGUuREVTVFJPWUVEPVwiZGVzdHJveWVkXCIsZS5BQk9SVD1cImFib3J0XCIsZS5FTkRFRD1cImVuZGVkXCIsZS5FTVBUSUVEPVwiZW1wdGllZFwiLGUuTE9BREVEREFUQT1cImxvYWRlZGRhdGFcIixlfSh7fSksU1A9ZnVuY3Rpb24oZSl7cmV0dXJuIGVbZS5WaWRlb1N0YXRlU3RvcHBlZD0wXT1cIlZpZGVvU3RhdGVTdG9wcGVkXCIsZVtlLlZpZGVvU3RhdGVTdGFydGluZz0xXT1cIlZpZGVvU3RhdGVTdGFydGluZ1wiLGVbZS5WaWRlb1N0YXRlRGVjb2Rpbmc9Ml09XCJWaWRlb1N0YXRlRGVjb2RpbmdcIixlW2UuVmlkZW9TdGF0ZUZyb3plbj0zXT1cIlZpZGVvU3RhdGVGcm96ZW5cIixlfSh7fSk7Y29uc3QgZ1A9e3VuaW5pdDoxMDAsbm9uZToxMTAsaW5pdDoxMjAsbG9hZGVkZGF0YToxMzAsY2FucGxheToyMDAscGxheWluZzoyMTAscGF1c2VkOjIyMCxzdXNwZW5kOjMwMCxzdGFsbGVkOjMxMCx3YWl0aW5nOjMyMCxlcnJvcjozMzAsZGVzdHJveWVkOjM0MCxhYm9ydDozNTAsZW5kZWQ6MzYwLGVtcHRpZWQ6MzcwfTtsZXQgUlA9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuT1BFTj1cIm9wZW5cIixlLk1FU1NBR0U9XCJtZXNzYWdlXCIsZS5DTE9TRT1cImNsb3NlXCIsZS5DTE9TSU5HPVwiY2xvc2luZ1wiLGUuRVJST1I9XCJlcnJvclwiLGV9KHt9KTtmdW5jdGlvbiBDUChlLHQsaSxuLHIpe3ZhciBvLHMsYT17fTtyZXR1cm4gT2JqZWN0LmtleXMobikuZm9yRWFjaCgoZnVuY3Rpb24oZSl7YVtlXT1uW2VdfSkpLGEuZW51bWVyYWJsZT0hIWEuZW51bWVyYWJsZSxhLmNvbmZpZ3VyYWJsZT0hIWEuY29uZmlndXJhYmxlLChcInZhbHVlXCJpbiBhfHxhLmluaXRpYWxpemVyKSYmKGEud3JpdGFibGU9ITApLGE9Sm4obz1HdyhzPWkuc2xpY2UoKSkuY2FsbChzKSkuY2FsbChvLChmdW5jdGlvbihpLG4pe3JldHVybiBuKGUsdCxpKXx8aX0pLGEpLHImJnZvaWQgMCE9PWEuaW5pdGlhbGl6ZXImJihhLnZhbHVlPWEuaW5pdGlhbGl6ZXI/YS5pbml0aWFsaXplci5jYWxsKHIpOnZvaWQgMCxhLmluaXRpYWxpemVyPXZvaWQgMCksdm9pZCAwPT09YS5pbml0aWFsaXplciYmKE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsYSksYT1udWxsKSxhfWZ1bmN0aW9uIElQKGUsdCxpKXtyZXR1cm4odD1mdW5jdGlvbihlKXt2YXIgdD1mdW5jdGlvbihlLHQpe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBlfHwhZSlyZXR1cm4gZTt2YXIgaT1lW1N5bWJvbC50b1ByaW1pdGl2ZV07aWYodm9pZCAwIT09aSl7dmFyIG49aS5jYWxsKGUsXCJzdHJpbmdcIik7aWYoXCJvYmplY3RcIiE9dHlwZW9mIG4pcmV0dXJuIG47dGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpfXJldHVybiBTdHJpbmcoZSl9KGUpO3JldHVyblwic3ltYm9sXCI9PXR5cGVvZiB0P3Q6dCtcIlwifSh0KSlpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOmksZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3RdPWksZX1mdW5jdGlvbiB2UChlLHQpe3ZhciBpPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKG49bi5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksaS5wdXNoLmFwcGx5KGksbil9cmV0dXJuIGl9ZnVuY3Rpb24geVAoZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIGk9bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/dlAoT2JqZWN0KGkpLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtJUChlLHQsaVt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhpKSk6dlAoT2JqZWN0KGkpKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaSx0KSl9KSl9cmV0dXJuIGV9Y2xhc3MgQVAgZXh0ZW5kcyBTdntzZXQgX21lZGlhU3RyZWFtVHJhY2soZSl7ZSE9PXRoaXMubWVkaWFTdHJlYW1UcmFjayYmKHRoaXMuc2FmZUVtaXQoclAuVFJBQ0tfVVBEQVRFRCxlKSx0aGlzLm1lZGlhU3RyZWFtVHJhY2s9ZSl9Z2V0IF9tZWRpYVN0cmVhbVRyYWNrKCl7cmV0dXJuIHRoaXMubWVkaWFTdHJlYW1UcmFja31jb25zdHJ1Y3RvcihlLHQpe3N1cGVyKCksSVAodGhpcyxcInRyYWNrTWVkaWFUeXBlXCIsdm9pZCAwKSxJUCh0aGlzLFwiX0lEXCIsdm9pZCAwKSxJUCh0aGlzLFwiX3J0cFRyYW5zY2VpdmVyXCIsdm9pZCAwKSxJUCh0aGlzLFwiX2xvd1J0cFRyYW5zY2VpdmVyXCIsdm9pZCAwKSxJUCh0aGlzLFwiX2hpbnRzXCIsW10pLElQKHRoaXMsXCJfaXNDbG9zZWRcIiwhMSksSVAodGhpcyxcIl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrXCIsdm9pZCAwKSxJUCh0aGlzLFwibWVkaWFTdHJlYW1UcmFja1wiLHZvaWQgMCksSVAodGhpcyxcIl9leHRlcm5hbFwiLHt9KSx0aGlzLl9JRD10fHxleSg4LFwidHJhY2stXCIpLHRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2s9ZSx0aGlzLm1lZGlhU3RyZWFtVHJhY2s9ZSxmdW5jdGlvbihlKXtEbihRRCkuY2FsbChRRCxlKXx8UUQucHVzaChlKX0odGhpcyl9dG9TdHJpbmcoKXtyZXR1cm4gdGhpcy5fSUR9Z2V0VHJhY2tJZCgpe3JldHVybiB0aGlzLl9JRH1nZXRNZWRpYVN0cmVhbVRyYWNrKGUpe3JldHVybiBlfHxLdigoKCk9Pnt2YXIgZTtzQS5yZXBvcnRBcGlJbnZva2UobnVsbCx7bmFtZTpDdi5HRVRfTUVESUFfU1RSRUFNX1RSQUNLLG9wdGlvbnM6W10sdGFnOkl2LlRSQUNFUn0pLm9uU3VjY2VzcygobnVsbD09PShlPXRoaXMuX21lZGlhU3RyZWFtVHJhY2spfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmxhYmVsKXx8XCJcIil9KSx0aGlzLm1lZGlhU3RyZWFtVHJhY2suaWR8fHRoaXMuZ2V0VHJhY2tJZCgpKSx0aGlzLl9tZWRpYVN0cmVhbVRyYWNrfWdldFJUQ1J0cFRyYW5zY2VpdmVyKGUpe3JldHVybiBlPT09dFAuTE9XX1NUUkVBTT90aGlzLl9sb3dSdHBUcmFuc2NlaXZlcjp0aGlzLl9ydHBUcmFuc2NlaXZlcn1nZXRNZWRpYVN0cmVhbVRyYWNrU2V0dGluZ3MoKXtyZXR1cm4gdGhpcy5nZXRNZWRpYVN0cmVhbVRyYWNrKCEwKS5nZXRTZXR0aW5ncygpfWNsb3NlKCl7dGhpcy5faXNDbG9zZWQ9ITAsdGhpcy5fbG93UnRwVHJhbnNjZWl2ZXI9dm9pZCAwLHRoaXMuX3J0cFRyYW5zY2VpdmVyPXZvaWQgMCxmdW5jdGlvbihlKXtjb25zdCB0PVFELmluZGV4T2YoZSk7LTEhPT10JiZRRC5zcGxpY2UodCwxKX0odGhpcyksdGhpcy5lbWl0KG9QLkNMT1NFRCksdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoclAuU0VJX1JFQ0VJVkVEKX1fdXBkYXRlUnRwVHJhbnNjZWl2ZXIoZSx0KXtpZih0PT09dFAuTE9XX1NUUkVBTSl7aWYodGhpcy5fbG93UnRwVHJhbnNjZWl2ZXI9PT1lKXJldHVybjt0aGlzLl9sb3dSdHBUcmFuc2NlaXZlcj1lfWVsc2V7aWYodGhpcy5fcnRwVHJhbnNjZWl2ZXI9PT1lKXJldHVybjt0aGlzLl9ydHBUcmFuc2NlaXZlcj1lfXRoaXMuZW1pdChyUC5UUkFOU0NFSVZFUl9VUERBVEVELGUsdCl9fWNsYXNzIGJQIGV4dGVuZHMgQVB7Z2V0IGlzRXh0ZXJuYWxUcmFjaygpe3JldHVybiB0aGlzLl9pc0V4dGVybmFsVHJhY2t9Z2V0IG11dGVkKCl7cmV0dXJuIHRoaXMuX211dGVkfWdldCBlbmFibGVkKCl7cmV0dXJuIHRoaXMuX2VuYWJsZWR9Z2V0IHByb2Nlc3NvckNvbnRleHQoKXtyZXR1cm4gdGhpcy5fcHJvY2Vzc29yQ29udGV4dH1jb25zdHJ1Y3RvcihlLHQpe3N1cGVyKGUsdCksSVAodGhpcyxcIl9lbmFibGVkXCIsITApLElQKHRoaXMsXCJfbXV0ZWRcIiwhMSksSVAodGhpcyxcIl9pc0V4dGVybmFsVHJhY2tcIiwhMSksSVAodGhpcyxcIl9pc0Nsb3NlZFwiLCExKSxJUCh0aGlzLFwiX2VuYWJsZWRNdXRleFwiLHZvaWQgMCksSVAodGhpcyxcInByb2Nlc3NvclwiLHZvaWQgMCksSVAodGhpcyxcIl9wcm9jZXNzb3JDb250ZXh0XCIsdm9pZCAwKSxJUCh0aGlzLFwiX2hhbmRsZVRyYWNrRW5kZWRcIiwoKCk9Pnt0aGlzLm9uVHJhY2tFbmRlZCgpfSkpLHRoaXMuX2VuYWJsZWRNdXRleD1uZXcgaHkoXCJcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCkpKSxlLmFkZEV2ZW50TGlzdGVuZXIoXCJlbmRlZFwiLHRoaXMuX2hhbmRsZVRyYWNrRW5kZWQpfWdldFRyYWNrTGFiZWwoKXt2YXIgZSx0O3JldHVybiBudWxsIT09KGU9bnVsbD09PSh0PXRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2spfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmxhYmVsKSYmdm9pZCAwIT09ZT9lOlwiXCJ9Y2xvc2UoKXt0aGlzLl9pc0Nsb3NlZHx8KHRoaXMuc3RvcCgpLHRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2suc3RvcCgpLHRoaXMuX21lZGlhU3RyZWFtVHJhY2shPT10aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrJiYodGhpcy5fbWVkaWFTdHJlYW1UcmFjay5zdG9wKCksdGhpcy5fbWVkaWFTdHJlYW1UcmFjaz1udWxsKSx0aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrPW51bGwsdGhpcy5fZW5hYmxlZE11dGV4PW51bGwsUXkuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBjbG9zZVwiKSksdGhpcy5lbWl0KCRELk5FRURfQ0xPU0UpLHN1cGVyLmNsb3NlKCkpfWFzeW5jIF91cGRhdGVPcmlnaW5NZWRpYVN0cmVhbVRyYWNrKGUsdCl7bGV0IGk9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0mJmFyZ3VtZW50c1syXTt0aGlzLl9pc0V4dGVybmFsVHJhY2s9aSxlIT09dGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjayYmKHRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2smJih0aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJlbmRlZFwiLHRoaXMuX2hhbmRsZVRyYWNrRW5kZWQpLHQmJnRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2suc3RvcCgpKSxlLmFkZEV2ZW50TGlzdGVuZXIoXCJlbmRlZFwiLHRoaXMuX2hhbmRsZVRyYWNrRW5kZWQpLHRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2s9ZSx0aGlzLl9tdXRlZCYmKHRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2suZW5hYmxlZD0hMSksdGhpcy5fbWVkaWFTdHJlYW1UcmFjaz10aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLHRoaXMuX3VwZGF0ZVBsYXllclNvdXJjZSgpLGF3YWl0IE12KHRoaXMsJEQuTkVFRF9SRVBMQUNFX1RSQUNLLHRoaXMpLHRoaXMucHJvY2Vzc29yJiZ0aGlzLl9wcm9jZXNzb3JDb250ZXh0JiZ0aGlzLnByb2Nlc3Nvci51cGRhdGVJbnB1dCh7dHJhY2s6dGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjayxjb250ZXh0OnRoaXMuX3Byb2Nlc3NvckNvbnRleHR9KSl9X2dldERlZmF1bHRQbGF5ZXJDb25maWcoKXtyZXR1cm57fX1vblRyYWNrRW5kZWQoKXtReS5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHRyYWNrIGVuZGVkXCIpKSx0aGlzLnNhZmVFbWl0KG9QLlRSQUNLX0VOREVEKX1zdGF0ZUNoZWNrKGUsdCl7aWYoUXkuZGVidWcoXCJjaGVjayB0cmFjayBzdGF0ZSwgW211dGVkOiBcIi5jb25jYXQodGhpcy5fbXV0ZWQsXCIsIGVuYWJsZWQ6IFwiKS5jb25jYXQodGhpcy5fZW5hYmxlZCxcIl0gdG8gW1wiKS5jb25jYXQoZSxcIjogXCIpLmNvbmNhdCh0LFwiXVwiKSksb3YodCxlKSx0aGlzLl9lbmFibGVkJiZ0aGlzLl9tdXRlZCYmXCJlbmFibGVkXCI9PT1lJiYhMT09PXQpdGhyb3cgbmV3IHJ2KG52LlRSQUNLX1NUQVRFX1VOUkVBQ0hBQkxFLFwiY2Fubm90IHNldCBlbmFibGVkIHdoaWxlIHRoZSB0cmFjayBpcyBtdXRlZFwiKS5wcmludChcImVycm9yXCIsUXkpO2lmKCF0aGlzLl9lbmFibGVkJiYhdGhpcy5fbXV0ZWQmJlwibXV0ZWRcIj09PWUmJiEwPT09dCl0aHJvdyBuZXcgcnYobnYuVFJBQ0tfU1RBVEVfVU5SRUFDSEFCTEUsXCJjYW5ub3Qgc2V0IG11dGVkIHdoaWxlIHRoZSB0cmFjayBpcyBkaXNhYmxlZFwiKS5wcmludChcImVycm9yXCIsUXkpfWdldFByb2Nlc3NvclN0YXRzKCl7cmV0dXJuIHRoaXMuX3Byb2Nlc3NvckNvbnRleHQmJnRoaXMuX3Byb2Nlc3NvckNvbnRleHQuZ2F0aGVyU3RhdHMoKXx8W119Z2V0UHJvY2Vzc29yVXNhZ2UoKXtyZXR1cm4gdGhpcy5fcHJvY2Vzc29yQ29udGV4dD90aGlzLl9wcm9jZXNzb3JDb250ZXh0LmdhdGhlclVzYWdlKCk6R2gucmVzb2x2ZShbXSl9fWNvbnN0IHdQPXdpbmRvdy5BdWRpb0NvbnRleHR8fHdpbmRvdy53ZWJraXRBdWRpb0NvbnRleHQ7bGV0IE9QPW51bGw7Y29uc3QgTlA9bmV3IGNsYXNzIGV4dGVuZHMgU3Z7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLElQKHRoaXMsXCJwcmV2U3RhdGVcIix2b2lkIDApLElQKHRoaXMsXCJjdXJTdGF0ZVwiLHZvaWQgMCksSVAodGhpcyxcImN1cnJlbnRUaW1lXCIsdm9pZCAwKSxJUCh0aGlzLFwiY3VycmVudFRpbWVTdHVja0F0XCIsdm9pZCAwKSxJUCh0aGlzLFwiaW50ZXJydXB0RGV0ZWN0b3JUcmFja1wiLHZvaWQgMCksSVAodGhpcyxcIm9uTG9jYWxBdWRpb1RyYWNrTXV0ZVwiLCgoKT0+e1F5LmluZm8oXCJpb3MxNS1pbnRlcnJ1cHRpb24tc3RhcnRcIiksdGhpcy5lbWl0KFZELklPU18xNV8xNl9JTlRFUlJVUFRJT05fU1RBUlQpfSkpLElQKHRoaXMsXCJvbkxvY2FsQXVkaW9UcmFja1VubXV0ZVwiLChhc3luYygpPT57UXkuaW5mbyhcImlvczE1LWludGVycnVwdGlvbi1lbmRcIiksXCJydW5uaW5nXCIhPT10aGlzLmN1clN0YXRlfHx0aGlzLmR1cmluZ0ludGVycnVwdGlvbj9ReS5pbmZvKFwiaW9zMTUtaW50ZXJydXB0aW9uLWVuZC1jYW5jZWxlZFwiKTooT1AmJmF3YWl0IE9QLnN1c3BlbmQoKSx0aGlzLmVtaXQoVkQuSU9TXzE1XzE2X0lOVEVSUlVQVElPTl9FTkQpKX0pKX1nZXQgZHVyaW5nSW50ZXJydXB0aW9uKCl7cmV0dXJuXCJydW5uaW5nXCI9PT10aGlzLnByZXZTdGF0ZSYmXCJpbnRlcnJ1cHRlZFwiPT09dGhpcy5jdXJTdGF0ZX1iaW5kSW50ZXJydXB0RGV0ZWN0b3JUcmFjayhlKXtReS5kZWJ1ZyhcIndlYmF1ZGlvIGJpbmRJbnRlcnJ1cHREZXRlY3RvclRyYWNrIFwiLmNvbmNhdChlLmdldFRyYWNrSWQoKSkpLHRoaXMuaW50ZXJydXB0RGV0ZWN0b3JUcmFja3x8KHRoaXMuaW50ZXJydXB0RGV0ZWN0b3JUcmFjaz1lLHRoaXMuaW50ZXJydXB0RGV0ZWN0b3JUcmFjay5fbWVkaWFTdHJlYW1UcmFjay5vbm11dGU9dGhpcy5vbkxvY2FsQXVkaW9UcmFja011dGUsdGhpcy5pbnRlcnJ1cHREZXRlY3RvclRyYWNrLl9tZWRpYVN0cmVhbVRyYWNrLm9udW5tdXRlPXRoaXMub25Mb2NhbEF1ZGlvVHJhY2tVbm11dGUpfXVuYmluZEludGVycnVwdERldGVjdG9yVHJhY2soZSl7UXkuZGVidWcoXCJ3ZWJhdWRpbyB1bmJpbmRJbnRlcnJ1cHREZXRlY3RvclRyYWNrIFwiLmNvbmNhdChlLmdldFRyYWNrSWQoKSkpLHRoaXMuaW50ZXJydXB0RGV0ZWN0b3JUcmFjayYmdGhpcy5pbnRlcnJ1cHREZXRlY3RvclRyYWNrPT09ZSYmKHRoaXMuaW50ZXJydXB0RGV0ZWN0b3JUcmFjay5fbWVkaWFTdHJlYW1UcmFjayYmKHRoaXMuaW50ZXJydXB0RGV0ZWN0b3JUcmFjay5fbWVkaWFTdHJlYW1UcmFjay5vbm11dGU9bnVsbCx0aGlzLmludGVycnVwdERldGVjdG9yVHJhY2suX21lZGlhU3RyZWFtVHJhY2sub251bm11dGU9bnVsbCksdGhpcy5pbnRlcnJ1cHREZXRlY3RvclRyYWNrPXZvaWQgMCl9fTtmdW5jdGlvbiBEUCgpe2lmKCFPUCl7aWYoZnVuY3Rpb24oKXtpZighd1ApcmV0dXJuIHZvaWQgUXkuZXJyb3IoXCJ5b3VyIGJyb3dzZXIgaXMgbm90IHN1cHBvcnQgd2ViIGF1ZGlvXCIpO1F5LmluZm8oXCJjcmVhdGUgYXVkaW8gY29udGV4dFwiKTtjb25zdCBlPXlQKHt9LER5KFwiV0VCQVVESU9fSU5JVF9PUFRJT05TXCIpKTtReS5kZWJ1ZyhcImF1ZGlvIGNvbnRleHQgaW5pdCBvcHRpb246XCIsSlNPTi5zdHJpbmdpZnkoZSkpLE9QPW5ldyB3UChlKSxOUC5jdXJTdGF0ZT1PUC5zdGF0ZSxPUC5vbnN0YXRlY2hhbmdlPSgpPT57TlAucHJldlN0YXRlPU5QLmN1clN0YXRlLE5QLmN1clN0YXRlPU9QP09QLnN0YXRlOnZvaWQgMDtjb25zdHtwcmV2U3RhdGU6ZSxjdXJTdGF0ZTp0fT1OUCxpPVwicnVubmluZ1wiPT09dCxuPVwiaW50ZXJydXB0ZWRcIj09PXQscj1cInJ1bm5pbmdcIj09PWUsbz1cInN1c3BlbmRlZFwiPT09ZSxzPVwiaW50ZXJydXB0ZWRcIj09PWUsYT1BSSgpLm9zVmVyc2lvbjsoTUkoKXx8cUkoKSkmJnImJm4mJihReS5pbmZvKFwiaW9zXCIuY29uY2F0KGEsXCItaW50ZXJydXB0aW9uLXN0YXJ0XCIpKSxOUC5lbWl0KFZELklPU19JTlRFUlJVUFRJT05fU1RBUlQpKSwoTUkoKXx8cUkoKSkmJihvfHxzKSYmaSYmKFF5LmluZm8oXCJpb3NcIi5jb25jYXQoYSxcIi1pbnRlcnJ1cHRpb24tZW5kXCIpKSxOUC5lbWl0KFZELklPU19JTlRFUlJVUFRJT05fRU5EKSksZSE9PXQmJk5QLmVtaXQoVkQuU1RBVEVfQ0hBTkdFLHQsZSl9LHNldEludGVydmFsKCgoKT0+e3ZhciBlO2NvbnN0IHQ9bnVsbD09PShlPU9QKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5jdXJyZW50VGltZTtOUC5jdXJyZW50VGltZSE9PXQ/KE5QLmN1cnJlbnRUaW1lU3R1Y2tBdCYmKFF5LmRlYnVnKFwiQXVkaW9Db250ZXh0IGN1cnJlbnQgdGltZSByZXN1bWUgYXQgXCIuY29uY2F0KHQpKSxOUC5jdXJyZW50VGltZVN0dWNrQXQ9dm9pZCAwKSxOUC5jdXJyZW50VGltZT10KToodCE9PU5QLmN1cnJlbnRUaW1lU3R1Y2tBdCYmKHNBLnJlcG9ydEFwaUludm9rZShudWxsLHtuYW1lOlwiV0VCX0FVRElPX0NVUlJFTlRfVElNRV9TVFVDS1wiLG9wdGlvbnM6e2N1cnJlbnRUaW1lOnR9LHRhZzpJdi5UUkFDRVJ9KS5vblN1Y2Nlc3MoKSxReS53YXJuaW5nKFwiQXVkaW9Db250ZXh0IGN1cnJlbnQgdGltZSBzdHVjayBhdCBcIi5jb25jYXQodCkpKSxOUC5jdXJyZW50VGltZVN0dWNrQXQ9dCl9KSw1ZTMpLGFzeW5jIGZ1bmN0aW9uKGUpe2NvbnN0IHQ9W1wiY2xpY2tcIixcImNvbnRleHRtZW51XCIsXCJhdXhjbGlja1wiLFwiZGJsY2xpY2tcIixcIm1vdXNlZG93blwiLFwibW91c2V1cFwiLFwidG91Y2hlbmRcIixcImtleWRvd25cIixcImtleXVwXCJdO2xldCBpLG49ITEscj0hMSxvPSExO2Z1bmN0aW9uIHModCl7XCJydW5uaW5nXCI9PT1lLnN0YXRlP2EoITEpOk1JKCl8fHFJKCk/XCJzdXNwZW5kZWRcIj09PWUuc3RhdGUmJihhKCEwKSx0JiZlLnJlc3VtZSgpLnRoZW4oYyxjKSk6XCJjbG9zZWRcIiE9PWUuc3RhdGUmJihhKCEwKSx0JiZlLnJlc3VtZSgpLnRoZW4oYyxjKSl9ZnVuY3Rpb24gYShlKXtpZihuIT09ZSl7bj1lO2ZvcihsZXQgaT0wLG49dDtpPG4ubGVuZ3RoO2krPTEpe2NvbnN0IHQ9bltpXTtlP3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKHQsZCx7Y2FwdHVyZTohMCxwYXNzaXZlOiEwfSk6d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIodCxkLHtjYXB0dXJlOiEwLHBhc3NpdmU6ITB9KX19fWZ1bmN0aW9uIGMoKXtzKCExKX1mdW5jdGlvbiBkKCl7cyghMCl9ZnVuY3Rpb24gbChlKXtpZighbylpZihpLnBhdXNlZClpZihlKXtsZXQgdDt1KCExKSxvPSEwO3RyeXt0PWkucGxheSgpLHQ/dC50aGVuKGgsaCk6KGkuYWRkRXZlbnRMaXN0ZW5lcihcInBsYXlpbmdcIixoKSxpLmFkZEV2ZW50TGlzdGVuZXIoXCJhYm9ydFwiLGgpLGkuYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsaCkpfWNhdGNoKGUpe2goKX19ZWxzZSB1KCEwKTtlbHNlIHUoITEpfWZ1bmN0aW9uIHUoZSl7aWYociE9PWUpe3I9ZTtmb3IobGV0IGk9MCxuPXQ7aTxuLmxlbmd0aDtpKyspe2NvbnN0IHQ9bltpXTtlP3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKHQscCx7Y2FwdHVyZTohMCxwYXNzaXZlOiEwfSk6d2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIodCxwLHtjYXB0dXJlOiEwLHBhc3NpdmU6ITB9KX19fWZ1bmN0aW9uIGgoKXtpLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJwbGF5aW5nXCIsaCksaS5yZW1vdmVFdmVudExpc3RlbmVyKFwiYWJvcnRcIixoKSxpLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLGgpLG89ITEsbCghMSl9ZnVuY3Rpb24gcCgpe2woITApfWlmKE1JKCkpe2NvbnN0IHQ9ZS5jcmVhdGVNZWRpYVN0cmVhbURlc3RpbmF0aW9uKCksbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO24uaW5uZXJIVE1MPVwiPGF1ZGlvIHgtd2Via2l0LWFpcnBsYXk9J2RlbnknPjwvYXVkaW8+XCIsaT1uLmNoaWxkcmVuLml0ZW0oMCksaS5jb250cm9scz0hMSxpLmRpc2FibGVSZW1vdGVQbGF5YmFjaz0hMCxpLnByZWxvYWQ9XCJhdXRvXCIsaS5zcmNPYmplY3Q9dC5zdHJlYW0sbCghMCl9TlAub24oVkQuU1RBVEVfQ0hBTkdFLChmdW5jdGlvbigpe3MoITApfSkpLHMoITEpfShPUCl9KCksIU9QKXRocm93IG5ldyBydihudi5OT1RfU1VQUE9SVEVELFwiY2FuIG5vdCBjcmVhdGUgYXVkaW8gY29udGV4dFwiKTtyZXR1cm4gT1B9cmV0dXJuIE9QfWZ1bmN0aW9uIFBQKGUpe2lmKGZ1bmN0aW9uKCl7aWYobnVsbCE9PUxQKXJldHVybiBMUDtjb25zdCBlPURQKCksdD1lLmNyZWF0ZUJ1ZmZlclNvdXJjZSgpLGk9ZS5jcmVhdGVHYWluKCksbj1lLmNyZWF0ZUdhaW4oKTt0LmNvbm5lY3QoaSksdC5jb25uZWN0KG4pLHQuZGlzY29ubmVjdChpKTtsZXQgcj0hMTt0cnl7dC5kaXNjb25uZWN0KGkpfWNhdGNoKGUpe3I9ITB9cmV0dXJuIHQuZGlzY29ubmVjdCgpLExQPXIscn0oKSlyZXR1cm47Y29uc3QgdD1lLmNvbm5lY3QsaT1lLmRpc2Nvbm5lY3Q7ZS5jb25uZWN0PShpLG4scik9Pnt2YXIgbztyZXR1cm4gZS5faW5wdXROb2Rlc3x8KGUuX2lucHV0Tm9kZXM9W10pLERuKG89ZS5faW5wdXROb2RlcykuY2FsbChvLGkpfHwoaSBpbnN0YW5jZW9mIEF1ZGlvTm9kZT8oZS5faW5wdXROb2Rlcy5wdXNoKGkpLHQuY2FsbChlLGksbixyKSk6dC5jYWxsKGUsaSxuKSksZX0sZS5kaXNjb25uZWN0PShuLHIsbyk9PntpLmNhbGwoZSksbj9GdihlLl9pbnB1dE5vZGVzLG4pOmUuX2lucHV0Tm9kZXM9W107Zm9yKGNvbnN0IGkgb2YgZS5faW5wdXROb2Rlcyl0LmNhbGwoZSxpKX19bGV0IExQPW51bGw7ZnVuY3Rpb24ga1AoZSx0KXtsZXQgaT0hMTtjb25zdCBuPTEvdDtpZihEeShcIkRJU0FCTEVfV0VCQVVESU9cIikpe2NvbnN0IHQ9d2luZG93LnNldEludGVydmFsKCgoKT0+e2k/d2luZG93LmNsZWFySW50ZXJ2YWwodCk6ZShwZXJmb3JtYW5jZS5ub3coKS8xZTMpfSksMWUzKm4pfWVsc2V7Y29uc3QgdD1EUCgpO2xldCByPXQuY3JlYXRlR2FpbigpO3IuZ2Fpbi52YWx1ZT0wLHIuY29ubmVjdCh0LmRlc3RpbmF0aW9uKTtjb25zdCBvPSgpPT57aWYoaSlyZXR1cm4gdm9pZChyPW51bGwpO2NvbnN0IHM9dC5jcmVhdGVPc2NpbGxhdG9yKCk7cy5vbmVuZGVkPW8scy5jb25uZWN0KHIpLHMuc3RhcnQoMCkscy5zdG9wKHQuY3VycmVudFRpbWUrbiksZSh0LmN1cnJlbnRUaW1lKX07bygpfXJldHVybigpPT57aT0hMH19Y2xhc3MgTVB7Y29uc3RydWN0b3IoKXtJUCh0aGlzLFwiY29udGV4dFwiLHZvaWQgMCksSVAodGhpcyxcImFuYWx5c2VyTm9kZVwiLHZvaWQgMCksSVAodGhpcyxcInNvdXJjZU5vZGVcIix2b2lkIDApLHRoaXMuY29udGV4dD1EUCgpLHRoaXMuYW5hbHlzZXJOb2RlPXRoaXMuY29udGV4dC5jcmVhdGVBbmFseXNlcigpLHRoaXMuYW5hbHlzZXJOb2RlLmZmdFNpemU9MjA0OCx0aGlzLmFuYWx5c2VyTm9kZS5zbW9vdGhpbmdUaW1lQ29uc3RhbnQ9LjR9dXBkYXRlU291cmNlKGUpe2lmKGUhPT10aGlzLnNvdXJjZU5vZGUpe2lmKHRoaXMuc291cmNlTm9kZSl0cnl7dGhpcy5zb3VyY2VOb2RlLmRpc2Nvbm5lY3QodGhpcy5hbmFseXNlck5vZGUpfWNhdGNoKGUpe310aGlzLnNvdXJjZU5vZGU9ZSxudWxsPT1lfHxlLmNvbm5lY3QodGhpcy5hbmFseXNlck5vZGUpfX1nZXRWb2x1bWVMZXZlbCgpe2lmKCF0aGlzLnNvdXJjZU5vZGUpcmV0dXJuIDA7aWYoIXRoaXMuY29udGV4dHx8TUkoKXx8cUkoKXx8XCJydW5uaW5nXCIhPT10aGlzLmNvbnRleHQuc3RhdGUmJnRoaXMuY29udGV4dC5yZXN1bWUoKSwhdGhpcy5hbmFseXNlck5vZGUpcmV0dXJuIDA7Y29uc3QgZT1uZXcgRmxvYXQzMkFycmF5KHRoaXMuYW5hbHlzZXJOb2RlLmZmdFNpemUpO2lmKHRoaXMuYW5hbHlzZXJOb2RlLmdldEZsb2F0VGltZURvbWFpbkRhdGEpdGhpcy5hbmFseXNlck5vZGUuZ2V0RmxvYXRUaW1lRG9tYWluRGF0YShlKTtlbHNle2NvbnN0IHQ9bmV3IFVpbnQ4QXJyYXkodGhpcy5hbmFseXNlck5vZGUuZmZ0U2l6ZSk7dGhpcy5hbmFseXNlck5vZGUuZ2V0Qnl0ZVRpbWVEb21haW5EYXRhKHQpO2ZvcihsZXQgaT0wO2k8ZS5sZW5ndGg7KytpKWVbaV09dFtpXS8xMjgtMX1jb25zdCB0PUpuKGUpLmNhbGwoZSwoKGUsdCk9PmUrdCp0KSwwKS9lLmxlbmd0aDtyZXR1cm4gTWF0aC5tYXgoMTAqTWF0aC5sb2cxMCh0KSsxMDAsMCkvMTAwfWdldEFuYWx5c2VyTm9kZSgpe3JldHVybiB0aGlzLmFuYWx5c2VyTm9kZX1yZWJ1aWxkQW5hbHlzZXIoKXt0cnl7dmFyIGUsdDtudWxsPT09KGU9dGhpcy5zb3VyY2VOb2RlKXx8dm9pZCAwPT09ZXx8ZS5kaXNjb25uZWN0KHRoaXMuYW5hbHlzZXJOb2RlKSx0aGlzLmFuYWx5c2VyTm9kZT10aGlzLmNvbnRleHQuY3JlYXRlQW5hbHlzZXIoKSx0aGlzLmFuYWx5c2VyTm9kZS5mZnRTaXplPTIwNDgsdGhpcy5hbmFseXNlck5vZGUuc21vb3RoaW5nVGltZUNvbnN0YW50PS40LG51bGw9PT0odD10aGlzLnNvdXJjZU5vZGUpfHx2b2lkIDA9PT10fHx0LmNvbm5lY3QodGhpcy5hbmFseXNlck5vZGUpfWNhdGNoKGUpe1F5Lndhcm5pbmcoXCJyZWJ1aWxkIGFuYWx5c2VyIG5vZGUgZmFpbGVkLlwiKX19ZGVzdHJveSgpe3RoaXMudXBkYXRlU291cmNlKHZvaWQgMCl9fWNsYXNzIFVQIGV4dGVuZHMgU3Z7Z2V0IHByb2Nlc3NTb3VyY2VOb2RlKCl7cmV0dXJuIHRoaXMuc291cmNlTm9kZX1zZXQgcHJvY2Vzc2VkTm9kZShlKXt2YXIgdDtpZighdGhpcy5pc0Rlc3Ryb3llZCYmdGhpcy5fcHJvY2Vzc2VkTm9kZSE9PWUpe3RyeXt2YXIgaTtudWxsPT09KGk9dGhpcy5zb3VyY2VOb2RlKXx8dm9pZCAwPT09aXx8aS5kaXNjb25uZWN0KHRoaXMub3V0cHV0Tm9kZSl9Y2F0Y2goZSl7fW51bGw9PT0odD10aGlzLl9wcm9jZXNzZWROb2RlKXx8dm9pZCAwPT09dHx8dC5kaXNjb25uZWN0KCksdGhpcy5fcHJvY2Vzc2VkTm9kZT1lLHRoaXMuY29ubmVjdCgpfX1nZXQgcHJvY2Vzc2VkTm9kZSgpe3JldHVybiB0aGlzLl9wcm9jZXNzZWROb2RlfWNvbnN0cnVjdG9yKCl7c3VwZXIoKSxJUCh0aGlzLFwib3V0cHV0Tm9kZVwiLHZvaWQgMCksSVAodGhpcyxcIm91dHB1dFRyYWNrXCIsdm9pZCAwKSxJUCh0aGlzLFwiaXNQbGF5ZWRcIiwhMSksSVAodGhpcyxcInNvdXJjZU5vZGVcIix2b2lkIDApLElQKHRoaXMsXCJjb250ZXh0XCIsdm9pZCAwKSxJUCh0aGlzLFwiYXVkaW9CdWZmZXJOb2RlXCIsdm9pZCAwKSxJUCh0aGlzLFwiZGVzdE5vZGVcIix2b2lkIDApLElQKHRoaXMsXCJhdWRpb091dHB1dExldmVsXCIsMCksSVAodGhpcyxcInZvbHVtZUxldmVsQW5hbHlzZXJcIix2b2lkIDApLElQKHRoaXMsXCJfcHJvY2Vzc2VkTm9kZVwiLHZvaWQgMCksSVAodGhpcyxcInBsYXlOb2RlXCIsdm9pZCAwKSxJUCh0aGlzLFwiaXNEZXN0cm95ZWRcIiwhMSksSVAodGhpcyxcIm9uTm9BdWRpb0lucHV0XCIsdm9pZCAwKSxJUCh0aGlzLFwiaXNOb0F1ZGlvSW5wdXRcIiwhMSksSVAodGhpcyxcIl9ub0F1ZGlvSW5wdXRDb3VudFwiLDApLHRoaXMuY29udGV4dD1EUCgpLHRoaXMucGxheU5vZGU9dGhpcy5jb250ZXh0LmRlc3RpbmF0aW9uLHRoaXMub3V0cHV0Tm9kZT10aGlzLmNvbnRleHQuY3JlYXRlR2FpbigpLFBQKHRoaXMub3V0cHV0Tm9kZSksdGhpcy52b2x1bWVMZXZlbEFuYWx5c2VyPW5ldyBNUH1zdGFydEdldEF1ZGlvQnVmZmVyKGUpe3RoaXMuYXVkaW9CdWZmZXJOb2RlfHwodGhpcy5hdWRpb0J1ZmZlck5vZGU9dGhpcy5jb250ZXh0LmNyZWF0ZVNjcmlwdFByb2Nlc3NvcihlKSx0aGlzLm91dHB1dE5vZGUuY29ubmVjdCh0aGlzLmF1ZGlvQnVmZmVyTm9kZSksdGhpcy5hdWRpb0J1ZmZlck5vZGUuY29ubmVjdCh0aGlzLmNvbnRleHQuZGVzdGluYXRpb24pLHRoaXMuYXVkaW9CdWZmZXJOb2RlLm9uYXVkaW9wcm9jZXNzPWU9Pnt0aGlzLmVtaXQoY1AuT05fQVVESU9fQlVGRkVSLGZ1bmN0aW9uKGUpe2ZvcihsZXQgdD0wO3Q8ZS5vdXRwdXRCdWZmZXIubnVtYmVyT2ZDaGFubmVsczt0Kz0xKXtjb25zdCBpPWUub3V0cHV0QnVmZmVyLmdldENoYW5uZWxEYXRhKHQpO2ZvcihsZXQgZT0wO2U8aS5sZW5ndGg7ZSs9MSlpW2VdPTB9cmV0dXJuIGUuaW5wdXRCdWZmZXJ9KGUpKX0pfXN0b3BHZXRBdWRpb0J1ZmZlcigpe3RoaXMuYXVkaW9CdWZmZXJOb2RlJiYodGhpcy5hdWRpb0J1ZmZlck5vZGUub25hdWRpb3Byb2Nlc3M9bnVsbCx0aGlzLm91dHB1dE5vZGUuZGlzY29ubmVjdCh0aGlzLmF1ZGlvQnVmZmVyTm9kZSksdGhpcy5hdWRpb0J1ZmZlck5vZGU9dm9pZCAwKX1jcmVhdGVPdXRwdXRUcmFjaygpe2lmKCFNRCgpLndlYkF1ZGlvTWVkaWFTdHJlYW1EZXN0KXRocm93IG5ldyBydihudi5OT1RfU1VQUE9SVEVELFwieW91ciBicm93c2VyIGlzIG5vdCBzdXBwb3J0IGF1ZGlvIHByb2Nlc3NvclwiKTtyZXR1cm4gdGhpcy5kZXN0Tm9kZSYmdGhpcy5vdXRwdXRUcmFja3x8KHRoaXMuZGVzdE5vZGU9dGhpcy5jb250ZXh0LmNyZWF0ZU1lZGlhU3RyZWFtRGVzdGluYXRpb24oKSx0aGlzLm91dHB1dE5vZGUuY29ubmVjdCh0aGlzLmRlc3ROb2RlKSx0aGlzLm91dHB1dFRyYWNrPXRoaXMuZGVzdE5vZGUuc3RyZWFtLmdldEF1ZGlvVHJhY2tzKClbMF0pLHRoaXMub3V0cHV0VHJhY2t9cGxheShlKXtcInJ1bm5pbmdcIiE9PXRoaXMuY29udGV4dC5zdGF0ZSYmanYoKCgpPT57TlAuZW1pdChcImF1dG9wbGF5LWZhaWxlZFwiKX0pKSx0aGlzLmlzUGxheWVkPSEwLHRoaXMucGxheU5vZGU9ZXx8dGhpcy5jb250ZXh0LmRlc3RpbmF0aW9uLHRoaXMub3V0cHV0Tm9kZS5jb25uZWN0KHRoaXMucGxheU5vZGUpfXN0b3AoKXtpZih0aGlzLmlzUGxheWVkKXRyeXt0aGlzLm91dHB1dE5vZGUuZGlzY29ubmVjdCh0aGlzLnBsYXlOb2RlKX1jYXRjaChlKXt9dGhpcy5pc1BsYXllZD0hMX1nZXRBY2N1cmF0ZVZvbHVtZUxldmVsKCl7cmV0dXJuIHRoaXMudm9sdW1lTGV2ZWxBbmFseXNlci5nZXRWb2x1bWVMZXZlbCgpfWFzeW5jIGNoZWNrSGFzQXVkaW9JbnB1dCgpe2xldCBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTowO2lmKGU+NSlyZXR1cm4gdGhpcy5pc05vQXVkaW9JbnB1dD0hMCx0aGlzLm9uTm9BdWRpb0lucHV0JiZ0aGlzLm9uTm9BdWRpb0lucHV0KCksITE7TUkoKXx8cUkoKT9cInN1c3BlbmRlZFwiPT09dGhpcy5jb250ZXh0LnN0YXRlJiZ0aGlzLmNvbnRleHQucmVzdW1lKCk6XCJydW5uaW5nXCIhPT10aGlzLmNvbnRleHQuc3RhdGUmJnRoaXMuY29udGV4dC5yZXN1bWUoKTtjb25zdCB0PXRoaXMudm9sdW1lTGV2ZWxBbmFseXNlci5nZXRBbmFseXNlck5vZGUoKTtsZXQgaTt0LmdldEZsb2F0VGltZURvbWFpbkRhdGE/KGk9bmV3IEZsb2F0MzJBcnJheSh0LmZmdFNpemUpLHQuZ2V0RmxvYXRUaW1lRG9tYWluRGF0YShpKSk6KGk9bmV3IFVpbnQ4QXJyYXkodC5mZnRTaXplKSx0LmdldEJ5dGVUaW1lRG9tYWluRGF0YShpKSk7bGV0IG49ITE7Zm9yKGxldCBlPTA7ZTxpLmxlbmd0aDtlKyspMCE9PWlbZV0mJihuPSEwKTtyZXR1cm4gbj8odGhpcy5pc05vQXVkaW9JbnB1dD0hMSwhMCk6KGF3YWl0ICR2KDIwMCksYXdhaXQgdGhpcy5jaGVja0hhc0F1ZGlvSW5wdXQoZT9lKzE6MSkmJm4pfWdldEF1ZGlvVm9sdW1lKCl7cmV0dXJuIHRoaXMub3V0cHV0Tm9kZS5nYWluLnZhbHVlfXNldFZvbHVtZShlKXt0aGlzLm91dHB1dE5vZGUuZ2Fpbi5zZXRWYWx1ZUF0VGltZShlLHRoaXMuY29udGV4dC5jdXJyZW50VGltZSl9ZGVzdHJveSgpe3RoaXMuZGlzY29ubmVjdCgpLHRoaXMuc3RvcCgpLHRoaXMuaXNEZXN0cm95ZWQ9ITAsdGhpcy5vbk5vQXVkaW9JbnB1dD12b2lkIDB9ZGlzY29ubmVjdCgpe3ZhciBlLHQ7bnVsbD09PShlPXRoaXMucHJvY2Vzc2VkTm9kZSl8fHZvaWQgMD09PWV8fGUuZGlzY29ubmVjdCgpLG51bGw9PT0odD10aGlzLnNvdXJjZU5vZGUpfHx2b2lkIDA9PT10fHx0LmRpc2Nvbm5lY3QoKSx0aGlzLm91dHB1dE5vZGUmJnRoaXMub3V0cHV0Tm9kZS5kaXNjb25uZWN0KCl9Y29ubmVjdCgpe3ZhciBlO3RoaXMucHJvY2Vzc2VkTm9kZT9udWxsPT09KGU9dGhpcy5wcm9jZXNzZWROb2RlKXx8dm9pZCAwPT09ZXx8ZS5jb25uZWN0KHRoaXMub3V0cHV0Tm9kZSk6dGhpcy5zb3VyY2VOb2RlJiZ0aGlzLnNvdXJjZU5vZGUuY29ubmVjdCh0aGlzLm91dHB1dE5vZGUpLHRoaXMudm9sdW1lTGV2ZWxBbmFseXNlci51cGRhdGVTb3VyY2UodGhpcy5vdXRwdXROb2RlKX19Y2xhc3MgeFAgZXh0ZW5kcyBVUHtnZXQgaXNGcmVlemUoKXtyZXR1cm4hMX1jb25zdHJ1Y3RvcihlLHQsaSl7dmFyIG47aWYoc3VwZXIoKSxJUCh0aGlzLFwic291cmNlTm9kZVwiLHZvaWQgMCksSVAodGhpcyxcInRyYWNrXCIsdm9pZCAwKSxJUCh0aGlzLFwiY2xvbmVkVHJhY2tcIix2b2lkIDApLElQKHRoaXMsXCJhdWRpb0VsZW1lbnRcIix2b2lkIDApLElQKHRoaXMsXCJpc0N1cnJlbnRUcmFja0Nsb25lZFwiLCExKSxJUCh0aGlzLFwiaXNSZW1vdGVUcmFja1wiLCExKSxJUCh0aGlzLFwib3JpZ2luVm9sdW1lTGV2ZWxBbmFseXNlclwiLHZvaWQgMCksSVAodGhpcyxcInJlYnVpbGRXZWJBdWRpb1wiLChhc3luYygpPT57aWYoUXkuZGVidWcoXCJyZWFkeSB0byByZWJ1aWxkIHdlYiBhdWRpbywgc3RhdGU6XCIsdGhpcy5jb250ZXh0LnN0YXRlKSx0aGlzLmlzTm9BdWRpb0lucHV0JiZhd2FpdCB0aGlzLmNoZWNrSGFzQXVkaW9JbnB1dCgpLCF0aGlzLmlzTm9BdWRpb0lucHV0fHx0aGlzLmlzRGVzdHJveWVkKXJldHVybiBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHRoaXMucmVidWlsZFdlYkF1ZGlvLCEwKSx2b2lkIFF5LmRlYnVnKFwicmVidWlsZCB3ZWIgYXVkaW8gc3VjY2VzcywgY3VycmVudCB2b2x1bWUgc3RhdHVzXCIsdGhpcy5nZXRBY2N1cmF0ZVZvbHVtZUxldmVsKCkpO3RoaXMuY29udGV4dC5yZXN1bWUoKS50aGVuKCgoKT0+UXkuaW5mbyhcInJlc3VtZSBzdWNjZXNzXCIpKSksUXkuZGVidWcoXCJyZWJ1aWxkIHdlYiBhdWRpbyBiZWNhdXNlIG9mIGlvcyAxMiBidWdzXCIpLHRoaXMuZGlzY29ubmVjdCgpO2NvbnN0IGU9dGhpcy50cmFjazt0aGlzLnRyYWNrPXRoaXMudHJhY2suY2xvbmUoKSx0aGlzLmlzQ3VycmVudFRyYWNrQ2xvbmVkP2Uuc3RvcCgpOnRoaXMuaXNDdXJyZW50VHJhY2tDbG9uZWQ9ITA7Y29uc3QgdD1uZXcgTWVkaWFTdHJlYW0oW3RoaXMudHJhY2tdKTt0aGlzLnNvdXJjZU5vZGU9dGhpcy5jb250ZXh0LmNyZWF0ZU1lZGlhU3RyZWFtU291cmNlKHQpLFBQKHRoaXMuc291cmNlTm9kZSksdGhpcy52b2x1bWVMZXZlbEFuYWx5c2VyLnJlYnVpbGRBbmFseXNlcigpO2NvbnN0IGk9dGhpcy5vdXRwdXROb2RlLmdhaW4udmFsdWU7dGhpcy5vdXRwdXROb2RlPXRoaXMuY29udGV4dC5jcmVhdGVHYWluKCksdGhpcy5vdXRwdXROb2RlLmdhaW4uc2V0VmFsdWVBdFRpbWUoaSx0aGlzLmNvbnRleHQuY3VycmVudFRpbWUpLFBQKHRoaXMub3V0cHV0Tm9kZSksdGhpcy5lbWl0KGNQLlVQREFURV9TT1VSQ0UpLHRoaXMuY29ubmVjdCgpLHRoaXMuYXVkaW9FbGVtZW50LnNyY09iamVjdD10LHRoaXMuaXNQbGF5ZWQmJnRoaXMucGxheSh0aGlzLnBsYXlOb2RlKSx0aGlzLmNoZWNrSGFzQXVkaW9JbnB1dCgpfSkpLFwiYXVkaW9cIiE9PWUua2luZCl0aHJvdyBuZXcgcnYobnYuVU5FWFBFQ1RFRF9FUlJPUik7dGhpcy50cmFjaz1lO2NvbnN0IHI9bmV3IE1lZGlhU3RyZWFtKFt0aGlzLnRyYWNrXSk7aWYodGhpcy5pc1JlbW90ZVRyYWNrPSEhdCx0aGlzLnNvdXJjZU5vZGU9dGhpcy5jb250ZXh0LmNyZWF0ZU1lZGlhU3RyZWFtU291cmNlKHIpLFBQKHRoaXMuc291cmNlTm9kZSksaSl7Y29uc3QgZT1pLmNsb25lKCk7ZS5lbmFibGVkPSEwLHRoaXMuY2xvbmVkVHJhY2s9ZSxReS5kZWJ1ZyhcImNyZWF0ZSBhbiB1bm11dGVkIHRyYWNrIFwiLmNvbmNhdChlLmlkLFwiIGZyb20gdGhlIG9yaWdpbmFsIHRyYWNrIFwiKS5jb25jYXQoaS5pZCxcIiB0byBnZXQgdGhlIHZvbHVtZVwiKSk7Y29uc3QgdD10aGlzLmNvbnRleHQuY3JlYXRlTWVkaWFTdHJlYW1Tb3VyY2UobmV3IE1lZGlhU3RyZWFtKFtlXSkpO1BQKHQpLHRoaXMub3JpZ2luVm9sdW1lTGV2ZWxBbmFseXNlcj1uZXcgTVAsdGhpcy5vcmlnaW5Wb2x1bWVMZXZlbEFuYWx5c2VyLnVwZGF0ZVNvdXJjZSh0KX10aGlzLmNvbm5lY3QoKSx0aGlzLmF1ZGlvRWxlbWVudD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYXVkaW9cIiksdGhpcy5hdWRpb0VsZW1lbnQuc3JjT2JqZWN0PXI7Y29uc3Qgbz1BSSgpO3QmJm8ub3M9PT1SSS5JT1MmJk51bWJlcihudWxsPT09KG49by5vc1ZlcnNpb24pfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLnNwbGl0KFwiLlwiKVswXSk8MTUmJihOUC5vbihWRC5TVEFURV9DSEFOR0UsKCgpPT57XCJzdXNwZW5kZWRcIj09PXRoaXMuY29udGV4dC5zdGF0ZT9kb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHRoaXMucmVidWlsZFdlYkF1ZGlvLCEwKTpcInJ1bm5pbmdcIj09PXRoaXMuY29udGV4dC5zdGF0ZSYmdGhpcy5yZWJ1aWxkV2ViQXVkaW8oKX0pKSx0aGlzLmNoZWNrSGFzQXVkaW9JbnB1dCgpLnRoZW4oKGU9PntlfHxkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHRoaXMucmVidWlsZFdlYkF1ZGlvLCEwKX0pKSl9dXBkYXRlVHJhY2soZSl7dGhpcy5zb3VyY2VOb2RlLmRpc2Nvbm5lY3QoKSx0aGlzLnRyYWNrPWUsdGhpcy5pc0N1cnJlbnRUcmFja0Nsb25lZD0hMTtjb25zdCB0PW5ldyBNZWRpYVN0cmVhbShbZV0pO3RoaXMuc291cmNlTm9kZT10aGlzLmNvbnRleHQuY3JlYXRlTWVkaWFTdHJlYW1Tb3VyY2UodCksUFAodGhpcy5zb3VyY2VOb2RlKSx0aGlzLnByb2Nlc3NlZE5vZGV8fHRoaXMuc291cmNlTm9kZS5jb25uZWN0KHRoaXMub3V0cHV0Tm9kZSksdGhpcy5lbWl0KGNQLlVQREFURV9TT1VSQ0UpLHRoaXMuYXVkaW9FbGVtZW50LnNyY09iamVjdD10fWRlc3Ryb3koKXt2YXIgZTt0aGlzLmF1ZGlvRWxlbWVudC5zcmNPYmplY3Q9bnVsbCx0aGlzLmF1ZGlvRWxlbWVudC5yZW1vdmUoKSxOUC5vZmYoXCJzdGF0ZS1jaGFuZ2VcIix0aGlzLnJlYnVpbGRXZWJBdWRpbyksbnVsbD09PShlPXRoaXMub3JpZ2luVm9sdW1lTGV2ZWxBbmFseXNlcil8fHZvaWQgMD09PWV8fGUuZGVzdHJveSgpLHRoaXMuY2xvbmVkVHJhY2s9dm9pZCAwLHN1cGVyLmRlc3Ryb3koKX1jcmVhdGVNZWRpYVN0cmVhbVNvdXJjZU5vZGUoZSl7cmV0dXJuIHRoaXMuY29udGV4dC5jcmVhdGVNZWRpYVN0cmVhbVNvdXJjZShuZXcgTWVkaWFTdHJlYW0oW2VdKSl9dXBkYXRlT3JpZ2luVHJhY2soZSl7Y29uc3QgdD1lLmNsb25lKCk7dC5lbmFibGVkPSEwLHRoaXMuY2xvbmVkVHJhY2smJih0aGlzLmNsb25lZFRyYWNrLnN0b3AoKSx0aGlzLmNsb25lZFRyYWNrPXQpLFF5LmRlYnVnKFwiY3JlYXRlIGFuIHVubXV0ZWQgdHJhY2sgXCIuY29uY2F0KHQuaWQsXCIgZnJvbSB0aGUgb3JpZ2luYWwgdHJhY2sgXCIpLmNvbmNhdChlLmlkLFwiIHRvIGdldCB0aGUgdm9sdW1lXCIpKTtjb25zdCBpPXRoaXMuY29udGV4dC5jcmVhdGVNZWRpYVN0cmVhbVNvdXJjZShuZXcgTWVkaWFTdHJlYW0oW3RdKSk7UFAoaSksdGhpcy5vcmlnaW5Wb2x1bWVMZXZlbEFuYWx5c2VyJiZ0aGlzLm9yaWdpblZvbHVtZUxldmVsQW5hbHlzZXIudXBkYXRlU291cmNlKGkpfWdldE9yaWdpblZvbHVtZUxldmVsKCl7cmV0dXJuIHRoaXMub3JpZ2luVm9sdW1lTGV2ZWxBbmFseXNlcj90aGlzLm9yaWdpblZvbHVtZUxldmVsQW5hbHlzZXIuZ2V0Vm9sdW1lTGV2ZWwoKTp0aGlzLmdldEFjY3VyYXRlVm9sdW1lTGV2ZWwoKX19YXN5bmMgZnVuY3Rpb24gVlAoZSx0LGkpe2NvbnN0IG49KGUsdCk9PmU/XCJudW1iZXJcIiE9dHlwZW9mIGU/ZS5tYXh8fGUuZXhhY3R8fGUuaWRlYWx8fGUubWlufHx0OmU6dCxyPXthdWRpbzohIWkmJnttYW5kYXRvcnk6e2Nocm9tZU1lZGlhU291cmNlOlwiZGVza3RvcFwifX0sdmlkZW86e21hbmRhdG9yeTp7Y2hyb21lTWVkaWFTb3VyY2U6XCJkZXNrdG9wXCIsY2hyb21lTWVkaWFTb3VyY2VJZDplLG1heEhlaWdodDpuKHQuaGVpZ2h0LDEwODApLG1heFdpZHRoOm4odC53aWR0aCwxOTIwKX19fTtyZXR1cm4gdC5mcmFtZVJhdGUmJlwibnVtYmVyXCIhPXR5cGVvZiB0LmZyYW1lUmF0ZT8oci52aWRlby5tYW5kYXRvcnkubWF4RnJhbWVSYXRlPXQuZnJhbWVSYXRlLm1heCxyLnZpZGVvLm1hbmRhdG9yeS5taW5GcmFtZVJhdGU9dC5mcmFtZVJhdGUubWluKTpcIm51bWJlclwiPT10eXBlb2YgdC5mcmFtZVJhdGUmJihyLnZpZGVvLm1hbmRhdG9yeS5tYXhGcmFtZVJhdGU9dC5mcmFtZVJhdGUpLGF3YWl0IG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKHIpfWFzeW5jIGZ1bmN0aW9uIEZQKGUsdCl7Y29uc3QgaT1hd2FpdCBCUChlLm1lZGlhU291cmNlKSx7c291cmNlSWQ6bixhdWRpbzpyfT1hd2FpdCBmdW5jdGlvbihlKXtsZXQgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSYmYXJndW1lbnRzWzFdO3JldHVybiBuZXcgR2goKChpLG4pPT57Y29uc3Qgcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3IuaW5uZXJUZXh0PVwic2hhcmUgc2NyZWVuXCIsci5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLFwidGV4dC1hbGlnbjogY2VudGVyOyBoZWlnaHQ6IDI1cHg7IGxpbmUtaGVpZ2h0OiAyNXB4OyBib3JkZXItcmFkaXVzOiA0cHggNHB4IDAgMDsgYmFja2dyb3VuZDogI0Q0RDJENDsgYm9yZGVyLWJvdHRvbTogIHNvbGlkIDFweCAjQjlCOEI5O1wiKTtjb25zdCBvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7by5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLFwid2lkdGg6IDEwMCU7IGhlaWdodDogNTAwcHg7IHBhZGRpbmc6IDE1cHggMjVweCA7IGJveC1zaXppbmc6IGJvcmRlci1ib3g7XCIpO2NvbnN0IHM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtzLmlubmVyVGV4dD1cIkFnb3JhIFdlYiBTY3JlZW5zaGFyaW5nIHdhbnRzIHRvIHNoYXJlIHRoZSBjb250ZW50cyBvZiB5b3VyIHNjcmVlbiB3aXRoIHdlYmRlbW8uYWdvcmFiZWNrb24uY29tLiBDaG9vc2Ugd2hhdCB5b3UnZCBsaWtlIHRvIHNoYXJlLlwiLHMuc2V0QXR0cmlidXRlKFwic3R5bGVcIixcImhlaWdodDogMTIlO1wiKTtjb25zdCBhPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7YS5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLFwid2lkdGg6IDEwMCU7IGhlaWdodDogODAlOyBiYWNrZ3JvdW5kOiAjRkZGOyBib3JkZXI6ICBzb2xpZCAxcHggI0NCQ0JDQjsgZGlzcGxheTogZmxleDsgZmxleC13cmFwOiB3cmFwOyBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWFyb3VuZDsgb3ZlcmZsb3cteTogc2Nyb2xsOyBwYWRkaW5nOiAwIDE1cHg7IGJveC1zaXppbmc6IGJvcmRlci1ib3g7XCIpO2NvbnN0IGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtjLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsXCJkaXNwbGF5OiBmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47IHBhZGRpbmc6IDE2cHggMDtcIik7Y29uc3QgZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO2QuaW5uZXJIVE1MPVwiY2FuY2VsXCIsZC5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLFwid2lkdGg6IDg1cHg7XCIpLGQub25jbGljaz0oKT0+e2RvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoaCk7Y29uc3QgZT1uZXcgRXJyb3IoXCJOb3RBbGxvd2VkRXJyb3JcIik7ZS5uYW1lPVwiTm90QWxsb3dlZEVycm9yXCIsbihlKX07bGV0IGw9dDtjb25zdCB1PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7aWYodCl7Y29uc3QgZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7ZS5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsXCJjaGVja2JveFwiKTtjb25zdCB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO2Uuc2V0QXR0cmlidXRlKFwic3R5bGVcIixcIm1hcmdpbi1yaWdodDogNnB4O1wiKSx0LmlubmVyVGV4dD1cIlNoYXJlIGF1ZGlvXCIsZS5jaGVja2VkPWwsZS5vbmNoYW5nZT0oKT0+e2w9ZS5jaGVja2VkfSx1LmFwcGVuZENoaWxkKGUpLHUuYXBwZW5kQ2hpbGQodCl9Yy5hcHBlbmRDaGlsZCh1KSxjLmFwcGVuZENoaWxkKGQpLG8uYXBwZW5kQ2hpbGQocyksby5hcHBlbmRDaGlsZChhKSxvLmFwcGVuZENoaWxkKGMpO2NvbnN0IGg9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtoLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsXCJwb3NpdGlvbjogZml4ZWQ7IHotaW5kZXg6IDk5OTk5OTk5OyB0b3A6IDUwJTsgbGVmdDogNTAlOyB3aWR0aDogNjIwcHg7IGhlaWdodDogNTI1cHg7IGJhY2tncm91bmQ6ICNFQ0VDRUM7IGJvcmRlci1yYWRpdXM6IDRweDsgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLC01MCUpOyB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLC01MCUpO1wiKSxoLmFwcGVuZENoaWxkKHIpLGguYXBwZW5kQ2hpbGQobyksZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChoKSxlLm1hcCgoZT0+e2lmKGUuaWQpe2NvbnN0IHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTt0LnNldEF0dHJpYnV0ZShcInN0eWxlXCIsXCJ3aWR0aDogMzAlOyBoZWlnaHQ6IDE2MHB4OyBwYWRkaW5nOiAyMHB4IDA7IHRleHQtYWxpZ246IGNlbnRlcjtib3gtc2l6aW5nOiBjb250ZW50LWJveDtcIik7bGV0IG49ZS50aHVtYm5haWw7dHJ5e2NvbnN0e3dpZHRoOmV9PW4uZ2V0U2l6ZSgpO2U+MTkyMCYmKG49bi5yZXNpemUoe3dpZHRoOjE5MjB9KSl9Y2F0Y2goZSl7dGhyb3cgZSYmZS5tZXNzYWdlLnN0YXJ0c1dpdGgoXCJJbGxlZ2FsIGludm9jYXRpb25cIikmJmNvbnNvbGUuZXJyb3IoXCJPcGVyYXRlIHRodW1ibmFpbCBlcnJvciwgcGxlYXNlIHRyeSB0byBzZXQgY29udGV4dElzb2xhdGlvbjogZmFsc2UuIChodHRwczovL2dpdGh1Yi5jb20vZWxlY3Ryb24vZWxlY3Ryb24vaXNzdWVzLzM0OTUzKVwiKSxlfXQuaW5uZXJIVE1MPSc8ZGl2IHN0eWxlPVwiaGVpZ2h0OiAxMjBweDsgZGlzcGxheTogdGFibGUtY2VsbDsgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcIj48aW1nIHN0eWxlPVwid2lkdGg6IDEwMCU7IGJhY2tncm91bmQ6ICMzMzMzMzM7IGJveC1zaGFkb3c6IDFweCAxcHggMXB4IDFweCByZ2JhKDAsIDAsIDAsIDAuMik7XCIgc3JjPScrbi50b0RhdGFVUkwoKSsnIC8+PC9kaXY+PHNwYW4gc3R5bGU9XCJcXHRoZWlnaHQ6IDQwcHg7IGxpbmUtaGVpZ2h0OiA0MHB4OyBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7IHdpZHRoOiA3MCU7IHdvcmQtYnJlYWs6IGtlZXAtYWxsOyB3aGl0ZS1zcGFjZTogbm93cmFwOyBvdmVyZmxvdzogaGlkZGVuOyB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcIj4nK2UubmFtZS5yZXBsYWNlKC9bXFx1MDBBMC1cXHU5OTk5PD5cXCZdL2csKGZ1bmN0aW9uKGUpe3JldHVyblwiJiNcIitlLmNoYXJDb2RlQXQoMCkrXCI7XCJ9KSkrXCI8L3NwYW4+XCIsdC5vbmNsaWNrPSgpPT57ZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChoKSxpKHtzb3VyY2VJZDplLmlkLGF1ZGlvOmx9KX0sYS5hcHBlbmRDaGlsZCh0KX19KSl9KSl9KGksdCk7cmV0dXJuIGF3YWl0IFZQKG4sZSxyKX1hc3luYyBmdW5jdGlvbiBCUChlKXtsZXQgdD1bXCJ3aW5kb3dcIixcInNjcmVlblwiXTtcImFwcGxpY2F0aW9uXCIhPT1lJiZcIndpbmRvd1wiIT09ZXx8KHQ9W1wid2luZG93XCJdKSxcInNjcmVlblwiPT09ZSYmKHQ9W1wic2NyZWVuXCJdKTtjb25zdCBpPVJ2KCk7aWYoIWkpdGhyb3cgY29uc29sZS5lcnJvcihcImZhaWxlZCB0byBmZXRjaCBlbGVjdHJvbiwgcGxlYXNlIG1vdW50IGl0IHRvIHdpbmRvd1wiKSxuZXcgcnYobnYuRUxFQ1RST05fSVNfTlVMTCk7bGV0IG49bnVsbDt0cnl7dmFyIHI7bj0obnVsbD09PShyPWkuZGVza3RvcENhcHR1cmVyKXx8dm9pZCAwPT09cj92b2lkIDA6ci5nZXRTb3VyY2VzKHt0eXBlczp0fSkpfHxpLmlwY1JlbmRlcmVyLmludm9rZShcIkRFU0tUT1BfQ0FQVFVSRVJfR0VUX1NPVVJDRVNcIix7dHlwZXM6dH0pfWNhdGNoKGUpe249bnVsbH1uJiZuLnRoZW58fChuPW5ldyBHaCgoKGUsbik9PntpLmRlc2t0b3BDYXB0dXJlci5nZXRTb3VyY2VzKHt0eXBlczp0fSwoKHQsaSk9Pnt0P24odCk6ZShpKX0pKX0pKSk7dHJ5e3JldHVybiBhd2FpdCBufWNhdGNoKGUpe3Rocm93IG5ldyBydihudi5FTEVDVFJPTl9ERVNLVE9QX0NBUFRVUkVSX0dFVF9TT1VSQ0VTX0VSUk9SLGUudG9TdHJpbmcoKSl9fWNvbnN0IGpQPW5ldyBoeShcInNhZmFyaVwiKTtsZXQgR1A9ITEsV1A9ITE7YXN5bmMgZnVuY3Rpb24gSFAoZSx0KXtsZXQgaT0wLG49bnVsbDtmb3IoO2k8MjspdHJ5e249YXdhaXQgS1AoZSx0LGk+MCk7YnJlYWt9Y2F0Y2goZSl7aWYoZSBpbnN0YW5jZW9mIHJ2KXRocm93IFF5LmVycm9yKFwiW1wiLmNvbmNhdCh0LFwiXSBcIikuY29uY2F0KGUudG9TdHJpbmcoKSkpLGU7Y29uc3Qgbj1ZUChlLm5hbWV8fGUuY29kZXx8ZSxlLm1lc3NhZ2UpO2lmKG4uY29kZT09PW52Lk1FRElBX09QVElPTl9JTlZBTElEKXtReS5kZWJ1ZyhcIltcIi5jb25jYXQodCxcIl0gZGV0ZWN0IG1lZGlhIG9wdGlvbiBpbnZhbGlkLCByZXRyeVwiKSksaSs9MSxhd2FpdCAkdig1MDApO2NvbnRpbnVlfXRocm93IFF5LmVycm9yKFwiW1wiLmNvbmNhdCh0LFwiXSBcIikuY29uY2F0KG4udG9TdHJpbmcoKSkpLG59aWYoIW4pdGhyb3cgbmV3IHJ2KG52LlVORVhQRUNURURfRVJST1IsXCJjYW4gbm90IGZpbmQgc3RyZWFtIGFmdGVyIGdldFVzZXJNZWRpYVwiKTtyZXR1cm4gbn1hc3luYyBmdW5jdGlvbiBLUChlLHQsaSl7aWYoIW5hdmlnYXRvci5tZWRpYURldmljZXN8fCFuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSl0aHJvdyBuZXcgcnYobnYuTk9UX1NVUFBPUlRFRCxcImNhbiBub3QgZmluZCBnZXRVc2VyTWVkaWFcIik7aSYmKGUudmlkZW8mJihkZWxldGUgZS52aWRlby53aWR0aCxkZWxldGUgZS52aWRlby5oZWlnaHQpLGUuc2NyZWVuJiYoZGVsZXRlIGUuc2NyZWVuLndpZHRoLGRlbGV0ZSBlLnNjcmVlbi5oZWlnaHQpKTtjb25zdCBuPU1EKCkscj1uZXcgTWVkaWFTdHJlYW07aWYoZS5hdWRpb1NvdXJjZSYmci5hZGRUcmFjayhlLmF1ZGlvU291cmNlKSxlLnZpZGVvU291cmNlJiZyLmFkZFRyYWNrKGUudmlkZW9Tb3VyY2UpLCFlLmF1ZGlvJiYhZS52aWRlbyYmIWUuc2NyZWVuKXJldHVybiBReS5kZWJ1ZyhcIlVzaW5nIFZpZGVvIFNvdXJjZS8gQXVkaW8gU291cmNlXCIpLHI7aWYoZS5zY3JlZW4paWYoUnYoKSllLnNjcmVlbi5zb3VyY2VJZD9xUChyLGF3YWl0IFZQKGUuc2NyZWVuLnNvdXJjZUlkLGUuc2NyZWVuLGUuc2NyZWVuQXVkaW8pKTpxUChyLGF3YWl0IEZQKGUuc2NyZWVuLGUuc2NyZWVuQXVkaW8pKTtlbHNlIGlmKERJKCkmJmUuc2NyZWVuLmV4dGVuc2lvbklkJiZlLnNjcmVlbi5tYW5kYXRvcnkpe2lmKCFuLmdldFN0cmVhbUZyb21FeHRlbnNpb24pdGhyb3cgbmV3IHJ2KG52Lk5PVF9TVVBQT1JURUQsXCJUaGlzIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBzY3JlZW4gc2hhcmluZ1wiKTtReS5kZWJ1ZyhcIltcIi5jb25jYXQodCwnXSBTY3JlZW4gYWNjZXNzIG9uIGNocm9tZSBzdGFibGUsIGxvb2tpbmcgZm9yIGV4dGVuc2lvblwiJykpO2NvbnN0IGk9YXdhaXQocz1lLnNjcmVlbi5leHRlbnNpb25JZCxhPXQsbmV3IEdoKCgoZSx0KT0+e3RyeXtjaHJvbWUucnVudGltZS5zZW5kTWVzc2FnZShzLHtnZXRTdHJlYW06ITB9LChpPT57aWYoIWl8fCFpLnN0cmVhbUlkKXJldHVybiBReS5lcnJvcihcIltcIi5jb25jYXQoYSxcIl0gTm8gcmVzcG9uc2UgZnJvbSBDaHJvbWUgUGx1Z2luLiBQbHVnaW4gbm90IGluc3RhbGxlZCBwcm9wZXJseVwiKSxpKSx2b2lkIHQobmV3IHJ2KG52LkNIUk9NRV9QTFVHSU5fTk9fUkVTUE9OU0UsXCJObyByZXNwb25zZSBmcm9tIENocm9tZSBQbHVnaW4uIFBsdWdpbiBub3QgaW5zdGFsbGVkIHByb3Blcmx5XCIpKTtlKGkuc3RyZWFtSWQpfSkpfWNhdGNoKGUpe1F5LmVycm9yKFwiW1wiLmNvbmNhdChhLFwiXSBBZ29yYVJUQyBzY3JlZW5zaGFyaW5nIHBsdWdpbiBpcyBub3QgYWNjZXNzaWJsZShcIikuY29uY2F0KHMsXCIpXCIpLGUudG9TdHJpbmcoKSksdChuZXcgcnYobnYuQ0hST01FX1BMVUdJTl9OT1RfSU5TVEFMTCkpfX0pKSk7ZS5zY3JlZW4ubWFuZGF0b3J5LmNocm9tZU1lZGlhU291cmNlSWQ9aSxxUChyLGF3YWl0IG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKHt2aWRlbzp7bWFuZGF0b3J5OmUuc2NyZWVuLm1hbmRhdG9yeX19KSl9ZWxzZSBpZihuLmdldERpc3BsYXlNZWRpYSl7dmFyIG87ZS5zY3JlZW4ubWVkaWFTb3VyY2UmJlpEKGUuc2NyZWVuLm1lZGlhU291cmNlKTtjb25zdCBpPXt3aWR0aDplLnNjcmVlbi53aWR0aCxoZWlnaHQ6ZS5zY3JlZW4uaGVpZ2h0LGZyYW1lUmF0ZTplLnNjcmVlbi5mcmFtZVJhdGUsZGlzcGxheVN1cmZhY2U6bnVsbCE9PShvPWUuc2NyZWVuLmRpc3BsYXlTdXJmYWNlKSYmdm9pZCAwIT09bz9vOlwic2NyZWVuXCI9PT1lLnNjcmVlbi5tZWRpYVNvdXJjZT9cIm1vbml0b3JcIjplLnNjcmVlbi5tZWRpYVNvdXJjZX0se3NlbGZCcm93c2VyU3VyZmFjZTpuLHN1cmZhY2VTd2l0Y2hpbmc6cyxzeXN0ZW1BdWRpbzphfT1lLnNjcmVlbixjPXtzZWxmQnJvd3NlclN1cmZhY2U6bixzdXJmYWNlU3dpdGNoaW5nOnMsc3lzdGVtQXVkaW86YX07IW4mJmRlbGV0ZSBjLnNlbGZCcm93c2VyU3VyZmFjZSwhcyYmZGVsZXRlIGMuc3VyZmFjZVN3aXRjaGluZywhYSYmZGVsZXRlIGMuc3lzdGVtQXVkaW8sUXkuZGVidWcoXCJbXCIuY29uY2F0KHQsXCJdIGdldERpc3BsYXlNZWRpYTpcIiksSlNPTi5zdHJpbmdpZnkoe3ZpZGVvOmksYXVkaW86ISFlLnNjcmVlbkF1ZGlvLGNvbnRyb2xzOmN9KSkscVAocixhd2FpdCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldERpc3BsYXlNZWRpYSh5UCh7dmlkZW86aSxhdWRpbzohIWUuc2NyZWVuQXVkaW99LGMpKSl9ZWxzZXtpZigha0koKSl0aHJvdyBReS5lcnJvcihcIltcIi5jb25jYXQodCxcIl0gVGhpcyBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgc2NyZWVuU2hhcmluZ1wiKSksbmV3IHJ2KG52Lk5PVF9TVVBQT1JURUQsXCJUaGlzIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBzY3JlZW4gc2hhcmluZ1wiKTt7ZS5zY3JlZW4ubWVkaWFTb3VyY2UmJlpEKGUuc2NyZWVuLm1lZGlhU291cmNlKTtjb25zdCBpPXt2aWRlbzp7bWVkaWFTb3VyY2U6ZS5zY3JlZW4ubWVkaWFTb3VyY2Usd2lkdGg6ZS5zY3JlZW4ud2lkdGgsaGVpZ2h0OmUuc2NyZWVuLmhlaWdodCxmcmFtZVJhdGU6ZS5zY3JlZW4uZnJhbWVSYXRlfX07UXkuZGVidWcoXCJbXCIuY29uY2F0KHQsXCJdIGdldFVzZXJNZWRpYTogXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeShpKSkpLHFQKHIsYXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoaSkpfX12YXIgcyxhO2lmKCFlLnZpZGVvJiYhZS5hdWRpbylyZXR1cm4gcjtsZXQgYz17dmlkZW86ZS52aWRlbyxhdWRpbzplLmF1ZGlvfSxkPUR5KFwiTUVESUFfREVWSUNFX0NPTlNUUkFJTlRTXCIpO2lmKGQpdHJ5e1wic3RyaW5nXCI9PXR5cGVvZiBkJiYoZD1KU09OLnBhcnNlKGQpKSxjPXN5KGMsZCl9Y2F0Y2goZSl7fVF5LmRlYnVnKFwiW1wiLmNvbmNhdCh0LFwiXSBHZXRVc2VyTWVkaWFcIiksSlNPTi5zdHJpbmdpZnkoYykpLEFJKCk7bGV0IGwsdT1udWxsOyhQSSgpfHxNSSgpfHxOSSgpKSYmKHU9YXdhaXQgalAubG9jaygpKTt0cnl7bD1hd2FpdCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYShjKX1jYXRjaChlKXt0aHJvdyB1JiZ1KCksZX1yZXR1cm4gYy5hdWRpbyYmKEdQPSEwKSxjLnZpZGVvJiYoV1A9ITApLHFQKHIsbCksdSYmdSgpLHJ9ZnVuY3Rpb24gWVAoZSx0KXtzd2l0Y2goZSl7Y2FzZVwiU3RhcnRpbmcgdmlkZW8gZmFpbGVkXCI6Y2FzZVwiT3ZlcmNvbnN0cmFpbmVkRXJyb3JcIjpjYXNlXCJUcmFja1N0YXJ0RXJyb3JcIjpyZXR1cm4gbmV3IHJ2KG52Lk1FRElBX09QVElPTl9JTlZBTElELFwiXCIuY29uY2F0KGUsXCI6IFwiKS5jb25jYXQodCkpO2Nhc2VcIk5vdEZvdW5kRXJyb3JcIjpjYXNlXCJEZXZpY2VzTm90Rm91bmRFcnJvclwiOnJldHVybiBuZXcgcnYobnYuREVWSUNFX05PVF9GT1VORCxcIlwiLmNvbmNhdChlLFwiOiBcIikuY29uY2F0KHQpKTtjYXNlXCJOb3RTdXBwb3J0ZWRFcnJvclwiOnJldHVybiBuZXcgcnYobnYuTk9UX1NVUFBPUlRFRCxcIlwiLmNvbmNhdChlLFwiOiBcIikuY29uY2F0KHQpKTtjYXNlXCJOb3RSZWFkYWJsZUVycm9yXCI6cmV0dXJuIG5ldyBydihudi5OT1RfUkVBREFCTEUsXCJcIi5jb25jYXQoZSxcIjogXCIpLmNvbmNhdCh0KSk7Y2FzZVwiSW52YWxpZFN0YXRlRXJyb3JcIjpjYXNlXCJOb3RBbGxvd2VkRXJyb3JcIjpjYXNlXCJQRVJNSVNTSU9OX0RFTklFRFwiOmNhc2VcIlBlcm1pc3Npb25EZW5pZWRFcnJvclwiOnJldHVybiBuZXcgcnYobnYuUEVSTUlTU0lPTl9ERU5JRUQsXCJcIi5jb25jYXQoZSxcIjogXCIpLmNvbmNhdCh0KSk7Y2FzZVwiQ29uc3RyYWludE5vdFNhdGlzZmllZEVycm9yXCI6cmV0dXJuIG5ldyBydihudi5DT05TVFJBSU5UX05PVF9TQVRJU0ZJRUQsXCJcIi5jb25jYXQoZSxcIjogXCIpLmNvbmNhdCh0KSk7ZGVmYXVsdDpyZXR1cm4gUXkuZXJyb3IoXCJnZXRVc2VyTWVkaWEgdW5leHBlY3RlZCBlcnJvclwiLGUpLG5ldyBydihudi5VTkVYUEVDVEVEX0VSUk9SLFwiXCIuY29uY2F0KGUsXCI6IFwiKS5jb25jYXQodCkpfX1mdW5jdGlvbiBxUChlLHQpe2NvbnN0IGk9ZS5nZXRWaWRlb1RyYWNrcygpWzBdLG49ZS5nZXRBdWRpb1RyYWNrcygpWzBdLHI9dC5nZXRWaWRlb1RyYWNrcygpWzBdLG89dC5nZXRBdWRpb1RyYWNrcygpWzBdO28mJihuJiZlLnJlbW92ZVRyYWNrKG4pLGUuYWRkVHJhY2sobykpLHImJihpJiZlLnJlbW92ZVRyYWNrKGkpLGUuYWRkVHJhY2socikpfWNvbnN0IHpQPW5ldyBjbGFzcyBleHRlbmRzIFN2e2dldCBzdGF0ZSgpe3JldHVybiB0aGlzLl9zdGF0ZX1zZXQgc3RhdGUoZSl7ZSE9PXRoaXMuX3N0YXRlJiYodGhpcy5lbWl0KGZQLlNUQVRFX0NIQU5HRSxlKSx0aGlzLl9zdGF0ZT1lKX1jb25zdHJ1Y3Rvcigpe3N1cGVyKCksSVAodGhpcyxcIl9zdGF0ZVwiLG1QLklETEUpLElQKHRoaXMsXCJpc0FjY2Vzc01pY3JvcGhvbmVQZXJtaXNzaW9uXCIsITEpLElQKHRoaXMsXCJpc0FjY2Vzc0NhbWVyYVBlcm1pc3Npb25cIiwhMSksSVAodGhpcyxcImxhc3RBY2Nlc3NNaWNyb3Bob25lUGVybWlzc2lvblwiLCExKSxJUCh0aGlzLFwibGFzdEFjY2Vzc0NhbWVyYVBlcm1pc3Npb25cIiwhMSksSVAodGhpcyxcImNoZWNrZGV2aWNlTWF0Y2hlZFwiLCExKSxJUCh0aGlzLFwiZGV2aWNlSW5mb01hcFwiLG5ldyBNYXApLHRoaXMuaW5pdCgpLnRoZW4oKCgpPT57bmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5hZGRFdmVudExpc3RlbmVyJiZuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmFkZEV2ZW50TGlzdGVuZXIoXCJkZXZpY2VjaGFuZ2VcIix0aGlzLnVwZGF0ZURldmljZXNJbmZvLmJpbmQodGhpcykpLHdpbmRvdy5zZXRJbnRlcnZhbCgoKCk9PnsoRHkoXCJFTlVNRVJBVEVfREVWSUNFU19JTlRFUlZBTFwiKXx8KFpJKCl8fHdJKCk9PT1SSS5IQVJNT05ZX09TKSYmUUkoKSkmJnRoaXMudXBkYXRlRGV2aWNlc0luZm8oKX0pLER5KFwiRU5VTUVSQVRFX0RFVklDRVNfSU5URVJWQUxfVElNRVwiKSl9KSkuY2F0Y2goKGU9PlF5LmVycm9yKGUudG9TdHJpbmcoKSkpKX1hc3luYyBlbnVtZXJhdGVEZXZpY2VzKGUsdCl7bGV0IGk9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0mJmFyZ3VtZW50c1syXTtpZighbmF2aWdhdG9yLm1lZGlhRGV2aWNlc3x8IW5hdmlnYXRvci5tZWRpYURldmljZXMuZW51bWVyYXRlRGV2aWNlcylyZXR1cm4gbmV3IHJ2KG52Lk5PVF9TVVBQT1JURUQsXCJlbnVtZXJhdGVEZXZpY2VzKCkgbm90IHN1cHBvcnRlZC5cIikudGhyb3coKTtjb25zdCBuPWF3YWl0IG5hdmlnYXRvci5tZWRpYURldmljZXMuZW51bWVyYXRlRGV2aWNlcygpLHI9dGhpcy5jaGVja01lZGlhRGV2aWNlSW5mb0lzT2sobik7bGV0IG89IXRoaXMuaXNBY2Nlc3NNaWNyb3Bob25lUGVybWlzc2lvbiYmZSxzPSF0aGlzLmlzQWNjZXNzQ2FtZXJhUGVybWlzc2lvbiYmdDtyLmF1ZGlvJiYobz0hMSksci52aWRlbyYmKHM9ITEpO2xldCBhPW51bGwsYz1udWxsLGQ9bnVsbDtpZighaSYmKG98fHMpKXtpZihqUC5pc0xvY2tlZCYmKFF5LmRlYnVnKFwiW2RldmljZSBtYW5hZ2VyXSB3YWl0IEdVTSBsb2NrXCIpLChhd2FpdCBqUC5sb2NrKCkpKCksUXkuZGVidWcoXCJbZGV2aWNlIG1hbmFnZXJdIEdVTSB1bmxvY2tcIikpLEdQJiYobz0hMSx0aGlzLmlzQWNjZXNzTWljcm9waG9uZVBlcm1pc3Npb249ITApLFdQJiYocz0hMSx0aGlzLmlzQWNjZXNzQ2FtZXJhUGVybWlzc2lvbj0hMCksUXkuZGVidWcoXCJbZGV2aWNlIG1hbmFnZXJdIGNoZWNrIG1lZGlhIGRldmljZSBwZXJtaXNzaW9uc1wiLGUsdCxvLHMpLG8mJnMpe3RyeXtkPWF3YWl0IG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhKHthdWRpbzohMCx2aWRlbzohMH0pfWNhdGNoKGUpe2NvbnN0IHQ9WVAoZS5uYW1lfHxlLmNvZGV8fGUsZS5tZXNzYWdlKTtpZih0LmNvZGU9PT1udi5QRVJNSVNTSU9OX0RFTklFRCl0aHJvdyB0O1F5Lndhcm5pbmcoXCJnZXRVc2VyTWVkaWEgZmFpbGVkIGluIGdldERldmljZXNcIix0KX10aGlzLmlzQWNjZXNzQ2FtZXJhUGVybWlzc2lvbj0hMCx0aGlzLmlzQWNjZXNzTWljcm9waG9uZVBlcm1pc3Npb249ITB9ZWxzZSBpZihvKXt0cnl7YT1hd2FpdCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSh7YXVkaW86ZX0pfWNhdGNoKGUpe2NvbnN0IHQ9WVAoZS5uYW1lfHxlLmNvZGV8fGUsZS5tZXNzYWdlKTtpZih0LmNvZGU9PT1udi5QRVJNSVNTSU9OX0RFTklFRCl0aHJvdyB0O1F5Lndhcm5pbmcoXCJnZXRVc2VyTWVkaWEgZmFpbGVkIGluIGdldERldmljZXNcIix0KX10aGlzLmlzQWNjZXNzTWljcm9waG9uZVBlcm1pc3Npb249ITB9ZWxzZSBpZihzKXt0cnl7Yz1hd2FpdCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSh7dmlkZW86dH0pfWNhdGNoKGUpe2NvbnN0IHQ9WVAoZS5uYW1lfHxlLmNvZGV8fGUsZS5tZXNzYWdlKTtpZih0LmNvZGU9PT1udi5QRVJNSVNTSU9OX0RFTklFRCl0aHJvdyB0O1F5Lndhcm5pbmcoXCJnZXRVc2VyTWVkaWEgZmFpbGVkIGluIGdldERldmljZXNcIix0KX10aGlzLmlzQWNjZXNzQ2FtZXJhUGVybWlzc2lvbj0hMH1ReS5kZWJ1ZyhcIltkZXZpY2UgbWFuYWdlcl0gbWljIHBlcm1pc3Npb25cIixlLFwiY2FtIHBlcm1pc3Npb25cIix0KX10cnl7Y29uc3QgZT1hd2FpdCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmVudW1lcmF0ZURldmljZXMoKTtyZXR1cm4gYSYmYS5nZXRUcmFja3MoKS5mb3JFYWNoKChlPT5lLnN0b3AoKSkpLGMmJmMuZ2V0VHJhY2tzKCkuZm9yRWFjaCgoZT0+ZS5zdG9wKCkpKSxkJiZkLmdldFRyYWNrcygpLmZvckVhY2goKGU9PmUuc3RvcCgpKSksYT1udWxsLGM9bnVsbCxkPW51bGwsZX1jYXRjaChlKXtyZXR1cm4gYSYmYS5nZXRUcmFja3MoKS5mb3JFYWNoKChlPT5lLnN0b3AoKSkpLGMmJmMuZ2V0VHJhY2tzKCkuZm9yRWFjaCgoZT0+ZS5zdG9wKCkpKSxkJiZkLmdldFRyYWNrcygpLmZvckVhY2goKGU9PmUuc3RvcCgpKSksYT1udWxsLGM9bnVsbCxkPW51bGwsbmV3IHJ2KG52LkVOVU1FUkFURV9ERVZJQ0VTX0ZBSUxFRCxlLnRvU3RyaW5nKCkpLnRocm93KCl9fWFzeW5jIGdldFJlY29yZGluZ0RldmljZXMoKXtsZXQgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXSYmYXJndW1lbnRzWzBdO3JldHVybihhd2FpdCB0aGlzLmVudW1lcmF0ZURldmljZXMoITAsITEsZSkpLmZpbHRlcigoZT0+XCJhdWRpb2lucHV0XCI9PT1lLmtpbmQpKX1hc3luYyBnZXRDYW1lcmFzRGV2aWNlcygpe2xldCBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdJiZhcmd1bWVudHNbMF07cmV0dXJuKGF3YWl0IHRoaXMuZW51bWVyYXRlRGV2aWNlcyghMSwhMCxlKSkuZmlsdGVyKChlPT5cInZpZGVvaW5wdXRcIj09PWUua2luZCkpfWFzeW5jIGdldFNwZWFrZXJzKCl7bGV0IGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0mJmFyZ3VtZW50c1swXTtyZXR1cm4oYXdhaXQgdGhpcy5lbnVtZXJhdGVEZXZpY2VzKCEwLCExLGUpKS5maWx0ZXIoKGU9PlwiYXVkaW9vdXRwdXRcIj09PWUua2luZCkpfXNlYXJjaERldmljZUlkQnlOYW1lKGUpe2xldCB0PW51bGw7cmV0dXJuIHRoaXMuZGV2aWNlSW5mb01hcC5mb3JFYWNoKChpPT57aS5kZXZpY2UubGFiZWw9PT1lJiYodD1pLmRldmljZS5kZXZpY2VJZCl9KSksdH1hc3luYyBnZXREZXZpY2VCeUlkKGUpe2NvbnN0IHQ9KGF3YWl0IHRoaXMuZW51bWVyYXRlRGV2aWNlcyghMCwhMCwhMCkpLmZpbmQoKHQ9PnQuZGV2aWNlSWQ9PT1lKSk7aWYoIXQpdGhyb3cgbmV3IHJ2KG52LkRFVklDRV9OT1RfRk9VTkQsXCJkZXZpY2VJZDogXCIuY29uY2F0KGUpKTtyZXR1cm4gdH1hc3luYyBpbml0KCl7dGhpcy5zdGF0ZT1tUC5JTklUSU5HO3RyeXthd2FpdCB0aGlzLnVwZGF0ZURldmljZXNJbmZvKCksdGhpcy5zdGF0ZT1tUC5JTklURU5EfWNhdGNoKGUpe3Rocm93IFF5Lndhcm5pbmcoXCJEZXZpY2UgRGV0ZWN0aW9uIGZ1bmN0aW9uYWxpdHkgY2Fubm90IHN0YXJ0IHByb3Blcmx5LlwiLGUudG9TdHJpbmcoKSksdGhpcy5zdGF0ZT1tUC5JRExFLChcImJvb2xlYW5cIj09dHlwZW9mIGlzU2VjdXJlQ29udGV4dD9pc1NlY3VyZUNvbnRleHQ6XCJodHRwczpcIj09PWxvY2F0aW9uLnByb3RvY29sfHxcImZpbGU6XCI9PT1sb2NhdGlvbi5wcm90b2NvbHx8XCJsb2NhbGhvc3RcIj09PWxvY2F0aW9uLmhvc3RuYW1lfHxcIjEyNy4wLjAuMVwiPT09bG9jYXRpb24uaG9zdG5hbWV8fFwiOjoxXCI9PT1sb2NhdGlvbi5ob3N0bmFtZSl8fG5ldyBydihudi5XRUJfU0VDVVJJVFlfUkVTVFJJQ1QsXCJZb3VyIGNvbnRleHQgaXMgbGltaXRlZCBieSB3ZWIgc2VjdXJpdHksIHBsZWFzZSB0cnkgdXNpbmcgaHR0cHMgcHJvdG9jb2wgb3IgbG9jYWxob3N0LlwiKS50aHJvdygpLGV9fWFzeW5jIHVwZGF0ZURldmljZXNJbmZvKCl7Y29uc3QgZT1hd2FpdCB0aGlzLmVudW1lcmF0ZURldmljZXMoITAsITAsITApLHQ9RGF0ZS5ub3coKSxpPVtdO2lmKGVbMF0mJmVbMF0ubGFiZWwmJiExPT09dGhpcy5jaGVja2RldmljZU1hdGNoZWQpe3RoaXMuY2hlY2tkZXZpY2VNYXRjaGVkPSEwO2NvbnN0IHQ9ZS5maW5kKChlPT5cImF1ZGlvaW5wdXRcIj09PWUua2luZCYmXCJkZWZhdWx0XCI9PT1lLmRldmljZUlkKSksaT1lLmZpbmQoKGU9PlwiYXVkaW9vdXRwdXRcIj09PWUua2luZCYmXCJkZWZhdWx0XCI9PT1lLmRldmljZUlkKSk7dCYmaT9pLmdyb3VwSWQ9PT10Lmdyb3VwSWQ/UXkuZGVidWcoXCJbZGV2aWNlLWNoZWNrXSBkZWZhdWx0IGlucHV0IFwiLmNvbmNhdCh0LmxhYmVsLFwiIGFuZCBvdXRwdXQgXCIpLmNvbmNhdChpLmxhYmVsLFwiIGlzIHRoZSBzYW1lIGdyb3VwXCIpKTpReS53YXJuaW5nKFwiW2RldmljZS1jaGVja10gZGVmYXVsdCBpbnB1dCBcIi5jb25jYXQodC5sYWJlbCxcIiBhbmQgb3V0cHV0IFwiKS5jb25jYXQoaS5sYWJlbCxcIiBpcyBub3QgdGhlIHNhbWUgZ3JvdXBcIikpOlF5LmRlYnVnKFwiW2RldmljZS1jaGVja10gZGVmYXVsdCBpbnB1dCBvciBvdXRwdXQgbm90IGZvdW5kXCIpfWNvbnN0IG49dGhpcy5jaGVja01lZGlhRGV2aWNlSW5mb0lzT2soZSk7aWYoZS5mb3JFYWNoKChlPT57aWYoIWUuZGV2aWNlSWQpcmV0dXJuO2NvbnN0IG49dGhpcy5kZXZpY2VJbmZvTWFwLmdldChcIlwiLmNvbmNhdChlLmtpbmQsXCJfXCIpLmNvbmNhdChlLmRldmljZUlkKSk7aWYoXCJBQ1RJVkVcIiE9PShuP24uc3RhdGU6XCJJTkFDVElWRVwiKSl7Y29uc3Qgbj17aW5pdEF0OnQsdXBkYXRlQXQ6dCxkZXZpY2U6ZSxzdGF0ZTpcIkFDVElWRVwifTt0aGlzLmRldmljZUluZm9NYXAuc2V0KFwiXCIuY29uY2F0KGUua2luZCxcIl9cIikuY29uY2F0KGUuZGV2aWNlSWQpLG4pLGkucHVzaChuKX1uJiYobi51cGRhdGVBdD10KX0pKSx0aGlzLmRldmljZUluZm9NYXAuZm9yRWFjaCgoKGUsbik9PntcIkFDVElWRVwiPT09ZS5zdGF0ZSYmZS51cGRhdGVBdCE9PXQmJihlLnN0YXRlPVwiSU5BQ1RJVkVcIixpLnB1c2goZSkpfSkpLHRoaXMuc3RhdGUhPT1tUC5JTklURU5EKXJldHVybiBuLmF1ZGlvJiYodGhpcy5sYXN0QWNjZXNzTWljcm9waG9uZVBlcm1pc3Npb249ITAsdGhpcy5pc0FjY2Vzc01pY3JvcGhvbmVQZXJtaXNzaW9uPSEwKSx2b2lkKG4udmlkZW8mJih0aGlzLmxhc3RBY2Nlc3NDYW1lcmFQZXJtaXNzaW9uPSEwLHRoaXMuaXNBY2Nlc3NDYW1lcmFQZXJtaXNzaW9uPSEwKSk7aS5mb3JFYWNoKChlPT57c3dpdGNoKGUuZGV2aWNlLmtpbmQpe2Nhc2VcImF1ZGlvaW5wdXRcIjp0aGlzLmxhc3RBY2Nlc3NNaWNyb3Bob25lUGVybWlzc2lvbiYmdGhpcy5pc0FjY2Vzc01pY3JvcGhvbmVQZXJtaXNzaW9uJiZ0aGlzLmVtaXQoZlAuUkVDT1JESU5HX0RFVklDRV9DSEFOR0VELGUpO2JyZWFrO2Nhc2VcInZpZGVvaW5wdXRcIjp0aGlzLmxhc3RBY2Nlc3NDYW1lcmFQZXJtaXNzaW9uJiZ0aGlzLmlzQWNjZXNzQ2FtZXJhUGVybWlzc2lvbiYmdGhpcy5lbWl0KGZQLkNBTUVSQV9ERVZJQ0VfQ0hBTkdFRCxlKTticmVhaztjYXNlXCJhdWRpb291dHB1dFwiOnRoaXMubGFzdEFjY2Vzc01pY3JvcGhvbmVQZXJtaXNzaW9uJiZ0aGlzLmlzQWNjZXNzTWljcm9waG9uZVBlcm1pc3Npb24mJnRoaXMuZW1pdChmUC5QTEFZT1VUX0RFVklDRV9DSEFOR0VELGUpfX0pKSxuLmF1ZGlvJiYodGhpcy5sYXN0QWNjZXNzTWljcm9waG9uZVBlcm1pc3Npb249ITAsdGhpcy5pc0FjY2Vzc01pY3JvcGhvbmVQZXJtaXNzaW9uPSEwKSxuLnZpZGVvJiYodGhpcy5sYXN0QWNjZXNzQ2FtZXJhUGVybWlzc2lvbj0hMCx0aGlzLmlzQWNjZXNzQ2FtZXJhUGVybWlzc2lvbj0hMCl9Y2hlY2tNZWRpYURldmljZUluZm9Jc09rKGUpe2NvbnN0IHQ9ZS5maWx0ZXIoKGU9PlwiYXVkaW9pbnB1dFwiPT09ZS5raW5kKSksaT1lLmZpbHRlcigoZT0+XCJ2aWRlb2lucHV0XCI9PT1lLmtpbmQpKSxuPXthdWRpbzohMSx2aWRlbzohMX07Zm9yKGNvbnN0IGUgb2YgdClpZihlLmxhYmVsJiZlLmRldmljZUlkKXtuLmF1ZGlvPSEwO2JyZWFrfWZvcihjb25zdCBlIG9mIGkpaWYoZS5sYWJlbCYmZS5kZXZpY2VJZCl7bi52aWRlbz0hMDticmVha31yZXR1cm4gbn19O2xldCBKUD0hMTtjb25zdCBYUD1uZXcgY2xhc3MgZXh0ZW5kcyBTdntjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksSVAodGhpcyxcIm9uQXV0b3BsYXlGYWlsZWRcIix2b2lkIDApLElQKHRoaXMsXCJvbkF1ZGlvQXV0b3BsYXlGYWlsZWRcIix2b2lkIDApfX07ZnVuY3Rpb24gUVAoKXtpZihBSSgpLCFKUCl7Y29uc3QgZT10PT57dC5wcmV2ZW50RGVmYXVsdCgpLEpQPSExLCRJKCk/ZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIixlLCEwKTooZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKFwidG91Y2hzdGFydFwiLGUsITApLGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlZG93blwiLGUsITApKX07SlA9ITAsJEkoKT9kb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGUsITApOihkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsZSwhMCksZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsZSwhMCkpLFF5LmluZm8oXCJkZXRlY3QgbWVkaWEgYXV0b3BsYXkgZmFpbGVkLCBkb2N1bWVudDogaHR0cHM6Ly9kb2NzLmFnb3JhLmlvL2NuL1ZvaWNlL2F1dG9wbGF5X3BvbGljeV93ZWJfbmc/cGxhdGZvcm09V2ViXCIpLFhQLm9uQXV0b3BsYXlGYWlsZWQ/WFAub25BdXRvcGxheUZhaWxlZCgpOlhQLm9uQXVkaW9BdXRvcGxheUZhaWxlZD9ReS53YXJuaW5nKFwiQWdvcmFSVEMub25BdWRpb0F1dG9wbGF5RmFpbGVkIGhhcyBiZWVuIGRlcHJlY2F0ZWQgaW4gZmF2b3Igb2YgQWdvcmFSVEMub25BdXRvcGxheUZhaWxlZC5cXG5cXG4gIFBsZWFzZSByZWZlciB0byB0aGUgQWdvcmEgZG9jdW1lbnQgdG8gbWlncmF0ZSB0aGUgbmV3ZXIgQVBJLCBodHRwczovL2RvY3MuYWdvcmEuaW8vZW4vVm9pY2UvYXV0b3BsYXlfcG9saWN5X3dlYl9uZz9wbGF0Zm9ybT1XZWIgLlwiKTpReS53YXJuaW5nKFwiV2UgaGF2ZSBkZXRlY3RlZCBhIG1lZGlhIGF1dG9wbGF5IGZhaWxlZCBldmVudCwgYW5kIGZvdW5kIG91dCB0aGF0IHlvdSBoYXZlbid0IGltcGxlbWVudGVkIEFnb3JhUlRDLm9uQXV0b3BsYXlGYWlsZWQgY2FsbGJhY2sgeWV0LlxcblxcbiAgSXQgd2lsbCBjYXVzZSBhdWRpby92aWRlbyBlbGVtZW50IG5vdCBwbGF5aW5nIGF1dG9tYXRpY2FsbHkgb24gc29tZSBicm93c2VycyB3aXRob3V0IHVzZXIgaW50ZXJhY3Rpb24sIHBvc3NpYmx5IGh1cnRpbmcgdXNlciBleHBlcmllbmNlcy5cXG5cXG4gIFBsZWFzZSByZWZlciB0byB0aGUgQWdvcmEgZG9jdW1lbnQgdG8gcHJvcGVybHkgaGFuZGxlIGF1dG9wbGF5IGZhaWxlZCBldmVudCwgaHR0cHM6Ly9kb2NzLmFnb3JhLmlvL2VuL1ZvaWNlL2F1dG9wbGF5X3BvbGljeV93ZWJfbmc/cGxhdGZvcm09V2ViIC5cIiksWFAuZW1pdChcImF1dG9wbGF5LWZhaWxlZFwiKX19ZnVuY3Rpb24gWlAoZSx0LGksbil7aWYoIWUpcmV0dXJuO2NvbnN0IHI9c0EuZ2V0QmFzZUluZm9CeVNlc3Npb25JZChlKTtpZighcilyZXR1cm47Y29uc3Qgbz1yLmluZm8scz1EYXRlLm5vdygpLGE9eVAoeVAoe30sbykse30se3ZpZDp2b2lkIDA9PT1vLnZpZD8wOk51bWJlcihvLnZpZCksbHRzOnMsZWxhcHNlOnMtci5zdGFydFRpbWUsY2JSZWdpc3RlcmVkOlhQLm9uQXV0b3BsYXlGYWlsZWR8fFhQLm9uQXVkaW9BdXRvcGxheUZhaWxlZD8xOi0xLGVycm9yTXNnOmksbWVkaWFUeXBlOnQsdHJhY2tJZDpuLGV4dGVuZDp2b2lkIDB9KTtzQS5zZW5kKHt0eXBlOmlBLkFVVE9QTEFZX0ZBSUxFRCxkYXRhOmF9LCEwKX1jb25zdCAkUD1bXCJwbGF5XCIsXCJwbGF5aW5nXCIsXCJsb2FkZWRkYXRhXCIsXCJjYW5wbGF5XCIsXCJwYXVzZVwiLFwic3RhbGxlZFwiLFwic3VzcGVuZFwiLFwid2FpdGluZ1wiLFwiYWJvcnRcIixcImVtcHRpZWRcIixcImVuZGVkXCIsXCJlcnJvclwiXSxlTD1uZXcgY2xhc3N7Y29uc3RydWN0b3IoKXtJUCh0aGlzLFwib25BdXRvcGxheUZhaWxlZFwiLHZvaWQgMCksSVAodGhpcyxcImVsZW1lbnRNYXBcIixuZXcgTWFwKSxJUCh0aGlzLFwiZWxlbWVudFN0YXRlTWFwXCIsbmV3IE1hcCksSVAodGhpcyxcImVsZW1lbnRzTmVlZFRvUmVzdW1lXCIsW10pLElQKHRoaXMsXCJzaW5rSWRNYXBcIixuZXcgTWFwKSxJUCh0aGlzLFwiYXV0b1Jlc3VtZUFmdGVySW50ZXJydXB0aW9uXCIsKGU9PntBcnJheS5mcm9tKHRoaXMuZWxlbWVudE1hcC5lbnRyaWVzKCkpLmZvckVhY2goKHQ9PntsZXRbaSxuXT10O2NvbnN0IHI9dGhpcy5lbGVtZW50U3RhdGVNYXAuZ2V0KGkpLG89bi5zcmNPYmplY3QuZ2V0QXVkaW9UcmFja3MoKVswXSxzPW8mJm8ucmVhZHlTdGF0ZTtpZihReS5kZWJ1ZyhcInJlc3VtZSBhZnRlciBpbnRlcnJ1cHRlZCwgZWxlOiBcIi5jb25jYXQocixcIiBhdWRpbzogXCIpLmNvbmNhdChzLFwiIFwiKS5jb25jYXQoZSkpLFwibGl2ZVwiPT09cyl7aWYoZSlyZXR1cm4gbi5wYXVzZSgpLHZvaWQgbi5wbGF5KCk7aWYoXCJydW5uaW5nXCI9PT1OUC5jdXJTdGF0ZSlyZXR1cm4gSEkoKT8obi5wYXVzZSgpLHZvaWQgbi5wbGF5KCkpOnZvaWQociYmXCJwYXVzZWRcIj09PXImJm4ucGxheSgpKX19KSl9KSksSVAodGhpcyxcImF1dG9SZXN1bWVBZnRlckludGVycnVwdGlvbk9uSU9TMTVfMTZcIiwoKCk9PntBcnJheS5mcm9tKHRoaXMuZWxlbWVudE1hcC5lbnRyaWVzKCkpLmZvckVhY2goKGU9PntsZXRbdCxpXT1lO2NvbnN0IG49aS5zcmNPYmplY3QuZ2V0QXVkaW9UcmFja3MoKVswXTtuJiZcImxpdmVcIj09PW4ucmVhZHlTdGF0ZSYmKFF5LmRlYnVnKFwiYXV0byByZXN1bWUgYWZ0ZXIgaW50ZXJydXB0aW9uIGluc2lkZSBhdXRvUmVzdW1lQWZ0ZXJJbnRlcnJ1cHRpb25PbklPUzE1XCIpLGkucGF1c2UoKSxpLnBsYXkoKSl9KSl9KSksdGhpcy5hdXRvUmVzdW1lQXVkaW9FbGVtZW50KCksTlAub24oVkQuSU9TX0lOVEVSUlVQVElPTl9FTkQsdGhpcy5hdXRvUmVzdW1lQWZ0ZXJJbnRlcnJ1cHRpb24pLE5QLm9uKFZELklPU18xNV8xNl9JTlRFUlJVUFRJT05fRU5ELHRoaXMuYXV0b1Jlc3VtZUFmdGVySW50ZXJydXB0aW9uT25JT1MxNV8xNiksTlAub24oVkQuU1RBVEVfQ0hBTkdFLCgoKT0+e01JKCkmJlwic3VzcGVuZGVkXCI9PT1OUC5wcmV2U3RhdGUmJlwicnVubmluZ1wiPT09TlAuY3VyU3RhdGUmJnRoaXMuYXV0b1Jlc3VtZUFmdGVySW50ZXJydXB0aW9uKCl9KSl9YXN5bmMgc2V0U2lua0lEKGUsdCl7Y29uc3QgaT10aGlzLmVsZW1lbnRNYXAuZ2V0KGUpO2lmKHRoaXMuc2lua0lkTWFwLnNldChlLHQpLGkpdHJ5e2F3YWl0IGkuc2V0U2lua0lkKHQpfWNhdGNoKGUpe3Rocm93IG5ldyBydihudi5QRVJNSVNTSU9OX0RFTklFRCxcImNhbiBub3Qgc2V0IHNpbmsgaWQ6IFwiK2UudG9TdHJpbmcoKSl9fXBsYXkoZSx0LGksbil7aWYodGhpcy5lbGVtZW50TWFwLmhhcyh0KSlyZXR1cm47Y29uc3Qgcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYXVkaW9cIik7ci5hdXRvcGxheT0hMCxyLnNyY09iamVjdD1uZXcgTWVkaWFTdHJlYW0oW2VdKSx0aGlzLmJpbmRBdWRpb0VsZW1lbnRFdmVudHModCxyKSx0aGlzLmVsZW1lbnRNYXAuc2V0KHQsciksdGhpcy5lbGVtZW50U3RhdGVNYXAuc2V0KHQsVFAuSU5JVCksdGhpcy5zZXRWb2x1bWUodCxpKTtjb25zdCBvPXRoaXMuc2lua0lkTWFwLmdldCh0KTtpZihvKXRyeXtyLnNldFNpbmtJZChvKS5jYXRjaCgoZT0+e1F5Lndhcm5pbmcoXCJbXCIuY29uY2F0KHQsXCJdIHNldCBzaW5rIGlkIGZhaWxlZFwiKSxlLnRvU3RyaW5nKCkpfSkpfWNhdGNoKGUpe1F5Lndhcm5pbmcoXCJbXCIuY29uY2F0KHQsXCJdIHNldCBzaW5rIGlkIGZhaWxlZFwiKSxlLnRvU3RyaW5nKCkpfWNvbnN0IHM9ci5wbGF5KCk7cyYmcy50aGVuJiZzLmNhdGNoKChlPT57biYmWlAobixcImF1ZGlvXCIsZS5tZXNzYWdlLHQpLFF5Lndhcm5pbmcoXCJhdWRpbyBlbGVtZW50IHBsYXkgd2FybmluZ1wiLGUudG9TdHJpbmcoKSksdGhpcy5lbGVtZW50TWFwLmhhcyh0KSYmXCJOb3RBbGxvd2VkRXJyb3JcIj09PWUubmFtZSYmKFF5Lndhcm5pbmcoXCJkZXRlY3RlZCBhdWRpbyBlbGVtZW50IGF1dG9wbGF5IGZhaWxlZFwiKSx0aGlzLmVsZW1lbnRzTmVlZFRvUmVzdW1lLnB1c2gociksanYoKCgpPT57dGhpcy5vbkF1dG9wbGF5RmFpbGVkJiZ0aGlzLm9uQXV0b3BsYXlGYWlsZWQoKSxRUCgpfSkpKX0pKX11cGRhdGVUcmFjayhlLHQpe2NvbnN0IGk9dGhpcy5lbGVtZW50TWFwLmdldChlKTtpJiYoaS5zcmNPYmplY3Q9bmV3IE1lZGlhU3RyZWFtKFt0XSkpfWlzUGxheWluZyhlKXtyZXR1cm4gdGhpcy5lbGVtZW50TWFwLmhhcyhlKSYmXCJwbGF5aW5nXCI9PT10aGlzLmVsZW1lbnRTdGF0ZU1hcC5nZXQoZSl9c2V0Vm9sdW1lKGUsdCl7Y29uc3QgaT10aGlzLmVsZW1lbnRNYXAuZ2V0KGUpO2kmJih0PU1hdGgubWF4KDAsTWF0aC5taW4oMTAwLHQpKSxpLnZvbHVtZT10LzEwMCl9c3RvcChlKXtjb25zdCB0PXRoaXMuZWxlbWVudE1hcC5nZXQoZSk7aWYodGhpcy5zaW5rSWRNYXAuZGVsZXRlKGUpLCF0KXJldHVybjtjb25zdCBpPXRoaXMuZWxlbWVudHNOZWVkVG9SZXN1bWUuaW5kZXhPZih0KTt0aGlzLmVsZW1lbnRzTmVlZFRvUmVzdW1lLnNwbGljZShpLDEpLHQuc3JjT2JqZWN0PW51bGwsdC5yZW1vdmUoKSx0aGlzLmVsZW1lbnRNYXAuZGVsZXRlKGUpLHRoaXMuZWxlbWVudFN0YXRlTWFwLmRlbGV0ZShlKX1iaW5kQXVkaW9FbGVtZW50RXZlbnRzKGUsdCl7JFAuZm9yRWFjaCgoaT0+e3QuYWRkRXZlbnRMaXN0ZW5lcihpLChpPT57Y29uc3Qgbj10aGlzLmVsZW1lbnRTdGF0ZU1hcC5nZXQoZSkscj1cInBhdXNlXCI9PT1pLnR5cGU/XCJwYXVzZWRcIjppLnR5cGU7aWYoUXkuZGVidWcoXCJbXCIuY29uY2F0KGUsXCJdIGF1ZGlvLWVsZW1lbnQtc3RhdHVzIGNoYW5nZSBcIikuY29uY2F0KG4sXCIgPT4gXCIpLmNvbmNhdChyKSksXCJlcnJvclwiPT09aS50eXBlKXtjb25zdCBpPW51bGw9PXQ/dm9pZCAwOnQuZXJyb3I7aSYmUXkuZXJyb3IoXCJbXCIuY29uY2F0KGUsXCJdIG1lZGlhIGVycm9yLCBjb2RlOiBcIikuY29uY2F0KGkuY29kZSxcIiwgbWVzc2FnZTogXCIpLmNvbmNhdChpLm1lc3NhZ2UpKX10aGlzLmVsZW1lbnRTdGF0ZU1hcC5zZXQoZSxyKX0pKX0pKX1nZXRQbGF5ZXJTdGF0ZShlKXtyZXR1cm4gdGhpcy5lbGVtZW50U3RhdGVNYXAuZ2V0KGUpfHxcInVuaW5pdFwifWF1dG9SZXN1bWVBdWRpb0VsZW1lbnQoKXtjb25zdCBlPSgpPT57dGhpcy5lbGVtZW50c05lZWRUb1Jlc3VtZS5mb3JFYWNoKChlPT57ZS5wbGF5KCkudGhlbigoZT0+e1F5LmRlYnVnKFwiQXV0byByZXN1bWUgYXVkaW8gZWxlbWVudCBzdWNjZXNzXCIpfSkpLmNhdGNoKChlPT57UXkud2FybmluZyhcIkF1dG8gcmVzdW1lIGF1ZGlvIGVsZW1lbnQgZmFpbGVkIVwiLGUpfSkpfSkpLHRoaXMuZWxlbWVudHNOZWVkVG9SZXN1bWU9W119O25ldyBHaCgoZT0+e2RvY3VtZW50LmJvZHk/ZSgpOndpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCgoKT0+ZSgpKSl9KSkudGhlbigoKCk9PnskSSgpP2RvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZSwhMCk6KGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIixlLCEwKSxkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIixlLCEwKSl9KSl9fTtmdW5jdGlvbiB0TCgpe3JldHVybiBmdW5jdGlvbihlLHQsaSl7Y29uc3Qgbj1pLnZhbHVlO3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIG4mJihpLnZhbHVlPWZ1bmN0aW9uKCl7dGhpcy5faXNDbG9zZWQmJm5ldyBydihudi5JTlZBTElEX09QRVJBVElPTixcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIGNhbm5vdCBvcGVyYXRlIGEgY2xvc2VkIHRyYWNrXCIpKS5wcmludChcIndhcm5pbmdcIixReSk7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsdD1uZXcgQXJyYXkoZSksaT0wO2k8ZTtpKyspdFtpXT1hcmd1bWVudHNbaV07Y29uc3Qgcj1uLmFwcGx5KHRoaXMsdCk7cmV0dXJuIHIgaW5zdGFuY2VvZiBHaD9uZXcgR2goKChlLHQpPT57ci50aGVuKGUpLmNhdGNoKHQpfSkpOnJ9KSxpfX1jbGFzcyBpTCBleHRlbmRzIFN2e2NvbnN0cnVjdG9yKGUpe3N1cGVyKCksSVAodGhpcyxcIm5hbWVcIixcIlZpZGVvUHJvY2Vzc29yRGVzdGluYXRpb25cIiksSVAodGhpcyxcIklEXCIsXCIwXCIpLElQKHRoaXMsXCJfc291cmNlXCIsdm9pZCAwKSxJUCh0aGlzLFwidmlkZW9Db250ZXh0XCIsdm9pZCAwKSxJUCh0aGlzLFwiaW5wdXRUcmFja1wiLHZvaWQgMCksdGhpcy52aWRlb0NvbnRleHQ9ZX1nZXQga2luZCgpe3JldHVyblwidmlkZW9cIn1nZXQgZW5hYmxlZCgpe3JldHVybiEwfXBpcGUoKXt0aHJvdyBuZXcgcnYobnYuTk9UX1NVUFBPUlRFRCxcIlZpZGVvUHJvY2Vzc29yIGNhbm5vdCBwaXBlIHRvIGFueSBvdGhlciBQcm9jZXNzb3JcIil9dW5waXBlKCl7dGhyb3cgbmV3IHJ2KG52Lk5PVF9TVVBQT1JURUQsXCJWaWRlb1Byb2Nlc3NvciBjYW5ub3QgdW5waXBlIHRvIGFueSBvdGhlciBQcm9jZXNzb3JcIil9ZW5hYmxlKCl7fWRpc2FibGUoKXt9dXBkYXRlSW5wdXQoZSl7aWYoZS5jb250ZXh0IT09dGhpcy52aWRlb0NvbnRleHQpdGhyb3cgbmV3IEVycm9yKFwiUHJvY2Vzc29yQ29udGV4dCBwYXNzZWQgdG8gVmlkZW9UcmFjay5wcm9jZXNzb3JEZXN0aW5hdGlvbiBkb2Vzbid0IG1hdGNoIGl0J3MgYmVsb25naW5nIFZpZGVvVHJhY2sncyBjb250ZXh0LlxcblByb2JhYmx5IHlvdSBhcmUgbWFraW5nIHBpcGVsaW5lIGxpa2UgdGhpczpcXG52aWRlb1RyYWNrMS5waXBlKHByb2Nlc3NvcikucGlwZSh2aWRlb1RyYWNrMi5wcm9jZXNzb3JEZXN0aW5hdGlvbikuXCIpO2UudHJhY2smJmUudHJhY2shPT10aGlzLmlucHV0VHJhY2smJih0aGlzLnZpZGVvQ29udGV4dC5jaGFpbmVkPSEwLHRoaXMuaW5wdXRUcmFjaz1lLnRyYWNrLHRoaXMuZW1pdChfUC5PTl9UUkFDSyxlLnRyYWNrKSl9cmVzZXQoKXt0aGlzLmlucHV0VHJhY2s9dm9pZCAwLHRoaXMudmlkZW9Db250ZXh0LmNoYWluZWQ9ITEsdGhpcy5lbWl0KF9QLk9OX1RSQUNLLHZvaWQgMCl9fWNsYXNzIG5MIGV4dGVuZHMgU3Z7c2V0IGNoYWluZWQoZSl7dGhpcy5fY2hhaW5lZD1lfWdldCBjaGFpbmVkKCl7cmV0dXJuIHRoaXMuX2NoYWluZWR9Y29uc3RydWN0b3IoZSx0KXtzdXBlcigpLElQKHRoaXMsXCJjb25zdHJhaW50c01hcFwiLG5ldyBNYXApLElQKHRoaXMsXCJzdGF0c1JlZ2lzdHJ5XCIsW10pLElQKHRoaXMsXCJ1c2FnZVJlZ2lzdHJ5XCIsW10pLElQKHRoaXMsXCJ0cmFja0lkXCIsdm9pZCAwKSxJUCh0aGlzLFwiZGlyZWN0aW9uXCIsdm9pZCAwKSxJUCh0aGlzLFwiX2NoYWluZWRcIiwhMSksdGhpcy50cmFja0lkPWUsdGhpcy5kaXJlY3Rpb249dH1hc3luYyBnZXRDb25zdHJhaW50cygpe3JldHVybiBhd2FpdCBrdih0aGlzLEVQLlJFUVVFU1RfQ09OU1RSQUlOVFMpfWFzeW5jIHJlcXVlc3RBcHBseUNvbnN0cmFpbnRzKGUsdCl7dmFyIGk7cmV0dXJuIFF5LmluZm8oXCJwcm9jZXNzb3IgXCIuY29uY2F0KHQubmFtZSxcIiByZXF1ZXN0QXBwbHlDb25zdHJhaW50cyBmb3IgXCIpLmNvbmNhdCh0aGlzLnRyYWNrSWQpKSxlJiZ0aGlzLmNvbnN0cmFpbnRzTWFwLnNldCh0LGUpLE12KHRoaXMsRVAuUkVRVUVTVF9VUERBVEVfQ09OU1RSQUlOVFMsQXJyYXkuZnJvbShRdyhpPXRoaXMuY29uc3RyYWludHNNYXApLmNhbGwoaSkpKX1hc3luYyByZXF1ZXN0UmV2ZXJ0Q29uc3RyYWludHMoZSl7dmFyIHQ7aWYodGhpcy5jb25zdHJhaW50c01hcC5oYXMoZSkpcmV0dXJuIFF5LmluZm8oXCJwcm9jZXNzb3IgXCIuY29uY2F0KGUubmFtZSxcIiByZXF1ZXN0UmV2ZXJ0Q29uc3RyYWludHMgZm9yIFwiKS5jb25jYXQodGhpcy50cmFja0lkKSksdGhpcy5jb25zdHJhaW50c01hcC5kZWxldGUoZSksTXYodGhpcyxFUC5SRVFVRVNUX1VQREFURV9DT05TVFJBSU5UUyxBcnJheS5mcm9tKFF3KHQ9dGhpcy5jb25zdHJhaW50c01hcCkuY2FsbCh0KSkpfXJlZ2lzdGVyU3RhdHMoZSx0LGkpe3RoaXMuc3RhdHNSZWdpc3RyeS5maW5kKChpPT5pLnByb2Nlc3NvcklEPT09ZS5JRCYmaS5wcm9jZXNzb3JOYW1lPT09ZS5uYW1lJiZpLnR5cGU9PT10KSl8fHRoaXMuc3RhdHNSZWdpc3RyeS5wdXNoKHtwcm9jZXNzb3JOYW1lOmUubmFtZSxwcm9jZXNzb3JJRDplLklELHR5cGU6dCxjYjppfSl9dW5yZWdpc3RlclN0YXRzKGUsdCl7Y29uc3QgaT10aGlzLnN0YXRzUmVnaXN0cnkuZmluZEluZGV4KChpPT5pLnByb2Nlc3NvcklEPT09ZS5JRCYmaS5wcm9jZXNzb3JOYW1lPT09ZS5uYW1lJiZpLnR5cGU9PT10KSk7LTEhPT1pJiZ0aGlzLnN0YXRzUmVnaXN0cnkuc3BsaWNlKGksMSl9Z2F0aGVyU3RhdHMoKXtjb25zdCBlPVtdO2Zvcihjb25zdHtwcm9jZXNzb3JJRDp0LHByb2Nlc3Nvck5hbWU6aSx0eXBlOm4sY2I6cn1vZiB0aGlzLnN0YXRzUmVnaXN0cnkpdHJ5e2NvbnN0IG89cigpO2UucHVzaCh7cHJvY2Vzc29ySUQ6dCxwcm9jZXNzb3JOYW1lOmksdHlwZTpuLHN0YXRzOm99KX1jYXRjaChlKXtReS5lcnJvcihuZXcgcnYobnYuVU5FWFBFQ1RFRF9FUlJPUixlLm1lc3NhZ2UpKX1yZXR1cm4gZX1yZWdpc3RlclVzYWdlKGUsdCl7dGhpcy51c2FnZVJlZ2lzdHJ5LmZpbmQoKHQ9PnQucHJvY2Vzc29ySUQ9PT1lLklEJiZ0LnByb2Nlc3Nvck5hbWU9PT1lLm5hbWUpKXx8dGhpcy51c2FnZVJlZ2lzdHJ5LnB1c2goe3Byb2Nlc3NvcklEOmUuSUQscHJvY2Vzc29yTmFtZTplLm5hbWUsY2I6dH0pfXVucmVnaXN0ZXJVc2FnZShlKXtjb25zdCB0PXRoaXMudXNhZ2VSZWdpc3RyeS5maW5kSW5kZXgoKHQ9PnQucHJvY2Vzc29ySUQ9PT1lLklEJiZ0LnByb2Nlc3Nvck5hbWU9PT1lLm5hbWUpKTstMSE9PXQmJnRoaXMudXNhZ2VSZWdpc3RyeS5zcGxpY2UodCwxKX1hc3luYyBnYXRoZXJVc2FnZSgpe2NvbnN0IGU9W107aWYoIXRoaXMuY2hhaW5lZClyZXR1cm5bXTtmb3IoY29uc3R7Y2I6dH1vZiB0aGlzLnVzYWdlUmVnaXN0cnkpdHJ5e2xldCBpPXQoKTtpIGluc3RhbmNlb2YgR2gmJihpPWF3YWl0IGkpLGUucHVzaCh5UCh5UCh7fSxpKSx7fSx7ZGlyZWN0aW9uOnRoaXMuZGlyZWN0aW9ufSkpfWNhdGNoKGUpe1F5LmVycm9yKFwiZ2F0aGVyIGV4dGVuc2lvbiB1c2FnZSBlcnJvclwiLGUpfXJldHVybiBlfWdldERpcmVjdGlvbigpe3JldHVybiB0aGlzLmRpcmVjdGlvbn19Y2xhc3MgckwgZXh0ZW5kcyBTdntjb25zdHJ1Y3RvcihlKXtzdXBlcigpLElQKHRoaXMsXCJuYW1lXCIsXCJBdWRpb1Byb2Nlc3NvckRlc3RpbmF0aW9uXCIpLElQKHRoaXMsXCJJRFwiLFwiMFwiKSxJUCh0aGlzLFwiaW5wdXRUcmFja1wiLHZvaWQgMCksSVAodGhpcyxcImlucHV0Tm9kZVwiLHZvaWQgMCksSVAodGhpcyxcImF1ZGlvUHJvY2Vzc29yQ29udGV4dFwiLHZvaWQgMCksSVAodGhpcyxcIl9zb3VyY2VcIix2b2lkIDApLHRoaXMuYXVkaW9Qcm9jZXNzb3JDb250ZXh0PWV9Z2V0IGtpbmQoKXtyZXR1cm5cImF1ZGlvXCJ9Z2V0IGVuYWJsZWQoKXtyZXR1cm4hMH1waXBlKCl7dGhyb3cgbmV3IHJ2KG52Lk5PVF9TVVBQT1JURUQsXCJBdWRpb1Byb2Nlc3NvckRlc3RpbmF0aW9uIGNhbm5vdCBwaXBlIHRvIGFueSBvdGhlciBQcm9jZXNzb3JcIil9dW5waXBlKCl7dGhyb3cgbmV3IHJ2KG52Lk5PVF9TVVBQT1JURUQsXCJBdWRpb1Byb2Nlc3NvciBjYW5ub3QgdW5waXBlIHRvIGFueSBvdGhlciBQcm9jZXNzb3JcIil9ZW5hYmxlKCl7fWRpc2FibGUoKXt9cmVzZXQoKXt0aGlzLmlucHV0VHJhY2s9dm9pZCAwLHRoaXMuaW5wdXROb2RlPXZvaWQgMCx0aGlzLmF1ZGlvUHJvY2Vzc29yQ29udGV4dC5jaGFpbmVkPSExLHRoaXMuZW1pdChfUC5PTl9UUkFDSyx2b2lkIDApLHRoaXMuZW1pdChfUC5PTl9OT0RFLHZvaWQgMCl9dXBkYXRlSW5wdXQoZSl7aWYoZS5jb250ZXh0IT09dGhpcy5hdWRpb1Byb2Nlc3NvckNvbnRleHQpdGhyb3cgbmV3IEVycm9yKFwiUHJvY2Vzc29yQ29udGV4dCBwYXNzZWQgdG8gQXVkaW9UcmFjay5wcm9jZXNzb3JEZXN0aW5hdGlvbiBkb2Vzbid0IG1hdGNoIGl0J3MgYmVsb25naW5nIEF1ZGlvVHJhY2sncyBjb250ZXh0LlxcbiAgICAgICAgUHJvYmFibHkgeW91IGFyZSBtYWtpbmcgcGlwZWxpbmUgbGlrZSB0aGlzOiBhdWRpb1RyYWNrMS5waXBlKHByb2Nlc3NvcikucGlwZShhdWRpb1RyYWNrMi5wcm9jZXNzb3JEZXN0aW5hdGlvbikuXCIpO2UudHJhY2smJnRoaXMuaW5wdXRUcmFjayE9PWUudHJhY2smJih0aGlzLmF1ZGlvUHJvY2Vzc29yQ29udGV4dC5jaGFpbmVkPSEwLHRoaXMuaW5wdXRUcmFjaz1lLnRyYWNrLHRoaXMuZW1pdChfUC5PTl9UUkFDSyx0aGlzLmlucHV0VHJhY2spKSxlLm5vZGUmJnRoaXMuaW5wdXROb2RlIT09ZS5ub2RlJiYodGhpcy5hdWRpb1Byb2Nlc3NvckNvbnRleHQuY2hhaW5lZD0hMCx0aGlzLmlucHV0Tm9kZT1lLm5vZGUsdGhpcy5lbWl0KF9QLk9OX05PREUsdGhpcy5pbnB1dE5vZGUpKX19Y2xhc3Mgb0wgZXh0ZW5kcyBTdntzZXQgY2hhaW5lZChlKXt0aGlzLl9jaGFpbmVkPWV9Z2V0IGNoYWluZWQoKXtyZXR1cm4gdGhpcy5fY2hhaW5lZH1jb25zdHJ1Y3RvcihlLHQsaSl7c3VwZXIoKSxJUCh0aGlzLFwiY29uc3RyYWludHNNYXBcIixuZXcgTWFwKSxJUCh0aGlzLFwic3RhdHNSZWdpc3RyeVwiLFtdKSxJUCh0aGlzLFwiYXVkaW9Db250ZXh0XCIsdm9pZCAwKSxJUCh0aGlzLFwidHJhY2tJZFwiLHZvaWQgMCksSVAodGhpcyxcImRpcmVjdGlvblwiLHZvaWQgMCksSVAodGhpcyxcInVzYWdlUmVnaXN0cnlcIixbXSksSVAodGhpcyxcIl9jaGFpbmVkXCIsITEpLHRoaXMuYXVkaW9Db250ZXh0PWUsdGhpcy50cmFja0lkPXQsdGhpcy5kaXJlY3Rpb249aX1hc3luYyBnZXRDb25zdHJhaW50cygpe3JldHVybiBrdih0aGlzLEVQLlJFUVVFU1RfQ09OU1RSQUlOVFMpfWdldEF1ZGlvQ29udGV4dCgpe3JldHVybiB0aGlzLmF1ZGlvQ29udGV4dH1hc3luYyByZXF1ZXN0QXBwbHlDb25zdHJhaW50cyhlLHQpe3ZhciBpO3JldHVybiBReS5pbmZvKFwicHJvY2Vzc29yIFwiLmNvbmNhdCh0Lm5hbWUsXCIgcmVxdWVzdEFwcGx5Q29uc3RyYWludHMgZm9yIFwiKS5jb25jYXQodGhpcy50cmFja0lkKSksZSYmdGhpcy5jb25zdHJhaW50c01hcC5zZXQodCxlKSxNdih0aGlzLEVQLlJFUVVFU1RfVVBEQVRFX0NPTlNUUkFJTlRTLEFycmF5LmZyb20oUXcoaT10aGlzLmNvbnN0cmFpbnRzTWFwKS5jYWxsKGkpKSl9YXN5bmMgcmVxdWVzdFJldmVydENvbnN0cmFpbnRzKGUpe3ZhciB0O2lmKHRoaXMuY29uc3RyYWludHNNYXAuaGFzKGUpKXJldHVybiB0aGlzLmNvbnN0cmFpbnRzTWFwLmRlbGV0ZShlKSxNdih0aGlzLEVQLlJFUVVFU1RfVVBEQVRFX0NPTlNUUkFJTlRTLEFycmF5LmZyb20oUXcodD10aGlzLmNvbnN0cmFpbnRzTWFwKS5jYWxsKHQpKSl9cmVnaXN0ZXJTdGF0cyhlLHQsaSl7dGhpcy5zdGF0c1JlZ2lzdHJ5LmZpbmQoKGk9PmkucHJvY2Vzc29ySUQ9PT1lLklEJiZpLnByb2Nlc3Nvck5hbWU9PT1lLm5hbWUmJmkudHlwZT09PXQpKXx8dGhpcy5zdGF0c1JlZ2lzdHJ5LnB1c2goe3Byb2Nlc3Nvck5hbWU6ZS5uYW1lLHByb2Nlc3NvcklEOmUuSUQsdHlwZTp0LGNiOml9KX11bnJlZ2lzdGVyU3RhdHMoZSx0KXtjb25zdCBpPXRoaXMuc3RhdHNSZWdpc3RyeS5maW5kSW5kZXgoKGk9PmkucHJvY2Vzc29ySUQ9PT1lLklEJiZpLnByb2Nlc3Nvck5hbWU9PT1lLm5hbWUmJmkudHlwZT09PXQpKTstMSE9PWkmJnRoaXMuc3RhdHNSZWdpc3RyeS5zcGxpY2UoaSwxKX1nYXRoZXJTdGF0cygpe2NvbnN0IGU9W107Zm9yKGNvbnN0e3Byb2Nlc3NvcklEOnQscHJvY2Vzc29yTmFtZTppLHR5cGU6bixjYjpyfW9mIHRoaXMuc3RhdHNSZWdpc3RyeSl0cnl7Y29uc3Qgbz1yKCk7ZS5wdXNoKHtwcm9jZXNzb3JJRDp0LHByb2Nlc3Nvck5hbWU6aSx0eXBlOm4sc3RhdHM6b30pfWNhdGNoKGUpe1F5LmVycm9yKG5ldyBydihudi5VTkVYUEVDVEVEX0VSUk9SLGUubWVzc2FnZSkpfXJldHVybiBlfXJlZ2lzdGVyVXNhZ2UoZSx0KXt0aGlzLnVzYWdlUmVnaXN0cnkuZmluZCgodD0+dC5wcm9jZXNzb3JJRD09PWUuSUQmJnQucHJvY2Vzc29yTmFtZT09PWUubmFtZSkpfHx0aGlzLnVzYWdlUmVnaXN0cnkucHVzaCh7cHJvY2Vzc29ySUQ6ZS5JRCxwcm9jZXNzb3JOYW1lOmUubmFtZSxjYjp0fSl9dW5yZWdpc3RlclVzYWdlKGUpe2NvbnN0IHQ9dGhpcy51c2FnZVJlZ2lzdHJ5LmZpbmRJbmRleCgodD0+dC5wcm9jZXNzb3JJRD09PWUuSUQmJnQucHJvY2Vzc29yTmFtZT09PWUubmFtZSkpOy0xIT09dCYmdGhpcy51c2FnZVJlZ2lzdHJ5LnNwbGljZSh0LDEpfWFzeW5jIGdhdGhlclVzYWdlKCl7Y29uc3QgZT1bXTtpZighdGhpcy5jaGFpbmVkKXJldHVybltdO2Zvcihjb25zdHtjYjp0fW9mIHRoaXMudXNhZ2VSZWdpc3RyeSl0cnl7bGV0IGk9dCgpO2kgaW5zdGFuY2VvZiBHaCYmKGk9YXdhaXQgaSksZS5wdXNoKHlQKHlQKHt9LGkpLHt9LHtkaXJlY3Rpb246dGhpcy5kaXJlY3Rpb259KSl9Y2F0Y2goZSl7UXkuZXJyb3IoXCJnYXRoZXIgZXh0ZW5zaW9uIHVzYWdlIGVycm9yXCIsZSl9cmV0dXJuIGV9Z2V0RGlyZWN0aW9uKCl7cmV0dXJuIHRoaXMuZGlyZWN0aW9ufX1jbGFzcyBzTCBleHRlbmRzIFN2e2dldCBpc1BsYXllZCgpe3JldHVybiEwfWdldCBpc0ZyZWV6ZSgpe3JldHVybiExfWNvbnN0cnVjdG9yKCl7c3VwZXIoKSxJUCh0aGlzLFwiY29udGV4dFwiLHZvaWQgMCksSVAodGhpcyxcInByb2Nlc3NTb3VyY2VOb2RlXCIsdm9pZCAwKSxJUCh0aGlzLFwib3V0cHV0VHJhY2tcIix2b2lkIDApLElQKHRoaXMsXCJwcm9jZXNzZWROb2RlXCIsdm9pZCAwKSxJUCh0aGlzLFwiY2xvbmVkVHJhY2tcIix2b2lkIDApLElQKHRoaXMsXCJvdXRwdXROb2RlXCIsdm9pZCAwKSx0aGlzLm91dHB1dE5vZGU9bmV3IGFMfXNldFZvbHVtZSgpe31jcmVhdGVPdXRwdXRUcmFjaygpe3Rocm93IG5ldyBydihudi5OT1RfU1VQUE9SVEVELFwiY2FuIG5vdCBjcmVhdGUgb3V0cHV0IE1lZGlhU3RyZWFtVHJhY2sgd2hlbiBXZWJBdWRpbyBkaXNhYmxlZFwiKX1nZXRPcmlnaW5Wb2x1bWVMZXZlbCgpe3JldHVybiAwfWdldEFjY3VyYXRlVm9sdW1lTGV2ZWwoKXtyZXR1cm4gMH1zdG9wR2V0QXVkaW9CdWZmZXIoKXt9c3RhcnRHZXRBdWRpb0J1ZmZlcigpe31wbGF5KCl7fXN0b3AoKXt9ZGVzdHJveSgpe311cGRhdGVUcmFjaygpe311cGRhdGVPcmlnaW5UcmFjaygpe31jcmVhdGVNZWRpYVN0cmVhbVNvdXJjZU5vZGUoKXt9fWNsYXNzIGFMe2Rpc2Nvbm5lY3QoKXt9Y29ubmVjdCgpe319ZnVuY3Rpb24gY0woZSl7cmV0dXJuIG5ldyBHaCgoKHQsaSk9PntsZXQgbj0hMTtjb25zdCByPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ2aWRlb1wiKTtyLnNldEF0dHJpYnV0ZShcImF1dG9wbGF5XCIsXCJcIiksci5zZXRBdHRyaWJ1dGUoXCJtdXRlZFwiLFwiXCIpLHIubXV0ZWQ9ITAsci5hdXRvcGxheT0hMCxyLnNldEF0dHJpYnV0ZShcInBsYXlzaW5saW5lXCIsXCJcIiksci5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLFwicG9zaXRpb246IGZpeGVkOyB0b3A6IDA7IGxlZnQ6IDA7IHdpZHRoOiAxcHg7IGhlaWdodDogMXB4XCIpLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQocik7Y29uc3Qgbz1NSSgpP1wiY2FucGxheVwiOlwicGxheWluZ1wiO3IuYWRkRXZlbnRMaXN0ZW5lcihvLCgoKT0+e2NvbnN0IGU9ci52aWRlb1dpZHRoLGk9ci52aWRlb0hlaWdodDshZSYma0koKXx8KG49ITAsci5zcmNPYmplY3Q9bnVsbCxyLnJlbW92ZSgpLHQoW2UsaV0pKX0pKSxyLnNyY09iamVjdD1uZXcgTWVkaWFTdHJlYW0oW2VdKSxyLnBsYXkoKS5jYXRjaChpeSksc2V0VGltZW91dCgoKCk9PntufHwoci5zcmNPYmplY3Q9bnVsbCxyLnJlbW92ZSgpLHQoW3IudmlkZW9XaWR0aCxyLnZpZGVvSGVpZ2h0XSkpfSksNGUzKX0pKX1mdW5jdGlvbiBkTChlKXtjb25zdCB0PXt9O2UuZmFjaW5nTW9kZSYmKHQuZmFjaW5nTW9kZT1lLmZhY2luZ01vZGUpLGUuY2FtZXJhSWQmJih0LmRldmljZUlkPXtleGFjdDplLmNhbWVyYUlkfSk7Y29uc3QgaT1ZRChlLmVuY29kZXJDb25maWcpO3JldHVybiBudWxsIT1pLndpZHRoJiYodC53aWR0aD1pLndpZHRoKSxudWxsIT1pLmhlaWdodCYmKHQuaGVpZ2h0PWkuaGVpZ2h0KSwhSkkoKSYmaS5mcmFtZVJhdGUmJih0LmZyYW1lUmF0ZT1pLmZyYW1lUmF0ZSksTEkoKSYmXCJvYmplY3RcIj09dHlwZW9mIHQuZnJhbWVSYXRlJiYodC5mcmFtZVJhdGUubWF4PTYwKSxrSSgpJiYodC5mcmFtZVJhdGU9e2lkZWFsOjMwLG1heDozMH0pLHR9ZnVuY3Rpb24gbEwoZSl7Y29uc3QgdD17fTtpZihKSSgpfHwodm9pZCAwIT09ZS5BR0MmJih0LmF1dG9HYWluQ29udHJvbD1lLkFHQyksdm9pZCAwIT09ZS5BRUMmJih0LmVjaG9DYW5jZWxsYXRpb249ZS5BRUMpLHZvaWQgMCE9PWUuQU5TJiYodC5ub2lzZVN1cHByZXNzaW9uPWUuQU5TLERJKCkmJmUuQU5TJiYodC5nb29nSGlnaHBhc3NGaWx0ZXI9ZS5BTlMpKSksZS5lbmNvZGVyQ29uZmlnKXtjb25zdCBpPVhEKGUuZW5jb2RlckNvbmZpZyk7dC5jaGFubmVsQ291bnQ9aS5zdGVyZW8/MjoxLHQuc2FtcGxlUmF0ZT1pLnNhbXBsZVJhdGUsdC5zYW1wbGVTaXplPWkuc2FtcGxlU2l6ZX1yZXR1cm4gZS5taWNyb3Bob25lSWQmJih0LmRldmljZUlkPXtleGFjdDplLm1pY3JvcGhvbmVJZH0pLFpJKCkmJih0LnNhbXBsZVJhdGU9dm9pZCAwKSx0fWNvbnN0IHVMPWU9Pntjb25zdCB0PWUuX2VuY29kZXJDb25maWc7aWYoIXQpcmV0dXJuO2NvbnN0e2ZyYW1lUmF0ZTppLHdpZHRoOm4saGVpZ2h0OnJ9PWUuZ2V0TWVkaWFTdHJlYW1UcmFja1NldHRpbmdzKCk7bGV0e2ZyYW1lUmF0ZTpvPWksd2lkdGg6cz1uLGhlaWdodDphPXJ9PXQ7aWYoIW98fCFzfHwhYSlyZXR1cm47cz1jeShzKSxhPWN5KGEpLG89Y3kobyk7Y29uc3R7bWF4OmMsbWluOmR9PWZ1bmN0aW9uKGUsdCxpKXtjb25zdCBuPTIwMCpNYXRoLnBvdyhpLzE1LC42KSpNYXRoLnBvdyhlKnQvNjQwLzM2MCwuNzUpO3JldHVybnttaW46TWF0aC5mbG9vcihuKSxtYXg6TWF0aC5mbG9vcig0Km4pfX0ocyxhLG8pLHtiaXRyYXRlTWF4OmwsYml0cmF0ZU1pbjp1fT10fHx7fTtsfHxReS5kZWJ1ZyhcImNhbGN1bGF0ZSBiaXRyYXRlOiBbdzogXCIuY29uY2F0KHMsXCIsIGg6IFwiKS5jb25jYXQoYSxcIiwgZnBzOiBcIikuY29uY2F0KG8sXCJdID0+IFtick1heDogXCIpLmNvbmNhdChsLFwiLCBick1pbjogXCIpLmNvbmNhdCh1LFwiXVwiKSk7Y29uc3R7bWF4RnJhbWVyYXRlOmh9PUR5KFwiRU5DT0RFUl9DT05GSUdfTElNSVRcIik7cmV0dXJuIGgmJlwibnVtYmVyXCI9PXR5cGVvZiBoJiYobz1NYXRoLm1pbihvLGgpKSx7ZnJhbWVSYXRlOm8sYml0cmF0ZU1heDpsfHxjLGJpdHJhdGVNaW46dXx8ZCxzY2FsZVJlc29sdXRpb25Eb3duQnk6MSxzY2FsZTowfX0saEw9YXN5bmMoZSx0LGkpPT5hd2FpdChhc3luYyhlLHQsaSk9Pntjb25zdCBuPWZ1bmN0aW9uKGUpe2NvbnN0IHQ9W107Zm9yKGxldCBpPTA7aTxlLmxlbmd0aDtpKz0yKXQucHVzaChwYXJzZUludChlLnNsaWNlKGksaSsyKSwxNikpO3JldHVybiBVaW50OEFycmF5LmZyb20odCl9KGR5KFwiXCIrdCtpKSkuc2xpY2UoMCwxNikscj1uLnNsaWNlKDAsMTIpLG89YXdhaXQgd2luZG93LmNyeXB0by5zdWJ0bGUuaW1wb3J0S2V5KFwicmF3XCIsbixcIkFFUy1HQ01cIiwhMCxbXCJlbmNyeXB0XCJdKTtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoYXdhaXQgd2luZG93LmNyeXB0by5zdWJ0bGUuZW5jcnlwdCh7bmFtZTpcIkFFUy1HQ01cIixpdjpyfSxvLGUpKX0pKGUuYnVmZmVyLHQsaSkscEw9ZT0+e2NvbnN0IHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtyZXR1cm4gdC53aWR0aD0yLHQuaGVpZ2h0PTIsbmV3IEdoKCgoaSxuKT0+e3QudG9CbG9iKChhc3luYyBlPT57aWYodC5yZW1vdmUoKSxlKXtjb25zdCBuPWF3YWl0IF9MKGUpO2koe2J1ZmZlcjpuLHdpZHRoOnQud2lkdGgsaGVpZ2h0OnQuaGVpZ2h0fSl9ZWxzZSBuKG5ldyBydihudi5DT05WRVJUSU5HX1ZJREVPX0ZSQU1FX1RPX0JMT0JfRkFJTEVEKSl9KSxlLDEpfSkpfSxfTD1hc3luYyBlPT57Y29uc3QgdD1hd2FpdCBlLmFycmF5QnVmZmVyKCk7cmV0dXJuIG5ldyBVaW50OEFycmF5KHQpfTt2YXIgRUwsbUwsZkwsVEwsU0wsZ0wsUkwsQ0wsSUwsdkwseUwsQUwsYkwsd0wsT0wsTkwsREwsUEwsTEwsa0wsTUwsVUwseEwsVkwsRkwsQkwsakwsR0wsV0wsSEwsS0wsWUwscUwsekwsSkwsWEwsUUwsWkwsJEwsZWs7bGV0IHRrPShFTD1vQSh7YXJnc01hcDooZSx0KT0+W2UuZ2V0VHJhY2tJZCgpLHRdLHRocm90dGxlVGltZTozMDB9KSxtTD1vQSh7YXJnc01hcDooZSx0KT0+W2UuZ2V0VHJhY2tJZCgpLHRdfSksZkw9dEwoKSxUTD1weShcIkxvY2FsQXVkaW9UcmFja1wiLFwiX2VuYWJsZWRNdXRleFwiKSxTTD1vQSh7YXJnc01hcDooZSx0KT0+W2UuZ2V0VHJhY2tJZCgpLHRdfSksZ0w9dEwoKSxSTD1weShcIkxvY2FsQXVkaW9UcmFja1wiLFwiX2VuYWJsZWRNdXRleFwiKSxDTD1vQSh7YXJnc01hcDooZSx0KT0+W2UuZ2V0VHJhY2tJZCgpLHRdfSksSUw9dEwoKSx2TD10TCgpLHlMPXRMKCksQUw9b0Eoe2FyZ3NNYXA6ZT0+W2UuZ2V0VHJhY2tJZCgpXX0pLGJMPXRMKCksd0w9b0Eoe2FyZ3NNYXA6ZT0+W2UuZ2V0VHJhY2tJZCgpXX0pLE9MPXRMKCksTkw9b0Eoe2FyZ3NNYXA6ZT0+W2UuZ2V0VHJhY2tJZCgpXX0pLERMPW9BKHthcmdzTWFwOihlLHQpPT5bZS5nZXRUcmFja0lkKCksdC5uYW1lXX0pLFBMPW9BKHthcmdzTWFwOmU9PltlLmdldFRyYWNrSWQoKV19KSxDUCgoTEw9Y2xhc3MgZXh0ZW5kcyBiUHtnZXQgX3NvdXJjZSgpe3JldHVybiB0aGlzLmluaXRXZWJBdWRpbygpfXNldCBfc291cmNlKGUpe3RoaXMuX3RyYWNrU291cmNlPWV9Z2V0IHByb2Nlc3NvckNvbnRleHQoKXtyZXR1cm4gdGhpcy5fcHJvY2Vzc29yQ29udGV4dHx8KHRoaXMuX3Byb2Nlc3NvckNvbnRleHQ9dGhpcy5pbml0UHJvY2Vzc29yKCkucHJvY2Vzc29yQ29udGV4dCksdGhpcy5fcHJvY2Vzc29yQ29udGV4dH1nZXQgcHJvY2Vzc29yRGVzdGluYXRpb24oKXtyZXR1cm4gdGhpcy5fcHJvY2Vzc29yRGVzdGluYXRpb258fCh0aGlzLl9wcm9jZXNzb3JEZXN0aW5hdGlvbj10aGlzLmluaXRQcm9jZXNzb3IoKS5wcm9jZXNzb3JEZXN0aW5hdGlvbiksdGhpcy5fcHJvY2Vzc29yRGVzdGluYXRpb259Z2V0IGlzUGxheWluZygpe3JldHVybiB0aGlzLl91c2VBdWRpb0VsZW1lbnQ/ZUwuaXNQbGF5aW5nKHRoaXMuZ2V0VHJhY2tJZCgpKTp0aGlzLl9zb3VyY2UuaXNQbGF5ZWR9Z2V0IF9fY2xhc3NOYW1lX18oKXtyZXR1cm5cIkxvY2FsQXVkaW9UcmFja1wifWNvbnN0cnVjdG9yKGUsdCxpLG4pe3N1cGVyKGUsaSksSVAodGhpcyxcInRyYWNrTWVkaWFUeXBlXCIsYVAuQVVESU8pLElQKHRoaXMsXCJfZW5jb2RlckNvbmZpZ1wiLHZvaWQgMCksSVAodGhpcyxcIl90cmFja1NvdXJjZVwiLHZvaWQgMCksSVAodGhpcyxcIl9lbmFibGVkXCIsITApLElQKHRoaXMsXCJfdm9sdW1lXCIsMTAwKSxJUCh0aGlzLFwiX3VzZUF1ZGlvRWxlbWVudFwiLCEwKSxJUCh0aGlzLFwiX2J5cGFzc1dlYkF1ZGlvXCIsITEpLElQKHRoaXMsXCJwcm9jZXNzb3JcIix2b2lkIDApLElQKHRoaXMsXCJfcHJvY2Vzc29yQ29udGV4dFwiLHZvaWQgMCksSVAodGhpcyxcIl9wcm9jZXNzb3JEZXN0aW5hdGlvblwiLHZvaWQgMCksSVAodGhpcyxcIl9nZXRPcmlnaW5Wb2x1bWVMZXZlbFwiLHZvaWQgMCksdGhpcy5fZW5jb2RlckNvbmZpZz10LHRoaXMuX2dldE9yaWdpblZvbHVtZUxldmVsPSEhbix0aGlzLl90cmFja1NvdXJjZT1uZXcgc0wsRHkoXCJESVNBQkxFX1dFQkFVRElPXCIpJiYodGhpcy5fYnlwYXNzV2ViQXVkaW89ITApLER5KFwiTE9DQUxfQVVESU9fVFJBQ0tfVVNFU19XRUJfQVVESU9cIikmJih0aGlzLl91c2VBdWRpb0VsZW1lbnQ9ITEpLFBJKCkmJiFPUD9zZXRUaW1lb3V0KCgoKT0+dGhpcy5pbml0V2ViQXVkaW8oKSkpOnRoaXMuaW5pdFdlYkF1ZGlvKCl9c2V0Vm9sdW1lKGUpe2F2KGUsXCJ2b2x1bWVcIiwwLDFlMyksdGhpcy5fdm9sdW1lPWUsdGhpcy5fc291cmNlLnNldFZvbHVtZShlLzEwMCksdGhpcy5fdXNlQXVkaW9FbGVtZW50JiZlTC5zZXRWb2x1bWUodGhpcy5nZXRUcmFja0lkKCksZSk7dHJ5e2lmKHRoaXMuX2J5cGFzc1dlYkF1ZGlvKXJldHVybiB2b2lkIFF5LmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc2V0Vm9sdW1lIHJldHVybmVkIGJlY2F1c2Ugbm8gcGFzcyB0aHJvdWdoIFdlYkF1ZGlvLlwiKSk7Y29uc3QgZT10aGlzLl9zb3VyY2UuY3JlYXRlT3V0cHV0VHJhY2soKTt0aGlzLl9tZWRpYVN0cmVhbVRyYWNrIT09ZSYmKHRoaXMuX21lZGlhU3RyZWFtVHJhY2s9ZSxNdih0aGlzLCRELk5FRURfUkVQTEFDRV9UUkFDSyx0aGlzKS50aGVuKCgoKT0+e1F5LmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gcmVwbGFjZSB3ZWIgYXVkaW8gdHJhY2sgc3VjY2Vzc1wiKSl9KSkuY2F0Y2goKGU9PntReS53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gcmVwbGFjZSB3ZWIgYXVkaW8gdHJhY2sgZmFpbGVkXCIpLGUpfSkpKX1jYXRjaChlKXt9fWdldFZvbHVtZUxldmVsKCl7cmV0dXJuIHRoaXMuX211dGVkJiZ0aGlzLmVuYWJsZWQmJnRoaXMuX2dldE9yaWdpblZvbHVtZUxldmVsP3RoaXMuX3NvdXJjZS5nZXRPcmlnaW5Wb2x1bWVMZXZlbCgpOnRoaXMuX3NvdXJjZS5nZXRBY2N1cmF0ZVZvbHVtZUxldmVsKCl9YXN5bmMgc2V0UGxheWJhY2tEZXZpY2UoZSl7aWYoIXRoaXMuX3VzZUF1ZGlvRWxlbWVudHx8IVVEKCkpdGhyb3cgbmV3IHJ2KG52Lk5PVF9TVVBQT1JURUQsXCJ5b3VyIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBzZXR0aW5nIHRoZSBhdWRpbyBvdXRwdXQgZGV2aWNlXCIpO2F3YWl0IGVMLnNldFNpbmtJRCh0aGlzLmdldFRyYWNrSWQoKSxlKX1hc3luYyBzZXRFbmFibGVkKGUsdCxpKXtyZXR1cm4gdGhpcy5fc2V0RW5hYmxlZChlLHQsaSl9YXN5bmMgX3NldEVuYWJsZWQoZSx0LGkpe2lmKCFpKXtpZihlPT09dGhpcy5fZW5hYmxlZClyZXR1cm47dGhpcy5zdGF0ZUNoZWNrKFwiZW5hYmxlZFwiLGUpfWlmKFF5LmluZm8oXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzdGFydCBzZXRFbmFibGVkXCIpLGUpLGUpe3RoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2suZW5hYmxlZD0hMDt0cnl7aXx8KHRoaXMuX2VuYWJsZWQ9ITApLGF3YWl0IE12KHRoaXMsJEQuTkVFRF9FTkFCTEVfVFJBQ0ssdGhpcyksUXkuaW5mbyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHNldEVuYWJsZWQgdG8gXCIpLmNvbmNhdChlLFwiIHN1Y2Nlc3NcIikpfWNhdGNoKGUpe3Rocm93IGl8fCh0aGlzLl9lbmFibGVkPSExKSxReS5lcnJvcihcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHNldEVuYWJsZWQgdG8gdHJ1ZSBlcnJvclwiKSxlLnRvU3RyaW5nKCkpLGV9fWVsc2V7dGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjay5lbmFibGVkPSExLGl8fCh0aGlzLl9lbmFibGVkPSExKTt0cnl7YXdhaXQgTXYodGhpcywkRC5ORUVEX0RJU0FCTEVfVFJBQ0ssdGhpcyl9Y2F0Y2goZSl7dGhyb3cgaXx8KHRoaXMuX2VuYWJsZWQ9ITApLFF5LmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc2V0RW5hYmxlZCB0byBmYWxzZSBlcnJvclwiKSxlLnRvU3RyaW5nKCkpLGV9fX1hc3luYyBzZXRNdXRlZChlKXtlIT09dGhpcy5fbXV0ZWQmJih0aGlzLnN0YXRlQ2hlY2soXCJtdXRlZFwiLGUpLHRoaXMuX211dGVkPWUsdGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjay5lbmFibGVkPSFlLFF5LmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc3RhcnQgc2V0IG11dGVkOiBcIikuY29uY2F0KGUpKSxlP2F3YWl0IE12KHRoaXMsJEQuTkVFRF9NVVRFX1RSQUNLLHRoaXMpOmF3YWl0IE12KHRoaXMsJEQuTkVFRF9VTk1VVEVfVFJBQ0ssdGhpcykpfWdldFN0YXRzKCl7S3YoKCgpPT57UXkud2FybmluZyhcIltkZXByZWNhdGVkXSBMb2NhbEF1ZGlvVHJhY2suZ2V0U3RhdHMgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBmdXR1cmUsIHVzZSBBZ29yYVJUQ0NsaWVudC5nZXRMb2NhbEF1ZGlvU3RhdHMgaW5zdGVhZFwiKX0pLFwibG9jYWxBdWRpb1RyYWNrR2V0U3RhdHNXYXJuaW5nXCIpO3JldHVybiBVdih0aGlzLCRELkdFVF9TVEFUUyl8fHlQKHt9LGRQKX1zZXRBdWRpb0ZyYW1lQ2FsbGJhY2soZSl7bGV0IHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjQwOTY7aWYoIWUpcmV0dXJuIHRoaXMuX3NvdXJjZS5yZW1vdmVBbGxMaXN0ZW5lcnMoY1AuT05fQVVESU9fQlVGRkVSKSx2b2lkIHRoaXMuX3NvdXJjZS5zdG9wR2V0QXVkaW9CdWZmZXIoKTt0aGlzLl9zb3VyY2Uuc3RhcnRHZXRBdWRpb0J1ZmZlcih0KSx0aGlzLl9zb3VyY2UucmVtb3ZlQWxsTGlzdGVuZXJzKGNQLk9OX0FVRElPX0JVRkZFUiksdGhpcy5fc291cmNlLm9uKGNQLk9OX0FVRElPX0JVRkZFUiwodD0+ZSh0KSkpfXBsYXkoKXtReS5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHN0YXJ0IGF1ZGlvIHBsYXliYWNrXCIpKSx0aGlzLl91c2VBdWRpb0VsZW1lbnQ/KFF5LmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc3RhcnQgYXVkaW8gcGxheWJhY2sgaW4gZWxlbWVudFwiKSksZUwucGxheSh0aGlzLl9tZWRpYVN0cmVhbVRyYWNrLHRoaXMuZ2V0VHJhY2tJZCgpLHRoaXMuX3ZvbHVtZSkpOnRoaXMuX3NvdXJjZS5wbGF5KCl9c3RvcCgpe1F5LmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc3RvcCBhdWRpbyBwbGF5YmFja1wiKSksdGhpcy5fdXNlQXVkaW9FbGVtZW50P2VMLnN0b3AodGhpcy5nZXRUcmFja0lkKCkpOnRoaXMuX3NvdXJjZS5zdG9wKCl9Y2xvc2UoKXtzdXBlci5jbG9zZSgpLHRoaXMuX3Byb2Nlc3NvckRlc3RpbmF0aW9uJiZ0aGlzLnVuYmluZFByb2Nlc3NvckRlc3RpbmF0aW9uRXZlbnRzKHRoaXMuX3Byb2Nlc3NvckRlc3RpbmF0aW9uKSx0aGlzLl9wcm9jZXNzb3JDb250ZXh0JiZ0aGlzLnVuYmluZFByb2Nlc3NvckNvbnRleHRFdmVudHModGhpcy5fcHJvY2Vzc29yQ29udGV4dCksdGhpcy51bnBpcGUoKSx0aGlzLl9wcm9jZXNzb3JEZXN0aW5hdGlvbiYmdGhpcy5fcHJvY2Vzc29yRGVzdGluYXRpb24uX3NvdXJjZSYmdGhpcy5fcHJvY2Vzc29yRGVzdGluYXRpb24uX3NvdXJjZS51bnBpcGUoKSx0aGlzLl9zb3VyY2UuZGVzdHJveSgpfV91cGRhdGVQbGF5ZXJTb3VyY2UoKXtsZXQgZT0hKGFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdKXx8YXJndW1lbnRzWzBdO1F5LmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gdXBkYXRlIHBsYXllciBzb3VyY2UgdHJhY2tcIikpLGUmJnRoaXMuX3NvdXJjZS51cGRhdGVUcmFjayh0aGlzLl9tZWRpYVN0cmVhbVRyYWNrKSx0aGlzLl91c2VBdWRpb0VsZW1lbnQmJmVMLnVwZGF0ZVRyYWNrKHRoaXMuZ2V0VHJhY2tJZCgpLHRoaXMuX21lZGlhU3RyZWFtVHJhY2spfWFzeW5jIF91cGRhdGVPcmlnaW5NZWRpYVN0cmVhbVRyYWNrKGUsdCl7dGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjayE9PWUmJih0aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrJiYodGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjay5yZW1vdmVFdmVudExpc3RlbmVyKFwiZW5kZWRcIix0aGlzLl9oYW5kbGVUcmFja0VuZGVkKSx0JiZ0aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLnN0b3AoKSksZS5hZGRFdmVudExpc3RlbmVyKFwiZW5kZWRcIix0aGlzLl9oYW5kbGVUcmFja0VuZGVkKSx0aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrPWUsdGhpcy5fbXV0ZWQmJih0aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLmVuYWJsZWQ9ITEpLHRoaXMucHJvY2Vzc29yJiZ0aGlzLl9wcm9jZXNzb3JDb250ZXh0JiZ0aGlzLnByb2Nlc3Nvci51cGRhdGVJbnB1dCh7dHJhY2s6ZSxjb250ZXh0OnRoaXMuX3Byb2Nlc3NvckNvbnRleHR9KSx0aGlzLl9tZWRpYVN0cmVhbVRyYWNrIT09dGhpcy5fc291cmNlLm91dHB1dFRyYWNrPyh0aGlzLl9tZWRpYVN0cmVhbVRyYWNrPXRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2ssdGhpcy5fdXBkYXRlUGxheWVyU291cmNlKCksYXdhaXQgTXYodGhpcywkRC5ORUVEX1JFUExBQ0VfVFJBQ0ssdGhpcykpOnRoaXMuX3NvdXJjZS51cGRhdGVUcmFjayh0aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrKSx0aGlzLl9nZXRPcmlnaW5Wb2x1bWVMZXZlbCYmdGhpcy5fc291cmNlLnVwZGF0ZU9yaWdpblRyYWNrKGUpKX1yZW5ld01lZGlhU3RyZWFtVHJhY2soZSl7cmV0dXJuIEdoLnJlc29sdmUodm9pZCAwKX1waXBlKGUpe2lmKHRoaXMuX2J5cGFzc1dlYkF1ZGlvKXRocm93IG5ldyBydihudi5JTlZBTElEX09QRVJBVElPTixcIkNhbiBub3QgcHJvY2VzcyBBdWRpb1RyYWNrIHdoZW4gYnlwYXNzV2ViQXVkaW8gc2V0IHRvIHRydWUuXCIpO2lmKHRoaXMucHJvY2Vzc29yPT09ZSlyZXR1cm4gZTtpZihlLl9zb3VyY2UpdGhyb3cgbmV3IHJ2KG52LklOVkFMSURfT1BFUkFUSU9OLFwiUHJvY2Vzc29yIFwiLmNvbmNhdChlLm5hbWUsXCIgYWxyZWFkeSBwaXBlZCwgcGxlYXNlIGNhbGwgdW5waXBlIGJlZm9yZWhhbmQuXCIpKTtyZXR1cm4gdGhpcy51bnBpcGUoKSx0aGlzLnByb2Nlc3Nvcj1lLHRoaXMucHJvY2Vzc29yLl9zb3VyY2U9dGhpcyxlLnVwZGF0ZUlucHV0KHt0cmFjazp0aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLG5vZGU6dGhpcy5fc291cmNlLnByb2Nlc3NTb3VyY2VOb2RlLGNvbnRleHQ6dGhpcy5wcm9jZXNzb3JDb250ZXh0fSksZX11bnBpcGUoKXt2YXIgZTtpZighdGhpcy5wcm9jZXNzb3IpcmV0dXJuO2NvbnN0IHQ9dGhpcy5wcm9jZXNzb3I7bnVsbD09PShlPXRoaXMuX3NvdXJjZS5wcm9jZXNzU291cmNlTm9kZSl8fHZvaWQgMD09PWV8fGUuZGlzY29ubmVjdCgpLHRoaXMucHJvY2Vzc29yLl9zb3VyY2U9ITEsdGhpcy5wcm9jZXNzb3I9dm9pZCAwLHQucmVzZXQoKX1iaW5kUHJvY2Vzc29yRGVzdGluYXRpb25FdmVudHMoZSl7ZS5vbihfUC5PTl9UUkFDSywoYXN5bmMgZT0+e2U/ZSE9PXRoaXMuX21lZGlhU3RyZWFtVHJhY2smJih0aGlzLl9tZWRpYVN0cmVhbVRyYWNrPWUsdGhpcy5fdXBkYXRlUGxheWVyU291cmNlKCExKSx0aGlzLl9zb3VyY2UucHJvY2Vzc2VkTm9kZT10aGlzLl9zb3VyY2UuY3JlYXRlTWVkaWFTdHJlYW1Tb3VyY2VOb2RlKGUpLGF3YWl0IE12KHRoaXMsJEQuTkVFRF9SRVBMQUNFX1RSQUNLLHRoaXMpKTp0aGlzLl9tZWRpYVN0cmVhbVRyYWNrIT09dGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjayYmKHRoaXMuX21lZGlhU3RyZWFtVHJhY2s9dGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjayx0aGlzLl91cGRhdGVQbGF5ZXJTb3VyY2UoKSxhd2FpdCBNdih0aGlzLCRELk5FRURfUkVQTEFDRV9UUkFDSyx0aGlzKSl9KSksZS5vbihfUC5PTl9OT0RFLChlPT57dGhpcy5fc291cmNlLnByb2Nlc3NlZE5vZGU9ZX0pKX11bmJpbmRQcm9jZXNzb3JEZXN0aW5hdGlvbkV2ZW50cyhlKXtlLnJlbW92ZUFsbExpc3RlbmVycyhfUC5PTl9UUkFDSyksZS5yZW1vdmVBbGxMaXN0ZW5lcnMoX1AuT05fTk9ERSl9YmluZFByb2Nlc3NvckNvbnRleHRFdmVudHMoZSl7ZS5vbihFUC5SRVFVRVNUX0NPTlNUUkFJTlRTLChhc3luYyBlPT57ZSh0aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLmdldFNldHRpbmdzKCkpfSkpfXVuYmluZFByb2Nlc3NvckNvbnRleHRFdmVudHMoZSl7ZS5yZW1vdmVBbGxMaXN0ZW5lcnMoRVAuUkVRVUVTVF9DT05TVFJBSU5UUyl9aW5pdFdlYkF1ZGlvKCl7cmV0dXJuIHRoaXMuX3RyYWNrU291cmNlIGluc3RhbmNlb2Ygc0wmJih0aGlzLl90cmFja1NvdXJjZT1uZXcgeFAodGhpcy5fbWVkaWFTdHJlYW1UcmFjaywhMSx0aGlzLl9nZXRPcmlnaW5Wb2x1bWVMZXZlbD90aGlzLl9tZWRpYVN0cmVhbVRyYWNrOnZvaWQgMCkpLHRoaXMuX3RyYWNrU291cmNlfWluaXRQcm9jZXNzb3IoKXtjb25zdCBlPW5ldyBvTCh0aGlzLl9zb3VyY2UuY29udGV4dCx0aGlzLmdldFRyYWNrSWQoKSxcImxvY2FsXCIpLHQ9bmV3IHJMKGUpO3JldHVybiB0aGlzLl9wcm9jZXNzb3JDb250ZXh0PWUsdGhpcy5fcHJvY2Vzc29yRGVzdGluYXRpb249dCx0aGlzLmJpbmRQcm9jZXNzb3JDb250ZXh0RXZlbnRzKGUpLHRoaXMuYmluZFByb2Nlc3NvckRlc3RpbmF0aW9uRXZlbnRzKHQpLHRoaXMuX3NvdXJjZS5vbihjUC5VUERBVEVfU09VUkNFLCgoKT0+e3RoaXMucHJvY2Vzc29yJiZ0aGlzLnByb2Nlc3Nvci51cGRhdGVJbnB1dCh7bm9kZTp0aGlzLl9zb3VyY2UucHJvY2Vzc1NvdXJjZU5vZGUsY29udGV4dDplfSl9KSksdGhpcy5fdXNlQXVkaW9FbGVtZW50JiYodGhpcy5fdXNlQXVkaW9FbGVtZW50PSExLHRoaXMuaXNQbGF5aW5nJiYoZUwuc3RvcCh0aGlzLmdldFRyYWNrSWQoKSksdGhpcy5fc291cmNlLnBsYXkoKSksTXYodGhpcywkRC5ORUVEX1JFUExBQ0VfTUlYSU5HX1RSQUNLLHRoaXMpLnRoZW4oKCgpPT57UXkuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSByZXBsYWNlIGZyb20gb3JpZ2luIHRyYWNrIHRvIHdlYiBhdWRpbyB0cmFjayBzdWNjZXNzXCIpKX0pKS5jYXRjaCgoZT0+e1F5Lndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSByZXBsYWNlIGZyb20gb3JpZ2luIHRyYWNrIHRvIHdlYiBhdWRpbyB0cmFjayBmYWlsZWRcIiksZSl9KSkpLHtwcm9jZXNzb3JDb250ZXh0OmUscHJvY2Vzc29yRGVzdGluYXRpb246dH19fSkucHJvdG90eXBlLFwic2V0Vm9sdW1lXCIsW0VMXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKExMLnByb3RvdHlwZSxcInNldFZvbHVtZVwiKSxMTC5wcm90b3R5cGUpLENQKExMLnByb3RvdHlwZSxcInNldFBsYXliYWNrRGV2aWNlXCIsW21MLGZMXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKExMLnByb3RvdHlwZSxcInNldFBsYXliYWNrRGV2aWNlXCIpLExMLnByb3RvdHlwZSksQ1AoTEwucHJvdG90eXBlLFwic2V0RW5hYmxlZFwiLFtUTCxTTCxnTF0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihMTC5wcm90b3R5cGUsXCJzZXRFbmFibGVkXCIpLExMLnByb3RvdHlwZSksQ1AoTEwucHJvdG90eXBlLFwic2V0TXV0ZWRcIixbUkwsQ0wsSUxdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoTEwucHJvdG90eXBlLFwic2V0TXV0ZWRcIiksTEwucHJvdG90eXBlKSxDUChMTC5wcm90b3R5cGUsXCJnZXRTdGF0c1wiLFt2TF0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihMTC5wcm90b3R5cGUsXCJnZXRTdGF0c1wiKSxMTC5wcm90b3R5cGUpLENQKExMLnByb3RvdHlwZSxcInNldEF1ZGlvRnJhbWVDYWxsYmFja1wiLFt5TF0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihMTC5wcm90b3R5cGUsXCJzZXRBdWRpb0ZyYW1lQ2FsbGJhY2tcIiksTEwucHJvdG90eXBlKSxDUChMTC5wcm90b3R5cGUsXCJwbGF5XCIsW0FMLGJMXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKExMLnByb3RvdHlwZSxcInBsYXlcIiksTEwucHJvdG90eXBlKSxDUChMTC5wcm90b3R5cGUsXCJzdG9wXCIsW3dMLE9MXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKExMLnByb3RvdHlwZSxcInN0b3BcIiksTEwucHJvdG90eXBlKSxDUChMTC5wcm90b3R5cGUsXCJjbG9zZVwiLFtOTF0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihMTC5wcm90b3R5cGUsXCJjbG9zZVwiKSxMTC5wcm90b3R5cGUpLENQKExMLnByb3RvdHlwZSxcInBpcGVcIixbRExdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoTEwucHJvdG90eXBlLFwicGlwZVwiKSxMTC5wcm90b3R5cGUpLENQKExMLnByb3RvdHlwZSxcInVucGlwZVwiLFtQTF0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihMTC5wcm90b3R5cGUsXCJ1bnBpcGVcIiksTEwucHJvdG90eXBlKSxMTCksaWs9KGtMPW9BKHthcmdzTWFwOihlLHQpPT5bZS5nZXRUcmFja0lkKCksdF19KSxNTD10TCgpLFVMPXB5KFwiTWljcm9waG9uZUF1ZGlvVHJhY2tcIixcIl9lbmFibGVkTXV0ZXhcIikseEw9b0Eoe2FyZ3NNYXA6KGUsdCxpKT0+W2UuZ2V0VHJhY2tJZCgpLHQsaV19KSxWTD10TCgpLEZMPW9BKHthcmdzTWFwOmU9PltlLmdldFRyYWNrSWQoKV19KSxDUCgoQkw9Y2xhc3MgZXh0ZW5kcyB0a3tnZXQgX19jbGFzc05hbWVfXygpe3JldHVyblwiTWljcm9waG9uZUF1ZGlvVHJhY2tcIn1jb25zdHJ1Y3RvcihlLHQsaSxuKXtzdXBlcihlLHQuZW5jb2RlckNvbmZpZz9YRCh0LmVuY29kZXJDb25maWcpOnt9LG4sRHkoXCJHRVRfVk9MVU1FX09GX01VVEVEX0FVRElPX1RSQUNLXCIpKSxJUCh0aGlzLFwiX2NvbmZpZ1wiLHZvaWQgMCksSVAodGhpcyxcIl9kZXZpY2VOYW1lXCIsXCJkZWZhdWx0XCIpLElQKHRoaXMsXCJfY29uc3RyYWludHNcIix2b2lkIDApLElQKHRoaXMsXCJfb3JpZ2luYWxDb25zdHJhaW50c1wiLHZvaWQgMCksSVAodGhpcyxcIl9lbmFibGVkXCIsITApLHRoaXMuX2NvbmZpZz10LHRoaXMuX2NvbnN0cmFpbnRzPWksdGhpcy5fb3JpZ2luYWxDb25zdHJhaW50cz1pLHRoaXMuX2RldmljZU5hbWU9ZS5sYWJlbCxcImJvb2xlYW5cIj09dHlwZW9mIHQuYnlwYXNzV2ViQXVkaW8mJih0aGlzLl9ieXBhc3NXZWJBdWRpbz10LmJ5cGFzc1dlYkF1ZGlvKSwoSEkoKXx8S0koKSkmJk5QLmJpbmRJbnRlcnJ1cHREZXRlY3RvclRyYWNrKHRoaXMpfWFzeW5jIHNldERldmljZShlKXtpZihReS5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc3RhcnQgc2V0IGRldmljZSB0byBcIikuY29uY2F0KGUpKSx0aGlzLl9lbmFibGVkKXRyeXtjb25zdCB0PWF3YWl0IHpQLmdldERldmljZUJ5SWQoZSksaT17fTtpLmF1ZGlvPXlQKHt9LHRoaXMuX2NvbnN0cmFpbnRzKSxpLmF1ZGlvLmRldmljZUlkPXtleGFjdDplfSx0aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLnN0b3AoKTtsZXQgbj1udWxsO3RyeXtuPWF3YWl0IEhQKGksdGhpcy5nZXRUcmFja0lkKCkpfWNhdGNoKGUpe3Rocm93IFF5LmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc2V0RGV2aWNlIGZhaWxlZFwiKSxlLnRvU3RyaW5nKCkpLG49YXdhaXQgSFAoe2F1ZGlvOnRoaXMuX2NvbnN0cmFpbnRzfSx0aGlzLmdldFRyYWNrSWQoKSksYXdhaXQgdGhpcy5fdXBkYXRlT3JpZ2luTWVkaWFTdHJlYW1UcmFjayhuLmdldEF1ZGlvVHJhY2tzKClbMF0sITEpLGV9YXdhaXQgdGhpcy5fdXBkYXRlT3JpZ2luTWVkaWFTdHJlYW1UcmFjayhuLmdldEF1ZGlvVHJhY2tzKClbMF0sITEpLHRoaXMuX2RldmljZU5hbWU9dC5sYWJlbCx0aGlzLl9jb25maWcubWljcm9waG9uZUlkPWUsdGhpcy5fY29uc3RyYWludHMuZGV2aWNlSWQ9e2V4YWN0OmV9fWNhdGNoKGUpe3Rocm93IFF5LmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc2V0RGV2aWNlIGVycm9yXCIpLGUudG9TdHJpbmcoKSksZX1lbHNlIHRyeXtjb25zdCB0PWF3YWl0IHpQLmdldERldmljZUJ5SWQoZSk7dGhpcy5fZGV2aWNlTmFtZT10LmxhYmVsLHRoaXMuX2NvbmZpZy5taWNyb3Bob25lSWQ9ZSx0aGlzLl9jb25zdHJhaW50cy5kZXZpY2VJZD17ZXhhY3Q6ZX19Y2F0Y2goZSl7dGhyb3cgUXkuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzZXREZXZpY2UgZXJyb3JcIiksZS50b1N0cmluZygpKSxlfVF5LmluZm8oXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzZXQgZGV2aWNlIHRvIFwiKS5jb25jYXQoZSxcIiBzdWNjZXNzXCIpKX1hc3luYyBzZXRFbmFibGVkKGUsdCxpKXtpZih0KXJldHVybiBReS5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHNldEVuYWJsZWQgZmFsc2UgKGRvIG5vdCBjbG9zZSBtaWNyb3Bob25lKVwiKSksYXdhaXQgc3VwZXIuX3NldEVuYWJsZWQoZSk7aWYoIWkpe2lmKGU9PT10aGlzLl9lbmFibGVkKXJldHVybjt0aGlzLnN0YXRlQ2hlY2soXCJlbmFibGVkXCIsZSl9aWYoUXkuaW5mbyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHN0YXJ0IHNldEVuYWJsZWRcIiksZSksRHkoXCJBVVRPX1JFU0VUX0FVRElPX1JPVVRFXCIpJiYoTUkoKXx8cUkoKSkpe2NvbnN0IHQ9bmF2aWdhdG9yLmF1ZGlvU2Vzc2lvbjt0JiYoZXx8KHQudHlwZT1cInBsYXliYWNrXCIpLHQudHlwZT1cImF1dG9cIil9aWYoIWUpe3ZhciBuO3RoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2sub25lbmRlZD1udWxsLHRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2suc3RvcCgpLG51bGw9PT0obj10aGlzLl9zb3VyY2UuY2xvbmVkVHJhY2spfHx2b2lkIDA9PT1ufHxuLnN0b3AoKSxpfHwodGhpcy5fZW5hYmxlZD0hMSk7dHJ5e2F3YWl0IE12KHRoaXMsJEQuTkVFRF9ESVNBQkxFX1RSQUNLLHRoaXMpfWNhdGNoKGUpe3Rocm93IFF5LmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc2V0RW5hYmxlZCBmYWxzZSBmYWlsZWRcIiksZS50b1N0cmluZygpKSxlfXJldHVybn1jb25zdCByPXlQKHt9LHRoaXMuX2NvbnN0cmFpbnRzKSxvPXpQLnNlYXJjaERldmljZUlkQnlOYW1lKHRoaXMuX2RldmljZU5hbWUpO28mJiFyLmRldmljZUlkJiYoci5kZXZpY2VJZD1vKTt0cnl7aXx8KHRoaXMuX2VuYWJsZWQ9ITApO2NvbnN0IGU9YXdhaXQgSFAoe2F1ZGlvOnRoaXMuX2NvbnN0cmFpbnRzfSx0aGlzLmdldFRyYWNrSWQoKSk7YXdhaXQgdGhpcy5fdXBkYXRlT3JpZ2luTWVkaWFTdHJlYW1UcmFjayhlLmdldEF1ZGlvVHJhY2tzKClbMF0sITEpLGF3YWl0IE12KHRoaXMsJEQuTkVFRF9FTkFCTEVfVFJBQ0ssdGhpcyl9Y2F0Y2goZSl7dGhyb3cgaXx8KHRoaXMuX2VuYWJsZWQ9ITEpLFF5LmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc2V0RW5hYmxlZCB0cnVlIGZhaWxlZFwiKSxlLnRvU3RyaW5nKCkpLGV9UXkuaW5mbyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHNldEVuYWJsZWQgc3VjY2Vzc1wiKSl9Y2xvc2UoKXtzdXBlci5jbG9zZSgpLChISSgpfHxLSSgpKSYmTlAudW5iaW5kSW50ZXJydXB0RGV0ZWN0b3JUcmFjayh0aGlzKX1vblRyYWNrRW5kZWQoKXtpZigoTUkoKXx8cUkoKSkmJnRoaXMuX2VuYWJsZWQmJiF0aGlzLl9pc0Nsb3NlZCYmTlAuZHVyaW5nSW50ZXJydXB0aW9uKXtjb25zdCBlPWFzeW5jKCk9PntOUC5vZmYoVkQuSU9TX0lOVEVSUlVQVElPTl9FTkQsZSksdGhpcy5fZW5hYmxlZCYmIXRoaXMuX2lzQ2xvc2VkJiYoUXkuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSB0cnkgY2FwdHVyZSBtaWNyb3Bob25lIG1lZGlhIGRldmljZSBmb3IgaW50ZXJydXB0ZWQgaU9TIGRldmljZS5cIikpLGF3YWl0IHRoaXMuc2V0RW5hYmxlZCghMSksYXdhaXQgdGhpcy5zZXRFbmFibGVkKCEwKSl9O05QLm9uKFZELklPU19JTlRFUlJVUFRJT05fRU5ELGUpfWVsc2UgUXkuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSB0cmFjayBlbmRlZFwiKSksdGhpcy5zYWZlRW1pdChvUC5UUkFDS19FTkRFRCl9YXN5bmMgcmVuZXdNZWRpYVN0cmVhbVRyYWNrKGUpe2NvbnN0IHQ9ZXx8dGhpcy5fY29uc3RyYWludHMsaT16UC5zZWFyY2hEZXZpY2VJZEJ5TmFtZSh0aGlzLl9kZXZpY2VOYW1lKTtpZihpJiYhdC5kZXZpY2VJZCYmKHQuZGV2aWNlSWQ9aSksdGhpcy5fY29uc3RyYWludHM9dCx0aGlzLl9lbmFibGVkKXt0aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLnN0b3AoKTtjb25zdCBlPWF3YWl0IEhQKHthdWRpbzp0aGlzLl9jb25zdHJhaW50c30sdGhpcy5nZXRUcmFja0lkKCkpO2F3YWl0IHRoaXMuX3VwZGF0ZU9yaWdpbk1lZGlhU3RyZWFtVHJhY2soZS5nZXRBdWRpb1RyYWNrcygpWzBdLCEwKX19YmluZFByb2Nlc3NvckNvbnRleHRFdmVudHMoZSl7c3VwZXIuYmluZFByb2Nlc3NvckNvbnRleHRFdmVudHMoZSksZS5vbihFUC5SRVFVRVNUX1VQREFURV9DT05TVFJBSU5UUywoYXN5bmMoZSx0LGkpPT57dHJ5e2NvbnN0IGk9T2JqZWN0LmFzc2lnbih7fSx0aGlzLl9vcmlnaW5hbENvbnN0cmFpbnRzLC4uLmUpO2F3YWl0IHRoaXMucmVuZXdNZWRpYVN0cmVhbVRyYWNrKGkpLHQoKX1jYXRjaChlKXtpKGUpfX0pKX11bmJpbmRQcm9jZXNzb3JDb250ZXh0RXZlbnRzKGUpe3N1cGVyLnVuYmluZFByb2Nlc3NvckNvbnRleHRFdmVudHMoZSksZS5yZW1vdmVBbGxMaXN0ZW5lcnMoRVAuUkVRVUVTVF9VUERBVEVfQ09OU1RSQUlOVFMpfX0pLnByb3RvdHlwZSxcInNldERldmljZVwiLFtrTCxNTF0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihCTC5wcm90b3R5cGUsXCJzZXREZXZpY2VcIiksQkwucHJvdG90eXBlKSxDUChCTC5wcm90b3R5cGUsXCJzZXRFbmFibGVkXCIsW1VMLHhMLFZMXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKEJMLnByb3RvdHlwZSxcInNldEVuYWJsZWRcIiksQkwucHJvdG90eXBlKSxDUChCTC5wcm90b3R5cGUsXCJjbG9zZVwiLFtGTF0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihCTC5wcm90b3R5cGUsXCJjbG9zZVwiKSxCTC5wcm90b3R5cGUpLEJMKSxuaz0oakw9b0Eoe2FyZ3NNYXA6KGUsdCk9PltlLmdldFRyYWNrSWQoKSx0LGUuZHVyYXRpb25dfSksR0w9dEwoKSxXTD1vQSh7YXJnc01hcDplPT5bZS5nZXRUcmFja0lkKCldfSksSEw9dEwoKSxLTD1vQSh7YXJnc01hcDplPT5bZS5nZXRUcmFja0lkKCldfSksWUw9dEwoKSxxTD1vQSh7YXJnc01hcDplPT5bZS5nZXRUcmFja0lkKCldfSksekw9dEwoKSxKTD1vQSh7YXJnc01hcDplPT5bZS5nZXRUcmFja0lkKCldfSksWEw9dEwoKSxRTD1vQSh7YXJnc01hcDplPT5bZS5nZXRUcmFja0lkKCldfSksWkw9b0Eoe2FyZ3NNYXA6ZT0+W2UuZ2V0VHJhY2tJZCgpXX0pLCRMPXRMKCksQ1AoKGVrPWNsYXNzIGV4dGVuZHMgdGt7Z2V0IF9fY2xhc3NOYW1lX18oKXtyZXR1cm5cIkJ1ZmZlclNvdXJjZUF1ZGlvVHJhY2tcIn1jb25zdHJ1Y3RvcihlLHQsaSxuKXtzdXBlcih0LmNyZWF0ZU91dHB1dFRyYWNrKCksaSxuKSxJUCh0aGlzLFwic291cmNlXCIsdm9pZCAwKSxJUCh0aGlzLFwiX2J1ZmZlclNvdXJjZVwiLHZvaWQgMCksdGhpcy5fdXNlQXVkaW9FbGVtZW50PSExLHRoaXMuc291cmNlPWUsdGhpcy5fYnVmZmVyU291cmNlPXQsdGhpcy5fYnVmZmVyU291cmNlLm9uKGNQLkFVRElPX1NPVVJDRV9TVEFURV9DSEFOR0UsKGU9Pnt0aGlzLnNhZmVFbWl0KG9QLlNPVVJDRV9TVEFURV9DSEFOR0UsZSl9KSk7dHJ5e3RoaXMuX21lZGlhU3RyZWFtVHJhY2s9dGhpcy5fc291cmNlLmNyZWF0ZU91dHB1dFRyYWNrKCl9Y2F0Y2goZSl7fX1nZXQgY3VycmVudFN0YXRlKCl7cmV0dXJuIHRoaXMuX2J1ZmZlclNvdXJjZS5jdXJyZW50U3RhdGV9Z2V0IGR1cmF0aW9uKCl7cmV0dXJuIHRoaXMuX2J1ZmZlclNvdXJjZS5kdXJhdGlvbn1nZXQgcGxheWJhY2tTcGVlZCgpe3JldHVybiB0aGlzLl9idWZmZXJTb3VyY2UucGxheWJhY2tTcGVlZH1nZXRDdXJyZW50VGltZSgpe3JldHVybiB0aGlzLl9idWZmZXJTb3VyY2UuY3VycmVudFRpbWV9c3RhcnRQcm9jZXNzQXVkaW9CdWZmZXIoZSl7ZSYmdGhpcy5fYnVmZmVyU291cmNlLnVwZGF0ZU9wdGlvbnMoZSksdGhpcy5fYnVmZmVyU291cmNlLnN0YXJ0UHJvY2Vzc0F1ZGlvQnVmZmVyKCl9cGF1c2VQcm9jZXNzQXVkaW9CdWZmZXIoKXt0aGlzLl9idWZmZXJTb3VyY2UucGF1c2VQcm9jZXNzQXVkaW9CdWZmZXIoKX1zZWVrQXVkaW9CdWZmZXIoZSl7dGhpcy5fYnVmZmVyU291cmNlLnNlZWtBdWRpb0J1ZmZlcihlKX1yZXN1bWVQcm9jZXNzQXVkaW9CdWZmZXIoKXt0aGlzLl9idWZmZXJTb3VyY2UucmVzdW1lUHJvY2Vzc0F1ZGlvQnVmZmVyKCl9c3RvcFByb2Nlc3NBdWRpb0J1ZmZlcigpe3RoaXMuX2J1ZmZlclNvdXJjZS5zdG9wUHJvY2Vzc0F1ZGlvQnVmZmVyKCl9Y2xvc2UoKXt0aGlzLnNvdXJjZT1udWxsLHRoaXMuX2J1ZmZlclNvdXJjZS5kZXN0cm95KCksc3VwZXIuY2xvc2UoKX1zZXRBdWRpb0J1ZmZlclBsYXliYWNrU3BlZWQoZSl7YXYoZSxcInNwZWVkXCIsMCksdGhpcy5fYnVmZmVyU291cmNlLnNldEF1ZGlvQnVmZmVyUGxheWJhY2tTcGVlZChlKX19KS5wcm90b3R5cGUsXCJzdGFydFByb2Nlc3NBdWRpb0J1ZmZlclwiLFtqTCxHTF0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlay5wcm90b3R5cGUsXCJzdGFydFByb2Nlc3NBdWRpb0J1ZmZlclwiKSxlay5wcm90b3R5cGUpLENQKGVrLnByb3RvdHlwZSxcInBhdXNlUHJvY2Vzc0F1ZGlvQnVmZmVyXCIsW1dMLEhMXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGVrLnByb3RvdHlwZSxcInBhdXNlUHJvY2Vzc0F1ZGlvQnVmZmVyXCIpLGVrLnByb3RvdHlwZSksQ1AoZWsucHJvdG90eXBlLFwic2Vla0F1ZGlvQnVmZmVyXCIsW0tMLFlMXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGVrLnByb3RvdHlwZSxcInNlZWtBdWRpb0J1ZmZlclwiKSxlay5wcm90b3R5cGUpLENQKGVrLnByb3RvdHlwZSxcInJlc3VtZVByb2Nlc3NBdWRpb0J1ZmZlclwiLFtxTCx6TF0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlay5wcm90b3R5cGUsXCJyZXN1bWVQcm9jZXNzQXVkaW9CdWZmZXJcIiksZWsucHJvdG90eXBlKSxDUChlay5wcm90b3R5cGUsXCJzdG9wUHJvY2Vzc0F1ZGlvQnVmZmVyXCIsW0pMLFhMXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGVrLnByb3RvdHlwZSxcInN0b3BQcm9jZXNzQXVkaW9CdWZmZXJcIiksZWsucHJvdG90eXBlKSxDUChlay5wcm90b3R5cGUsXCJjbG9zZVwiLFtRTF0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlay5wcm90b3R5cGUsXCJjbG9zZVwiKSxlay5wcm90b3R5cGUpLENQKGVrLnByb3RvdHlwZSxcInNldEF1ZGlvQnVmZmVyUGxheWJhY2tTcGVlZFwiLFtaTCwkTF0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlay5wcm90b3R5cGUsXCJzZXRBdWRpb0J1ZmZlclBsYXliYWNrU3BlZWRcIiksZWsucHJvdG90eXBlKSxlayk7Y2xhc3MgcmsgZXh0ZW5kcyB0a3tnZXQgX19jbGFzc05hbWVfXygpe3JldHVyblwiTWl4aW5nQXVkaW9UcmFja1wifWdldCBpc0FjdGl2ZSgpe2Zvcihjb25zdCBlIG9mIHRoaXMudHJhY2tMaXN0KWlmKGUuX2VuYWJsZWQmJiFlLl9pc0Nsb3NlZCYmIWUubXV0ZWQpcmV0dXJuITA7cmV0dXJuITF9Y29uc3RydWN0b3IoKXtjb25zdCBlPURQKCkuY3JlYXRlTWVkaWFTdHJlYW1EZXN0aW5hdGlvbigpO3N1cGVyKGUuc3RyZWFtLmdldEF1ZGlvVHJhY2tzKClbMF0sdm9pZCAwLGV5KDgsXCJ0cmFjay1taXgtXCIpKSxJUCh0aGlzLFwidHJhY2tMaXN0XCIsdm9pZCAwKSxJUCh0aGlzLFwiZGVzdE5vZGVcIix2b2lkIDApLHRoaXMuX3VzZUF1ZGlvRWxlbWVudD0hMTt0cnl7dGhpcy5fbWVkaWFTdHJlYW1UcmFjaz10aGlzLl9zb3VyY2UuY3JlYXRlT3V0cHV0VHJhY2soKX1jYXRjaChlKXt9dGhpcy5kZXN0Tm9kZT1lLHRoaXMudHJhY2tMaXN0PVtdfWhhc0F1ZGlvVHJhY2soZSl7cmV0dXJuLTEhPT10aGlzLnRyYWNrTGlzdC5pbmRleE9mKGUpfWFkZEF1ZGlvVHJhY2soZSl7LTE9PT10aGlzLnRyYWNrTGlzdC5pbmRleE9mKGUpPyhReS5kZWJ1ZyhcImFkZCBcIi5jb25jYXQoZS5nZXRUcmFja0lkKCksXCIgdG8gbWl4aW5nIHRyYWNrXCIpKSxlLl9zb3VyY2Uub3V0cHV0Tm9kZS5jb25uZWN0KHRoaXMuZGVzdE5vZGUpLHRoaXMudHJhY2tMaXN0LnB1c2goZSksdGhpcy51cGRhdGVFbmNvZGVyQ29uZmlnKCkpOlF5LmRlYnVnKFwidHJhY2sgXCIuY29uY2F0KGUuZ2V0VHJhY2tJZCgpLFwiIGlzIGFscmVhZHkgYWRkZWRcIikpfXJlbW92ZUF1ZGlvVHJhY2soZSl7aWYoLTEhPT10aGlzLnRyYWNrTGlzdC5pbmRleE9mKGUpKXtReS5kZWJ1ZyhcInJlbW92ZSBcIi5jb25jYXQoZS5nZXRUcmFja0lkKCksXCIgZnJvbSBtaXhpbmcgdHJhY2tcIikpO3RyeXtlLl9zb3VyY2Uub3V0cHV0Tm9kZS5kaXNjb25uZWN0KHRoaXMuZGVzdE5vZGUpfWNhdGNoKGUpe31Gdih0aGlzLnRyYWNrTGlzdCxlKSx0aGlzLnVwZGF0ZUVuY29kZXJDb25maWcoKX19dXBkYXRlRW5jb2RlckNvbmZpZygpe2NvbnN0IGU9e307dGhpcy50cmFja0xpc3QuZm9yRWFjaCgodD0+e3QuX2VuY29kZXJDb25maWcmJigodC5fZW5jb2RlckNvbmZpZy5iaXRyYXRlfHwwKT4oZS5iaXRyYXRlfHwwKSYmKGUuYml0cmF0ZT10Ll9lbmNvZGVyQ29uZmlnLmJpdHJhdGUpLCh0Ll9lbmNvZGVyQ29uZmlnLnNhbXBsZVJhdGV8fDApPihlLnNhbXBsZVJhdGV8fDApJiYoZS5zYW1wbGVSYXRlPXQuX2VuY29kZXJDb25maWcuc2FtcGxlUmF0ZSksKHQuX2VuY29kZXJDb25maWcuc2FtcGxlU2l6ZXx8MCk+KGUuc2FtcGxlU2l6ZXx8MCkmJihlLnNhbXBsZVNpemU9dC5fZW5jb2RlckNvbmZpZy5zYW1wbGVTaXplKSx0Ll9lbmNvZGVyQ29uZmlnLnN0ZXJlbyYmKGUuc3RlcmVvPSEwKSl9KSksdGhpcy5fZW5jb2RlckNvbmZpZz1lfV91cGRhdGVSdHBUcmFuc2NlaXZlcihlKXt0aGlzLl9ydHBUcmFuc2NlaXZlciE9PWUmJih0aGlzLl9ydHBUcmFuc2NlaXZlcj1lLHRoaXMudHJhY2tMaXN0LmZvckVhY2goKHQ9Pnt0IGluc3RhbmNlb2Ygcms/dC5lbWl0KHJQLlRSQU5TQ0VJVkVSX1VQREFURUQsZSk6dC5fdXBkYXRlUnRwVHJhbnNjZWl2ZXIoZSl9KSkpfX1jbGFzcyBvayBleHRlbmRzIFVQe3NldCBjdXJyZW50U3RhdGUoZSl7ZSE9PXRoaXMuX2N1cnJlbnRTdGF0ZSYmKHRoaXMuX2N1cnJlbnRTdGF0ZT1lLHRoaXMuc2FmZUVtaXQoY1AuQVVESU9fU09VUkNFX1NUQVRFX0NIQU5HRSx0aGlzLl9jdXJyZW50U3RhdGUpKX1nZXQgY3VycmVudFN0YXRlKCl7cmV0dXJuIHRoaXMuX2N1cnJlbnRTdGF0ZX1jb25zdHJ1Y3RvcihlKXtsZXQgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307c3VwZXIoKSxJUCh0aGlzLFwiYXVkaW9CdWZmZXJcIix2b2lkIDApLElQKHRoaXMsXCJzb3VyY2VOb2RlXCIsdm9pZCAwKSxJUCh0aGlzLFwic3RhcnRQbGF5VGltZVwiLDApLElQKHRoaXMsXCJzdGFydFBsYXlPZmZzZXRcIiwwKSxJUCh0aGlzLFwicGF1c2VQbGF5VGltZVwiLDApLElQKHRoaXMsXCJvcHRpb25zXCIsdm9pZCAwKSxJUCh0aGlzLFwiY3VycmVudExvb3BDb3VudFwiLDApLElQKHRoaXMsXCJjdXJyZW50UGxheWJhY2tTcGVlZFwiLDEwMCksSVAodGhpcyxcIl9jdXJyZW50U3RhdGVcIixcInN0b3BwZWRcIiksdGhpcy5hdWRpb0J1ZmZlcj1lLHRoaXMub3B0aW9ucz10LHRoaXMuc3RhcnRQbGF5T2Zmc2V0PXRoaXMub3B0aW9ucy5zdGFydFBsYXlUaW1lfHwwfWNyZWF0ZVdlYkF1ZGlvRGlhZ3JhbSgpe3JldHVybiB0aGlzLmNvbnRleHQuY3JlYXRlR2FpbigpfWdldCBkdXJhdGlvbigpe3JldHVybiB0aGlzLmF1ZGlvQnVmZmVyP3RoaXMuYXVkaW9CdWZmZXIuZHVyYXRpb246MH1nZXQgcGxheWJhY2tTcGVlZCgpe3JldHVybiB0aGlzLmN1cnJlbnRQbGF5YmFja1NwZWVkfWdldCBjdXJyZW50VGltZSgpe3JldHVybiB0aGlzLmF1ZGlvQnVmZmVyP1wic3RvcHBlZFwiPT09dGhpcy5jdXJyZW50U3RhdGU/MDpcInBhdXNlZFwiPT09dGhpcy5jdXJyZW50U3RhdGU/dGhpcy5wYXVzZVBsYXlUaW1lOigodGhpcy5jb250ZXh0LmN1cnJlbnRUaW1lLXRoaXMuc3RhcnRQbGF5VGltZSkqKHRoaXMucGxheWJhY2tTcGVlZC8xMDApK3RoaXMuc3RhcnRQbGF5T2Zmc2V0KSV0aGlzLmF1ZGlvQnVmZmVyLmR1cmF0aW9uOjB9dXBkYXRlT3B0aW9ucyhlKXtcInN0b3BwZWRcIj09PXRoaXMuY3VycmVudFN0YXRlPyh0aGlzLm9wdGlvbnM9ZSx0aGlzLnN0YXJ0UGxheU9mZnNldD10aGlzLm9wdGlvbnMuc3RhcnRQbGF5VGltZXx8MCk6UXkud2FybmluZyhcImNhbiBub3Qgc2V0IGF1ZGlvIHNvdXJjZSBvcHRpb25zXCIpfXN0YXJ0UHJvY2Vzc0F1ZGlvQnVmZmVyKCl7dGhpcy5zb3VyY2VOb2RlJiZ0aGlzLnN0b3BQcm9jZXNzQXVkaW9CdWZmZXIoKSx0aGlzLnNvdXJjZU5vZGU9dGhpcy5jcmVhdGVTb3VyY2VOb2RlKCksdGhpcy5zdGFydFNvdXJjZU5vZGUoKSx0aGlzLmN1cnJlbnRTdGF0ZT1cInBsYXlpbmdcIn1wYXVzZVByb2Nlc3NBdWRpb0J1ZmZlcigpe3RoaXMuc291cmNlTm9kZSYmXCJwbGF5aW5nXCI9PT10aGlzLmN1cnJlbnRTdGF0ZSYmKHRoaXMucGF1c2VQbGF5VGltZT10aGlzLmN1cnJlbnRUaW1lLHRoaXMuc291cmNlTm9kZS5vbmVuZGVkPW51bGwsdGhpcy5zb3VyY2VOb2RlLnN0b3AoKSx0aGlzLnNvdXJjZU5vZGUuYnVmZmVyPW51bGwsdGhpcy5zb3VyY2VOb2RlPXRoaXMuY3JlYXRlU291cmNlTm9kZSgpLHRoaXMuY3VycmVudFN0YXRlPVwicGF1c2VkXCIpfXNlZWtBdWRpb0J1ZmZlcihlKXt0aGlzLnNvdXJjZU5vZGUmJih0aGlzLnNvdXJjZU5vZGUub25lbmRlZD1udWxsLFwicGxheWluZ1wiPT09dGhpcy5jdXJyZW50U3RhdGUmJnRoaXMuc291cmNlTm9kZS5zdG9wKCksdGhpcy5zb3VyY2VOb2RlPXRoaXMuY3JlYXRlU291cmNlTm9kZSgpLFwicGxheWluZ1wiPT09dGhpcy5jdXJyZW50U3RhdGU/KHRoaXMuc3RhcnRQbGF5T2Zmc2V0PWUsdGhpcy5zdGFydFNvdXJjZU5vZGUoKSk6XCJwYXVzZWRcIj09PXRoaXMuY3VycmVudFN0YXRlJiYodGhpcy5wYXVzZVBsYXlUaW1lPWUpKX1yZXN1bWVQcm9jZXNzQXVkaW9CdWZmZXIoKXtcInBhdXNlZFwiPT09dGhpcy5jdXJyZW50U3RhdGUmJnRoaXMuc291cmNlTm9kZSYmKHRoaXMuc3RhcnRQbGF5T2Zmc2V0PXRoaXMucGF1c2VQbGF5VGltZSx0aGlzLnBhdXNlUGxheVRpbWU9MCx0aGlzLnN0YXJ0U291cmNlTm9kZSgpLHRoaXMuY3VycmVudFN0YXRlPVwicGxheWluZ1wiKX1zdG9wUHJvY2Vzc0F1ZGlvQnVmZmVyKCl7aWYodGhpcy5zb3VyY2VOb2RlKXt0aGlzLnNvdXJjZU5vZGUub25lbmRlZD1udWxsO3RyeXt0aGlzLnNvdXJjZU5vZGUuc3RvcCgpfWNhdGNoKGUpe310aGlzLnJlc2V0KCl9fWRlc3Ryb3koKXt0aGlzLmF1ZGlvQnVmZmVyPW51bGwsc3VwZXIuZGVzdHJveSgpfXNldEF1ZGlvQnVmZmVyUGxheWJhY2tTcGVlZChlKXt0aGlzLnNvdXJjZU5vZGUmJihcInBsYXlpbmdcIj09PXRoaXMuY3VycmVudFN0YXRlJiYodGhpcy5zdGFydFBsYXlPZmZzZXQ9dGhpcy5jdXJyZW50VGltZSx0aGlzLnN0YXJ0UGxheVRpbWU9dGhpcy5jb250ZXh0LmN1cnJlbnRUaW1lKSx0aGlzLnNvdXJjZU5vZGUucGxheWJhY2tSYXRlLnZhbHVlPWUvMTAwKSx0aGlzLmN1cnJlbnRQbGF5YmFja1NwZWVkPWV9c3RhcnRTb3VyY2VOb2RlKCl7dGhpcy5zb3VyY2VOb2RlJiZ0aGlzLnNvdXJjZU5vZGUuYnVmZmVyJiYodGhpcy5zb3VyY2VOb2RlLnN0YXJ0KDAsdGhpcy5zdGFydFBsYXlPZmZzZXQpLHRoaXMuc3RhcnRQbGF5VGltZT10aGlzLmNvbnRleHQuY3VycmVudFRpbWUsdGhpcy5zb3VyY2VOb2RlLm9uZW5kZWQ9dGhpcy5oYW5kbGVTb3VyY2VOb2RlRW5kZWQuYmluZCh0aGlzKSl9Y3JlYXRlU291cmNlTm9kZSgpe2NvbnN0IGU9dGhpcy5jb250ZXh0LmNyZWF0ZUJ1ZmZlclNvdXJjZSgpO3JldHVybiBlLmJ1ZmZlcj10aGlzLmF1ZGlvQnVmZmVyLGUubG9vcD0hIXRoaXMub3B0aW9ucy5sb29wLGUuY29ubmVjdCh0aGlzLm91dHB1dE5vZGUpLGUucGxheWJhY2tSYXRlLnZhbHVlPXRoaXMuY3VycmVudFBsYXliYWNrU3BlZWQvMTAwLGV9aGFuZGxlU291cmNlTm9kZUVuZGVkKCl7aWYodGhpcy5jdXJyZW50TG9vcENvdW50Kz0xLHRoaXMub3B0aW9ucy5jeWNsZSYmdGhpcy5vcHRpb25zLmN5Y2xlPnRoaXMuY3VycmVudExvb3BDb3VudClyZXR1cm4gdGhpcy5zdGFydFBsYXlPZmZzZXQ9MCx0aGlzLnNvdXJjZU5vZGU9dm9pZCAwLHZvaWQgdGhpcy5zdGFydFByb2Nlc3NBdWRpb0J1ZmZlcigpO3RoaXMucmVzZXQoKX1yZXNldCgpe3RoaXMuc3RhcnRQbGF5T2Zmc2V0PXRoaXMub3B0aW9ucy5zdGFydFBsYXlUaW1lfHwwLHRoaXMuY3VycmVudFN0YXRlPVwic3RvcHBlZFwiLHRoaXMuc291cmNlTm9kZSYmKHRoaXMuc291cmNlTm9kZS5kaXNjb25uZWN0KCksdGhpcy5zb3VyY2VOb2RlPXZvaWQgMCksdGhpcy5jdXJyZW50TG9vcENvdW50PTB9fWNvbnN0IHNrPW5ldyBNYXA7Y2xhc3MgYWt7Z2V0IHJlbmRGcmFtZVJhdGUoKXtpZih0aGlzLnJlbmRlclN0YXRzJiZ0aGlzLnJlbmRlclN0YXRzLmN1clRzIT09dGhpcy5yZW5kZXJTdGF0cy5sYXN0VHMpe2NvbnN0IGU9dGhpcy5yZW5kZXJTdGF0cy5jdXJUcy10aGlzLnJlbmRlclN0YXRzLmxhc3RUcyx0PSh0aGlzLnJlbmRlclN0YXRzLnJlbmRlck51bS10aGlzLnJlbmRlclN0YXRzLmxhc3RSZW5kZXJOdW0pL2U7cmV0dXJuIHRoaXMucmVuZGVyU3RhdHMubGFzdFJlbmRlck51bT10aGlzLnJlbmRlclN0YXRzLnJlbmRlck51bSx0aGlzLnJlbmRlclN0YXRzLmxhc3RUcz10aGlzLnJlbmRlclN0YXRzLmN1clRzLHR9cmV0dXJuIDB9Z2V0IHZpZGVvRWxlbWVudFN0YXR1cygpe3JldHVybiB0aGlzLl92aWRlb0VsZW1lbnRTdGF0dXN9c2V0IHZpZGVvRWxlbWVudFN0YXR1cyhlKXtlIT09dGhpcy5fdmlkZW9FbGVtZW50U3RhdHVzJiYoUXkuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMudHJhY2tJZCxcIl0gdmlkZW8tZWxlbWVudC1zdGF0dXMgY2hhbmdlIFwiKS5jb25jYXQodGhpcy5fdmlkZW9FbGVtZW50U3RhdHVzLFwiID0+IFwiKS5jb25jYXQoZSkpLHRoaXMuX3ZpZGVvRWxlbWVudFN0YXR1cz1lKX1nZXQgdmlkZW9TdGF0ZSgpe3JldHVybiB0aGlzLl92aWRlb1N0YXRlfXNldCB2aWRlb1N0YXRlKGUpe3ZhciB0O2UhPT10aGlzLl92aWRlb1N0YXRlJiYodGhpcy5fdmlkZW9TdGF0ZT1lLG51bGw9PT0odD10aGlzLm9uVmlkZW9TdGF0ZUNoYW5nZWQpfHx2b2lkIDA9PT10fHx0LmNhbGwodGhpcyx0aGlzLnZpZGVvU3RhdGUpKX1jb25zdHJ1Y3RvcihlKXtJUCh0aGlzLFwidHJhY2tJZFwiLHZvaWQgMCksSVAodGhpcyxcImNvbmZpZ1wiLHZvaWQgMCksSVAodGhpcyxcIm9uRmlyc3RWaWRlb0ZyYW1lRGVjb2RlZFwiLHZvaWQgMCksSVAodGhpcyxcIm9uVmlkZW9TdGF0ZUNoYW5nZWRcIix2b2lkIDApLElQKHRoaXMsXCJmcmVlemVUaW1lQ291bnRlckxpc3RcIixbXSksSVAodGhpcyxcInJlbmRlckZyZWV6ZUFjY1RpbWVcIiwwKSxJUCh0aGlzLFwiaXNLZWVwTGFzdEZyYW1lXCIsITEpLElQKHRoaXMsXCJ0aW1lVXBkYXRlZENvdW50XCIsMCksSVAodGhpcyxcImZyZWV6ZVRpbWVcIiwwKSxJUCh0aGlzLFwicGxheWJhY2tUaW1lXCIsMCksSVAodGhpcyxcImxhc3RUaW1lVXBkYXRlZFRpbWVcIiwwKSxJUCh0aGlzLFwiYXV0b3BsYXlGYWlsZWRcIiwhMSksSVAodGhpcyxcInZpZGVvVHJhY2tcIix2b2lkIDApLElQKHRoaXMsXCJ2aWRlb0VsZW1lbnRcIix2b2lkIDApLElQKHRoaXMsXCJjYWNoZVZpZGVvRWxlbWVudFwiLHZvaWQgMCksSVAodGhpcyxcInJlbmRlclN0YXRzXCIsdm9pZCAwKSxJUCh0aGlzLFwiX3ZpZGVvU3RhdGVcIixTUC5WaWRlb1N0YXRlU3RvcHBlZCksSVAodGhpcyxcInZpZGVvRWxlbWVudENoZWNrSW50ZXJ2YWxcIix2b2lkIDApLElQKHRoaXMsXCJ2aWRlb0VsZW1lbnRGcmVlemVUaW1lb3V0XCIsdm9pZCAwKSxJUCh0aGlzLFwiX3ZpZGVvRWxlbWVudFN0YXR1c1wiLFRQLk5PTkUpLElQKHRoaXMsXCJpc0dldHRpbmdWaWRlb0RpbWVuc2lvbnNcIiwhMSksSVAodGhpcyxcInN0YXJ0R2V0VmlkZW9EaW1lbnNpb25zXCIsKCgpPT57Y29uc3QgZT0oKT0+e2lmKHRoaXMuaXNHZXR0aW5nVmlkZW9EaW1lbnNpb25zPSEwLHRoaXMudmlkZW9FbGVtZW50LnZpZGVvV2lkdGgqdGhpcy52aWRlb0VsZW1lbnQudmlkZW9IZWlnaHQ+NClyZXR1cm4gUXkuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMudHJhY2tJZCxcIl0gY3VycmVudCB2aWRlbyBkaW1lbnNpb25zOlwiKSx0aGlzLnZpZGVvRWxlbWVudC52aWRlb1dpZHRoLHRoaXMudmlkZW9FbGVtZW50LnZpZGVvSGVpZ2h0KSx2b2lkKHRoaXMuaXNHZXR0aW5nVmlkZW9EaW1lbnNpb25zPSExKTtzZXRUaW1lb3V0KGUsNTAwKX07IXRoaXMuaXNHZXR0aW5nVmlkZW9EaW1lbnNpb25zJiZlKCl9KSksSVAodGhpcyxcImF1dG9SZXN1bWVBZnRlckludGVycnVwdGlvblwiLCgoKT0+e3RoaXMudmlkZW9UcmFjayYmXCJsaXZlXCI9PT10aGlzLnZpZGVvVHJhY2sucmVhZHlTdGF0ZSYmXCJydW5uaW5nXCI9PT1OUC5jdXJTdGF0ZSYmKFF5LmRlYnVnKFwiW3RyYWNrLVwiLmNvbmNhdCh0aGlzLnRyYWNrSWQsXCJdIHZpZGVvIGVsZW1lbnQgcGF1c2VkLCBhdXRvIHJlc3VtZSBmb3IgXCIpLmNvbmNhdChPSSgpKSksWUkoKT8odGhpcy52aWRlb0VsZW1lbnQuc3JjT2JqZWN0PW51bGwsdGhpcy52aWRlb0VsZW1lbnQuc3JjT2JqZWN0PW5ldyBNZWRpYVN0cmVhbShbdGhpcy52aWRlb1RyYWNrXSksdGhpcy52aWRlb0VsZW1lbnQucGxheSgpKToodGhpcy52aWRlb0VsZW1lbnQucGF1c2UoKSx0aGlzLnZpZGVvRWxlbWVudC5wbGF5KCkpKX0pKSxJUCh0aGlzLFwiaGFuZGxlVmlkZW9FdmVudHNcIiwoZT0+e3N3aXRjaChlLnR5cGUpe2Nhc2VcInBsYXlcIjpjYXNlXCJwbGF5aW5nXCI6dGhpcy5zdGFydEdldFZpZGVvRGltZW5zaW9ucygpLHRoaXMudmlkZW9FbGVtZW50U3RhdHVzPVRQLlBMQVlJTkc7YnJlYWs7Y2FzZVwibG9hZGVkZGF0YVwiOmlmKHRoaXMudmlkZW9TdGF0ZT1TUC5WaWRlb1N0YXRlU3RhcnRpbmcsdGhpcy5vbkZpcnN0VmlkZW9GcmFtZURlY29kZWQmJnRoaXMub25GaXJzdFZpZGVvRnJhbWVEZWNvZGVkKCksdGhpcy5jYWNoZVZpZGVvRWxlbWVudCl7dHJ5e3RoaXMuY2FjaGVWaWRlb0VsZW1lbnQuc3JjT2JqZWN0PW51bGwsdGhpcy5jYWNoZVZpZGVvRWxlbWVudC5yZW1vdmUoKX1jYXRjaChlKXt9dGhpcy5jYWNoZVZpZGVvRWxlbWVudD12b2lkIDB9YnJlYWs7Y2FzZVwiY2FucGxheVwiOnRoaXMudmlkZW9FbGVtZW50U3RhdHVzPVRQLkNBTlBMQVk7YnJlYWs7Y2FzZVwic3RhbGxlZFwiOnRoaXMudmlkZW9FbGVtZW50U3RhdHVzPVRQLlNUQUxMRUQ7YnJlYWs7Y2FzZVwic3VzcGVuZFwiOnRoaXMudmlkZW9FbGVtZW50U3RhdHVzPVRQLlNVU1BFTkQ7YnJlYWs7Y2FzZVwicGF1c2VcIjp0aGlzLnZpZGVvRWxlbWVudFN0YXR1cz1UUC5QQVVTRUQsTUkoKXx8cUkoKXx8UEkoKSYmdGhpcy5hdXRvcGxheUZhaWxlZHx8IXRoaXMudmlkZW9UcmFja3x8XCJsaXZlXCIhPT10aGlzLnZpZGVvVHJhY2sucmVhZHlTdGF0ZXx8KFF5LmRlYnVnKFwiW3RyYWNrLVwiLmNvbmNhdCh0aGlzLnRyYWNrSWQsXCJdIHZpZGVvIGVsZW1lbnQgcGF1c2VkLCBhdXRvIHJlc3VtZVwiKSksdGhpcy52aWRlb0VsZW1lbnQucGxheSgpKTticmVhaztjYXNlXCJ3YWl0aW5nXCI6dGhpcy52aWRlb0VsZW1lbnRTdGF0dXM9VFAuV0FJVElORzticmVhaztjYXNlXCJhYm9ydFwiOnRoaXMudmlkZW9FbGVtZW50U3RhdHVzPVRQLkFCT1JUO2JyZWFrO2Nhc2VcImVuZGVkXCI6dGhpcy52aWRlb0VsZW1lbnRTdGF0dXM9VFAuRU5ERUQ7YnJlYWs7Y2FzZVwiZW1wdGllZFwiOnRoaXMudmlkZW9FbGVtZW50U3RhdHVzPVRQLkVNUFRJRUQ7YnJlYWs7Y2FzZVwiZXJyb3JcIjp7Y29uc3QgZT10aGlzLnZpZGVvRWxlbWVudC5lcnJvcjtlPyh0aGlzLnZpZGVvRWxlbWVudFN0YXR1cz1UUC5FUlJPUixReS5lcnJvcihcIltcIi5jb25jYXQodGhpcy50cmFja0lkLFwiXSBtZWRpYSBlcnJvcjogXCIpLmNvbmNhdChlLm1lc3NhZ2UsXCIgKFwiKS5jb25jYXQoZS5jb2RlLFwiKVwiKSkpOlF5LmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnRyYWNrSWQsXCJdIG1lZGlhIG5vdCBiZWVuIGFuIGVycm9yLlwiKSk7YnJlYWt9Y2FzZVwidGltZXVwZGF0ZVwiOntjb25zdCBlPXBlcmZvcm1hbmNlLm5vdygpO2lmKHRoaXMudGltZVVwZGF0ZWRDb3VudCs9MSx0aGlzLnRpbWVVcGRhdGVkQ291bnQ8MTApcmV0dXJuIHZvaWQodGhpcy5sYXN0VGltZVVwZGF0ZWRUaW1lPWUpO2NvbnN0IHQ9ZS10aGlzLmxhc3RUaW1lVXBkYXRlZFRpbWUsaT10aGlzLmxhc3RUaW1lVXBkYXRlZFRpbWU7aWYodGhpcy5sYXN0VGltZVVwZGF0ZWRUaW1lPWUsY00ubGFzdFZpc2libGVUaW1lPGNNLmxhc3RIaWRkZW5UaW1lfHxpPGNNLmxhc3RIaWRkZW5UaW1lfHxpPGNNLmxhc3RWaXNpYmxlVGltZSlyZXR1cm47Zm9yKHQ+RHkoXCJWSURFT19GUkVFWkVfRFVSQVRJT05cIikmJih0aGlzLmZyZWV6ZVRpbWUrPXQpLHRoaXMucGxheWJhY2tUaW1lKz10O3RoaXMucGxheWJhY2tUaW1lPj02ZTM7KXt0aGlzLnBsYXliYWNrVGltZS09NmUzO2NvbnN0IGU9TWF0aC5taW4oNmUzLHRoaXMuZnJlZXplVGltZSk7dGhpcy5mcmVlemVUaW1lQ291bnRlckxpc3QucHVzaChlKSx0aGlzLmZyZWV6ZVRpbWU9TWF0aC5tYXgoMCx0aGlzLmZyZWV6ZVRpbWUtNmUzKX1icmVha319fSkpLElQKHRoaXMsXCJhdXRvUmVzdW1lQWZ0ZXJJbnRlcnJ1cHRpb25PbklPUzE1XzE2XCIsKCgpPT57dGhpcy52aWRlb1RyYWNrJiZcImxpdmVcIj09PXRoaXMudmlkZW9UcmFjay5yZWFkeVN0YXRlJiYoUXkuZGVidWcoXCJbdHJhY2stXCIuY29uY2F0KHRoaXMudHJhY2tJZCxcIl0gdmlkZW8gZWxlbWVudCBwYXVzZWQsIGF1dG8gcmVzdW1lIGZvciBcIikuY29uY2F0KE9JKCkpKSxZSSgpPyh0aGlzLnZpZGVvRWxlbWVudC5zcmNPYmplY3Q9bnVsbCx0aGlzLnZpZGVvRWxlbWVudC5zcmNPYmplY3Q9bmV3IE1lZGlhU3RyZWFtKFt0aGlzLnZpZGVvVHJhY2tdKSx0aGlzLnZpZGVvRWxlbWVudC5wbGF5KCkpOih0aGlzLnZpZGVvRWxlbWVudC5wYXVzZSgpLHRoaXMudmlkZW9FbGVtZW50LnBsYXkoKSkpfSkpLHRoaXMudHJhY2tJZD1lLnRyYWNrSWQsdGhpcy5jb25maWc9ZSxlLmVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MVmlkZW9FbGVtZW50P3RoaXMudmlkZW9FbGVtZW50PWUuZWxlbWVudDp0aGlzLnZpZGVvRWxlbWVudD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidmlkZW9cIiksTlAub24oVkQuSU9TX0lOVEVSUlVQVElPTl9FTkQsdGhpcy5hdXRvUmVzdW1lQWZ0ZXJJbnRlcnJ1cHRpb24pLE5QLm9uKFZELklPU18xNV8xNl9JTlRFUlJVUFRJT05fRU5ELHRoaXMuYXV0b1Jlc3VtZUFmdGVySW50ZXJydXB0aW9uT25JT1MxNV8xNil9Z2V0VmlkZW9FbGVtZW50KCl7cmV0dXJuIHRoaXMudmlkZW9FbGVtZW50fWdldENvbnRhaW5lckVsZW1lbnQoKXt2YXIgZTtyZXR1cm4gbnVsbCE9PShlPXRoaXMudmlkZW9FbGVtZW50LnBhcmVudEVsZW1lbnQpJiZ2b2lkIDAhPT1lP2U6dm9pZCAwfXVwZGF0ZUNvbmZpZyhlKXt0aGlzLmNvbmZpZz1lLHRoaXMudHJhY2tJZD1lLnRyYWNrSWQsZS5lbGVtZW50IT09dGhpcy52aWRlb0VsZW1lbnQmJih0aGlzLmRlc3Ryb3koKSx0aGlzLnZpZGVvRWxlbWVudD1lLmVsZW1lbnQpLHRoaXMudmlkZW9UcmFjayYmdGhpcy5pbml0VmlkZW9FbGVtZW50KCl9dXBkYXRlVmlkZW9UcmFjayhlKXt0aGlzLnZpZGVvVHJhY2shPT1lJiYodGhpcy52aWRlb1RyYWNrPWUsdGhpcy5pbml0VmlkZW9FbGVtZW50KCkpfXBsYXkoZSl7Y29uc3QgdD10aGlzLnZpZGVvRWxlbWVudC5wbGF5KCk7dCYmdC5jYXRjaCYmdC5jYXRjaCgodD0+e2UmJlpQKGUsXCJ2aWRlb1wiLHQubWVzc2FnZSx0aGlzLnRyYWNrSWQpLFwiTm90QWxsb3dlZEVycm9yXCI9PT10Lm5hbWU/KFF5Lndhcm5pbmcoXCJkZXRlY3RlZCB2aWRlbyBlbGVtZW50IGF1dG9wbGF5IGZhaWxlZFwiLHQpLHRoaXMuYXV0b3BsYXlGYWlsZWQ9ITAsdGhpcy5oYW5kbGVBdXRvUGxheUZhaWxlZCgpKTpReS53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLnRyYWNrSWQsXCJdIHBsYXkgd2FybmluZzogXCIpLHQpfSkpO2NvbnN0IGk9QUkoKTtpZigoXCJTYWZhcmlcIj09PWkubmFtZSYmMTU9PT1OdW1iZXIoaS52ZXJzaW9uKXx8SEkoKSkmJnQmJnQudGhlbil7Y29uc3QgZT0oKT0+e3RoaXMuY29uZmlnLm1pcnJvciYmKHRoaXMudmlkZW9FbGVtZW50LnN0eWxlLnRyYW5zZm9ybT1cInJvdGF0ZVkoMTgwZGVnKVwiKX07dC50aGVuKGUpLmNhdGNoKGUpfX1nZXRDdXJyZW50RnJhbWUoKXtjb25zdCBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7ZS53aWR0aD10aGlzLnZpZGVvRWxlbWVudC52aWRlb1dpZHRoLGUuaGVpZ2h0PXRoaXMudmlkZW9FbGVtZW50LnZpZGVvSGVpZ2h0O2NvbnN0IHQ9ZS5nZXRDb250ZXh0KFwiMmRcIik7aWYoIXQpcmV0dXJuIFF5LmVycm9yKFwiY3JlYXRlIGNhbnZhcyBjb250ZXh0IGZhaWxlZCFcIiksbmV3IEltYWdlRGF0YSgyLDIpO3QuZHJhd0ltYWdlKHRoaXMudmlkZW9FbGVtZW50LDAsMCxlLndpZHRoLGUuaGVpZ2h0KTtjb25zdCBpPXQuZ2V0SW1hZ2VEYXRhKDAsMCxlLndpZHRoLGUuaGVpZ2h0KTtyZXR1cm4gZS5yZW1vdmUoKSxpfWFzeW5jIGdldEN1cnJlbnRGcmFtZVRvVWludDhBcnJheShlKXtsZXQgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06MTtjb25zdCBpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJjYW52YXNcIik7aS53aWR0aD10aGlzLnZpZGVvRWxlbWVudC52aWRlb1dpZHRoLGkuaGVpZ2h0PXRoaXMudmlkZW9FbGVtZW50LnZpZGVvSGVpZ2h0O2NvbnN0IG49aS5nZXRDb250ZXh0KFwiMmRcIik7cmV0dXJuIG4/KG4uZHJhd0ltYWdlKHRoaXMudmlkZW9FbGVtZW50LDAsMCxpLndpZHRoLGkuaGVpZ2h0KSxuZXcgR2goKChuLHIpPT57aS50b0Jsb2IoKGFzeW5jIGU9PntpZihpLnJlbW92ZSgpLGUpe2NvbnN0IHQ9YXdhaXQgX0woZSk7bih7YnVmZmVyOnQsd2lkdGg6aS53aWR0aCxoZWlnaHQ6aS5oZWlnaHR9KX1lbHNlIHIobmV3IHJ2KG52LkNPTlZFUlRJTkdfVklERU9fRlJBTUVfVE9fQkxPQl9GQUlMRUQpKX0pLGUsdDwwPy4xOnQ+MT8xOnQpfSkpKTphd2FpdCBwTChlKX1kZXN0cm95KCl7dGhpcy5yZW5kZXJTdGF0cz12b2lkIDAsTlAub2ZmKFZELklPU19JTlRFUlJVUFRJT05fRU5ELHRoaXMuYXV0b1Jlc3VtZUFmdGVySW50ZXJydXB0aW9uKSxOUC5vZmYoVkQuSU9TXzE1XzE2X0lOVEVSUlVQVElPTl9FTkQsdGhpcy5hdXRvUmVzdW1lQWZ0ZXJJbnRlcnJ1cHRpb25PbklPUzE1XzE2KSx0aGlzLnZpZGVvRWxlbWVudC5zcmNPYmplY3Q9bnVsbCx0aGlzLnJlc2V0VmlkZW9FbGVtZW50KCksdGhpcy5mcmVlemVUaW1lQ291bnRlckxpc3Q9W10sdGhpcy52aWRlb1N0YXRlPVNQLlZpZGVvU3RhdGVTdG9wcGVkfWluaXRWaWRlb0VsZW1lbnQoKXtpZih0aGlzLnZpZGVvRWxlbWVudFN0YXR1cz1UUC5JTklULCF0aGlzLnZpZGVvRWxlbWVudENoZWNrSW50ZXJ2YWwmJihjay5mb3JFYWNoKChlPT57dGhpcy52aWRlb0VsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihlLHRoaXMuaGFuZGxlVmlkZW9FdmVudHMpfSkpLHRoaXMudmlkZW9FbGVtZW50Q2hlY2tJbnRlcnZhbD13aW5kb3cuc2V0SW50ZXJ2YWwoKCgpPT57KGZ1bmN0aW9uKGUpe3JldHVybiBlIT09ZG9jdW1lbnQuYm9keSYmZG9jdW1lbnQuYm9keS5jb250YWlucyhlKX0pKHRoaXMudmlkZW9FbGVtZW50KXx8KHRoaXMudmlkZW9FbGVtZW50U3RhdHVzPVRQLkRFU1RST1lFRCl9KSwxZTMpLER5KFwiRU5BQkxFX1ZJREVPX0ZSQU1FX0NBTExCQUNLXCIpKSl7dmFyIGUsdDtsZXQgaTtjb25zdCBuPSgpPT57XCJ2aXNpYmxlXCI9PT1kb2N1bWVudC52aXNpYmlsaXR5U3RhdGUmJihkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwidmlzaWJpbGl0eWNoYW5nZVwiLG4pLHRoaXMudmlkZW9FbGVtZW50RnJlZXplVGltZW91dD13aW5kb3cuc2V0VGltZW91dChyLER5KFwiVklERU9fRlJFRVpFX0RVUkFUSU9OXCIpKSl9LHI9KCk9Pnt0aGlzLnZpZGVvRWxlbWVudEZyZWV6ZVRpbWVvdXQ9dm9pZCAwLHRoaXMudmlkZW9TdGF0ZT09PVNQLlZpZGVvU3RhdGVEZWNvZGluZyYmKFwidmlzaWJsZVwiPT09ZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlP3RoaXMudmlkZW9TdGF0ZT1TUC5WaWRlb1N0YXRlRnJvemVuOmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsbikpfSxvPShlLHQpPT57aWYodGhpcy52aWRlb0VsZW1lbnRTdGF0dXM9PT1UUC5QTEFZSU5HKXtpZih0aGlzLnJlbmRlclN0YXRzPyh0aGlzLnJlbmRlclN0YXRzLnJlbmRlck51bSsrLHRoaXMucmVuZGVyU3RhdHMuY3VyVHM9dC5tZWRpYVRpbWUpOnRoaXMucmVuZGVyU3RhdHM9e2xhc3RUczp0Lm1lZGlhVGltZSxjdXJUczp0Lm1lZGlhVGltZSxsYXN0UmVuZGVyTnVtOjAscmVuZGVyTnVtOjB9LGkpe2NvbnN0IGU9dC5wcmVzZW50YXRpb25UaW1lLWkucHJlc2VudGF0aW9uVGltZTt0aGlzLnZpZGVvU3RhdGU9PT1TUC5WaWRlb1N0YXRlU3RhcnRpbmcmJih0aGlzLnZpZGVvU3RhdGU9U1AuVmlkZW9TdGF0ZURlY29kaW5nKSx0aGlzLnZpZGVvU3RhdGU9PT1TUC5WaWRlb1N0YXRlRGVjb2RpbmcmJnRoaXMub25WaWRlb1N0YXRlQ2hhbmdlZCYmKHRoaXMudmlkZW9FbGVtZW50RnJlZXplVGltZW91dCYmd2luZG93LmNsZWFyVGltZW91dCh0aGlzLnZpZGVvRWxlbWVudEZyZWV6ZVRpbWVvdXQpLHRoaXMudmlkZW9FbGVtZW50RnJlZXplVGltZW91dD13aW5kb3cuc2V0VGltZW91dChyLER5KFwiVklERU9fRlJFRVpFX0RVUkFUSU9OXCIpKSksZTxEeShcIlZJREVPX0ZSRUVaRV9EVVJBVElPTlwiKSYmdGhpcy52aWRlb1N0YXRlPT09U1AuVmlkZW9TdGF0ZUZyb3plbiYmKHRoaXMudmlkZW9TdGF0ZT1TUC5WaWRlb1N0YXRlRGVjb2RpbmcpLGU+RHkoXCJWSURFT19GUkVFWkVfRFVSQVRJT05cIikmJmNNLmxhc3RWaXNpYmxlVGltZT49Y00ubGFzdEhpZGRlblRpbWUmJmkudGltZXN0YW1wPmNNLmxhc3RWaXNpYmxlVGltZSYmaS50aW1lc3RhbXA+Y00ubGFzdEhpZGRlblRpbWUmJih0aGlzLnJlbmRlckZyZWV6ZUFjY1RpbWUrPWUpfWk9eVAoeVAoe30sdCkse30se3RpbWVzdGFtcDplfSl9dmFyIG4scztEeShcIkVOQUJMRV9WSURFT19GUkFNRV9DQUxMQkFDS1wiKSYmKG51bGw9PT0obj0ocz10aGlzLnZpZGVvRWxlbWVudCkucmVxdWVzdFZpZGVvRnJhbWVDYWxsYmFjayl8fHZvaWQgMD09PW58fG4uY2FsbChzLG8pKX07bnVsbD09PShlPSh0PXRoaXMudmlkZW9FbGVtZW50KS5yZXF1ZXN0VmlkZW9GcmFtZUNhbGxiYWNrKXx8dm9pZCAwPT09ZXx8ZS5jYWxsKHQsbyl9dGhpcy52aWRlb0VsZW1lbnQuY29udHJvbHM9ITEsdGhpcy52aWRlb0VsZW1lbnQuc2V0QXR0cmlidXRlKFwicGxheXNpbmxpbmVcIixcIlwiKSxaSSgpJiYhRHkoXCJISURFX05PX1BPU1RFUlwiKSYmKHRoaXMudmlkZW9FbGVtZW50LnBvc3Rlcj1cIm5vcG9zdGVyXCIpO2NvbnN0IGk9QUkoKTtcIlNhZmFyaVwiPT09aS5uYW1lJiYxNT09PU51bWJlcihpLnZlcnNpb24pfHxISSgpfHwhdGhpcy5jb25maWcubWlycm9yfHwodGhpcy52aWRlb0VsZW1lbnQuc3R5bGUudHJhbnNmb3JtPVwicm90YXRlWSgxODBkZWcpXCIpLHRoaXMuY29uZmlnLmZpdD90aGlzLnZpZGVvRWxlbWVudC5zdHlsZS5vYmplY3RGaXQ9dGhpcy5jb25maWcuZml0OnRoaXMudmlkZW9FbGVtZW50LnN0eWxlLm9iamVjdEZpdD1cImNvdmVyXCIsdGhpcy52aWRlb0VsZW1lbnQuc2V0QXR0cmlidXRlKFwibXV0ZWRcIixcIlwiKSx0aGlzLnZpZGVvRWxlbWVudC5tdXRlZD0hMCx0aGlzLnZpZGVvRWxlbWVudC5zcmNPYmplY3QmJnRoaXMudmlkZW9FbGVtZW50LnNyY09iamVjdCBpbnN0YW5jZW9mIE1lZGlhU3RyZWFtP3RoaXMudmlkZW9FbGVtZW50LnNyY09iamVjdC5nZXRWaWRlb1RyYWNrcygpWzBdIT09dGhpcy52aWRlb1RyYWNrJiYodGhpcy52aWRlb0VsZW1lbnQuc3JjT2JqZWN0PXRoaXMudmlkZW9UcmFjaz9uZXcgTWVkaWFTdHJlYW0oW3RoaXMudmlkZW9UcmFja10pOm51bGwsa0koKSYmdGhpcy52aWRlb0VsZW1lbnQubG9hZCgpKToodGhpcy52aWRlb0VsZW1lbnQuc3JjT2JqZWN0PXRoaXMudmlkZW9UcmFjaz9uZXcgTWVkaWFTdHJlYW0oW3RoaXMudmlkZW9UcmFja10pOm51bGwsa0koKSYmdGhpcy52aWRlb0VsZW1lbnQubG9hZCgpKTtjb25zdCBuPXRoaXMudmlkZW9FbGVtZW50LnBsYXkoKTt2b2lkIDAhPT1uJiZuLmNhdGNoKChlPT57UXkuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMudHJhY2tJZCxcIl0gcGxheWJhY2sgaW50ZXJydXB0ZWRcIiksZS50b1N0cmluZygpKX0pKX1yZXNldFZpZGVvRWxlbWVudCgpe2NrLmZvckVhY2goKGU9Pnt0aGlzLnZpZGVvRWxlbWVudCYmdGhpcy52aWRlb0VsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihlLHRoaXMuaGFuZGxlVmlkZW9FdmVudHMpfSkpLHRoaXMudmlkZW9FbGVtZW50Q2hlY2tJbnRlcnZhbCYmKHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMudmlkZW9FbGVtZW50Q2hlY2tJbnRlcnZhbCksdGhpcy52aWRlb0VsZW1lbnRDaGVja0ludGVydmFsPXZvaWQgMCksdGhpcy52aWRlb0VsZW1lbnRTdGF0dXM9VFAuTk9ORX1oYW5kbGVBdXRvUGxheUZhaWxlZCgpe2NvbnN0IGU9dD0+e3QucHJldmVudERlZmF1bHQoKSx0aGlzLnZpZGVvRWxlbWVudC5wbGF5KCkudGhlbigoKCk9PntReS5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy50cmFja0lkLFwiXSBWaWRlbyBlbGVtZW50IGZvciB0cmFja0lkOlwiKS5jb25jYXQodGhpcy50cmFja0lkLFwiIGF1dG9wbGF5IHJlc3VtZWQuXCIpKX0pKS5jYXRjaCgoZT0+e1F5LmVycm9yKGUpfSkpLHRoaXMuYXV0b3BsYXlGYWlsZWQ9ITEsJEkoKT9kb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGUsITApOihkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0b3VjaHN0YXJ0XCIsZSwhMCksZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsZSwhMCkpfTskSSgpP2RvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZSwhMCk6KGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcihcInRvdWNoc3RhcnRcIixlLCEwKSxkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIixlLCEwKSksUVAoKX19Y29uc3QgY2s9W1wicGxheVwiLFwicGxheWluZ1wiLFwibG9hZGVkZGF0YVwiLFwiY2FucGxheVwiLFwicGF1c2VcIixcInN0YWxsZWRcIixcInN1c3BlbmRcIixcIndhaXRpbmdcIixcImFib3J0XCIsXCJlbXB0aWVkXCIsXCJlbmRlZFwiLFwidGltZXVwZGF0ZVwiLFwiZXJyb3JcIl07Y2xhc3MgZGsgZXh0ZW5kcyBha3tjb25zdHJ1Y3RvcihlKXtzdXBlcihlKSxJUCh0aGlzLFwiY29udGFpbmVyXCIsdm9pZCAwKSxJUCh0aGlzLFwic2xvdFwiLHZvaWQgMCksdGhpcy5zbG90PWUuZWxlbWVudCx0aGlzLnVwZGF0ZUNvbmZpZyhlKX11cGRhdGVDb25maWcoZSl7dGhpcy5jb25maWc9ZSx0aGlzLnRyYWNrSWQ9ZS50cmFja0lkO2NvbnN0IHQ9ZS5lbGVtZW50O3QhPT10aGlzLnNsb3QmJih0aGlzLmRlc3Ryb3koKSx0aGlzLnNsb3Q9dCksdGhpcy5jcmVhdGVFbGVtZW50cygpfXVwZGF0ZVZpZGVvVHJhY2soZSl7dGhpcy52aWRlb1RyYWNrIT09ZSYmKHRoaXMudmlkZW9UcmFjaz1lLHRoaXMuY3JlYXRlRWxlbWVudHMoKSl9cGxheShlKXt2YXIgdDtudWxsIT09KHQ9dGhpcy5jb250YWluZXIpJiZ2b2lkIDAhPT10JiZ0LmNvbnRhaW5zKHRoaXMudmlkZW9FbGVtZW50KSYmc3VwZXIucGxheShlKX1nZXRDdXJyZW50RnJhbWUoKXt2YXIgZTtyZXR1cm4gbnVsbCE9PShlPXRoaXMuY29udGFpbmVyKSYmdm9pZCAwIT09ZSYmZS5jb250YWlucyh0aGlzLnZpZGVvRWxlbWVudCk/c3VwZXIuZ2V0Q3VycmVudEZyYW1lKCk6bmV3IEltYWdlRGF0YSgyLDIpfWFzeW5jIGdldEN1cnJlbnRGcmFtZVRvVWludDhBcnJheShlKXt2YXIgdDtsZXQgaT1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06MTtyZXR1cm4gbnVsbCE9PSh0PXRoaXMuY29udGFpbmVyKSYmdm9pZCAwIT09dCYmdC5jb250YWlucyh0aGlzLnZpZGVvRWxlbWVudCk/YXdhaXQgc3VwZXIuZ2V0Q3VycmVudEZyYW1lVG9VaW50OEFycmF5KGUsaSk6YXdhaXQgcEwoZSl9ZGVzdHJveSgpe2lmKHN1cGVyLmRlc3Ryb3koKSx0aGlzLnZpZGVvRWxlbWVudC5yZW1vdmUoKSx0aGlzLnZpZGVvRWxlbWVudD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidmlkZW9cIiksdGhpcy5jb250YWluZXIpe3RyeXt0aGlzLmNvbnRhaW5lci5yZW1vdmUoKSx0aGlzLnNsb3QucmVtb3ZlQ2hpbGQodGhpcy5jb250YWluZXIpfWNhdGNoKGUpe310aGlzLmNvbnRhaW5lcj12b2lkIDB9fWNyZWF0ZUVsZW1lbnRzKCl7dGhpcy5jb250YWluZXJ8fCh0aGlzLmNvbnRhaW5lcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKSx0aGlzLmNvbnRhaW5lci5pZD1cImFnb3JhLXZpZGVvLXBsYXllci1cIi5jb25jYXQodGhpcy50cmFja0lkKSx0aGlzLmNvbnRhaW5lci5zdHlsZS53aWR0aD1cIjEwMCVcIix0aGlzLmNvbnRhaW5lci5zdHlsZS5oZWlnaHQ9XCIxMDAlXCIsdGhpcy5jb250YWluZXIuc3R5bGUucG9zaXRpb249XCJyZWxhdGl2ZVwiLHRoaXMuY29udGFpbmVyLnN0eWxlLm92ZXJmbG93PVwiaGlkZGVuXCIsdGhpcy52aWRlb1RyYWNrPyh0aGlzLmNvbnRhaW5lci5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9XCJibGFja1wiLER5KFwiS0VFUF9MQVNUX0ZSQU1FXCIpJiZ0aGlzLmlzS2VlcExhc3RGcmFtZSYmdGhpcy52aWRlb0VsZW1lbnQucGF1c2VkJiZ0aGlzLnJlc2V0VmlkZW9FbGVtZW50KCksdGhpcy5tb3VudGVkVmlkZW9FbGVtZW50KCkpOnRoaXMudW5tb3VudGVkVmlkZW9FbGVtZW50KCksdGhpcy5zbG90LmFwcGVuZENoaWxkKHRoaXMuY29udGFpbmVyKX1tb3VudGVkVmlkZW9FbGVtZW50KCl7dmFyIGU7IXRoaXMuY29udGFpbmVyfHxudWxsIT09KGU9dGhpcy5jb250YWluZXIpJiZ2b2lkIDAhPT1lJiZlLmNvbnRhaW5zKHRoaXMudmlkZW9FbGVtZW50KXx8dGhpcy5jb250YWluZXIuYXBwZW5kQ2hpbGQodGhpcy52aWRlb0VsZW1lbnQpLHN1cGVyLmluaXRWaWRlb0VsZW1lbnQoKSx0aGlzLnZpZGVvRWxlbWVudC5pZD1cInZpZGVvX1wiLmNvbmNhdCh0aGlzLnRyYWNrSWQpLHRoaXMudmlkZW9FbGVtZW50LmNsYXNzTmFtZT1cImFnb3JhX3ZpZGVvX3BsYXllclwiLHRoaXMudmlkZW9FbGVtZW50LnN0eWxlLndpZHRoPVwiMTAwJVwiLHRoaXMudmlkZW9FbGVtZW50LnN0eWxlLmhlaWdodD1cIjEwMCVcIix0aGlzLnZpZGVvRWxlbWVudC5zdHlsZS5wb3NpdGlvbj1cImFic29sdXRlXCIsdGhpcy52aWRlb0VsZW1lbnQuc3R5bGUubGVmdD1cIjBcIix0aGlzLnZpZGVvRWxlbWVudC5zdHlsZS50b3A9XCIwXCJ9dW5tb3VudGVkVmlkZW9FbGVtZW50KCl7dmFyIGU7aWYobnVsbCE9PShlPXRoaXMuY29udGFpbmVyKSYmdm9pZCAwIT09ZSYmZS5jb250YWlucyh0aGlzLnZpZGVvRWxlbWVudCkpe3N1cGVyLnJlc2V0VmlkZW9FbGVtZW50KCk7dHJ5e3RoaXMuY29udGFpbmVyJiZ0aGlzLmNvbnRhaW5lci5yZW1vdmVDaGlsZCh0aGlzLnZpZGVvRWxlbWVudCl9Y2F0Y2goZSl7fXRoaXMudmlkZW9FbGVtZW50PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ2aWRlb1wiKX19cmVzZXRWaWRlb0VsZW1lbnQoKXt2YXIgZTtudWxsIT09KGU9dGhpcy5jb250YWluZXIpJiZ2b2lkIDAhPT1lJiZlLmNvbnRhaW5zKHRoaXMudmlkZW9FbGVtZW50KSYmKHN1cGVyLnJlc2V0VmlkZW9FbGVtZW50KCksdGhpcy5jYWNoZVZpZGVvRWxlbWVudD10aGlzLnZpZGVvRWxlbWVudCx0aGlzLnZpZGVvRWxlbWVudD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidmlkZW9cIikpfWdldENvbnRhaW5lckVsZW1lbnQoKXtyZXR1cm4gdGhpcy5jb250YWluZXJ9fXZhciBsayx1ayxoayxwayxfayxFayxtayxmayxUayxTayxnayxSayxDayxJayx2ayx5ayxBayxiayx3ayxPayxOayxEayxQayxMayxrayxNayxVayx4ayxWayxGayxCayxqayxHayxXaztsZXQgSGs9KGxrPW9BKHthcmdzTWFwOihlLHQsaSk9PltlLmdldFRyYWNrSWQoKSxcInN0cmluZ1wiPT10eXBlb2YgdD90OnQgaW5zdGFuY2VvZiBIVE1MVmlkZW9FbGVtZW50P1wiSFRNTFZpZGVvRWxlbWVudFwiOlwiSFRNTEVsZW1lbnRcIixpXX0pLHVrPXRMKCksaGs9b0Eoe2FyZ3NNYXA6ZT0+W2UuZ2V0VHJhY2tJZCgpXX0pLHBrPXB5KFwiTG9jYWxWaWRlb1RyYWNrXCIsXCJfZW5hYmxlZE11dGV4XCIpLF9rPW9BKHthcmdzTWFwOihlLHQpPT5bZS5nZXRUcmFja0lkKCksdF19KSxFaz10TCgpLG1rPXB5KFwiTG9jYWxWaWRlb1RyYWNrXCIsXCJfZW5hYmxlZE11dGV4XCIpLGZrPW9BKHthcmdzTWFwOihlLHQpPT5bZS5nZXRUcmFja0lkKCksdF19KSxUaz10TCgpLFNrPW9BKHthcmdzTWFwOihlLHQpPT5bZS5nZXRUcmFja0lkKCksdF19KSxnaz10TCgpLFJrPXRMKCksQ2s9b0Eoe2FyZ3NNYXA6KGUsdCxpKT0+W2UuZ2V0VHJhY2tJZCgpLHQsaV19KSxJaz10TCgpLHZrPXRMKCkseWs9dEwoKSxBaz10TCgpLGJrPXRMKCksd2s9dEwoKSxPaz10TCgpLE5rPW9BKHthcmdzTWFwOihlLHQpPT5bZS5nZXRUcmFja0lkKCksdC5uYW1lXX0pLERrPW9BKHthcmdzTWFwOmU9PltlLmdldFRyYWNrSWQoKV19KSxQaz1vQSh7YXJnc01hcDplPT5bZS5nZXRUcmFja0lkKCldfSksTGs9b0Eoe2FyZ3NNYXA6KGUsdCxpKT0+W2UuZ2V0VHJhY2tJZCgpLHQubGFiZWwsaV19KSxraz1jbGFzcyBlIGV4dGVuZHMgYlB7Z2V0IHZpZGVvSGVpZ2h0KCl7aWYoUEkoKSl7Y29uc3R7aGVpZ2h0OmV9PXRoaXMuX21lZGlhU3RyZWFtVHJhY2suZ2V0U2V0dGluZ3MoKTtyZXR1cm4gdGhpcy5fdmlkZW9IZWlnaHQ9ZSx0aGlzLl92aWRlb0hlaWdodH1yZXR1cm4gdGhpcy5fdmlkZW9IZWlnaHR9Z2V0IHZpZGVvV2lkdGgoKXtpZihQSSgpKXtjb25zdHt3aWR0aDplfT10aGlzLl9tZWRpYVN0cmVhbVRyYWNrLmdldFNldHRpbmdzKCk7cmV0dXJuIHRoaXMuX3ZpZGVvV2lkdGg9ZSx0aGlzLl92aWRlb1dpZHRofXJldHVybiB0aGlzLl92aWRlb1dpZHRofWdldCBpc1BsYXlpbmcoKXtyZXR1cm4hKCF0aGlzLl9wbGF5ZXJ8fHRoaXMuX3BsYXllci52aWRlb0VsZW1lbnRTdGF0dXMhPT1UUC5QTEFZSU5HKX1nZXQgcHJvY2Vzc29yRGVzdGluYXRpb24oKXtyZXR1cm4gdGhpcy5fcHJvY2Vzc29yRGVzdGluYXRpb259Z2V0IHByb2Nlc3NvckNvbnRleHQoKXtyZXR1cm4gdGhpcy5fcHJvY2Vzc29yQ29udGV4dH1zZXQgcHJvY2Vzc29yQ29udGV4dChlKXt0aGlzLl9wcm9jZXNzb3JDb250ZXh0PWV9Z2V0IF9fY2xhc3NOYW1lX18oKXtyZXR1cm5cIkxvY2FsVmlkZW9UcmFja1wifWNvbnN0cnVjdG9yKGUsdCxpLG4scixvKXtpZihzdXBlcihlLHIpLElQKHRoaXMsXCJ0cmFja01lZGlhVHlwZVwiLGFQLlZJREVPKSxJUCh0aGlzLFwiX3BsYXllclwiLHZvaWQgMCksSVAodGhpcyxcImlzVXNlU2NhbGVSZXNvbHV0aW9uRG93bkJ5XCIsITEpLElQKHRoaXMsXCJfdmlkZW9WaXNpYmxlVGltZXJcIixudWxsKSxJUCh0aGlzLFwiX3ByZXZpb3VzVmlkZW9WaXNpYmxlU3RhdHVzXCIsdm9pZCAwKSxJUCh0aGlzLFwiX2NsZWFyUHJldmlvdXNWaWRlb1Zpc2libGVTdGF0dXNcIiwoKCk9PnRoaXMuX3ByZXZpb3VzVmlkZW9WaXNpYmxlU3RhdHVzPXZvaWQgMCkpLElQKHRoaXMsXCJfZW5jb2RlckNvbmZpZ1wiLHZvaWQgMCksSVAodGhpcyxcIl9zY2FsYWJpbGl0eU1vZGVcIix7bnVtU3BhdGlhbExheWVyczoxLG51bVRlbXBvcmFsTGF5ZXJzOjF9KSxJUCh0aGlzLFwiX29wdGltaXphdGlvbk1vZGVcIix2b2lkIDApLElQKHRoaXMsXCJfdmlkZW9IZWlnaHRcIix2b2lkIDApLElQKHRoaXMsXCJfdmlkZW9XaWR0aFwiLHZvaWQgMCksSVAodGhpcyxcIl9mb3JjZUJpdHJhdGVMaW1pdFwiLHZvaWQgMCksSVAodGhpcyxcIl9lbmFibGVkXCIsITApLElQKHRoaXMsXCJfcHJvY2Vzc29yRGVzdGluYXRpb25cIix2b2lkIDApLElQKHRoaXMsXCJfcHJvY2Vzc29yQ29udGV4dFwiLHZvaWQgMCksUEkoKSl7Y29uc3R7d2lkdGg6dCxoZWlnaHQ6aX09ZS5nZXRTZXR0aW5ncygpO3RoaXMuX3ZpZGVvV2lkdGg9dCx0aGlzLl92aWRlb0hlaWdodD1pfWVsc2UgdGhpcy51cGRhdGVNZWRpYVN0cmVhbVRyYWNrUmVzb2x1dGlvbigpO2lmKHRoaXMuX2VuY29kZXJDb25maWc9dCx0aGlzLl9zY2FsYWJpbGl0eU1vZGU9aSx0aGlzLl9vcHRpbWl6YXRpb25Nb2RlPW4sdGhpcy5faGludHM9b3x8W10sLTE9PT10aGlzLl9oaW50cy5pbmRleE9mKGVQLlNDUkVFTl9UUkFDSykpdGhpcy51cGRhdGVCaXRyYXRlRnJvbVByb2ZpbGUoKTtlbHNlIGlmKGZ1bmN0aW9uKGUsdCxpKXtjb25zdCBuPUFJKCk7cmV0dXJuIShuLm5hbWUhPT1lfHwhbi5vc1ZlcnNpb24pJiYoaT9OdW1iZXIobi52ZXJzaW9uKT49dCYmTnVtYmVyKG4udmVyc2lvbik8PWk6TnVtYmVyKG4udmVyc2lvbik9PT10KX0oQ0kuQ0hST01FLDExNSkmJi0xIT09d0koKS5pbmRleE9mKFwiV2luZG93c1wiKSl7Y29uc3QgdD1mdW5jdGlvbihlLHQpe2lmKFwiVmlkZW9GcmFtZVwiaW4gd2luZG93JiZcIlRyYW5zZm9ybVN0cmVhbVwiaW4gd2luZG93JiZNRCgpLnN1cHBvcnRXZWJSVENJbnNlcnRhYmxlU3RyZWFtKXtjb25zdCBpPW5ldyBNZWRpYVN0cmVhbVRyYWNrUHJvY2Vzc29yKGUpLG49bmV3IE1lZGlhU3RyZWFtVHJhY2tHZW5lcmF0b3Ioe2tpbmQ6XCJ2aWRlb1wifSk7bGV0IHIsbyxzPURhdGUubm93KCk7Y29uc3QgYT0oKT0+e2MmJihjbGVhckludGVydmFsKGMpLGM9dm9pZCAwKSxyJiYoci5jbG9zZSgpLHI9dm9pZCAwKSxlLnN0b3AoKSxvPXZvaWQgMCxuLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJlbmRlZFwiLGEpfTtsZXQgYz13aW5kb3cuc2V0SW50ZXJ2YWwoKCgpPT57aWYobyYmciYmRGF0ZS5ub3coKS1zPihudWxsIT10P3Q6MWUzKSl0cnl7XCJsaXZlXCI9PT1uLnJlYWR5U3RhdGU/by5lbnF1ZXVlKHIuY2xvbmUoKSk6YSgpfWNhdGNoKGUpe2EoKX19KSxudWxsIT10P3Q6MWUzKTtjb25zdCBkPW5ldyBUcmFuc2Zvcm1TdHJlYW0oe3RyYW5zZm9ybTooZSx0KT0+e1wibGl2ZVwiPT09bi5yZWFkeVN0YXRlPyhvPXQscz1EYXRlLm5vdygpLHZvaWQgMD09PXI/KHI9ZSx0LmVucXVldWUoZS5jbG9uZSgpKSk6KHQuZW5xdWV1ZShyKSxyPWUpKTplLmNsb3NlKCl9fSk7cmV0dXJuIG4uYWRkRXZlbnRMaXN0ZW5lcihcImVuZGVkXCIsYSksaS5yZWFkYWJsZS5waXBlVGhyb3VnaChkKS5waXBlVG8obi53cml0YWJsZSksbn19KGUpO3QmJihReS5pbmZvKFwibG9jYWwgc2NyZWVuIHZpZGVvIHRyYWNrIGJlZ2luIHRvIGluamVjdCBmcmFtZVwiKSx0aGlzLl9tZWRpYVN0cmVhbVRyYWNrPXQpfXQmJi0xIT09dGhpcy5faGludHMuaW5kZXhPZihlUC5DVVNUT01fVFJBQ0spJiZ0aGlzLnNldEVuY29kZXJDb25maWd1cmF0aW9uKHQpLHRoaXMuX3Byb2Nlc3NvckNvbnRleHQ9bmV3IG5MKHRoaXMuZ2V0VHJhY2tJZCgpLFwibG9jYWxcIiksdGhpcy5fcHJvY2Vzc29yRGVzdGluYXRpb249bmV3IGlMKHRoaXMucHJvY2Vzc29yQ29udGV4dCksdGhpcy5iaW5kUHJvY2Vzc29yRGVzdGluYXRpb25FdmVudHMoKX1wbGF5KGUpe2xldCB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTtpZihcInN0cmluZ1wiPT10eXBlb2YgZSl7Y29uc3QgdD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChlKTt0P2U9dDooUXkud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksJ10gY2FuIG5vdCBmaW5kIFwiIycpLmNvbmNhdChlLCdcIiBlbGVtZW50LCB1c2UgZG9jdW1lbnQuYm9keScpKSxlPWRvY3VtZW50LmJvZHkpfVF5LmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc3RhcnQgdmlkZW8gcGxheWJhY2sgaW4gXCIpLmNvbmNhdChlIGluc3RhbmNlb2YgSFRNTFZpZGVvRWxlbWVudD9cIkhUTUxWaWRlb0VsZW1lbnRcIjpcIkhUTUxFbGVtZW50XCIpLEpTT04uc3RyaW5naWZ5KHQpKTtjb25zdCBpPXlQKHlQKHlQKHt9LHRoaXMuX2dldERlZmF1bHRQbGF5ZXJDb25maWcoKSksdCkse30se3RyYWNrSWQ6dGhpcy5nZXRUcmFja0lkKCksZWxlbWVudDplfSk7dGhpcy5fcGxheWVyP3RoaXMuX3BsYXllci51cGRhdGVDb25maWcoaSk6KGUgaW5zdGFuY2VvZiBIVE1MVmlkZW9FbGVtZW50P3RoaXMuX3BsYXllcj1uZXcgYWsoaSk6dGhpcy5fcGxheWVyPW5ldyBkayhpKSx0aGlzLl9wbGF5ZXIudXBkYXRlVmlkZW9UcmFjayh0aGlzLl9tZWRpYVN0cmVhbVRyYWNrKSksdGhpcy5fcGxheWVyLnBsYXkoKSx0aGlzLl92aWRlb1Zpc2libGVUaW1lciYmd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5fdmlkZW9WaXNpYmxlVGltZXIpLHRoaXMuX2NsZWFyUHJldmlvdXNWaWRlb1Zpc2libGVTdGF0dXMoKSx0aGlzLl92aWRlb1Zpc2libGVUaW1lcj13aW5kb3cuc2V0SW50ZXJ2YWwoKCgpPT57dHJ5e2NvbnN0IGU9dGhpcy5nZXRWaWRlb0VsZW1lbnRWaXNpYmxlU3RhdHVzKCk7dGhpcy5zYWZlRW1pdChvUC5WSURFT19FTEVNRU5UX1ZJU0lCTEVfU1RBVFVTLGUpfWNhdGNoKGUpe319KSxEeShcIkNIRUNLX1ZJREVPX1ZJU0lCTEVfSU5URVJWQUxcIikpfXN0b3AoKXt0aGlzLl9wbGF5ZXImJih0aGlzLl92aWRlb1Zpc2libGVUaW1lciYmKHdpbmRvdy5jbGVhckludGVydmFsKHRoaXMuX3ZpZGVvVmlzaWJsZVRpbWVyKSx0aGlzLl92aWRlb1Zpc2libGVUaW1lcj1udWxsKSx0aGlzLl9jbGVhclByZXZpb3VzVmlkZW9WaXNpYmxlU3RhdHVzKCksdGhpcy5fcGxheWVyLmRlc3Ryb3koKSx0aGlzLl9wbGF5ZXI9dm9pZCAwLFF5LmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc3RvcCB2aWRlbyBwbGF5YmFja1wiKSkpfWFzeW5jIHNldEVuYWJsZWQoZSx0KXtpZighdCl7aWYoZT09PXRoaXMuX2VuYWJsZWQpcmV0dXJuO3RoaXMuc3RhdGVDaGVjayhcImVuYWJsZWRcIixlKX1pZihReS5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc3RhcnQgc2V0RW5hYmxlZFwiKSxlKSwhZSl7dGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjay5lbmFibGVkPSExO3RyeXthd2FpdCBNdih0aGlzLCRELk5FRURfRElTQUJMRV9UUkFDSyx0aGlzKX1jYXRjaChlKXt0aHJvdyBReS5lcnJvcihcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHNldEVuYWJsZWQgdG8gZmFsc2UgZXJyb3JcIiksZS50b1N0cmluZygpKSxlfXJldHVybiB0fHwodGhpcy5fZW5hYmxlZD0hMSksdm9pZCBReS5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc2V0RW5hYmxlZCB0byBmYWxzZSBzdWNjZXNzXCIpKX10aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLmVuYWJsZWQ9ITA7dHJ5e2F3YWl0IE12KHRoaXMsJEQuTkVFRF9FTkFCTEVfVFJBQ0ssdGhpcyl9Y2F0Y2goZSl7dGhyb3cgUXkuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzZXRFbmFibGVkIHRvIHRydWUgZXJyb3JcIiksZS50b1N0cmluZygpKSxlfVF5LmluZm8oXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzZXRFbmFibGVkIHRvIHRydWUgc3VjY2Vzc1wiKSksdHx8KHRoaXMuX2VuYWJsZWQ9ITApfWFzeW5jIHNldE11dGVkKGUpe2UhPT10aGlzLl9tdXRlZCYmKHRoaXMuc3RhdGVDaGVjayhcIm11dGVkXCIsZSksdGhpcy5fbXV0ZWQ9ZSx0aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLmVuYWJsZWQ9IWUsUXkuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzdGFydCBzZXQgbXV0ZWQ6IFwiKS5jb25jYXQoZSkpLGU/YXdhaXQgTXYodGhpcywkRC5ORUVEX01VVEVfVFJBQ0ssdGhpcyk6YXdhaXQgTXYodGhpcywkRC5ORUVEX1VOTVVURV9UUkFDSyx0aGlzKSl9YXN5bmMgc2V0RW5jb2RlckNvbmZpZ3VyYXRpb24oZSx0KXtpZighdGhpcy5fZW5hYmxlZCl0aHJvdyBuZXcgcnYobnYuVFJBQ0tfSVNfRElTQUJMRUQsXCJjYW4gbm90IHNldCBlbmNvZGVyIGNvbmZpZ3VyYXRpb24gd2hlbiB0cmFjayBpcyBkaXNhYmxlZFwiKTtpZihlPVlEKGUpLHRoaXMuX2ZvcmNlQml0cmF0ZUxpbWl0JiYoZS5iaXRyYXRlTWF4PXRoaXMuX2ZvcmNlQml0cmF0ZUxpbWl0Lm1heF9iaXRyYXRlP3RoaXMuX2ZvcmNlQml0cmF0ZUxpbWl0Lm1heF9iaXRyYXRlOmUuYml0cmF0ZU1heCxlLmJpdHJhdGVNaW49dGhpcy5fZm9yY2VCaXRyYXRlTGltaXQubWluX2JpdHJhdGU/dGhpcy5fZm9yY2VCaXRyYXRlTGltaXQubWluX2JpdHJhdGU6ZS5iaXRyYXRlTWluKSxlLndpZHRofHxlLmhlaWdodHx8ZS5mcmFtZVJhdGUpe2NvbnN0IHQ9ZEwoe2VuY29kZXJDb25maWc6ZX0pOyhQSSgpfHxNSSgpfHxxSSgpKSYmKHQuZGV2aWNlSWQ9dm9pZCAwKSxReS5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHNldEVuY29kZXJDb25maWd1cmF0aW9uIGFwcGx5Q29uc3RyYWludHNcIiksSlNPTi5zdHJpbmdpZnkoZSksSlNPTi5zdHJpbmdpZnkodCkpO3RyeXthd2FpdCB0aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLmFwcGx5Q29uc3RyYWludHModCksdGhpcy51cGRhdGVNZWRpYVN0cmVhbVRyYWNrUmVzb2x1dGlvbigpfWNhdGNoKGUpe2NvbnN0IHQ9bmV3IHJ2KG52LlVORVhQRUNURURfRVJST1IsZS50b1N0cmluZygpKTt0aHJvdyBReS5lcnJvcihcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIGFwcGx5Q29uc3RyYWludHMgZXJyb3JcIiksdC50b1N0cmluZygpKSx0fX10aGlzLl9lbmNvZGVyQ29uZmlnPWUsLTE9PT10aGlzLl9oaW50cy5pbmRleE9mKGVQLlNDUkVFTl9UUkFDSykmJnRoaXMudXBkYXRlQml0cmF0ZUZyb21Qcm9maWxlKCk7dHJ5e2F3YWl0IE12KHRoaXMsJEQuTkVFRF9VUERBVEVfVklERU9fRU5DT0RFUix0aGlzKX1jYXRjaChlKXtyZXR1cm4gZS50aHJvdyhReSl9fWdldFN0YXRzKCl7S3YoKCgpPT57UXkud2FybmluZyhcIltkZXByZWNhdGVkXSBMb2NhbFZpZGVvVHJhY2suZ2V0U3RhdHMgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBmdXR1cmUsIHVzZSBBZ29yYVJUQ0NsaWVudC5nZXRMb2NhbFZpZGVvU3RhdHMgaW5zdGVhZFwiKX0pLFwibG9jYWxWaWRlb1RyYWNrR2V0U3RhdHNXYXJuaW5nXCIpO3JldHVybiBVdih0aGlzLCRELkdFVF9TVEFUUyl8fHlQKHt9LGxQKX1hc3luYyBzZXRCZWF1dHlFZmZlY3QoZSl7UXkuZXJyb3IoXCJMb2NhbFZpZGVvVHJhY2suc2V0QmVhdXR5RWZmZWN0IHdhcyBkZXByZWNhdGVkLCBwbGVhc2UgbWlncmF0ZSB0byBhZ29yYS1leHRlbnNpb24tYmVhdXR5LWVmZmVjdFwiKX1nZXRDdXJyZW50RnJhbWVEYXRhKCl7cmV0dXJuIHRoaXMuX3BsYXllcj90aGlzLl9wbGF5ZXIuZ2V0Q3VycmVudEZyYW1lKCk6bmV3IEltYWdlRGF0YSgyLDIpfWFzeW5jIGdldEN1cnJlbnRGcmFtZUltYWdlKGUpe2xldCB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXToxO3JldHVybiB0aGlzLl9wbGF5ZXI/dGhpcy5fcGxheWVyLmdldEN1cnJlbnRGcmFtZVRvVWludDhBcnJheShlLHQpOmF3YWl0IHBMKGUpfWFzeW5jIHNldEJpdHJhdGVMaW1pdChlKXtpZihReS5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHNldCBiaXRyYXRlIGxpbWl0LCBcIikuY29uY2F0KEpTT04uc3RyaW5naWZ5KGUpKSksZSl7dGhpcy5fZm9yY2VCaXRyYXRlTGltaXQ9ZSx0aGlzLl9lbmNvZGVyQ29uZmlnJiYodGhpcy5fZW5jb2RlckNvbmZpZy5iaXRyYXRlTWF4P3RoaXMuX2VuY29kZXJDb25maWcuYml0cmF0ZU1heD10aGlzLl9lbmNvZGVyQ29uZmlnLmJpdHJhdGVNYXg8ZS5tYXhfYml0cmF0ZT90aGlzLl9lbmNvZGVyQ29uZmlnLmJpdHJhdGVNYXg6ZS5tYXhfYml0cmF0ZTp0aGlzLl9lbmNvZGVyQ29uZmlnLmJpdHJhdGVNYXg9ZS5tYXhfYml0cmF0ZSx0aGlzLl9lbmNvZGVyQ29uZmlnLmJpdHJhdGVNaW4sdGhpcy5fZW5jb2RlckNvbmZpZy5iaXRyYXRlTWluPWUubWluX2JpdHJhdGUpO3RyeXthd2FpdCBNdih0aGlzLCRELk5FRURfVVBEQVRFX1ZJREVPX0VOQ09ERVIsdGhpcyl9Y2F0Y2goZSl7cmV0dXJuIGUudGhyb3coUXkpfX19YXN5bmMgc2V0T3B0aW1pemF0aW9uTW9kZShlKXtpZihcIm1vdGlvblwiIT09ZSYmXCJkZXRhaWxcIiE9PWUmJlwiYmFsYW5jZWRcIiE9PWUpcmV0dXJuIHZvaWQgUXkuZXJyb3IobnYuSU5WQUxJRF9QQVJBTVMsXCJvcHRpbWl6YXRpb24gbW9kZSBtdXN0IGJlIG1vdGlvbiwgZGV0YWlsIG9yIGJhbGFuY2VkXCIpO2NvbnN0IHQ9dGhpcy5fb3B0aW1pemF0aW9uTW9kZTt0cnl7dGhpcy5fb3B0aW1pemF0aW9uTW9kZT1lLGF3YWl0IE12KHRoaXMsJEQuTkVFRF9VUERBVEVfVklERU9fU0VORF9QQVJBTUVURVJTLHRoaXMpfWNhdGNoKGUpe3Rocm93IHRoaXMuX29wdGltaXphdGlvbk1vZGU9dCxReS5lcnJvcihcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHNldCBvcHRpbWl6YXRpb24gbW9kZSBmYWlsZWRcIiksZS50b1N0cmluZygpKSxlfVF5LmluZm8oXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzZXQgb3B0aW1pemF0aW9uIG1vZGUgc3VjY2VzcyAoXCIpLmNvbmNhdChlLFwiKVwiKSl9c2V0U2NhbGFiaWx0eU1vZGUoZSl7aWYoMT09PWUubnVtU3BhdGlhbExheWVycyYmMSE9PWUubnVtVGVtcG9yYWxMYXllcnMpcmV0dXJuIFF5LmVycm9yKG52LklOVkFMSURfUEFSQU1TLFwic2NhbGFiaWxpdHkgbW9kZSBjdXJyZW50bHkgbm90IHN1cHBvcnRlZCwgbm8gU1ZDLlwiKSx2b2lkKHRoaXMuX3NjYWxhYmlsaXR5TW9kZT17bnVtU3BhdGlhbExheWVyczoxLG51bVRlbXBvcmFsTGF5ZXJzOjF9KTt0aGlzLl9zY2FsYWJpbGl0eU1vZGU9ZSxReS5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc2V0IHNjYWxhYmlsaXR5IG1vZGUgc3VjY2VzcyAoXCIpLmNvbmNhdChlLFwiKVwiKSl9dXBkYXRlTWVkaWFTdHJlYW1UcmFja1Jlc29sdXRpb24oKXtjTCh0aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrKS50aGVuKChlPT57bGV0W3QsaV09ZTt0aGlzLl92aWRlb0hlaWdodD1pLHRoaXMuX3ZpZGVvV2lkdGg9dH0pKS5jYXRjaChpeSl9X3VwZGF0ZVBsYXllclNvdXJjZSgpe3RoaXMuX3BsYXllciYmdGhpcy5fcGxheWVyLnVwZGF0ZVZpZGVvVHJhY2sodGhpcy5fbWVkaWFTdHJlYW1UcmFjayl9X2dldERlZmF1bHRQbGF5ZXJDb25maWcoKXtyZXR1cm57Zml0OlwiY29udGFpblwifX1hc3luYyBzZXRTZW5kZXJDb25maWd1cmF0aW9uKGUpe2lmKCF0aGlzLl9lbmFibGVkKXRocm93IG5ldyBydihudi5UUkFDS19JU19ESVNBQkxFRCxcImNhbiBub3Qgc2V0IGVuY29kZXIgY29uZmlndXJhdGlvbiB3aGVuIHRyYWNrIGlzIGRpc2FibGVkXCIpO1F5LmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc2V0U2VuZGVyQ29uZmlndXJhdGlvbiBhcHBseUNvbnN0cmFpbnRzXCIpLEpTT04uc3RyaW5naWZ5KGUpKSxlPVlEKGUpLHRoaXMuX2ZvcmNlQml0cmF0ZUxpbWl0JiYoZS5iaXRyYXRlTWF4PXRoaXMuX2ZvcmNlQml0cmF0ZUxpbWl0Lm1heF9iaXRyYXRlP3RoaXMuX2ZvcmNlQml0cmF0ZUxpbWl0Lm1heF9iaXRyYXRlOmUuYml0cmF0ZU1heCxlLmJpdHJhdGVNaW49dGhpcy5fZm9yY2VCaXRyYXRlTGltaXQubWluX2JpdHJhdGU/dGhpcy5fZm9yY2VCaXRyYXRlTGltaXQubWluX2JpdHJhdGU6ZS5iaXRyYXRlTWluKSx0aGlzLl9lbmNvZGVyQ29uZmlnPWUsLTE9PT10aGlzLl9oaW50cy5pbmRleE9mKGVQLlNDUkVFTl9UUkFDSykmJnRoaXMudXBkYXRlQml0cmF0ZUZyb21Qcm9maWxlKCk7dHJ5e2F3YWl0IE12KHRoaXMsJEQuTkVFRF9VUERBVEVfVklERU9fRU5DT0RFUix0aGlzKX1jYXRjaChlKXtyZXR1cm4gZS50aHJvdyhReSl9fXVwZGF0ZUJpdHJhdGVGcm9tUHJvZmlsZSgpe2lmKCF0aGlzLl9lbmNvZGVyQ29uZmlnKXJldHVybjtjb25zdHt3aWR0aDplLGhlaWdodDp0LGZyYW1lUmF0ZTppfT10aGlzLmdldE1lZGlhU3RyZWFtVHJhY2tTZXR0aW5ncygpO2lmKCFlfHwhdHx8IWkpcmV0dXJuO2NvbnN0e2JpdHJhdGVNYXg6bixiaXRyYXRlTWluOnJ9PXRoaXMuX2VuY29kZXJDb25maWc7aWYobnVsbD09cnx8bnVsbD09bil7Y29uc3R7bWF4Om8sbWluOnN9PWZ1bmN0aW9uKGUsdCxpLG4scil7Y29uc3Qgbz1EeShcIkJJVFJBVEVfQURBUFRFUl9UWVBFXCIpO2lmKFwiREVGQVVMVF9CSVRSQVRFXCI9PT1vKXJldHVybnttaW46bixtYXg6cn07aWYodm9pZCAwPT09cil7dmFyIHM7Y29uc3QgYT1NYXRoLmZsb29yKDIwMCpNYXRoLnBvdyhpLzE1LC42KSpNYXRoLnBvdyhlKnQvNjQwLzM2MCwuNzUpKTtyPVwiU1RBTkRBUkRfQklUUkFURVwiPT09bz80KmE6MiphLG49bnVsbCE9PShzPW4pJiZ2b2lkIDAhPT1zP3M6YX1lbHNle3ZhciBhO249bnVsbCE9PShhPW4pJiZ2b2lkIDAhPT1hP2E6TWF0aC5mbG9vcihyLzEwKX1yZXR1cm57bWluOm4sbWF4OnJ9fShlLHQsaSxyLG4pO3RoaXMuX2VuY29kZXJDb25maWcuYml0cmF0ZU1pbj1zLHRoaXMuX2VuY29kZXJDb25maWcuYml0cmF0ZU1heD1vLFF5LmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gdXBkYXRlIGJpdHJhdGUgZnJvbSBwcm9maWxlLCBbdzogXCIpLmNvbmNhdChlLFwiLCBoOiBcIikuY29uY2F0KHQsXCIsIGZwczogXCIpLmNvbmNhdChpLFwiXSA9PiBbYnJNYXg6IFwiKS5jb25jYXQobyxcIiwgYnJNaW46IFwiKS5jb25jYXQocyxcIl1cIikpfX1nZXRWaWRlb0VsZW1lbnRWaXNpYmxlU3RhdHVzKCl7dHJ5e3ZhciBlLHQ7Y29uc3QgaT1udWxsPT10aGlzfHxudWxsPT09KGU9dGhpcy5fcGxheWVyKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5nZXRDb250YWluZXJFbGVtZW50KCksbj17dHJhY2s6dGhpcyxlbGVtZW50Om51bGw9PXRoaXN8fG51bGw9PT0odD10aGlzLl9wbGF5ZXIpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmdldFZpZGVvRWxlbWVudCgpLHNsb3Q6bnVsbD09aT92b2lkIDA6aS5wYXJlbnRFbGVtZW50fSx7ZWxlbWVudDpyLHNsb3Q6b309bjtpZih0aGlzLmlzUGxheWluZyYmciBpbnN0YW5jZW9mIEhUTUxWaWRlb0VsZW1lbnQmJm8gaW5zdGFuY2VvZiBIVE1MRWxlbWVudCl7Y29uc3QgZT1Fdi5jaGVja09uZUVsZW1lbnRWaXNpYmxlKHIpLHQ9T2JqZWN0LmFzc2lnbih7fSxlKTtpZih0LnZpc2libGUhPT10aGlzLl9wcmV2aW91c1ZpZGVvVmlzaWJsZVN0YXR1cyl7dGhpcy5fcHJldmlvdXNWaWRlb1Zpc2libGVTdGF0dXM9dC52aXNpYmxlO2NvbnN0IGU9c0EucmVwb3J0QXBpSW52b2tlKG51bGwse3RhZzpJdi5UUkFDRVIsbmFtZTpDdi5MT0NBTF9WSURFT19UUkFDS19HRVRfVklERU9fVklTSUJMRSxvcHRpb25zOlt0aGlzLmdldFRyYWNrSWQoKV19KTt0LnZpc2libGU/ZS5vblN1Y2Nlc3MoXCJWaWRlbyBpcyB2aXNpYmxlXCIpOmUub25TdWNjZXNzKFwiSW52aXNpYmxlIGJlY2F1c2Ugb2YgXCIuY29uY2F0KHQucmVhc29uKSl9cmV0dXJuIHR9cmV0dXJufWNhdGNoKGUpe3Rocm93IG5ldyBydihudi5HRVRfVklERU9fRUxFTUVOVF9WSVNJQkxFX0VSUk9SLGUubWVzc2FnZSl9fWFzeW5jIHJlbmV3TWVkaWFTdHJlYW1UcmFjayhlKXt9cGlwZShlKXtpZih0aGlzLnByb2Nlc3Nvcj09PWUpcmV0dXJuIGU7aWYoZS5fc291cmNlKXRocm93IG5ldyBydihudi5JTlZBTElEX09QRVJBVElPTixcIlByb2Nlc3NvciBcIi5jb25jYXQoZS5uYW1lLFwiIGFscmVhZHkgcGlwZWQsIHBsZWFzZSBjYWxsIHVucGlwZSBiZWZvcmVoYW5kLlwiKSk7cmV0dXJuIHRoaXMudW5waXBlKCksdGhpcy5wcm9jZXNzb3I9ZSx0aGlzLnByb2Nlc3Nvci5fc291cmNlPXRoaXMsZS51cGRhdGVJbnB1dCh7dHJhY2s6dGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjayxjb250ZXh0OnRoaXMucHJvY2Vzc29yQ29udGV4dH0pLGV9dW5waXBlKCl7aWYoIXRoaXMucHJvY2Vzc29yKXJldHVybjtjb25zdCBlPXRoaXMucHJvY2Vzc29yO3RoaXMucHJvY2Vzc29yLl9zb3VyY2U9dm9pZCAwLHRoaXMucHJvY2Vzc29yPXZvaWQgMCxlLnJlc2V0KCl9Y2xvc2UoKXtzdXBlci5jbG9zZSgpLHRoaXMudW5iaW5kUHJvY2Vzc29yRGVzdGluYXRpb25FdmVudHMoKSx0aGlzLnVuYmluZFByb2Nlc3NvckNvbnRleHRFdmVudHMoKSx0aGlzLnVucGlwZSgpLHRoaXMucHJvY2Vzc29yRGVzdGluYXRpb24uX3NvdXJjZSYmdGhpcy5wcm9jZXNzb3JEZXN0aW5hdGlvbi5fc291cmNlLnVucGlwZSgpfWNsb25lKHQpe2xldCBpPSEoYXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0pfHxhcmd1bWVudHNbMV0sbj10aGlzLl9lbmNvZGVyQ29uZmlnO3QmJihuPXlQKHlQKHt9LG4pLFlEKHQpKSksbj1XdihuKTtjb25zdCByPWV5KDgsXCJ0cmFjay12aWRlby1jbG9uZWQtXCIpLG89bmV3IGUoaT90aGlzLl9tZWRpYVN0cmVhbVRyYWNrLmNsb25lKCk6dGhpcy5fbWVkaWFTdHJlYW1UcmFjayxuLFd2KHRoaXMuX3NjYWxhYmlsaXR5TW9kZSksdGhpcy5fb3B0aW1pemF0aW9uTW9kZSxyLFd2KHRoaXMuX2hpbnRzKSk7cmV0dXJuIHQmJm4mJm8uc2V0RW5jb2RlckNvbmZpZ3VyYXRpb24obiksUXkuZGVidWcoXCJjbG9uZSB2aWRlbyB0cmFjayBmcm9tIFwiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIiB0byBcIikuY29uY2F0KHIsXCIsIGNsb25lIFwiKS5jb25jYXQoaSkpLG99YXN5bmMgcmVwbGFjZVRyYWNrKGUsdCl7aWYoIShlIGluc3RhbmNlb2YgTWVkaWFTdHJlYW1UcmFjaykpdGhyb3cgbmV3IHJ2KG52LklOVkFMSURfUEFSQU1TLFwidHJhY2sgc2hvdWxkIGJlIGFuIGluc3RhbmNlIG9mIE1lZGlhU3RyZWFtVHJhY2tcIik7aWYoXCJ2aWRlb1wiIT09ZS5raW5kKXRocm93IG5ldyBydihudi5JTlZBTElEX1BBUkFNUyxcInRyYWNrIHNob3VsZCBiZSBhIHZpZGVvIE1lZGlhU3RyZWFtVHJhY2tcIik7YXdhaXQgdGhpcy5fdXBkYXRlT3JpZ2luTWVkaWFTdHJlYW1UcmFjayhlLHQsITApLHRoaXMudXBkYXRlTWVkaWFTdHJlYW1UcmFja1Jlc29sdXRpb24oKX1zZW5kU2VpRGF0YShlKXtpZihLdigoKCk9PntzQS5yZXBvcnRBcGlJbnZva2UobnVsbCx7bmFtZTpDdi5MT0NBTF9WSURFT19TRU5EX1NFSV9EQVRBLG9wdGlvbnM6W10sdGFnOkl2LlRSQUNFUn0pLm9uU3VjY2VzcyhcIlwiKX0pLHRoaXMuX21lZGlhU3RyZWFtVHJhY2suaWR8fHRoaXMuZ2V0VHJhY2tJZCgpKSwhRHkoXCJFTkFCTEVfVklERU9fU0VJXCIpfHwhRHkoXCJFTkFCTEVfRU5DT0RFRF9UUkFOU0ZPUk1cIikpcmV0dXJuIHZvaWQgUXkud2FybmluZygnVG8gc2VuZC9yZWNlaXZlIFNFSSwgcGxlYXNlIGNhbGwgQWdvcmFSVEMuc2V0UGFyYW1ldGVyKFwiRU5BQkxFX1ZJREVPX1NFSVwiLCB0cnVlKSBiZWZvcmUgaW5zdGFudGlhdGUgSUFnb3JhUnRjQ2xpZW50Jyk7aWYoZSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXk9PTApcmV0dXJuIG5ldyBydihudi5JTlZBTElEX1BBUkFNUyxcIkludmFsaWQgYXJndW1lbnQgdHlwZSwgSUxvY2FsVmlkZW9UcmFjay5zZW5kU2VpRGF0YSgpIG9ubHkgYWNjZXB0IFVpbnQ4QXJyYXkgYXJndW1lbnQuXCIpLnRocm93KCk7Y29uc3QgdD10aGlzLmdldFJUQ1J0cFRyYW5zY2VpdmVyKCk7aWYoIXQpcmV0dXJuIHZvaWQgUXkud2FybmluZyhcIlZpZGVvIHRyYWNrIGlzIG5vdCBwdWJsaXNoZWQsIFNFSSBjYW4gbm90IGJlIHNlbmRcIik7Y29uc3QgaT10LnNlbmRlci5nZXRQYXJhbWV0ZXJzKCk7aWYoMD09PWkuY29kZWNzLmxlbmd0aClyZXR1cm47Y29uc3Qgbj1pLmNvZGVjc1swXS5taW1lVHlwZS50b0xvY2FsZUxvd2VyQ2FzZSgpO1widmlkZW8vaDI2NFwiPT09bj90aGlzLnNhZmVFbWl0KFwic2VpLXRvLXNlbmRcIixlKTpReS53YXJuaW5nKFwiU0VJIGlzIG5vdCBzdXBwb3J0ZWQgYnkgXCIuY29uY2F0KG4pKX1iaW5kUHJvY2Vzc29yRGVzdGluYXRpb25FdmVudHMoKXt0aGlzLnByb2Nlc3NvckRlc3RpbmF0aW9uLm9uKF9QLk9OX1RSQUNLLChhc3luYyBlPT57ZT9lIT09dGhpcy5fbWVkaWFTdHJlYW1UcmFjayYmKHRoaXMuX21lZGlhU3RyZWFtVHJhY2s9ZSx0aGlzLl91cGRhdGVQbGF5ZXJTb3VyY2UoKSxhd2FpdCBNdih0aGlzLCRELk5FRURfUkVQTEFDRV9UUkFDSyx0aGlzKSk6dGhpcy5fbWVkaWFTdHJlYW1UcmFjayE9PXRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2smJih0aGlzLl9tZWRpYVN0cmVhbVRyYWNrPXRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2ssdGhpcy5fdXBkYXRlUGxheWVyU291cmNlKCksYXdhaXQgTXYodGhpcywkRC5ORUVEX1JFUExBQ0VfVFJBQ0ssdGhpcykpfSkpfXVuYmluZFByb2Nlc3NvckRlc3RpbmF0aW9uRXZlbnRzKCl7dGhpcy5wcm9jZXNzb3JEZXN0aW5hdGlvbi5yZW1vdmVBbGxMaXN0ZW5lcnMoX1AuT05fVFJBQ0spfXVuYmluZFByb2Nlc3NvckNvbnRleHRFdmVudHMoKXt0aGlzLnByb2Nlc3NvckNvbnRleHQucmVtb3ZlQWxsTGlzdGVuZXJzKEVQLlJFUVVFU1RfVVBEQVRFX0NPTlNUUkFJTlRTKSx0aGlzLnByb2Nlc3NvckNvbnRleHQucmVtb3ZlQWxsTGlzdGVuZXJzKEVQLlJFUVVFU1RfQ09OU1RSQUlOVFMpfX0sQ1Aoa2sucHJvdG90eXBlLFwicGxheVwiLFtsayx1a10sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihray5wcm90b3R5cGUsXCJwbGF5XCIpLGtrLnByb3RvdHlwZSksQ1Aoa2sucHJvdG90eXBlLFwic3RvcFwiLFtoa10sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihray5wcm90b3R5cGUsXCJzdG9wXCIpLGtrLnByb3RvdHlwZSksQ1Aoa2sucHJvdG90eXBlLFwic2V0RW5hYmxlZFwiLFtwayxfayxFa10sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihray5wcm90b3R5cGUsXCJzZXRFbmFibGVkXCIpLGtrLnByb3RvdHlwZSksQ1Aoa2sucHJvdG90eXBlLFwic2V0TXV0ZWRcIixbbWssZmssVGtdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioa2sucHJvdG90eXBlLFwic2V0TXV0ZWRcIiksa2sucHJvdG90eXBlKSxDUChray5wcm90b3R5cGUsXCJzZXRFbmNvZGVyQ29uZmlndXJhdGlvblwiLFtTayxna10sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihray5wcm90b3R5cGUsXCJzZXRFbmNvZGVyQ29uZmlndXJhdGlvblwiKSxray5wcm90b3R5cGUpLENQKGtrLnByb3RvdHlwZSxcImdldFN0YXRzXCIsW1JrXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGtrLnByb3RvdHlwZSxcImdldFN0YXRzXCIpLGtrLnByb3RvdHlwZSksQ1Aoa2sucHJvdG90eXBlLFwic2V0QmVhdXR5RWZmZWN0XCIsW0NrLElrXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGtrLnByb3RvdHlwZSxcInNldEJlYXV0eUVmZmVjdFwiKSxray5wcm90b3R5cGUpLENQKGtrLnByb3RvdHlwZSxcImdldEN1cnJlbnRGcmFtZURhdGFcIixbdmtdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioa2sucHJvdG90eXBlLFwiZ2V0Q3VycmVudEZyYW1lRGF0YVwiKSxray5wcm90b3R5cGUpLENQKGtrLnByb3RvdHlwZSxcImdldEN1cnJlbnRGcmFtZUltYWdlXCIsW3lrXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGtrLnByb3RvdHlwZSxcImdldEN1cnJlbnRGcmFtZUltYWdlXCIpLGtrLnByb3RvdHlwZSksQ1Aoa2sucHJvdG90eXBlLFwic2V0Qml0cmF0ZUxpbWl0XCIsW0FrXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGtrLnByb3RvdHlwZSxcInNldEJpdHJhdGVMaW1pdFwiKSxray5wcm90b3R5cGUpLENQKGtrLnByb3RvdHlwZSxcInNldE9wdGltaXphdGlvbk1vZGVcIixbYmtdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioa2sucHJvdG90eXBlLFwic2V0T3B0aW1pemF0aW9uTW9kZVwiKSxray5wcm90b3R5cGUpLENQKGtrLnByb3RvdHlwZSxcInNldFNjYWxhYmlsdHlNb2RlXCIsW3drXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGtrLnByb3RvdHlwZSxcInNldFNjYWxhYmlsdHlNb2RlXCIpLGtrLnByb3RvdHlwZSksQ1Aoa2sucHJvdG90eXBlLFwidXBkYXRlTWVkaWFTdHJlYW1UcmFja1Jlc29sdXRpb25cIixbT2tdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioa2sucHJvdG90eXBlLFwidXBkYXRlTWVkaWFTdHJlYW1UcmFja1Jlc29sdXRpb25cIiksa2sucHJvdG90eXBlKSxDUChray5wcm90b3R5cGUsXCJwaXBlXCIsW05rXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGtrLnByb3RvdHlwZSxcInBpcGVcIiksa2sucHJvdG90eXBlKSxDUChray5wcm90b3R5cGUsXCJ1bnBpcGVcIixbRGtdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioa2sucHJvdG90eXBlLFwidW5waXBlXCIpLGtrLnByb3RvdHlwZSksQ1Aoa2sucHJvdG90eXBlLFwiY2xvc2VcIixbUGtdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioa2sucHJvdG90eXBlLFwiY2xvc2VcIiksa2sucHJvdG90eXBlKSxDUChray5wcm90b3R5cGUsXCJyZXBsYWNlVHJhY2tcIixbTGtdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioa2sucHJvdG90eXBlLFwicmVwbGFjZVRyYWNrXCIpLGtrLnByb3RvdHlwZSksa2spLEtrPShNaz1vQSh7YXJnc01hcDooZSx0KT0+W2UuZ2V0VHJhY2tJZCgpLHRdfSksVWs9dEwoKSx4az1weShcIkNhbWVyYVZpZGVvVHJhY2tcIixcIl9lbmFibGVkTXV0ZXhcIiksVms9b0Eoe2FyZ3NNYXA6KGUsdCk9PltlLmdldFRyYWNrSWQoKSx0XX0pLEZrPXRMKCksQms9b0Eoe2FyZ3NNYXA6KGUsdCk9PltlLmdldFRyYWNrSWQoKSx0XX0pLGprPXRMKCksR2s9b0Eoe2FyZ3NNYXA6ZT0+W2UuZ2V0VHJhY2tJZCgpXX0pLFdrPWNsYXNzIGUgZXh0ZW5kcyBIa3tnZXQgX19jbGFzc05hbWVfXygpe3JldHVyblwiQ2FtZXJhVmlkZW9UcmFja1wifWNvbnN0cnVjdG9yKGUsdCxpLG4scixvKXtzdXBlcihlLFlEKHQuZW5jb2RlckNvbmZpZyksbixyLG8pLElQKHRoaXMsXCJfY29uZmlnXCIsdm9pZCAwKSxJUCh0aGlzLFwiX29yaWdpbmFsQ29uc3RyYWludHNcIix2b2lkIDApLElQKHRoaXMsXCJfY29uc3RyYWludHNcIix2b2lkIDApLElQKHRoaXMsXCJfZW5hYmxlZFwiLCEwKSxJUCh0aGlzLFwiX2RldmljZU5hbWVcIixcImRlZmF1bHRcIiksSVAodGhpcyxcInRyeVJlc3VtZVZpZGVvRm9ySU9TMTVfMTZXZUNoYXRcIiwoYXN5bmMoKT0+eyhISSgpfHxLSSgpKSYmIWZ1bmN0aW9uKCl7Y29uc3QgZT1BSSgpO2lmKGUub3MhPT1SSS5JT1N8fCFlLm9zVmVyc2lvbilyZXR1cm4hMTtjb25zdCB0PWUub3NWZXJzaW9uLnNwbGl0KFwiLlwiKTtyZXR1cm4gMTU9PT1OdW1iZXIodFswXSkmJk51bWJlcih0WzFdKT49Mn0oKSYmekkoKSYmdGhpcy5fZW5hYmxlZCYmIXRoaXMuX2lzQ2xvc2VkJiYoUXkuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSB0cnkgY2FwdHVyZSBjYW1lcmEgbWVkaWEgZGV2aWNlIGZvciBpbnRlcnJ1cHRlZCBpT1MgMTUgZGV2aWNlIG9uIFdlQ2hhdC5cIikpLGF3YWl0IHRoaXMucmVuZXdNZWRpYVN0cmVhbVRyYWNrKCkpfSkpLHRoaXMuX2NvbmZpZz10LHRoaXMuX29yaWdpbmFsQ29uc3RyYWludHM9aSx0aGlzLl9jb25zdHJhaW50cz1pLHRoaXMuX2RldmljZU5hbWU9ZS5sYWJlbCx0aGlzLl9lbmNvZGVyQ29uZmlnPVlEKHRoaXMuX2NvbmZpZy5lbmNvZGVyQ29uZmlnKSxOUC5vbihWRC5JT1NfMTVfMTZfSU5URVJSVVBUSU9OX0VORCx0aGlzLnRyeVJlc3VtZVZpZGVvRm9ySU9TMTVfMTZXZUNoYXQpLE5QLm9uKFZELklPU19JTlRFUlJVUFRJT05fRU5ELHRoaXMudHJ5UmVzdW1lVmlkZW9Gb3JJT1MxNV8xNldlQ2hhdCksdGhpcy5iaW5kUHJvY2Vzc29yQ29udGV4dEV2ZW50cygpfWFzeW5jIHNldERldmljZShlKXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZT90aGlzLl9zZXREZXZpY2VCeUlkKGUpOmUuZGV2aWNlSWQ/dGhpcy5fc2V0RGV2aWNlQnlJZChlLmRldmljZUlkKTplLmZhY2luZ01vZGU/dGhpcy5fc2V0RGV2aWNlQnlGYWNpbmdNb2RlbChlLmZhY2luZ01vZGUpOnZvaWQgMH1hc3luYyBfc2V0RGV2aWNlQnlJZChlKXtpZihReS5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc2V0IGRldmljZSB0byBcIikuY29uY2F0KGUpKSx0aGlzLl9lbmFibGVkKXRyeXtjb25zdCB0PWF3YWl0IHpQLmdldERldmljZUJ5SWQoZSksaT17fTtpLnZpZGVvPXlQKHt9LHRoaXMuX2NvbnN0cmFpbnRzKSxpLnZpZGVvLmRldmljZUlkPXtleGFjdDplfSxpLnZpZGVvLmZhY2luZ01vZGU9dm9pZCAwLHRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2suc3RvcCgpO2xldCBuPW51bGw7dHJ5e249YXdhaXQgSFAoaSx0aGlzLmdldFRyYWNrSWQoKSl9Y2F0Y2goZSl7dGhyb3cgUXkuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzZXREZXZpY2UgZmFpbGVkXCIpLGUudG9TdHJpbmcoKSksbj1hd2FpdCBIUCh7dmlkZW86dGhpcy5fY29uc3RyYWludHN9LHRoaXMuZ2V0VHJhY2tJZCgpKSxhd2FpdCB0aGlzLl91cGRhdGVPcmlnaW5NZWRpYVN0cmVhbVRyYWNrKG4uZ2V0VmlkZW9UcmFja3MoKVswXSwhMSksZX1hd2FpdCB0aGlzLl91cGRhdGVPcmlnaW5NZWRpYVN0cmVhbVRyYWNrKG4uZ2V0VmlkZW9UcmFja3MoKVswXSwhMSksdGhpcy51cGRhdGVNZWRpYVN0cmVhbVRyYWNrUmVzb2x1dGlvbigpLHRoaXMuX2RldmljZU5hbWU9dC5sYWJlbCx0aGlzLl9jb25maWcuY2FtZXJhSWQ9ZSx0aGlzLl9jb25zdHJhaW50cy5kZXZpY2VJZD17ZXhhY3Q6ZX19Y2F0Y2goZSl7dGhyb3cgUXkuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzZXREZXZpY2UgZXJyb3JcIiksZS50b1N0cmluZygpKSxlfWVsc2UgdHJ5e2NvbnN0IHQ9YXdhaXQgelAuZ2V0RGV2aWNlQnlJZChlKTt0aGlzLl9kZXZpY2VOYW1lPXQubGFiZWwsdGhpcy5fY29uZmlnLmNhbWVyYUlkPWUsdGhpcy5fY29uc3RyYWludHMuZGV2aWNlSWQ9e2V4YWN0OmV9fWNhdGNoKGUpe3Rocm93IFF5LmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc2V0RGV2aWNlIGVycm9yXCIpLGUudG9TdHJpbmcoKSksZX1ReS5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc2V0RGV2aWNlIHN1Y2Nlc3NcIikpfWFzeW5jIF9zZXREZXZpY2VCeUZhY2luZ01vZGVsKGUpe1F5LmluZm8oXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzZXQgZmFjaW5nTW9kZSBcIikuY29uY2F0KGUpKTtjb25zdCB0PXt2aWRlbzp5UCh5UCh7fSx0aGlzLl9jb25zdHJhaW50cykse30se2RldmljZUlkOnZvaWQgMCxmYWNpbmdNb2RlOntleGFjdDplfX0pfTtpZih0aGlzLl9lbmFibGVkKXt0aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLnN0b3AoKTtsZXQgZT1udWxsO3RyeXtlPWF3YWl0IEhQKHQsdGhpcy5nZXRUcmFja0lkKCkpfWNhdGNoKHQpe3Rocm93IFF5LmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc2V0RGV2aWNlQnlGYWNpbmdNb2RlbCBmYWlsZWRcIiksdC50b1N0cmluZygpKSxlPWF3YWl0IEhQKHt2aWRlbzp0aGlzLl9jb25zdHJhaW50c30sdGhpcy5nZXRUcmFja0lkKCkpLGF3YWl0IHRoaXMuX3VwZGF0ZU9yaWdpbk1lZGlhU3RyZWFtVHJhY2soZS5nZXRWaWRlb1RyYWNrcygpWzBdLCExKSx0fWF3YWl0IHRoaXMuX3VwZGF0ZU9yaWdpbk1lZGlhU3RyZWFtVHJhY2soZS5nZXRWaWRlb1RyYWNrcygpWzBdLCExKSx0aGlzLnVwZGF0ZU1lZGlhU3RyZWFtVHJhY2tSZXNvbHV0aW9uKCl9dGhpcy5fZGV2aWNlTmFtZT1cIlwiLHRoaXMuX2NvbmZpZy5mYWNpbmdNb2RlPWUsdGhpcy5fY29uZmlnLmNhbWVyYUlkPXZvaWQgMCx0aGlzLl9jb25zdHJhaW50cz15UCh7fSx0LnZpZGVvKSxReS5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc2V0RGV2aWNlQnlGYWNpbmdNb2RlbCBzdWNjZXNzXCIpKX1hc3luYyBzZXRFbmFibGVkKGUsdCl7aWYoIXQpe2lmKGU9PT10aGlzLl9lbmFibGVkKXJldHVybjt0aGlzLnN0YXRlQ2hlY2soXCJlbmFibGVkXCIsZSl9aWYoUXkuaW5mbyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHN0YXJ0IHNldEVuYWJsZWRcIiksZSksZSl7dHJ5e2lmKHRoaXMuaXNFeHRlcm5hbFRyYWNrKXRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2suZW5hYmxlZD0hMDtlbHNle2NvbnN0IGU9YXdhaXQgSFAoe3ZpZGVvOnRoaXMuX2NvbnN0cmFpbnRzfSx0aGlzLmdldFRyYWNrSWQoKSk7YXdhaXQgdGhpcy5fdXBkYXRlT3JpZ2luTWVkaWFTdHJlYW1UcmFjayhlLmdldFZpZGVvVHJhY2tzKClbMF0sITEpfWF3YWl0IE12KHRoaXMsJEQuTkVFRF9FTkFCTEVfVFJBQ0ssdGhpcyl9Y2F0Y2goZSl7dGhyb3cgUXkuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzZXRFbmFibGVkIHRydWUgZXJyb3JcIiksZS50b1N0cmluZygpKSxlfXRoaXMudXBkYXRlTWVkaWFTdHJlYW1UcmFja1Jlc29sdXRpb24oKSxReS5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc2V0RW5hYmxlZCB0byB0cnVlIHN1Y2Nlc3NcIikpLHR8fCh0aGlzLl9lbmFibGVkPSEwKX1lbHNle3RoaXMuaXNFeHRlcm5hbFRyYWNrP3RoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2suZW5hYmxlZD0hMToodGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjay5vbmVuZGVkPW51bGwsdGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjay5zdG9wKCkpLHR8fCh0aGlzLl9lbmFibGVkPSExKTt0cnl7YXdhaXQgTXYodGhpcywkRC5ORUVEX0RJU0FCTEVfVFJBQ0ssdGhpcyl9Y2F0Y2goZSl7dGhyb3cgUXkuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzZXRFbmFibGVkIHRvIGZhbHNlIGVycm9yXCIpLGUudG9TdHJpbmcoKSksZX1ReS5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gc2V0RW5hYmxlZCB0byBmYWxzZSBzdWNjZXNzXCIpKX19YXN5bmMgc2V0RW5jb2RlckNvbmZpZ3VyYXRpb24oZSx0KXtpZighdGhpcy5fZW5hYmxlZCl0aHJvdyBuZXcgcnYobnYuVFJBQ0tfSVNfRElTQUJMRUQsXCJjYW4gbm90IHNldCBlbmNvZGVyIGNvbmZpZ3VyYXRpb24gd2hlbiB0cmFjayBpcyBkaXNhYmxlZFwiKTtlPVlEKGUpLHRoaXMuX2ZvcmNlQml0cmF0ZUxpbWl0JiYoZS5iaXRyYXRlTWF4PXRoaXMuX2ZvcmNlQml0cmF0ZUxpbWl0Lm1heF9iaXRyYXRlfHxlLmJpdHJhdGVNYXgsZS5iaXRyYXRlTWluPXRoaXMuX2ZvcmNlQml0cmF0ZUxpbWl0Lm1pbl9iaXRyYXRlfHxlLmJpdHJhdGVNaW4pO2NvbnN0IGk9R3YodGhpcy5fY29uZmlnKTtpLmVuY29kZXJDb25maWc9ZTtjb25zdCBuPWRMKGkpOyhQSSgpfHxNSSgpfHxxSSgpKSYmKG4uZGV2aWNlSWQ9dm9pZCAwKSxReS5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHNldEVuY29kZXJDb25maWd1cmF0aW9uIGFwcGx5Q29uc3RyYWludHNcIiksSlNPTi5zdHJpbmdpZnkoZSksSlNPTi5zdHJpbmdpZnkobikpO3RyeXthd2FpdCB0aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLmFwcGx5Q29uc3RyYWludHMobiksdGhpcy51cGRhdGVNZWRpYVN0cmVhbVRyYWNrUmVzb2x1dGlvbigpfWNhdGNoKGUpe2NvbnN0IHQ9bmV3IHJ2KG52LlVORVhQRUNURURfRVJST1IsZS50b1N0cmluZygpKTt0aHJvdyBReS5lcnJvcihcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIGFwcGx5Q29uc3RyYWludHMgZXJyb3JcIiksdC50b1N0cmluZygpKSx0fXRoaXMuX2NvbmZpZz1pLHRoaXMuX2NvbnN0cmFpbnRzPW4sdGhpcy5fb3JpZ2luYWxDb25zdHJhaW50cz1uLHRoaXMuX2VuY29kZXJDb25maWc9ZSwtMT09PXRoaXMuX2hpbnRzLmluZGV4T2YoZVAuU0NSRUVOX1RSQUNLKSYmdGhpcy51cGRhdGVCaXRyYXRlRnJvbVByb2ZpbGUoKTt0cnl7YXdhaXQgTXYodGhpcywkRC5ORUVEX1VQREFURV9WSURFT19FTkNPREVSLHRoaXMpfWNhdGNoKGUpe3JldHVybiBlLnRocm93KFF5KX19X2dldERlZmF1bHRQbGF5ZXJDb25maWcoKXtyZXR1cm57bWlycm9yOiEwLGZpdDpcImNvdmVyXCJ9fW9uVHJhY2tFbmRlZCgpe2lmKChNSSgpfHxxSSgpKSYmdGhpcy5fZW5hYmxlZCYmIXRoaXMuX2lzQ2xvc2VkJiZOUC5kdXJpbmdJbnRlcnJ1cHRpb24pe2NvbnN0IGU9YXN5bmMoKT0+e05QLm9mZihWRC5JT1NfSU5URVJSVVBUSU9OX0VORCxlKSx0aGlzLl9lbmFibGVkJiYhdGhpcy5faXNDbG9zZWQmJihReS5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHRyeSBjYXB0dXJlIGNhbWVyYSBtZWRpYSBkZXZpY2UgZm9yIGludGVycnVwdGVkIGlPUyBkZXZpY2UuXCIpKSxhd2FpdCB0aGlzLnNldEVuYWJsZWQoITEpLGF3YWl0IHRoaXMuc2V0RW5hYmxlZCghMCkpfTtOUC5vbihWRC5JT1NfSU5URVJSVVBUSU9OX0VORCxlKX1lbHNlIFF5LmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIl0gdHJhY2sgZW5kZWRcIikpLHRoaXMuc2FmZUVtaXQob1AuVFJBQ0tfRU5ERUQpfWFzeW5jIHJlbmV3TWVkaWFTdHJlYW1UcmFjayhlKXtjb25zdCB0PWV8fHRoaXMuX2NvbnN0cmFpbnRzLGk9elAuc2VhcmNoRGV2aWNlSWRCeU5hbWUodGhpcy5fZGV2aWNlTmFtZSk7aWYoaSYmIXQuZGV2aWNlSWQmJih0LmRldmljZUlkPXtleGFjdDppfSksdGhpcy5fZW5hYmxlZCl7Y29uc3QgZT1hd2FpdCBIUCh7dmlkZW86dH0sdGhpcy5nZXRUcmFja0lkKCkpO3RoaXMuX2NvbnN0cmFpbnRzPXQsYXdhaXQgdGhpcy5fdXBkYXRlT3JpZ2luTWVkaWFTdHJlYW1UcmFjayhlLmdldFZpZGVvVHJhY2tzKClbMF0sITApLHRoaXMudXBkYXRlTWVkaWFTdHJlYW1UcmFja1Jlc29sdXRpb24oKX19Y2xvc2UoKXtzdXBlci5jbG9zZSgpLE5QLm9mZihWRC5JT1NfMTVfMTZfSU5URVJSVVBUSU9OX0VORCx0aGlzLnRyeVJlc3VtZVZpZGVvRm9ySU9TMTVfMTZXZUNoYXQpLE5QLm9mZihWRC5JT1NfSU5URVJSVVBUSU9OX0VORCx0aGlzLnRyeVJlc3VtZVZpZGVvRm9ySU9TMTVfMTZXZUNoYXQpfWNsb25lKHQpe2xldCBpPSEoYXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0pfHxhcmd1bWVudHNbMV0sbj10aGlzLl9lbmNvZGVyQ29uZmlnO3QmJihuPXlQKHlQKHt9LG4pLFlEKHQpKSksbj1XdihuKTtjb25zdCByPWV5KDgsXCJ0cmFjay1jYW0tY2xvbmVkLVwiKSxvPW5ldyBlKGk/dGhpcy5fbWVkaWFTdHJlYW1UcmFjay5jbG9uZSgpOnRoaXMuX21lZGlhU3RyZWFtVHJhY2ssV3YoeVAoeVAoe30sdGhpcy5fY29uZmlnKSx7fSx7ZW5jb2RlckNvbmZpZzpufSkpLFd2KHRoaXMuX2NvbnN0cmFpbnRzKSxXdih0aGlzLl9zY2FsYWJpbGl0eU1vZGUpLHRoaXMuX29wdGltaXphdGlvbk1vZGUscik7cmV0dXJuIHQmJm4mJm8uc2V0RW5jb2RlckNvbmZpZ3VyYXRpb24obiksUXkuZGVidWcoXCJjbG9uZSB0cmFjayBmcm9tIFwiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSxcIiB0byBcIikuY29uY2F0KHIsXCIsIGNsb25lIFwiKS5jb25jYXQoaSkpLG99YmluZFByb2Nlc3NvckNvbnRleHRFdmVudHMoKXt0aGlzLnByb2Nlc3NvckNvbnRleHQub24oRVAuUkVRVUVTVF9VUERBVEVfQ09OU1RSQUlOVFMsKGFzeW5jKGUsdCxpKT0+e3RyeXtjb25zdCBpPU9iamVjdC5hc3NpZ24oe30sdGhpcy5fb3JpZ2luYWxDb25zdHJhaW50cywuLi5lKTthd2FpdCB0aGlzLnJlbmV3TWVkaWFTdHJlYW1UcmFjayhpKSx0KCl9Y2F0Y2goZSl7aShlKX19KSksdGhpcy5wcm9jZXNzb3JDb250ZXh0Lm9uKEVQLlJFUVVFU1RfQ09OU1RSQUlOVFMsKGFzeW5jIGU9PntlKHRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2suZ2V0U2V0dGluZ3MoKSl9KSl9fSxDUChXay5wcm90b3R5cGUsXCJzZXREZXZpY2VcIixbTWssVWtdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoV2sucHJvdG90eXBlLFwic2V0RGV2aWNlXCIpLFdrLnByb3RvdHlwZSksQ1AoV2sucHJvdG90eXBlLFwic2V0RW5hYmxlZFwiLFt4ayxWayxGa10sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihXay5wcm90b3R5cGUsXCJzZXRFbmFibGVkXCIpLFdrLnByb3RvdHlwZSksQ1AoV2sucHJvdG90eXBlLFwic2V0RW5jb2RlckNvbmZpZ3VyYXRpb25cIixbQmssamtdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoV2sucHJvdG90eXBlLFwic2V0RW5jb2RlckNvbmZpZ3VyYXRpb25cIiksV2sucHJvdG90eXBlKSxDUChXay5wcm90b3R5cGUsXCJjbG9zZVwiLFtHa10sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihXay5wcm90b3R5cGUsXCJjbG9zZVwiKSxXay5wcm90b3R5cGUpLFdrKTtmdW5jdGlvbiBZayhlLHQsaSxuKXtpLm9wdGltaXphdGlvbk1vZGUmJihuJiZuLndpZHRoJiZuLmhlaWdodD8oaS5lbmNvZGVyQ29uZmlnPXlQKHlQKHt9LG4pLHt9LHtiaXRyYXRlTWluOm4uYml0cmF0ZU1pbixiaXRyYXRlTWF4Om4uYml0cmF0ZU1heH0pLFwibW90aW9uXCIhPT1pLm9wdGltaXphdGlvbk1vZGUmJlwiZGV0YWlsXCIhPT1pLm9wdGltaXphdGlvbk1vZGV8fCh0LmNvbnRlbnRIaW50PWkub3B0aW1pemF0aW9uTW9kZSx0LmNvbnRlbnRIaW50PT09aS5vcHRpbWl6YXRpb25Nb2RlP1F5LmRlYnVnKFwiW1wiLmNvbmNhdChlLFwiXSBzZXQgY29udGVudCBoaW50IHRvXCIpLGkub3B0aW1pemF0aW9uTW9kZSk6UXkuZGVidWcoXCJbXCIuY29uY2F0KGUsXCJdIHNldCBjb250ZW50IGhpbnQgZmFpbGVkXCIpKSkpOlF5Lndhcm5pbmcoXCJbXCIuY29uY2F0KGUsXCJdIGNhbiBub3QgYXBwbHkgb3B0aW1pemF0aW9uIG1vZGUgYml0cmF0ZSBjb25maWcsIG5vIGVuY29kZXJDb25maWdcIikpKX12YXIgcWssemssSmssWGssUWssWmssJGssZU0sdE0saU0sbk0sck07Y2xhc3Mgb00gZXh0ZW5kcyBBUHtnZXRVc2VySWQoKXtyZXR1cm4gdGhpcy5fdXNlcklkfWNvbnN0cnVjdG9yKGUsdCxpLG4pe3N1cGVyKGUsXCJ0cmFjay1cIi5jb25jYXQoZS5raW5kLFwiLVwiKS5jb25jYXQodCxcIi1cIikuY29uY2F0KG4uY2xpZW50SWQsXCJfXCIpLmNvbmNhdChleSg1LFwiXCIpKSksSVAodGhpcyxcIl91c2VySWRcIix2b2lkIDApLElQKHRoaXMsXCJfdWludElkXCIsdm9pZCAwKSxJUCh0aGlzLFwiX2lzRGVzdHJveWVkXCIsITEpLElQKHRoaXMsXCJzdG9yZVwiLHZvaWQgMCksSVAodGhpcyxcInByb2Nlc3NvclwiLHZvaWQgMCksSVAodGhpcyxcInByb2Nlc3NvckNvbnRleHRcIix2b2lkIDApLHRoaXMuX3VzZXJJZD10LHRoaXMuX3VpbnRJZD1pLHRoaXMuc3RvcmU9bn1fdXBkYXRlT3JpZ2luTWVkaWFTdHJlYW1UcmFjayhlKXt0aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrPWUsdGhpcy5fbWVkaWFTdHJlYW1UcmFjaz1lLHRoaXMuX3VwZGF0ZVBsYXllclNvdXJjZSgpLHRoaXMucHJvY2Vzc29yJiZ0aGlzLnByb2Nlc3Nvci51cGRhdGVJbnB1dCh7dHJhY2s6dGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjayxjb250ZXh0OnRoaXMucHJvY2Vzc29yQ29udGV4dH0pfV9kZXN0cm95KCl7dGhpcy5faXNEZXN0cm95ZWQ9ITAsUXkuaW5mbyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIGlzIGRlc3Ryb3llZFwiKSksdGhpcy5zdG9wKCksc3VwZXIuY2xvc2UoKX1nZXRQcm9jZXNzb3JTdGF0cygpe3JldHVybiB0aGlzLnByb2Nlc3NvckNvbnRleHQuZ2F0aGVyU3RhdHMoKX1nZXRQcm9jZXNzb3JVc2FnZSgpe3JldHVybiB0aGlzLnByb2Nlc3NvckNvbnRleHQuZ2F0aGVyVXNhZ2UoKX19bGV0IHNNPShxaz1vQSh7YXJnc01hcDooZSx0LGkpPT5bZS5nZXRUcmFja0lkKCksXCJzdHJpbmdcIj09dHlwZW9mIHQ/dDp0IGluc3RhbmNlb2YgSFRNTFZpZGVvRWxlbWVudD9cIkhUTUxWaWRlb0VsZW1lbnRcIjpcIkhUTUxFbGVtZW50XCIsaV19KSx6az1vQSh7YXJnc01hcDplPT5bZS5nZXRUcmFja0lkKCldfSksSms9b0Eoe2FyZ3NNYXA6KGUsdCk9PltlLmdldFRyYWNrSWQoKSx0Lm5hbWVdfSksWGs9b0Eoe2FyZ3NNYXA6ZT0+W2UuZ2V0VHJhY2tJZCgpXX0pLENQKChRaz1jbGFzcyBleHRlbmRzIG9Ne2dldCBpc1BsYXlpbmcoKXtyZXR1cm4hKCF0aGlzLl9wbGF5ZXJ8fHRoaXMuX3BsYXllci52aWRlb0VsZW1lbnRTdGF0dXMhPT1UUC5QTEFZSU5HKX1nZXQgX19jbGFzc05hbWVfXygpe3JldHVyblwiUmVtb3RlVmlkZW9UcmFja1wifWNvbnN0cnVjdG9yKGUsdCxpLG4pe3N1cGVyKGUsdCxpLG4pLElQKHRoaXMsXCJfdmlkZW9WaXNpYmxlVGltZXJcIixudWxsKSxJUCh0aGlzLFwiX3ByZXZpb3VzVmlkZW9WaXNpYmxlU3RhdHVzXCIsdm9pZCAwKSxJUCh0aGlzLFwiX2NsZWFyUHJldmlvdXNWaWRlb1Zpc2libGVTdGF0dXNcIiwoKCk9PnRoaXMuX3ByZXZpb3VzVmlkZW9WaXNpYmxlU3RhdHVzPXZvaWQgMCkpLElQKHRoaXMsXCJ0cmFja01lZGlhVHlwZVwiLGFQLlZJREVPKSxJUCh0aGlzLFwiX3ZpZGVvV2lkdGhcIix2b2lkIDApLElQKHRoaXMsXCJfdmlkZW9IZWlnaHRcIix2b2lkIDApLElQKHRoaXMsXCJfcGxheWVyXCIsdm9pZCAwKSxJUCh0aGlzLFwicHJvY2Vzc29yRGVzdGluYXRpb25cIix2b2lkIDApLElQKHRoaXMsXCJwcm9jZXNzb3JDb250ZXh0XCIsdm9pZCAwKSx0aGlzLnVwZGF0ZU1lZGlhU3RyZWFtVHJhY2tSZXNvbHV0aW9uKCksdGhpcy5wcm9jZXNzb3JDb250ZXh0PW5ldyBuTCh0aGlzLmdldFRyYWNrSWQoKSxcInJlbW90ZVwiKSx0aGlzLnByb2Nlc3NvckRlc3RpbmF0aW9uPW5ldyBpTCh0aGlzLnByb2Nlc3NvckNvbnRleHQpLHRoaXMuYmluZFByb2Nlc3NvckRlc3RpbmF0aW9uRXZlbnRzKCl9Z2V0U3RhdHMoKXtyZXR1cm4gS3YoKCgpPT57UXkud2FybmluZyhcIltkZXByZWNhdGVkXSBSZW1vdGVWaWRlb1RyYWNrLmdldFN0YXRzIHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgZnV0dXJlLCB1c2UgQWdvcmFSVENDbGllbnQuZ2V0UmVtb3RlVmlkZW9TdGF0cyBpbnN0ZWFkXCIpfSksXCJyZW1vdGVWaWRlb1RyYWNrR2V0U3RhdHNXYXJuaW5nXCIpLFV2KHRoaXMsJEQuR0VUX1NUQVRTKXx8eVAoe30scFApfXBsYXkoZSl7bGV0IHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O2lmKFwic3RyaW5nXCI9PXR5cGVvZiBlKXtjb25zdCB0PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGUpO3Q/ZT10OihReS53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLmdldFRyYWNrSWQoKSwnXSBjYW4gbm90IGZpbmQgXCIjJykuY29uY2F0KGUsJ1wiIGVsZW1lbnQsIHVzZSBkb2N1bWVudC5ib2R5JykpLGU9ZG9jdW1lbnQuYm9keSl9UXkuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzdGFydCB2aWRlbyBwbGF5YmFjayBpbiBcIikuY29uY2F0KGUgaW5zdGFuY2VvZiBIVE1MVmlkZW9FbGVtZW50P1wiSFRNTFZpZGVvRWxlbWVudFwiOlwiSFRNTEVsZW1lbnRcIiksSlNPTi5zdHJpbmdpZnkodCkpO2NvbnN0IGk9eVAoeVAoe2ZpdDpcImNvdmVyXCJ9LHQpLHt9LHt0cmFja0lkOnRoaXMuZ2V0VHJhY2tJZCgpLGVsZW1lbnQ6ZX0pO3RoaXMuX3BsYXllcj90aGlzLl9wbGF5ZXIudXBkYXRlQ29uZmlnKGkpOihlIGluc3RhbmNlb2YgSFRNTFZpZGVvRWxlbWVudD90aGlzLl9wbGF5ZXI9bmV3IGFrKGkpOnRoaXMuX3BsYXllcj1uZXcgZGsoaSksdGhpcy5fcGxheWVyLnVwZGF0ZVZpZGVvVHJhY2sodGhpcy5fbWVkaWFTdHJlYW1UcmFjayksdGhpcy5fcGxheWVyLm9uRmlyc3RWaWRlb0ZyYW1lRGVjb2RlZD0oKT0+e3RoaXMuc3RvcmUuc3Vic2NyaWJlKHRoaXMuZ2V0VXNlcklkKCksXCJ2aWRlb1wiLHZvaWQgMCx2b2lkIDAsRGF0ZS5ub3coKSksdGhpcy5zYWZlRW1pdChzUC5GSVJTVF9GUkFNRV9ERUNPREVEKX0sdGhpcy5fcGxheWVyLm9uVmlkZW9TdGF0ZUNoYW5nZWQ9ZT0+e3RoaXMuc2FmZUVtaXQoc1AuVklERU9fU1RBVEVfQ0hBTkdFRCxlKX0pLHRoaXMuX3BsYXllci5wbGF5KHRoaXMuc3RvcmUuc2Vzc2lvbklkfHx2b2lkIDApLHRoaXMuX3ZpZGVvVmlzaWJsZVRpbWVyJiZ3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLl92aWRlb1Zpc2libGVUaW1lciksdGhpcy5fY2xlYXJQcmV2aW91c1ZpZGVvVmlzaWJsZVN0YXR1cygpLHRoaXMuX3ZpZGVvVmlzaWJsZVRpbWVyPXdpbmRvdy5zZXRJbnRlcnZhbCgoKCk9Pnt0cnl7Y29uc3QgZT10aGlzLmdldFZpZGVvRWxlbWVudFZpc2libGVTdGF0dXMoKTt0aGlzLnNhZmVFbWl0KHNQLlZJREVPX0VMRU1FTlRfVklTSUJMRV9TVEFUVVMsZSl9Y2F0Y2goZSl7fX0pLER5KFwiQ0hFQ0tfVklERU9fVklTSUJMRV9JTlRFUlZBTFwiKSl9c3RvcCgpe3RoaXMuX3BsYXllciYmKHRoaXMuX3ZpZGVvVmlzaWJsZVRpbWVyJiYod2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5fdmlkZW9WaXNpYmxlVGltZXIpLHRoaXMuX3ZpZGVvVmlzaWJsZVRpbWVyPW51bGwpLHRoaXMuX2NsZWFyUHJldmlvdXNWaWRlb1Zpc2libGVTdGF0dXMoKSx0aGlzLl9wbGF5ZXIuZGVzdHJveSgpLHRoaXMuX3BsYXllcj12b2lkIDAsUXkuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzdG9wIHZpZGVvIHBsYXliYWNrXCIpKSl9Z2V0Q3VycmVudEZyYW1lRGF0YSgpe3JldHVybiB0aGlzLl9wbGF5ZXI/dGhpcy5fcGxheWVyLmdldEN1cnJlbnRGcmFtZSgpOm5ldyBJbWFnZURhdGEoMiwyKX11cGRhdGVNZWRpYVN0cmVhbVRyYWNrUmVzb2x1dGlvbigpe2NMKHRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2spLnRoZW4oKGU9PntsZXRbdCxpXT1lO3RoaXMuX3ZpZGVvSGVpZ2h0PWksdGhpcy5fdmlkZW9XaWR0aD10fSkpLmNhdGNoKGl5KX1fdXBkYXRlUGxheWVyU291cmNlKCl7UXkuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSB1cGRhdGUgcGxheWVyIHNvdXJjZSB0cmFja1wiKSksdGhpcy5fcGxheWVyJiZ0aGlzLl9wbGF5ZXIudXBkYXRlVmlkZW9UcmFjayh0aGlzLl9tZWRpYVN0cmVhbVRyYWNrKX1nZXRWaWRlb0VsZW1lbnRWaXNpYmxlU3RhdHVzKCl7dHJ5e3ZhciBlLHQ7Y29uc3QgaT1udWxsPT10aGlzfHxudWxsPT09KGU9dGhpcy5fcGxheWVyKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5nZXRDb250YWluZXJFbGVtZW50KCksbj17dHJhY2s6dGhpcyxlbGVtZW50Om51bGw9PXRoaXN8fG51bGw9PT0odD10aGlzLl9wbGF5ZXIpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmdldFZpZGVvRWxlbWVudCgpLHNsb3Q6bnVsbD09aT92b2lkIDA6aS5wYXJlbnRFbGVtZW50fSx7ZWxlbWVudDpyLHNsb3Q6b309bjtpZih0aGlzLmlzUGxheWluZyYmciBpbnN0YW5jZW9mIEhUTUxWaWRlb0VsZW1lbnQmJm8gaW5zdGFuY2VvZiBIVE1MRWxlbWVudCl7Y29uc3QgZT1Fdi5jaGVja09uZUVsZW1lbnRWaXNpYmxlKHIpLHQ9T2JqZWN0LmFzc2lnbih7fSxlKTtpZih0LnZpc2libGUhPT10aGlzLl9wcmV2aW91c1ZpZGVvVmlzaWJsZVN0YXR1cyl7dGhpcy5fcHJldmlvdXNWaWRlb1Zpc2libGVTdGF0dXM9dC52aXNpYmxlO2NvbnN0IGU9c0EucmVwb3J0QXBpSW52b2tlKG51bGwse3RhZzpJdi5UUkFDRVIsbmFtZTpDdi5SRU1PVEVfVklERU9fVFJBQ0tfR0VUX1ZJREVPX1ZJU0lCTEUsb3B0aW9uczpbdGhpcy5nZXRUcmFja0lkKCldfSk7dC52aXNpYmxlP2Uub25TdWNjZXNzKFwiVmlkZW8gaXMgdmlzaWJsZVwiKTplLm9uU3VjY2VzcyhcIkludmlzaWJsZSBiZWNhdXNlIG9mIFwiLmNvbmNhdCh0LnJlYXNvbikpfXJldHVybiB0fXJldHVybn1jYXRjaChlKXt0aHJvdyBuZXcgcnYobnYuR0VUX1ZJREVPX0VMRU1FTlRfVklTSUJMRV9FUlJPUixlLm1lc3NhZ2UpfX1waXBlKGUpe2lmKHRoaXMucHJvY2Vzc29yPT09ZSlyZXR1cm4gZTtpZihlLl9zb3VyY2UpdGhyb3cgbmV3IHJ2KG52LklOVkFMSURfT1BFUkFUSU9OLFwiUHJvY2Vzc29yIFwiLmNvbmNhdChlLm5hbWUsXCIgYWxyZWFkeSBwaXBlZCwgcGxlYXNlIGNhbGwgdW5waXBlIGJlZm9yZWhhbmQuXCIpKTtyZXR1cm4gdGhpcy51bnBpcGUoKSx0aGlzLnByb2Nlc3Nvcj1lLHRoaXMucHJvY2Vzc29yLl9zb3VyY2U9dGhpcyxlLnVwZGF0ZUlucHV0KHt0cmFjazp0aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLGNvbnRleHQ6dGhpcy5wcm9jZXNzb3JDb250ZXh0fSksZX11bnBpcGUoKXtpZighdGhpcy5wcm9jZXNzb3IpcmV0dXJuO2NvbnN0IGU9dGhpcy5wcm9jZXNzb3I7dGhpcy5wcm9jZXNzb3IuX3NvdXJjZT12b2lkIDAsdGhpcy5wcm9jZXNzb3I9dm9pZCAwLGUucmVzZXQoKX1iaW5kUHJvY2Vzc29yRGVzdGluYXRpb25FdmVudHMoKXt0aGlzLnByb2Nlc3NvckRlc3RpbmF0aW9uLm9uKF9QLk9OX1RSQUNLLChhc3luYyBlPT57ZT9lIT09dGhpcy5fbWVkaWFTdHJlYW1UcmFjayYmKHRoaXMuX21lZGlhU3RyZWFtVHJhY2s9ZSx0aGlzLl91cGRhdGVQbGF5ZXJTb3VyY2UoKSk6dGhpcy5fbWVkaWFTdHJlYW1UcmFjayE9PXRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2smJih0aGlzLl9tZWRpYVN0cmVhbVRyYWNrPXRoaXMuX29yaWdpbk1lZGlhU3RyZWFtVHJhY2ssdGhpcy5fdXBkYXRlUGxheWVyU291cmNlKCkpfSkpfXVuYmluZFByb2Nlc3NvckRlc3RpbmF0aW9uRXZlbnRzKCl7dGhpcy5wcm9jZXNzb3JEZXN0aW5hdGlvbi5yZW1vdmVBbGxMaXN0ZW5lcnMoX1AuT05fVFJBQ0spfV9kZXN0cm95KCl7c3VwZXIuX2Rlc3Ryb3koKSx0aGlzLnVuYmluZFByb2Nlc3NvckRlc3RpbmF0aW9uRXZlbnRzKCl9X29uU2VpKGUpe3RoaXMuZW1pdChyUC5TRUlfUkVDRUlWRUQsZSl9fSkucHJvdG90eXBlLFwicGxheVwiLFtxa10sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihRay5wcm90b3R5cGUsXCJwbGF5XCIpLFFrLnByb3RvdHlwZSksQ1AoUWsucHJvdG90eXBlLFwic3RvcFwiLFt6a10sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihRay5wcm90b3R5cGUsXCJzdG9wXCIpLFFrLnByb3RvdHlwZSksQ1AoUWsucHJvdG90eXBlLFwicGlwZVwiLFtKa10sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihRay5wcm90b3R5cGUsXCJwaXBlXCIpLFFrLnByb3RvdHlwZSksQ1AoUWsucHJvdG90eXBlLFwidW5waXBlXCIsW1hrXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFFrLnByb3RvdHlwZSxcInVucGlwZVwiKSxRay5wcm90b3R5cGUpLFFrKSxhTT0oWms9b0Eoe2FyZ3NNYXA6KGUsdCk9PltlLmdldFRyYWNrSWQoKSx0XSx0aHJvdHRsZVRpbWU6MzAwfSksJGs9b0Eoe2FyZ3NNYXA6KGUsdCk9PltlLmdldFRyYWNrSWQoKSx0XX0pLGVNPW9BKHthcmdzTWFwOmU9PltlLmdldFRyYWNrSWQoKV19KSx0TT1vQSh7YXJnc01hcDplPT5bZS5nZXRUcmFja0lkKCldfSksaU09b0Eoe2FyZ3NNYXA6KGUsdCk9PltlLmdldFRyYWNrSWQoKSx0Lm5hbWVdfSksbk09b0Eoe2FyZ3NNYXA6ZT0+W2UuZ2V0VHJhY2tJZCgpXX0pLENQKChyTT1jbGFzcyBleHRlbmRzIG9Ne2dldCBpc1BsYXlpbmcoKXtyZXR1cm4gdGhpcy5fdXNlQXVkaW9FbGVtZW50P2VMLmlzUGxheWluZyh0aGlzLmdldFRyYWNrSWQoKSk6dGhpcy5fc291cmNlLmlzUGxheWVkfWdldCBfX2NsYXNzTmFtZV9fKCl7cmV0dXJuXCJSZW1vdGVBdWRpb1RyYWNrXCJ9Y29uc3RydWN0b3IoZSx0LGksbil7c3VwZXIoZSx0LGksbiksSVAodGhpcyxcInRyYWNrTWVkaWFUeXBlXCIsYVAuQVVESU8pLElQKHRoaXMsXCJfc291cmNlXCIsdm9pZCAwKSxJUCh0aGlzLFwiX3VzZUF1ZGlvRWxlbWVudFwiLCEwKSxJUCh0aGlzLFwiX3ZvbHVtZVwiLDEwMCksSVAodGhpcyxcInByb2Nlc3NvckNvbnRleHRcIix2b2lkIDApLElQKHRoaXMsXCJwcm9jZXNzb3JEZXN0aW5hdGlvblwiLHZvaWQgMCksSVAodGhpcyxcIl9wbGF5ZWRcIiwhMSksSVAodGhpcyxcIl9ieXBhc3NXZWJBdWRpb1wiLCExKSxEeShcIkRJU0FCTEVfV0VCQVVESU9cIik/KHRoaXMuX3NvdXJjZT1uZXcgc0wsdGhpcy5fYnlwYXNzV2ViQXVkaW89ITAsdGhpcy5fdXNlQXVkaW9FbGVtZW50PSEwKToodGhpcy5fc291cmNlPW5ldyB4UChlLCEwKSxEeShcIlJFTU9URV9BVURJT19UUkFDS19VU0VTX1dFQl9BVURJT1wiKSYmKHRoaXMuX3VzZUF1ZGlvRWxlbWVudD0hMSkpLHRoaXMuX3NvdXJjZS5vbmNlKGNQLlJFQ0VJVkVfVFJBQ0tfQlVGRkVSLCgoKT0+e3RoaXMuc2FmZUVtaXQoc1AuRklSU1RfRlJBTUVfREVDT0RFRCl9KSksdGhpcy5wcm9jZXNzb3JDb250ZXh0PW5ldyBvTCh0aGlzLl9zb3VyY2UuY29udGV4dCx0aGlzLmdldFRyYWNrSWQoKSxcInJlbW90ZVwiKSx0aGlzLnByb2Nlc3NvckRlc3RpbmF0aW9uPW5ldyByTCh0aGlzLnByb2Nlc3NvckNvbnRleHQpLHRoaXMuYmluZFByb2Nlc3NvckRlc3RpbmF0aW9uRXZlbnRzKCksdGhpcy5fc291cmNlLm9uKGNQLlVQREFURV9TT1VSQ0UsKCgpPT57dGhpcy5wcm9jZXNzb3ImJnRoaXMucHJvY2Vzc29yLnVwZGF0ZUlucHV0KHtub2RlOnRoaXMuX3NvdXJjZS5wcm9jZXNzU291cmNlTm9kZSxjb250ZXh0OnRoaXMucHJvY2Vzc29yQ29udGV4dH0pfSkpfXNldEF1ZGlvRnJhbWVDYWxsYmFjayhlKXtsZXQgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06NDA5NjtpZighZSlyZXR1cm4gdGhpcy5fc291cmNlLnJlbW92ZUFsbExpc3RlbmVycyhjUC5PTl9BVURJT19CVUZGRVIpLHZvaWQgdGhpcy5fc291cmNlLnN0b3BHZXRBdWRpb0J1ZmZlcigpO3RoaXMuX3NvdXJjZS5zdGFydEdldEF1ZGlvQnVmZmVyKHQpLHRoaXMuX3NvdXJjZS5yZW1vdmVBbGxMaXN0ZW5lcnMoY1AuT05fQVVESU9fQlVGRkVSKSx0aGlzLl9zb3VyY2Uub24oY1AuT05fQVVESU9fQlVGRkVSLCh0PT5lKHQpKSl9c2V0Vm9sdW1lKGUpe3RoaXMuX3ZvbHVtZT1lLHRoaXMuX3VzZUF1ZGlvRWxlbWVudD9lTC5zZXRWb2x1bWUodGhpcy5nZXRUcmFja0lkKCksZSk6dGhpcy5fc291cmNlLnNldFZvbHVtZShlLzEwMCl9YXN5bmMgc2V0UGxheWJhY2tEZXZpY2UoZSl7aWYoIXRoaXMuX3VzZUF1ZGlvRWxlbWVudHx8IVVEKCkpdGhyb3cgbmV3IHJ2KG52Lk5PVF9TVVBQT1JURUQsXCJ5b3VyIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBzZXR0aW5nIHRoZSBhdWRpbyBvdXRwdXQgZGV2aWNlXCIpO2F3YWl0IGVMLnNldFNpbmtJRCh0aGlzLmdldFRyYWNrSWQoKSxlKX1nZXRWb2x1bWVMZXZlbCgpe3JldHVybiB0aGlzLl9zb3VyY2UuZ2V0QWNjdXJhdGVWb2x1bWVMZXZlbCgpfWdldFN0YXRzKCl7cmV0dXJuIEt2KCgoKT0+e1F5Lndhcm5pbmcoXCJbZGVwcmVjYXRlZF0gUmVtb3RlQXVkaW9UcmFjay5nZXRTdGF0cyB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIGZ1dHVyZSwgdXNlIEFnb3JhUlRDQ2xpZW50LmdldFJlbW90ZUF1ZGlvU3RhdHMgaW5zdGVhZFwiKX0pLFwicmVtb3RlQXVkaW9UcmFja0dldFN0YXRzV2FybmluZ1wiKSxVdih0aGlzLCRELkdFVF9TVEFUUyl8fHlQKHt9LHVQKX1wbGF5KCl7UXkuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSBzdGFydCBhdWRpbyBwbGF5YmFja1wiKSksdGhpcy5fcGxheWVkPSEwLHRoaXMuX3VzZUF1ZGlvRWxlbWVudD8oUXkuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSB1c2UgYXVkaW8gZWxlbWVudCB0byBwbGF5XCIpKSxlTC5wbGF5KHRoaXMuX21lZGlhU3RyZWFtVHJhY2ssdGhpcy5nZXRUcmFja0lkKCksdGhpcy5fdm9sdW1lLHRoaXMuc3RvcmUuc2Vzc2lvbklkfHx2b2lkIDApKTp0aGlzLl9zb3VyY2UucGxheSgpfXN0b3AoKXtReS5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5nZXRUcmFja0lkKCksXCJdIHN0b3AgYXVkaW8gcGxheWJhY2tcIikpLHRoaXMuX3BsYXllZD0hMSx0aGlzLl91c2VBdWRpb0VsZW1lbnQ/ZUwuc3RvcCh0aGlzLmdldFRyYWNrSWQoKSk6dGhpcy5fc291cmNlLnN0b3AoKX1fZGVzdHJveSgpe3N1cGVyLl9kZXN0cm95KCksdGhpcy5fcGxheWVkPSExLHRoaXMudW5iaW5kUHJvY2Vzc29yRGVzdGluYXRpb25FdmVudHMoKSx0aGlzLl9zb3VyY2UuZGVzdHJveSgpfV9pc0ZyZWV6ZSgpe3JldHVybiB0aGlzLl9zb3VyY2UuaXNGcmVlemV9X3VwZGF0ZVBsYXllclNvdXJjZSgpe2xldCBlPSEoYXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0pfHxhcmd1bWVudHNbMF07UXkuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuZ2V0VHJhY2tJZCgpLFwiXSB1cGRhdGUgcGxheWVyIHNvdXJjZSB0cmFja1wiKSksZSYmdGhpcy5fc291cmNlLnVwZGF0ZVRyYWNrKHRoaXMuX21lZGlhU3RyZWFtVHJhY2spLHRoaXMuX3VzZUF1ZGlvRWxlbWVudCYmZUwudXBkYXRlVHJhY2sodGhpcy5nZXRUcmFja0lkKCksdGhpcy5fbWVkaWFTdHJlYW1UcmFjayl9cGlwZShlKXtpZih0aGlzLl9ieXBhc3NXZWJBdWRpbyl0aHJvdyBuZXcgcnYobnYuTk9UX1NVUFBPUlRFRCxcImNhbiBub3QgcGlwZSBleHRlbnNpb24gd2hlbiBXZWJBdWRpbyBkaXNhYmxlZFwiKTtpZih0aGlzLnByb2Nlc3Nvcj09PWUpcmV0dXJuIGU7aWYoZS5fc291cmNlKXRocm93IG5ldyBydihudi5JTlZBTElEX09QRVJBVElPTixcIlByb2Nlc3NvciBcIi5jb25jYXQoZS5uYW1lLFwiIGFscmVhZHkgcGlwZWQsIHBsZWFzZSBjYWxsIHVucGlwZSBiZWZvcmVoYW5kLlwiKSk7cmV0dXJuIHRoaXMudW5waXBlKCksdGhpcy5wcm9jZXNzb3I9ZSx0aGlzLnByb2Nlc3Nvci5fc291cmNlPXRoaXMsZS51cGRhdGVJbnB1dCh7dHJhY2s6dGhpcy5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjayxub2RlOnRoaXMuX3NvdXJjZS5wcm9jZXNzU291cmNlTm9kZSxjb250ZXh0OnRoaXMucHJvY2Vzc29yQ29udGV4dH0pLGV9dW5waXBlKCl7dmFyIGU7aWYodGhpcy5fYnlwYXNzV2ViQXVkaW8pdGhyb3cgbmV3IHJ2KG52Lk5PVF9TVVBQT1JURUQsXCJjYW4gbm90IHVucGlwZSBleHRlbnNpb24gd2hlbiBXZWJBdWRpbyBkaXNhYmxlZFwiKTtpZighdGhpcy5wcm9jZXNzb3IpcmV0dXJuO2NvbnN0IHQ9dGhpcy5wcm9jZXNzb3I7bnVsbD09PShlPXRoaXMuX3NvdXJjZS5wcm9jZXNzU291cmNlTm9kZSl8fHZvaWQgMD09PWV8fGUuZGlzY29ubmVjdCgpLHRoaXMucHJvY2Vzc29yLl9zb3VyY2U9ITEsdGhpcy5wcm9jZXNzb3I9dm9pZCAwLHQucmVzZXQoKX1iaW5kUHJvY2Vzc29yRGVzdGluYXRpb25FdmVudHMoKXt0aGlzLnByb2Nlc3NvckRlc3RpbmF0aW9uLm9uKF9QLk9OX1RSQUNLLChhc3luYyBlPT57ZT9lIT09dGhpcy5fbWVkaWFTdHJlYW1UcmFjayYmKHRoaXMuX21lZGlhU3RyZWFtVHJhY2s9ZSx0aGlzLl91cGRhdGVQbGF5ZXJTb3VyY2UoITEpLHRoaXMuX3NvdXJjZS5wcm9jZXNzZWROb2RlPXRoaXMuX3NvdXJjZS5jcmVhdGVNZWRpYVN0cmVhbVNvdXJjZU5vZGUoZSkpOnRoaXMuX21lZGlhU3RyZWFtVHJhY2shPT10aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrJiYodGhpcy5fbWVkaWFTdHJlYW1UcmFjaz10aGlzLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLHRoaXMuX3VwZGF0ZVBsYXllclNvdXJjZSgpKX0pKSx0aGlzLnByb2Nlc3NvckRlc3RpbmF0aW9uLm9uKF9QLk9OX05PREUsKGU9Pnt0aGlzLl9zb3VyY2UucHJvY2Vzc2VkTm9kZT1lO2NvbnN0IHQ9IWU7dGhpcy5fdXNlQXVkaW9FbGVtZW50IT09dCYmKHRoaXMuX3BsYXllZD8odGhpcy5zdG9wKCksdGhpcy5fdXNlQXVkaW9FbGVtZW50PXQsdGhpcy5wbGF5KCkpOnRoaXMuX3VzZUF1ZGlvRWxlbWVudD10KX0pKX11bmJpbmRQcm9jZXNzb3JEZXN0aW5hdGlvbkV2ZW50cygpe3RoaXMucHJvY2Vzc29yRGVzdGluYXRpb24ucmVtb3ZlQWxsTGlzdGVuZXJzKF9QLk9OX1RSQUNLKSx0aGlzLnByb2Nlc3NvckRlc3RpbmF0aW9uLnJlbW92ZUFsbExpc3RlbmVycyhfUC5PTl9OT0RFKX19KS5wcm90b3R5cGUsXCJzZXRWb2x1bWVcIixbWmtdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iock0ucHJvdG90eXBlLFwic2V0Vm9sdW1lXCIpLHJNLnByb3RvdHlwZSksQ1Aock0ucHJvdG90eXBlLFwic2V0UGxheWJhY2tEZXZpY2VcIixbJGtdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iock0ucHJvdG90eXBlLFwic2V0UGxheWJhY2tEZXZpY2VcIiksck0ucHJvdG90eXBlKSxDUChyTS5wcm90b3R5cGUsXCJwbGF5XCIsW2VNXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHJNLnByb3RvdHlwZSxcInBsYXlcIiksck0ucHJvdG90eXBlKSxDUChyTS5wcm90b3R5cGUsXCJzdG9wXCIsW3RNXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHJNLnByb3RvdHlwZSxcInN0b3BcIiksck0ucHJvdG90eXBlKSxDUChyTS5wcm90b3R5cGUsXCJwaXBlXCIsW2lNXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHJNLnByb3RvdHlwZSxcInBpcGVcIiksck0ucHJvdG90eXBlKSxDUChyTS5wcm90b3R5cGUsXCJ1bnBpcGVcIixbbk1dLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iock0ucHJvdG90eXBlLFwidW5waXBlXCIpLHJNLnByb3RvdHlwZSksck0pO2NvbnN0IGNNPW5ldyBjbGFzcyBleHRlbmRzIFN2e2dldCB2aXNpYmlsaXR5KCl7cmV0dXJuIGRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZX1nZXQgbGFzdEhpZGRlblRpbWUoKXtyZXR1cm4gdGhpcy5fbGFzdEhpZGRlblRpbWV9Z2V0IGxhc3RWaXNpYmxlVGltZSgpe3JldHVybiB0aGlzLl9sYXN0VmlzaWJsZVRpbWV9Y29uc3RydWN0b3IoKXtzdXBlcigpLElQKHRoaXMsXCJfbGFzdEhpZGRlblRpbWVcIiwwKSxJUCh0aGlzLFwiX2xhc3RWaXNpYmxlVGltZVwiLDApLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsKCgpPT57XCJoaWRkZW5cIj09PWRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZT90aGlzLl9sYXN0SGlkZGVuVGltZT1wZXJmb3JtYW5jZS5ub3coKTp0aGlzLl9sYXN0VmlzaWJsZVRpbWU9cGVyZm9ybWFuY2Uubm93KCksUXkuZGVidWcoXCJkb2N1bWVudCB2aXNpYmlsaXR5IHdlbnQgXCIuY29uY2F0KGRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSkpLHRoaXMuZW1pdChcIlZJU0lCSUxJVFlfQ0hBTkdFXCIsZG9jdW1lbnQudmlzaWJpbGl0eVN0YXRlKX0pKX19O2NsYXNzIGRNIGV4dGVuZHMgU3Z7Y29uc3RydWN0b3IoZSx0KXtzdXBlcigpLElQKHRoaXMsXCJ0cmFja01lZGlhVHlwZVwiLGFQLkRBVEEpLElQKHRoaXMsXCJfdmVyc2lvblwiLDEpLElQKHRoaXMsXCJfdHlwZVwiLDMpLElQKHRoaXMsXCJfY29uZmlnXCIsdm9pZCAwKSxJUCh0aGlzLFwiX29yaWdpbkRhdGFDaGFubmVsXCIsdm9pZCAwKSxJUCh0aGlzLFwiX2RhdGFTdHJlYW1QYWNrZXRIZWFkZXJcIixuZXcgQXJyYXlCdWZmZXIoNCkpLElQKHRoaXMsXCJfZGF0YVN0cmVhbVBhY2tldEhhbmRsZXJcIix7c2VyaWFsaXplOmU9PmUsZGVzZXJpYWxpemU6ZT0+ZX0pLElQKHRoaXMsXCJfZGF0YWNoYW5uZWxFdmVudE1hcFwiLG5ldyBNYXApLHRoaXMuX2NvbmZpZz1lLHQmJih0aGlzLl9vcmlnaW5EYXRhQ2hhbm5lbD10LHRoaXMuX2JhbmREYXRhQ2hhbm5lbEV2ZW50cyh0KSksdGhpcy5faW5pdFBhY2tldEhlYWRlcigpfXVzZURhdGFTdHJlYW0oZSl7dGhpcy5fZGF0YVN0cmVhbVBhY2tldEhhbmRsZXI9ZX1nZXQgaWQoKXtyZXR1cm4gdGhpcy5fY29uZmlnLmlkfWdldCBvcmRlcmVkKCl7cmV0dXJuIHRoaXMuX2NvbmZpZy5vcmRlcmVkfWdldCBtYXhSZXRyYW5zbWl0cygpe3JldHVybiBEeShcIkRBVEFTVFJFQU1fTUFYX1JFVFJBTlNNSVRTXCIpfWdldCBtZXRhZGF0YSgpe3JldHVybiB0aGlzLl9jb25maWcubWV0YWRhdGF9Z2V0IHJlYWR5U3RhdGUoKXt2YXIgZSx0O3JldHVybiBudWxsIT09KGU9bnVsbD09PSh0PXRoaXMuX29yaWdpbkRhdGFDaGFubmVsKXx8dm9pZCAwPT09dD92b2lkIDA6dC5yZWFkeVN0YXRlKSYmdm9pZCAwIT09ZT9lOlwiY29ubmVjdGluZ1wifWdldCBfb3JpZ2luRGF0YUNoYW5uZWxJZCgpe3ZhciBlLHQ7cmV0dXJuIG51bGwhPT0oZT1udWxsPT09KHQ9dGhpcy5fb3JpZ2luRGF0YUNoYW5uZWwpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmlkKSYmdm9pZCAwIT09ZT9lOm51bGx9Z2V0Q2hhbm5lbElkKCl7cmV0dXJuIHRoaXMuaWR9Z2V0Q29uZmlnKCl7cmV0dXJuIHRoaXMuX2NvbmZpZ31fY2xvc2UoKXt0aGlzLl9vcmlnaW5EYXRhQ2hhbm5lbCYmKHRoaXMuX3VuYmluZERhdGFDaGFubmVsRXZlbnRzKHRoaXMuX29yaWdpbkRhdGFDaGFubmVsKSx0aGlzLl9vcmlnaW5EYXRhQ2hhbm5lbD12b2lkIDApfWFzeW5jIF93YWl0VGlsbE9wZW4oKXtyZXR1cm4gbmV3IEdoKCgoZSx0KT0+e2lmKHRoaXMuX29yaWdpbkRhdGFDaGFubmVsKXtcIm9wZW5cIj09PXRoaXMuX29yaWdpbkRhdGFDaGFubmVsLnJlYWR5U3RhdGUmJmUoKTtjb25zdCBpPXNldFRpbWVvdXQoKCgpPT57dmFyIGU7dChuZXcgcnYobnYuREFUQUNIQU5ORUxfQ09OTkVDVElPTl9USU1FT1VULFwiQ2Fubm90IGNyZWF0ZSBkYXRhY2hhbm5lbCwgaWQ6IFwiLmNvbmNhdChudWxsPT09KGU9dGhpcy5fb3JpZ2luRGF0YUNoYW5uZWwpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmlkKSkpfSksMWU0KTt0aGlzLl9vcmlnaW5EYXRhQ2hhbm5lbC5vbm9wZW49KCk9PntjbGVhclRpbWVvdXQoaSksdGhpcy5fb3JpZ2luRGF0YUNoYW5uZWwmJnRoaXMuX2JhbmREYXRhQ2hhbm5lbEV2ZW50cyh0aGlzLl9vcmlnaW5EYXRhQ2hhbm5lbCksZSgpfSx0aGlzLl9vcmlnaW5EYXRhQ2hhbm5lbC5vbmVycm9yPSgpPT57dGhyb3cgY2xlYXJUaW1lb3V0KGkpLG5ldyBydihudi5EQVRBQ0hBTk5FTF9DT05ORUNUSU9OX1RJTUVPVVQpfX1lbHNlIHQobmV3IHJ2KG52LkRBVEFDSEFOTkVMX0NPTk5FQ1RJT05fVElNRU9VVCxcImNhbm5vdCBmaW5kIGRhdGFDaGFubmVsXCIpKX0pKX1fdXBkYXRlT3JpZ2luRGF0YUNoYW5uZWwoZSl7dGhpcy5fb3JpZ2luRGF0YUNoYW5uZWw9ZSx0aGlzLl9iYW5kRGF0YUNoYW5uZWxFdmVudHMoZSl9X2luaXRQYWNrZXRIZWFkZXIoKXtjb25zdCBlPW5ldyBEYXRhVmlldyh0aGlzLl9kYXRhU3RyZWFtUGFja2V0SGVhZGVyKTtlLnNldFVpbnQxNigwLHRoaXMuX3ZlcnNpb24pLGUuc2V0VWludDgoMix0aGlzLl90eXBlKSxlLnNldFVpbnQ4KDMsdGhpcy5fY29uZmlnLmlkKX1fYmFuZERhdGFDaGFubmVsRXZlbnRzKGUpe3RoaXMuX3VuYmluZERhdGFDaGFubmVsRXZlbnRzKGUpLFtSUC5PUEVOLFJQLkNMT1NFLFJQLkVSUk9SXS5mb3JFYWNoKCh0PT57Y29uc3QgaT0oKT0+e3RoaXMuZW1pdCh0KX07dGhpcy5fZGF0YWNoYW5uZWxFdmVudE1hcC5zZXQodCxpKSxlLmFkZEV2ZW50TGlzdGVuZXIodCxpKX0pKX1fdW5iaW5kRGF0YUNoYW5uZWxFdmVudHMoZSl7QXJyYXkuZnJvbSh0aGlzLl9kYXRhY2hhbm5lbEV2ZW50TWFwLmVudHJpZXMoKSkuZm9yRWFjaCgodD0+e2xldFtpLG5dPXQ7ZS5yZW1vdmVFdmVudExpc3RlbmVyKGksbil9KSksdGhpcy5fZGF0YWNoYW5uZWxFdmVudE1hcC5jbGVhcigpfX1jbGFzcyBsTSBleHRlbmRzIGRNe2NvbnN0cnVjdG9yKGUpe3N1cGVyKGUpLElQKHRoaXMsXCJfbWVzc2FnZUxpc3RlbmVyXCIsdm9pZCAwKSx0aGlzLl9tZXNzYWdlTGlzdGVuZXI9ZT0+e2lmKGUuZGF0YS5ieXRlTGVuZ3RoPHRoaXMuX2RhdGFTdHJlYW1QYWNrZXRIZWFkZXIuYnl0ZUxlbmd0aCl0aHJvdyBFcnJvcihcImludmFsaWQgYnl0ZUxlbmd0aDogdGhlIGJ5dGUgbGVuZ3RoIG11c3QgZXhjZWVkIFwiK3RoaXMuX2RhdGFTdHJlYW1QYWNrZXRIZWFkZXIuYnl0ZUxlbmd0aCk7Y29uc3QgdD1lLmRhdGEuc2xpY2UoMCx0aGlzLl9kYXRhU3RyZWFtUGFja2V0SGVhZGVyLmJ5dGVMZW5ndGgpLGk9bmV3IERhdGFWaWV3KHQpLmdldFVpbnQ4KDMpO2lmKGkhPT10aGlzLmlkKXJldHVybiB2b2lkKER5KFwiU0hPV19EQVRBU1RSRUFNMl9MT0dcIikmJlF5LmRlYnVnKFwiaW52YWxpZCBkYXRhY2hhbm5lbCBpZDogXCIuY29uY2F0KGksXCIgIT09IFwiKS5jb25jYXQodGhpcy5pZCkpKTtsZXQgbj1lLmRhdGEuc2xpY2UodGhpcy5fZGF0YVN0cmVhbVBhY2tldEhlYWRlci5ieXRlTGVuZ3RoKTtuPXRoaXMuX2RhdGFTdHJlYW1QYWNrZXRIYW5kbGVyLmRlc2VyaWFsaXplKG4pLHRoaXMuZW1pdChSUC5NRVNTQUdFLG4pfX1fdXBkYXRlT3JpZ2luRGF0YUNoYW5uZWwoZSl7c3VwZXIuX3VwZGF0ZU9yaWdpbkRhdGFDaGFubmVsKGUpLHRoaXMuX2JhbmRSZW1vdGVEYXRhQ2hhbm5lbEV2ZW50cygpfV9jbG9zZSgpe3RoaXMuX29yaWdpbkRhdGFDaGFubmVsJiYodGhpcy5fb3JpZ2luRGF0YUNoYW5uZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIix0aGlzLl9tZXNzYWdlTGlzdGVuZXIpLHN1cGVyLl9jbG9zZSgpKX1fYmFuZFJlbW90ZURhdGFDaGFubmVsRXZlbnRzKCl7dGhpcy5fb3JpZ2luRGF0YUNoYW5uZWwmJnRoaXMuX29yaWdpbkRhdGFDaGFubmVsLmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsdGhpcy5fbWVzc2FnZUxpc3RlbmVyKX19Y2xhc3MgdU0gZXh0ZW5kcyBkTXtzZW5kKGUpe2lmKHRoaXMuX29yaWdpbkRhdGFDaGFubmVsKXtsZXQgdD1lO3Q9dGhpcy5fZGF0YVN0cmVhbVBhY2tldEhhbmRsZXIuc2VyaWFsaXplKGUpO2NvbnN0IGk9bmV3IFVpbnQ4QXJyYXkodGhpcy5fZGF0YVN0cmVhbVBhY2tldEhlYWRlci5ieXRlTGVuZ3RoK3QuYnl0ZUxlbmd0aCk7aS5zZXQobmV3IFVpbnQ4QXJyYXkodGhpcy5fZGF0YVN0cmVhbVBhY2tldEhlYWRlciksMCksaS5zZXQobmV3IFVpbnQ4QXJyYXkodCksdGhpcy5fZGF0YVN0cmVhbVBhY2tldEhlYWRlci5ieXRlTGVuZ3RoKSx0aGlzLl9vcmlnaW5EYXRhQ2hhbm5lbC5zZW5kKGkuYnVmZmVyKX19fWZ1bmN0aW9uIGhNKCl7Y29uc3QgZT1uZXcgQmxvYihbYXRvYihcIlpuVnVZM1JwYjI0Z1pTaGxMSFFzYmlsN2JHVjBJSEk5Ym1WM0lGVnBiblE0UVhKeVlYa29aU3gwTEc0cExHRTlXMTBzYnowd08yWnZjaWc3WVM1c1pXNW5kR2c4YmpzcGJ5c3pQRzRtSmpBOVBUMXlXMjlkSmlZd1BUMDljbHR2S3pGZEppWXpQVDA5Y2x0dkt6SmRKaVlvTUQwOVBYSmJieXN6WFh4OE1UMDlQWEpiYnlzelhYeDhNajA5UFhKYmJ5c3pYWHg4TXowOVBYSmJieXN6WFNrL0tHRXVjSFZ6YUNoeVcyOWRMSEpiYnlzeFhTeHlXMjhyTTEwcExHOHJQVFFwT2loaExuQjFjMmdvY2x0dlhTa3NieXNyS1R0eVpYUjFjbTRnYm1WM0lGVnBiblE0UVhKeVlYa29ZU2w5Wm5WdVkzUnBiMjRnZENobExIUXBlMk52Ym5OMElHNDlablZ1WTNScGIyNG9aU2w3WTI5dWMzUWdkRDFsTG14bGJtZDBhRHRzWlhRZ2JqMWJYU3h5UFRBN1ptOXlLRHR5UEhRN0tYSXJNangwSmlZd1BUMDlaVnR5WFNZbU1EMDlQV1ZiY2lzeFhTWW1LREE5UFQxbFczSXJNbDE4ZkRFOVBUMWxXM0lyTWwxOGZESTlQVDFsVzNJck1sMThmRE05UFQxbFczSXJNbDBwUHlodUxuQjFjMmdvWlZ0eVhTeGxXM0lyTVYwc015eGxXM0lyTWwwcExISXJQVE1wT2lodUxuQjFjMmdvWlZ0eVhTa3NjaXNyS1R0eVpYUjFjbTRnYm1WM0lGVnBiblE0UVhKeVlYa29iaWw5S0hRcExISTliaTVzWlc1bmRHZ3NZVDFOWVhSb0xtWnNiMjl5S0hJdk1qVTFLU3h2UFhJbE1qVTFMSE05Ym1WM0lGVnBiblE0UVhKeVlYa29OaXRoS3pFcmNpdGxMbUo1ZEdWTVpXNW5kR2dwTzNOYk1GMDlNQ3h6V3pGZFBUQXNjMXN5WFQwd0xITmJNMTA5TVN4eld6UmRQVFlzYzFzMVhUMHhNREU3YkdWMElHazlNRHRtYjNJb08yazhZVHNwYzFzMksybGRQVEkxTlN4cEt5czdjbVYwZFhKdUlITmJOaXRwWFQxdkxHa3JLeXh6TG5ObGRDaHVMRFlyYVNrc2N5NXpaWFFvYm1WM0lGVnBiblE0UVhKeVlYa29aU2tzTml0cEszSXBMSE11WW5WbVptVnlmVzVoZG1sbllYUnZjaTUxYzJWeVFXZGxiblF1YVc1a1pYaFBaaWdpVTJGbVlYSnBJaWsrTFRFbUppMHhQVDA5Ym1GMmFXZGhkRzl5TG5WelpYSkJaMlZ1ZEM1cGJtUmxlRTltS0NKRGFISnZiV1VpS1NZbUtITmxiR1l1YjI1eWRHTjBjbUZ1YzJadmNtMDliajArZTJOdmJuTjBJSEk5Ymk1MGNtRnVjMlp2Y20xbGNqdHNaWFFnWVQxYlhUdHlMbTl3ZEdsdmJuTXVjRzl5ZEM1dmJtMWxjM05oWjJVOVpUMCtlMlV1WkdGMFlTNXpaV2ttSm1FdWNIVnphQ2hsTG1SaGRHRXVjMlZwS1gwc2MyVnNaaTV3YjNOMFRXVnpjMkZuWlNnaWMzUmhjblJsWkNJcE8yTnZibk4wSUc4OWNpNXlaV0ZrWVdKc1pTNW5aWFJTWldGa1pYSW9LU3h6UFhJdWQzSnBkR0ZpYkdVdVoyVjBWM0pwZEdWeUtDazdJbko0SWowOVBYSXViM0IwYVc5dWN5NXVZVzFsUDJaMWJtTjBhVzl1SUhRb2JpbDdieTV5WldGa0tDa3VkR2hsYmlnb2NqMCtlMmxtS0NGeUxtUnZibVVwZTJsbUtISXVkbUZzZFdVZ2FXNXpkR0Z1WTJWdlppQlNWRU5GYm1OdlpHVmtWbWxrWlc5R2NtRnRaU2w3WTI5dWMzUWdkRDFtZFc1amRHbHZiaWgwS1h0amIyNXpkQ0J1UFc1bGR5QkVZWFJoVm1sbGR5aDBMbVJoZEdFcE8yeGxkQ0J5UFRBN1ptOXlLRHR5S3pROGRDNWtZWFJoTG1KNWRHVk1aVzVuZEdnN0tYdHBaaWd3UFQwOWJpNW5aWFJWYVc1ME9DaHlLekFwSmlZd1BUMDliaTVuWlhSVmFXNTBPQ2h5S3pFcEppWXdQVDA5Ymk1blpYUlZhVzUwT0NoeUt6SXBKaVl4UFQwOWJpNW5aWFJWYVc1ME9DaHlLek1wSmlZMlBUMDliaTVuWlhSVmFXNTBPQ2h5S3pRcEtYdHNaWFFnWVQxeUt6WXNiejB3TEhNOU1EdG1iM0lvT3pJMU5UMDlQU2h6UFc0dVoyVjBWV2x1ZERnb1lTc3JLU2s3S1c4clBUSTFOVHR2S3oxek8yTnZibk4wSUdrOVpTaDBMbVJoZEdFc1lTeHZLVHR5WlhSMWNtNGdibVYzSUZWcGJuUTRRWEp5WVhrb2FTbDljaXNyZlhKbGRIVnliaUJ1ZFd4c2ZTaHlMblpoYkhWbEtUdDBKaVp1TG05d2RHbHZibk11Y0c5eWRDNXdiM04wVFdWemMyRm5aU2g3YzJWcE9uUjlLWDF6TG5keWFYUmxLSEl1ZG1Gc2RXVXBMRzR1YjNCMGFXOXVjeTV3YjNKMExuQnZjM1JOWlhOellXZGxLSHQwY21GdWMyWnZjbTFsWkRvaE1IMHBMSFFvYmlsOWZTa3BmU2h5S1RvaWRIZ2lQVDA5Y2k1dmNIUnBiMjV6TG01aGJXVW1KbVoxYm1OMGFXOXVJR1VvYmlsN2J5NXlaV0ZrS0NrdWRHaGxiaWdvY2owK2UybG1LQ0Z5TG1SdmJtVXBlMmxtS0hJdWRtRnNkV1VnYVc1emRHRnVZMlZ2WmlCU1ZFTkZibU52WkdWa1ZtbGtaVzlHY21GdFpTbDdZMjl1YzNRZ1pUMWhMbk5vYVdaMEtDazdaU1ltS0hJdWRtRnNkV1V1WkdGMFlUMTBLSEl1ZG1Gc2RXVXVaR0YwWVN4bEtTbDljeTUzY21sMFpTaHlMblpoYkhWbEtTeHVMbTl3ZEdsdmJuTXVjRzl5ZEM1d2IzTjBUV1Z6YzJGblpTaDdkSEpoYm5ObWIzSnRaV1E2SVRCOUtTeGxLRzRwZlgwcEtYMG9jaWw5TEhObGJHWXVjRzl6ZEUxbGMzTmhaMlVvSW5KbFoybHpkR1Z5WldRaUtTazdDZz09XCIpXSx7dHlwZTpcInRleHQvamF2YXNjcmlwdFwifSk7cmV0dXJuIHNldFRpbWVvdXQoKCgpPT5MRC5yZXZva2VPYmplY3RVUkwoZSkpLDApLG5ldyBXb3JrZXIoTEQuY3JlYXRlT2JqZWN0VVJMKGUpKX1jb25zdCBwTT1uZXcgTWFwO2NvbnN0IF9NPW5ldyBNYXA7ZnVuY3Rpb24gRU0oZSx0LGkpe2xldCBuPW5ldyBVaW50OEFycmF5KGUsdCxpKSxyPVtdLG89MDtmb3IoO3IubGVuZ3RoPGk7KW8rMzxpJiYwPT09bltvXSYmMD09PW5bbysxXSYmMz09PW5bbysyXSYmKDA9PT1uW28rM118fDE9PT1uW28rM118fDI9PT1uW28rM118fDM9PT1uW28rM10pPyhyLnB1c2gobltvXSxuW28rMV0sbltvKzNdKSxvKz00KTooci5wdXNoKG5bb10pLG8rKyk7cmV0dXJuIG5ldyBVaW50OEFycmF5KHIpfWNvbnN0IG1NPW5ldyBNYXA7YXN5bmMgZnVuY3Rpb24gZk0oZSx0KXtpZighTUQoKS5zdXBwb3J0V2ViUlRDRW5jb2RlZFRyYW5zZm9ybSlyZXR1cm4gdm9pZCBReS53YXJuaW5nKFwiYnJvd3NlciBub3Qgc3VwcG9ydCB2aWRlbyBlbmNvZGVkIHRyYW5zZm9ybVwiKTtpZihtTS5oYXMoZSkpcmV0dXJuO2lmKCFlLnRyYWNrKXJldHVybjtjb25zdCBpPXt0cmFjazplLnRyYWNrfTtpZihESSgpKXtpZighZS5jcmVhdGVFbmNvZGVkU3RyZWFtcylyZXR1cm4gdm9pZCBReS53YXJuaW5nKFwiYnJvd3NlciBub3Qgc3VwcG9ydCBjcmVhdGVFbmNvZGVkU3RyZWFtcygpIEFQSVwiKTtsZXQgcj1udWxsO3RyeXtyPWUuY3JlYXRlRW5jb2RlZFN0cmVhbXMoKX1jYXRjaChlKXtyZXR1cm4gdm9pZCBReS5lcnJvcihcImNyZWF0ZSB2aWRlby1lbmNvZGVkLXN0cmVhbXMgZXJyb3JcIixlJiZlLm1lc3NhZ2UpfWxldCBvPVtdO3Qub24oXCJzZWktdG8tc2VuZFwiLChlPT57by5wdXNoKGUpfSkpO2NvbnN0IHM9bmV3IFRyYW5zZm9ybVN0cmVhbSh7dHJhbnNmb3JtKHQscil7aS5jb250cm9sbGVyfHwoaS5jb250cm9sbGVyPXIpLGUudHJhY2smJmUudHJhY2suaWQhPT1pLnRyYWNrLmlkJiYoUXkuZGVidWcoXCJ2aWRlbyB0cmFjayBjaGFuZ2VkOiBcIi5jb25jYXQoaS50cmFjay5pZCxcIiA9PiBcIikuY29uY2F0KGUudHJhY2suaWQpKSxpLnRyYWNrLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJlbmRlZFwiLG4pLGkudHJhY2s9ZS50cmFjayxpLnRyYWNrLmFkZEV2ZW50TGlzdGVuZXIoXCJlbmRlZFwiLG4pKTtjb25zdCBzPW8uc2hpZnQoKTtzJiYodC5kYXRhPWZ1bmN0aW9uKGUsdCl7Y29uc3QgaT1mdW5jdGlvbihlKXtjb25zdCB0PWUubGVuZ3RoO2xldCBpPVtdLG49MDtmb3IoO248dDspbisyPHQmJjA9PT1lW25dJiYwPT09ZVtuKzFdJiYoMD09PWVbbisyXXx8MT09PWVbbisyXXx8Mj09PWVbbisyXXx8Mz09PWVbbisyXSk/KGkucHVzaChlW25dLGVbbisxXSwzLGVbbisyXSksbis9Myk6KGkucHVzaChlW25dKSxuKyspO3JldHVybiBuZXcgVWludDhBcnJheShpKX0odCksbj1pLmxlbmd0aCxyPU1hdGguZmxvb3Iobi8yNTUpLG89biUyNTUscz1uZXcgVWludDhBcnJheSg2K3IrMStuK2UuYnl0ZUxlbmd0aCk7c1swXT0wLHNbMV09MCxzWzJdPTAsc1szXT0xLHNbNF09NixzWzVdPTEwMTtsZXQgYT0wO2Zvcig7YTxyOylzWzYrYV09MjU1LGErKztyZXR1cm4gc1s2K2FdPW8sYSsrLHMuc2V0KGksNithKSxzLnNldChuZXcgVWludDhBcnJheShlKSw2K2Erbikscy5idWZmZXJ9KHQuZGF0YSxzKSksci5lbnF1ZXVlKHQpfX0pO3IucmVhZGFibGUucGlwZVRocm91Z2gocykucGlwZVRvKHIud3JpdGFibGUpfWVsc2V7aWYoIVBJKCkpcmV0dXJuO3tpZihcInVuZGVmaW5lZFwiPT10eXBlb2YgUlRDUnRwU2NyaXB0VHJhbnNmb3JtKXJldHVybiB2b2lkIFF5Lndhcm5pbmcoXCJicm93c2VyIG5vdCBzdXBwb3J0IFJUQ1J0cFNjcmlwdFRyYW5zZm9ybVwiKTtjb25zdCByPWhNKCksbz1uZXcgTWVzc2FnZUNoYW5uZWw7YXdhaXQgbmV3IEdoKChlPT5yLm9ubWVzc2FnZT10PT57XCJyZWdpc3RlcmVkXCI9PT10LmRhdGEmJmUodm9pZCAwKX0pKTtjb25zdCBzPW5ldyBSVENSdHBTY3JpcHRUcmFuc2Zvcm0ocix7bmFtZTpcInR4XCIscG9ydDpvLnBvcnQyfSxbby5wb3J0Ml0pO2UudHJhbnNmb3JtPXMsYXdhaXQgbmV3IEdoKChlPT5yLm9ubWVzc2FnZT10PT57XCJzdGFydGVkXCI9PT10LmRhdGEmJmUodm9pZCAwKX0pKSx0Lm9uKFwic2VpLXRvLXNlbmRcIiwoZT0+e28ucG9ydDEucG9zdE1lc3NhZ2Uoe3NlaTplfSl9KSksby5wb3J0MS5vbm1lc3NhZ2U9dD0+e3ZhciByO3QuZGF0YS50cmFuc2Zvcm1lZCYmZS50cmFjayYmKG51bGw9PT0ocj1lLnRyYWNrKXx8dm9pZCAwPT09cj92b2lkIDA6ci5pZCkhPT1pLnRyYWNrLmlkJiYoUXkuZGVidWcoXCJ2aWRlbyB0cmFjayBjaGFuZ2VkOiBcIi5jb25jYXQoaS50cmFjay5pZCxcIiA9PiBcIikuY29uY2F0KGUudHJhY2suaWQpKSxpLnRyYWNrLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJlbmRlZFwiLG4pLGkudHJhY2s9ZS50cmFjayxpLnRyYWNrLmFkZEV2ZW50TGlzdGVuZXIoXCJlbmRlZFwiLG4pKX0saS53b3JrZXI9cn19ZnVuY3Rpb24gbigpe2lmKGUudHJhY2spe2lmKHRoaXMuaWQhPT1lLnRyYWNrLmlkKXJldHVybjtlLnRyYWNrLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJlbmRlZFwiLG4pfWNvbnN0IHQ9bU0uZ2V0KGUpO2lmKHQpe21NLmRlbGV0ZShlKTt0cnl7dmFyIGkscjtudWxsPT09KGk9dC5jb250cm9sbGVyKXx8dm9pZCAwPT09aXx8aS50ZXJtaW5hdGUoKSxudWxsPT09KHI9dC53b3JrZXIpfHx2b2lkIDA9PT1yfHxyLnRlcm1pbmF0ZSgpfWNhdGNoKGUpe1F5Lndhcm5pbmcoZSYmZS5tZXNzYWdlKX19fW1NLnNldChlLGkpLGUudHJhY2suYWRkRXZlbnRMaXN0ZW5lcihcImVuZGVkXCIsbil9Y29uc3QgVE09bmV3IE1hcDshZnVuY3Rpb24oKXtjb25zdCBlPUFJKCk7a0QuZ2V0RGlzcGxheU1lZGlhPSEoIW5hdmlnYXRvci5tZWRpYURldmljZXN8fCFuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldERpc3BsYXlNZWRpYSksa0QuZ2V0U3RyZWFtRnJvbUV4dGVuc2lvbj1lLm5hbWU9PT1DSS5DSFJPTUUmJk51bWJlcihlLnZlcnNpb24pPjM0LGtELnN1cHBvcnRVbmlmaWVkUGxhbj1mdW5jdGlvbigpe2lmKCF3aW5kb3cuUlRDUnRwVHJhbnNjZWl2ZXIpcmV0dXJuITE7aWYoIShcImN1cnJlbnREaXJlY3Rpb25cImluIFJUQ1J0cFRyYW5zY2VpdmVyLnByb3RvdHlwZSkpcmV0dXJuITE7Y29uc3QgZT1uZXcgUlRDUGVlckNvbm5lY3Rpb247bGV0IHQ9ITE7dHJ5e2UuYWRkVHJhbnNjZWl2ZXIoXCJhdWRpb1wiKSx0PSEwfWNhdGNoKGUpe31yZXR1cm4gZS5jbG9zZSgpLHR9KCksa0Quc3VwcG9ydE1pbkJpdHJhdGU9ZS5uYW1lPT09Q0kuQ0hST01FfHxlLm5hbWU9PT1DSS5FREdFLGtELnN1cHBvcnRTZXRSdHBTZW5kZXJQYXJhbWV0ZXJzPWZ1bmN0aW9uKCl7Y29uc3QgZT1BSSgpO3JldHVybiEhKHdpbmRvdy5SVENSdHBTZW5kZXImJndpbmRvdy5SVENSdHBTZW5kZXIucHJvdG90eXBlLnNldFBhcmFtZXRlcnMmJndpbmRvdy5SVENSdHBTZW5kZXIucHJvdG90eXBlLmdldFBhcmFtZXRlcnMpJiYoISFRSSgpfHwhKCFQSSgpJiYhTkkoKSl8fGUubmFtZT09PUNJLkZJUkVGT1gmJk51bWJlcihlLnZlcnNpb24pPj02NCl9KCksZS5uYW1lPT09Q0kuU0FGQVJJJiYoTnVtYmVyKGUudmVyc2lvbik+PTE0P2tELnN1cHBvcnREdWFsU3RyZWFtPSEwOmtELnN1cHBvcnREdWFsU3RyZWFtPSExKSxrRC53ZWJBdWRpb01lZGlhU3RyZWFtRGVzdD1mdW5jdGlvbigpe2NvbnN0IGU9QUkoKTtyZXR1cm4hKGUubmFtZT09PUNJLlNBRkFSSSYmTnVtYmVyKGUudmVyc2lvbik8MTIpfSgpLGtELnN1cHBvcnRSZXBsYWNlVHJhY2s9ISF3aW5kb3cuUlRDUnRwU2VuZGVyJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBSVENSdHBTZW5kZXIucHJvdG90eXBlLnJlcGxhY2VUcmFjayxrRC5zdXBwb3J0V2ViR0w9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFdlYkdMUmVuZGVyaW5nQ29udGV4dCxrRC5zdXBwb3J0UmVxdWVzdEZyYW1lPSEhd2luZG93LkNhbnZhc0NhcHR1cmVNZWRpYVN0cmVhbVRyYWNrLFFJKCl8fChrRC53ZWJBdWRpb1dpdGhBRUM9ITApLGtELnN1cHBvcnRTaGFyZUF1ZGlvPWZ1bmN0aW9uKCl7Y29uc3QgZT1BSSgpO3JldHVybihlLm9zPT09UkkuV0lOXzEwfHxlLm9zPT09UkkuV0lOXzgxfHxlLm9zPT09UkkuV0lOXzd8fGUub3M9PT1SSS5MSU5VWHx8ZS5vcz09PVJJLk1BQ19PU3x8ZS5vcz09PVJJLkNIUk9NSVVNX09TKSYmZS5uYW1lPT09Q0kuQ0hST01FJiZOdW1iZXIoZS52ZXJzaW9uKT49NzR9KCksa0Quc3VwcG9ydERhdGFDaGFubmVsPSEhKFVJKDc2KXx8ZnVuY3Rpb24oZSl7Y29uc3QgdD1BSSgpO3JldHVybiEodC5uYW1lIT09Q0kuRklSRUZPWHx8IXQub3NWZXJzaW9uKSYmTnVtYmVyKHQudmVyc2lvbik+PWV9KDY4KXx8RkkoMTQpKSxrRC5zdXBwb3J0UENTZXRDb25maWd1cmF0aW9uPWZ1bmN0aW9uKCl7Y29uc3QgZT13aW5kb3cuUlRDUGVlckNvbm5lY3Rpb247cmV0dXJuIWtJKCkmJiEhZSYmZS5wcm90b3R5cGUuc2V0Q29uZmlndXJhdGlvbiBpbnN0YW5jZW9mIEZ1bmN0aW9ufSgpLGtELnN1cHBvcnRXZWJSVENFbmNvZGVkVHJhbnNmb3JtPWZ1bmN0aW9uKCl7Y29uc3QgZT1BSSgpO3JldHVyblwiQ2hyb21lXCI9PT1lLm5hbWUmJk51bWJlcihlLnZlcnNpb24pPj04Nnx8XCJTYWZhcmlcIj09PWUubmFtZSYmTnVtYmVyKGUudmVyc2lvbik+PTE1fSgpLGtELnN1cHBvcnRXZWJSVENJbnNlcnRhYmxlU3RyZWFtPWZ1bmN0aW9uKCl7Y29uc3QgZT1BSSgpO3JldHVybihlLm5hbWU9PT1DSS5DSFJPTUV8fGUubmFtZT09PUNJLkVER0UpJiZOdW1iZXIoZS52ZXJzaW9uKT49OTQmJlwiTWVkaWFTdHJlYW1UcmFja0dlbmVyYXRvclwiaW4gd2luZG93JiZcIk1lZGlhU3RyZWFtVHJhY2tQcm9jZXNzb3JcImluIHdpbmRvd30oKSxrRC5zdXBwb3J0UmVxdWVzdFZpZGVvRnJhbWVDYWxsYmFjaz1cInJlcXVlc3RWaWRlb0ZyYW1lQ2FsbGJhY2tcImluIEhUTUxWaWRlb0VsZW1lbnQucHJvdG90eXBlLGtELnN1cHBvcnRXZWJDcnlwdG89XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdyYmdm9pZCAwIT09d2luZG93LmNyeXB0byYmdm9pZCAwIT09d2luZG93LmNyeXB0by5zdWJ0bGUsanYoKCgpPT57a0Quc3VwcG9ydER1YWxTdHJlYW1FbmNvZGluZz1mdW5jdGlvbigpe2NvbnN0IGU9QUkoKTtyZXR1cm4hIUR5KFwiRElTQUJMRV9XRUJBVURJT1wiKXx8KFwiU2FmYXJpXCI9PT1lLm5hbWUmJk51bWJlcihlLnZlcnNpb24pPj0xNHx8ISEoXCJDaHJvbWVcIj09PWUubmFtZSYmL1dpbmRvd3MvaS50ZXN0KGUub3N8fFwiXCIpJiZOdW1iZXIoZS52ZXJzaW9uKT49MTAwJiZEeShcIkNIUk9NRV9EVUFMX1NUUkVBTV9VU0VfRU5DT0RJTkdcIikpKX0oKSxReS5pbmZvKFwiYnJvd3NlciBjb21wYXRpYmlsaXR5XCIsSlNPTi5zdHJpbmdpZnkoa0QpLEpTT04uc3RyaW5naWZ5KGUpKX0pKX0oKTtjbGFzcyBTTSBleHRlbmRzIFN2e2NvbnN0cnVjdG9yKGUsdCl7c3VwZXIoKSxvZyh0aGlzLFwic2lnbmFsXCIsdm9pZCAwKSxvZyh0aGlzLFwidG9rZW5cIix2b2lkIDApLG9nKHRoaXMsXCJ0b2tlblRpbWVvdXRcIix2b2lkIDApLG9nKHRoaXMsXCJ0b2tlbkludGVydmFsXCIsdm9pZCAwKSxvZyh0aGlzLFwiX3NlcXVlbmNlXCIsMCksb2codGhpcyxcInVzZXJNYXBcIixuZXcgTWFwKSxvZyh0aGlzLFwiZW5jb2RlclwiLG5ldyBUZXh0RW5jb2RlciksdGhpcy5zaWduYWw9ZSx0aGlzLnRva2VuPXQ7Y29uc3QgaT0oKT0+e3RoaXMuc2lnbmFsLmNvbm5lY3Rpb25TdGF0ZT09PWhiLkNPTk5FQ1RFRCYmdGhpcy5jaGVjaygpLDA9PT10aGlzLnVzZXJNYXAuc2l6ZT90aGlzLnRva2VuSW50ZXJ2YWw9d2luZG93LnNldFRpbWVvdXQoaSwxZTMpOnRoaXMudG9rZW5JbnRlcnZhbD13aW5kb3cuc2V0VGltZW91dChpLDMqRHkoXCJQMlBfVE9LRU5fSU5URVJWQUxcIikpfTtpKCl9YXN5bmMgc2VuZChlLHQsaSxuLHIpe3ZhciBvLHMsYTtpZigwPT09dGhpcy51c2VyTWFwLnNpemUpcmV0dXJuO2NvbnN0IGM9QXJyYXkuZnJvbShRdyhvPXRoaXMudXNlck1hcCkuY2FsbChvKSlbMF0udG9rZW47XCJzdHJpbmdcIiE9dHlwZW9mIHQmJih0PUpTT04uc3RyaW5naWZ5KHQpKSxuPW51bGwhPT0ocz1uKSYmdm9pZCAwIT09cz9zOmV5KDYsXCJcIikscj1udWxsIT09KGE9cikmJnZvaWQgMCE9PWE/YTp0aGlzLl9zZXF1ZW5jZSsrO2NvbnN0IGQ9e19pZDpuLF90eXBlOmUsX3NlcTpyLF9tZXNzYWdlOnQsdG9rZW46XCJcIi5jb25jYXQodGhpcy50b2tlbixcIl9cIikuY29uY2F0KGMpfTtEeShcIlNIT1dfUDJQX0xPR1wiKSYmUXkuZGVidWcoXCJzZW5kIG1lc3NhZ2VcIixkLFwibm9OZWVkUmVzcG9uc2UgOiBcIi5jb25jYXQoaSkpO3RoaXMuc3BsaXRNZXNzYWdlKEpTT04uc3RyaW5naWZ5KGQpKS5mb3JFYWNoKChlPT57dGhpcy5zaWduYWwucmVxdWVzdChfYi5EQVRBX1NUUkVBTSx7cGF5bG9hZDpxdih0aGlzLmVuY29kZXIuZW5jb2RlKGUpKX0pfSkpO2NvbnN0IGw9bmV3IEdoKCgodCxyKT0+e2NvbnN0IG89d2luZG93LnNldFRpbWVvdXQoKCgpPT57dGhpcy5vZmYoXCJyZXMtQFwiLmNvbmNhdChuLFwiX2Fja1wiKSxzKSx0aGlzLm9mZihcInJlcy1AXCIuY29uY2F0KG4pLGMpLHRoaXMub2ZmKGF3LkFCT1JULGEpLFF5LmRlYnVnKFwiW2V4dGVybmFsLXNpZ25hbF0gcmVxdWVzdCB0aW1lb3V0LCB0eXBlOiBcIi5jb25jYXQoZSxcIiwgcmVxdWVzdElkOiBcIikuY29uY2F0KG4pKSwwPT09dGhpcy51c2VyTWFwLnNpemU/cihuZXcgcnYobnYuSU5WQUxJRF9SRU1PVEVfVVNFUikpOnIobmV3IHJ2KG52LlRJTUVPVVQpKX0pLER5KFwiRVhURVJOQUxfU0lHTkFMX1JFUVVFU1RfVElNRU9VVFwiKSkscz0oKT0+e28mJndpbmRvdy5jbGVhclRpbWVvdXQobyksdGhpcy5vZmYoYXcuQUJPUlQsYSksaSYmdCgpfSxhPSgpPT57byYmd2luZG93LmNsZWFyVGltZW91dChvKSx0aGlzLm9mZihcInJlcy1AXCIuY29uY2F0KG4sXCJfYWNrXCIpLHMpLHRoaXMub2ZmKFwicmVzLUBcIi5jb25jYXQobiksYykscihuZXcgcnYobnYuRVhURVJOQUxfU0lHTkFMX0FCT1JULFwidHlwZTogXCIuY29uY2F0KGUsXCIsIHJlcXVlc3RJZDogXCIpLmNvbmNhdChuKSkpfTt0aGlzLm9uY2UoYXcuQUJPUlQsYSksdGhpcy5vbmNlKFwicmVzLUBcIi5jb25jYXQobixcIl9hY2tcIikscyk7Y29uc3QgYz0oaSxjKT0+e2w9ITAsbyYmd2luZG93LmNsZWFyVGltZW91dChvKSx0aGlzLm9mZihcInJlcy1AXCIuY29uY2F0KG4sXCJfYWNrXCIpLHMpLHRoaXMub2ZmKGF3LkFCT1JULGEpLFwic3VjY2Vzc1wiPT09aT90KGMpOnIobmV3IHJ2KG52LlAyUF9NRVNTQUdFX0ZBSUxFRCxcInJlcXVlc3QgXCIuY29uY2F0KGUsXCIgZmFpbGVkLCByZXF1ZXN0SWQ6IFwiKS5jb25jYXQobikpKX07bGV0IGw9ITE7aXx8KHRoaXMub25jZShcInJlcy1AXCIuY29uY2F0KG4pLGMpLCR2KER5KFwiU0lHTkFMX1JFUVVFU1RfVElNRU9VVFwiKSkudGhlbigoKCk9PntsfHxReS53YXJuaW5nKFwiZXh0ZXJuYWxfc2lnbmFsIHJlcXVlc3QgdGltZW91dCwgdHlwZTogXCIuY29uY2F0KGUsXCIsIHJlcXVlc3RJZDogXCIpLmNvbmNhdChuLFwiLCBcIikuY29uY2F0KGQpKX0pKSl9KSk7dHJ5e3JldHVybiBhd2FpdCBsfWNhdGNoKG8pe2lmKG8uY29kZT09PW52LlRJTUVPVVQpcmV0dXJuIGF3YWl0IHRoaXMuc2VuZChlLHQsaSxuLHIpO3Rocm93IG99fW9uTWVzc2FnZShlKXt2YXIgdDtjb25zdHtfdWlkOml9PWU7bGV0IG4scj10aGlzLnVzZXJNYXAuZ2V0KGkpO2lmKHIpbj1yLnNwbGl0TWVzc2FnZU1hcDtlbHNle2lmKHRoaXMudXNlck1hcC5zaXplPjB8fCEoXCJfdHlwZVwiaW4gZSl8fGUuX3R5cGUhPT1zdy5DSEVDSylyZXR1cm47Y29uc3R7dG9rZW46dH09ZTtuPW5ldyBNYXAscj17dWlkOmksaXNTdGFydDohMCx0b2tlbjp0LHNwbGl0TWVzc2FnZU1hcDpuLG5leHRFeHBlY3RlZFNlcXVlbmNlTnVtYmVyOjAscmVjZWl2ZWRNZXNzYWdlc01hcDpuZXcgTWFwfSx0aGlzLnVzZXJNYXAuc2V0KGksciksdGhpcy5zaWduYWwuZW1pdChtYi5PTl9VU0VSX09OTElORSx7dWlkOml9KSx0aGlzLmhhbmRsZVVzZXJPbmxpbmUoKX1pZihcImlkXCJpbiBlJiZcInRvdGFsXCJpbiBlKXt2YXIgbztjb25zdHtpZDp0LHRvdGFsOnJ9PWUscz1udWxsIT09KG89bi5nZXQodCkpJiZ2b2lkIDAhPT1vP286W107aWYocy5wdXNoKGUpLG4uaGFzKHQpfHxuLnNldCh0LHMpLHMubGVuZ3RoIT09cilyZXR1cm47e2NvbnN0IHI9YUUocykuY2FsbChzLCgoZSx0KT0+ZS5pbmRleC10LmluZGV4KSkubWFwKChlPT5lLnBheWxvYWQpKS5qb2luKFwiXCIpO24uZGVsZXRlKHQpLChlPUpTT04ucGFyc2UocikpLl91aWQ9aX19Y29uc3R7X3R5cGU6cyx0b2tlbjphfT1lO2lmKERuKHQ9W3N3LkFDSyxzdy5DSEVDS10pLmNhbGwodCxzKSlyZXR1cm4gcz09PXN3LkNIRUNLJiZ0aGlzLmhhbmRsZUNoZWNrVG9rZW4ocixhKSx2b2lkIHRoaXMucmVjZWl2ZU1lc3NhZ2UoZSk7YT09PVwiXCIuY29uY2F0KHIudG9rZW4sXCJfXCIpLmNvbmNhdCh0aGlzLnRva2VuKT90aGlzLmhhbmRsZVJlY2VpdmVkTWVzc2FnZShlKTpReS5kZWJ1ZygnUmVjZWl2ZSB1bmV4cGVjdGVkIG1lc3NhZ2VcIiwgJy5jb25jYXQoYSxcIiwgY3VyX3Rva2VuOiBcIikuY29uY2F0KHIudG9rZW4sXCJfXCIpLmNvbmNhdCh0aGlzLnRva2VuKSxlKX1jaGVjaygpe2NvbnN0IGU9e19pZDpleSg2LFwiXCIpLHRva2VuOnRoaXMudG9rZW4sX3R5cGU6c3cuQ0hFQ0t9O0R5KFwiU0hPV19QMlBfTE9HXCIpJiZReS5kZWJ1ZyhcInNlbmQgbWVzc2FnZVwiLGUpLHRoaXMuc2lnbmFsLnJlcXVlc3QoX2IuREFUQV9TVFJFQU0se3BheWxvYWQ6cXYodGhpcy5lbmNvZGVyLmVuY29kZShKU09OLnN0cmluZ2lmeShlKSkpfSl9YWNrKGUpe2NvbnN0IHQ9e19pZDplLF90eXBlOnN3LkFDSyx0b2tlbjp0aGlzLnRva2VufTtEeShcIlNIT1dfUDJQX0xPR1wiKSYmUXkuZGVidWcoXCJzZW5kIG1lc3NhZ2VcIix0KSx0aGlzLnNpZ25hbC5yZXF1ZXN0KF9iLkRBVEFfU1RSRUFNLHtwYXlsb2FkOnF2KHRoaXMuZW5jb2Rlci5lbmNvZGUoSlNPTi5zdHJpbmdpZnkodCkpKX0pfXJlc3BvbnNlKGUsdCxpKXt0aGlzLnNlbmQoc3cuUkVTUE9OU0UsSlNPTi5zdHJpbmdpZnkoe3N1Y2Nlc3M6IWksbWVzc2FnZTp0fSksITAsZSl9aGFuZGxlUmVjZWl2ZWRNZXNzYWdlKGUpe2NvbnN0IHQ9KCk9Pnt0aGlzLnVzZXJNYXAuZm9yRWFjaCgoZT0+e2NvbnN0e3JlY2VpdmVkTWVzc2FnZXNNYXA6dCxuZXh0RXhwZWN0ZWRTZXF1ZW5jZU51bWJlcjppfT1lO2Zvcig7dC5oYXMoaSk7KXtjb25zdCBuPXQuZ2V0KGkpO3QuZGVsZXRlKGkpLHRoaXMucmVjZWl2ZU1lc3NhZ2UobiksZS5uZXh0RXhwZWN0ZWRTZXF1ZW5jZU51bWJlcisrfX0pKX07aWYoIWUpcmV0dXJuIHZvaWQgdCgpO2NvbnN0e191aWQ6aSxfc2VxOm59PWUscj10aGlzLnVzZXJNYXAuZ2V0KGkpLHtyZWNlaXZlZE1lc3NhZ2VzTWFwOm8saXNTdGFydDpzLG5leHRFeHBlY3RlZFNlcXVlbmNlTnVtYmVyOmF9PXI7aWYobjxhKXJldHVybiB0aGlzLmFjayhlLl9pZCksdm9pZCBReS5kZWJ1ZyhcIltleHRlcm5hbC1zaWduYWxdIHJlY2VpdmUgb2xkIG1lc3NhZ2UsIHNlcTogXCIuY29uY2F0KG4sXCIsIFwiKS5jb25jYXQoZS5fbWVzc2FnZSkpO28uc2V0KG4sZSkscyYmbj09PWEmJih0aGlzLnJlY2VpdmVNZXNzYWdlKGUpLG8uZGVsZXRlKGEpLHIubmV4dEV4cGVjdGVkU2VxdWVuY2VOdW1iZXIrKyx0KCkpfXJlY2VpdmVNZXNzYWdlKGUpe2NvbnN0e19pZDp0LF90eXBlOmksX21lc3NhZ2U6bixfdWlkOnJ9PWU7aWYoRHkoXCJTSE9XX1AyUF9MT0dcIikmJlF5LmRlYnVnKFwicmVjZWl2ZSBtZXNzYWdlXCIsZSksdCl7bGV0IG87c3dpdGNoKGUuX3R5cGUhPT1zdy5BQ0smJihuJiYobz1KU09OLnBhcnNlKG4pKSx0aGlzLmFjayhlLl9pZCkpLGUuX3R5cGUpe2Nhc2Ugc3cuQ0FORElEQVRFOmNhc2Ugc3cuQ09OVFJPTDp0aGlzLnNpZ25hbC5lbWl0KGksbyxyKTticmVhaztjYXNlIHN3LlBVQkxJU0g6Y2FzZSBzdy5VTlBVQkxJU0g6Y2FzZSBzdy5SRVNUQVJUX0lDRTpjYXNlIHN3LkNBTEw6by51aWQ9cixrdih0aGlzLnNpZ25hbCxpLG8pLnRoZW4oKHQ9Pnt0aGlzLnJlc3BvbnNlKGUuX2lkLHQpfSkpLmNhdGNoKCgoKT0+e3RoaXMucmVzcG9uc2UoZS5faWQsdm9pZCAwLCEwKX0pKTticmVhaztjYXNlIHN3LkFDSzp0aGlzLmdldExpc3RlbmVycyhcInJlcy1AXCIuY29uY2F0KHQsXCJfYWNrXCIpKS5sZW5ndGg+MCYmdGhpcy5lbWl0KFwicmVzLUBcIi5jb25jYXQodCxcIl9hY2tcIikpO2JyZWFrO2Nhc2Ugc3cuUkVTUE9OU0U6e2NvbnN0e3N1Y2Nlc3M6ZSxtZXNzYWdlOml9PW87dGhpcy5lbWl0KFwicmVzLUBcIi5jb25jYXQodCksZT9cInN1Y2Nlc3NcIjpcImZhaWxlZFwiLGkpO2JyZWFrfX19fXNwbGl0TWVzc2FnZShlKXtpZihlLmxlbmd0aDxTTS5NQVhfTUVTU0FHRV9TSVpFKXJldHVybltlXTtjb25zdCB0PVtdLHtyZW1vdGVUb2tlbjppfT1KU09OLnBhcnNlKGUpLG49ZXkoNixcIlwiKTtsZXQgcj0wLG89ODAwO2NvbnN0IHM9TWF0aC5jZWlsKGUubGVuZ3RoL28pO2Zvcig7ZS5sZW5ndGg+MDspe3IrKztjb25zdCBhPXtpZDpuLGluZGV4OnIsdG90YWw6cyxwYXlsb2FkOmUuc2xpY2UoMCxvKSx0b2tlbjpcIlwiLmNvbmNhdCh0aGlzLnRva2VuLFwiX1wiKS5jb25jYXQoaSl9O0pTT04uc3RyaW5naWZ5KGEpLmxlbmd0aD5TTS5NQVhfTUVTU0FHRV9TSVpFP28tPTUwOih0LnB1c2goYSksZT1lLnNsaWNlKG8pKX1yZXR1cm4gdC5tYXAoKGU9PkpTT04uc3RyaW5naWZ5KGUpKSl9aGFuZGxlQ2hlY2tUb2tlbihlLHQpe3JldHVybiBlLnRva2VuIT09dD8oUXkuZGVidWcoXCJ0b2tlbiBjaGFuZ2VkLCBmcm9tIFwiLmNvbmNhdChlLnRva2VuLFwiIHRvIFwiKS5jb25jYXQodCkpLHRoaXMucmVzZXQoZS51aWQsdCksITEpOih0aGlzLnRva2VuVGltZW91dCYmKHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy50b2tlblRpbWVvdXQpLHRoaXMudG9rZW5UaW1lb3V0PXZvaWQgMCksdGhpcy50b2tlblRpbWVvdXQ9d2luZG93LnNldFRpbWVvdXQoKCgpPT57UXkuZGVidWcoXCJ0b2tlbiB0aW1lb3V0LCBcIi5jb25jYXQodCkpLHRoaXMucmVzZXQoZS51aWQpfSksRHkoXCJNQVhfUDJQX1RJTUVPVVRcIikpLCEwKX1hc3luYyBoYW5kbGVVc2VyT25saW5lKCl7Y29uc3QgZT1hd2FpdCBrdih0aGlzLnNpZ25hbCxzdy5DQUxMLHZvaWQgMCksdD1hd2FpdCB0aGlzLnNlbmQoc3cuQ0FMTCxlKTt0aGlzLnNpZ25hbC5lbWl0KHBiLlAyUF9DT05ORUNUSU9OLHQsITApfWFzeW5jIHJlc2V0KGUsdCl7Y29uc3QgaT10aGlzLnVzZXJNYXAuZ2V0KGUpO2kmJih0aGlzLmVtaXQoYXcuQUJPUlQpLHRoaXMuc2lnbmFsLmVtaXQobWIuT05fVVNFUl9PRkZMSU5FLHt1aWQ6aS51aWQscmVhc29uOmR3LlAyUF9UT0tFTl9DSEFOR0VEfSksdGhpcy5fc2VxdWVuY2U9MCx0aGlzLnVzZXJNYXAuY2xlYXIoKSx0fHwoUXkuZGVidWcoXCJjaGFuZ2UgbG9jYWwgdG9rZW4gZnJvbSBcIi5jb25jYXQodCxcIiB0byBcIikuY29uY2F0KHQpKSx0aGlzLnRva2VuPWV5KDYsXCJcIikpKX1jbGVhcigpe3RoaXMuX3NlcXVlbmNlPTAsdGhpcy51c2VyTWFwLmNsZWFyKCksdGhpcy50b2tlbkludGVydmFsJiZ3aW5kb3cuY2xlYXJUaW1lb3V0KHRoaXMudG9rZW5JbnRlcnZhbCksdGhpcy50b2tlbkludGVydmFsPXZvaWQgMCx0aGlzLnRva2VuVGltZW91dCYmd2luZG93LmNsZWFyVGltZW91dCh0aGlzLnRva2VuVGltZW91dCksdGhpcy50b2tlblRpbWVvdXQ9dm9pZCAwLHRoaXMuZW1pdChhdy5BQk9SVCl9fW9nKFNNLFwiTUFYX1NJWkVcIiwxKSxvZyhTTSxcIk1BWF9NRVNTQUdFX1NJWkVcIiwxMDI0KTtjbGFzcyBnTSBleHRlbmRzIFN2e2dldCBjb25uZWN0aW9uU3RhdGUoKXtyZXR1cm4gdGhpcy5fY29ubmVjdGlvblN0YXRlfXNldCBjb25uZWN0aW9uU3RhdGUoZSl7ZSE9PXRoaXMuX2Nvbm5lY3Rpb25TdGF0ZSYmKHRoaXMuX2Nvbm5lY3Rpb25TdGF0ZT1lLGU9PT1oYi5DT05ORUNURUQ/dGhpcy5lbWl0KHBiLldTX0NPTk5FQ1RFRCk6ZT09PWhiLlJFQ09OTkVDVElORz90aGlzLmVtaXQocGIuV1NfUkVDT05ORUNUSU5HLHRoaXMuX3dlYnNvY2tldFJlY29ubmVjdFJlYXNvbik6ZT09PWhiLkNMT1NFRCYmdGhpcy5lbWl0KHBiLldTX0NMT1NFRCx0aGlzLl9kaXNjb25uZWN0ZWRSZWFzb24pKX1nZXQgY3VycmVudFVSTEluZGV4KCl7cmV0dXJuIHRoaXMud2Vic29ja2V0LmN1cnJlbnRVUkxJbmRleH1nZXQgdXJsKCl7cmV0dXJuIHRoaXMud2Vic29ja2V0JiZ0aGlzLndlYnNvY2tldC51cmx8fG51bGx9Z2V0IHJ0dCgpe3JldHVybiB0aGlzLnJ0dFJvbGxpbmcubWVhbigpfWNvbnN0cnVjdG9yKGUsdCl7c3VwZXIoKSxvZyh0aGlzLFwiX2Rpc2Nvbm5lY3RlZFJlYXNvblwiLHZvaWQgMCksb2codGhpcyxcIl93ZWJzb2NrZXRSZWNvbm5lY3RSZWFzb25cIix2b2lkIDApLG9nKHRoaXMsXCJfY29ubmVjdGlvblN0YXRlXCIsaGIuQ0xPU0VEKSxvZyh0aGlzLFwicmVjb25uZWN0VG9rZW5cIix2b2lkIDApLG9nKHRoaXMsXCJwMnBUb2tlblwiLHZvaWQgMCksb2codGhpcyxcIndlYnNvY2tldFwiLHZvaWQgMCksb2codGhpcyxcIm9wZW5Db25uZWN0aW9uVGltZVwiLHZvaWQgMCksb2codGhpcyxcImNsaWVudElkXCIsdm9pZCAwKSxvZyh0aGlzLFwibGFzdE1zZ1RpbWVcIixEYXRlLm5vdygpKSxvZyh0aGlzLFwidXBsb2FkQ2FjaGVcIixbXSksb2codGhpcyxcInVwbG9hZENhY2hlSW50ZXJ2YWxcIix2b2lkIDApLG9nKHRoaXMsXCJydHRSb2xsaW5nXCIsbmV3IGZ5KDUpKSxvZyh0aGlzLFwicGluZ3BvbmdUaW1lclwiLHZvaWQgMCksb2codGhpcyxcInBpbmdwb25nVGltZW91dENvdW50XCIsMCksb2codGhpcyxcImpvaW5SZXNwb25zZVwiLHZvaWQgMCksb2codGhpcyxcIm11bHRpSXBPcHRpb25cIix2b2lkIDApLG9nKHRoaXMsXCJpbml0RXJyb3JcIix2b2lkIDApLG9nKHRoaXMsXCJzcGVjXCIsdm9pZCAwKSxvZyh0aGlzLFwic3RvcmVcIix2b2lkIDApLG9nKHRoaXMsXCJfZXh0ZXJuYWxfc2lnbmFsXCIsdm9pZCAwKSxvZyh0aGlzLFwib25XZWJzb2NrZXRNZXNzYWdlXCIsKGU9PntpZihlLmRhdGEgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcilyZXR1cm4gdm9pZCB0aGlzLmVtaXQocGIuT05fQklOQVJZX0RBVEEsZS5kYXRhKTtjb25zdCB0PUpTT04ucGFyc2UoZS5kYXRhKTtpZih0aGlzLmxhc3RNc2dUaW1lPURhdGUubm93KCksT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsXCJfaWRcIikpe2NvbnN0IGU9XCJyZXMtQFwiLmNvbmNhdCh0Ll9pZCk7dGhpcy5lbWl0KGUsdC5fcmVzdWx0LHQuX21lc3NhZ2UpfWVsc2UgaWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHQsXCJfdHlwZVwiKSl7c3dpdGNoKHQuX3R5cGUpe2Nhc2UgbWIuT05fREFUQV9TVFJFQU06cmV0dXJuIHZvaWQgdGhpcy5oYW5kbGVEYXRhU3RyZWFtKHQuX21lc3NhZ2UpO2Nhc2UgbWIuTVVURV9BVURJTzpjYXNlIG1iLk1VVEVfVklERU86Y2FzZSBtYi5PTl9QMlBfTE9TVDpjYXNlIG1iLk9OX1VTRVJfT05MSU5FOnJldHVybjtjYXNlIG1iLk9OX1VTRVJfT0ZGTElORTpjb25zdHt1aWQ6ZX09dC5fbWVzc2FnZTtyZXR1cm4gUXkuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCJdIHVzZXItb2ZmbGluZSB1aWQ6IFwiKS5jb25jYXQoZSkpLHZvaWQgdGhpcy5fZXh0ZXJuYWxfc2lnbmFsLnJlc2V0KGUpfWlmKHRoaXMuZW1pdCh0Ll90eXBlLHQuX21lc3NhZ2UpLHQuX3R5cGU9PT1tYi5PTl9OT1RJRklDQVRJT04mJnRoaXMuaGFuZGxlTm90aWZpY2F0aW9uKHQuX21lc3NhZ2UpLHQuX3R5cGU9PT1tYi5PTl9VU0VSX0JBTk5FRClzd2l0Y2godC5fbWVzc2FnZS5lcnJvcl9jb2RlKXtjYXNlIDE0OnRoaXMuY2xvc2UoQXYuVUlEX0JBTk5FRCk7YnJlYWs7Y2FzZSAxNTp0aGlzLmNsb3NlKEF2LklQX0JBTk5FRCk7YnJlYWs7Y2FzZSAxNjp0aGlzLmNsb3NlKEF2LkNIQU5ORUxfQkFOTkVEKX1pZih0Ll90eXBlPT09bWIuT05fVVNFUl9MSUNFTlNFX0JBTk5FRClzd2l0Y2godC5fbWVzc2FnZS5lcnJvcl9jb2RlKXtjYXNlIHViLkVSUl9MSUNFTlNFX01JU1NJTkc6dGhpcy5jbG9zZShBdi5MSUNFTlNFX01JU1NJTkcpO2JyZWFrO2Nhc2UgdWIuRVJSX0xJQ0VOU0VfRVhQSVJFRDp0aGlzLmNsb3NlKEF2LkxJQ0VOU0VfRVhQSVJFRCk7YnJlYWs7Y2FzZSB1Yi5FUlJfTElDRU5TRV9NSU5VVEVTX0VYQ0VFREVEOnRoaXMuY2xvc2UoQXYuTElDRU5TRV9NSU5VVEVTX0VYQ0VFREVEKTticmVhaztjYXNlIHViLkVSUl9MSUNFTlNFX1BFUklPRF9JTlZBTElEOnRoaXMuY2xvc2UoQXYuTElDRU5TRV9QRVJJT0RfSU5WQUxJRCk7YnJlYWs7Y2FzZSB1Yi5FUlJfTElDRU5TRV9NVUxUSVBMRV9TREtfU0VSVklDRTp0aGlzLmNsb3NlKEF2LkxJQ0VOU0VfTVVMVElQTEVfU0RLX1NFUlZJQ0UpO2JyZWFrO2Nhc2UgdWIuRVJSX0xJQ0VOU0VfSUxMRUdBTDp0aGlzLmNsb3NlKEF2LkxJQ0VOU0VfSUxMRUdBTCk7YnJlYWs7ZGVmYXVsdDp0aGlzLmNsb3NlKCl9fX0pKSx0aGlzLmNsaWVudElkPWUuY2xpZW50SWQsdGhpcy5zcGVjPWUsdGhpcy5zdG9yZT10LHRoaXMud2Vic29ja2V0PW5ldyBBdyhcImdhdGV3YXktXCIuY29uY2F0KHRoaXMuY2xpZW50SWQpLHRoaXMuc3BlYy5yZXRyeUNvbmZpZywhMCxEeShcIkpPSU5fR0FURVdBWV9VU0VfRFVBTF9ET01BSU5cIiksRHkoXCJKT0lOX0dBVEVXQVlfVVNFXzQ0M1BPUlRfT05MWVwiKSx0KSx0aGlzLmhhbmRsZVdlYnNvY2tldEV2ZW50cygpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwib2ZmbGluZVwiLCgoKT0+e3RoaXMuY29ubmVjdGlvblN0YXRlPT09aGIuQ09OTkVDVEVEJiZ0aGlzLnJlY29ubmVjdChcInJldHJ5XCIsRHYuT0ZGTElORSl9KSksdGhpcy5wMnBUb2tlbj1leSg2LFwiXCIpLHRoaXMuX2V4dGVybmFsX3NpZ25hbD1uZXcgU00odGhpcyx0aGlzLnAycFRva2VuKX1hc3luYyByZXF1ZXN0KGUsdCxpLG4pe2NvbnN0IHI9ZXkoNixcIlwiKSxvPXtfaWQ6cixfdHlwZTplLF9tZXNzYWdlOnR9LHM9dGhpcy53ZWJzb2NrZXQuY29ubmVjdGlvbklELGE9KCk9Pm5ldyBHaCgoKGUsdCk9PntpZih0aGlzLmNvbm5lY3Rpb25TdGF0ZT09PWhiLkNPTk5FQ1RFRClyZXR1cm4gZSgpO2NvbnN0IGk9KCk9Pnt0aGlzLm9mZihwYi5XU19DTE9TRUQsbiksZSgpfSxuPSgpPT57dGhpcy5vZmYocGIuV1NfQ09OTkVDVEVELGkpLHQobmV3IHJ2KG52LldTX0FCT1JUKSl9O3RoaXMub25jZShwYi5XU19DT05ORUNURUQsaSksdGhpcy5vbmNlKHBiLldTX0NMT1NFRCxuKX0pKTtpZih0aGlzLmNvbm5lY3Rpb25TdGF0ZSE9PWhiLkNPTk5FQ1RJTkcmJnRoaXMuY29ubmVjdGlvblN0YXRlIT09aGIuUkVDT05ORUNUSU5HfHxlPT09X2IuSk9JTnx8ZT09PV9iLlJFSk9JTnx8YXdhaXQgYSgpLHRoaXMud2Vic29ja2V0LnNlbmRNZXNzYWdlKG8sITApLG4pcmV0dXJuO2NvbnN0IGM9bmV3IEdoKCgoaSxuKT0+e2xldCBvPSExO2NvbnN0IGE9KG4scik9PntvPSEwLGkoe2lzU3VjY2VzczpcInN1Y2Nlc3NcIj09PW4sbWVzc2FnZTpyfHx7fX0pLHRoaXMub2ZmKHBiLldTX0NMT1NFRCxjKSx0aGlzLm9mZihwYi5XU19SRUNPTk5FQ1RJTkcsYyksdGhpcy5lbWl0KHBiLlJFUVVFU1RfU1VDQ0VTUyxlLHQpfTt0aGlzLm9uY2UoXCJyZXMtQFwiLmNvbmNhdChyKSxhKTtjb25zdCBjPSgpPT57bihuZXcgcnYobnYuV1NfQUJPUlQsXCJ0eXBlOiBcIi5jb25jYXQoZSkpKSx0aGlzLm9mZihwYi5XU19DTE9TRUQsYyksdGhpcy5vZmYocGIuV1NfUkVDT05ORUNUSU5HLGMpLHRoaXMub2ZmKFwicmVzLUBcIi5jb25jYXQociksYSl9O3RoaXMub25jZShwYi5XU19DTE9TRUQsYyksdGhpcy5vbmNlKHBiLldTX1JFQ09OTkVDVElORyxjKSwkdihEeShcIlNJR05BTF9SRVFVRVNUX1RJTUVPVVRcIikpLnRoZW4oKCgpPT57dGhpcy53ZWJzb2NrZXQuY29ubmVjdGlvbklEIT09c3x8b3x8KFF5Lndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCJdIHdzIHJlcXVlc3QgdGltZW91dCwgdHlwZTogXCIpLmNvbmNhdChlKSksdGhpcy5lbWl0KHBiLlJFUVVFU1RfVElNRU9VVCxlLHQpKX0pKX0pKTtsZXQgZD1udWxsO3RyeXtkPWF3YWl0IGN9Y2F0Y2gobil7aWYodGhpcy5jb25uZWN0aW9uU3RhdGU9PT1oYi5DTE9TRUR8fGU9PT1fYi5MRUFWRSl0aHJvdyBuZXcgcnYobnYuV1NfQUJPUlQpO3JldHVybiF0aGlzLnNwZWMuZm9yY2VXYWl0R2F0ZXdheVJlc3BvbnNlfHxpP24udGhyb3coKTplPT09X2IuSk9JTnx8ZT09PV9iLlJFSk9JTj9udWxsOihhd2FpdCBhKCksYXdhaXQgdGhpcy5yZXF1ZXN0KGUsdCkpfWlmKGQuaXNTdWNjZXNzKXJldHVybiBkLm1lc3NhZ2U7Y29uc3QgbD1OdW1iZXIoZC5tZXNzYWdlLmVycm9yX2NvZGV8fGQubWVzc2FnZS5jb2RlKSx1PXB3KGwpLGg9bmV3IHJ2KG52LlVORVhQRUNURURfUkVTUE9OU0UsXCJcIi5jb25jYXQodS5kZXNjLFwiOiBcIikuY29uY2F0KGQubWVzc2FnZS5lcnJvcl9zdHIpLHtjb2RlOmwsZGF0YTpkLm1lc3NhZ2UsZGVzYzp1LmRlc2N9KTtyZXR1cm5cInN1Y2Nlc3NcIj09PXUuYWN0aW9uP2QubWVzc2FnZTooUXkud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIl0gW1wiKS5jb25jYXQodGhpcy53ZWJzb2NrZXQuY29ubmVjdGlvbklELFwiXSB1bmV4cGVjdGVkIHJlc3BvbnNlIGZyb20gdHlwZSBcIikuY29uY2F0KGUsXCIsIGVycm9yX2NvZGU6IFwiKS5jb25jYXQobCxcIiwgbWVzc2FnZTogXCIpLmNvbmNhdCh1LmRlc2MsXCIsIGFjdGlvbjogXCIpLmNvbmNhdCh1LmFjdGlvbikpLGw9PT11Yi5FUlJfVE9PX01BTllfQlJPQURDQVNURVJTP2U9PT1fYi5KT0lOfHxlPT09X2IuUkVKT0lOPyh0aGlzLmluaXRFcnJvcj1oLHRoaXMuY2xvc2UoKSxoLnRocm93KCkpOmgudGhyb3coKTpcImZhaWxlZFwiPT09dS5hY3Rpb24/aC50aHJvdygpOlwicXVpdFwiPT09dS5hY3Rpb24/KHRoaXMuaW5pdEVycm9yPWgsdGhpcy5jbG9zZSgpLGgudGhyb3coKSk6KGw9PT11Yi5FUlJfSk9JTl9CWV9NVUxUSV9JUD8odGhpcy5tdWx0aUlwT3B0aW9uPWQubWVzc2FnZS5vcHRpb24sUXkud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIl0gZGV0ZWN0IG11bHRpIGlwLCByZWNvdmVyXCIpKSx0aGlzLnJlY29ubmVjdChcInJlY292ZXJcIixEdi5NVUxUSV9JUCkpOnRoaXMucmVjb25uZWN0KHUuYWN0aW9uLER2LlNFUlZFUl9FUlJPUiksZT09PV9iLkpPSU58fGU9PT1fYi5SRUpPSU4/bnVsbDphd2FpdCB0aGlzLnJlcXVlc3QoZSx0KSkpfXdhaXRNZXNzYWdlKGUsdCl7cmV0dXJuIG5ldyBHaCgoaT0+e2NvbnN0IG49cj0+eyghdHx8dChyKSkmJih0aGlzLm9mZihlLG4pLGkocikpfTt0aGlzLm9uKGUsbil9KSl9dXBsb2FkV1JUQ1N0YXRzKGUpe2lmKCF0aGlzLnN0b3JlLnNlc3Npb25JZClyZXR1cm4gdm9pZCBReS53YXJuKFwiW1wiLmNvbmNhdCh0aGlzLmNsaWVudElkLFwiXSBubyBzZXNzaW9uIGlkIHdoZW4gdXBsb2FkIHdydGMgc3RhdHNcIikpO2NvbnN0IHQ9e2x0czpEYXRlLm5vdygpLHNpZDp0aGlzLnN0b3JlLnNlc3Npb25JZCx1aWQ6dGhpcy5zdG9yZS5pbnRVaWQsc3RhdHM6ZX07dGhpcy51cGxvYWQoRWIuV1JUQ19TVEFUUyx0KX11cGxvYWQoZSx0KXtjb25zdCBpPXtfdHlwZTplLF9tZXNzYWdlOnR9O3RyeXt0aGlzLndlYnNvY2tldC5zZW5kTWVzc2FnZShpKX1jYXRjaChlKXtjb25zdCB0PUR5KFwiTUFYX1VQTE9BRF9DQUNIRVwiKXx8NTA7dGhpcy51cGxvYWRDYWNoZS5wdXNoKGkpLHRoaXMudXBsb2FkQ2FjaGUubGVuZ3RoPnQmJnRoaXMudXBsb2FkQ2FjaGUuc3BsaWNlKDAsMSksdGhpcy51cGxvYWRDYWNoZS5sZW5ndGg+MCYmIXRoaXMudXBsb2FkQ2FjaGVJbnRlcnZhbCYmKHRoaXMudXBsb2FkQ2FjaGVJbnRlcnZhbD13aW5kb3cuc2V0SW50ZXJ2YWwoKCgpPT57aWYodGhpcy5jb25uZWN0aW9uU3RhdGUhPT1oYi5DT05ORUNURUQpcmV0dXJuO2NvbnN0IGU9dGhpcy51cGxvYWRDYWNoZS5zcGxpY2UoMCwxKVswXTswPT09dGhpcy51cGxvYWRDYWNoZS5sZW5ndGgmJih3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLnVwbG9hZENhY2hlSW50ZXJ2YWwpLHRoaXMudXBsb2FkQ2FjaGVJbnRlcnZhbD12b2lkIDApLHRoaXMudXBsb2FkKGUuX3R5cGUsZS5fbWVzc2FnZSl9KSxEeShcIlVQTE9BRF9DQUNIRV9JTlRFUlZBTFwiKXx8MmUzKSl9fXNlbmQoZSx0KXtjb25zdCBpPXtfdHlwZTplLF9tZXNzYWdlOnR9O3RoaXMud2Vic29ja2V0LnNlbmRNZXNzYWdlKGkpfWFzeW5jIHNlbmRFeHRlbnNpb25NZXNzYWdlKGUsdCxpKXtyZXR1cm4gYXdhaXQgdGhpcy5fZXh0ZXJuYWxfc2lnbmFsLnNlbmQoZSx0LGkpfWluaXQoZSl7cmV0dXJuIHRoaXMuaW5pdEVycm9yPXZvaWQgMCx0aGlzLm11bHRpSXBPcHRpb249dm9pZCAwLHRoaXMuam9pblJlc3BvbnNlPXZvaWQgMCx0aGlzLnJlY29ubmVjdFRva2VuPXZvaWQgMCx0aGlzLm9wZW5Db25uZWN0aW9uVGltZT12b2lkIDAsbmV3IEdoKCgodCxpKT0+e3RoaXMub25jZShwYi5XU19DT05ORUNURUQsKCgpPT50KHRoaXMuam9pblJlc3BvbnNlKSkpLHRoaXMub25jZShwYi5XU19DTE9TRUQsKCgpPT5pKHRoaXMuaW5pdEVycm9yfHxuZXcgcnYobnYuV1NfQUJPUlQpKSkpLHRoaXMuY29ubmVjdGlvblN0YXRlPWhiLkNPTk5FQ1RJTkcsdGhpcy53ZWJzb2NrZXQuaW5pdChlKS5jYXRjaChpKX0pKX1jbG9zZShlKXt0aGlzLnBpbmdwb25nVGltZXImJih0aGlzLnBpbmdwb25nVGltZW91dENvdW50PTAsd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5waW5ncG9uZ1RpbWVyKSx0aGlzLnBpbmdwb25nVGltZXI9dm9pZCAwKSx0aGlzLnJlY29ubmVjdFRva2VuPXZvaWQgMCx0aGlzLmpvaW5SZXNwb25zZT12b2lkIDAsdGhpcy5fZXh0ZXJuYWxfc2lnbmFsLmNsZWFyKCksdGhpcy5fZGlzY29ubmVjdGVkUmVhc29uPWV8fEF2LkxFQVZFLHRoaXMuY29ubmVjdGlvblN0YXRlPWhiLkNMT1NFRCxReS5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIl0gXCIpK1wid2lsbCBjbG9zZSB3ZWJzb2NrZXQgaW4gc2lnbmFsXCIpLHRoaXMud2Vic29ja2V0LmNsb3NlKCksdGhpcy5wMnBUb2tlbj1leSg2LFwiXCIpLHRoaXMuX2V4dGVybmFsX3NpZ25hbC5jbGVhcigpLHRoaXMuX2V4dGVybmFsX3NpZ25hbD1uZXcgU00odGhpcyx0aGlzLnAycFRva2VuKX1hc3luYyBqb2luKCl7aWYoIXRoaXMuam9pblJlc3BvbnNlKXt0aGlzLmVtaXQocGIuQUJPUlRfUDJQX0VYRUNVVElPTik7Y29uc3QgZT1hd2FpdCBrdih0aGlzLHBiLlJFUVVFU1RfSk9JTl9JTkZPKSx0PWF3YWl0IHRoaXMucmVxdWVzdChfYi5KT0lOLGUpO2lmKCF0KXJldHVybiB0aGlzLmVtaXQocGIuUkVQT1JUX0pPSU5fR0FURVdBWSxudi5USU1FT1VULHRoaXMudXJsfHxcIlwiKSwhMTt0aGlzLmpvaW5SZXNwb25zZT10LHRoaXMuZW1pdChwYi5KT0lOX1JFU1BPTlNFLHRoaXMuam9pblJlc3BvbnNlKSx0aGlzLnJlY29ubmVjdFRva2VuPXRoaXMuam9pblJlc3BvbnNlLnJlam9pbl90b2tlbn1yZXR1cm4gdGhpcy5jb25uZWN0aW9uU3RhdGU9aGIuQ09OTkVDVEVELHRoaXMucGluZ3BvbmdUaW1lciYmd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5waW5ncG9uZ1RpbWVyKSx0aGlzLnBpbmdwb25nVGltZXI9d2luZG93LnNldEludGVydmFsKHRoaXMuaGFuZGxlUGluZ1BvbmcuYmluZCh0aGlzKSwzZTMpLCEwfXJlY29ubmVjdChlLHQpe3RoaXMucGluZ3BvbmdUaW1lciYmKHRoaXMucGluZ3BvbmdUaW1lb3V0Q291bnQ9MCx3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLnBpbmdwb25nVGltZXIpLHRoaXMucGluZ3BvbmdUaW1lcj12b2lkIDApLHRoaXMud2Vic29ja2V0LnJlY29ubmVjdChlLHQpfWhhbmRsZURhdGFTdHJlYW0oZSl7dHJ5e3ZhciB0O2NvbnN0IGk9WXYoZS5wYXlsb2FkKSxuPShuZXcgVGV4dERlY29kZXIpLmRlY29kZShpKSxyPUpTT04ucGFyc2Uobik7XCJ0b3RhbFwiaW4gciYmXCJpZFwiaW4gcnx8RG4odD1PYmplY3QudmFsdWVzKHN3KSkuY2FsbCh0LHIuX3R5cGUpPyhyLl91aWQ9ZS51aWQsdGhpcy5fZXh0ZXJuYWxfc2lnbmFsLm9uTWVzc2FnZShyKSk6dGhpcy5lbWl0KG1iLk9OX0RBVEFfU1RSRUFNLGUpfWNhdGNoKHQpe3RoaXMuZW1pdChtYi5PTl9EQVRBX1NUUkVBTSxlKX19aGFuZGxlTm90aWZpY2F0aW9uKGUpe1F5LmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmNsaWVudElkLFwiXSByZWNlaXZlIG5vdGlmaWNhdGlvbjogXCIpLGUpO2NvbnN0IHQ9cHcoZS5jb2RlKTtpZihcInN1Y2Nlc3NcIiE9PXQuYWN0aW9uKXtpZihcImZhaWxlZFwiIT09dC5hY3Rpb24pcmV0dXJuXCJxdWl0XCI9PT10LmFjdGlvbj8oXCJFUlJfUkVQRUFUX0pPSU5fQ0hBTk5FTFwiPT09dC5kZXNjJiZ0aGlzLmNsb3NlKEF2LlVJRF9CQU5ORUQpLHZvaWQgdGhpcy5jbG9zZSgpKTp2b2lkIHRoaXMucmVjb25uZWN0KHQuYWN0aW9uLER2LlNFUlZFUl9FUlJPUik7UXkuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCJdIGlnbm9yZSBlcnJvcjogXCIpLHQuZGVzYyl9fWhhbmRsZVBpbmdQb25nKCl7aWYoIXRoaXMud2Vic29ja2V0fHxcImNvbm5lY3RlZFwiIT09dGhpcy53ZWJzb2NrZXQuc3RhdGUpcmV0dXJuO3RoaXMucGluZ3BvbmdUaW1lb3V0Q291bnQ+MCYmdGhpcy5ydHRSb2xsaW5nLmFkZCgzZTMpLHRoaXMucGluZ3BvbmdUaW1lb3V0Q291bnQrPTE7Y29uc3QgZT1EeShcIlBJTkdfUE9OR19USU1FX09VVFwiKSx0PURhdGUubm93KCk7dGhpcy5waW5ncG9uZ1RpbWVvdXRDb3VudD49ZSYmKFF5Lndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCJdIFBJTkdQT05HIFRpbWVvdXQuIExhc3QgU29ja2V0IE1lc3NhZ2U6IFwiKS5jb25jYXQodC10aGlzLmxhc3RNc2dUaW1lLFwibXNcIikpLHQtdGhpcy5sYXN0TXNnVGltZT5EeShcIldFQlNPQ0tFVF9USU1FT1VUX01JTlwiKSk/dGhpcy5yZWNvbm5lY3QoXCJyZXRyeVwiLER2LlRJTUVPVVQpOnRoaXMucmVxdWVzdChfYi5QSU5HLHZvaWQgMCwhMCkudGhlbigoKCk9Pnt0aGlzLnBpbmdwb25nVGltZW91dENvdW50PTA7Y29uc3QgZT1EYXRlLm5vdygpLXQ7dGhpcy5ydHRSb2xsaW5nLmFkZChlKSxEeShcIlJFUE9SVF9TVEFUU1wiKSYmdGhpcy5zZW5kKF9iLlBJTkdfQkFDSyx7cGluZ3BvbmdFbGFwc2U6ZX0pfSkpLmNhdGNoKChlPT57fSkpfWhhbmRsZVdlYnNvY2tldEV2ZW50cygpe3RoaXMud2Vic29ja2V0Lm9uKFRiLlJFQ09OTkVDVF9XQUlUVElOR19GSU5JU0gsKGU9Pnt0aGlzLmVtaXQocGIuV1NfUkVDT05ORUNUX1dBSVRUSU5HX0ZJTklTSCxlKX0pKSx0aGlzLndlYnNvY2tldC5vbihUYi5SRUNPTk5FQ1RfQ1JFQVRFX0NPTk5FQ1RJT04sKGU9Pnt0aGlzLmVtaXQocGIuV1NfUkVDT05ORUNUX0NSRUFURV9DT05ORUNUSU9OLGUpfSkpLHRoaXMud2Vic29ja2V0Lm9uKFRiLk9OX01FU1NBR0UsdGhpcy5vbldlYnNvY2tldE1lc3NhZ2UpLHRoaXMud2Vic29ja2V0Lm9uKFRiLkNMT1NFRCwoKCk9Pnt0aGlzLmNvbm5lY3Rpb25TdGF0ZT1oYi5DTE9TRUR9KSksdGhpcy53ZWJzb2NrZXQub24oVGIuRkFJTEVELCgoKT0+e3RoaXMuX2Rpc2Nvbm5lY3RlZFJlYXNvbj1Bdi5ORVRXT1JLX0VSUk9SLHRoaXMuY29ubmVjdGlvblN0YXRlPWhiLkNMT1NFRH0pKSx0aGlzLndlYnNvY2tldC5vbihUYi5SRUNPTk5FQ1RJTkcsKGU9Pnt0aGlzLl93ZWJzb2NrZXRSZWNvbm5lY3RSZWFzb249ZSx0aGlzLmpvaW5SZXNwb25zZT12b2lkIDAsdGhpcy5jb25uZWN0aW9uU3RhdGU9PT1oYi5DT05ORUNURUQ/dGhpcy5jb25uZWN0aW9uU3RhdGU9aGIuUkVDT05ORUNUSU5HOnRoaXMuY29ubmVjdGlvblN0YXRlPWhiLkNPTk5FQ1RJTkd9KSksdGhpcy53ZWJzb2NrZXQub24oVGIuV0lMTF9SRUNPTk5FQ1QsKChlLHQsaSk9PntcInJldHJ5XCIhPT1lPyhReS5kZWJ1ZyhcIlwiLmNvbmNhdCh0aGlzLmNsaWVudElkLFwiIHdlYnNvY2tldCB3aWxsX2Nvbm5lY3QgZXZlbnQsIHJlbmV3U2Vzc2lvbiByZWNvbm5lY3RNb2RlIGlzIFwiKS5jb25jYXQoZSkpLHRoaXMucmVjb25uZWN0VG9rZW49dm9pZCAwKTpReS5kZWJ1ZyhcIlwiLmNvbmNhdCh0aGlzLmNsaWVudElkLFwiIHJlY29ubmVjdCBtb2RlIGlzIHJldHJ5LCBubyBuZWVkIHRvIHJlbmV3IHNlc3Npb25cIikpLGkoZSl9KSksdGhpcy53ZWJzb2NrZXQub24oVGIuQ09OTkVDVEVELCgoKT0+e3RoaXMub3BlbkNvbm5lY3Rpb25UaW1lPURhdGUubm93KCksdGhpcy5qb2luKCkuY2F0Y2goKGU9PntpZih0aGlzLmVtaXQocGIuUkVQT1JUX0pPSU5fR0FURVdBWSxlLHRoaXMudXJsfHxcIlwiKSxlIGluc3RhbmNlb2YgcnYmJmUuY29kZT09PW52LlVORVhQRUNURURfUkVTUE9OU0UmJmUuZGF0YS5jb2RlPT09dWIuRVJSX05PX0FVVEhPUklaRUQpcmV0dXJuIFF5Lndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCJdIHJlY29ubmVjdCBubyBhdXRob3JpemVkLCByZWNvdmVyXCIpKSx2b2lkIHRoaXMucmVjb25uZWN0KFwicmVjb3ZlclwiLER2LlNFUlZFUl9FUlJPUik7UXkuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCJdIGpvaW4gZ2F0ZXdheSByZXF1ZXN0IGZhaWxlZFwiKSxlLnRvU3RyaW5nKCkpLHRoaXMuc3BlYy5mb3JjZVdhaXRHYXRld2F5UmVzcG9uc2U/dGhpcy5yZWNvbm5lY3QoXCJ0cnlOZXh0XCIsRHYuU0VSVkVSX0VSUk9SKToodGhpcy5pbml0RXJyb3I9ZSx0aGlzLmNsb3NlKCkpfSkpfSkpLHRoaXMud2Vic29ja2V0Lm9uKFRiLlJFUVVFU1RfTkVXX1VSTFMsKChlLHQpPT57a3YodGhpcyxwYi5SRVFVRVNUX1JFQ09WRVIsdGhpcy5tdWx0aUlwT3B0aW9uKS50aGVuKGUpLmNhdGNoKHQpfSkpLHRoaXMud2Vic29ja2V0Lm9uKFRiLk9OX1RPS0VOX1BSSVZJTEVHRV9ESURfRVhQSVJFLCgoKT0+e3RoaXMuZW1pdChtYi5PTl9UT0tFTl9QUklWSUxFR0VfRElEX0VYUElSRSl9KSl9fXZhciBSTT17ZXhwb3J0czp7fX07Uk0uZXhwb3J0cz0oKCk9Pnt2YXIgZT17ODooZSx0LGkpPT57aS5yKHQpLGkuZCh0LHtQYXJzZXI6KCk9PkMsUHJpbnRlcjooKT0+YixwYXJzZTooKT0+RCxwcmludDooKT0+UH0pO2NvbnN0IG49XCJcXG5cIixyPVwiXCIuY29uY2F0KFwiXFxyXCIpLmNvbmNhdChuKSxvPVwiIFwiO2xldCBzO2Z1bmN0aW9uIGEoZSl7cmV0dXJuIGU+PVwiMFwiJiZlPD1cIjlcIn1mdW5jdGlvbiBjKGUpe3JldHVybiBlPj1cIiFcIiYmZTw9XCJ+XCJ9ZnVuY3Rpb24gZChlKXtyZXR1cm4gYyhlKXx8ZT49XCLCgFwiJiZlPD1cIsO/XCJ9ZnVuY3Rpb24gbChlKXtyZXR1cm5cIiFcIj09PWV8fGU+PVwiI1wiJiZlPD1cIidcInx8ZT49XCIqXCImJmU8PVwiK1wifHxlPj1cIi1cIiYmZTw9XCIuXCJ8fGU+PVwiMFwiJiZlPD1cIjlcInx8ZT49XCJBXCImJmU8PVwiWlwifHxlPj1cIl5cIiYmZTw9XCJ+XCJ9ZnVuY3Rpb24gdShlKXtyZXR1cm4gZT49XCIxXCImJmU8PVwiOVwifWZ1bmN0aW9uIGgoZSl7cmV0dXJuIGU+PVwiQVwiJiZlPD1cIlpcInx8ZT49XCJhXCImJmU8PVwielwifWZ1bmN0aW9uIHAoZSl7cmV0dXJuXCJkXCI9PT1lfHxcImhcIj09PWV8fFwibVwiPT09ZXx8XCJzXCI9PT1lfWZ1bmN0aW9uIF8oZSl7cmV0dXJuIGU+XCJcdTAwMDFcIiYmZTxcIlxcdFwifHxlPlwiXFx2XCImJmU8XCJcXGZcInx8ZT5cIlx1MDAwZVwiJiZlPFwiw79cIn1mdW5jdGlvbiBFKGUpe3JldHVybiBoKGUpfHxhKGUpfHxcIitcIj09PWV8fFwiL1wiPT09ZX1mdW5jdGlvbiBtKGUpe3JldHVybiBhKGUpfHxoKGUpfHxcIitcIj09PWV8fFwiL1wiPT09ZXx8XCItXCI9PT1lfHxcIl9cIj09PWV9ZnVuY3Rpb24gZihlKXtyZXR1cm4gaChlKXx8YShlKXx8XCIrXCI9PT1lfHxcIi9cIj09PWV9ZnVuY3Rpb24gVChlLHQpe3ZhciBpPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKG49bi5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksaS5wdXNoLmFwcGx5KGksbil9cmV0dXJuIGl9ZnVuY3Rpb24gUyhlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgaT1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9UKE9iamVjdChpKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7ZyhlLHQsaVt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhpKSk6VChPYmplY3QoaSkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpLHQpKX0pKX1yZXR1cm4gZX1mdW5jdGlvbiBnKGUsdCxpKXtyZXR1cm4gdCBpbiBlP09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQse3ZhbHVlOmksZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITB9KTplW3RdPWksZX0hZnVuY3Rpb24oZSl7ZS5WRVJTSU9OPVwidlwiLGUuT1JJR0lOPVwib1wiLGUuU0VTU0lPTl9OQU1FPVwic1wiLGUuSU5GT1JNQVRJT049XCJpXCIsZS5VUkk9XCJ1XCIsZS5FTUFJTD1cImVcIixlLlBIT05FPVwicFwiLGUuQ09OTkVDVElPTj1cImNcIixlLkJBTkRXSURUSD1cImJcIixlLlRJTUU9XCJ0XCIsZS5SRVBFQVQ9XCJyXCIsZS5aT05FX0FESlVTVE1FTlRTPVwielwiLGUuS0VZPVwia1wiLGUuQVRUUklCVVRFPVwiYVwiLGUuTUVESUE9XCJtXCJ9KHN8fChzPXt9KSk7Y2xhc3MgUntjb25zdW1lVGV4dChlLHQpe2xldCBpPXQ7Zm9yKDtpPGUubGVuZ3RoOyl7Y29uc3QgdD1lW2ldO2lmKFwiXFwwXCI9PT10fHxcIlxcclwiPT09dHx8dD09PW4pYnJlYWs7aSs9MX1pZihpLXQ9PTApdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCB0ZXh0LCBhdCBcIi5jb25jYXQoZSkpO3JldHVybiBpfWNvbnN1bWVVbmljYXN0QWRkcmVzcyhlLHQsaSl7cmV0dXJuIHRoaXMuY29uc3VtZVRpbGwoZSx0LG8pfWNvbnN1bWVPbmVPck1vcmUoZSx0LGkpe2xldCBuPXQ7Zm9yKDtpKGVbbl0pOyluKys7aWYobi10PT0wKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgcnVsZSBhdCBcIi5jb25jYXQodCxcIi5cIikpO3JldHVybiBufWNvbnN1bWVTcGFjZShlLHQpe2lmKGVbdF09PT1vKXJldHVybiB0KzE7dGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBzcGFjZSBhdCBcIi5jb25jYXQodCxcIi5cIikpfWNvbnN1bWVJUDRBZGRyZXNzKGUsdCl7bGV0IGk9dDtmb3IobGV0IHQ9MDt0PDQ7dCsrKWlmKGk9dGhpcy5jb25zdW1lRGVjaW1hbFVDaGFyKGUsaSksMyE9PXQpe2lmKFwiLlwiIT09ZVtpXSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIElQNCBhZGRyZXNzLlwiKTtpKyt9cmV0dXJuIGl9Y29uc3VtZURlY2ltYWxVQ2hhcihlLHQpe2xldCBpPXQ7Zm9yKGxldCB0PTA7dDwzJiZhKGVbaV0pO3QrKyxpKyspO2lmKGktdD09MCl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGRlY2ltYWwgdWNoYXIuXCIpO2NvbnN0IG49cGFyc2VJbnQoZS5zbGljZSh0LGkpKTtpZihuPj0wJiZuPD0yNTUpcmV0dXJuIGk7dGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBkZWNpbWFsIHVjaGFyXCIpfWNvbnN1bWVJUDZBZGRyZXNzKGUsdCl7bGV0IGk9dGhpcy5jb25zdW1lSGV4cGFydChlLHQpO3JldHVyblwiOlwiPT09ZVtpXT8oaSs9MSxpPXRoaXMuY29uc3VtZUlQNEFkZHJlc3MoZSxpKSxpKTppfWNvbnN1bWVIZXhwYXJ0KGUsdCl7bGV0IGk9dDtpZihcIjpcIj09PWVbaV0mJlwiOlwiPT09ZVtpKzFdKXtpKz0yO3RyeXtpPXRoaXMuY29uc3VtZUhleHNlcShlLGkpfWNhdGNoKGUpe31yZXR1cm4gaX1pZihpPXRoaXMuY29uc3VtZUhleHNlcShlLGkpLFwiOlwiPT09ZVtpXSYmXCI6XCI9PT1lW2krMV0pe2krPTI7dHJ5e2k9dGhpcy5jb25zdW1lSGV4c2VxKGUsaSl9Y2F0Y2goZSl7fXJldHVybiBpfXJldHVybiBpfWNvbnN1bWVIZXhzZXEoZSx0KXtsZXQgaT10O2Zvcig7aT10aGlzLmNvbnN1bWVIZXg0KGUsaSksXCI6XCI9PT1lW2ldJiZcIjpcIiE9PWVbaSsxXTspaSs9MTtyZXR1cm4gaX1jb25zdW1lSGV4NChlLHQpe2xldCBpPTA7Zm9yKDtpPDQ7aSsrKWlmKCEoKG49ZVt0K2ldKT49XCIwXCImJm48PVwiOVwifHxuPj1cImFcIiYmbjw9XCJmXCJ8fG4+PVwiQVwiJiZuPD1cIkZcIikpe2lmKDA9PT1pKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgaGV4IDRcIik7YnJlYWt9dmFyIG47cmV0dXJuIHQraX1jb25zdW1lRlFETihlLHQpe2xldCBpPXQ7Zm9yKDthKGVbaV0pfHxoKGVbaV0pfHxcIi1cIj09PWVbaV18fFwiLlwiPT09ZVtpXTspaSs9MTtpZihpLXQ8NCl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIEZRRE5cIik7cmV0dXJuIGl9Y29uc3VtZUV4dG5BZGRyKGUsdCl7cmV0dXJuIHRoaXMuY29uc3VtZU9uZU9yTW9yZShlLHQsZCl9Y29uc3VtZU11bHRpY2FzdEFkZHJlc3MoZSx0LGkpe3N3aXRjaChpKXtjYXNlXCJJUDRcIjpjYXNlXCJpcDRcIjpyZXR1cm4gdGhpcy5jb25zdW1lSVA0TXVsdGljYXN0QWRkcmVzcyhlLHQpO2Nhc2VcIklQNlwiOmNhc2VcImlwNlwiOnJldHVybiB0aGlzLmNvbnN1bWVJUDZNdWx0aWNhc3RBZGRyZXNzKGUsdCk7ZGVmYXVsdDp0cnl7cmV0dXJuIHRoaXMuY29uc3VtZUZRRE4oZSx0KX1jYXRjaChpKXtyZXR1cm4gdGhpcy5jb25zdW1lRXh0bkFkZHIoZSx0KX19fWNvbnN1bWVJUDZNdWx0aWNhc3RBZGRyZXNzKGUsdCl7Y29uc3QgaT10aGlzLmNvbnN1bWVIZXhwYXJ0KGUsdCk7cmV0dXJuXCIvXCI9PT1lW2ldP3RoaXMuY29uc3VtZUludGVnZXIoZSxpKzEpOml9Y29uc3VtZUlQNE11bHRpY2FzdEFkZHJlc3MoZSx0KXtsZXQgaT10KzM7Y29uc3Qgbj1lLnNsaWNlKHQsaSkscj1wYXJzZUludChuKTtpZihyPDIyNHx8cj4yMzkpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBJUDQgbXVsdGljYXN0IGFkZHJlc3MsIElQdjQgbXVsdGljYXN0IGFkZHJlc3NlcyBtYXkgYmUgaW4gdGhlIHJhbmdlIDIyNC4wLjAuMCB0byAyMzkuMjU1LjI1NS4yNTUuXCIpO2ZvcihsZXQgdD0wO3Q8Mzt0Kyspe2lmKFwiLlwiIT09ZVtpXSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIElQNCBtdWx0aWNhc3QgYWRkcmVzcy5cIik7aSs9MSxpPXRoaXMuY29uc3VtZURlY2ltYWxVQ2hhcihlLGkpfXJldHVyblwiL1wiPT09ZVtpXSYmKGkrPTEpLGk9dGhpcy5jb25zdW1lVFRMKGUsaSksXCIvXCI9PT1lW2ldJiYoaT10aGlzLmNvbnN1bWVJbnRlZ2VyKGUsaSkpLGl9Y29uc3VtZUludGVnZXIoZSx0KXtpZighdShlW3RdKSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGludGVnZXIuXCIpO2Zvcih0Kz0xO2EoZVt0XSk7KXQrPTE7cmV0dXJuIHR9Y29uc3VtZVRUTChlLHQpe2lmKFwiMFwiPT09ZVt0XSlyZXR1cm4gdCsxO2lmKCF1KGVbdF0pKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgVFRMLlwiKTt0Kz0xO2ZvcihsZXQgaT0wO2k8MiYmYShlW3RdKTtpKyspdCs9MTtyZXR1cm4gdH1jb25zdW1lVG9rZW4oZSx0KXtyZXR1cm4gdGhpcy5jb25zdW1lT25lT3JNb3JlKGUsdCxsKX1jb25zdW1lVGltZShlLHQpe2xldCBpPXQ7aWYoXCIwXCI9PT1lW2ldKXJldHVybiBpKzE7Zm9yKHUoZVtpXSkmJihpKz0xKTthKGVbaV0pOylpKys7aWYoaS10PDEwKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgdGltZVwiKTtyZXR1cm4gaX1jb25zdW1lQWRkcmVzcyhlLHQpe3JldHVybiB0aGlzLmNvbnN1bWVUaWxsKGUsdCxvKX1jb25zdW1lVHlwZWRUaW1lKGUsdCl7bGV0IGk9dDtyZXR1cm4gaT10aGlzLmNvbnN1bWVPbmVPck1vcmUoZSxpLGEpLHAoZVtpXSk/aSsxOml9Y29uc3VtZVJlcGVhdEludGVydmFsKGUsdCl7aWYoIXUoZVt0XSkpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCByZXBlYXQgaW50ZXJ2YWxcIik7Zm9yKHQrPTE7YShlW3RdKTspdCs9MTtyZXR1cm4gcChlW3RdKSYmKHQrPTEpLHR9Y29uc3VtZVBvcnQoZSx0KXtyZXR1cm4gdGhpcy5jb25zdW1lT25lT3JNb3JlKGUsdCxhKX1jb25zdW1lKGUsdCxpKXtmb3IobGV0IG49MDtuPGkubGVuZ3RoO24rKyl7aWYodCtuPj1lLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJjb25zdW1lIGV4Y2VlZGluZyB2YWx1ZSBsZW5ndGhcIik7aWYoZVt0K25dIT09aVtuXSl0aHJvdyBuZXcgRXJyb3IoXCJjb25zdW1lIFwiLmNvbmNhdChpLFwiIGZhaWxlZCBhdCBcIikuY29uY2F0KG4pKX1yZXR1cm4gdCtpLmxlbmd0aH1jb25zdW1lVGlsbChlLHQsaSl7bGV0IG49dDtmb3IoO248ZS5sZW5ndGgmJihcInN0cmluZ1wiIT10eXBlb2YgaXx8ZVtuXSE9PWkpJiYoXCJmdW5jdGlvblwiIT10eXBlb2YgaXx8IWkoZVtuXSkpOyluKys7cmV0dXJuIG59fWNsYXNzIEMgZXh0ZW5kcyBSe2NvbnN0cnVjdG9yKCl7c3VwZXIoKSxnKHRoaXMsXCJyZWNvcmRzXCIsW10pLGcodGhpcyxcImN1cnJlbnRMaW5lXCIsMCl9cGFyc2UoZSl7Y29uc3QgdD10aGlzLnByb2JlRU9MKGUpO3RoaXMucmVjb3Jkcz1lLnNwbGl0KHQpLmZpbHRlcigoZT0+ISFqcChlKS5jYWxsKGUpKSkubWFwKHRoaXMucGFyc2VMaW5lKSx0aGlzLmN1cnJlbnRMaW5lPTA7Y29uc3QgaT10aGlzLnBhcnNlVmVyc2lvbigpLG49dGhpcy5wYXJzZU9yaWdpbigpLHI9dGhpcy5wYXJzZVNlc3Npb25OYW1lKCksbz10aGlzLnBhcnNlSW5mb3JtYXRpb24oKSxzPXRoaXMucGFyc2VVcmkoKSxhPXRoaXMucGFyc2VFbWFpbCgpLGM9dGhpcy5wYXJzZVBob25lKCksZD10aGlzLnBhcnNlQ29ubmVjdGlvbigpLGw9dGhpcy5wYXJzZUJhbmRXaWR0aCgpLHU9dGhpcy5wYXJzZVRpbWVGaWVsZHMoKSxoPXRoaXMucGFyc2VLZXkoKSxwPXRoaXMucGFyc2VTZXNzaW9uQXR0cmlidXRlKCksXz10aGlzLnBhcnNlTWVkaWFEZXNjcmlwdGlvbigpO2lmKHRoaXMuY3VycmVudExpbmUhPT10aGlzLnJlY29yZHMubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcInBhcnNpbmcgZmFpbGVkLCBub24gZXhoYXVzdGl2ZSBzZHAgbGluZXMuXCIpO3JldHVybnt2ZXJzaW9uOmksb3JpZ2luOm4sc2Vzc2lvbk5hbWU6cixpbmZvcm1hdGlvbjpvLHVyaTpzLGVtYWlsczphLHBob25lczpjLGNvbm5lY3Rpb246ZCxiYW5kd2lkdGhzOmwsdGltZUZpZWxkczp1LGtleTpoLGF0dHJpYnV0ZXM6cCxtZWRpYURlc2NyaXB0aW9uczpffX1nZXRDdXJyZW50UmVjb3JkKCl7Y29uc3QgZT10aGlzLnJlY29yZHNbdGhpcy5jdXJyZW50TGluZV07aWYoIWUpdGhyb3cgbmV3IEVycm9yKFwiUmVjb3JkIGRvZXNuJ3QgZXhpdC5cIik7cmV0dXJuIGV9cHJvYmVFT0woZSl7Zm9yKGxldCB0PTA7dDxlLmxlbmd0aDt0KyspaWYoZVt0XT09PW4pcmV0dXJuXCJcXHJcIj09PWVbdC0xXT9yOm47dGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBuZXdsaW5lIGNoYXJhY3Rlci5cIil9cGFyc2VMaW5lKGUsdCl7aWYoZS5sZW5ndGg8Mil0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHNkcCBsaW5lLCBzZHAgbGluZSBzaG91bGQgYmUgb2YgZm9ybSA8dHlwZT49PHZhbHVlPi5cIik7Y29uc3QgaT1lWzBdO2lmKFwiPVwiIT09ZVsxXSl0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgc2RwIGxpbmUsIDx0eXBlPiBzaG91bGQgYmUgYSBzaW5nbGUgY2hhcmFjdGVyIGZvbGxvd2VkIGJ5IGFuIFwiPVwiIHNpZ24uJyk7cmV0dXJue3R5cGU6aSx2YWx1ZTplLnNsaWNlKDIpLGxpbmU6dCxjdXI6MH19cGFyc2VTZXNzaW9uQXR0cmlidXRlKCl7Y29uc3QgZT1uZXcgdjtmb3IoO3RoaXMuY3VycmVudExpbmU8dGhpcy5yZWNvcmRzLmxlbmd0aDspe2NvbnN0IHQ9dGhpcy5nZXRDdXJyZW50UmVjb3JkKCk7aWYodC50eXBlIT09cy5BVFRSSUJVVEUpYnJlYWs7Y29uc3QgaT17YXR0RmllbGQ6dGhpcy5leHRyYWN0T25lT3JNb3JlKHQsKGU9PmwoZSkmJlwiOlwiIT09ZSkpLF9jdXI6MH07XCI6XCI9PT10LnZhbHVlW3QuY3VyXSYmKHQuY3VyKz0xLGkuYXR0VmFsdWU9dGhpcy5leHRyYWN0T25lT3JNb3JlKHQsXykpLGUucGFyc2UoaSksdGhpcy5jdXJyZW50TGluZSsrfXJldHVybiBlLmRpZ2VzdCgpfXBhcnNlTWVkaWFBdHRyaWJ1dGVzKGUpe2NvbnN0IHQ9bmV3IHkoZSk7Zm9yKDt0aGlzLmN1cnJlbnRMaW5lPHRoaXMucmVjb3Jkcy5sZW5ndGg7KXtjb25zdCBlPXRoaXMuZ2V0Q3VycmVudFJlY29yZCgpO2lmKGUudHlwZSE9PXMuQVRUUklCVVRFKWJyZWFrO2NvbnN0IGk9e2F0dEZpZWxkOnRoaXMuZXh0cmFjdE9uZU9yTW9yZShlLChlPT5sKGUpJiZcIjpcIiE9PWUpKSxfY3VyOjB9O1wiOlwiPT09ZS52YWx1ZVtlLmN1cl0mJihlLmN1cis9MSxpLmF0dFZhbHVlPXRoaXMuZXh0cmFjdE9uZU9yTW9yZShlLF8pKSx0LnBhcnNlKGkpLHRoaXMuY3VycmVudExpbmUrK31yZXR1cm4gdC5kaWdlc3QoKX1wYXJzZUtleSgpe2NvbnN0IGU9dGhpcy5nZXRDdXJyZW50UmVjb3JkKCk7aWYoZS50eXBlPT09cy5LRVkpe2lmKFwicHJvbXB0XCI9PT1lLnZhbHVlfHxcImNsZWFyOlwiPT09ZS52YWx1ZXx8XCJiYXNlNjQ6XCI9PT1lLnZhbHVlfHxcInVyaTpcIj09PWUudmFsdWUpcmV0dXJuIGUudmFsdWU7dGhyb3cgdGhpcy5jdXJyZW50TGluZSsrLG5ldyBFcnJvcihcIkludmFsaWQga2V5LlwiKX19cGFyc2Vab25lKCl7Y29uc3QgZT10aGlzLmdldEN1cnJlbnRSZWNvcmQoKTtpZihlLnR5cGU9PT1zLlpPTkVfQURKVVNUTUVOVFMpe2NvbnN0IHQ9W107Zm9yKDs7KXRyeXtjb25zdCBpPXRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZVRpbWUpO3RoaXMuY29uc3VtZVNwYWNlRm9yUmVjb3JkKGUpO2xldCBuPSExO1wiLVwiPT09ZS52YWx1ZVtlLmN1cl0mJihuPSEwLGUuY3VyKz0xKTtjb25zdCByPXRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZVR5cGVkVGltZSk7dC5wdXNoKHt0aW1lOmksdHlwZWRUaW1lOnIsYmFjazpufSl9Y2F0Y2goZSl7YnJlYWt9aWYoMD09PXQubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgem9uZSBhZGp1c3RtZW50c1wiKTtyZXR1cm4gdGhpcy5jdXJyZW50TGluZSsrLHR9cmV0dXJuW119cGFyc2VSZXBlYXQoKXtjb25zdCBlPVtdO2Zvcig7Oyl7Y29uc3QgdD10aGlzLmdldEN1cnJlbnRSZWNvcmQoKTtpZih0LnR5cGUhPT1zLlJFUEVBVClicmVhazt7Y29uc3QgaT10aGlzLmV4dHJhY3QodCx0aGlzLmNvbnN1bWVSZXBlYXRJbnRlcnZhbCksbj10aGlzLnBhcnNlVHlwZWRUaW1lKHQpO2UucHVzaCh7cmVwZWF0SW50ZXJ2YWw6aSx0eXBlZFRpbWVzOm59KSx0aGlzLmN1cnJlbnRMaW5lKyt9fXJldHVybiBlfXBhcnNlVHlwZWRUaW1lKGUpe2NvbnN0IHQ9W107Zm9yKDs7KXRyeXt0aGlzLmNvbnN1bWVTcGFjZUZvclJlY29yZChlKSx0LnB1c2godGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lVHlwZWRUaW1lKSl9Y2F0Y2goZSl7YnJlYWt9aWYoMD09PXQubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgdHlwZWQgdGltZS5cIik7cmV0dXJuIHR9cGFyc2VUaW1lKCl7Y29uc3QgZT10aGlzLmdldEN1cnJlbnRSZWNvcmQoKSx0PXRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZVRpbWUpO3RoaXMuY29uc3VtZVNwYWNlRm9yUmVjb3JkKGUpO2NvbnN0IGk9dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lVGltZSk7cmV0dXJuIHRoaXMuY3VycmVudExpbmUrKyx7c3RhcnRUaW1lOnQsc3RvcFRpbWU6aX19cGFyc2VCYW5kV2lkdGgoKXtjb25zdCBlPVtdO2Zvcig7dGhpcy5jdXJyZW50TGluZTx0aGlzLnJlY29yZHMubGVuZ3RoOyl7Y29uc3QgdD10aGlzLmdldEN1cnJlbnRSZWNvcmQoKTtpZih0LnR5cGUhPT1zLkJBTkRXSURUSClicmVhazt7Y29uc3QgaT10aGlzLmV4dHJhY3RPbmVPck1vcmUodCxsKTtpZihcIjpcIiE9PXQudmFsdWVbdC5jdXJdKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgYmFuZHdpZHRoIGZpZWxkLlwiKTt0LmN1cisrO2NvbnN0IG49dGhpcy5leHRyYWN0T25lT3JNb3JlKHQsYSk7ZS5wdXNoKHtid3R5cGU6aSxiYW5kd2lkdGg6bn0pLHRoaXMuY3VycmVudExpbmUrK319cmV0dXJuIGV9cGFyc2VWZXJzaW9uKCl7Y29uc3QgZT10aGlzLmdldEN1cnJlbnRSZWNvcmQoKTtpZihlLnR5cGUhPT1zLlZFUlNJT04pdGhyb3cgbmV3IEVycm9yKFwiZmlyc3Qgc2RwIHJlY29yZCBtdXN0IGJlIHZlcnNpb25cIik7Y29uc3QgdD1lLnZhbHVlLnNsaWNlKDAsdGhpcy5jb25zdW1lT25lT3JNb3JlKGUudmFsdWUsMCxhKSk7aWYodC5sZW5ndGghPT1lLnZhbHVlLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgcHJvdG8gdmVyc2lvbiwgXCJ2PScuY29uY2F0KGUudmFsdWUsJ1wiJykpO3JldHVybiB0aGlzLmN1cnJlbnRMaW5lKyssdH1wYXJzZU9yaWdpbigpe2NvbnN0IGU9dGhpcy5nZXRDdXJyZW50UmVjb3JkKCk7aWYoZS50eXBlIT09cy5PUklHSU4pdGhyb3cgbmV3IEVycm9yKFwic2Vjb25kIGxpbmUgb2Ygc2RwIG11c3QgYmUgb3JpZ2luXCIpO2NvbnN0IHQ9dGhpcy5leHRyYWN0T25lT3JNb3JlKGUsZCk7dGhpcy5jb25zdW1lU3BhY2VGb3JSZWNvcmQoZSk7Y29uc3QgaT10aGlzLmV4dHJhY3RPbmVPck1vcmUoZSxhKTt0aGlzLmNvbnN1bWVTcGFjZUZvclJlY29yZChlKTtjb25zdCBuPXRoaXMuZXh0cmFjdE9uZU9yTW9yZShlLGEpO3RoaXMuY29uc3VtZVNwYWNlRm9yUmVjb3JkKGUpO2NvbnN0IHI9dGhpcy5leHRyYWN0T25lT3JNb3JlKGUsbCk7dGhpcy5jb25zdW1lU3BhY2VGb3JSZWNvcmQoZSk7Y29uc3Qgbz10aGlzLmV4dHJhY3RPbmVPck1vcmUoZSxsKTt0aGlzLmNvbnN1bWVTcGFjZUZvclJlY29yZChlKTtjb25zdCBjPXRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZVVuaWNhc3RBZGRyZXNzKTtyZXR1cm4gdGhpcy5jdXJyZW50TGluZSsrLHt1c2VybmFtZTp0LHNlc3NJZDppLHNlc3NWZXJzaW9uOm4sbmV0dHlwZTpyLGFkZHJ0eXBlOm8sdW5pY2FzdEFkZHJlc3M6Y319cGFyc2VTZXNzaW9uTmFtZSgpe2NvbnN0IGU9dGhpcy5nZXRDdXJyZW50UmVjb3JkKCk7aWYoZS50eXBlPT09cy5TRVNTSU9OX05BTUUpe2NvbnN0IHQ9dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lVGV4dCk7cmV0dXJuIHRoaXMuY3VycmVudExpbmUrKyx0fX1wYXJzZUluZm9ybWF0aW9uKCl7Y29uc3QgZT10aGlzLmdldEN1cnJlbnRSZWNvcmQoKTtpZihlLnR5cGUhPT1zLklORk9STUFUSU9OKXJldHVybjtjb25zdCB0PXRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZVRleHQpO3JldHVybiB0aGlzLmN1cnJlbnRMaW5lKyssdH1wYXJzZVVyaSgpe2NvbnN0IGU9dGhpcy5nZXRDdXJyZW50UmVjb3JkKCk7aWYoZS50eXBlPT09cy5VUkkpcmV0dXJuIHRoaXMuY3VycmVudExpbmUrKyxlLnZhbHVlfXBhcnNlRW1haWwoKXtjb25zdCBlPVtdO2Zvcig7Oyl7Y29uc3QgdD10aGlzLmdldEN1cnJlbnRSZWNvcmQoKTtpZih0LnR5cGUhPT1zLkVNQUlMKWJyZWFrO2UucHVzaCh0LnZhbHVlKSx0aGlzLmN1cnJlbnRMaW5lKyt9cmV0dXJuIGV9cGFyc2VQaG9uZSgpe2NvbnN0IGU9W107Zm9yKDs7KXtjb25zdCB0PXRoaXMuZ2V0Q3VycmVudFJlY29yZCgpO2lmKHQudHlwZSE9PXMuUEhPTkUpYnJlYWs7ZS5wdXNoKHQudmFsdWUpLHRoaXMuY3VycmVudExpbmUrK31yZXR1cm4gZX1wYXJzZUNvbm5lY3Rpb24oKXtjb25zdCBlPXRoaXMuZ2V0Q3VycmVudFJlY29yZCgpO2lmKGUudHlwZT09PXMuQ09OTkVDVElPTil7Y29uc3QgdD10aGlzLmV4dHJhY3RPbmVPck1vcmUoZSxsKTt0aGlzLmNvbnN1bWVTcGFjZUZvclJlY29yZChlKTtjb25zdCBpPXRoaXMuZXh0cmFjdE9uZU9yTW9yZShlLGwpO3RoaXMuY29uc3VtZVNwYWNlRm9yUmVjb3JkKGUpO2NvbnN0IG49dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lQWRkcmVzcyk7cmV0dXJuIHRoaXMuY3VycmVudExpbmUrKyx7bmV0dHlwZTp0LGFkZHJ0eXBlOmksYWRkcmVzczpufX19cGFyc2VNZWRpYSgpe2NvbnN0IGU9dGhpcy5nZXRDdXJyZW50UmVjb3JkKCksdD10aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWVUb2tlbik7dGhpcy5jb25zdW1lU3BhY2VGb3JSZWNvcmQoZSk7bGV0IGk9dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lUG9ydCk7XCIvXCI9PT1lLnZhbHVlW2UuY3VyXSYmKGUuY3VyKz0xLGkrPXRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZUludGVnZXIpKSx0aGlzLmNvbnN1bWVTcGFjZUZvclJlY29yZChlKTtjb25zdCBuPVtdO2ZvcihuLnB1c2godGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lVG9rZW4pKTtcIi9cIj09PWUudmFsdWVbZS5jdXJdOyllLmN1cis9MSxuLnB1c2godGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lVG9rZW4pKTtpZigwPT09bi5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBwcm90b1wiKTtjb25zdCByPXRoaXMucGFyc2VGbXQoZSk7cmV0dXJuIHRoaXMuY3VycmVudExpbmUrKyx7bWVkaWFUeXBlOnQscG9ydDppLHByb3RvczpuLGZtdHM6cn19cGFyc2VUaW1lRmllbGRzKCl7Y29uc3QgZT1bXTtmb3IoO3RoaXMuZ2V0Q3VycmVudFJlY29yZCgpLnR5cGU9PT1zLlRJTUU7KXtjb25zdCB0PXRoaXMucGFyc2VUaW1lKCksaT10aGlzLnBhcnNlUmVwZWF0KCksbj10aGlzLnBhcnNlWm9uZSgpO2UucHVzaCh7dGltZTp0LHJlcGVhdHM6aSx6b25lczpufSl9cmV0dXJuIGV9cGFyc2VNZWRpYURlc2NyaXB0aW9uKCl7Y29uc3QgZT1bXTtmb3IoO3RoaXMuY3VycmVudExpbmU8dGhpcy5yZWNvcmRzLmxlbmd0aCYmdGhpcy5nZXRDdXJyZW50UmVjb3JkKCkudHlwZT09PXMuTUVESUE7KXtjb25zdCB0PXRoaXMucGFyc2VNZWRpYSgpLGk9dGhpcy5wYXJzZUluZm9ybWF0aW9uKCksbj10aGlzLnBhcnNlQ29ubmVjdGlvbnMoKSxyPXRoaXMucGFyc2VCYW5kV2lkdGgoKSxvPXRoaXMucGFyc2VLZXkoKSxzPXRoaXMucGFyc2VNZWRpYUF0dHJpYnV0ZXModCk7ZS5wdXNoKHttZWRpYTp0LGluZm9ybWF0aW9uOmksY29ubmVjdGlvbnM6bixiYW5kd2lkdGhzOnIsa2V5Om8sYXR0cmlidXRlczpzfSl9cmV0dXJuIGV9cGFyc2VDb25uZWN0aW9ucygpe2NvbnN0IGU9W107Zm9yKDt0aGlzLmN1cnJlbnRMaW5lPHRoaXMucmVjb3Jkcy5sZW5ndGgmJnRoaXMuZ2V0Q3VycmVudFJlY29yZCgpLnR5cGU9PT1zLkNPTk5FQ1RJT047KWUucHVzaCh0aGlzLnBhcnNlQ29ubmVjdGlvbigpKTtyZXR1cm4gZX1wYXJzZUZtdChlKXtjb25zdCB0PVtdO2Zvcig7Oyl0cnl7dGhpcy5jb25zdW1lU3BhY2VGb3JSZWNvcmQoZSksdC5wdXNoKHRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZVRva2VuKSl9Y2F0Y2goZSl7YnJlYWt9aWYoMD09PXQubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgZm10c1wiKTtyZXR1cm4gdH1leHRyYWN0KGUsdCl7Zm9yKHZhciBpPWFyZ3VtZW50cy5sZW5ndGgsbj1uZXcgQXJyYXkoaT4yP2ktMjowKSxyPTI7cjxpO3IrKyluW3ItMl09YXJndW1lbnRzW3JdO2NvbnN0IG89dC5jYWxsKHRoaXMsZS52YWx1ZSxlLmN1ciwuLi5uKSxzPWUudmFsdWUuc2xpY2UoZS5jdXIsbyk7cmV0dXJuIGUuY3VyPW8sc31leHRyYWN0T25lT3JNb3JlKGUsdCl7Y29uc3QgaT10aGlzLmNvbnN1bWVPbmVPck1vcmUoZS52YWx1ZSxlLmN1cix0KSxuPWUudmFsdWUuc2xpY2UoZS5jdXIsaSk7cmV0dXJuIGUuY3VyPWksbn1jb25zdW1lU3BhY2VGb3JSZWNvcmQoZSl7aWYoZS52YWx1ZVtlLmN1cl0hPT1vKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgc3BhY2UgYXQgXCIuY29uY2F0KGUuY3VyLFwiLlwiKSk7ZS5jdXIrPTF9fWNsYXNzIEkgZXh0ZW5kcyBSe2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSxnKHRoaXMsXCJhdHRyaWJ1dGVzXCIsdm9pZCAwKSxnKHRoaXMsXCJkaWdlc3RlZFwiLCExKX1leHRyYWN0T25lT3JNb3JlKGUsdCxpKXtjb25zdCBuPXRoaXMuY29uc3VtZU9uZU9yTW9yZShlLmF0dFZhbHVlLGUuX2N1cix0KSxyPWUuYXR0VmFsdWUuc2xpY2UoZS5fY3VyLG4pLFtvLHNdPWl8fFtdO2lmKFwibnVtYmVyXCI9PXR5cGVvZiBvJiZyLmxlbmd0aDxvKXRocm93IG5ldyBFcnJvcihcImVycm9yIGluIGxlbmd0aCwgc2hvdWxkIGJlIG1vcmUgb3IgZXF1YWwgdGhhbiBcIi5jb25jYXQobyxcIiBjaGFyYWN0ZXJzLlwiKSk7aWYoXCJudW1iZXJcIj09dHlwZW9mIHMmJnIubGVuZ3RoPnMpdGhyb3cgbmV3IEVycm9yKFwiZXJyb3IgaW4gbGVuZ3RoLCBzaG91bGQgYmUgbGVzcyBvciBlcXVhbCB0aGFuIFwiLmNvbmNhdChzLFwiIGNoYXJhY3RlcnMuXCIpKTtyZXR1cm4gZS5fY3VyPW4scn1jb25zdW1lQXR0cmlidXRlU3BhY2UoZSl7aWYoZS5hdHRWYWx1ZVtlLl9jdXJdIT09byl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIHNwYWNlIGF0IFwiLmNvbmNhdChlLl9jdXIsXCIuXCIpKTtlLl9jdXIrPTF9ZXh0cmFjdChlLHQpe2lmKCFlLmF0dFZhbHVlKXRocm93IG5ldyBFcnJvcihcIk5vdGhpbmcgdG8gZXh0cmFjdCBmcm9tIGF0dFZhbHVlLlwiKTtmb3IodmFyIGk9YXJndW1lbnRzLmxlbmd0aCxuPW5ldyBBcnJheShpPjI/aS0yOjApLHI9MjtyPGk7cisrKW5bci0yXT1hcmd1bWVudHNbcl07Y29uc3Qgbz10LmNhbGwodGhpcyxlLmF0dFZhbHVlLGUuX2N1ciwuLi5uKSxzPWUuYXR0VmFsdWUuc2xpY2UoZS5fY3VyLG8pO3JldHVybiBlLl9jdXI9byxzfWF0RW5kKGUpe2lmKCFlLmF0dFZhbHVlKXRocm93IG5ldyBFcnJvcjtyZXR1cm4gZS5fY3VyPj1lLmF0dFZhbHVlLmxlbmd0aH1wZWVrQ2hhcihlKXtpZighZS5hdHRWYWx1ZSl0aHJvdyBuZXcgRXJyb3I7cmV0dXJuIGUuYXR0VmFsdWVbZS5fY3VyXX1wZWVrKGUsdCl7aWYoIWUuYXR0VmFsdWUpdGhyb3cgbmV3IEVycm9yO2ZvcihsZXQgaT0wO2k8dC5sZW5ndGg7aSsrKWlmKHRbaV0hPT1lLmF0dFZhbHVlW2UuX2N1citpXSlyZXR1cm4hMTtyZXR1cm4hMH1wYXJzZUljZVVmcmFnKGUpe2lmKHRoaXMuYXR0cmlidXRlcy5pY2VVZnJhZyl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGljZS11ZnJhZywgc2hvdWxkIGJlIG9ubHkgYSBzaW5nbGUgbGluZSBpZiAnYT1pY2UtdWZyYWcnXCIpO3RoaXMuYXR0cmlidXRlcy5pY2VVZnJhZz10aGlzLmV4dHJhY3RPbmVPck1vcmUoZSxFLFs0LDI1Nl0pfXBhcnNlSWNlUHdkKGUpe2lmKHRoaXMuYXR0cmlidXRlcy5pY2VQd2QpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBpY2UtcHdkLCBzaG91bGQgYmUgb25seSBhIHNpbmdsZSBsaW5lIGlmICdhPWljZS1wd2QnXCIpO3RoaXMuYXR0cmlidXRlcy5pY2VQd2Q9dGhpcy5leHRyYWN0T25lT3JNb3JlKGUsRSxbMjIsMjU2XSl9cGFyc2VJY2VPcHRpb25zKGUpe2lmKHRoaXMuYXR0cmlidXRlcy5pY2VPcHRpb25zKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgaWNlLW9wdGlvbnMsIHNob3VsZCBiZSBvbmx5IG9uZSAnaWNlLW9wdGlvbnMnIGxpbmVcIik7Y29uc3QgdD1bXTtmb3IoOyF0aGlzLmF0RW5kKGUpOyl7dC5wdXNoKHRoaXMuZXh0cmFjdE9uZU9yTW9yZShlLEUpKTt0cnl7dGhpcy5jb25zdW1lQXR0cmlidXRlU3BhY2UoZSl9Y2F0Y2godCl7aWYodGhpcy5hdEVuZChlKSlicmVhazt0aHJvdyB0fX10aGlzLmF0dHJpYnV0ZXMuaWNlT3B0aW9ucz10fXBhcnNlRmluZ2VycHJpbnQoZSl7Y29uc3QgdD10aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWVUb2tlbik7dGhpcy5jb25zdW1lQXR0cmlidXRlU3BhY2UoZSk7Y29uc3QgaT10aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWVUaWxsKTt0aGlzLmF0dHJpYnV0ZXMuZmluZ2VycHJpbnRzLnB1c2goe2hhc2hGdW5jdGlvbjp0LGZpbmdlcnByaW50Oml9KX1wYXJzZUV4dG1hcChlKXtjb25zdCB0PXRoaXMuZXh0cmFjdE9uZU9yTW9yZShlLGEpO2xldCBpO1wiL1wiPT09dGhpcy5wZWVrQ2hhcihlKSYmKHRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZSxcIi9cIiksaT10aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWVUb2tlbikpLHRoaXMuY29uc3VtZUF0dHJpYnV0ZVNwYWNlKGUpO2NvbnN0IG49dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lVGlsbCxvKSxyPVMoUyh7ZW50cnk6cGFyc2VJbnQodCwxMCl9LGkmJntkaXJlY3Rpb246aX0pLHt9LHtleHRlbnNpb25OYW1lOm59KTt0aGlzLnBlZWtDaGFyKGUpPT09byYmKHRoaXMuY29uc3VtZUF0dHJpYnV0ZVNwYWNlKGUpLHIuZXh0ZW5zaW9uQXR0cmlidXRlcz10aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWVUaWxsKSksdGhpcy5hdHRyaWJ1dGVzLmV4dG1hcHMucHVzaChyKX1wYXJzZVNldHVwKGUpe2lmKHRoaXMuYXR0cmlidXRlcy5zZXR1cCl0aHJvdyBuZXcgRXJyb3IoXCJtdXN0IG9ubHkgYmUgb25lIHNpbmdsZSAnYT1zZXR1cCcgbGluZS5cIik7Y29uc3QgdD10aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWVUaWxsKTtpZihcImFjdGl2ZVwiIT09dCYmXCJwYXNzaXZlXCIhPT10JiZcImFjdHBhc3NcIiE9PXQmJlwiaG9sZGNvbm5cIiE9PXQpdGhyb3cgbmV3IEVycm9yKFwicm9sZSBtdXN0IGJlIG9uZSBvZiAnYWN0aXZlJywgJ3Bhc3NpdmUnLCAnYWN0cGFzcycsICdob2xkY29ubicuXCIpO3RoaXMuYXR0cmlidXRlcy5zZXR1cD10fX1jbGFzcyB2IGV4dGVuZHMgSXtjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksZyh0aGlzLFwiYXR0cmlidXRlc1wiLHt1bnJlY29nbml6ZWQ6W10sZ3JvdXBzOltdLGV4dG1hcHM6W10sZmluZ2VycHJpbnRzOltdLGlkZW50aXRpZXM6W119KX1wYXJzZShlKXtpZih0aGlzLmRpZ2VzdGVkKXRocm93IG5ldyBFcnJvcihcImFscmVhZHkgZGlnZXN0ZWRcIik7dHJ5e3N3aXRjaChlLmF0dEZpZWxkKXtjYXNlXCJncm91cFwiOnRoaXMucGFyc2VHcm91cChlKTticmVhaztjYXNlXCJpY2UtbGl0ZVwiOnRoaXMucGFyc2VJY2VMaXRlKCk7YnJlYWs7Y2FzZVwiaWNlLXVmcmFnXCI6dGhpcy5wYXJzZUljZVVmcmFnKGUpO2JyZWFrO2Nhc2VcImljZS1wd2RcIjp0aGlzLnBhcnNlSWNlUHdkKGUpO2JyZWFrO2Nhc2VcImljZS1vcHRpb25zXCI6dGhpcy5wYXJzZUljZU9wdGlvbnMoZSk7YnJlYWs7Y2FzZVwiZmluZ2VycHJpbnRcIjp0aGlzLnBhcnNlRmluZ2VycHJpbnQoZSk7YnJlYWs7Y2FzZVwic2V0dXBcIjp0aGlzLnBhcnNlU2V0dXAoZSk7YnJlYWs7Y2FzZVwidGxzLWlkXCI6dGhpcy5wYXJzZVRsc0lkKGUpO2JyZWFrO2Nhc2VcImlkZW50aXR5XCI6dGhpcy5wYXJzZUlkZW50aXR5KGUpO2JyZWFrO2Nhc2VcImV4dG1hcFwiOnRoaXMucGFyc2VFeHRtYXAoZSk7YnJlYWs7Y2FzZVwibXNpZC1zZW1hbnRpY1wiOnRoaXMucGFyc2VNc2lkU2VtYW50aWMoZSk7YnJlYWs7ZGVmYXVsdDplLmlnbm9yZWQ9ITAsdGhpcy5hdHRyaWJ1dGVzLnVucmVjb2duaXplZC5wdXNoKGUpfX1jYXRjaCh0KXt0aHJvdyBjb25zb2xlLmVycm9yKFwicGFyc2luZyBzZXNzaW9uIGF0dHJpYnV0ZSBcIi5jb25jYXQoZS5hdHRGaWVsZCwnIGVycm9yLCBcImE9JykuY29uY2F0KGUuYXR0RmllbGQsXCI6XCIpLmNvbmNhdChlLmF0dFZhbHVlLCdcIicpKSx0fWlmKCFlLmlnbm9yZWQmJmUuYXR0VmFsdWUmJiF0aGlzLmF0RW5kKGUpKXRocm93IG5ldyBFcnJvcihcImF0dHJpYnV0ZSBwYXJzaW5nIGVycm9yXCIpfWRpZ2VzdCgpe3JldHVybiB0aGlzLmRpZ2VzdGVkPSEwLHRoaXMuYXR0cmlidXRlc31wYXJzZUdyb3VwKGUpe2NvbnN0IHQ9dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lVG9rZW4pLGk9W107Zm9yKDshdGhpcy5hdEVuZChlKSYmdGhpcy5wZWVrQ2hhcihlKT09PW87KXRoaXMuY29uc3VtZUF0dHJpYnV0ZVNwYWNlKGUpLGkucHVzaCh0aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWVUb2tlbikpO3RoaXMuYXR0cmlidXRlcy5ncm91cHMucHVzaCh7c2VtYW50aWM6dCxpZGVudGlmaWNhdGlvblRhZzppfSl9cGFyc2VJY2VMaXRlKCl7aWYodGhpcy5hdHRyaWJ1dGVzLmljZUxpdGUpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBpY2UtbGl0ZSwgc2hvdWxkIGJlIG9ubHkgYSBzaW5nbGUgbGluZSBvZiAnYT1pY2UtbGl0ZSdcIik7dGhpcy5hdHRyaWJ1dGVzLmljZUxpdGU9ITB9cGFyc2VUbHNJZChlKXtpZih0aGlzLmF0dHJpYnV0ZXMudGxzSWQpdGhyb3cgbmV3IEVycm9yKFwibXVzdCBiZSBvbmx5IG9uZSB0bGQtaWQgbGluZVwiKTt0aGlzLmF0dHJpYnV0ZXMudGxzSWQ9dGhpcy5leHRyYWN0T25lT3JNb3JlKGUsbSl9cGFyc2VJZGVudGl0eShlKXtjb25zdCB0PXRoaXMuZXh0cmFjdE9uZU9yTW9yZShlLGYpLGk9W107Zm9yKDshdGhpcy5hdEVuZChlKSYmdGhpcy5wZWVrQ2hhcihlKT09PW87KXt0aGlzLmNvbnN1bWVBdHRyaWJ1dGVTcGFjZShlKTtjb25zdCB0PXRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZVRva2VuKTt0aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWUsXCI9XCIpO2NvbnN0IG49dGhpcy5leHRyYWN0T25lT3JNb3JlKGUsKGU9PmUhPT1vJiZfKGUpKSk7aS5wdXNoKHtuYW1lOnQsdmFsdWU6bn0pfXRoaXMuYXR0cmlidXRlcy5pZGVudGl0aWVzLnB1c2goe2Fzc2VydGlvblZhbHVlOnQsZXh0ZW5zaW9uczppfSl9cGFyc2VNc2lkU2VtYW50aWMoZSl7dGhpcy5wZWVrQ2hhcihlKT09PW8mJnRoaXMuY29uc3VtZUF0dHJpYnV0ZVNwYWNlKGUpO2NvbnN0IHQ9e3NlbWFudGljOnRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZVRva2VuKSxpZGVudGlmaWVyTGlzdDpbXX07Zm9yKDs7KXt0cnl7dGhpcy5jb25zdW1lQXR0cmlidXRlU3BhY2UoZSl9Y2F0Y2goZSl7YnJlYWt9aWYoXCIqXCI9PT10aGlzLnBlZWtDaGFyKGUpKXt0aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWUsXCIqXCIpLHQuYXBwbHlGb3JBbGw9ITA7YnJlYWt9e2NvbnN0IGk9dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lVGlsbCxvKTt0LmlkZW50aWZpZXJMaXN0LnB1c2goaSl9fXRoaXMuYXR0cmlidXRlcy5tc2lkU2VtYW50aWM9dH19Y2xhc3MgeSBleHRlbmRzIEl7Y29uc3RydWN0b3IoZSl7c3VwZXIoKSxnKHRoaXMsXCJhdHRyaWJ1dGVzXCIsdm9pZCAwKSwtMSE9PWUucHJvdG9zLmluZGV4T2YoXCJSVFBcIil8fGUucHJvdG9zLmluZGV4T2YoXCJydHBcIiksdGhpcy5hdHRyaWJ1dGVzPXt1bnJlY29nbml6ZWQ6W10sY2FuZGlkYXRlczpbXSxleHRtYXBzOltdLGZpbmdlcnByaW50czpbXSxpbWFnZWF0dHI6W10sbXNpZHM6W10scmVtb3RlQ2FuZGlkYXRlc0xpc3Q6W10scmlkczpbXSxzc3JjczpbXSxzc3JjR3JvdXBzOltdLHJ0Y3BGZWVkYmFja1dpbGRjYXJkczpbXSxwYXlsb2FkczpbXX19cGFyc2UoZSl7aWYodGhpcy5kaWdlc3RlZCl0aHJvdyBuZXcgRXJyb3IoXCJhbHJlYWR5IGRpZ2VzdGVkXCIpO3RyeXtzd2l0Y2goZS5hdHRGaWVsZCl7Y2FzZVwiZXh0bWFwXCI6dGhpcy5wYXJzZUV4dG1hcChlKTticmVhaztjYXNlXCJzZXR1cFwiOnRoaXMucGFyc2VTZXR1cChlKTticmVhaztjYXNlXCJpY2UtdWZyYWdcIjp0aGlzLnBhcnNlSWNlVWZyYWcoZSk7YnJlYWs7Y2FzZVwiaWNlLXB3ZFwiOnRoaXMucGFyc2VJY2VQd2QoZSk7YnJlYWs7Y2FzZVwiaWNlLW9wdGlvbnNcIjp0aGlzLnBhcnNlSWNlT3B0aW9ucyhlKTticmVhaztjYXNlXCJjYW5kaWRhdGVcIjp0aGlzLnBhcnNlQ2FuZGlkYXRlKGUpO2JyZWFrO2Nhc2VcInJlbW90ZS1jYW5kaWRhdGVcIjp0aGlzLnBhcnNlUmVtb3RlQ2FuZGlkYXRlKGUpO2JyZWFrO2Nhc2VcImVuZC1vZi1jYW5kaWRhdGVzXCI6dGhpcy5wYXJzZUVuZE9mQ2FuZGlkYXRlcygpO2JyZWFrO2Nhc2VcImZpbmdlcnByaW50XCI6dGhpcy5wYXJzZUZpbmdlcnByaW50KGUpO2JyZWFrO2Nhc2VcInJ0cG1hcFwiOnRoaXMucGFyc2VSdHBtYXAoZSk7YnJlYWs7Y2FzZVwicHRpbWVcIjp0aGlzLnBhcnNlUHRpbWUoZSk7YnJlYWs7Y2FzZVwibWF4cHRpbWVcIjp0aGlzLnBhcnNlTWF4UHRpbWUoZSk7YnJlYWs7Y2FzZVwic2VuZHJlY3ZcIjpjYXNlXCJyZWN2b25seVwiOmNhc2VcInNlbmRvbmx5XCI6Y2FzZVwiaW5hY3RpdmVcIjp0aGlzLnBhcnNlRGlyZWN0aW9uKGUpO2JyZWFrO2Nhc2VcInNzcmNcIjp0aGlzLnBhcnNlU1NSQyhlKTticmVhaztjYXNlXCJmbXRwXCI6dGhpcy5wYXJzZUZtdHAoZSk7YnJlYWs7Y2FzZVwicnRjcC1mYlwiOnRoaXMucGFyc2VSdGNwRmIoZSk7YnJlYWs7Y2FzZVwicnRjcC1tdXhcIjp0aGlzLnBhcnNlUlRDUE11eCgpO2JyZWFrO2Nhc2VcInJ0Y3AtbXV4LW9ubHlcIjp0aGlzLnBhcnNlUlRDUE11eE9ubHkoKTticmVhaztjYXNlXCJydGNwLXJzaXplXCI6dGhpcy5wYXJzZVJUQ1BSc2l6ZSgpO2JyZWFrO2Nhc2VcInJ0Y3BcIjp0aGlzLnBhcnNlUlRDUChlKTticmVhaztjYXNlXCJtaWRcIjp0aGlzLnBhcnNlTWlkKGUpO2JyZWFrO2Nhc2VcIm1zaWRcIjp0aGlzLnBhcnNlTXNpZChlKTticmVhaztjYXNlXCJpbWFnZWF0dHJcIjp0aGlzLnBhcnNlSW1hZ2VBdHRyKGUpO2JyZWFrO2Nhc2VcInJpZFwiOnRoaXMucGFyc2VSaWQoZSk7YnJlYWs7Y2FzZVwic2ltdWxjYXN0XCI6dGhpcy5wYXJzZVNpbXVsY2FzdChlKTticmVhaztjYXNlXCJzY3RwLXBvcnRcIjp0aGlzLnBhcnNlU2N0cFBvcnQoZSk7YnJlYWs7Y2FzZVwibWF4LW1lc3NhZ2Utc2l6ZVwiOnRoaXMucGFyc2VNYXhNZXNzYWdlU2l6ZShlKTticmVhaztjYXNlXCJzc3JjLWdyb3VwXCI6dGhpcy5wYXJzZVNTUkNHcm91cChlKTticmVhaztkZWZhdWx0OmUuaWdub3JlZD0hMCx0aGlzLmF0dHJpYnV0ZXMudW5yZWNvZ25pemVkLnB1c2goZSl9fWNhdGNoKHQpe3Rocm93IGNvbnNvbGUuZXJyb3IoXCJwYXJzaW5nIG1lZGlhIGF0dHJpYnV0ZSBcIi5jb25jYXQoZS5hdHRGaWVsZCwnIGVycm9yLCBcImE9JykuY29uY2F0KGUuYXR0RmllbGQsXCI6XCIpLmNvbmNhdChlLmF0dFZhbHVlLCdcIicpKSx0fWlmKCFlLmlnbm9yZWQmJmUuYXR0VmFsdWUmJiF0aGlzLmF0RW5kKGUpKXRocm93IG5ldyBFcnJvcihcImF0dHJpYnV0ZSBwYXJzaW5nIGVycm9yXCIpfXBhcnNlQ2FuZGlkYXRlKGUpe2NvbnN0IHQ9dGhpcy5leHRyYWN0T25lT3JNb3JlKGUsRSxbMSwzMl0pO3RoaXMuY29uc3VtZUF0dHJpYnV0ZVNwYWNlKGUpO2NvbnN0IGk9dGhpcy5leHRyYWN0T25lT3JNb3JlKGUsYSxbMSw1XSk7dGhpcy5jb25zdW1lQXR0cmlidXRlU3BhY2UoZSk7Y29uc3Qgbj10aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWVUb2tlbik7dGhpcy5jb25zdW1lQXR0cmlidXRlU3BhY2UoZSk7Y29uc3Qgcj10aGlzLmV4dHJhY3RPbmVPck1vcmUoZSxhLFsxLDEwXSk7dGhpcy5jb25zdW1lQXR0cmlidXRlU3BhY2UoZSk7Y29uc3Qgcz10aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWVBZGRyZXNzKTt0aGlzLmNvbnN1bWVBdHRyaWJ1dGVTcGFjZShlKTtjb25zdCBkPXRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZVBvcnQpO3RoaXMuY29uc3VtZUF0dHJpYnV0ZVNwYWNlKGUpLHRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZSxcInR5cFwiKSx0aGlzLmNvbnN1bWVBdHRyaWJ1dGVTcGFjZShlKTtjb25zdCBsPXtmb3VuZGF0aW9uOnQsY29tcG9uZW50SWQ6aSx0cmFuc3BvcnQ6bixwcmlvcml0eTpyLGNvbm5lY3Rpb25BZGRyZXNzOnMscG9ydDpkLHR5cGU6dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lVG9rZW4pLGV4dGVuc2lvbjp7fX07Zm9yKHRoaXMucGVlayhlLFwiIHJhZGRyXCIpJiYodGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lLFwiIHJhZGRyXCIpLHRoaXMuY29uc3VtZUF0dHJpYnV0ZVNwYWNlKGUpLGwucmVsQWRkcj10aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWVBZGRyZXNzKSksdGhpcy5wZWVrKGUsXCIgcnBvcnRcIikmJih0aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWUsXCIgcnBvcnRcIiksdGhpcy5jb25zdW1lQXR0cmlidXRlU3BhY2UoZSksbC5yZWxQb3J0PXRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZVBvcnQpKTt0aGlzLnBlZWtDaGFyKGUpPT09bzspe3RoaXMuY29uc3VtZUF0dHJpYnV0ZVNwYWNlKGUpO2NvbnN0IHQ9dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lVG9rZW4pO3RoaXMuY29uc3VtZUF0dHJpYnV0ZVNwYWNlKGUpLGwuZXh0ZW5zaW9uW3RdPXRoaXMuZXh0cmFjdE9uZU9yTW9yZShlLGMpfXRoaXMuYXR0cmlidXRlcy5jYW5kaWRhdGVzLnB1c2gobCl9cGFyc2VSZW1vdGVDYW5kaWRhdGUoZSl7Y29uc3QgdD1bXTtmb3IoOzspe2NvbnN0IGk9dGhpcy5leHRyYWN0T25lT3JNb3JlKGUsYSxbMSw1XSk7dGhpcy5jb25zdW1lQXR0cmlidXRlU3BhY2UoZSk7Y29uc3Qgbj10aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWVBZGRyZXNzKTt0aGlzLmNvbnN1bWVBdHRyaWJ1dGVTcGFjZShlKTtjb25zdCByPXRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZVBvcnQpO3QucHVzaCh7Y29tcG9uZW50SWQ6aSxjb25uZWN0aW9uQWRkcmVzczpuLHBvcnQ6cn0pO3RyeXt0aGlzLmNvbnN1bWVBdHRyaWJ1dGVTcGFjZShlKX1jYXRjaChlKXticmVha319dGhpcy5hdHRyaWJ1dGVzLnJlbW90ZUNhbmRpZGF0ZXNMaXN0LnB1c2godCl9cGFyc2VFbmRPZkNhbmRpZGF0ZXMoKXtpZih0aGlzLmF0dHJpYnV0ZXMuZW5kT2ZDYW5kaWRhdGVzKXRocm93IG5ldyBFcnJvcihcIm11c3QgYmUgb25seSBvbmUgbGluZSBvZiBlbmQtb2YtY2FuZGlkYXRlc1wiKTt0aGlzLmF0dHJpYnV0ZXMuZW5kT2ZDYW5kaWRhdGVzPSEwfXBhcnNlUnRwbWFwKGUpe2NvbnN0IHQ9dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lVG9rZW4pO3RoaXMuY29uc3VtZUF0dHJpYnV0ZVNwYWNlKGUpO2NvbnN0IGk9dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lVGlsbCxcIi9cIik7dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lLFwiL1wiKTtjb25zdCBuPXtlbmNvZGluZ05hbWU6aSxjbG9ja1JhdGU6dGhpcy5leHRyYWN0T25lT3JNb3JlKGUsYSl9O3RoaXMuYXRFbmQoZSl8fFwiL1wiIT09dGhpcy5wZWVrQ2hhcihlKXx8KHRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZSxcIi9cIiksbi5lbmNvZGluZ1BhcmFtZXRlcnM9cGFyc2VJbnQodGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lVGlsbCksMTApKTtjb25zdCByPXRoaXMuYXR0cmlidXRlcy5wYXlsb2Fkcy5maW5kKChlPT5lLnBheWxvYWRUeXBlPT09cGFyc2VJbnQodCwxMCkpKTtyP3IucnRwTWFwPW46dGhpcy5hdHRyaWJ1dGVzLnBheWxvYWRzLnB1c2goe3BheWxvYWRUeXBlOnBhcnNlSW50KHQsMTApLHJ0cE1hcDpuLHJ0Y3BGZWVkYmFja3M6W119KX1wYXJzZVB0aW1lKGUpe2lmKHRoaXMuYXR0cmlidXRlcy5wdGltZSl0aHJvdyBuZXcgRXJyb3IoXCJtdXN0IGJlIG9ubHkgb25lIGxpbmUgb2YgcHRpbWVcIik7dGhpcy5hdHRyaWJ1dGVzLnB0aW1lPXRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZVRpbGwpfXBhcnNlTWF4UHRpbWUoZSl7aWYodGhpcy5hdHRyaWJ1dGVzLm1heFB0aW1lKXRocm93IG5ldyBFcnJvcihcIm11c3QgYmUgb25seSBvbmUgbGluZSBvZiBwdGltZVwiKTt0aGlzLmF0dHJpYnV0ZXMubWF4UHRpbWU9dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lVGlsbCl9cGFyc2VEaXJlY3Rpb24oZSl7aWYodGhpcy5hdHRyaWJ1dGVzLmRpcmVjdGlvbil0aHJvdyBuZXcgRXJyb3IoXCJtdXN0IGJlIG9ubHkgb25lIGxpbmUgb2YgZGlyZWN0aW9uIGluZm9cIik7dGhpcy5hdHRyaWJ1dGVzLmRpcmVjdGlvbj1lLmF0dEZpZWxkfXBhcnNlU1NSQyhlKXtjb25zdCB0PXRoaXMuZXh0cmFjdE9uZU9yTW9yZShlLGEpO3RoaXMuY29uc3VtZUF0dHJpYnV0ZVNwYWNlKGUpO2NvbnN0IGk9dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lVGlsbCxcIjpcIik7bGV0IG47XCI6XCI9PT10aGlzLnBlZWtDaGFyKGUpJiYodGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lLFwiOlwiKSxuPXRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZVRpbGwpKTtjb25zdCByPXRoaXMuYXR0cmlidXRlcy5zc3Jjcy5maW5kKChlPT5lLnNzcmNJZD09PXBhcnNlSW50KHQsMTApKSk7cj9yLmF0dHJpYnV0ZXNbaV09bjp0aGlzLmF0dHJpYnV0ZXMuc3NyY3MucHVzaCh7c3NyY0lkOnBhcnNlSW50KHQsMTApLGF0dHJpYnV0ZXM6e1tpXTpufX0pfXBhcnNlRm10cChlKXtjb25zdCB0PXRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZVRpbGwsbyk7dGhpcy5jb25zdW1lQXR0cmlidXRlU3BhY2UoZSk7Y29uc3QgaT10aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWVUaWxsKSxuPXt9O2kuc3BsaXQoXCI7XCIpLmZvckVhY2goKGU9PntsZXRbdCxpXT1lLnNwbGl0KFwiPVwiKTt0PWpwKHQpLmNhbGwodCk7Y29uc3Qgcj1cInN0cmluZ1wiPT10eXBlb2YgaT9qcChpKS5jYWxsKGkpOm51bGw7XCJzdHJpbmdcIj09dHlwZW9mIHQmJnQubGVuZ3RoPjAmJihuW3RdPXIpfSkpO2NvbnN0IHI9dGhpcy5hdHRyaWJ1dGVzLnBheWxvYWRzLmZpbmQoKGU9PmUucGF5bG9hZFR5cGU9PT1wYXJzZUludCh0LDEwKSkpO3I/ci5mbXRwPXtwYXJhbWV0ZXJzOm59OnRoaXMuYXR0cmlidXRlcy5wYXlsb2Fkcy5wdXNoKHtwYXlsb2FkVHlwZTpwYXJzZUludCh0LDEwKSxydGNwRmVlZGJhY2tzOltdLGZtdHA6e3BhcmFtZXRlcnM6bn19KX1wYXJzZUZtdFBhcmFtZXRlcnMoZSl7Y29uc3QgdD17fSxpPXRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZVRpbGwsXCI9XCIpO2UuX2N1cisrO2NvbnN0IG49dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lVGlsbCxcIjtcIik7Zm9yKHRbaV09bjtcIjtcIj09PWUuYXR0VmFsdWVbZS5fY3VyXTspe2NvbnN0IGk9dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lVGlsbCxcIj1cIik7ZS5fY3VyKys7Y29uc3Qgbj10aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWVUaWxsLFwiO1wiKTt0W2ldPW59cmV0dXJuIHR9cGFyc2VSdGNwRmIoZSl7bGV0IHQ9XCJcIjt0PVwiKlwiPT09dGhpcy5wZWVrQ2hhcihlKT90aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWUsXCIqXCIpOnRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZVRpbGwsbyksdGhpcy5jb25zdW1lQXR0cmlidXRlU3BhY2UoZSk7Y29uc3QgaT10aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWVUaWxsLG8pO2xldCBuO2lmKFwidHJyLWludFwiPT09aSluPXt0eXBlOmksaW50ZXJ2YWw6dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lVGlsbCl9O2Vsc2V7Y29uc3QgdD17dHlwZTppfTt0aGlzLnBlZWtDaGFyKGUpPT09byYmKHRoaXMuY29uc3VtZUF0dHJpYnV0ZVNwYWNlKGUpLHQucGFyYW1ldGVyPXRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZVRva2VuKSx0aGlzLnBlZWtDaGFyKGUpPT09byYmKHQuYWRkaXRpb25hbD10aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWVUaWxsKSkpLG49dH1pZihcIipcIj09PXQpdGhpcy5hdHRyaWJ1dGVzLnJ0Y3BGZWVkYmFja1dpbGRjYXJkcy5wdXNoKG4pO2Vsc2V7Y29uc3QgZT10aGlzLmF0dHJpYnV0ZXMucGF5bG9hZHMuZmluZCgoZT0+ZS5wYXlsb2FkVHlwZT09PXBhcnNlSW50KHQsMTApKSk7ZT9lLnJ0Y3BGZWVkYmFja3MucHVzaChuKTp0aGlzLmF0dHJpYnV0ZXMucGF5bG9hZHMucHVzaCh7cGF5bG9hZFR5cGU6cGFyc2VJbnQodCwxMCkscnRjcEZlZWRiYWNrczpbbl19KX19cGFyc2VSVENQTXV4KCl7aWYodGhpcy5hdHRyaWJ1dGVzLnJ0Y3BNdXgpdGhyb3cgbmV3IEVycm9yKFwibXVzdCBiZSBzaW5nbGUgbGluZSBvZiBydGNwLW11eFwiKTt0aGlzLmF0dHJpYnV0ZXMucnRjcE11eD0hMH1wYXJzZVJUQ1BNdXhPbmx5KCl7aWYodGhpcy5hdHRyaWJ1dGVzLnJ0Y3BNdXhPbmx5KXRocm93IG5ldyBFcnJvcihcIm11c3QgYmUgc2luZ2xlIGxpbmUgb2YgcnRjcC1vbmx5XCIpO3RoaXMuYXR0cmlidXRlcy5ydGNwTXV4T25seT0hMH1wYXJzZVJUQ1BSc2l6ZSgpe2lmKHRoaXMuYXR0cmlidXRlcy5ydGNwUnNpemUpdGhyb3cgbmV3IEVycm9yKFwibXVzdCBiZSBzaW5nbGUgbGluZSBvZiBydGNwLXJzaXplXCIpO3RoaXMuYXR0cmlidXRlcy5ydGNwUnNpemU9ITB9cGFyc2VSVENQKGUpe2lmKHRoaXMuYXR0cmlidXRlcy5ydGNwKXRocm93IG5ldyBFcnJvcihcIm11c3QgYmUgc2luZ2xlIGxpbmUgb2YgcnRjcFwiKTtjb25zdCB0PXtwb3J0OnRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZVBvcnQpfTt0aGlzLnBlZWtDaGFyKGUpPT09byYmKHRoaXMuY29uc3VtZUF0dHJpYnV0ZVNwYWNlKGUpLHQubmV0VHlwZT10aGlzLmV4dHJhY3RPbmVPck1vcmUoZSxsKSx0aGlzLmNvbnN1bWVBdHRyaWJ1dGVTcGFjZShlKSx0LmFkZHJlc3NUeXBlPXRoaXMuZXh0cmFjdE9uZU9yTW9yZShlLGwpLHRoaXMuY29uc3VtZUF0dHJpYnV0ZVNwYWNlKGUpLHQuYWRkcmVzcz10aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWVBZGRyZXNzKSksdGhpcy5hdHRyaWJ1dGVzLnJ0Y3A9dH1wYXJzZU1zaWQoZSl7Y29uc3QgdD17aWQ6dGhpcy5leHRyYWN0T25lT3JNb3JlKGUsbCxbMSw2NF0pfTt0aGlzLnBlZWtDaGFyKGUpPT09byYmKHRoaXMuY29uc3VtZUF0dHJpYnV0ZVNwYWNlKGUpLHQuYXBwZGF0YT10aGlzLmV4dHJhY3RPbmVPck1vcmUoZSxsLFsxLDY0XSkpLHRoaXMuYXR0cmlidXRlcy5tc2lkcy5wdXNoKHQpfXBhcnNlSW1hZ2VBdHRyKGUpe3RoaXMuYXR0cmlidXRlcy5pbWFnZWF0dHIucHVzaChlLmF0dFZhbHVlKX1wYXJzZVJpZChlKXtjb25zdCB0PXRoaXMuZXh0cmFjdE9uZU9yTW9yZShlLChlPT5oKGUpfHxhKGUpfHxcIl9cIj09PWV8fFwiLVwiPT09ZSkpO3RoaXMuY29uc3VtZUF0dHJpYnV0ZVNwYWNlKGUpO2NvbnN0IGk9e2lkOnQsZGlyZWN0aW9uOnRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZVRva2VuKSxwYXJhbXM6W119O2lmKHRoaXMucGVla0NoYXIoZSk9PT1vKXtpZih0aGlzLmNvbnN1bWVBdHRyaWJ1dGVTcGFjZShlKSx0aGlzLnBlZWsoZSxcInB0PVwiKSl7dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lLFwicHQ9XCIpO2NvbnN0IHQ9W107Zm9yKDs7KXtjb25zdCBpPXRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZVRva2VuKTt0LnB1c2goaSk7dHJ5e3RoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZSxcIixcIil9Y2F0Y2goZSl7YnJlYWt9fWkucGF5bG9hZHM9dCx0aGlzLnBlZWtDaGFyKGUpPT09byYmdGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lLG8pfWZvcig7Oyl7Y29uc3QgdD10aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWVUb2tlbik7c3dpdGNoKHQpe2Nhc2VcImRlcGVuZFwiOntjb25zdCBuPXt0eXBlOnQscmlkczp0aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWUsXCI9XCIpLnNwbGl0KFwiLFwiKX07aS5wYXJhbXMucHVzaChuKTticmVha31kZWZhdWx0Ontjb25zdCBuPXt0eXBlOnR9O1wiPVwiPT09dGhpcy5wZWVrQ2hhcihlKSYmKHRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZSxcIj1cIiksbi52YWw9dGhpcy5leHRyYWN0KGUsdGhpcy5jb25zdW1lVGlsbCxcIjtcIikpLGkucGFyYW1zLnB1c2gobil9fXRyeXt0aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWUsXCI7XCIpfWNhdGNoKGUpe2JyZWFrfX19dGhpcy5hdHRyaWJ1dGVzLnJpZHMucHVzaChpKX1wYXJzZVNpbXVsY2FzdChlKXtpZih0aGlzLmF0dHJpYnV0ZXMuc2ltdWxjYXN0KXRocm93IG5ldyBFcnJvcihcIm11c3QgYmUgc2luZ2xlIGxpbmUgb2Ygc2ltdWxjYXN0XCIpO3RoaXMuYXR0cmlidXRlcy5zaW11bGNhc3Q9ZS5hdHRWYWx1ZSx0aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWVUaWxsKX1wYXJzZVNjdHBQb3J0KGUpe3RoaXMuYXR0cmlidXRlcy5zY3RwUG9ydD10aGlzLmV4dHJhY3RPbmVPck1vcmUoZSxhLFsxLDVdKX1wYXJzZU1heE1lc3NhZ2VTaXplKGUpe3RoaXMuYXR0cmlidXRlcy5tYXhNZXNzYWdlU2l6ZT10aGlzLmV4dHJhY3RPbmVPck1vcmUoZSxhLFsxLHZvaWQgMF0pfWRpZ2VzdCgpe3JldHVybiB0aGlzLmRpZ2VzdGVkPSEwLHRoaXMuYXR0cmlidXRlc31wYXJzZU1pZChlKXt0aGlzLmF0dHJpYnV0ZXMubWlkPXRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZVRva2VuKX1wYXJzZVNTUkNHcm91cChlKXtjb25zdCB0PXRoaXMuZXh0cmFjdChlLHRoaXMuY29uc3VtZVRva2VuKSxpPVtdO2Zvcig7Oyl0cnl7dGhpcy5jb25zdW1lQXR0cmlidXRlU3BhY2UoZSk7Y29uc3QgdD10aGlzLmV4dHJhY3QoZSx0aGlzLmNvbnN1bWVJbnRlZ2VyKTtpLnB1c2gocGFyc2VJbnQodCwxMCkpfWNhdGNoKGUpe2JyZWFrfXRoaXMuYXR0cmlidXRlcy5zc3JjR3JvdXBzLnB1c2goe3NlbWFudGljOnQsc3NyY0lkczppfSl9fWZ1bmN0aW9uIEEoZSx0LGkpe3JldHVybiB0IGluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6aSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09aSxlfWNsYXNzIGJ7Y29uc3RydWN0b3IoKXtBKHRoaXMsXCJlb2xcIixyKX1wcmludChlLHQpe2xldCBpPVwiXCI7cmV0dXJuIHQmJih0aGlzLmVvbD10KSxpKz10aGlzLnByaW50VmVyc2lvbihlLnZlcnNpb24pLGkrPXRoaXMucHJpbnRPcmlnaW4oZS5vcmlnaW4pLGkrPXRoaXMucHJpbnRTZXNzaW9uTmFtZShlLnNlc3Npb25OYW1lKSxpKz10aGlzLnByaW50SW5mb3JtYXRpb24oZS5pbmZvcm1hdGlvbiksaSs9dGhpcy5wcmludFVyaShlLnVyaSksaSs9dGhpcy5wcmludEVtYWlsKGUuZW1haWxzKSxpKz10aGlzLnByaW50UGhvbmUoZS5waG9uZXMpLGkrPXRoaXMucHJpbnRDb25uZWN0aW9uKGUuY29ubmVjdGlvbiksaSs9dGhpcy5wcmludEJhbmR3aWR0aChlLmJhbmR3aWR0aHMpLGkrPXRoaXMucHJpbnRUaW1lRmllbGRzKGUudGltZUZpZWxkcyksaSs9dGhpcy5wcmludEtleShlLmtleSksaSs9dGhpcy5wcmludFNlc3Npb25BdHRyaWJ1dGVzKGUuYXR0cmlidXRlcyksaSs9dGhpcy5wcmludE1lZGlhRGVzY3JpcHRpb24oZS5tZWRpYURlc2NyaXB0aW9ucyksaX1wcmludFZlcnNpb24oZSl7cmV0dXJuXCJ2PVwiLmNvbmNhdChlKS5jb25jYXQodGhpcy5lb2wpfXByaW50T3JpZ2luKGUpe3JldHVyblwibz1cIi5jb25jYXQoZS51c2VybmFtZSxcIiBcIikuY29uY2F0KGUuc2Vzc0lkLFwiIFwiKS5jb25jYXQoZS5zZXNzVmVyc2lvbixcIiBcIikuY29uY2F0KGUubmV0dHlwZSxcIiBcIikuY29uY2F0KGUuYWRkcnR5cGUsXCIgXCIpLmNvbmNhdChlLnVuaWNhc3RBZGRyZXNzKS5jb25jYXQodGhpcy5lb2wpfXByaW50U2Vzc2lvbk5hbWUoZSl7cmV0dXJuIGU/XCJzPVwiLmNvbmNhdChlKS5jb25jYXQodGhpcy5lb2wpOlwiXCJ9cHJpbnRJbmZvcm1hdGlvbihlKXtyZXR1cm4gZT9cImk9XCIuY29uY2F0KGUpLmNvbmNhdCh0aGlzLmVvbCk6XCJcIn1wcmludFVyaShlKXtyZXR1cm4gZT9cInU9XCIuY29uY2F0KGUpLmNvbmNhdCh0aGlzLmVvbCk6XCJcIn1wcmludEVtYWlsKGUpe2xldCB0PVwiXCI7Zm9yKGNvbnN0IGkgb2YgZSl0Kz1cImU9XCIuY29uY2F0KGkpLmNvbmNhdCh0aGlzLmVvbCk7cmV0dXJuIHR9cHJpbnRQaG9uZShlKXtsZXQgdD1cIlwiO2Zvcihjb25zdCBpIG9mIGUpdCs9XCJlPVwiLmNvbmNhdChpKS5jb25jYXQodGhpcy5lb2wpO3JldHVybiB0fXByaW50Q29ubmVjdGlvbihlKXtyZXR1cm4gZT9cImM9XCIuY29uY2F0KGUubmV0dHlwZSxcIiBcIikuY29uY2F0KGUuYWRkcnR5cGUsXCIgXCIpLmNvbmNhdChlLmFkZHJlc3MpLmNvbmNhdCh0aGlzLmVvbCk6XCJcIn1wcmludEJhbmR3aWR0aChlKXtsZXQgdD1cIlwiO2Zvcihjb25zdCBpIG9mIGUpdCs9XCJiPVwiLmNvbmNhdChpLmJ3dHlwZSxcIjpcIikuY29uY2F0KGkuYmFuZHdpZHRoKS5jb25jYXQodGhpcy5lb2wpO3JldHVybiB0fXByaW50VGltZUZpZWxkcyhlKXtsZXQgdD1cIlwiO2Zvcihjb25zdCBpIG9mIGUpe3QrPVwidD1cIi5jb25jYXQoaS50aW1lLnN0YXJ0VGltZSxcIiBcIikuY29uY2F0KGkudGltZS5zdGFydFRpbWUpLmNvbmNhdCh0aGlzLmVvbCk7Zm9yKGNvbnN0IGUgb2YgaS5yZXBlYXRzKXQrPVwicj1cIi5jb25jYXQoZS5yZXBlYXRJbnRlcnZhbCxcIiBcIikuY29uY2F0KGUudHlwZWRUaW1lcy5qb2luKFwiIFwiKSkuY29uY2F0KHRoaXMuZW9sKTtpLnpvbmVBZGp1c3RtZW50cyYmKHQrPVwiej1cIix0Kz1cIno9XCIuY29uY2F0KGkuem9uZUFkanVzdG1lbnRzLm1hcCgoZT0+XCJcIi5jb25jYXQoZS50aW1lLFwiIFwiKS5jb25jYXQoZS5iYWNrP1wiLVwiOlwiXCIsXCIgXCIpLmNvbmNhdChlLnR5cGVkVGltZSkpKS5qb2luKFwiIFwiKSkuY29uY2F0KHRoaXMuZW9sKSx0Kz10aGlzLmVvbCl9cmV0dXJuIHR9cHJpbnRLZXkoZSl7cmV0dXJuIGU/XCJrPVwiLmNvbmNhdChlKS5jb25jYXQodGhpcy5lb2wpOlwiXCJ9cHJpbnRBdHRyaWJ1dGVzKGUpe2xldCB0PVwiXCI7Zm9yKGNvbnN0IGkgb2YgZSl0Kz1cImE9XCIuY29uY2F0KGkuYXR0RmllbGQpLmNvbmNhdChpLmF0dFZhbHVlP1wiOlwiLmNvbmNhdChpLmF0dFZhbHVlKTpcIlwiKS5jb25jYXQodGhpcy5lb2wpO3JldHVybiB0fXByaW50TWVkaWFEZXNjcmlwdGlvbihlKXtsZXQgdD1cIlwiO2Zvcihjb25zdCBpIG9mIGUpdCs9dGhpcy5wcmludE1lZGlhKGkubWVkaWEpLHQrPXRoaXMucHJpbnRJbmZvcm1hdGlvbihpLmluZm9ybWF0aW9uKSx0Kz10aGlzLnByaW50Q29ubmVjdGlvbnMoaS5jb25uZWN0aW9ucyksdCs9dGhpcy5wcmludEJhbmR3aWR0aChpLmJhbmR3aWR0aHMpLHQrPXRoaXMucHJpbnRLZXkoaS5rZXkpLHQrPXRoaXMucHJpbnRNZWRpYUF0dHJpYnV0ZXMoaSk7cmV0dXJuIHR9cHJpbnRDb25uZWN0aW9ucyhlKXtsZXQgdD1cIlwiO2Zvcihjb25zdCBpIG9mIGUpdCs9dGhpcy5wcmludENvbm5lY3Rpb24oaSk7cmV0dXJuIHR9cHJpbnRNZWRpYShlKXtyZXR1cm5cIm09XCIuY29uY2F0KGUubWVkaWFUeXBlLFwiIFwiKS5jb25jYXQoZS5wb3J0LFwiIFwiKS5jb25jYXQoZS5wcm90b3Muam9pbihcIi9cIiksXCIgXCIpLmNvbmNhdChlLmZtdHMuam9pbihcIiBcIikpLmNvbmNhdCh0aGlzLmVvbCl9cHJpbnRTZXNzaW9uQXR0cmlidXRlcyhlKXtyZXR1cm4gbmV3IE8odGhpcy5lb2wpLnByaW50KGUpfXByaW50TWVkaWFBdHRyaWJ1dGVzKGUpe3JldHVybiBuZXcgTih0aGlzLmVvbCkucHJpbnQoZSl9fWNsYXNzIHd7Y29uc3RydWN0b3IoZSl7QSh0aGlzLFwiZW9sXCIsdm9pZCAwKSx0aGlzLmVvbD1lfXByaW50SWNlVWZyYWcoZSl7cmV0dXJuIHZvaWQgMD09PWU/XCJcIjpcImE9aWNlLXVmcmFnOlwiLmNvbmNhdChlKS5jb25jYXQodGhpcy5lb2wpfXByaW50SWNlUHdkKGUpe3JldHVybiB2b2lkIDA9PT1lP1wiXCI6XCJhPWljZS1wd2Q6XCIuY29uY2F0KGUpLmNvbmNhdCh0aGlzLmVvbCl9cHJpbnRJY2VPcHRpb25zKGUpe3JldHVybiB2b2lkIDA9PT1lP1wiXCI6XCJhPWljZS1vcHRpb25zOlwiLmNvbmNhdChlLmpvaW4obykpLmNvbmNhdCh0aGlzLmVvbCl9cHJpbnRGaW5nZXJwcmludHMoZSl7cmV0dXJuIGUubGVuZ3RoPjA/ZS5tYXAoKGU9PlwiYT1maW5nZXJwcmludDpcIi5jb25jYXQoZS5oYXNoRnVuY3Rpb24pLmNvbmNhdChvKS5jb25jYXQoZS5maW5nZXJwcmludCkpKS5qb2luKHRoaXMuZW9sKSt0aGlzLmVvbDpcIlwifXByaW50RXh0bWFwKGUpe3JldHVybiBlLm1hcCgoZT0+XCJhPWV4dG1hcDpcIi5jb25jYXQoZS5lbnRyeSkuY29uY2F0KGUuZGlyZWN0aW9uP1wiL1wiLmNvbmNhdChlLmRpcmVjdGlvbik6XCJcIikuY29uY2F0KG8pLmNvbmNhdChlLmV4dGVuc2lvbk5hbWUpLmNvbmNhdChlLmV4dGVuc2lvbkF0dHJpYnV0ZXM/XCJcIi5jb25jYXQobykuY29uY2F0KGUuZXh0ZW5zaW9uQXR0cmlidXRlcyk6XCJcIikuY29uY2F0KHRoaXMuZW9sKSkpLmpvaW4oXCJcIil9cHJpbnRTZXR1cChlKXtyZXR1cm4gdm9pZCAwPT09ZT9cIlwiOlwiYT1zZXR1cDpcIi5jb25jYXQoZSkuY29uY2F0KHRoaXMuZW9sKX1wcmludFVucmVjb2duaXplZChlKXtyZXR1cm4gZS5tYXAoKGU9PlwiYT1cIi5jb25jYXQoZS5hdHRGaWVsZCkuY29uY2F0KGUuYXR0VmFsdWU/XCI6XCIuY29uY2F0KGUuYXR0VmFsdWUpOlwiXCIpLmNvbmNhdCh0aGlzLmVvbCkpKS5qb2luKFwiXCIpfX1jbGFzcyBPIGV4dGVuZHMgd3twcmludChlKXtsZXQgdD1cIlwiO3JldHVybiB0Kz10aGlzLnByaW50R3JvdXBzKGUuZ3JvdXBzKSx0Kz10aGlzLnByaW50TXNpZFNlbWFudGljKGUubXNpZFNlbWFudGljKSx0Kz10aGlzLnByaW50SWNlTGl0ZShlLmljZUxpdGUpLHQrPXRoaXMucHJpbnRJY2VVZnJhZyhlLmljZVVmcmFnKSx0Kz10aGlzLnByaW50SWNlUHdkKGUuaWNlUHdkKSx0Kz10aGlzLnByaW50SWNlT3B0aW9ucyhlLmljZU9wdGlvbnMpLHQrPXRoaXMucHJpbnRGaW5nZXJwcmludHMoZS5maW5nZXJwcmludHMpLHQrPXRoaXMucHJpbnRTZXR1cChlLnNldHVwKSx0Kz10aGlzLnByaW50VGxzSWQoZS50bHNJZCksdCs9dGhpcy5wcmludElkZW50aXR5KGUuaWRlbnRpdGllcyksdCs9dGhpcy5wcmludEV4dG1hcChlLmV4dG1hcHMpLHQrPXRoaXMucHJpbnRVbnJlY29nbml6ZWQoZS51bnJlY29nbml6ZWQpLHR9cHJpbnRHcm91cHMoZSl7bGV0IHQ9XCJcIjtyZXR1cm4gZS5sZW5ndGg+MCYmKHQrPWUubWFwKChlPT5cImE9Z3JvdXA6XCIuY29uY2F0KGUuc2VtYW50aWMpLmNvbmNhdChlLmlkZW50aWZpY2F0aW9uVGFnLm1hcCgoZT0+XCJcIi5jb25jYXQobykuY29uY2F0KGUpKSkuam9pbihcIlwiKSkuY29uY2F0KHRoaXMuZW9sKSkpLmpvaW4oXCJcIikpLHR9cHJpbnRJY2VMaXRlKGUpe3JldHVybiB2b2lkIDA9PT1lP1wiXCI6XCJhPWljZS1saXRlXCIrdGhpcy5lb2x9cHJpbnRUbHNJZChlKXtyZXR1cm4gZT9cImE9dGxzLWlkOlwiLmNvbmNhdChlKS5jb25jYXQodGhpcy5lb2wpOlwiXCJ9cHJpbnRJZGVudGl0eShlKXtyZXR1cm4gMD09PWUubGVuZ3RoP1wiXCI6ZS5tYXAoKGU9PlwiYT1pZGVudGl0eTpcIi5jb25jYXQoZS5hc3NlcnRpb25WYWx1ZSkuY29uY2F0KGUuZXh0ZW5zaW9ucy5tYXAoKGU9PlwiXCIuY29uY2F0KG8pLmNvbmNhdChlLm5hbWUpLmNvbmNhdChlLnZhbHVlP1wiPVwiLmNvbmNhdChlLnZhbHVlKTpcIlwiKSkpKSkpLmpvaW4odGhpcy5lb2wpK3RoaXMuZW9sfXByaW50TXNpZFNlbWFudGljKGUpe2lmKCFlKXJldHVyblwiXCI7bGV0IHQ9XCJhPW1zaWQtc2VtYW50aWM6XCIuY29uY2F0KGUuc2VtYW50aWMpO3JldHVybiBlLmFwcGx5Rm9yQWxsP3QrPVwiXCIuY29uY2F0KG8sXCIqXCIpOmUuaWRlbnRpZmllckxpc3QubGVuZ3RoPjAmJih0Kz1lLmlkZW50aWZpZXJMaXN0Lm1hcCgoZT0+XCJcIi5jb25jYXQobykuY29uY2F0KGUpKSkpLHQrdGhpcy5lb2x9fWNsYXNzIE4gZXh0ZW5kcyB3e3ByaW50KGUpe2NvbnN0IHQ9ZS5hdHRyaWJ1dGVzO2xldCBpPVwiXCI7cmV0dXJuIGkrPXRoaXMucHJpbnRSVENQKHQucnRjcCksaSs9dGhpcy5wcmludEljZVVmcmFnKHQuaWNlVWZyYWcpLGkrPXRoaXMucHJpbnRJY2VQd2QodC5pY2VQd2QpLGkrPXRoaXMucHJpbnRJY2VPcHRpb25zKHQuaWNlT3B0aW9ucyksaSs9dGhpcy5wcmludENhbmRpZGF0ZXModC5jYW5kaWRhdGVzKSxpKz10aGlzLnByaW50UmVtb3RlQ2FuZGlkYXRlc0xpc3QodC5yZW1vdGVDYW5kaWRhdGVzTGlzdCksaSs9dGhpcy5wcmludEVuZE9mQ2FuZGlkYXRlcyh0LmVuZE9mQ2FuZGlkYXRlcyksaSs9dGhpcy5wcmludEZpbmdlcnByaW50cyh0LmZpbmdlcnByaW50cyksaSs9dGhpcy5wcmludFNldHVwKHQuc2V0dXApLGkrPXRoaXMucHJpbnRNaWQodC5taWQpLGkrPXRoaXMucHJpbnRFeHRtYXAodC5leHRtYXBzKSxpKz10aGlzLnByaW50UlRQUmVsYXRlZCh0KSxpKz10aGlzLnByaW50UHRpbWUodC5wdGltZSksaSs9dGhpcy5wcmludE1heFB0aW1lKHQubWF4UHRpbWUpLGkrPXRoaXMucHJpbnREaXJlY3Rpb24odC5kaXJlY3Rpb24pLGkrPXRoaXMucHJpbnRTU1JDR3JvdXBzKHQuc3NyY0dyb3VwcyksaSs9dGhpcy5wcmludFNTUkModC5zc3JjcyksaSs9dGhpcy5wcmludFJUQ1BNdXgodC5ydGNwTXV4KSxpKz10aGlzLnByaW50UlRDUE11eE9ubHkodC5ydGNwTXV4T25seSksaSs9dGhpcy5wcmludFJUQ1BSc2l6ZSh0LnJ0Y3BSc2l6ZSksaSs9dGhpcy5wcmludE1TSWQodC5tc2lkcyksaSs9dGhpcy5wcmludEltYWdlYXR0cih0LmltYWdlYXR0ciksaSs9dGhpcy5wcmludFJpZCh0LnJpZHMpLGkrPXRoaXMucHJpbnRTaW11bGNhc3QodC5zaW11bGNhc3QpLGkrPXRoaXMucHJpbnRTQ1RQUG9ydCh0LnNjdHBQb3J0KSxpKz10aGlzLnByaW50TWF4TWVzc2FnZVNpemUodC5tYXhNZXNzYWdlU2l6ZSksaSs9dGhpcy5wcmludFVucmVjb2duaXplZCh0LnVucmVjb2duaXplZCksaX1wcmludENhbmRpZGF0ZXMoZSl7cmV0dXJuIGUubWFwKChlPT5cImE9Y2FuZGlkYXRlOlwiLmNvbmNhdChlLmZvdW5kYXRpb24pLmNvbmNhdChvKS5jb25jYXQoZS5jb21wb25lbnRJZCkuY29uY2F0KG8pLmNvbmNhdChlLnRyYW5zcG9ydCkuY29uY2F0KG8pLmNvbmNhdChlLnByaW9yaXR5KS5jb25jYXQobykuY29uY2F0KGUuY29ubmVjdGlvbkFkZHJlc3MpLmNvbmNhdChvKS5jb25jYXQoZS5wb3J0KS5jb25jYXQobyxcInR5cFwiKS5jb25jYXQobykuY29uY2F0KGUudHlwZSkuY29uY2F0KGUucmVsQWRkcj9cIlwiLmNvbmNhdChvLFwicmFkZHJcIikuY29uY2F0KG8pLmNvbmNhdChlLnJlbEFkZHIpOlwiXCIpLmNvbmNhdChlLnJlbFBvcnQ/XCJcIi5jb25jYXQobyxcInJwb3J0XCIpLmNvbmNhdChvKS5jb25jYXQoZS5yZWxQb3J0KTpcIlwiKS5jb25jYXQoT2JqZWN0LmtleXMoZS5leHRlbnNpb24pLm1hcCgodD0+XCJcIi5jb25jYXQobykuY29uY2F0KHQpLmNvbmNhdChvKS5jb25jYXQoZS5leHRlbnNpb25bdF0pKSkuam9pbihcIlwiKSkuY29uY2F0KHRoaXMuZW9sKSkpLmpvaW4oXCJcIil9cHJpbnRSZW1vdGVDYW5kaWRhdGVzTGlzdChlKXtyZXR1cm4gZS5tYXAoKGU9PlwiYT1yZW1vdGUtY2FuZGlkYXRlczpcIi5jb25jYXQoZS5qb2luKG8pKS5jb25jYXQodGhpcy5lb2wpKSkuam9pbihcIlwiKX1wcmludEVuZE9mQ2FuZGlkYXRlcyhlKXtyZXR1cm4gdm9pZCAwPT09ZT9cIlwiOlwiYT1lbmQtb2YtY2FuZGlkYXRlc1wiK3RoaXMuZW9sfXByaW50UlRQUmVsYXRlZChlKXtpZighZS5wYXlsb2FkcylyZXR1cm5cIlwiO2NvbnN0IHQ9ZS5wYXlsb2FkcztsZXQgaT1cIlwiO2krPWUucnRjcEZlZWRiYWNrV2lsZGNhcmRzLm1hcCgoZT0+dGhpcy5wcmludFJUQ1BGZWVkYmFjayhcIipcIixlKSkpLmpvaW4oXCJcIik7Zm9yKGNvbnN0IGUgb2YgdClpKz10aGlzLnByaW50UnRwTWFwKGUucGF5bG9hZFR5cGUsZS5ydHBNYXApLGkrPXRoaXMucHJpbnRGbXRwKGUucGF5bG9hZFR5cGUsZS5mbXRwKSxpKz1lLnJ0Y3BGZWVkYmFja3MubWFwKCh0PT50aGlzLnByaW50UlRDUEZlZWRiYWNrKGUucGF5bG9hZFR5cGUsdCkpKS5qb2luKFwiXCIpO3JldHVybiBpfXByaW50Rm10cChlLHQpe2lmKCF0KXJldHVyblwiXCI7Y29uc3QgaT1PYmplY3Qua2V5cyh0LnBhcmFtZXRlcnMpO3JldHVybiAxPT09aS5sZW5ndGgmJm51bGw9PT10LnBhcmFtZXRlcnNbaVswXV0/XCJhPWZtdHA6XCIuY29uY2F0KGUpLmNvbmNhdChvKS5jb25jYXQoaVswXSkuY29uY2F0KHRoaXMuZW9sKTpcImE9Zm10cDpcIi5jb25jYXQoZSkuY29uY2F0KG8pLmNvbmNhdChPYmplY3Qua2V5cyh0LnBhcmFtZXRlcnMpLm1hcCgoZT0+XCJcIi5jb25jYXQoZSxcIj1cIikuY29uY2F0KHQucGFyYW1ldGVyc1tlXSkpKS5qb2luKFwiO1wiKSkuY29uY2F0KHRoaXMuZW9sKX1wcmludFJ0cE1hcChlLHQpe3JldHVybiB0P1wiYT1ydHBtYXA6XCIuY29uY2F0KGUpLmNvbmNhdChvKS5jb25jYXQodC5lbmNvZGluZ05hbWUsXCIvXCIpLmNvbmNhdCh0LmNsb2NrUmF0ZSkuY29uY2F0KHQuZW5jb2RpbmdQYXJhbWV0ZXJzP1wiL1wiLmNvbmNhdCh0LmVuY29kaW5nUGFyYW1ldGVycyk6XCJcIikuY29uY2F0KHRoaXMuZW9sKTpcIlwifXByaW50UlRDUEZlZWRiYWNrKGUsdCl7bGV0IGk9XCJhPXJ0Y3AtZmI6XCIuY29uY2F0KGUpLmNvbmNhdChvKSxuPXQ7cmV0dXJuXCJ0cnItaW50XCI9PT1uLnR5cGU/aSs9XCJ0dHItaW50XCIuY29uY2F0KG8pLmNvbmNhdChuLmludGVydmFsKTooaSs9XCJcIi5jb25jYXQobi50eXBlKSxuLnBhcmFtZXRlciYmKGkrPVwiXCIuY29uY2F0KG8pLmNvbmNhdChuLnBhcmFtZXRlciksbi5hZGRpdGlvbmFsJiYoaSs9XCJcIi5jb25jYXQobykuY29uY2F0KG4uYWRkaXRpb25hbCkpKSksaSt0aGlzLmVvbH1wcmludFB0aW1lKGUpe3JldHVybiB2b2lkIDA9PT1lP1wiXCI6XCJhPXB0aW1lOlwiLmNvbmNhdChlKS5jb25jYXQodGhpcy5lb2wpfXByaW50TWF4UHRpbWUoZSl7cmV0dXJuIHZvaWQgMD09PWU/XCJcIjpcImE9bWF4cHRpbWU6XCIuY29uY2F0KGUpLmNvbmNhdCh0aGlzLmVvbCl9cHJpbnREaXJlY3Rpb24oZSl7cmV0dXJuIHZvaWQgMD09PWU/XCJcIjpcImE9XCIuY29uY2F0KGUpLmNvbmNhdCh0aGlzLmVvbCl9cHJpbnRTU1JDKGUpe3JldHVybiBlLm1hcCgoZT0+T2JqZWN0LmtleXMoZS5hdHRyaWJ1dGVzKS5tYXAoKHQ9PlwiYT1zc3JjOlwiLmNvbmNhdChlLnNzcmNJZC50b1N0cmluZygxMCkpLmNvbmNhdChvKS5jb25jYXQodCkuY29uY2F0KGUuYXR0cmlidXRlc1t0XT9cIjpcIi5jb25jYXQoZS5hdHRyaWJ1dGVzW3RdKTpcIlwiKS5jb25jYXQodGhpcy5lb2wpKSkuam9pbihcIlwiKSkpLmpvaW4oXCJcIil9cHJpbnRSVENQTXV4KGUpe3JldHVybiB2b2lkIDA9PT1lP1wiXCI6XCJhPXJ0Y3AtbXV4XCIuY29uY2F0KHRoaXMuZW9sKX1wcmludFJUQ1BNdXhPbmx5KGUpe3JldHVybiB2b2lkIDA9PT1lP1wiXCI6XCJhPXJ0Y3AtbXV4LW9ubHlcIi5jb25jYXQodGhpcy5lb2wpfXByaW50UlRDUFJzaXplKGUpe3JldHVybiB2b2lkIDA9PT1lP1wiXCI6XCJhPXJ0Y3AtcnNpemVcIi5jb25jYXQodGhpcy5lb2wpfXByaW50UlRDUChlKXtpZih2b2lkIDA9PT1lKXJldHVyblwiXCI7bGV0IHQ9XCJhPXJ0Y3A6XCIuY29uY2F0KGUucG9ydCk7cmV0dXJuIGUubmV0VHlwZSYmKHQrPVwiXCIuY29uY2F0KG8pLmNvbmNhdChlLm5ldFR5cGUpKSxlLmFkZHJlc3NUeXBlJiYodCs9XCJcIi5jb25jYXQobykuY29uY2F0KGUuYWRkcmVzc1R5cGUpKSxlLmFkZHJlc3MmJih0Kz1cIlwiLmNvbmNhdChvKS5jb25jYXQoZS5hZGRyZXNzKSksdCt0aGlzLmVvbH1wcmludE1TSWQoZSl7cmV0dXJuIGUubWFwKChlPT5cImE9bXNpZDpcIi5jb25jYXQoZS5pZCkuY29uY2F0KGUuYXBwZGF0YT9cIlwiLmNvbmNhdChvKS5jb25jYXQoZS5hcHBkYXRhKTpcIlwiKS5jb25jYXQodGhpcy5lb2wpKSkuam9pbihcIlwiKX1wcmludEltYWdlYXR0cihlKXtyZXR1cm4gZS5tYXAoKGU9PlwiYT1pbWFnZWF0dHI6XCIuY29uY2F0KGUpLmNvbmNhdCh0aGlzLmVvbCkpKS5qb2luKFwiXCIpfXByaW50UmlkKGUpe3JldHVybiBlLm1hcCgoZT0+e2xldCB0PVwiYT1yaWQ6XCIuY29uY2F0KGUuaWQpLmNvbmNhdChvKS5jb25jYXQoZS5kaXJlY3Rpb24pO3JldHVybiBlLnBheWxvYWRzJiYodCs9XCJcIi5jb25jYXQobyxcInB0PVwiKS5jb25jYXQoZS5wYXlsb2Fkcy5qb2luKFwiLFwiKSkpLGUucGFyYW1zLmxlbmd0aD4wJiYodCs9XCJcIi5jb25jYXQobykuY29uY2F0KGUucGFyYW1zLm1hcCgoZT0+XCJkZXBlbmRcIj09PWUudHlwZT9cImRlcGVuZD1cIi5jb25jYXQoZS5yaWRzLmpvaW4oXCIsXCIpKTpcIlwiLmNvbmNhdChlLnR5cGUsXCI9XCIpLmNvbmNhdChlLnZhbCkpKS5qb2luKFwiO1wiKSkpLHQrdGhpcy5lb2x9KSkuam9pbihcIlwiKX1wcmludFNpbXVsY2FzdChlKXtyZXR1cm4gdm9pZCAwPT09ZT9cIlwiOlwiYT1zaW11bGNhc3Q6XCIuY29uY2F0KGUpLmNvbmNhdCh0aGlzLmVvbCl9cHJpbnRTQ1RQUG9ydChlKXtyZXR1cm4gdm9pZCAwPT09ZT9cIlwiOlwiYT1zY3RwLXBvcnQ6XCIuY29uY2F0KGUpLmNvbmNhdCh0aGlzLmVvbCl9cHJpbnRNYXhNZXNzYWdlU2l6ZShlKXtyZXR1cm4gdm9pZCAwPT09ZT9cIlwiOlwiYT1tYXgtbWVzc2FnZS1zaXplOlwiLmNvbmNhdChlKS5jb25jYXQodGhpcy5lb2wpfXByaW50TWlkKGUpe3JldHVybiB2b2lkIDA9PT1lP1wiXCI6XCJhPW1pZDpcIi5jb25jYXQoZSkuY29uY2F0KHRoaXMuZW9sKX1wcmludFNTUkNHcm91cHMoZSl7cmV0dXJuIGUubWFwKChlPT5cImE9c3NyYy1ncm91cDpcIi5jb25jYXQoZS5zZW1hbnRpYykuY29uY2F0KGUuc3NyY0lkcy5tYXAoKGU9PlwiXCIuY29uY2F0KG8pLmNvbmNhdChlLnRvU3RyaW5nKDEwKSkpKS5qb2luKFwiXCIpKS5jb25jYXQodGhpcy5lb2wpKSkuam9pbihcIlwiKX19ZnVuY3Rpb24gRChlKXtyZXR1cm4obmV3IEMpLnBhcnNlKGUpfWZ1bmN0aW9uIFAoZSx0KXtyZXR1cm4obmV3IGIpLnByaW50KGUsdCl9fX0sdD17fTtmdW5jdGlvbiBpKG4pe2lmKHRbbl0pcmV0dXJuIHRbbl0uZXhwb3J0czt2YXIgcj10W25dPXtleHBvcnRzOnt9fTtyZXR1cm4gZVtuXShyLHIuZXhwb3J0cyxpKSxyLmV4cG9ydHN9cmV0dXJuIGkuZD0oZSx0KT0+e2Zvcih2YXIgbiBpbiB0KWkubyh0LG4pJiYhaS5vKGUsbikmJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLG4se2VudW1lcmFibGU6ITAsZ2V0OnRbbl19KX0saS5vPShlLHQpPT5PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KSxpLnI9ZT0+e1widW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC50b1N0cmluZ1RhZyYmT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsU3ltYm9sLnRvU3RyaW5nVGFnLHt2YWx1ZTpcIk1vZHVsZVwifSksT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSl9LGkoOCl9KSgpO3ZhciBDTT1STS5leHBvcnRzO2Z1bmN0aW9uIElNKCl7bGV0IGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOkR5KFwiU1ZDX01PREVcIik7aWYoRHkoXCJFTkFCTEVfU1ZDXCIpKXJldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gZSBpbiBvYn0oZSk/ZTpvYi5MMVQzfWZ1bmN0aW9uIHZNKGUsdCl7dmFyIGk9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYobj1uLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxpLnB1c2guYXBwbHkoaSxuKX1yZXR1cm4gaX1mdW5jdGlvbiB5TShlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgaT1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj92TShPYmplY3QoaSksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe29nKGUsdCxpW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKGkpKTp2TShPYmplY3QoaSkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpLHQpKX0pKX1yZXR1cm4gZX1mdW5jdGlvbiBBTShlKXtsZXQgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30saT1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06e30sbj1hcmd1bWVudHMubGVuZ3RoPjM/YXJndW1lbnRzWzNdOnZvaWQgMDtjb25zdHtmaWx0ZXJSVFg6cixmaWx0ZXJWaWRlb0ZlYzpvLGZpbHRlckF1ZGlvRmVjOnMsZmlsdGVyQXVkaW9Db2RlYzphLGZpbHRlclZpZGVvQ29kZWM6Y309dCx7dXNlWFI6ZH09aTtsZXQgbD1bXSx1PVtdLGg9W10scD1bXSxfPSExLEU9ITE7aWYoQ00ucGFyc2UoZSkubWVkaWFEZXNjcmlwdGlvbnMuZm9yRWFjaCgoZT0+e24mJm4hPT1lLmF0dHJpYnV0ZXMuZGlyZWN0aW9ufHwoXCJ2aWRlb1wiIT09ZS5tZWRpYS5tZWRpYVR5cGV8fF98fCh1PWUuYXR0cmlidXRlcy5wYXlsb2FkcyxwPWUuYXR0cmlidXRlcy5leHRtYXBzLF89ITApLFwiYXVkaW9cIiE9PWUubWVkaWEubWVkaWFUeXBlfHxFfHwobD1lLmF0dHJpYnV0ZXMucGF5bG9hZHMsaD1lLmF0dHJpYnV0ZXMuZXh0bWFwcyxFPSEwKSl9KSksIXB8fDA9PT11Lmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZ2V0IHZpZGVvIGNhcGFiaWxpdGllcyBmcm9tIFNEUC5cIik7aWYoIWh8fDA9PT1sLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZ2V0IGF1ZGlvIGNhcGFiaWxpdGllcyBmcm9tIFNEUC5cIik7aWYodS5mb3JFYWNoKChlPT57dmFyIHQ7bnVsbCE9PSh0PWUucnRwTWFwKSYmdm9pZCAwIT09dCYmdC5jbG9ja1JhdGUmJihlLnJ0cE1hcC5jbG9ja1JhdGU9cGFyc2VJbnQoZS5ydHBNYXAuY2xvY2tSYXRlKSksZCYmZS5ydGNwRmVlZGJhY2tzLnB1c2goe3R5cGU6XCJycnRyXCJ9KX0pKSxsLmZvckVhY2goKGU9Pnt2YXIgdDtudWxsIT09KHQ9ZS5ydHBNYXApJiZ2b2lkIDAhPT10JiZ0LmNsb2NrUmF0ZSYmKGUucnRwTWFwLmNsb2NrUmF0ZT1wYXJzZUludChlLnJ0cE1hcC5jbG9ja1JhdGUpKSxkJiZlLnJ0Y3BGZWVkYmFja3MucHVzaCh7dHlwZTpcInJydHJcIn0pfSkpLHImJihsPWwuZmlsdGVyKChlPT57dmFyIHQ7cmV0dXJuXCJydHhcIiE9PShudWxsPT09KHQ9ZS5ydHBNYXApfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmVuY29kaW5nTmFtZS50b0xvd2VyQ2FzZSgpKX0pKSx1PXUuZmlsdGVyKChlPT57dmFyIHQ7cmV0dXJuXCJydHhcIiE9PShudWxsPT09KHQ9ZS5ydHBNYXApfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmVuY29kaW5nTmFtZS50b0xvd2VyQ2FzZSgpKX0pKSksbyYmKHU9dS5maWx0ZXIoKGU9Pnt2YXIgdDtyZXR1cm4hLyhyZWQpfCh1bHBmZWMpfChmbGV4ZmVjKS9pLnRlc3QoKG51bGw9PT0odD1lLnJ0cE1hcCl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuZW5jb2RpbmdOYW1lKXx8XCJcIil9KSkpLHMmJihsPWwuZmlsdGVyKChlPT57dmFyIHQ7cmV0dXJuIS8ocmVkKXwodWxwZmVjKXwoZmxleGZlYykvaS50ZXN0KChudWxsPT09KHQ9ZS5ydHBNYXApfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmVuY29kaW5nTmFtZSl8fFwiXCIpfSkpKSxhJiYobnVsbD09YT92b2lkIDA6YS5sZW5ndGgpPjAmJihsPWwuZmlsdGVyKChlPT57dmFyIHQ7cmV0dXJuIERuKGEpLmNhbGwoYSwobnVsbD09PSh0PWUucnRwTWFwKXx8dm9pZCAwPT09dD92b2lkIDA6dC5lbmNvZGluZ05hbWUudG9Mb3dlckNhc2UoKSl8fFwiXCIpfSkpKSxjJiYobnVsbD09Yz92b2lkIDA6Yy5sZW5ndGgpPjApe2NvbnN0IGU9dS5maWx0ZXIoKGU9Pnt2YXIgdDtyZXR1cm4gRG4oYykuY2FsbChjLChudWxsPT09KHQ9ZS5ydHBNYXApfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmVuY29kaW5nTmFtZS50b0xvd2VyQ2FzZSgpKXx8XCJcIil9KSk7dT1lLmNvbmNhdChyP1tdOkhNKGUsdSkpfWNvbnN0IG09RHkoXCJVTlNVUFBPUlRFRF9WSURFT19DT0RFQ1wiKTtyZXR1cm4gbSYmbS5sZW5ndGg+MCYmKHU9dS5maWx0ZXIoKGU9PiEoZS5ydHBNYXAmJkRuKG0pLmNhbGwobSxlLnJ0cE1hcC5lbmNvZGluZ05hbWUudG9Mb3dlckNhc2UoKSkpKSkpLHthdWRpb0NvZGVjczpsLHZpZGVvQ29kZWNzOnUsYXVkaW9FeHRlbnNpb25zOmgsdmlkZW9FeHRlbnNpb25zOnB9fWZ1bmN0aW9uIGJNKGUpe2NvbnN0IHQ9Q00ucGFyc2UoZSk7bGV0IGksbjtmb3IoY29uc3QgZSBvZiB0Lm1lZGlhRGVzY3JpcHRpb25zKXtpZighaSl7Y29uc3QgdD1lLmF0dHJpYnV0ZXMuaWNlVWZyYWcsbj1lLmF0dHJpYnV0ZXMuaWNlUHdkO2lmKCF0fHwhbil0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZ2V0IGljZVVmcmFnIG9yIGljZVB3ZCBmcm9tIFNEUC5cIik7aT17aWNlVWZyYWc6dCxpY2VQd2Q6bn19aWYoIW4pe2NvbnN0IHQ9ZS5hdHRyaWJ1dGVzLmZpbmdlcnByaW50czt0Lmxlbmd0aD4wJiYobj17ZmluZ2VycHJpbnRzOnR9KX19aWYoIW4mJnQuYXR0cmlidXRlcy5maW5nZXJwcmludHMubGVuZ3RoPjAmJihuPXtmaW5nZXJwcmludHM6dC5hdHRyaWJ1dGVzLmZpbmdlcnByaW50c30pLCFufHwhaSl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZ2V0IGljZVBhcmFtZXRlcnMgb3IgZHRsc1BhcmFtZXRlcnMgZnJvbSBTRFAuXCIpO3JldHVybntpY2VQYXJhbWV0ZXJzOmksZHRsc1BhcmFtZXRlcnM6bn19ZnVuY3Rpb24gd00oZSx0KXtjb25zdCBpPVtdLG49ZS5hdHRyaWJ1dGVzLnNzcmNHcm91cHMuZmlsdGVyKChlPT5cIkZJRFwiPT09ZS5zZW1hbnRpYykpLHI9ZS5hdHRyaWJ1dGVzLnNzcmNHcm91cHMuZmluZCgoZT0+XCJTSU1cIj09PWUuc2VtYW50aWMpKSxvPWUuYXR0cmlidXRlcy5zc3JjcztpZihyKXIuc3NyY0lkcy5mb3JFYWNoKChlPT57dmFyIHI7Y29uc3Qgbz1udWxsPT09KHI9bi5maW5kKCh0PT50LnNzcmNJZHNbMF09PT1lKSkpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLnNzcmNJZHNbMV07aS5wdXNoKHtzc3JjSWQ6ZSxydHg6dD9vOnZvaWQgMH0pfSkpO2Vsc2UgaWYobi5sZW5ndGg+MCl7Y29uc3QgZT1uWzBdLnNzcmNJZHNbMF0scj1uWzBdLnNzcmNJZHNbMV07aS5wdXNoKHtzc3JjSWQ6ZSxydHg6dD9yOnZvaWQgMH0pfWVsc2V7aWYoMD09PW8ubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIk5vIHNzcmNzIGZvdW5kIG9uIGxvY2FsIG1lZGlhIGRlc2NyaXB0aW9uLlwiKTtpLnB1c2goe3NzcmNJZDpvWzBdLnNzcmNJZH0pfXJldHVybiBpfWZ1bmN0aW9uIE9NKGUsdCxpKXtjb25zdHtjbmFtZTpufT1lO2xldCByO3Q/cj1OTSh0KToocj1lLmljZVBhcmFtZXRlcnMuY2FuZGlkYXRlcy5tYXAoKGU9Pih7Zm91bmRhdGlvbjplLmZvdW5kYXRpb24sY29tcG9uZW50SWQ6XCIxXCIsdHJhbnNwb3J0OmUucHJvdG9jb2wscHJpb3JpdHk6ZS5wcmlvcml0eS50b1N0cmluZygpLGNvbm5lY3Rpb25BZGRyZXNzOmUuaXAscG9ydDplLnBvcnQudG9TdHJpbmcoKSx0eXBlOmUudHlwZSxleHRlbnNpb246e319KSkpLFF5LmRlYnVnKFwiVXNpbmcgY2FuZGlkYXRlcyBmcm9tIGdhdGV3YXkuXCIpKTtjb25zdCBvPXtmaW5nZXJwcmludHM6ZS5kdGxzUGFyYW1ldGVycy5maW5nZXJwcmludHMubWFwKChlPT4oe2hhc2hGdW5jdGlvbjplLmFsZ29yaXRobSxmaW5nZXJwcmludDplLmZpbmdlcnByaW50fSkpKX0scz17aWNlVWZyYWc6ZS5pY2VQYXJhbWV0ZXJzLmljZVVmcmFnLGljZVB3ZDplLmljZVBhcmFtZXRlcnMuaWNlUHdkfTtsZXQgYTtzd2l0Y2goZS5kdGxzUGFyYW1ldGVycy5yb2xlKXtjYXNlXCJzZXJ2ZXJcIjphPVwicGFzc2l2ZVwiO2JyZWFrO2Nhc2VcImNsaWVudFwiOmE9XCJhY3RpdmVcIjticmVhaztjYXNlXCJhdXRvXCI6YT1cImFjdHBhc3NcIn1jb25zdCBjPWpNKGUucnRwQ2FwYWJpbGl0aWVzKSxkPVtdO3JldHVybiBBcnJheS5pc0FycmF5KGkpJiZpLmxlbmd0aD4wJiZpLmZvckVhY2goKGU9PntkLnB1c2goe2tpbmQ6WWIuVklERU8sc3NyY0lkOmUudixydHg6ZS52X3J0eCxtc2xhYmVsOlwiXCIuY29uY2F0KGUudixcIl9cIikuY29uY2F0KGUuYSl9LHtraW5kOlliLkFVRElPLHNzcmNJZDplLmEsbXNsYWJlbDpcIlwiLmNvbmNhdChlLnYsXCJfXCIpLmNvbmNhdChlLmEpfSl9KSkse2R0bHNQYXJhbWV0ZXJzOm8saWNlUGFyYW1ldGVyczpzLGNhbmRpZGF0ZXM6cixydHBDYXBhYmlsaXRpZXM6YyxzZXR1cDphLGNuYW1lOm4scHJlU1NSQ3M6ZH19ZnVuY3Rpb24gTk0oZSl7bGV0IHQ9W107cmV0dXJuIGUuaXAmJlwibnVtYmVyXCI9PXR5cGVvZiBlLnBvcnQmJih0PVt7Zm91bmRhdGlvbjpcInVkcGNhbmRpZGF0ZVwiLGNvbXBvbmVudElkOlwiMVwiLHRyYW5zcG9ydDpcInVkcFwiLHByaW9yaXR5OlwiMjEwMzI2NjMyM1wiLGNvbm5lY3Rpb25BZGRyZXNzOmUuaXAscG9ydDplLnBvcnQudG9TdHJpbmcoKSx0eXBlOlwiaG9zdFwiLGV4dGVuc2lvbjp7fX1dLFF5LmRlYnVnKFwiVXNpbmcgcmVtb3RlIGNhbmRpZGF0ZSBmcm9tIEFQIFwiLmNvbmNhdChlLmlwLFwiOlwiKS5jb25jYXQoZS5wb3J0KSksZS5pcDYmJih0LnB1c2goe2ZvdW5kYXRpb246XCJ1ZHBjYW5kaWRhdGVcIixjb21wb25lbnRJZDpcIjFcIix0cmFuc3BvcnQ6XCJ1ZHBcIixwcmlvcml0eTpcIjIxMDMyNjYzMjNcIixjb25uZWN0aW9uQWRkcmVzczplLmlwNixwb3J0OmUucG9ydC50b1N0cmluZygpLHR5cGU6XCJob3N0XCIsZXh0ZW5zaW9uOnt9fSksUXkuZGVidWcoXCJVc2luZyBJUFY2IHJlbW90ZSBjYW5kaWRhdGUgZnJvbSBBUCBcIi5jb25jYXQoZS5pcDYsXCI6XCIpLmNvbmNhdChlLnBvcnQpKSkpLHR9ZnVuY3Rpb24gRE0oZSx0LGkpe2NvbnN0IG49W10scj1bXTtyZXR1cm4gZS5mb3JFYWNoKChlPT57bGV0e3NzcmNJZDpvLHJ0eDpzfT1lO2NvbnN0IGE9ZXkoOCxcInRyYWNrLVwiKSxjPXtzc3JjSWQ6byxhdHRyaWJ1dGVzOnlNKHtsYWJlbDphLG1zbGFiZWw6aT1pfHxleSgxMCxcIlwiKSxtc2lkOlwiXCIuY29uY2F0KGksXCIgXCIpLmNvbmNhdChhKX0sdCYme2NuYW1lOnR9KX07aWYobi5wdXNoKGMpLHZvaWQgMCE9PXMpe2NvbnN0IGU9e3NzcmNJZDpzLGF0dHJpYnV0ZXM6eU0oe2xhYmVsOmEsbXNsYWJlbDppLG1zaWQ6XCJcIi5jb25jYXQoaSxcIiBcIikuY29uY2F0KGEpfSx0JiZ7Y25hbWU6dH0pfTtuLnB1c2goZSksci5wdXNoKHtzZW1hbnRpYzpcIkZJRFwiLHNzcmNJZHM6W28sc119KX19KSksZS5sZW5ndGg+MSYmci5wdXNoKHtzZW1hbnRpYzpcIlNJTVwiLHNzcmNJZHM6ZS5tYXAoKGU9PntsZXR7c3NyY0lkOnR9PWU7cmV0dXJuIHR9KSl9KSx7c3NyY3M6bixzc3JjR3JvdXBzOnJ9fWZ1bmN0aW9uIFBNKGUsdCl7dCBpbnN0YW5jZW9mIHRrJiZlLmF0dHJpYnV0ZXMucGF5bG9hZHMuZm9yRWFjaCgoZT0+e3ZhciBpO2NvbnN0IG49bnVsbD09PShpPWUucnRwTWFwKXx8dm9pZCAwPT09aT92b2lkIDA6aS5lbmNvZGluZ05hbWUudG9Mb3dlckNhc2UoKTtpZighbnx8LTE9PT1bXCJvcHVzXCIsXCJwY211XCIsXCJwY21hXCIsXCJnNzIyXCJdLmluZGV4T2YobikpcmV0dXJuO2UuZm10cHx8KGUuZm10cD17cGFyYW1ldGVyczp7fX0pLGUuZm10cC5wYXJhbWV0ZXJzLm1pbnB0aW1lPVwiMTBcIixlLmZtdHAucGFyYW1ldGVycy51c2VpbmJhbmRmZWM9XCIxXCI7Y29uc3Qgcj10Ll9lbmNvZGVyQ29uZmlnO3ImJlwicGNtdVwiIT09biYmXCJwY21hXCIhPT1uJiZcImc3MjJcIiE9PW4mJihyLmJpdHJhdGUmJiFrSSgpJiYoZS5mbXRwLnBhcmFtZXRlcnMubWF4YXZlcmFnZWJpdHJhdGU9XCJcIi5jb25jYXQoTWF0aC5mbG9vcigxZTMqci5iaXRyYXRlKSkpLHIuc2FtcGxlUmF0ZSYmKGUuZm10cC5wYXJhbWV0ZXJzLm1heHBsYXliYWNrcmF0ZT1cIlwiLmNvbmNhdChyLnNhbXBsZVJhdGUpLGUuZm10cC5wYXJhbWV0ZXJzW1wic3Byb3AtbWF4Y2FwdHVyZXJhdGVcIl09XCJcIi5jb25jYXQoci5zYW1wbGVSYXRlKSksci5zdGVyZW8mJihlLmZtdHAucGFyYW1ldGVycy5zdGVyZW89XCIxXCIsZS5mbXRwLnBhcmFtZXRlcnNbXCJzcHJvcC1zdGVyZW9cIl09XCIxXCIpKX0pKX1mdW5jdGlvbiBMTShlKXtjb25zdCB0PWUuYXR0cmlidXRlcy51bnJlY29nbml6ZWQuZmluZEluZGV4KChlPT5cIngtZ29vZ2xlLWZsYWdcIj09PWUuYXR0RmllbGQmJlwiY29uZmVyZW5jZVwiPT09ZS5hdHRWYWx1ZSkpOy0xIT09dCYmZS5hdHRyaWJ1dGVzLnVucmVjb2duaXplZC5zcGxpY2UodCwxKX1mdW5jdGlvbiBrTShlLHQpe3ZhciBpO2lmKCEodCBpbnN0YW5jZW9mIEhrJiZ0Ll9lbmNvZGVyQ29uZmlnJiYtMT09PXQuX2hpbnRzLmluZGV4T2YoZVAuU0NSRUVOX1RSQUNLKSkpcmV0dXJuO2NvbnN0IG49dC5fZW5jb2RlckNvbmZpZztNRCgpLnN1cHBvcnRNaW5CaXRyYXRlJiZuLmJpdHJhdGVNaW4mJmUuYXR0cmlidXRlcy5wYXlsb2Fkcy5mb3JFYWNoKChlPT57dmFyIHQsaTtEbih0PVtcImgyNjRcIixcImgyNjVcIixcInZwOFwiLFwidnA5XCIsXCJhdjFcIl0pLmNhbGwodCwobnVsbD09PShpPWUucnRwTWFwKXx8dm9pZCAwPT09aT92b2lkIDA6aS5lbmNvZGluZ05hbWUudG9Mb3dlckNhc2UoKSl8fFwiXCIpJiYoZS5mbXRwfHwoZS5mbXRwPXtwYXJhbWV0ZXJzOnt9fSksZS5mbXRwLnBhcmFtZXRlcnNbXCJ4LWdvb2dsZS1taW4tYml0cmF0ZVwiXT1cIlwiLmNvbmNhdChuLmJpdHJhdGVNaW4pKX0pKSxNRCgpLnN1cHBvcnRNaW5CaXRyYXRlJiYhRG4oaT10Ll9oaW50cykuY2FsbChpLGVQLkxPV19TVFJFQU0pJiZuLmJpdHJhdGVNYXgmJmUuYXR0cmlidXRlcy5wYXlsb2Fkcy5mb3JFYWNoKChlPT57dmFyIHQsaTtEbih0PVtcImgyNjRcIixcImgyNjVcIixcInZwOFwiLFwidnA5XCIsXCJhdjFcIl0pLmNhbGwodCwobnVsbD09PShpPWUucnRwTWFwKXx8dm9pZCAwPT09aT92b2lkIDA6aS5lbmNvZGluZ05hbWUudG9Mb3dlckNhc2UoKSl8fFwiXCIpJiYoZS5mbXRwfHwoZS5mbXRwPXtwYXJhbWV0ZXJzOnt9fSksZS5mbXRwLnBhcmFtZXRlcnNbXCJ4LWdvb2dsZS1zdGFydC1iaXRyYXRlXCJdPVwiXCIuY29uY2F0KER5KFwiWF9HT09HTEVfU1RBUlRfQklUUkFURVwiKXx8TWF0aC5mbG9vcihuLmJpdHJhdGVNYXgpKSl9KSl9ZnVuY3Rpb24gTU0oZSl7aWYoXCJ2aWRlb1wiIT09ZS5tZWRpYS5tZWRpYVR5cGUpcmV0dXJuO2NvbnN0IHQ9QUkoKTtpZih0Lm5hbWUhPT1DSS5TQUZBUkkmJnQub3MhPT1SSS5JT1MpcmV0dXJuO2NvbnN0IGk9ZS5hdHRyaWJ1dGVzLmV4dG1hcHMuZmluZEluZGV4KChlPT4vdmlkZW8tb3JpZW50YXRpb24vZy50ZXN0KGUuZXh0ZW5zaW9uTmFtZSkpKTstMSE9PWkmJmUuYXR0cmlidXRlcy5leHRtYXBzLnNwbGljZShpLDEpfWZ1bmN0aW9uIFVNKGUsdCxpKXtpZighdClyZXR1cm47bGV0IG4scjtpZihcInZpZGVvXCI9PT1lLm1lZGlhLm1lZGlhVHlwZT8obj1pLnZpZGVvRXh0ZW5zaW9ucyxyPWkudmlkZW9Db2RlY3MpOihuPWkuYXVkaW9FeHRlbnNpb25zLHI9aS5hdWRpb0NvZGVjcyksITA9PT10LnR3Y2Mpe2NvbnN0IHQ9bi5maW5kKChlPT5cImh0dHA6Ly93d3cuaWV0Zi5vcmcvaWQvZHJhZnQtaG9sbWVyLXJtY2F0LXRyYW5zcG9ydC13aWRlLWNjLWV4dGVuc2lvbnMtMDFcIj09PWUuZXh0ZW5zaW9uTmFtZSkpO2lmKHQpe2UuYXR0cmlidXRlcy5leHRtYXBzLmZpbmQoKGU9PlwiaHR0cDovL3d3dy5pZXRmLm9yZy9pZC9kcmFmdC1ob2xtZXItcm1jYXQtdHJhbnNwb3J0LXdpZGUtY2MtZXh0ZW5zaW9ucy0wMVwiPT09ZS5leHRlbnNpb25OYW1lKSl8fGUuYXR0cmlidXRlcy5leHRtYXBzLnB1c2goe2VudHJ5OnQuZW50cnksZXh0ZW5zaW9uTmFtZTpcImh0dHA6Ly93d3cuaWV0Zi5vcmcvaWQvZHJhZnQtaG9sbWVyLXJtY2F0LXRyYW5zcG9ydC13aWRlLWNjLWV4dGVuc2lvbnMtMDFcIn0pO2NvbnN0IGk9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdC5maWx0ZXIoKHQ9PiEhZS5maW5kKChlPT5lLnBheWxvYWRUeXBlPT09dC5wYXlsb2FkVHlwZSYmISFlLnJ0Y3BGZWVkYmFja3MuZmluZCgoZT0+XCJ0cmFuc3BvcnQtY2NcIj09PWUudHlwZSkpKSkpKX0ocixlLmF0dHJpYnV0ZXMucGF5bG9hZHMpO2kuZm9yRWFjaCgoZT0+e2UucnRjcEZlZWRiYWNrcy5maW5kKChlPT5cInRyYW5zcG9ydC1jY1wiPT09ZS50eXBlKSl8fGUucnRjcEZlZWRiYWNrcy5wdXNoKHt0eXBlOlwidHJhbnNwb3J0LWNjXCJ9KX0pKX19ZWxzZSBpZighMT09PXQudHdjYyl7Y29uc3QgdD1lLmF0dHJpYnV0ZXMuZXh0bWFwcy5maW5kSW5kZXgoKGU9PlwiaHR0cDovL3d3dy5pZXRmLm9yZy9pZC9kcmFmdC1ob2xtZXItcm1jYXQtdHJhbnNwb3J0LXdpZGUtY2MtZXh0ZW5zaW9ucy0wMVwiPT09ZS5leHRlbnNpb25OYW1lKSk7LTEhPT10JiZlLmF0dHJpYnV0ZXMuZXh0bWFwcy5zcGxpY2UodCwxKSxlLmF0dHJpYnV0ZXMucGF5bG9hZHMuZm9yRWFjaCgoZT0+e2NvbnN0IHQ9ZS5ydGNwRmVlZGJhY2tzLmZpbmRJbmRleCgoZT0+XCJ0cmFuc3BvcnQtY2NcIj09PWUudHlwZSkpOy0xIT09dCYmZS5ydGNwRmVlZGJhY2tzLnNwbGljZSh0LDEpfSkpfWlmKCEwPT09dC5yZW1iKXtjb25zdCB0PW4uZmluZCgoZT0+XCJodHRwOi8vd3d3LndlYnJ0Yy5vcmcvZXhwZXJpbWVudHMvcnRwLWhkcmV4dC9hYnMtc2VuZC10aW1lXCI9PT1lLmV4dGVuc2lvbk5hbWUpKTtpZih0KXtlLmF0dHJpYnV0ZXMuZXh0bWFwcy5maW5kKChlPT5cImh0dHA6Ly93d3cud2VicnRjLm9yZy9leHBlcmltZW50cy9ydHAtaGRyZXh0L2Ficy1zZW5kLXRpbWVcIj09PWUuZXh0ZW5zaW9uTmFtZSkpfHxlLmF0dHJpYnV0ZXMuZXh0bWFwcy5wdXNoKHtlbnRyeTp0LmVudHJ5LGV4dGVuc2lvbk5hbWU6XCJodHRwOi8vd3d3LndlYnJ0Yy5vcmcvZXhwZXJpbWVudHMvcnRwLWhkcmV4dC9hYnMtc2VuZC10aW1lXCJ9KTtjb25zdCBpPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQuZmlsdGVyKCh0PT4hIWUuZmluZCgoZT0+ZS5wYXlsb2FkVHlwZT09PXQucGF5bG9hZFR5cGUmJiEhZS5ydGNwRmVlZGJhY2tzLmZpbmQoKGU9PlwiZ29vZy1yZW1iXCI9PT1lLnR5cGUpKSkpKSl9KHIsZS5hdHRyaWJ1dGVzLnBheWxvYWRzKTtpLmZvckVhY2goKGU9PntlLnJ0Y3BGZWVkYmFja3MuZmluZCgoZT0+XCJnb29nLXJlbWJcIj09PWUudHlwZSkpfHxlLnJ0Y3BGZWVkYmFja3MucHVzaCh7dHlwZTpcImdvb2ctcmVtYlwifSl9KSl9fWVsc2UgaWYoITE9PT10LnJlbWIpe2NvbnN0IHQ9ZS5hdHRyaWJ1dGVzLmV4dG1hcHMuZmluZEluZGV4KChlPT5cImh0dHA6Ly93d3cud2VicnRjLm9yZy9leHBlcmltZW50cy9ydHAtaGRyZXh0L2Ficy1zZW5kLXRpbWVcIj09PWUuZXh0ZW5zaW9uTmFtZSkpOy0xIT09dCYmZS5hdHRyaWJ1dGVzLmV4dG1hcHMuc3BsaWNlKHQsMSksZS5hdHRyaWJ1dGVzLnBheWxvYWRzLmZvckVhY2goKGU9Pntjb25zdCB0PWUucnRjcEZlZWRiYWNrcy5maW5kSW5kZXgoKGU9PlwiZ29vZy1yZW1iXCI9PT1lLnR5cGUpKTstMSE9PXQmJmUucnRjcEZlZWRiYWNrcy5zcGxpY2UodCwxKX0pKX19ZnVuY3Rpb24geE0oZSx0LGkpe2lmKGtJKCkpcmV0dXJuO2lmKFwidmlkZW9cIiE9PWUubWVkaWEubWVkaWFUeXBlKXJldHVybjtpZighKHQgaW5zdGFuY2VvZiBIaykpcmV0dXJuO2lmKFwidnA5XCIhPT1pJiZcInZwOFwiIT09aSlyZXR1cm47aWYoXCJ2cDhcIj09PWkmJiFEeShcIlNJTVVMQ0FTVFwiKSlyZXR1cm47aWYoXCJ2cDlcIj09PWkmJkR5KFwiRU5BQkxFX1NWQ1wiKSlyZXR1cm47aWYodm9pZCAwPT09dC5fc2NhbGFiaWxpdHlNb2RlfHx0Ll9zY2FsYWJpbGl0eU1vZGUubnVtU3BhdGlhbExheWVyczw9MSlyZXR1cm47Y29uc3Qgbj1cInZwOFwiPT09aT8yOnQuX3NjYWxhYmlsaXR5TW9kZS5udW1TcGF0aWFsTGF5ZXJzLHI9ZS5hdHRyaWJ1dGVzLnNzcmNzWzBdLG89ZS5hdHRyaWJ1dGVzLnNzcmNHcm91cHMuZmluZCgoZT0+XCJGSURcIj09PWUuc2VtYW50aWMmJmUuc3NyY0lkc1swXT09PXIuc3NyY0lkKSkscz17c2VtYW50aWM6XCJTSU1cIixzc3JjSWRzOltyLnNzcmNJZF19O2ZvcihsZXQgdD0xO3Q8bjt0KyspZS5hdHRyaWJ1dGVzLnNzcmNzLnB1c2goe3NzcmNJZDpyLnNzcmNJZCt0LGF0dHJpYnV0ZXM6R3Yoci5hdHRyaWJ1dGVzKX0pLHMuc3NyY0lkcy5wdXNoKHIuc3NyY0lkK3QpLG8mJihlLmF0dHJpYnV0ZXMuc3NyY3MucHVzaCh7c3NyY0lkOm8uc3NyY0lkc1sxXSt0LGF0dHJpYnV0ZXM6R3Yoci5hdHRyaWJ1dGVzKX0pLGUuYXR0cmlidXRlcy5zc3JjR3JvdXBzLnB1c2goe3NlbWFudGljOlwiRklEXCIsc3NyY0lkczpbci5zc3JjSWQrdCxvLnNzcmNJZHNbMV0rdF19KSk7ZS5hdHRyaWJ1dGVzLnNzcmNHcm91cHMudW5zaGlmdChzKX1hc3luYyBmdW5jdGlvbiBWTSgpe2xldCBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSx0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTtjb25zdCBpPW5ldyBSVENQZWVyQ29ubmVjdGlvbjtpLmFkZFRyYW5zY2VpdmVyKFwidmlkZW9cIix7ZGlyZWN0aW9uOlwic2VuZG9ubHlcIn0pLGkuYWRkVHJhbnNjZWl2ZXIoXCJhdWRpb1wiLHtkaXJlY3Rpb246XCJzZW5kb25seVwifSksaS5hZGRUcmFuc2NlaXZlcihcInZpZGVvXCIse2RpcmVjdGlvbjpcInJlY3Zvbmx5XCJ9KSxpLmFkZFRyYW5zY2VpdmVyKFwiYXVkaW9cIix7ZGlyZWN0aW9uOlwicmVjdm9ubHlcIn0pO2NvbnN0IG49KGF3YWl0IGkuY3JlYXRlT2ZmZXIoKSkuc2RwLHtzZW5kOnIscmVjdjpvLHNlbmRyZWN2OnN9PWZ1bmN0aW9uKCl7bGV0IGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9LGk9YXJndW1lbnRzLmxlbmd0aD4yP2FyZ3VtZW50c1syXTp2b2lkIDA7Y29uc3Qgbj1BTShpLGUsdCxcInNlbmRvbmx5XCIpLHI9QU0oaSxlLHQsXCJyZWN2b25seVwiKSxvPXthdWRpb0NvZGVjczpbXSxhdWRpb0V4dGVuc2lvbnM6W10sdmlkZW9Db2RlY3M6W10sdmlkZW9FeHRlbnNpb25zOltdfSxzPXthdWRpb0NvZGVjczpbXSxhdWRpb0V4dGVuc2lvbnM6W10sdmlkZW9Db2RlY3M6W10sdmlkZW9FeHRlbnNpb25zOltdfSxhPXthdWRpb0NvZGVjczpbXSxhdWRpb0V4dGVuc2lvbnM6W10sdmlkZW9Db2RlY3M6W10sdmlkZW9FeHRlbnNpb25zOltdfTtpZihCTShuLHIsXCJ2aWRlb0V4dGVuc2lvbnNcIixvLHMsYSksQk0obixyLFwidmlkZW9Db2RlY3NcIixvLHMsYSksQk0obixyLFwiYXVkaW9FeHRlbnNpb25zXCIsbyxzLGEpLEJNKG4scixcImF1ZGlvQ29kZWNzXCIsbyxzLGEpLER5KFwiUkFJU0VfSDI2NF9CQVNFTElORV9QUklPUklUWVwiKSl7Y29uc3QgZT1hLnZpZGVvQ29kZWNzLmZpbmRJbmRleCgoZT0+e3ZhciB0LGk7cmV0dXJuXCJoMjY0XCI9PT0obnVsbD09PSh0PWUucnRwTWFwKXx8dm9pZCAwPT09dD92b2lkIDA6dC5lbmNvZGluZ05hbWUudG9Mb2NhbGVMb3dlckNhc2UoKSkmJlwiNDIwMDFmXCI9PT0obnVsbD09PShpPWUuZm10cCl8fHZvaWQgMD09PWk/dm9pZCAwOmkucGFyYW1ldGVyc1tcInByb2ZpbGUtbGV2ZWwtaWRcIl0pfSkpO2lmKC0xIT09ZSl7Y29uc3QgdD1hLnZpZGVvQ29kZWNzLmZpbmRJbmRleCgoZT0+e3ZhciB0O3JldHVyblwiaDI2NFwiPT09KG51bGw9PT0odD1lLnJ0cE1hcCl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuZW5jb2RpbmdOYW1lLnRvTG9jYWxlTG93ZXJDYXNlKCkpfSkpO2lmKHQ8ZSl7UXkuZGVidWcoXCJyYWlzaW5nIEgyNjQgYmFzZWxpbmUgcHJvZmlsZSBwcmlvcml0eVwiKTtjb25zdCBpPWEudmlkZW9Db2RlY3NbZV07YS52aWRlb0NvZGVjcy5zcGxpY2UoZSwxKSxhLnZpZGVvQ29kZWNzLnNwbGljZSh0LDAsaSl9LTEhPT10JiYocy52aWRlb0NvZGVjcz1zLnZpZGVvQ29kZWNzLmZpbHRlcigoZT0+e3ZhciB0LGk7cmV0dXJuIShcImgyNjRcIj09PShudWxsPT09KHQ9ZS5ydHBNYXApfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmVuY29kaW5nTmFtZS50b0xvY2FsZUxvd2VyQ2FzZSgpKSYmXCI0MjAwMWZcIiE9PShudWxsPT09KGk9ZS5mbXRwKXx8dm9pZCAwPT09aT92b2lkIDA6aS5wYXJhbWV0ZXJzW1wicHJvZmlsZS1sZXZlbC1pZFwiXSkpfSkpKSwtMSE9PXQmJkR5KFwiRklMVEVSX1NFTkRfSDI2NF9CQVNFTElORVwiKSYmKG8udmlkZW9Db2RlY3M9by52aWRlb0NvZGVjcy5maWx0ZXIoKGU9Pnt2YXIgdCxpO3JldHVybiEoXCJoMjY0XCI9PT0obnVsbD09PSh0PWUucnRwTWFwKXx8dm9pZCAwPT09dD92b2lkIDA6dC5lbmNvZGluZ05hbWUudG9Mb2NhbGVMb3dlckNhc2UoKSkmJlwiNDIwMDFmXCIhPT0obnVsbD09PShpPWUuZm10cCl8fHZvaWQgMD09PWk/dm9pZCAwOmkucGFyYW1ldGVyc1tcInByb2ZpbGUtbGV2ZWwtaWRcIl0pKX0pKSl9fXJldHVybntzZW5kOm8scmVjdjpzLHNlbmRyZWN2OmF9fShlLHQsbik7dHJ5e2kuY2xvc2UoKX1jYXRjaChlKXt9cmV0dXJue3NlbmQ6cixyZWN2Om8sc2VuZHJlY3Y6c319ZnVuY3Rpb24gRk0oKXtjb25zdCBlPXthdWRpb0NvZGVjczpbXSx2aWRlb0NvZGVjczpbXSxhdWRpb0V4dGVuc2lvbnM6W10sdmlkZW9FeHRlbnNpb25zOltdfSx0PUFNKGFyZ3VtZW50cy5sZW5ndGg+Mj9hcmd1bWVudHNbMl06dm9pZCAwLGFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxhcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30sXCJyZWN2b25seVwiKSxpPXthdWRpb0NvZGVjczpbXSxhdWRpb0V4dGVuc2lvbnM6W10sdmlkZW9Db2RlY3M6W10sdmlkZW9FeHRlbnNpb25zOltdfSxuPXthdWRpb0NvZGVjczpbXSxhdWRpb0V4dGVuc2lvbnM6W10sdmlkZW9Db2RlY3M6W10sdmlkZW9FeHRlbnNpb25zOltdfSxyPXthdWRpb0NvZGVjczpbXSxhdWRpb0V4dGVuc2lvbnM6W10sdmlkZW9Db2RlY3M6W10sdmlkZW9FeHRlbnNpb25zOltdfTtpZihCTShlLHQsXCJ2aWRlb0V4dGVuc2lvbnNcIixpLG4sciksQk0oZSx0LFwidmlkZW9Db2RlY3NcIixpLG4sciksQk0oZSx0LFwiYXVkaW9FeHRlbnNpb25zXCIsaSxuLHIpLEJNKGUsdCxcImF1ZGlvQ29kZWNzXCIsaSxuLHIpLER5KFwiUkFJU0VfSDI2NF9CQVNFTElORV9QUklPUklUWVwiKSl7Y29uc3QgZT1yLnZpZGVvQ29kZWNzLmZpbmRJbmRleCgoZT0+ZS5ydHBNYXAmJlwiaDI2NFwiPT09ZS5ydHBNYXAuZW5jb2RpbmdOYW1lLnRvTG9jYWxlTG93ZXJDYXNlKCkmJmUuZm10cCYmXCI0MjAwMWZcIj09PWUuZm10cC5wYXJhbWV0ZXJzW1wicHJvZmlsZS1sZXZlbC1pZFwiXSkpO2lmKC0xIT09ZSl7Y29uc3QgdD1yLnZpZGVvQ29kZWNzLmZpbmRJbmRleCgoZT0+ZS5ydHBNYXAmJlwiaDI2NFwiPT09ZS5ydHBNYXAuZW5jb2RpbmdOYW1lLnRvTG9jYWxlTG93ZXJDYXNlKCkpKTtpZih0PGUpe1F5LmRlYnVnKFwicmFpc2luZyBIMjY0IGJhc2VsaW5lIHByb2ZpbGUgcHJpb3JpdHlcIik7Y29uc3QgaT1yLnZpZGVvQ29kZWNzW2VdO3IudmlkZW9Db2RlY3Muc3BsaWNlKGUsMSksci52aWRlb0NvZGVjcy5zcGxpY2UodCwwLGkpfS0xIT09dCYmKG4udmlkZW9Db2RlY3M9bi52aWRlb0NvZGVjcy5maWx0ZXIoKGU9PiEoZS5ydHBNYXAmJlwiaDI2NFwiPT09ZS5ydHBNYXAuZW5jb2RpbmdOYW1lLnRvTG9jYWxlTG93ZXJDYXNlKCkmJmUuZm10cCYmXCI0MjAwMWZcIiE9PWUuZm10cC5wYXJhbWV0ZXJzW1wicHJvZmlsZS1sZXZlbC1pZFwiXSkpKSl9fXJldHVybntzZW5kOmkscmVjdjpuLHNlbmRyZWN2OnJ9fWZ1bmN0aW9uIEJNKGUsdCxpLG4scixvKXtpZihcInZpZGVvRXh0ZW5zaW9uc1wiPT09aXx8XCJhdWRpb0V4dGVuc2lvbnNcIj09PWkpe2NvbnN0IHM9W107cmV0dXJuIGVbaV0uZm9yRWFjaCgoZT0+e3RbaV0uc29tZSgoKHQsaSk9PntpZihlLmVudHJ5PT09dC5lbnRyeSYmZS5leHRlbnNpb25OYW1lPT09dC5leHRlbnNpb25OYW1lKXJldHVybiBzLnB1c2goaSksITB9KSk/b1tpXS5wdXNoKGUpOm5baV0ucHVzaChlKX0pKSx2b2lkIHRbaV0uZm9yRWFjaCgoKGUsdCk9PnstMT09PXMuaW5kZXhPZih0KSYmcltpXS5wdXNoKGUpfSkpfWlmKFwidmlkZW9Db2RlY3NcIj09PWl8fFwiYXVkaW9Db2RlY3NcIj09PWkpe2NvbnN0IHM9W107cmV0dXJuIGVbaV0uZm9yRWFjaCgoZT0+e3RbaV0uc29tZSgoKHQsaSk9PntpZihlLnBheWxvYWRUeXBlPT09dC5wYXlsb2FkVHlwZSYmSlNPTi5zdHJpbmdpZnkoZSk9PT1KU09OLnN0cmluZ2lmeSh0KSlyZXR1cm4gcy5wdXNoKGkpLCEwfSkpP29baV0ucHVzaChlKTpuW2ldLnB1c2goZSl9KSksdm9pZCB0W2ldLmZvckVhY2goKChlLHQpPT57LTE9PT1zLmluZGV4T2YodCkmJnJbaV0ucHVzaChlKX0pKX19ZnVuY3Rpb24gak0oZSl7Y29uc3R7c2VuZDp0LHJlY3Y6aSxzZW5kcmVjdjpufT1lO2lmKCFuKXtpZighdHx8IWkpdGhyb3cgbmV3IEVycm9yKFwiY2Fubm90IG1lcmdlIHJ0cCBjYXBhYmlsaXRpZXMgYmVjYXVzZSBvbmUgb2Ygc2VuZCBvciByZWN2IGlzIGVtcHR5IVwiKTtyZXR1cm57c2VuZDp0LHJlY3Y6aX19bGV0IHIsbztyZXR1cm4gdD8ocj17YXVkaW9Db2RlY3M6W10sYXVkaW9FeHRlbnNpb25zOltdLHZpZGVvQ29kZWNzOltdLHZpZGVvRXh0ZW5zaW9uczpbXX0sci5hdWRpb0NvZGVjcz1bLi4udC5hdWRpb0NvZGVjcywuLi5uLmF1ZGlvQ29kZWNzXSxyLnZpZGVvQ29kZWNzPVsuLi50LnZpZGVvQ29kZWNzLC4uLm4udmlkZW9Db2RlY3NdLHIuYXVkaW9FeHRlbnNpb25zPVsuLi50LmF1ZGlvRXh0ZW5zaW9ucywuLi5uLmF1ZGlvRXh0ZW5zaW9uc10sci52aWRlb0V4dGVuc2lvbnM9Wy4uLnQudmlkZW9FeHRlbnNpb25zLC4uLm4udmlkZW9FeHRlbnNpb25zXSk6cj1uLGk/KG89e2F1ZGlvQ29kZWNzOltdLGF1ZGlvRXh0ZW5zaW9uczpbXSx2aWRlb0NvZGVjczpbXSx2aWRlb0V4dGVuc2lvbnM6W119LG8uYXVkaW9Db2RlY3M9Wy4uLmkuYXVkaW9Db2RlY3MsLi4ubi5hdWRpb0NvZGVjc10sby52aWRlb0NvZGVjcz1bLi4uaS52aWRlb0NvZGVjcywuLi5uLnZpZGVvQ29kZWNzXSxvLmF1ZGlvRXh0ZW5zaW9ucz1bLi4uaS5hdWRpb0V4dGVuc2lvbnMsLi4ubi5hdWRpb0V4dGVuc2lvbnNdLG8udmlkZW9FeHRlbnNpb25zPVsuLi5pLnZpZGVvRXh0ZW5zaW9ucywuLi5uLnZpZGVvRXh0ZW5zaW9uc10pOm89bix7c2VuZDpyLHJlY3Y6b319ZnVuY3Rpb24gR00oZSl7aWYoXCJhdWRpb1wiIT09ZS5tZWRpYS5tZWRpYVR5cGUpcmV0dXJuO2UuYXR0cmlidXRlcy5wYXlsb2Fkcy5maWx0ZXIoKGU9Pnt2YXIgdDtyZXR1cm5cIm9wdXNcIj09PShudWxsPT09KHQ9ZS5ydHBNYXApfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmVuY29kaW5nTmFtZS50b0xvd2VyQ2FzZSgpKX0pKS5mb3JFYWNoKChlPT57ZS5mbXRwfHwoZS5mbXRwPXtwYXJhbWV0ZXJzOnt9fSksZS5mbXRwLnBhcmFtZXRlcnMuc3RlcmVvPVwiMVwiLGUuZm10cC5wYXJhbWV0ZXJzW1wic3Byb3Atc3RlcmVvXCJdPVwiMVwifSkpfWZ1bmN0aW9uIFdNKGUsdCxpLG4pe2xldCByPVtdO2lmKGU9PT1ZYi5WSURFTyl7aWYoRHkoXCJIMjY0X1BST0ZJTEVfTEVWRUxfSURcIikmJlwiaDI2NFwiPT09biYmKHI9dC52aWRlb0NvZGVjcy5maWx0ZXIoKGU9Pnt2YXIgdDtyZXR1cm4gRG4odD1lLnJ0cE1hcCYmZS5ydHBNYXAuZW5jb2RpbmdOYW1lLnRvTG93ZXJDYXNlKCl8fFwiXCIpLmNhbGwodCxuKSYmZSYmZS5mbXRwJiZlLmZtdHAucGFyYW1ldGVyc1tcInByb2ZpbGUtbGV2ZWwtaWRcIl09PT1EeShcIkgyNjRfUFJPRklMRV9MRVZFTF9JRFwiKX0pKSksIUFycmF5LmlzQXJyYXkocil8fDA9PT1yLmxlbmd0aCl7bGV0IGU9W107Y29uc3Qgbz1bXSxzPVtdLGE9W107aWYoaS52aWRlb0NvZGVjcy5mb3JFYWNoKCh0PT57Y29uc3QgaT10LnJ0cE1hcCYmdC5ydHBNYXAuZW5jb2RpbmdOYW1lLnRvTG93ZXJDYXNlKCl8fFwiXCI7RG4oaSkuY2FsbChpLG4pP2UucHVzaCh0KTpEbihpKS5jYWxsKGksXCJ2cDlcIik/by5wdXNoKHQpOkRuKGkpLmNhbGwoaSxcInZwOFwiKT9zLnB1c2godCk6RG4oaSkuY2FsbChpLFwiaDI2NFwiKSYmYS5wdXNoKHQpfSkpLDA9PT1lLmxlbmd0aCl7bGV0IHQ9XCJcIjswIT09by5sZW5ndGg/KGU9byx0PVwidnA5XCIpOjAhPT1zLmxlbmd0aD8oZT1zLHQ9XCJ2cDhcIik6MCE9PWEubGVuZ3RoJiYoZT1hLHQ9XCJoMjY0XCIpLFF5Lndhcm5pbmcoXCJjb2RlYyBcIi5jb25jYXQobixcIiBub3QgaW5jbHVkZWQgaW4gcnRwQ2FwYWJpbGl0aWVzLCBmYWxsYmFjayB0byBkZWZhdWx0IHBheWxvYWRzOiBcIikuY29uY2F0KHQpKX0wIT09ZS5sZW5ndGgmJihyPXQudmlkZW9Db2RlY3MuZmlsdGVyKCh0PT5lLnNvbWUoKGU9PmUucGF5bG9hZFR5cGU9PT10LnBheWxvYWRUeXBlKSkpKSl9aWYoMD09PXIubGVuZ3RoJiYoUXkud2FybmluZyhcImNvZGVjIFwiLmNvbmNhdChuLFwiIG5vdCBpbmNsdWRlZCBpbiBydHBDYXBhYmlsaXRpZXMsIGZhbGxiYWNrIHRvIGRlZmF1bHQgcGF5bG9hZHM6IFwiKS5jb25jYXQodC52aWRlb0NvZGVjc1swXS5ydHBNYXAmJnQudmlkZW9Db2RlY3NbMF0ucnRwTWFwLmVuY29kaW5nTmFtZSkpLHI9dC52aWRlb0NvZGVjcyksRHkoXCJVU0VfUFVCX1JUWFwiKXx8RHkoXCJVU0VfU1VCX1JUWFwiKSl7Y29uc3QgZT1ITShyLHQudmlkZW9Db2RlY3MpO3I9Wy4uLnIsLi4uZV19fWVsc2Ugcj10LmF1ZGlvQ29kZWNzLmZpbHRlcigoZT0+e3ZhciB0O3JldHVybiBEbih0PWUucnRwTWFwJiZlLnJ0cE1hcC5lbmNvZGluZ05hbWUudG9Mb3dlckNhc2UoKXx8XCJcIikuY2FsbCh0LG4pfSkpLDA9PT1yLmxlbmd0aCYmKFF5Lndhcm5pbmcoXCJjb2RlYyBcIi5jb25jYXQobixcIiBub3QgaW5jbHVkZWQgaW4gcnRwQ2FwYWJpbGl0aWVzLCBmYWxsYmFjayB0byBvcHVzXCIpKSxyPXQuYXVkaW9Db2RlY3MuZmlsdGVyKChlPT57dmFyIHQ7cmV0dXJuIERuKHQ9ZS5ydHBNYXAmJmUucnRwTWFwLmVuY29kaW5nTmFtZS50b0xvd2VyQ2FzZSgpfHxcIlwiKS5jYWxsKHQsXCJvcHVzXCIpfSkpKTtyZXR1cm4gcn1mdW5jdGlvbiBITShlLHQpe2NvbnN0IGk9ZS5tYXAoKGU9PmUucGF5bG9hZFR5cGUudG9TdHJpbmcoKSkpO3JldHVybiB0LmZpbHRlcigoZT0+ZS5ydHBNYXAmJlwicnR4XCI9PT1lLnJ0cE1hcC5lbmNvZGluZ05hbWUmJmUuZm10cCYmZS5mbXRwLnBhcmFtZXRlcnMuYXB0JiZEbihpKS5jYWxsKGksZS5mbXRwJiZlLmZtdHAucGFyYW1ldGVycy5hcHQpKSl9YXN5bmMgZnVuY3Rpb24gS00oZSx0LGkpe2NvbnN0IG49dC50b1N0cmluZygpLHI9cU0obixcIm9mZmVyXCIsXCJyZW1vdGVcIixcImV4Y2hhbmdlU0RQXCIpO2F3YWl0IGUuc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJvZmZlclwiLHNkcDpufSk7Y29uc3Qgbz1hd2FpdCBlLmNyZWF0ZUFuc3dlcigpO2lmKCFvLnNkcCl0aHJvdyBuZXcgRXJyb3IoXCJjYW5ub3QgZ2V0IGFuc3dlciBzZHBcIik7bGV0IHM9by5zZHA7cz1ZTShzLGl8fHt9KSxudWxsPT1yfHxyKHN8fFwiXCIpLGF3YWl0IGUuc2V0TG9jYWxEZXNjcmlwdGlvbih7dHlwZTpcImFuc3dlclwiLHNkcDpzfSl9ZnVuY3Rpb24gWU0oZSx0LGkpe2NvbnN0IG49Q00ucGFyc2UoZSkse3VzZVhSOnJ9PXQ7cmV0dXJuIG4ubWVkaWFEZXNjcmlwdGlvbnMuZm9yRWFjaCgoZT0+e3ZhciB0O2UuYXR0cmlidXRlcy5taWQmJihBcnJheS5pc0FycmF5KGkpJiYhRG4oaSkuY2FsbChpLGUuYXR0cmlidXRlcy5taWQpfHwoXCJhdWRpb1wiPT09ZS5tZWRpYS5tZWRpYVR5cGUmJkdNKGUpLHImJkRuKHQ9W1wiYXVkaW9cIixcInZpZGVvXCJdKS5jYWxsKHQsZS5tZWRpYS5tZWRpYVR5cGUpJiZlLmF0dHJpYnV0ZXMucGF5bG9hZHMuZm9yRWFjaCgoZT0+ey0xPT09ZS5ydGNwRmVlZGJhY2tzLmZpbmRJbmRleCgoZT0+XCJycnRyXCI9PT1lLnR5cGUpKSYmZS5ydGNwRmVlZGJhY2tzLnB1c2goe3R5cGU6XCJycnRyXCJ9KX0pKSkpfSkpLENNLnByaW50KG4pfWZ1bmN0aW9uIHFNKGUsdCxpLG4pe2lmKER5KFwiU0RQX0xPR0dJTkdcIikpcmV0dXJuIFF5LnVwbG9hZChcImV4Y2hhbmdpbmcgXCIuY29uY2F0KGksXCIgXCIpLmNvbmNhdCh0LFwiIFNEUCBkdXJpbmcgUDJQQ29ubmVjdGlvbi5cIikuY29uY2F0KG4sXCJcXG5cIiksZSksXCJvZmZlclwiPT09dD9lPT57cU0oZSxcImFuc3dlclwiLFwibG9jYWxcIj09PWk/XCJyZW1vdGVcIjpcImxvY2FsXCIsbil9OnZvaWQgMH1mdW5jdGlvbiB6TShlLHQpe3JldHVybiB0eXBlb2YgRHkoZSk9PT10P0R5KGUpOnZvaWQgMH1mdW5jdGlvbiBKTShlLHQpe3ZhciBpPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKG49bi5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksaS5wdXNoLmFwcGx5KGksbil9cmV0dXJuIGl9ZnVuY3Rpb24gWE0oZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIGk9bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/Sk0oT2JqZWN0KGkpLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtvZyhlLHQsaVt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhpKSk6Sk0oT2JqZWN0KGkpKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaSx0KSl9KSl9cmV0dXJuIGV9Y29uc3QgUU09bmV3IE1hcDtjbGFzcyBaTSBleHRlbmRzIFN2e2dldCBzdGF0ZSgpe3JldHVybiB0aGlzLl9zdGF0ZX1zZXQgc3RhdGUoZSl7aWYoZT09PXRoaXMuX3N0YXRlKXJldHVybjtjb25zdCB0PXRoaXMuX3N0YXRlO3RoaXMuX3N0YXRlPWUsXCJESVNDT05ORUNURURcIj09PWUmJnRoaXMuX2Rpc2Nvbm5lY3RlZFJlYXNvbj90aGlzLmVtaXQoVWIuQ09OTkVDVElPTl9TVEFURV9DSEFOR0UsZSx0LHRoaXMuX2Rpc2Nvbm5lY3RlZFJlYXNvbik6dGhpcy5lbWl0KFViLkNPTk5FQ1RJT05fU1RBVEVfQ0hBTkdFLGUsdCl9Z2V0IGpvaW5HYXRld2F5U3RhcnRUaW1lKCl7cmV0dXJuIHRoaXMuX2pvaW5HYXRld2F5U3RhcnRUaW1lfXNldCBqb2luR2F0ZXdheVN0YXJ0VGltZShlKXtReS5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gc2V0IGpvaW5HYXRld2F5U3RhcnRUaW1lIGF0IFwiKS5jb25jYXQoZSkpLHRoaXMuX2pvaW5HYXRld2F5U3RhcnRUaW1lPWV9Y29uc3RydWN0b3IoZSx0KXtzdXBlcigpLG9nKHRoaXMsXCJzdG9yZVwiLHZvaWQgMCksb2codGhpcyxcImpvaW5JbmZvXCIsdm9pZCAwKSxvZyh0aGlzLFwia2V5XCIsdm9pZCAwKSxvZyh0aGlzLFwibnRwT2Zmc2V0XCIsMCksb2codGhpcyxcInNpZ25hbFwiLHZvaWQgMCksb2codGhpcyxcInJvbGVcIix2b2lkIDApLG9nKHRoaXMsXCJpbkNoYW5uZWxJbmZvXCIse2pvaW5BdDpudWxsLGR1cmF0aW9uOjB9KSxvZyh0aGlzLFwic3BlY1wiLHZvaWQgMCksb2codGhpcyxcIl9zdGF0ZVwiLFwiRElTQ09OTkVDVEVEXCIpLG9nKHRoaXMsXCJfc3RhdHNDb2xsZWN0b3JcIix2b2lkIDApLG9nKHRoaXMsXCJfZGlzY29ubmVjdGVkUmVhc29uXCIsdm9pZCAwKSxvZyh0aGlzLFwiaXNTaWduYWxSZWNvdmVyXCIsITEpLG9nKHRoaXMsXCJoYXNDaGFuZ2VCR1BBZGRyZXNzXCIsITEpLG9nKHRoaXMsXCJ0cmFmZmljU3RhdHNJbnRlcnZhbFwiLHZvaWQgMCksb2codGhpcyxcIm5ldHdvcmtRdWFsaXR5SW50ZXJ2YWxcIix2b2lkIDApLG9nKHRoaXMsXCJfam9pbkdhdGV3YXlTdGFydFRpbWVcIiwwKSxvZyh0aGlzLFwiX3NpZ25hbFRpbWVvdXRcIiwhMSksb2codGhpcyxcIl9jbGllbnRSb2xlT3B0aW9uc1wiLHZvaWQgMCksb2codGhpcyxcIl9pc1Byb2FjdGl2ZUpvaW5cIiwhMSksdGhpcy5zdG9yZT1lLHRoaXMuc3BlYz10LHRoaXMuc2lnbmFsPXRoaXMuc3RvcmUudXNlUDJQP25ldyBnTShYTShYTSh7fSx0KSx7fSx7cmV0cnlDb25maWc6dC53ZWJzb2NrZXRSZXRyeUNvbmZpZ30pLGUpOm5ldyB3dyhYTShYTSh7fSx0KSx7fSx7cmV0cnlDb25maWc6dC53ZWJzb2NrZXRSZXRyeUNvbmZpZ30pLGUpLHRoaXMuX3N0YXRzQ29sbGVjdG9yPXQuc3RhdHNDb2xsZWN0b3IsdGhpcy5yb2xlPXQucm9sZXx8XCJhdWRpZW5jZVwiLHRoaXMuX2NsaWVudFJvbGVPcHRpb25zPXQuY2xpZW50Um9sZU9wdGlvbnMsdGhpcy5oYW5kbGVTaWduYWxFdmVudHMoKX1hc3luYyBqb2luKGUsdCxpKXt0aGlzLnN0b3JlLmpvaW5HYXRld2F5U3RhcnQoKSxcImRpc2FibGVkXCIhPT1lLmNsb3VkUHJveHlTZXJ2ZXImJih0aGlzLmhhc0NoYW5nZUJHUEFkZHJlc3M9ITApO2NvbnN0IG49RGF0ZS5ub3coKTtsZXQgcj1RTS5nZXQoZS5jbmFtZSk7aWYocnx8KHI9bmV3IE1hcCxRTS5zZXQoZS5jbmFtZSxyKSksdGhpcy5faXNQcm9hY3RpdmVKb2luPSEwLHIuaGFzKGUudWlkKSl7Y29uc3QgdD1uZXcgU2IobnYuVUlEX0NPTkZMSUNUKTt0aHJvdyBzQS5qb2luR2F0ZXdheShlLnNpZCx7bHRzOm4sc3VjYzohMSxlYzp0LmNvZGUsYWRkcjpudWxsLHVpZDplLnVpZCxjaWQ6ZS5jaWQsZmlyc3RTdWNjZXNzOnRoaXMuX2lzUHJvYWN0aXZlSm9pbixhdm9pZEpvaW5TdGFydFRpbWU6dGhpcy5zdG9yZS5hdm9pZEpvaW5TdGFydCxpc1Byb3h5OiEhZS5wcm94eVNlcnZlcixzaWduYWxDaGFubmVsOlwiMFwiLHByZWxvYWQ6ZS5wcmVsb2FkfSksdGhpcy5faXNQcm9hY3RpdmVKb2luPSExLHR9ci5zZXQoZS51aWQsITApLHRoaXMuam9pbkluZm89ZSx0aGlzLmtleT10O2xldCBvPTA7dGhpcy5qb2luR2F0ZXdheVN0YXJ0VGltZT1uO2NvbnN0IHM9ZS5wcm94eVNlcnZlcjt0cnl7UXkuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIHVzZSB3ZWJzb2NrZXQgam9pbiB1aWQgXCIpLmNvbmNhdChvKSk7Y29uc3QgdD1lLmdhdGV3YXlBZGRycy5tYXAoKHQ9PntsZXR7YWRkcmVzczppfT10O2NvbnN0W24scl09aS5zcGxpdChcIjpcIiksbz17aG9zdDpuLHBvcnQ6cn07cmV0dXJuIGUucHJveHlTZXJ2ZXImJihvLnByb3h5PWUucHJveHlTZXJ2ZXIpLG99KSk7bz0oYXdhaXQgdGhpcy5zaWduYWwuaW5pdCh0LGkpKS51aWQsUXkuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIHdlYnNvY2tldCBqb2luIHVpZCBcIikuY29uY2F0KG8sXCIgY29zdCBcIikuY29uY2F0KERhdGUubm93KCktdGhpcy5qb2luR2F0ZXdheVN0YXJ0VGltZSkpfWNhdGNoKHQpe3ZhciBhO3Rocm93IFF5LmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBVc2VyIGpvaW4gZmFpbGVkXCIpLHQudG9TdHJpbmcoKSksc0Euam9pbkdhdGV3YXkoZS5zaWQse2x0czpuLHN1Y2M6ITEsZWM6KG51bGw9PT0oYT10LmRhdGEpfHx2b2lkIDA9PT1hP3ZvaWQgMDphLmRlc2MpfHx0LmNvZGUsZXJyb3JNc2c6dC5tZXNzYWdlLGFkZHI6dGhpcy5zaWduYWwudXJsLHVpZDplLnVpZCxjaWQ6ZS5jaWQsZmlyc3RTdWNjZXNzOnRoaXMuX2lzUHJvYWN0aXZlSm9pbixhdm9pZEpvaW5TdGFydFRpbWU6dGhpcy5zdG9yZS5hdm9pZEpvaW5TdGFydCxpc1Byb3h5OiEhcyxzaWduYWxDaGFubmVsOlwiMFwiLHByZWxvYWQ6ZS5wcmVsb2FkfSksdGhpcy5faXNQcm9hY3RpdmVKb2luPSExLHIuZGVsZXRlKGUudWlkKSx0aGlzLnNpZ25hbC5jbG9zZSgpLHR9cmV0dXJuIHRoaXMuc3RhdGU9XCJDT05ORUNURURcIix0aGlzLmluQ2hhbm5lbEluZm8uam9pbkF0PURhdGUubm93KCksUXkuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIENvbm5lY3RlZCB0byBnYXRld2F5IHNlcnZlclwiKSksdGhpcy50cmFmZmljU3RhdHNJbnRlcnZhbD13aW5kb3cuc2V0SW50ZXJ2YWwoKCgpPT57dGhpcy51cGRhdGVUcmFmZmljU3RhdHMoKS5jYXRjaCgoZT0+e1F5Lndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIGdldCB0cmFmZmljIHN0YXRzIGVycm9yXCIpLGUudG9TdHJpbmcoKSl9KSl9KSwzZTMpLHRoaXMubmV0d29ya1F1YWxpdHlJbnRlcnZhbD13aW5kb3cuc2V0SW50ZXJ2YWwoKCgpPT57bmF2aWdhdG9yJiZ2b2lkIDAhPT1uYXZpZ2F0b3Iub25MaW5lJiYhbmF2aWdhdG9yLm9uTGluZT90aGlzLmVtaXQoVWIuTkVUV09SS19RVUFMSVRZLHtkb3dubGlua05ldHdvcmtRdWFsaXR5OjYsdXBsaW5rTmV0d29ya1F1YWxpdHk6Nn0pOnRoaXMuX3NpZ25hbFRpbWVvdXQ/dGhpcy5lbWl0KFViLk5FVFdPUktfUVVBTElUWSx7ZG93bmxpbmtOZXR3b3JrUXVhbGl0eTo1LHVwbGlua05ldHdvcmtRdWFsaXR5OjV9KTpcIkNPTk5FQ1RFRFwiPT09dGhpcy5zdGF0ZSYmdGhpcy5fc3RhdHNDb2xsZWN0b3IudHJhZmZpY1N0YXRzP3RoaXMuZW1pdChVYi5ORVRXT1JLX1FVQUxJVFkse3VwbGlua05ldHdvcmtRdWFsaXR5OlV3KHRoaXMuX3N0YXRzQ29sbGVjdG9yLnRyYWZmaWNTdGF0cy5CX3VucSksZG93bmxpbmtOZXR3b3JrUXVhbGl0eTpVdyh0aGlzLl9zdGF0c0NvbGxlY3Rvci50cmFmZmljU3RhdHMuQl9kbnEpfSk6dGhpcy5lbWl0KFViLk5FVFdPUktfUVVBTElUWSx7dXBsaW5rTmV0d29ya1F1YWxpdHk6MCxkb3dubGlua05ldHdvcmtRdWFsaXR5OjB9KX0pLDJlMyksdGhpcy5zdG9yZS5qb2luR2F0ZXdheUVuZCgpLG99YXN5bmMgbGVhdmUoKXtsZXQgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXSYmYXJndW1lbnRzWzBdLHQ9YXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDA7aWYoXCJESVNDT05ORUNURURcIiE9PXRoaXMuc3RhdGUpe3QhPT1Bdi5GQUxMQkFDSyYmKHRoaXMuc3RhdGU9XCJESVNDT05ORUNUSU5HXCIpO3RyeXtlfHx0aGlzLnNpZ25hbC5jb25uZWN0aW9uU3RhdGUhPT1oYi5DT05ORUNURUR8fGF3YWl0IGZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9PT0xLzA/ZTpHaC5yYWNlKFtlLFp2KHQpXSl9KHRoaXMuc2lnbmFsLnJlcXVlc3QoX2IuTEVBVkUsdm9pZCAwLCEwKSwzZTMpfWNhdGNoKGUpe1F5Lndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIGxlYXZlIHJlcXVlc3QgZmFpbGVkLCBpZ25vcmVcIiksZSl9dGhpcy5zaWduYWwuY2xvc2UodCksdCE9PUF2LkZBTExCQUNLJiYodGhpcy5zdGF0ZT1cIkRJU0NPTk5FQ1RFRFwiKSx0aGlzLnJlc2V0KCl9fWFzeW5jIHB1Ymxpc2goZSx0LGkpe2lmKFwiQ09OTkVDVEVEXCIhPT10aGlzLnN0YXRlJiZcIlJFQ09OTkVDVElOR1wiIT09dGhpcy5zdGF0ZSl0aHJvdyBuZXcgU2IobnYuSU5WQUxJRF9PUEVSQVRJT04sXCJjYW4gbm90IHB1Ymxpc2ggd2hlbiBjb25uZWN0aW9uIHN0YXRlIGlzIFwiLmNvbmNhdCh0aGlzLnN0YXRlKSk7Y29uc3Qgbj17c3RhdGU6XCJvZmZlclwiLHAycF9pZDp0aGlzLnN0b3JlLnAycElkLG9ydGM6dCxtb2RlOnRoaXMuc3BlYy5tb2RlLGV4dGVuZDpEeShcIlBVQl9FWFRFTkRcIiksdHdjYzohIUR5KFwiUFVCTElTSF9UV0NDXCIpLHJ0eDohIUR5KFwiVVNFX1BVQl9SVFhcIil9O3RyeXtyZXR1cm4oYXdhaXQgdGhpcy5zaWduYWwucmVxdWVzdChfYi5QVUJMSVNILG4sITApKS5fbWVzc2FnZX1jYXRjaChuKXtpZihpJiZuLmRhdGEmJm4uZGF0YS5jb2RlPT09dWIuRVJSX1BVQkxJU0hfUkVRVUVTVF9JTlZBTElEKXJldHVybiBReS53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSByZWNlaXZlIHB1Ymxpc2ggZXJyb3IgY29kZSwgcmV0cnlcIiksbi50b1N0cmluZygpKSxhd2FpdCB0aGlzLnRyeVVucHViQmVmb3JlUmVwdWIoZSx0KSx0aGlzLnB1Ymxpc2goZSx0LCExKTt0aHJvdyBufX1hc3luYyBwdWJsaXNoRGF0YUNoYW5uZWwoZSx0LGkpe3ZhciBuO2lmKFwiQ09OTkVDVEVEXCIhPT10aGlzLnN0YXRlJiZcIlJFQ09OTkVDVElOR1wiIT09dGhpcy5zdGF0ZSl0aHJvdyBuZXcgU2IobnYuSU5WQUxJRF9PUEVSQVRJT04sXCJjYW4gbm90IHB1Ymxpc2ggd2hlbiBjb25uZWN0aW9uIHN0YXRlIGlzIFwiLmNvbmNhdCh0aGlzLnN0YXRlKSk7Y29uc3Qgcj17c3RyZWFtX2lkOnQuc3RyZWFtSWQsb3JkZXJlZDp0Lm9yZGVyZWQ/MTowLG1heF9yZXRyYW5zX3RpbWVzOm51bGwhPT0obj10Lm1heFJldHJhbnNtaXRzKSYmdm9pZCAwIT09bj9uOjEwLGNoYW5uZWxfaWQ6dC5jaGFubmVsSWQsbWV0YWRhdGE6dC5tZXRhZGF0YX07dHJ5e2F3YWl0IHRoaXMuc2lnbmFsLnJlcXVlc3QoX2IuUFVCTElTSF9EQVRBU1RSRUFNLHIsITApfWNhdGNoKG4pe2lmKGkmJm4uZGF0YSYmbi5kYXRhLmNvZGU9PT11Yi5FUlJfUFVCTElTSF9SRVFVRVNUX0lOVkFMSUQpcmV0dXJuIFF5Lndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIHJlY2VpdmUgcHVibGlzaCBkYXRhY2hhbm5lbHMgZXJyb3IgY29kZSwgcmV0cnlcIiksbi50b1N0cmluZygpKSxhd2FpdCB0aGlzLnRyeVVucHViRGF0YUNoYW5uZWxCZWZvcmVSZXB1YihlLHQpLHRoaXMucHVibGlzaERhdGFDaGFubmVsKGUsdCwhMSk7dGhyb3cgbn19YXN5bmMgdW5wdWJsaXNoKGUsdCl7dHJ5e2lmKFwiQ09OTkVDVEVEXCIhPT10aGlzLnN0YXRlJiZcIlJFQ09OTkVDVElOR1wiIT09dGhpcy5zdGF0ZSl0aHJvdyBuZXcgU2IobnYuSU5WQUxJRF9PUEVSQVRJT04sXCJjYW4gbm90IHB1Ymxpc2ggd2hlbiBjb25uZWN0aW9uIHN0YXRlIGlzIFwiLmNvbmNhdCh0aGlzLnN0YXRlKSk7YXdhaXQgdGhpcy5zaWduYWwucmVxdWVzdChfYi5VTlBVQkxJU0gse3N0cmVhbV9pZDp0LG9ydGM6ZX0sITApfWNhdGNoKGUpe1F5Lndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIHVucHVibGlzaCB3YXJuaW5nOiBcIiksZSl9fWFzeW5jIHVucHVibGlzaERhdGFDaGFubmVsKGUpe3RyeXtpZihcIkNPTk5FQ1RFRFwiIT09dGhpcy5zdGF0ZSYmXCJSRUNPTk5FQ1RJTkdcIiE9PXRoaXMuc3RhdGUpdGhyb3cgbmV3IFNiKG52LklOVkFMSURfT1BFUkFUSU9OLFwiY2FuIG5vdCBwdWJsaXNoIHdoZW4gY29ubmVjdGlvbiBzdGF0ZSBpcyBcIi5jb25jYXQodGhpcy5zdGF0ZSkpO2F3YWl0IEdoLmFsbChlLm1hcCgoZT0+dGhpcy5zaWduYWwucmVxdWVzdChfYi5VTlBVQkxJU0hfREFUQVNUUkVBTSx7Y2hhbm5lbF9pZDplfSwhMCkpKSl9Y2F0Y2goZSl7UXkud2FybmluZyhcInVucHVibGlzaCBkYXRhY2hhbm5lbHMgd2FybmluZzogXCIsZSl9fWFzeW5jIHByZXN1YnNjcmliZShlLHQsaSl7aWYoXCJDT05ORUNURURcIiE9PXRoaXMuc3RhdGUmJlwiUkVDT05ORUNUSU5HXCIhPT10aGlzLnN0YXRlKXRocm93IG5ldyBTYihudi5JTlZBTElEX09QRVJBVElPTixcImNhbiBub3QgcHJlc3Vic2NyaWJlIHdoZW4gY29ubmVjdGlvbiBzdGF0ZSBpcyBcIi5jb25jYXQodGhpcy5zdGF0ZSkpO2NvbnN0IG49e3N0cmVhbV9pZDplLHN0cmVhbV90eXBlOnQsbW9kZTp0aGlzLnNwZWMubW9kZSxjb2RlYzp0aGlzLnNwZWMuY29kZWMscDJwX2lkOnRoaXMuc3RvcmUucDJwSWQsdHdjYzohIUR5KFwiU1VCU0NSSUJFX1RXQ0NcIikscnR4OiEhRHkoXCJVU0VfU1VCX1JUWFwiKXx8dm9pZCAwLGV4dGVuZDpEeShcIlNVQl9FWFRFTkRcIiksc3ZjOkFycmF5LmlzQXJyYXkoRHkoXCJTVkNcIikpJiYwIT09RHkoXCJTVkNcIikubGVuZ3RoP0R5KFwiU1ZDXCIpOnZvaWQgMH07dHJ5e3JldHVybiBhd2FpdCB0aGlzLnNpZ25hbC5yZXF1ZXN0KF9iLlBSRV9TVUJTQ1JJQkUsbiwhMCl9Y2F0Y2gobil7aWYoaSYmbi5kYXRhJiZuLmRhdGEuY29kZT09PXViLkVSUl9TVUJTQ1JJQkVfUkVRVUVTVF9JTlZBTElEKXJldHVybiBReS53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBwcmUtc3Vic2NyaWJlIGVycm9yLCByZXRyeVwiKSxuLnRvU3RyaW5nKCkpLHRoaXMucHJlc3Vic2NyaWJlKGUsdCwhMSk7dGhyb3cgbn19YXN5bmMgc3Vic2NyaWJlKGUsdCxpKXtpZihcIkNPTk5FQ1RFRFwiIT09dGhpcy5zdGF0ZSYmXCJSRUNPTk5FQ1RJTkdcIiE9PXRoaXMuc3RhdGUpdGhyb3cgbmV3IFNiKG52LklOVkFMSURfT1BFUkFUSU9OLFwiY2FuIG5vdCBzdWJzY3JpYmUgd2hlbiBjb25uZWN0aW9uIHN0YXRlIGlzIFwiLmNvbmNhdCh0aGlzLnN0YXRlKSk7Y29uc3Qgbj17c3RyZWFtX2lkOmUsc3RyZWFtX3R5cGU6dC5zdHJlYW1fdHlwZSxtb2RlOnRoaXMuc3BlYy5tb2RlLGNvZGVjOnRoaXMuc3BlYy5jb2RlYyxwMnBfaWQ6dGhpcy5zdG9yZS5wMnBJZCx0d2NjOiEhRHkoXCJTVUJTQ1JJQkVfVFdDQ1wiKSxydHg6ISFEeShcIlVTRV9TVUJfUlRYXCIpLGV4dGVuZDpEeShcIlNVQl9FWFRFTkRcIiksc3NyY0lkOnQuc3NyY0lkLHN2YzpBcnJheS5pc0FycmF5KER5KFwiU1ZDXCIpKSYmMCE9PUR5KFwiU1ZDXCIpLmxlbmd0aD9EeShcIlNWQ1wiKTp2b2lkIDB9O3RyeXtyZXR1cm4oYXdhaXQgdGhpcy5zaWduYWwucmVxdWVzdChfYi5TVUJTQ1JJQkUsbiwhMCkpLl9tZXNzYWdlfWNhdGNoKG4pe2lmKGkmJm4uZGF0YSYmbi5kYXRhLmNvZGU9PT11Yi5FUlJfU1VCU0NSSUJFX1JFUVVFU1RfSU5WQUxJRClyZXR1cm4gUXkud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gcmVjZWl2ZXIgc3Vic2NyaWJlIGVycm9yIGNvZGUsIHJldHJ5XCIpLG4udG9TdHJpbmcoKSksYXdhaXQgdGhpcy50cnlVbnN1YkJlZm9yZVJlc3ViKGUsdCksYXdhaXQgdGhpcy5zdWJzY3JpYmUoZSx0LCExKTt0aHJvdyBufX1hc3luYyBzdWJzY3JpYmVEYXRhQ2hhbm5lbChlLHQsaSl7aWYoXCJDT05ORUNURURcIiE9PXRoaXMuc3RhdGUmJlwiUkVDT05ORUNUSU5HXCIhPT10aGlzLnN0YXRlKXRocm93IG5ldyBTYihudi5JTlZBTElEX09QRVJBVElPTixcImNhbiBub3Qgc3Vic2NyaWJlIGRhdGFjaGFubmVsIHdoZW4gY29ubmVjdGlvbiBzdGF0ZSBpcyBcIi5jb25jYXQodGhpcy5zdGF0ZSkpO2NvbnN0IG49e3VpZDplLHN0cmVhbV9pZDp0LmlkLGNoYW5uZWxfaWQ6dC5kYXRhY2hhbm5lbElkfTt0cnl7cmV0dXJuIHZvaWQgYXdhaXQgdGhpcy5zaWduYWwucmVxdWVzdChfYi5TVUJTQ1JJQkVfREFUQVNUUkVBTSxuLCEwKX1jYXRjaChuKXtpZihpJiZuLmRhdGEmJm4uZGF0YS5jb2RlPT09dWIuRVJSX1NVQlNDUklCRV9SRVFVRVNUX0lOVkFMSUQpcmV0dXJuIFF5Lndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIHJlY2VpdmVyIHN1YnNjcmliZSBkYXRhY2hhbm5lbCBlcnJvciBjb2RlLCByZXRyeVwiKSxuLnRvU3RyaW5nKCkpLGF3YWl0IHRoaXMudHJ5VW5zdWJEYXRhQ2hhbm5lbEJlZm9yZVJlc3ViKGUsdCksYXdhaXQgdGhpcy5zdWJzY3JpYmVEYXRhQ2hhbm5lbChlLHQsITEpO3Rocm93IG59fWFzeW5jIHN1YnNjcmliZUFsbChlLHQpe2lmKFwiQ09OTkVDVEVEXCIhPT10aGlzLnN0YXRlJiZcIlJFQ09OTkVDVElOR1wiIT09dGhpcy5zdGF0ZSl0aHJvdyBuZXcgU2IobnYuSU5WQUxJRF9PUEVSQVRJT04sXCJjYW4gbm90IG1hc3NTdWJzY3JpYmUgd2hlbiBjb25uZWN0aW9uIHN0YXRlIGlzIFwiLmNvbmNhdCh0aGlzLnN0YXRlKSk7Y29uc3QgaT17cDJwX2lkOnRoaXMuc3RvcmUucDJwSWQsdXNlcnM6ZSxkdHg6ITEscnR4OiEhRHkoXCJVU0VfU1VCX1JUWFwiKSx0d2NjOiEhRHkoXCJTVUJTQ1JJQkVfVFdDQ1wiKSxzdmM6QXJyYXkuaXNBcnJheShEeShcIlNWQ1wiKSkmJjAhPT1EeShcIlNWQ1wiKS5sZW5ndGg/RHkoXCJTVkNcIik6dm9pZCAwfTt0cnl7cmV0dXJuIGF3YWl0IHRoaXMuc2lnbmFsLnJlcXVlc3QoX2IuU1VCU0NSSUJFX1NUUkVBTVMsaSwhMCl9Y2F0Y2goaSl7aWYodCYmaS5kYXRhJiZpLmRhdGEuY29kZT09PXViLkVSUl9TVUJTQ1JJQkVfUkVRVUVTVF9JTlZBTElEKXJldHVybiBReS53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSByZWNlaXZlciBtYXNzU3Vic2NyaWJlIGVycm9yIGNvZGUsIHJldHJ5XCIpLGkudG9TdHJpbmcoKSksYXdhaXQgdGhpcy50cnlNYXNzVW5zdWJCZWZvcmVSZXN1YihlKSxhd2FpdCB0aGlzLnN1YnNjcmliZUFsbChlLCExKTt0aHJvdyBpfX1hc3luYyBzZXRWaWRlb1Byb2ZpbGUoZSl7Y29uc3QgdD1mdW5jdGlvbihlKXtpZighKGUuYml0cmF0ZU1heCYmZS5iaXRyYXRlTWluJiZlLmZyYW1lUmF0ZSYmZS5oZWlnaHQmJmUud2lkdGgpKXJldHVybjtsZXQgdD1lLmZyYW1lUmF0ZSxpPWUud2lkdGgsbj1lLmhlaWdodCxyPSEwO3JldHVyblwibnVtYmVyXCIhPXR5cGVvZiB0JiYodD10LmV4YWN0fHx0LmlkZWFsfHx0Lm1heHx8dC5taW58fDAsdHx8KHI9ITEpKSxcIm51bWJlclwiIT10eXBlb2YgaSYmKGk9aS5leGFjdHx8aS5pZGVhbHx8aS5tYXh8fGkubWlufHwwLGl8fChyPSExKSksXCJudW1iZXJcIiE9dHlwZW9mIG4mJihuPW4uZXhhY3R8fG4uaWRlYWx8fG4ubWF4fHxuLm1pbnx8MCx0fHwocj0hMSkpLHI/e3N0cmVhbV90eXBlOjAsd2lkdGg6aSxoZWlnaHQ6bixmcHM6dCxzdGFydF9icHM6MWUzKmUuYml0cmF0ZU1heCxtaW5fYnBzOjFlMyplLmJpdHJhdGVNaW4sdGFyZ2V0X2JwczoxZTMqZS5iaXRyYXRlTWF4fTp2b2lkIDB9KGUpO2lmKHQpcmV0dXJuIHRoaXMuc2lnbmFsLnJlcXVlc3QoX2IuU0VUX1ZJREVPX1BST0ZJTEUsdCk7UXkuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIGVuY29kZXIgY29uZmlnIGlzIG5vdCBjb21wbGV0ZSwgZG8gbm90IHJlcG9ydCB0byBnYXRld2F5XCIpKX1hc3luYyB1bnN1YnNjcmliZShlLHQpe3RyeXthd2FpdCB0aGlzLnNpZ25hbC5yZXF1ZXN0KF9iLlVOU1VCU0NSSUJFLHtwMnBfaWQ6dGhpcy5zdG9yZS5wMnBJZCxvcnRjOmUsc3RyZWFtX2lkOnR9LCEwKX1jYXRjaChlKXtReS53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSB1bnN1YnNjcmliZSB3YXJuaW5nOiBcIiksZSl9fWFzeW5jIHVuc3Vic2NyaWJlRGF0YUNoYW5uZWwoZSx0KXt0cnl7aWYoXCJDT05ORUNURURcIiE9PXRoaXMuc3RhdGUmJlwiUkVDT05ORUNUSU5HXCIhPT10aGlzLnN0YXRlKXRocm93IG5ldyBTYihudi5JTlZBTElEX09QRVJBVElPTixcImNhbiBub3QgcHVibGlzaCB3aGVuIGNvbm5lY3Rpb24gc3RhdGUgaXMgXCIuY29uY2F0KHRoaXMuc3RhdGUpKTthd2FpdCBHaC5hbGwoZS5tYXAoKGU9PnRoaXMuc2lnbmFsLnJlcXVlc3QoX2IuVU5TVUJTQ1JJQkVfREFUQVNUUkVBTSx7c3RyZWFtX2lkOmUsdWlkOnR9LCEwKSkpKX1jYXRjaChlKXtReS53YXJuaW5nKFwidW5zdWJzY3JpYmVEYXRhQ2hhbm5lbCB3YXJuaW5nOiBcIixlKX19YXN5bmMgbWFzc1Vuc3Vic2NyaWJlKGUpe3RyeXthd2FpdCB0aGlzLnNpZ25hbC5yZXF1ZXN0KF9iLlVOU1VCU0NSSUJFX1NUUkVBTVMsZSwhMCl9Y2F0Y2goZSl7UXkud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gbWFzc1Vuc3Vic2NyaWJlQWxsIHdhcm5pbmc6IFwiKSxlKX19YXN5bmMgcmVjb25uZWN0UEMoZSl7Y29uc3R7aWNlUGFyYW1ldGVyczp0LGR0bHNQYXJhbWV0ZXJzOmkscnRwQ2FwYWJpbGl0aWVzOm59PWU7cmV0dXJue2dhdGV3YXlFc3RhYmxpc2hQYXJhbXM6YXdhaXQgdGhpcy5zaWduYWwucmVxdWVzdChfYi5DT05ORUNUX1BDLHtwMnBfaWQ6dGhpcy5zdG9yZS5wMnBJZCxzdHJlYW1faWQ6dGhpcy5zdG9yZS51aWQsb3J0Yzp7aWNlUGFyYW1ldGVyczp0LGR0bHNQYXJhbWV0ZXJzOmkscnRwQ2FwYWJpbGl0aWVzOm59fSwhMCksZ2F0ZXdheUFkZHJlc3M6dGhpcy5nZXRDdXJyZW50R2F0ZXdheUFkZHJlc3MoKX19Z2V0R2F0ZXdheUluZm8oKXtyZXR1cm4gdGhpcy5zaWduYWwucmVxdWVzdChfYi5HQVRFV0FZX0lORk8pfWFzeW5jIHJlbmV3VG9rZW4oZSl7YXdhaXQgdGhpcy5zaWduYWwucmVxdWVzdChfYi5SRU5FV19UT0tFTixlKSx0aGlzLmtleT1lLnRva2VufWFzeW5jIHNldENsaWVudFJvbGUoZSx0KXtpZih0JiYodGhpcy5fY2xpZW50Um9sZU9wdGlvbnM9T2JqZWN0LmFzc2lnbih7fSx0KSksXCJDT05ORUNURURcIiE9PXRoaXMuc3RhdGUpcmV0dXJuIHZvaWQodGhpcy5yb2xlPWUpO2xldCBpLG49MDtcImF1ZGllbmNlXCI9PT1lP3RoaXMuX2NsaWVudFJvbGVPcHRpb25zJiZ0aGlzLl9jbGllbnRSb2xlT3B0aW9ucy5kZWxheT8oaT10aGlzLl9jbGllbnRSb2xlT3B0aW9ucy5kZWxheSxuPTEpOm49dGhpcy5fY2xpZW50Um9sZU9wdGlvbnMmJnRoaXMuX2NsaWVudFJvbGVPcHRpb25zLmxldmVsP3RoaXMuX2NsaWVudFJvbGVPcHRpb25zLmxldmVsOjI6bj0wLGF3YWl0IHRoaXMuc2lnbmFsLnJlcXVlc3QoX2IuU0VUX0NMSUVOVF9ST0xFLHtyb2xlOmUsbGV2ZWw6bixkZWxheTppLGNsaWVudF90czpEYXRlLm5vdygpfSksdGhpcy5yb2xlPWV9YXN5bmMgc2V0UmVtb3RlVmlkZW9TdHJlYW1UeXBlKGUsdCl7YXdhaXQgdGhpcy5zaWduYWwucmVxdWVzdChfYi5TV0lUQ0hfVklERU9fU1RSRUFNLHtzdHJlYW1faWQ6ZSxzdHJlYW1fdHlwZTp0fSl9YXN5bmMgc2V0RGVmYXVsdFJlbW90ZVZpZGVvU3RyZWFtVHlwZShlKXthd2FpdCB0aGlzLnNpZ25hbC5yZXF1ZXN0KF9iLkRFRkFVTFRfVklERU9fU1RSRUFNLHtzdHJlYW1fdHlwZTplfSl9YXN5bmMgc2V0U3RyZWFtRmFsbGJhY2tPcHRpb24oZSx0KXthd2FpdCB0aGlzLnNpZ25hbC5yZXF1ZXN0KF9iLlNFVF9GQUxMQkFDS19PUFRJT04se3N0cmVhbV9pZDplLGZhbGxiYWNrX3R5cGU6dH0pfWFzeW5jIHBpY2tTVkNMYXllcihlLHQpe2F3YWl0IHRoaXMuc2lnbmFsLnJlcXVlc3QoX2IuUElDS19TVkNfTEFZRVIse3N0cmVhbV9pZDplLHNwYXRpYWxfbGF5ZXI6dC5zcGF0aWFsTGF5ZXIsdGVtcG9yYWxfbGF5ZXI6dC50ZW1wb3JhbExheWVyfSl9YXN5bmMgc2V0UlRNMkZsYWcoZSl7YXdhaXQgdGhpcy5zaWduYWwucmVxdWVzdChfYi5TRVRfUlRNMl9GTEFHLHtydG0yX2ZsYWc6ZX0pfWFzeW5jIHNlbmRFeHRlbnNpb25NZXNzYWdlKGUsdCxpKXtpZih0aGlzLnNpZ25hbCBpbnN0YW5jZW9mIGdNKXJldHVybiB0aGlzLnNpZ25hbC5zZW5kRXh0ZW5zaW9uTWVzc2FnZShlLHQsaSl9Z2V0SW5DaGFubmVsSW5mbygpe3JldHVybiB0aGlzLmluQ2hhbm5lbEluZm8uam9pbkF0JiYodGhpcy5pbkNoYW5uZWxJbmZvLmR1cmF0aW9uPURhdGUubm93KCktdGhpcy5pbkNoYW5uZWxJbmZvLmpvaW5BdCksWE0oe30sdGhpcy5pbkNoYW5uZWxJbmZvKX1hc3luYyBnZXRHYXRld2F5VmVyc2lvbigpe3JldHVybihhd2FpdCB0aGlzLnNpZ25hbC5yZXF1ZXN0KF9iLkdBVEVXQVlfSU5GTykpLnZlcnNpb259cmVzZXQoKXtpZih0aGlzLmluQ2hhbm5lbEluZm8uam9pbkF0JiYodGhpcy5pbkNoYW5uZWxJbmZvLmR1cmF0aW9uPURhdGUubm93KCktdGhpcy5pbkNoYW5uZWxJbmZvLmpvaW5BdCx0aGlzLmluQ2hhbm5lbEluZm8uam9pbkF0PW51bGwpLHRoaXMudHJhZmZpY1N0YXRzSW50ZXJ2YWwmJih3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLnRyYWZmaWNTdGF0c0ludGVydmFsKSx0aGlzLnRyYWZmaWNTdGF0c0ludGVydmFsPXZvaWQgMCksdGhpcy5qb2luSW5mbyl7Y29uc3QgZT1RTS5nZXQodGhpcy5qb2luSW5mby5jbmFtZSk7ZSYmZS5kZWxldGUodGhpcy5qb2luSW5mby51aWQpfXRoaXMuam9pbkluZm89dm9pZCAwLHRoaXMua2V5PXZvaWQgMCx0aGlzLm5ldHdvcmtRdWFsaXR5SW50ZXJ2YWwmJih3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLm5ldHdvcmtRdWFsaXR5SW50ZXJ2YWwpLHRoaXMubmV0d29ya1F1YWxpdHlJbnRlcnZhbD12b2lkIDApfXVwZGF0ZVR1cm5Db25maWdGcm9tU2lnbmFsKCl7aWYoIXRoaXMuam9pbkluZm8pcmV0dXJuO2NvbnN0IGU9ZnVuY3Rpb24oZSl7bGV0IHQ7cmV0dXJuIHQ9ZS5zdGFydHNXaXRoKFwiZGNcIik/ZS5tYXRjaCgvKGRjXFw6XFwvXFwvKT8oW146XSspOihcXGQrKS8pOmUubWF0Y2goLyh3c3NcXDpcXC9cXC8pPyhbXjpdKyk6KFxcZCspLyksdD97dXNlcm5hbWU6Y0EudXNlcm5hbWUscGFzc3dvcmQ6Y0EucGFzc3dvcmQsdHVyblNlcnZlclVSTDp0WzJdLHRjcHBvcnQ6cGFyc2VJbnQodFszXSkrMzAsdWRwcG9ydDpwYXJzZUludCh0WzNdKSszMCxmb3JjZXR1cm46ITF9Om51bGx9KChcImRpc2FibGVkXCI9PT10aGlzLmpvaW5JbmZvLmNsb3VkUHJveHlTZXJ2ZXI/dGhpcy5zaWduYWwudXJsOnRoaXMuam9pbkluZm8uZ2F0ZXdheUFkZHJzW3RoaXMuc2lnbmFsLmN1cnJlbnRVUkxJbmRleF0uYWRkcmVzcyl8fFwiXCIpO3RoaXMuam9pbkluZm8udHVyblNlcnZlci5zZXJ2ZXJzRnJvbUdhdGV3YXk9W10sZSYmXCJvZmZcIiE9PXRoaXMuam9pbkluZm8udHVyblNlcnZlci5tb2RlJiZcImRpc2FibGVkXCI9PT10aGlzLmpvaW5JbmZvLmNsb3VkUHJveHlTZXJ2ZXImJnRoaXMuam9pbkluZm8udHVyblNlcnZlci5zZXJ2ZXJzRnJvbUdhdGV3YXkucHVzaChYTShYTSh7fSxjQSkse30se3R1cm5TZXJ2ZXJVUkw6ZS50dXJuU2VydmVyVVJMLHRjcHBvcnQ6ZS50Y3Bwb3J0LHVkcHBvcnQ6ZS51ZHBwb3J0LHVzZXJuYW1lOnRoaXMuam9pbkluZm8udWlkLnRvU3RyaW5nKCkscGFzc3dvcmQ6dGhpcy5qb2luSW5mby50b2tlbn0pKX1hc3luYyB1cGRhdGVUcmFmZmljU3RhdHMoKXtpZihcIkNPTk5FQ1RFRFwiIT09dGhpcy5zdGF0ZSlyZXR1cm47Y29uc3QgZT1hd2FpdCB0aGlzLnNpZ25hbC5yZXF1ZXN0KF9iLlRSQUZGSUNfU1RBVFMsdm9pZCAwLCEwKTtlLnRpbWVzdGFtcD1EYXRlLm5vdygpLG51bGwhPWUubnRwX29mZnNldCYmKHRoaXMubnRwT2Zmc2V0PWUubnRwX29mZnNldCksZS5wZWVyX2RlbGF5LmZvckVhY2goKGU9Pntjb25zdCB0PXRoaXMuX3N0YXRzQ29sbGVjdG9yLnRyYWZmaWNTdGF0cyYmdGhpcy5fc3RhdHNDb2xsZWN0b3IudHJhZmZpY1N0YXRzLnBlZXJfZGVsYXkuZmluZCgodD0+dC5wZWVyX3VpZD09PWUucGVlcl91aWQpKTt0JiZ0LkJfc3QhPT1lLkJfc3QmJmp2KCgoKT0+e3RoaXMuZW1pdChVYi5TVFJFQU1fVFlQRV9DSEFOR0UsZS5wZWVyX3VpZCxlLkJfc3QpfSkpfSkpLHRoaXMuX3N0YXRzQ29sbGVjdG9yLnVwZGF0ZVRyYWZmaWNTdGF0cyhlKX1nZXRKb2luTWVzc2FnZShlKXtpZighdGhpcy5qb2luSW5mb3x8IXRoaXMua2V5KXRocm93IG5ldyBTYihudi5VTkVYUEVDVEVEX0VSUk9SLFwiY2FuIG5vdCBnZW5lcmF0ZSBqb2luIG1lc3NhZ2UsIG5vIGpvaW4gaW5mb1wiKTtjb25zdCB0PU9iamVjdC5hc3NpZ24oe30sdGhpcy5qb2luSW5mby5hcFJlc3BvbnNlKTtsZXQgaT1EeShcIlJFUE9SVF9BUFBfU0NFTkFSSU9cIik7aWYoXCJzdHJpbmdcIiE9dHlwZW9mIGkpdHJ5e2k9SlNPTi5zdHJpbmdpZnkoaSl9Y2F0Y2goZSl7aT12b2lkIDB9aSYmaS5sZW5ndGg+MTI4JiYoaT12b2lkIDApO2NvbnN0IG49IShrSSgpfHx4SSg4Nyl8fHhEKCkpJiYoXCJib29sZWFuXCI9PXR5cGVvZiBEeShcIkVOQUJMRV9QUkVfU1VCXCIpJiZEeShcIkVOQUJMRV9QUkVfU1VCXCIpKSxyPSF4RCgpJiZ6TShcIkVOQUJMRV9QUkVBTExPQ19QQ1wiLFwiYm9vbGVhblwiKSxvPVhNKHtsaWNlbnNlOnRoaXMuam9pbkluZm8ubGljZW5zZSxwMnBfaWQ6dGhpcy5zdG9yZS5wMnBJZCxzZXNzaW9uX2lkOnRoaXMuam9pbkluZm8uc2lkLGFwcF9pZDp0aGlzLmpvaW5JbmZvLmFwcElkLGNoYW5uZWxfa2V5OnRoaXMua2V5LGNoYW5uZWxfbmFtZTp0aGlzLmpvaW5JbmZvLmNuYW1lLHNka192ZXJzaW9uOnZ5LGJyb3dzZXI6bmF2aWdhdG9yLnVzZXJBZ2VudCxwcm9jZXNzX2lkOkR5KFwiUFJPQ0VTU19JRFwiKSxtb2RlOnRoaXMuc3RvcmUudXNlUDJQP1wicDJwXCI6dGhpcy5zcGVjLm1vZGUsY29kZWM6dGhpcy5zcGVjLmNvZGVjLHJvbGU6dGhpcy5yb2xlLGhhc19jaGFuZ2VkX2dhdGV3YXk6dGhpcy5oYXNDaGFuZ2VCR1BBZGRyZXNzLGFwX3Jlc3BvbnNlOnQsZXh0ZW5kOkR5KFwiSk9JTl9FWFRFTkRcIiksZGV0YWlsczp7Njp0aGlzLmpvaW5JbmZvLnN0cmluZ1VpZCxjc2VydmljZV9tYXA6XCJwcm94eTNcIj09PXRoaXMuam9pbkluZm8uY2xvdWRQcm94eVNlcnZlcj9cIjFcIjpcInByb3h5NVwiPT09dGhpcy5qb2luSW5mby5jbG91ZFByb3h5U2VydmVyP1wiMlwiOnZvaWQgMH0sZmVhdHVyZXM6e3Jlam9pbjohMH0sb3B0aW9uYWxJbmZvOnRoaXMuam9pbkluZm8ub3B0aW9uYWxJbmZvLGFwcFNjZW5hcmlvOmksYXR0cmlidXRlczp7dXNlckF0dHJpYnV0ZXM6e2VuYWJsZVB1Ymxpc2hlZFVzZXJMaXN0OkR5KFwiRU5BQkxFX1BVQkxJU0hFRF9VU0VSX0xJU1RcIiksbWF4U3Vic2NyaXB0aW9uOkR5KFwiTUFYX1NVQlNDUklQVElPTlwiKSxzdWJzY3JpYmVBdWRpb0ZpbHRlclRvcE46XCJudW1iZXJcIj09dHlwZW9mIER5KFwiU1VCU0NSSUJFX0FVRElPX0ZJTFRFUl9UT1BOXCIpP0R5KFwiU1VCU0NSSUJFX0FVRElPX0ZJTFRFUl9UT1BOXCIpOnZvaWQgMCxlbmFibGVQdWJsaXNoQXVkaW9GaWx0ZXI6XCJib29sZWFuXCI9PXR5cGVvZiBEeShcIkVOQUJMRV9QVUJMSVNIX0FVRElPX0ZJTFRFUlwiKT9EeShcIkVOQUJMRV9QVUJMSVNIX0FVRElPX0ZJTFRFUlwiKTp2b2lkIDAsZW5hYmxlVXNlckxpY2Vuc2VDaGVjazpcImJvb2xlYW5cIj09dHlwZW9mIER5KFwiRU5BQkxFX1VTRVJfTElDRU5TRV9DSEVDS1wiKT9EeShcIkVOQUJMRV9VU0VSX0xJQ0VOU0VfQ0hFQ0tcIik6dm9pZCAwLGVuYWJsZVJUWDohMD09PUR5KFwiVVNFX1BVQl9SVFhcIil8fCEwPT09RHkoXCJVU0VfU1VCX1JUWFwiKXx8dm9pZCAwLGRpc2FibGVGRUM6RHkoXCJESVNBQkxFX0ZFQ1wiKSxlbmFibGVOVFBSZXBvcnQ6ISFEeShcIkVOQUJMRV9OVFBfUkVQT1JUXCIpfHx2b2lkIDAsZW5hYmxlSW5zdGFudFZpZGVvOiEhRHkoXCJFTkFCTEVfSU5TVEFOVF9WSURFT1wiKXx8dm9pZCAwLGVuYWJsZUZ1bGxsaW5rQXZTeW5jOiEhRHkoXCJFTkFCTEVfRlVMTF9MSU5LX0FWX1NZTkNcIil8fHZvaWQgMCxlbmFibGVEYXRhU3RyZWFtMjp6TShcIkVOQUJMRV9EQVRBU1RSRUFNXzJcIixcImJvb2xlYW5cIiksZW5hYmxlQXV0RmVlZGJhY2s6ISFEeShcIkVOQUJMRV9BVVRfRkVFREJBQ0tcIil8fHZvaWQgMCxydG0yRmxhZzpcIm51bWJlclwiPT10eXBlb2YgdGhpcy5qb2luSW5mby5ydG1GbGFnP3RoaXMuam9pbkluZm8ucnRtRmxhZzp2b2lkIDAsZW5hYmxlVXNlckF1dG9SZWJhbGFuY2VDaGVjazohIUR5KFwiRU5BQkxFX1VTRVJfQVVUT19SRUJBTEFOQ0VfQ0hFQ0tcIiksZW5hYmxlWFI6ek0oXCJVU0VfWFJcIixcImJvb2xlYW5cIiksZW5hYmxlTG9zc2Jhc2VkQndlOnpNKFwiRU5BQkxFX0xPU1NCQVNFRF9CV0VcIixcImJvb2xlYW5cIiksZW5hYmxlQXV0Q0M6ISFEeShcIkVOQUJMRV9BVVRfQ0NcIil8fHZvaWQgMCxlbmFibGVDQ0ZhbGxiYWNrOnpNKFwiRU5BQkxFX0NDX0ZBTExCQUNLXCIsXCJib29sZWFuXCIpLGVuYWJsZVByZWFsbG9jUEM6cixwcmVTdWJOdW06bj96TShcIlBSRV9TVUJfTlVNXCIsXCJudW1iZXJcIik6dm9pZCAwLGVuYWJsZVB1YlRXQ0M6ek0oXCJQVUJMSVNIX1RXQ0NcIixcImJvb2xlYW5cIiksZW5hYmxlU3ViVFdDQzp6TShcIlNVQlNDUklCRV9UV0NDXCIsXCJib29sZWFuXCIpLGVuYWJsZVB1YlJUWDp6TShcIlVTRV9QVUJfUlRYXCIsXCJib29sZWFuXCIpLGVuYWJsZVN1YlJUWDp6TShcIlVTRV9TVUJfUlRYXCIsXCJib29sZWFuXCIpLGVuYWJsZVN1YlNWQzpEeShcIkVOQUJMRV9TVkNcIik/RHkoXCJFTkFCTEVfU1ZDX0RFRkFVTFRfQ09ERUNTXCIpOkFycmF5LmlzQXJyYXkoRHkoXCJTVkNcIikpJiYwIT09RHkoXCJTVkNcIikubGVuZ3RoP0R5KFwiU1ZDXCIpOnZvaWQgMH19LGpvaW5fdHM6dGhpcy5qb2luR2F0ZXdheVN0YXJ0VGltZX0sZSk7cmV0dXJuIHRoaXMuam9pbkluZm8uc3RyaW5nVWlkJiYoby5zdHJpbmdfdWlkPXRoaXMuam9pbkluZm8uc3RyaW5nVWlkKSx0aGlzLmpvaW5JbmZvLmFlc21vZGUmJnRoaXMuam9pbkluZm8uYWVzcGFzc3dvcmQmJihvLmFlc19tb2RlPXRoaXMuam9pbkluZm8uYWVzbW9kZSxEeShcIkVOQ1JZUFRfQUVTXCIpPyhvLmFlc19zZWNyZXQ9dGhpcy5qb2luSW5mby5hZXNwYXNzd29yZCxvLmFlc19lbmNyeXB0PSEwKTpvLmFlc19zZWNyZXQ9dGhpcy5qb2luSW5mby5hZXNwYXNzd29yZCx0aGlzLmpvaW5JbmZvLmFlc3NhbHQmJihvLmFlc19zYWx0PXRoaXMuam9pbkluZm8uYWVzc2FsdCkpLHQuYWRkcmVzc2VzW3RoaXMuc2lnbmFsLndlYnNvY2tldC5jdXJyZW50VVJMSW5kZXhdJiYoby5hcF9yZXNwb25zZS50aWNrZXQ9dC5hZGRyZXNzZXNbdGhpcy5zaWduYWwud2Vic29ja2V0LmN1cnJlbnRVUkxJbmRleF0udGlja2V0LGRlbGV0ZSB0LmFkZHJlc3Nlcyksdm9pZCAwIT09dGhpcy5qb2luSW5mby5kZWZhdWx0VmlkZW9TdHJlYW0mJihvLmRlZmF1bHRfdmlkZW9fc3RyZWFtPXRoaXMuam9pbkluZm8uZGVmYXVsdFZpZGVvU3RyZWFtKSxvfWdldFJlam9pbk1lc3NhZ2UoKXtpZighdGhpcy5qb2luSW5mbyl0aHJvdyBuZXcgU2IobnYuVU5FWFBFQ1RFRF9FUlJPUixcImNhbiBub3QgZ2VuZXJhdGUgcmVqb2luIG1lc3NhZ2UsIG5vIGpvaW4gaW5mb1wiKTtyZXR1cm57c2Vzc2lvbl9pZDp0aGlzLmpvaW5JbmZvLnNpZCxjaGFubmVsX25hbWU6dGhpcy5qb2luSW5mby5jbmFtZSxjaWQ6dGhpcy5qb2luSW5mby5jaWQsdWlkOnRoaXMuam9pbkluZm8udWlkLHZpZDpOdW1iZXIodGhpcy5qb2luSW5mby52aWQpfX1oYW5kbGVTaWduYWxFdmVudHMoKXt0aGlzLnNpZ25hbC5vbihwYi5XU19SRUNPTk5FQ1RfV0FJVFRJTkdfRklOSVNILChlPT57dmFyIHQ7RG4odD1bXCJ0cnlOZXh0XCIsXCJyZWNvdmVyXCJdKS5jYWxsKHQsZSkmJnRoaXMuam9pbkluZm8mJnNBLmFkanVzdFNlc3Npb25TdGFydFRpbWUodGhpcy5qb2luSW5mby5zaWQpfSkpLHRoaXMuc2lnbmFsLm9uKHBiLldTX1JFQ09OTkVDVF9DUkVBVEVfQ09OTkVDVElPTiwoZT0+e3RoaXMuam9pbkdhdGV3YXlTdGFydFRpbWU9RGF0ZS5ub3coKX0pKSx0aGlzLnNpZ25hbC5vbihwYi5XU19SRUNPTk5FQ1RJTkcsKGU9Pnt0aGlzLmpvaW5JbmZvJiZzQS5XZWJTb2NrZXRRdWl0KHRoaXMuam9pbkluZm8uc2lkLHtsdHM6RGF0ZS5ub3coKSxzdWNjOi0xLGNuYW1lOnRoaXMuam9pbkluZm8uY25hbWUsdWlkOnRoaXMuam9pbkluZm8udWlkLGNpZDp0aGlzLmpvaW5JbmZvLmNpZCxlcnJvckNvZGU6ZXx8RHYuTkVUV09SS19FUlJPUn0pLHRoaXMuam9pbkluZm8mJih0aGlzLnN0YXRlPVwiUkVDT05ORUNUSU5HXCIsc0Euc2Vzc2lvbkluaXQodGhpcy5qb2luSW5mby5zaWQse2x0czoobmV3IERhdGUpLmdldFRpbWUoKSxleHRlbmQ6dGhpcy5pc1NpZ25hbFJlY292ZXI/e3JlY292ZXI6ITB9OntyZWpvaW46ITB9LGNuYW1lOnRoaXMuam9pbkluZm8uY25hbWUsYXBwaWQ6dGhpcy5qb2luSW5mby5hcHBJZCxtb2RlOnRoaXMuc3BlYy5tb2RlLHN0cmluZ1VpZDp0aGlzLmpvaW5JbmZvLnN0cmluZ1VpZCxjaGFubmVsUHJvZmlsZTpcImxpdmVcIj09PXRoaXMuc3BlYy5tb2RlPzE6MCxjaGFubmVsTW9kZTowLGxzaWQ6dGhpcy5qb2luSW5mby5zaWQsY2xpZW50Um9sZTpcImF1ZGllbmNlXCI9PT10aGlzLnJvbGU/MjoxLGJ1aWxkRm9ybWF0OjJ9KSx0aGlzLmlzU2lnbmFsUmVjb3Zlcj0hMSx0aGlzLmpvaW5HYXRld2F5U3RhcnRUaW1lPURhdGUubm93KCkpfSkpLHRoaXMuc2lnbmFsLm9uKHBiLldTX0NMT1NFRCwoZT0+e2xldCB0O3N3aXRjaChlKXtjYXNlIEF2LkxFQVZFOnQ9RHYuTEVBVkU7YnJlYWs7Y2FzZSBBdi5VSURfQkFOTkVEOmNhc2UgQXYuSVBfQkFOTkVEOmNhc2UgQXYuQ0hBTk5FTF9CQU5ORUQ6Y2FzZSBBdi5TRVJWRVJfRVJST1I6dD1Edi5TRVJWRVJfRVJST1I7YnJlYWs7Y2FzZSBBdi5GQUxMQkFDSzp0PUR2LkZBTExCQUNLO2JyZWFrO2Nhc2UgQXYuTElDRU5TRV9NSVNTSU5HOmNhc2UgQXYuTElDRU5TRV9FWFBJUkVEOmNhc2UgQXYuTElDRU5TRV9NSU5VVEVTX0VYQ0VFREVEOmNhc2UgQXYuTElDRU5TRV9QRVJJT0RfSU5WQUxJRDpjYXNlIEF2LkxJQ0VOU0VfTVVMVElQTEVfU0RLX1NFUlZJQ0U6Y2FzZSBBdi5MSUNFTlNFX0lMTEVHQUw6Y2FzZSBBdi5UT0tFTl9FWFBJUkU6dD1lO2JyZWFrO2RlZmF1bHQ6dD1Edi5ORVRXT1JLX0VSUk9SfVF5LmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbc2lnbmFsXSB3ZWJzb2NrZXQgY2xvc2VkLCByZWFzb246IFwiKS5jb25jYXQodHx8XCJ1bmRlZmluZWQgLT4gXCIrRHYuTkVUV09SS19FUlJPUikpLHRoaXMuam9pbkluZm8mJnNBLldlYlNvY2tldFF1aXQodGhpcy5qb2luSW5mby5zaWQse2x0czpEYXRlLm5vdygpLHN1Y2M6ZT09PUF2LkxFQVZFPzE6LTEsY25hbWU6dGhpcy5qb2luSW5mby5jbmFtZSx1aWQ6dGhpcy5qb2luSW5mby51aWQsY2lkOnRoaXMuam9pbkluZm8uY2lkLGVycm9yQ29kZTp0fSksdGhpcy5fZGlzY29ubmVjdGVkUmVhc29uPWUsZSE9PUF2LkZBTExCQUNLJiYodGhpcy5zdGF0ZT1cIkRJU0NPTk5FQ1RFRFwiKSx0aGlzLnJlc2V0KCl9KSksdGhpcy5zaWduYWwub24ocGIuV1NfQ09OTkVDVEVELCgoKT0+e2lmKHRoaXMudXBkYXRlVHVybkNvbmZpZ0Zyb21TaWduYWwoKSx0aGlzLnN0YXRlPVwiQ09OTkVDVEVEXCIsdGhpcy5qb2luSW5mbyYmKFwiYXVkaWVuY2VcIj09PXRoaXMucm9sZSYmdGhpcy5fY2xpZW50Um9sZU9wdGlvbnMmJih0aGlzLl9jbGllbnRSb2xlT3B0aW9ucy5sZXZlbHx8dGhpcy5fY2xpZW50Um9sZU9wdGlvbnMuZGVsYXkpJiYoUXkuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIHBhdGNoIHRvIHNlbmQgc2V0IGNsaWVudCByb2xlLCByb2xlOiBcIikuY29uY2F0KHRoaXMucm9sZSxcIiwgbW9kZTogXCIpLmNvbmNhdCh0aGlzLnNwZWMubW9kZSxcIiwgbGV2ZWw6IFwiKS5jb25jYXQodGhpcy5fY2xpZW50Um9sZU9wdGlvbnMubGV2ZWwsXCIsIGRlbGF5OiBcIikuY29uY2F0KHRoaXMuX2NsaWVudFJvbGVPcHRpb25zLmRlbGF5KSksdGhpcy5zZXRDbGllbnRSb2xlKHRoaXMucm9sZSx0aGlzLl9jbGllbnRSb2xlT3B0aW9ucykpLHNBLmpvaW5HYXRld2F5KHRoaXMuam9pbkluZm8uc2lkLHtsdHM6dGhpcy5qb2luR2F0ZXdheVN0YXJ0VGltZSxzdWNjOiEwLGVjOm51bGwsdmlkOnRoaXMuam9pbkluZm8udmlkLGFkZHI6dGhpcy5zaWduYWwudXJsLHVpZDp0aGlzLmpvaW5JbmZvLnVpZCxjaWQ6dGhpcy5qb2luSW5mby5jaWQsZmlyc3RTdWNjZXNzOnRoaXMuX2lzUHJvYWN0aXZlSm9pbixhdm9pZEpvaW5TdGFydFRpbWU6dGhpcy5zdG9yZS5hdm9pZEpvaW5TdGFydCxpc1Byb3h5OiEhdGhpcy5qb2luSW5mby5wcm94eVNlcnZlcixzaWduYWxDaGFubmVsOlwiMFwiLHByZWxvYWQ6dGhpcy5qb2luSW5mby5wcmVsb2FkfSksdGhpcy5faXNQcm9hY3RpdmVKb2luPSExLHRoaXMuam9pbkluZm8udXNlTG9jYWxBY2Nlc3NQb2ludCYmMT09PXRoaXMuam9pbkluZm8uc2V0TG9jYWxBUFZlcnNpb24pKXtjb25zdCBlPXRoaXMuc2lnbmFsLnVybCYmdGhpcy5zaWduYWwudXJsLm1hdGNoKC93c3NcXDpcXC9cXC8oW146XSspOihcXGQrKS8pO2lmKCFlKXJldHVybiB2b2lkIFF5LmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBzZXQgbG9jYWwgYWNjZXNzIHBvaW50IGFmdGVyIGpvaW5lZCBmYWlsZWQ6IFwiKS5jb25jYXQoZSkpO055KFwiRVZFTlRfUkVQT1JUX0RPTUFJTlwiLGVbMV0pLE55KFwiRVZFTlRfUkVQT1JUX0JBQ0tVUF9ET01BSU5cIixlWzFdKSxOeShcIkxPR19VUExPQURfU0VSVkVSXCIsXCJcIi5jb25jYXQoZVsxXSxcIjo2NDQ0XCIpKX19KSksdGhpcy5zaWduYWwub24obWIuT05fVVBMSU5LX1NUQVRTLChlPT57dGhpcy5fc3RhdHNDb2xsZWN0b3IudXBkYXRlVXBsaW5rU3RhdHMoZSl9KSksdGhpcy5zaWduYWwub24ocGIuUkVRVUVTVF9SRUNPVkVSLCgoZSx0LGkpPT57aWYoIXRoaXMuam9pbkluZm8pcmV0dXJuIGkobmV3IFNiKG52LlVORVhQRUNURURfRVJST1IsXCJnYXRld2F5OiBjYW4gbm90IHJlY292ZXIsIG5vIGpvaW4gaW5mb1wiKSk7ZSYmKHRoaXMuam9pbkluZm8ubXVsdGlJUD1lLHRoaXMuaGFzQ2hhbmdlQkdQQWRkcmVzcz0hMCksdGhpcy5pc1NpZ25hbFJlY292ZXI9ITAsa3YodGhpcyxVYi5SRVFVRVNUX05FV19HQVRFV0FZX0xJU1QpLnRoZW4odCkuY2F0Y2goaSl9KSksdGhpcy5zaWduYWwub24ocGIuUkVRVUVTVF9KT0lOX0lORk8sKGFzeW5jIGU9Pnt2YXIgdDtpZih0aGlzLnVwZGF0ZVR1cm5Db25maWdGcm9tU2lnbmFsKCksdGhpcy5zdG9yZS51c2VQMlApcmV0dXJuIHZvaWQgZSh0aGlzLmdldEpvaW5NZXNzYWdlKHtvcnRjOnt9fSkpO2NvbnN0e2ljZVBhcmFtZXRlcnM6aSxkdGxzUGFyYW1ldGVyczpuLHJ0cENhcGFiaWxpdGllczpyfT1hd2FpdCBrdih0aGlzLFViLlJFUVVFU1RfUDJQX0NPTk5FQ1RJT05fUEFSQU1TLHt0dXJuU2VydmVyOm51bGw9PT0odD10aGlzLmpvaW5JbmZvKXx8dm9pZCAwPT09dD92b2lkIDA6dC50dXJuU2VydmVyfSk7ZSh0aGlzLmdldEpvaW5NZXNzYWdlKHtvcnRjOntpY2VQYXJhbWV0ZXJzOmksZHRsc1BhcmFtZXRlcnM6bixydHBDYXBhYmlsaXRpZXM6cix2ZXJzaW9uOlwiMlwifX0pKX0pKSx0aGlzLnNpZ25hbC5vbihwYi5SRVFVRVNUX1JFSk9JTl9JTkZPLChlPT57ZSh0aGlzLmdldFJlam9pbk1lc3NhZ2UoKSl9KSksdGhpcy5zaWduYWwub24ocGIuUkVQT1JUX0pPSU5fR0FURVdBWSwoKGUsdCk9PntpZighdGhpcy5qb2luSW5mbylyZXR1cm47bGV0IGksbj1cIlwiO3ZhciByO2UgaW5zdGFuY2VvZiBTYj8oaT0obnVsbD09PShyPWUuZGF0YSl8fHZvaWQgMD09PXI/dm9pZCAwOnIuZGVzYyl8fGUuY29kZSxuPWUubWVzc2FnZSk6aT1lO3NBLmpvaW5HYXRld2F5KHRoaXMuam9pbkluZm8uc2lkLHtsdHM6dGhpcy5qb2luR2F0ZXdheVN0YXJ0VGltZSxzdWNjOiExLGVjOmksZXJyb3JNc2c6bixhZGRyOnQsdWlkOnRoaXMuam9pbkluZm8udWlkLGNpZDp0aGlzLmpvaW5JbmZvLmNpZCxmaXJzdFN1Y2Nlc3M6dGhpcy5faXNQcm9hY3RpdmVKb2luLGF2b2lkSm9pblN0YXJ0VGltZTp0aGlzLnN0b3JlLmF2b2lkSm9pblN0YXJ0LGlzUHJveHk6ISF0aGlzLmpvaW5JbmZvLnByb3h5U2VydmVyLHNpZ25hbENoYW5uZWw6XCIwXCIscHJlbG9hZDp0aGlzLmpvaW5JbmZvLnByZWxvYWR9KSx0aGlzLl9pc1Byb2FjdGl2ZUpvaW49ITF9KSksdGhpcy5zaWduYWwub24ocGIuSVNfUDJQX0RJU0NPTk5FQ1RFRCwoZT0+e2UoeHYodGhpcyxVYi5JU19QMlBfRElTQ09OTkVDVEVEKSl9KSksdGhpcy5zaWduYWwub24ocGIuRElTQ09OTkVDVF9QMlAsKCgpPT57dGhpcy5lbWl0KFViLkRJU0NPTk5FQ1RfUDJQKX0pKSx0aGlzLnNpZ25hbC5vbihwYi5SRVFVRVNUX1NVQ0NFU1MsKCgpPT57dGhpcy5fc2lnbmFsVGltZW91dD0hMX0pKSx0aGlzLnNpZ25hbC5vbihwYi5SRVFVRVNUX1RJTUVPVVQsKCgpPT57dGhpcy5fc2lnbmFsVGltZW91dD0hMH0pKSx0aGlzLnNpZ25hbC5vbihwYi5KT0lOX1JFU1BPTlNFLChlPT57Y29uc3QgdD10aGlzLmdldEN1cnJlbnRHYXRld2F5QWRkcmVzcygpO3RoaXMuZW1pdChVYi5KT0lOX1JFU1BPTlNFLGUsdCl9KSksdGhpcy5zaWduYWwub24ocGIuUFJFX0NPTk5FQ1RfUEMsKGFzeW5jKCk9PntpZih0aGlzLmpvaW5JbmZvKXt0aGlzLnVwZGF0ZVR1cm5Db25maWdGcm9tU2lnbmFsKCk7Y29uc3QgZT10aGlzLmdldEN1cnJlbnRHYXRld2F5QWRkcmVzcygpLHQ9RHkoXCJGSU5HRVJQUklOVFwiKXx8dGhpcy5qb2luSW5mby5hcFJlc3BvbnNlLmFkZHJlc3Nlc1t0aGlzLnNpZ25hbC5jdXJyZW50VVJMSW5kZXhdLmZpbmdlcnByaW50O2lmKGUmJnQpe2NvbnN0IGk9Tk0oZSk7dGhpcy5lbWl0KFViLlBSRV9DT05ORUNUX1BDLHtjYW5kaWRhdGVzOmksZmluZ2VycHJpbnQ6dH0pfX19KSl9YXN5bmMgdHJ5VW5zdWJCZWZvcmVSZXN1YihlLHQpe3RyeXthd2FpdCB0aGlzLnNpZ25hbC5yZXF1ZXN0KF9iLlVOU1VCU0NSSUJFLHtwMnBfaWQ6dGhpcy5zdG9yZS5wMnBJZCxzdHJlYW1faWQ6ZSxvcnRjOlt0XX0sITApfWNhdGNoKGUpe3Rocm93IFF5Lndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIHRyeVVuc3ViQmVmb3JlUmVzdWIgd2FybmluZ1wiKSxlKSxlfX1hc3luYyB0cnlVbnN1YkRhdGFDaGFubmVsQmVmb3JlUmVzdWIoZSx0KXt0cnl7YXdhaXQgdGhpcy5zaWduYWwucmVxdWVzdChfYi5VTlNVQlNDUklCRSx7c3RyZWFtX2lkOnQuaWR9LCEwKX1jYXRjaChlKXt0aHJvdyBReS53YXJuaW5nKFwidW5zdWJzY3JpYmUgZGF0YWNoYW5uZWwgd2FybmluZ1wiLGUpLGV9fWFzeW5jIHRyeVVucHViQmVmb3JlUmVwdWIoZSx0KXt0cnl7YXdhaXQgdGhpcy5zaWduYWwucmVxdWVzdChfYi5VTlBVQkxJU0gse3N0cmVhbV9pZDplLG9ydGM6dH0sITApfWNhdGNoKGUpe3Rocm93IFF5Lndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIHRyeVVucHViQmVmb3JlUmVwdWIgd2FybmluZzogXCIpLGUpLGV9fWFzeW5jIHRyeVVucHViRGF0YUNoYW5uZWxCZWZvcmVSZXB1YihlLHQpe3RyeXthd2FpdCB0aGlzLnNpZ25hbC5yZXF1ZXN0KF9iLlVOUFVCTElTSF9EQVRBU1RSRUFNLHtjaGFubm5lbF9pZDp0LmNoYW5uZWxJZH0sITApfWNhdGNoKGUpe3Rocm93IFF5Lndhcm5pbmcoXCJ1bnB1Ymxpc2ggZGF0YXN0cmVhbSB3YXJuaW5nOiBcIixlKSxlfX1hc3luYyB0cnlNYXNzVW5zdWJCZWZvcmVSZXN1YihlKXtjb25zdCB0PXt1c2VyczplLm1hcCgoZT0+KHtzdHJlYW1faWQ6ZS5zdHJlYW1faWQsc3RyZWFtX3R5cGU6ZS5zdHJlYW1fdHlwZX0pKSl9O3RyeXthd2FpdCB0aGlzLnNpZ25hbC5yZXF1ZXN0KF9iLlVOU1VCU0NSSUJFX1NUUkVBTVMsdCwhMCl9Y2F0Y2goZSl7dGhyb3cgUXkud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gdHJ5TWFzc1Vuc3ViQmVmb3JlUmVzdWIgd2FybmluZ1wiKSxlKSxlfX1hc3luYyBtdXRlTG9jYWwoZSx0KXtjb25zdCBpPXthY3Rpb246ZS5maW5kKChlPT5lLnN0cmVhbV90eXBlPT09TWIuQXVkaW8pKT9cIm11dGVfbG9jYWxfYXVkaW9cIjpcIm11dGVfbG9jYWxfdmlkZW9cIixwMnBfaWQ6dGhpcy5zdG9yZS5wMnBJZCxvcnRjOmUsc3RyZWFtX2lkOnR9O3RyeXthd2FpdCB0aGlzLnNpZ25hbC5yZXF1ZXN0KF9iLkNPTlRST0wsaSwhMCwhMCl9Y2F0Y2goZSl7dGhyb3cgUXkud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gZ2F0ZXdheSBtdXRlTG9jYWwgd2FybmluZzogXCIpLGUpLGV9fWFzeW5jIHVubXV0ZUxvY2FsKGUsdCl7Y29uc3QgaT17YWN0aW9uOmUuZmluZCgoZT0+ZS5zdHJlYW1fdHlwZT09PU1iLkF1ZGlvKSk/XCJ1bm11dGVfbG9jYWxfYXVkaW9cIjpcInVubXV0ZV9sb2NhbF92aWRlb1wiLHAycF9pZDp0aGlzLnN0b3JlLnAycElkLG9ydGM6ZSxzdHJlYW1faWQ6dH07dHJ5e2F3YWl0IHRoaXMuc2lnbmFsLnJlcXVlc3QoX2IuQ09OVFJPTCxpLCEwLCEwKX1jYXRjaChlKXt0aHJvdyBReS53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBnYXRld2F5IHVubXV0ZUxvY2FsIHdhcm5pbmc6IFwiKSxlKSxlfX1hc3luYyBtdXRlUmVtb3RlKGUsdCl7Y29uc3QgaT17YWN0aW9uOmU9PT1ZYi5BVURJTz9cIm11dGVfcmVtb3RlX2F1ZGlvXCI6XCJtdXRlX3JlbW90ZV92aWRlb1wiLHAycF9pZDp0aGlzLnN0b3JlLnAycElkLHN0cmVhbV9pZDp0fTt0cnl7YXdhaXQgdGhpcy5zaWduYWwucmVxdWVzdChfYi5DT05UUk9MLGksITAsITApfWNhdGNoKGUpe3Rocm93IFF5Lndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIGdhdGV3YXkgbXV0ZVJlbW90ZSB3YXJuaW5nOiBcIiksZSksZX19YXN5bmMgdW5tdXRlUmVtb3RlKGUsdCl7Y29uc3QgaT17YWN0aW9uOmU9PT1ZYi5BVURJTz9cInVubXV0ZV9yZW1vdGVfYXVkaW9cIjpcInVubXV0ZV9yZW1vdGVfdmlkZW9cIixwMnBfaWQ6dGhpcy5zdG9yZS5wMnBJZCxzdHJlYW1faWQ6dH07dHJ5e2F3YWl0IHRoaXMuc2lnbmFsLnJlcXVlc3QoX2IuQ09OVFJPTCxpLCEwLCEwKX1jYXRjaChlKXt0aHJvdyBReS53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBnYXRld2F5IHVubXV0ZVJlbW90ZSB3YXJuaW5nOiBcIiksZSksZX19dXBsb2FkV1JUQ1N0YXRzKGUpe3RoaXMuc2lnbmFsLnVwbG9hZFdSVENTdGF0cyhlKX11cGxvYWQoZSx0KXt0aGlzLnNpZ25hbC51cGxvYWQoZSx0KX1nZXRTaWduYWxSVFQoKXtyZXR1cm4gdGhpcy5zaWduYWwucnR0fWFzeW5jIHJlc3RhcnRJQ0UoZSl7Y29uc3QgdD17cDJwX2lkOnRoaXMuc3RvcmUucDJwSWQsc3RyZWFtX2lkOnRoaXMuc3RvcmUudWlkLG9ydGM6ZX07dHJ5e3JldHVybiBhd2FpdCB0aGlzLnNpZ25hbC5yZXF1ZXN0KF9iLlJFU1RBUlRfSUNFLHQsITApfWNhdGNoKGUpe3Rocm93IFF5Lndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFAyUENoYW5uZWwucmVzdGFydElDRSB3YXJuaW5nOiBcIiksZSksZX19cmVjb25uZWN0KCl7XCJDT05ORUNURURcIj09PXRoaXMuc3RhdGUmJnRoaXMuc2lnbmFsLnJlY29ubmVjdCh2b2lkIDAsRHYuUDJQX0ZBSUxFRCl9Z2V0Q3VycmVudEdhdGV3YXlBZGRyZXNzKCl7dmFyIGUsdDtpZighRHkoXCJHQVRFV0FZX1dTU19BRERSRVNTXCIpKXJldHVybiBEeShcIlVTRV9DQU5ESURBVEVfRlJPTV9BUF9ERVRBSUxcIikmJm51bGwhPT0oZT10aGlzLmpvaW5JbmZvKSYmdm9pZCAwIT09ZSYmZS5hcEdhdGV3YXlBZGRyZXNzPyhReS5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gdXNlIGNhbmRpZGF0ZSBmcm9tIGFwIGRldGFpbCwgXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeSh0aGlzLmpvaW5JbmZvLmFwR2F0ZXdheUFkZHJlc3MpKSksdGhpcy5qb2luSW5mby5hcEdhdGV3YXlBZGRyZXNzKTpudWxsIT09KHQ9dGhpcy5qb2luSW5mbykmJnZvaWQgMCE9PXQmJnQuZ2F0ZXdheUFkZHJzP3RoaXMuam9pbkluZm8uZ2F0ZXdheUFkZHJzW3RoaXMuc2lnbmFsLmN1cnJlbnRVUkxJbmRleF06dm9pZCAwfWFzeW5jIHNldFB1Ymxpc2hBdWRpb0ZpbHRlckVuYWJsZWQoZSl7YXdhaXQgdGhpcy5zaWduYWwucmVxdWVzdChfYi5TRVRfUEFSQU1FVEVSLHtlbmFibGVQdWJsaXNoQXVkaW9GaWx0ZXI6ZX0pfX1sZXQgJE09MCxlVT0wO2Z1bmN0aW9uIHRVKGUsdCxpLG4pe3JldHVybiBuZXcgR2goKChyLG8pPT57dC50aW1lb3V0PXQudGltZW91dHx8RHkoXCJIVFRQX0NPTk5FQ1RfVElNRU9VVFwiKSx0LnJlc3BvbnNlVHlwZT10LnJlc3BvbnNlVHlwZXx8XCJqc29uXCIsdC5kYXRhJiYhaT8odC5kYXRhPUpTT04uc3RyaW5naWZ5KHQuZGF0YSksJE0rPVh2KHQuZGF0YSkpOmkmJih0LmRhdGEuc2l6ZT8kTSs9dC5kYXRhLnNpemU6dC5kYXRhIGluc3RhbmNlb2YgRm9ybURhdGE/JE0rPVF2KHQuZGF0YSk6JE0rPVh2KEpTT04uc3RyaW5naWZ5KHQuZGF0YSkpKSx0LmhlYWRlcnM9dC5oZWFkZXJzfHx7fSx0LmhlYWRlcnNbXCJDb250ZW50LVR5cGVcIl09dC5oZWFkZXJzW1wiQ29udGVudC1UeXBlXCJdfHxcImFwcGxpY2F0aW9uL2pzb25cIix0Lm1ldGhvZD1cIlBPU1RcIix0LnVybD1lLEVJLnJlcXVlc3QodCkudGhlbigoZT0+e1wic3RyaW5nXCI9PXR5cGVvZiBlLmRhdGE/ZVUrPVh2KGUuZGF0YSk6ZS5kYXRhIGluc3RhbmNlb2YgQXJyYXlCdWZmZXJ8fGUuZGF0YSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXk/ZVUrPWUuZGF0YS5ieXRlTGVuZ3RoOmVVKz1YdihKU09OLnN0cmluZ2lmeShlLmRhdGEpKSxuJiZyKHtkYXRhOmUuZGF0YSxoZWFkZXJzOmUuaGVhZGVyc30pLHIoZS5kYXRhKX0pKS5jYXRjaCgoZT0+e0VJLmlzQ2FuY2VsKGUpP28obmV3IFNiKG52Lk9QRVJBVElPTl9BQk9SVEVELFwiY2FuY2VsIHRva2VuIGNhbmNlbGVkXCIpKTpcIkVDT05OQUJPUlRFRFwiPT09ZS5jb2RlP28obmV3IFNiKG52Lk5FVFdPUktfVElNRU9VVCxlLm1lc3NhZ2UpKTplLnJlc3BvbnNlP28obmV3IFNiKG52Lk5FVFdPUktfUkVTUE9OU0VfRVJST1IsZS5yZXNwb25zZS5zdGF0dXMpKTpvKG5ldyBTYihudi5ORVRXT1JLX0VSUk9SLGUubWVzc2FnZSkpfSkpfSkpfVxuLyohIGZvcm1kYXRhLXBvbHlmaWxsLiBNSVQgTGljZW5zZS4gSmltbXkgVz9ydGluZyA8aHR0cHM6Ly9qaW1teS53YXJ0aW5nLnNlL29wZW5zb3VyY2U+ICovIWZ1bmN0aW9uKCl7dmFyIGU7ZnVuY3Rpb24gaShlKXt2YXIgdD0wO3JldHVybiBmdW5jdGlvbigpe3JldHVybiB0PGUubGVuZ3RoP3tkb25lOiExLHZhbHVlOmVbdCsrXX06e2RvbmU6ITB9fX12YXIgbj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBPYmplY3QuZGVmaW5lUHJvcGVydGllcz9PYmplY3QuZGVmaW5lUHJvcGVydHk6ZnVuY3Rpb24oZSx0LGkpe3JldHVybiBlPT1BcnJheS5wcm90b3R5cGV8fGU9PU9iamVjdC5wcm90b3R5cGV8fChlW3RdPWkudmFsdWUpLGV9O3ZhciByLG89ZnVuY3Rpb24oZSl7ZT1bXCJvYmplY3RcIj09dHlwZW9mIGdsb2JhbFRoaXMmJmdsb2JhbFRoaXMsZSxcIm9iamVjdFwiPT10eXBlb2Ygd2luZG93JiZ3aW5kb3csXCJvYmplY3RcIj09dHlwZW9mIHNlbGYmJnNlbGYsXCJvYmplY3RcIj09dHlwZW9mIHQmJnRdO2Zvcih2YXIgaT0wO2k8ZS5sZW5ndGg7KytpKXt2YXIgbj1lW2ldO2lmKG4mJm4uTWF0aD09TWF0aClyZXR1cm4gbn10aHJvdyBFcnJvcihcIkNhbm5vdCBmaW5kIGdsb2JhbCBvYmplY3RcIil9KHRoaXMpO2Z1bmN0aW9uIHMoZSx0KXtpZih0KWU6e3ZhciBpPW87ZT1lLnNwbGl0KFwiLlwiKTtmb3IodmFyIHI9MDtyPGUubGVuZ3RoLTE7cisrKXt2YXIgcz1lW3JdO2lmKCEocyBpbiBpKSlicmVhayBlO2k9aVtzXX0odD10KHI9aVtlPWVbZS5sZW5ndGgtMV1dKSkhPXImJm51bGwhPXQmJm4oaSxlLHtjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6dH0pfX1mdW5jdGlvbiBhKGUpe3JldHVybihlPXtuZXh0OmV9KVtTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LGV9ZnVuY3Rpb24gYyhlKXt2YXIgdD1cInVuZGVmaW5lZFwiIT10eXBlb2YgU3ltYm9sJiZTeW1ib2wuaXRlcmF0b3ImJmVbU3ltYm9sLml0ZXJhdG9yXTtyZXR1cm4gdD90LmNhbGwoZSk6e25leHQ6aShlKX19aWYocyhcIlN5bWJvbFwiLChmdW5jdGlvbihlKXtmdW5jdGlvbiB0KGUsdCl7dGhpcy5BPWUsbih0aGlzLFwiZGVzY3JpcHRpb25cIix7Y29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOnR9KX1pZihlKXJldHVybiBlO3QucHJvdG90eXBlLnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuQX07dmFyIGk9XCJqc2NvbXBfc3ltYm9sX1wiKygxZTkqTWF0aC5yYW5kb20oKT4+PjApK1wiX1wiLHI9MDtyZXR1cm4gZnVuY3Rpb24gZShuKXtpZih0aGlzIGluc3RhbmNlb2YgZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sIGlzIG5vdCBhIGNvbnN0cnVjdG9yXCIpO3JldHVybiBuZXcgdChpKyhufHxcIlwiKStcIl9cIityKyssbil9fSkpLHMoXCJTeW1ib2wuaXRlcmF0b3JcIiwoZnVuY3Rpb24oZSl7aWYoZSlyZXR1cm4gZTtlPVN5bWJvbChcIlN5bWJvbC5pdGVyYXRvclwiKTtmb3IodmFyIHQ9XCJBcnJheSBJbnQ4QXJyYXkgVWludDhBcnJheSBVaW50OENsYW1wZWRBcnJheSBJbnQxNkFycmF5IFVpbnQxNkFycmF5IEludDMyQXJyYXkgVWludDMyQXJyYXkgRmxvYXQzMkFycmF5IEZsb2F0NjRBcnJheVwiLnNwbGl0KFwiIFwiKSxyPTA7cjx0Lmxlbmd0aDtyKyspe3ZhciBzPW9bdFtyXV07XCJmdW5jdGlvblwiPT10eXBlb2YgcyYmXCJmdW5jdGlvblwiIT10eXBlb2Ygcy5wcm90b3R5cGVbZV0mJm4ocy5wcm90b3R5cGUsZSx7Y29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuIGEoaSh0aGlzKSl9fSl9cmV0dXJuIGV9KSksXCJmdW5jdGlvblwiPT10eXBlb2YgT2JqZWN0LnNldFByb3RvdHlwZU9mKXI9T2JqZWN0LnNldFByb3RvdHlwZU9mO2Vsc2V7dmFyIGQ7ZTp7dmFyIGw9e307dHJ5e2wuX19wcm90b19fPXthOiEwfSxkPWwuYTticmVhayBlfWNhdGNoKGUpe31kPSExfXI9ZD9mdW5jdGlvbihlLHQpe2lmKGUuX19wcm90b19fPXQsZS5fX3Byb3RvX18hPT10KXRocm93IG5ldyBUeXBlRXJyb3IoZStcIiBpcyBub3QgZXh0ZW5zaWJsZVwiKTtyZXR1cm4gZX06bnVsbH12YXIgdT1yO2Z1bmN0aW9uIGgoKXt0aGlzLm09ITEsdGhpcy5qPW51bGwsdGhpcy52PXZvaWQgMCx0aGlzLmg9MSx0aGlzLnU9dGhpcy5DPTAsdGhpcy5sPW51bGx9ZnVuY3Rpb24gcChlKXtpZihlLm0pdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IHJ1bm5pbmdcIik7ZS5tPSEwfWZ1bmN0aW9uIF8oZSx0KXtyZXR1cm4gZS5oPTMse3ZhbHVlOnR9fWZ1bmN0aW9uIEUoZSl7dGhpcy5nPW5ldyBoLHRoaXMuRz1lfWZ1bmN0aW9uIG0oZSx0LGksbil7dHJ5e3ZhciByPXQuY2FsbChlLmcuaixpKTtpZighKHIgaW5zdGFuY2VvZiBPYmplY3QpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJJdGVyYXRvciByZXN1bHQgXCIrcitcIiBpcyBub3QgYW4gb2JqZWN0XCIpO2lmKCFyLmRvbmUpcmV0dXJuIGUuZy5tPSExLHI7dmFyIG89ci52YWx1ZX1jYXRjaCh0KXtyZXR1cm4gZS5nLmo9bnVsbCxlLmcucyh0KSxmKGUpfXJldHVybiBlLmcuaj1udWxsLG4uY2FsbChlLmcsbyksZihlKX1mdW5jdGlvbiBmKGUpe2Zvcig7ZS5nLmg7KXRyeXt2YXIgdD1lLkcoZS5nKTtpZih0KXJldHVybiBlLmcubT0hMSx7dmFsdWU6dC52YWx1ZSxkb25lOiExfX1jYXRjaCh0KXtlLmcudj12b2lkIDAsZS5nLnModCl9aWYoZS5nLm09ITEsZS5nLmwpe2lmKHQ9ZS5nLmwsZS5nLmw9bnVsbCx0LkYpdGhyb3cgdC5EO3JldHVybnt2YWx1ZTp0LnJldHVybixkb25lOiEwfX1yZXR1cm57dmFsdWU6dm9pZCAwLGRvbmU6ITB9fWZ1bmN0aW9uIFQoZSl7dGhpcy5uZXh0PWZ1bmN0aW9uKHQpe3JldHVybiBlLm8odCl9LHRoaXMudGhyb3c9ZnVuY3Rpb24odCl7cmV0dXJuIGUucyh0KX0sdGhpcy5yZXR1cm49ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7cChlLmcpO3ZhciBpPWUuZy5qO3JldHVybiBpP20oZSxcInJldHVyblwiaW4gaT9pLnJldHVybjpmdW5jdGlvbihlKXtyZXR1cm57dmFsdWU6ZSxkb25lOiEwfX0sdCxlLmcucmV0dXJuKTooZS5nLnJldHVybih0KSxmKGUpKX0oZSx0KX0sdGhpc1tTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9fWZ1bmN0aW9uIFMoZSx0KXtyZXR1cm4gdD1uZXcgVChuZXcgRSh0KSksdSYmZS5wcm90b3R5cGUmJnUodCxlLnByb3RvdHlwZSksdH1pZihoLnByb3RvdHlwZS5vPWZ1bmN0aW9uKGUpe3RoaXMudj1lfSxoLnByb3RvdHlwZS5zPWZ1bmN0aW9uKGUpe3RoaXMubD17RDplLEY6ITB9LHRoaXMuaD10aGlzLkN8fHRoaXMudX0saC5wcm90b3R5cGUucmV0dXJuPWZ1bmN0aW9uKGUpe3RoaXMubD17cmV0dXJuOmV9LHRoaXMuaD10aGlzLnV9LEUucHJvdG90eXBlLm89ZnVuY3Rpb24oZSl7cmV0dXJuIHAodGhpcy5nKSx0aGlzLmcuaj9tKHRoaXMsdGhpcy5nLmoubmV4dCxlLHRoaXMuZy5vKToodGhpcy5nLm8oZSksZih0aGlzKSl9LEUucHJvdG90eXBlLnM9ZnVuY3Rpb24oZSl7cmV0dXJuIHAodGhpcy5nKSx0aGlzLmcuaj9tKHRoaXMsdGhpcy5nLmoudGhyb3csZSx0aGlzLmcubyk6KHRoaXMuZy5zKGUpLGYodGhpcykpfSxzKFwiQXJyYXkucHJvdG90eXBlLmVudHJpZXNcIiwoZnVuY3Rpb24oZSl7cmV0dXJuIGV8fGZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKGUsdCl7ZSBpbnN0YW5jZW9mIFN0cmluZyYmKGUrPVwiXCIpO3ZhciBpPTAsbj0hMSxyPXtuZXh0OmZ1bmN0aW9uKCl7aWYoIW4mJmk8ZS5sZW5ndGgpe3ZhciByPWkrKztyZXR1cm57dmFsdWU6dChyLGVbcl0pLGRvbmU6ITF9fXJldHVybiBuPSEwLHtkb25lOiEwLHZhbHVlOnZvaWQgMH19fTtyZXR1cm4gcltTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHJ9LHJ9KHRoaXMsKGZ1bmN0aW9uKGUsdCl7cmV0dXJuW2UsdF19KSl9fSkpLFwidW5kZWZpbmVkXCIhPXR5cGVvZiBCbG9iJiYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIEZvcm1EYXRhfHwhRm9ybURhdGEucHJvdG90eXBlLmtleXMpKXt2YXIgZz1mdW5jdGlvbihlLHQpe2Zvcih2YXIgaT0wO2k8ZS5sZW5ndGg7aSsrKXQoZVtpXSl9LFI9ZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVwbGFjZSgvXFxyP1xcbnxcXHIvZyxcIlxcclxcblwiKX0sQz1mdW5jdGlvbihlLHQsaSl7cmV0dXJuIHQgaW5zdGFuY2VvZiBCbG9iPyhpPXZvaWQgMCE9PWk/U3RyaW5nKGkrXCJcIik6XCJzdHJpbmdcIj09dHlwZW9mIHQubmFtZT90Lm5hbWU6XCJibG9iXCIsdC5uYW1lPT09aSYmXCJbb2JqZWN0IEJsb2JdXCIhPT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodCl8fCh0PW5ldyBGaWxlKFt0XSxpKSksW1N0cmluZyhlKSx0XSk6W1N0cmluZyhlKSxTdHJpbmcodCldfSxJPWZ1bmN0aW9uKGUsdCl7aWYoZS5sZW5ndGg8dCl0aHJvdyBuZXcgVHlwZUVycm9yKHQrXCIgYXJndW1lbnQgcmVxdWlyZWQsIGJ1dCBvbmx5IFwiK2UubGVuZ3RoK1wiIHByZXNlbnQuXCIpfSx2PVwib2JqZWN0XCI9PXR5cGVvZiBnbG9iYWxUaGlzP2dsb2JhbFRoaXM6XCJvYmplY3RcIj09dHlwZW9mIHdpbmRvdz93aW5kb3c6XCJvYmplY3RcIj09dHlwZW9mIHNlbGY/c2VsZjp0aGlzLHk9di5Gb3JtRGF0YSxBPXYuWE1MSHR0cFJlcXVlc3QmJnYuWE1MSHR0cFJlcXVlc3QucHJvdG90eXBlLnNlbmQsYj12LlJlcXVlc3QmJnYuZmV0Y2gsdz12Lm5hdmlnYXRvciYmdi5uYXZpZ2F0b3Iuc2VuZEJlYWNvbixPPXYuRWxlbWVudCYmdi5FbGVtZW50LnByb3RvdHlwZSxOPXYuU3ltYm9sJiZTeW1ib2wudG9TdHJpbmdUYWc7TiYmKEJsb2IucHJvdG90eXBlW05dfHwoQmxvYi5wcm90b3R5cGVbTl09XCJCbG9iXCIpLFwiRmlsZVwiaW4gdiYmIUZpbGUucHJvdG90eXBlW05dJiYoRmlsZS5wcm90b3R5cGVbTl09XCJGaWxlXCIpKTt0cnl7bmV3IEZpbGUoW10sXCJcIil9Y2F0Y2goZSl7di5GaWxlPWZ1bmN0aW9uKGUsdCxpKXtyZXR1cm4gZT1uZXcgQmxvYihlLGl8fHt9KSxPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLHtuYW1lOnt2YWx1ZTp0fSxsYXN0TW9kaWZpZWQ6e3ZhbHVlOisoaSYmdm9pZCAwIT09aS5sYXN0TW9kaWZpZWQ/bmV3IERhdGUoaS5sYXN0TW9kaWZpZWQpOm5ldyBEYXRlKX0sdG9TdHJpbmc6e3ZhbHVlOmZ1bmN0aW9uKCl7cmV0dXJuXCJbb2JqZWN0IEZpbGVdXCJ9fX0pLE4mJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLE4se3ZhbHVlOlwiRmlsZVwifSksZX19dmFyIEQ9ZnVuY3Rpb24oZSl7cmV0dXJuIGUucmVwbGFjZSgvXFxuL2csXCIlMEFcIikucmVwbGFjZSgvXFxyL2csXCIlMERcIikucmVwbGFjZSgvXCIvZyxcIiUyMlwiKX0sUD1mdW5jdGlvbihlKXt0aGlzLmk9W107dmFyIHQ9dGhpcztlJiZnKGUuZWxlbWVudHMsKGZ1bmN0aW9uKGUpe2lmKGUubmFtZSYmIWUuZGlzYWJsZWQmJlwic3VibWl0XCIhPT1lLnR5cGUmJlwiYnV0dG9uXCIhPT1lLnR5cGUmJiFlLm1hdGNoZXMoXCJmb3JtIGZpZWxkc2V0W2Rpc2FibGVkXSAqXCIpKWlmKFwiZmlsZVwiPT09ZS50eXBlKXt2YXIgaT1lLmZpbGVzJiZlLmZpbGVzLmxlbmd0aD9lLmZpbGVzOltuZXcgRmlsZShbXSxcIlwiLHt0eXBlOlwiYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtXCJ9KV07ZyhpLChmdW5jdGlvbihpKXt0LmFwcGVuZChlLm5hbWUsaSl9KSl9ZWxzZVwic2VsZWN0LW11bHRpcGxlXCI9PT1lLnR5cGV8fFwic2VsZWN0LW9uZVwiPT09ZS50eXBlP2coZS5vcHRpb25zLChmdW5jdGlvbihpKXshaS5kaXNhYmxlZCYmaS5zZWxlY3RlZCYmdC5hcHBlbmQoZS5uYW1lLGkudmFsdWUpfSkpOlwiY2hlY2tib3hcIj09PWUudHlwZXx8XCJyYWRpb1wiPT09ZS50eXBlP2UuY2hlY2tlZCYmdC5hcHBlbmQoZS5uYW1lLGUudmFsdWUpOihpPVwidGV4dGFyZWFcIj09PWUudHlwZT9SKGUudmFsdWUpOmUudmFsdWUsdC5hcHBlbmQoZS5uYW1lLGkpKX0pKX07aWYoKGU9UC5wcm90b3R5cGUpLmFwcGVuZD1mdW5jdGlvbihlLHQsaSl7SShhcmd1bWVudHMsMiksdGhpcy5pLnB1c2goQyhlLHQsaSkpfSxlLmRlbGV0ZT1mdW5jdGlvbihlKXtJKGFyZ3VtZW50cywxKTt2YXIgdD1bXTtlPVN0cmluZyhlKSxnKHRoaXMuaSwoZnVuY3Rpb24oaSl7aVswXSE9PWUmJnQucHVzaChpKX0pKSx0aGlzLmk9dH0sZS5lbnRyaWVzPWZ1bmN0aW9uIGUoKXt2YXIgdCxpPXRoaXM7cmV0dXJuIFMoZSwoZnVuY3Rpb24oZSl7aWYoMT09ZS5oJiYodD0wKSwzIT1lLmgpcmV0dXJuIHQ8aS5pLmxlbmd0aD9lPV8oZSxpLmlbdF0pOihlLmg9MCxlPXZvaWQgMCksZTt0KyssZS5oPTJ9KSl9LGUuZm9yRWFjaD1mdW5jdGlvbihlLHQpe0koYXJndW1lbnRzLDEpO2Zvcih2YXIgaT1jKHRoaXMpLG49aS5uZXh0KCk7IW4uZG9uZTtuPWkubmV4dCgpKXt2YXIgcj1jKG4udmFsdWUpO249ci5uZXh0KCkudmFsdWUscj1yLm5leHQoKS52YWx1ZSxlLmNhbGwodCxyLG4sdGhpcyl9fSxlLmdldD1mdW5jdGlvbihlKXtJKGFyZ3VtZW50cywxKTt2YXIgdD10aGlzLmk7ZT1TdHJpbmcoZSk7Zm9yKHZhciBpPTA7aTx0Lmxlbmd0aDtpKyspaWYodFtpXVswXT09PWUpcmV0dXJuIHRbaV1bMV07cmV0dXJuIG51bGx9LGUuZ2V0QWxsPWZ1bmN0aW9uKGUpe0koYXJndW1lbnRzLDEpO3ZhciB0PVtdO3JldHVybiBlPVN0cmluZyhlKSxnKHRoaXMuaSwoZnVuY3Rpb24oaSl7aVswXT09PWUmJnQucHVzaChpWzFdKX0pKSx0fSxlLmhhcz1mdW5jdGlvbihlKXtJKGFyZ3VtZW50cywxKSxlPVN0cmluZyhlKTtmb3IodmFyIHQ9MDt0PHRoaXMuaS5sZW5ndGg7dCsrKWlmKHRoaXMuaVt0XVswXT09PWUpcmV0dXJuITA7cmV0dXJuITF9LGUua2V5cz1mdW5jdGlvbiBlKCl7dmFyIHQsaSxuLHIsbz10aGlzO3JldHVybiBTKGUsKGZ1bmN0aW9uKGUpe2lmKDE9PWUuaCYmKHQ9YyhvKSxpPXQubmV4dCgpKSwzIT1lLmgpcmV0dXJuIGkuZG9uZT92b2lkKGUuaD0wKToobj1pLnZhbHVlLHI9YyhuKSxfKGUsci5uZXh0KCkudmFsdWUpKTtpPXQubmV4dCgpLGUuaD0yfSkpfSxlLnNldD1mdW5jdGlvbihlLHQsaSl7SShhcmd1bWVudHMsMiksZT1TdHJpbmcoZSk7dmFyIG49W10scj1DKGUsdCxpKSxvPSEwO2codGhpcy5pLChmdW5jdGlvbih0KXt0WzBdPT09ZT9vJiYobz0hbi5wdXNoKHIpKTpuLnB1c2godCl9KSksbyYmbi5wdXNoKHIpLHRoaXMuaT1ufSxlLnZhbHVlcz1mdW5jdGlvbiBlKCl7dmFyIHQsaSxuLHIsbz10aGlzO3JldHVybiBTKGUsKGZ1bmN0aW9uKGUpe2lmKDE9PWUuaCYmKHQ9YyhvKSxpPXQubmV4dCgpKSwzIT1lLmgpcmV0dXJuIGkuZG9uZT92b2lkKGUuaD0wKToobj1pLnZhbHVlLChyPWMobikpLm5leHQoKSxfKGUsci5uZXh0KCkudmFsdWUpKTtpPXQubmV4dCgpLGUuaD0yfSkpfSxQLnByb3RvdHlwZS5fYXNOYXRpdmU9ZnVuY3Rpb24oKXtmb3IodmFyIGU9bmV3IHksdD1jKHRoaXMpLGk9dC5uZXh0KCk7IWkuZG9uZTtpPXQubmV4dCgpKXt2YXIgbj1jKGkudmFsdWUpO2k9bi5uZXh0KCkudmFsdWUsbj1uLm5leHQoKS52YWx1ZSxlLmFwcGVuZChpLG4pfXJldHVybiBlfSxQLnByb3RvdHlwZS5fYmxvYj1mdW5jdGlvbigpe3ZhciBlPVwiLS0tLWZvcm1kYXRhLXBvbHlmaWxsLVwiK01hdGgucmFuZG9tKCksdD1bXSxpPVwiLS1cIitlKydcXHJcXG5Db250ZW50LURpc3Bvc2l0aW9uOiBmb3JtLWRhdGE7IG5hbWU9XCInO3JldHVybiB0aGlzLmZvckVhY2goKGZ1bmN0aW9uKGUsbil7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGU/dC5wdXNoKGkrRChSKG4pKSsnXCJcXHJcXG5cXHJcXG4nK1IoZSkrXCJcXHJcXG5cIik6dC5wdXNoKGkrRChSKG4pKSsnXCI7IGZpbGVuYW1lPVwiJytEKGUubmFtZSkrJ1wiXFxyXFxuQ29udGVudC1UeXBlOiAnKyhlLnR5cGV8fFwiYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtXCIpK1wiXFxyXFxuXFxyXFxuXCIsZSxcIlxcclxcblwiKX0pKSx0LnB1c2goXCItLVwiK2UrXCItLVwiKSxuZXcgQmxvYih0LHt0eXBlOlwibXVsdGlwYXJ0L2Zvcm0tZGF0YTsgYm91bmRhcnk9XCIrZX0pfSxQLnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZW50cmllcygpfSxQLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiW29iamVjdCBGb3JtRGF0YV1cIn0sTyYmIU8ubWF0Y2hlcyYmKE8ubWF0Y2hlcz1PLm1hdGNoZXNTZWxlY3Rvcnx8Ty5tb3pNYXRjaGVzU2VsZWN0b3J8fE8ubXNNYXRjaGVzU2VsZWN0b3J8fE8ub01hdGNoZXNTZWxlY3Rvcnx8Ty53ZWJraXRNYXRjaGVzU2VsZWN0b3J8fGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0oZT0odGhpcy5kb2N1bWVudHx8dGhpcy5vd25lckRvY3VtZW50KS5xdWVyeVNlbGVjdG9yQWxsKGUpKS5sZW5ndGg7MDw9LS10JiZlLml0ZW0odCkhPT10aGlzOyk7cmV0dXJuLTE8dH0pLE4mJihQLnByb3RvdHlwZVtOXT1cIkZvcm1EYXRhXCIpLEEpe3ZhciBMPXYuWE1MSHR0cFJlcXVlc3QucHJvdG90eXBlLnNldFJlcXVlc3RIZWFkZXI7di5YTUxIdHRwUmVxdWVzdC5wcm90b3R5cGUuc2V0UmVxdWVzdEhlYWRlcj1mdW5jdGlvbihlLHQpe0wuY2FsbCh0aGlzLGUsdCksXCJjb250ZW50LXR5cGVcIj09PWUudG9Mb3dlckNhc2UoKSYmKHRoaXMuQj0hMCl9LHYuWE1MSHR0cFJlcXVlc3QucHJvdG90eXBlLnNlbmQ9ZnVuY3Rpb24oZSl7ZSBpbnN0YW5jZW9mIFA/KGU9ZS5fYmxvYigpLHRoaXMuQnx8dGhpcy5zZXRSZXF1ZXN0SGVhZGVyKFwiQ29udGVudC1UeXBlXCIsZS50eXBlKSxBLmNhbGwodGhpcyxlKSk6QS5jYWxsKHRoaXMsZSl9fWImJih2LmZldGNoPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQmJnQuYm9keSYmdC5ib2R5IGluc3RhbmNlb2YgUCYmKHQuYm9keT10LmJvZHkuX2Jsb2IoKSksYi5jYWxsKHRoaXMsZSx0KX0pLHcmJih2Lm5hdmlnYXRvci5zZW5kQmVhY29uPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQgaW5zdGFuY2VvZiBQJiYodD10Ll9hc05hdGl2ZSgpKSx3LmNhbGwodGhpcyxlLHQpfSksdi5Gb3JtRGF0YT1QfX0oKTtjb25zdCBpVT0oKT0+e2NvbnN0IGU9RHkoXCJBUkVBU1wiKTswPT09ZS5sZW5ndGgmJmUucHVzaChGYi5HTE9CQUwpO3JldHVybiBKbihlKS5jYWxsKGUsKChlLHQsaSk9Pntjb25zdCBuPW5VKHQpO3JldHVybiBuPzA9PT1pP246XCJcIi5jb25jYXQoZSxcIixcIikuY29uY2F0KG4pOmV9KSxcIlwiKX0sblU9ZT0+ZT09PUZiLk9WRVJTRUE/XCJcIi5jb25jYXQoamIuQVNJQSxcIixcIikuY29uY2F0KGpiLkVVUk9QRSxcIixcIikuY29uY2F0KGpiLkFGUklDQSxcIixcIikuY29uY2F0KGpiLk5PUlRIX0FNRVJJQ0EsXCIsXCIpLmNvbmNhdChqYi5TT1VUSF9BTUVSSUNBLFwiLFwiKS5jb25jYXQoamIuT0NFQU5JQSk6amJbZV0sclU9ZT0+e2NvbnN0IHQ9e0NPREU6XCJcIixXRUJDU19ET01BSU46W10sV0VCQ1NfRE9NQUlOX0JBQ0tVUF9MSVNUOltdLFBST1hZX0NTOltdLENEU19BUDpbXSxBQ0NPVU5UX1JFR0lTVEVSOltdLFVBUF9BUDpbXSxFVkVOVF9SRVBPUlRfRE9NQUlOOltdLEVWRU5UX1JFUE9SVF9CQUNLVVBfRE9NQUlOOltdLExPR19VUExPQURfU0VSVkVSOltdLFBST1hZX1NFUlZFUl9UWVBFMzpbXX07cmV0dXJuIGUubWFwKChlPT57Y29uc3QgaT1HYltlXSxuPU9iamVjdC5rZXlzKGkpO24mJm4ubWFwKChlPT57XCJDT0RFXCIhPT1lJiYodFtlXT10W2VdLmNvbmNhdChpW2VdKSl9KSl9KSksdH0sb1U9e0dMT0JBTDp7QVNJQTpbRmIuQ0hJTkEsRmIuSkFQQU4sRmIuSU5ESUEsRmIuS09SRUEsRmIuSEtNQ10sRVVST1BFOltdLE5PUlRIX0FNRVJJQ0E6W0ZiLlVTXSxTT1VUSF9BTUVSSUNBOltdLE9DRUFOSUE6W10sQUZSSUNBOltdfX0sc1U9T2JqZWN0LmtleXMob1VbRmIuR0xPQkFMXSksYVU9W0ZiLkNISU5BLEZiLk5PUlRIX0FNRVJJQ0EsRmIuRVVST1BFLEZiLkFTSUEsRmIuSkFQQU4sRmIuSU5ESUEsRmIuT0NFQU5JQSxGYi5TT1VUSF9BTUVSSUNBLEZiLkFGUklDQSxGYi5LT1JFQSxGYi5IS01DLEZiLlVTXSxjVT1mdW5jdGlvbihlLHQpe2xldCBpPVtdO2lmKERuKGUpLmNhbGwoZSxGYi5HTE9CQUwpKXtjb25zdCBvPVtGYi5HTE9CQUwsRmIuT1ZFUlNFQV0scz1PYmplY3Qua2V5cyhHYik7aWYodD09PUZiLkdMT0JBTCl0aHJvdyBuZXcgU2IobnYuSU5WQUxJRF9QQVJBTVMsXCJHTE9CQUwgaXMgYW4gaW52YWxpZCBleGNsdWRlZEFyZWEgdmFsdWVcIik7aWYodD09PUZiLkNISU5BKWk9W0ZiLk9WRVJTRUFdO2Vsc2UgaWYocj10LERuKHNVKS5jYWxsKHNVLHIpKXtjb25zdCBlPShuPXQsb1VbRmIuR0xPQkFMXVtuXXx8W10pLHI9Wy4uLm8sdCwuLi5lXTtpPXMuZmlsdGVyKChlPT4hRG4ocikuY2FsbChyLGUpKSl9ZWxzZSBpZihmdW5jdGlvbihlKXtsZXQgdD0hMTtyZXR1cm4gc1UuZm9yRWFjaCgoaT0+e3ZhciBuO0RuKG49b1VbRmIuR0xPQkFMXVtpXSkuY2FsbChuLGUpJiYodD0hMCl9KSksdH0odCkpe2NvbnN0IGU9ZnVuY3Rpb24oZSl7bGV0IHQ7cmV0dXJuIHNVLmZvckVhY2goKGk9Pnt2YXIgbjtEbihuPW9VW0ZiLkdMT0JBTF1baV0pLmNhbGwobixlKSYmKHQ9aSl9KSksdH0odCksbj1bLi4ubyxlLHRdO2k9cy5maWx0ZXIoKGU9PiFEbihuKS5jYWxsKG4sZSkpKX1lbHNlIGk9ZTtpPWZ1bmN0aW9uKGUpe2NvbnN0IHQ9W107cmV0dXJuIGFVLmZvckVhY2goKGk9PntEbihlKS5jYWxsKGUsaSkmJnQucHVzaChpKX0pKSx0LmNvbmNhdChlLmZpbHRlcigoZT0+IURuKGFVKS5jYWxsKGFVLGUpKSkpfShpKX1lbHNlIGk9ZTt2YXIgbixyO3JldHVybiBpfTtmdW5jdGlvbiBkVShlKXt2YXIgdCxpO2lmKCFlJiZEbih0PUR5KFwiQVJFQVNcIikpLmNhbGwodCxGYi5FWFRFTlNJT05TKSlyZXR1cm4gUXkuZGVidWcoXCJ1cGRhdGUgYXJlYSBmcm9tIGFwIDogcmVzZXRcIiksdm9pZCBsVShhQSwhMCk7aWYoIURuKGk9RHkoXCJBUkVBU1wiKSkuY2FsbChpLEZiLkdMT0JBTCl8fCFlKXJldHVybjtsZXQgbj1HYi5FWFRFTlNJT05TO24mJihuPXtDT0RFOm5VKEZiLkVYVEVOU0lPTlMpLFdFQkNTX0RPTUFJTjpbXCJhcC13ZWItMS1cIi5jb25jYXQoZSxcIi5hZ29yYS5pb1wiKV0sV0VCQ1NfRE9NQUlOX0JBQ0tVUF9MSVNUOltcImFwLXdlYi0yLVwiLmNvbmNhdChlLFwiLmFwLnNkLXJ0bi5jb21cIildLFBST1hZX0NTOltcInByb3h5LWFwLXdlYi1cIi5jb25jYXQoZSxcIi5hZ29yYS5pb1wiKV0sQ0RTX0FQOltcImNkcy1hcC13ZWItMS1cIi5jb25jYXQoZSxcIi5hZ29yYS5pb1wiKSxcImNkcy1hcC13ZWItMi1cIi5jb25jYXQoZSxcIi5hcC5zZC1ydG4uY29tXCIpXSxBQ0NPVU5UX1JFR0lTVEVSOltcInN1YS1hcC13ZWItMS1cIi5jb25jYXQoZSxcIi5hZ29yYS5pb1wiKSxcInN1YS1hcC13ZWItMi1cIi5jb25jYXQoZSxcIi5hcC5zZC1ydG4uY29tXCIpXSxVQVBfQVA6W1widWFwLWFwLXdlYi0xLVwiLmNvbmNhdChlLFwiLmFnb3JhLmlvXCIpLFwidWFwLWFwLXdlYi0yLVwiLmNvbmNhdChlLFwiLmFwLnNkLXJ0bi5jb21cIildLEVWRU5UX1JFUE9SVF9ET01BSU46W1wic3RhdHNjb2xsZWN0b3ItMS1cIi5jb25jYXQoZSxcIi5hZ29yYS5pb1wiKV0sRVZFTlRfUkVQT1JUX0JBQ0tVUF9ET01BSU46W1wic3RhdHNjb2xsZWN0b3ItMi1cIi5jb25jYXQoZSxcIi5hZ29yYS5pb1wiKV0sTE9HX1VQTE9BRF9TRVJWRVI6W1wibG9nc2VydmljZS1cIi5jb25jYXQoZSxcIi5hZ29yYS5pb1wiKV0sUFJPWFlfU0VSVkVSX1RZUEUzOltcIndlYnJ0Yy1jbG91ZC1wcm94eS1cIi5jb25jYXQoZSxcIi5hZ29yYS5pb1wiKV19LFF5LmRlYnVnKFwidXBkYXRlIGFyZWEgZnJvbSBhcCBzdWNjZXNzOiBcIi5jb25jYXQoZSxcIixjb25maWcgaXMgXCIpLG4pLE55KFwiQVJFQVNcIixbRmIuRVhURU5TSU9OU10sITApLE9iamVjdC5rZXlzKG4pLm1hcCgoZT0+e2lmKFwiTE9HX1VQTE9BRF9TRVJWRVJcIj09PWV8fFwiRVZFTlRfUkVQT1JUX0RPTUFJTlwiPT09ZXx8XCJFVkVOVF9SRVBPUlRfQkFDS1VQX0RPTUFJTlwiPT09ZXx8XCJQUk9YWV9TRVJWRVJfVFlQRTNcIj09PWUpe055KGUsbltlXVswXSl9ZWxzZSBOeShlLG5bZV0pfSkpKX1mdW5jdGlvbiBsVShlKXtsZXQgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSYmYXJndW1lbnRzWzFdO2NvbnN0IGk9c0EucmVwb3J0QXBpSW52b2tlKG51bGwse25hbWU6Q3YuU0VUX0FSRUEsb3B0aW9uczplLHRhZzpJdi5UUkFDRVJ9KTt0cnl7bGV0IG49W107aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUmJihuPVtlXSksQXJyYXkuaXNBcnJheShlKSYmKGUuZm9yRWFjaCgoZT0+e2lmKCFEbihCYikuY2FsbChCYixlKSl0aHJvdyBuZXcgU2IobnYuSU5WQUxJRF9QQVJBTVMsXCJpbnZhbGlkIGFyZWEgY29kZVwiKX0pKSxuPWUpLFwiW29iamVjdCBPYmplY3RdXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoZSkpe2NvbnN0e2FyZWFDb2RlOnQsZXhjbHVkZWRBcmVhOml9PWU7aWYoIXQpdGhyb3cgbmV3IFNiKG52LklOVkFMSURfUEFSQU1TLFwiYXJlYSBjb2RlIGlzIG5lZWRlZFwiKTtsZXQgcj10O1wic3RyaW5nXCI9PXR5cGVvZiB0JiYocj1bdF0pLG49aT9jVShyLGkpOnJ9aWYoIXQpe2lmKFB5LkFSRUFTKXtjb25zdCBlPW5ldyBTYihudi5QUk9ISUJJVEVEX09QRVJBVElPTixcInNldEFyZWEgaXMgcHJvaGliaXRlZCBiZWNhdXNlIG9mIGNvbmZpZy1kaXN0cmlidXRlXCIpO3JldHVybiBpLm9uRXJyb3IoZSksdm9pZCBReS53YXJuaW5nKFwic2V0QXJlYSBpcyBwcm9oaWJpdGVkIGJlY2F1c2Ugb2YgY29uZmlnLWRpc3RyaWJ1dGVcIil9aWYoRG4obikuY2FsbChuLEZiLkdMT0JBTCkmJkR5KFwiQVJFQVNcIik9PT1GYi5FWFRFTlNJT05TKXtjb25zdCBlPW5ldyBTYihudi5QUk9ISUJJVEVEX09QRVJBVElPTixcInNldEFyZWEgaXMgcHJvaGliaXRlZCBiZWNhdXNlIG9mIGFwIGV4dGVuc2lvbnNcIik7cmV0dXJuIGkub25FcnJvcihlKSx2b2lkIFF5Lndhcm5pbmcoXCJzZXRBcmVhIGlzIHByb2hpYml0ZWQgYmVjYXVzZSBvZiBhcCBleHRlbnNpb25zXCIpfX1OeShcIkFSRUFTXCIsbix0KTtjb25zdCByPXJVKG4pO09iamVjdC5rZXlzKHIpLm1hcCgoZT0+e2lmKFwiTE9HX1VQTE9BRF9TRVJWRVJcIj09PWV8fFwiRVZFTlRfUkVQT1JUX0RPTUFJTlwiPT09ZXx8XCJFVkVOVF9SRVBPUlRfQkFDS1VQX0RPTUFJTlwiPT09ZXx8XCJQUk9YWV9TRVJWRVJfVFlQRTNcIj09PWUpe055KGUscltlXVswXSl9ZWxzZSBOeShlLHJbZV0pfSkpLFF5LmRlYnVnKFwic2V0IGFyZWEgc3VjY2VzczpcIixuLmpvaW4oXCIsXCIpKX1jYXRjaChlKXt0aHJvdyBpLm9uRXJyb3IoZSksZX1pLm9uU3VjY2VzcygpfWZ1bmN0aW9uIHVVKGUsdCl7dmFyIGk9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYobj1uLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxpLnB1c2guYXBwbHkoaSxuKX1yZXR1cm4gaX1mdW5jdGlvbiBoVShlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgaT1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj91VShPYmplY3QoaSksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe29nKGUsdCxpW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKGkpKTp1VShPYmplY3QoaSkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpLHQpKX0pKX1yZXR1cm4gZX1sZXQgcFU9MTtmdW5jdGlvbiBfVShlLHQsaSxuLHIpe3BVKz0xO2NvbnN0IG89e3NpZDppLnNpZCxjb21tYW5kOlwiY29udmVyZ2VBbGxvY2F0ZUVkZ2VcIix1aWQ6XCI2NjZcIixhcHBJZDppLmFwcElkLHRzOk1hdGguZmxvb3IoRGF0ZS5ub3coKS8xZTMpLHNlcTpwVSxyZXF1ZXN0SWQ6cFUsdmVyc2lvbjp2eSxjbmFtZTppLmNuYW1lfSxzPXtzZXJ2aWNlX25hbWU6dCxqc29uX2JvZHk6SlNPTi5zdHJpbmdpZnkobyl9O2xldCBhLGMsZD1lWzBdO3JldHVybiBteSgoYXN5bmMoKT0+e2E9RGF0ZS5ub3coKTtjb25zdCBlPWF3YWl0IHRVKGQse2RhdGE6cyxjYW5jZWxUb2tlbjpuLGhlYWRlcnM6e1wiWC1QYWNrZXQtU2VydmljZS1UeXBlXCI6XCIwXCIsXCJYLVBhY2tldC1VUklcIjpcIjYxXCJ9fSk7aWYoYz1EYXRlLm5vdygpLWEsMCE9PWUuY29kZSl7Y29uc3QgdD1uZXcgU2IobnYuVU5FWFBFQ1RFRF9SRVNQT05TRSxcImxpdmUgc3RyZWFtaW5nIGFwIGVycm9yLCBjb2RlXCIrZS5jb2RlLHtyZXRyeTohMCxyZXNwb25zZVRpbWU6Y30pO3Rocm93IFF5LmVycm9yKHQudG9TdHJpbmcoKSksdH1jb25zdCBpPUpTT04ucGFyc2UoZS5qc29uX2JvZHkpO2lmKDIwMCE9PWkuY29kZSl7Y29uc3QgZT1uZXcgU2IobnYuVU5FWFBFQ1RFRF9SRVNQT05TRSxcImxpdmUgc3RyZWFtaW5nIGFwcCBjZW50ZXIgZXJyb3IsIGNvZGU6IFwiLmNvbmNhdChpLmNvZGUsXCIsIHJlYXNvbjogXCIpLmNvbmNhdChpLnJlYXNvbikse2NvZGU6aS5jb2RlLHJlc3BvbnNlVGltZTpjfSk7dGhyb3cgUXkuZXJyb3IoZS50b1N0cmluZygpKSxlfWlmKCFpLnNlcnZlcnN8fDA9PT1pLnNlcnZlcnMubGVuZ3RoKXtjb25zdCBlPW5ldyBTYihudi5VTkVYUEVDVEVEX1JFU1BPTlNFLFwibGl2ZSBzdHJlYW1pbmcgYXBwIGNlbnRlciBlbXB0eSBzZXJ2ZXJcIix7Y29kZTppLmNvZGUscmVzcG9uc2VUaW1lOmN9KTt0aHJvdyBReS5lcnJvcihlLnRvU3RyaW5nKCkpLGV9Y29uc3Qgcj1mdW5jdGlvbihlLHQpe3JldHVybnthZGRyZXNzTGlzdDplLnNlcnZlcnMubWFwKChlPT5cIndzczovL1wiLmNvbmNhdChlLmFkZHJlc3MucmVwbGFjZSgvXFwuL2csXCItXCIpLFwiLlwiKS5jb25jYXQoRHkoXCJXT1JLRVJfRE9NQUlOXCIpLFwiOlwiKS5jb25jYXQoZS53c3MsXCI/c2VydmljZU5hbWU9XCIpLmNvbmNhdChlbmNvZGVVUklDb21wb25lbnQodCkpKSksd29ya2VyVG9rZW46ZS53b3JrZXJUb2tlbix2aWQ6ZS52aWR9fShpLHQpO3JldHVybiBEeShcIkxJVkVfU1RSRUFNSU5HX0FERFJFU1NcIikmJihyLmFkZHJlc3NMaXN0PUR5KFwiTElWRV9TVFJFQU1JTkdfQUREUkVTU1wiKWluc3RhbmNlb2YgQXJyYXk/RHkoXCJMSVZFX1NUUkVBTUlOR19BRERSRVNTXCIpOltEeShcIkxJVkVfU1RSRUFNSU5HX0FERFJFU1NcIildKSxoVShoVSh7fSxyKSx7fSx7cmVzcG9uc2VUaW1lOmN9KX0pLCgobixyKT0+KHNBLmFwd29ya2VyRXZlbnQoaS5zaWQse3N1Y2Nlc3M6ITAsc2M6MjAwLHNlcnZpY2VOYW1lOnQscmVzcG9uc2VEZXRhaWw6SlNPTi5zdHJpbmdpZnkobi5hZGRyZXNzTGlzdCksZmlyc3RTdWNjZXNzOjA9PT1yLHJlc3BvbnNlVGltZTpjLHNlcnZlcklwOmVbciVlLmxlbmd0aF19KSwhMSkpLCgobixyKT0+KHNBLmFwd29ya2VyRXZlbnQoaS5zaWQse3N1Y2Nlc3M6ITEsc2M6bi5kYXRhJiZuLmRhdGEuY29kZXx8MjAwLHNlcnZpY2VOYW1lOnQscmVzcG9uc2VUaW1lOmMsc2VydmVySXA6ZVtyJWUubGVuZ3RoXX0pLCEhKG4uY29kZSE9PW52Lk9QRVJBVElPTl9BQk9SVEVEJiZuLmNvZGUhPT1udi5VTkVYUEVDVEVEX1JFU1BPTlNFfHxuLmRhdGEmJm4uZGF0YS5yZXRyeSkmJihkPWVbKHIrMSklZS5sZW5ndGhdLCEwKSkpLHIpfWxldCBFVT0xO2Z1bmN0aW9uIG1VKGUsdCxpLG4pe2xldHt1cmw6cixhcmVhQ29kZTpvfT1lO2NvbnN0e2NsaWVudElkOnMsc2lkOmF9PXQsYz1EYXRlLm5vdygpO2xldCBkO2NvbnN0W2wsdV09UlUodCxvLFtPdy5DSE9PU0VfU0VSVkVSXSk7bGV0IGg9VnYubmV0d29ya1N0YXRlO3JldHVybiBteSgoYXN5bmMoKT0+e2gmJlZ2Lm5ldHdvcmtTdGF0ZT09PVB2Lk9GRkxJTkUmJlZ2Lm9ubGluZVdhaXRlciYmYXdhaXQgR2gucmFjZShbVnYub25saW5lV2FpdGVyLCR2KG4mJm4ubWF4UmV0cnlUaW1lb3V0fHxfeS5tYXhSZXRyeVRpbWVvdXQpXSksaD1Wdi5uZXR3b3JrU3RhdGU7Y29uc3R7ZGF0YTplLGhlYWRlcnM6b309YXdhaXQgdFUocix7ZGF0YTpsLGNhbmNlbFRva2VuOmksaGVhZGVyczp7XCJDb250ZW50LVR5cGVcIjpcIm11bHRpcGFydC9mb3JtLWRhdGE7XCJ9fSwhMCwhMCk7ZD1cIjFcIj09PW8uaHR0cDM/MTotMSxzQS5yZXBvcnRSZXNvdXJjZVRpbWluZyhyLGEpLFRVKGUscix0LGMsW093LkNIT09TRV9TRVJWRVJdLGQpO2NvbnN0IHM9eHcoZSxPdy5DSE9PU0VfU0VSVkVSKTtyZXR1cm4gU1UocyksTHcocyxyKX0pLChlPT4oZSYmc0Euam9pbkNob29zZVNlcnZlcihhLHtsdHM6YyxzdWNjOiEwLGNzQWRkcjpyLG9waWQ6dSxzZXJ2ZXJMaXN0OmUuZ2F0ZXdheUFkZHJzLm1hcCgoZT0+ZS5hZGRyZXNzKSksZWM6bnVsbCxjaWQ6ZS5jaWQudG9TdHJpbmcoKSx1aWQ6ZS51aWQudG9TdHJpbmcoKSxjc0lwOmUuY3NJcCx1bmlsYnNTZXJ2ZXJJZHM6W093LkNIT09TRV9TRVJWRVJdLnRvU3RyaW5nKCksaXNIdHRwMzpkfSksITEpKSwoZT0+ZS5jb2RlIT09bnYuT1BFUkFUSU9OX0FCT1JURUQmJihlLmNvZGU9PT1udi5DQU5fTk9UX0dFVF9HQVRFV0FZX1NFUlZFUj9lLmRhdGEucmV0cnk6KHNBLmpvaW5DaG9vc2VTZXJ2ZXIoYSx7bHRzOmMsc3VjYzohMSxjc0FkZHI6cixzZXJ2ZXJMaXN0Om51bGwsb3BpZDp1LGVjOmUuY29kZSxjc0lwOmUuZGF0YSYmZS5kYXRhLmNzSXAsdW5pbGJzU2VydmVySWRzOltPdy5DSE9PU0VfU0VSVkVSXS50b1N0cmluZygpLGV4dGVuZDpKU09OLnN0cmluZ2lmeSh7bmV0d29ya1N0YXRlOmh9KSxpc0h0dHAzOmR9KSxReS53YXJuaW5nKFwiW1wiLmNvbmNhdChzfHxcInNpZC1cIi5jb25jYXQoYS5zbGljZSgwLDYpKSxcIl0gQ2hvb3NlIHNlcnZlciBuZXR3b3JrIGVycm9yLCByZXRyeVwiKSxlKSwhMCkpKSxuKX1mdW5jdGlvbiBmVShlLHQsaSxuKXtsZXQgcix7dXJsOm8sYXJlYUNvZGU6cyxzZXJ2aWNlSWRzOmF9PWU7Y29uc3QgYz1EYXRlLm5vdygpLFtkLGxdPVJVKHQscyxhKTtsZXQgdTtyZXR1cm4gbXkoKGFzeW5jKCk9Pnt1JiZWdi5uZXR3b3JrU3RhdGU9PT1Qdi5PRkZMSU5FJiZWdi5vbmxpbmVXYWl0ZXImJmF3YWl0IEdoLnJhY2UoW1Z2Lm9ubGluZVdhaXRlciwkdihuJiZuLm1heFJldHJ5VGltZW91dHx8X3kubWF4UmV0cnlUaW1lb3V0KV0pLHU9VnYubmV0d29ya1N0YXRlO2NvbnN0e2RhdGE6ZSxoZWFkZXJzOnN9PWF3YWl0IHRVKG8se2RhdGE6ZCxjYW5jZWxUb2tlbjppLGhlYWRlcnM6e1wiQ29udGVudC1UeXBlXCI6XCJtdWx0aXBhcnQvZm9ybS1kYXRhO1wifX0sITAsITApO3I9XCIxXCI9PT1zLmh0dHAzPzE6LTEsc0EucmVwb3J0UmVzb3VyY2VUaW1pbmcobyx0LnNpZCksVFUoZSxvLHQsYyxhLHIpO2NvbnN0IGw9eHcoZSxPdy5DSE9PU0VfU0VSVkVSKSxoPXh3KGUsXCJwcm94eTVcIj09PXQuY2xvdWRQcm94eVNlcnZlcj9Pdy5DTE9VRF9QUk9YWV81OlwicHJveHkzXCI9PT10LmNsb3VkUHJveHlTZXJ2ZXJ8fFwicHJveHk0XCI9PT10LmNsb3VkUHJveHlTZXJ2ZXI/T3cuQ0xPVURfUFJPWFk6T3cuQ0xPVURfUFJPWFlfRkFMTEJBQ0spO3JldHVybiBTVShsKSx7Z2F0ZXdheUluZm86THcobCxvKSxwcm94eUluZm86aCx1cmw6b319KSwoZT0+KGUuZ2F0ZXdheUluZm8mJnNBLmpvaW5DaG9vc2VTZXJ2ZXIodC5zaWQse2x0czpjLHN1Y2M6ITAsY3NBZGRyOm8sc2VydmVyTGlzdDplLmdhdGV3YXlJbmZvLmdhdGV3YXlBZGRycy5tYXAoKGU9PmUuYWRkcmVzcykpLGVjOm51bGwsb3BpZDpsLGNpZDplLmdhdGV3YXlJbmZvLmNpZC50b1N0cmluZygpLHVpZDplLmdhdGV3YXlJbmZvLnVpZC50b1N0cmluZygpLGNzSXA6ZS5nYXRld2F5SW5mby5jc0lwLHVuaWxic1NlcnZlcklkczphLnRvU3RyaW5nKCksaXNIdHRwMzpyfSksZS5wcm94eUluZm8mJnNBLmpvaW5XZWJQcm94eUFQKHQuc2lkLHtsdHM6YyxzdWNlc3M6MSxhcFNlcnZlckFkZHI6byx0dXJuU2VydmVyQWRkckxpc3Q6ZS5wcm94eUluZm8uYWRkcmVzc2VzLm1hcCgoZT0+ZS5pcCkpLmpvaW4oXCIsXCIpLGVycm9yQ29kZTpudWxsLGV2ZW50VHlwZTp0LmNsb3VkUHJveHlTZXJ2ZXIsdW5pbGJzU2VydmVySWRzOmEudG9TdHJpbmcoKX0pLCExKSksKGU9PmUuY29kZSE9PW52Lk9QRVJBVElPTl9BQk9SVEVEJiYoZS5jb2RlPT09bnYuQ0FOX05PVF9HRVRfR0FURVdBWV9TRVJWRVI/ZS5kYXRhLnJldHJ5OihzQS5qb2luV2ViUHJveHlBUCh0LnNpZCx7bHRzOmMsc3VjZXNzOjAsYXBTZXJ2ZXJBZGRyOm8sdHVyblNlcnZlckFkZHJMaXN0Om51bGwsZXJyb3JDb2RlOmUuY29kZSxldmVudFR5cGU6dC5jbG91ZFByb3h5U2VydmVyLHVuaWxic1NlcnZlcklkczphLnRvU3RyaW5nKCksZXh0ZW5kOkpTT04uc3RyaW5naWZ5KHtuZXR3b3JrU3RhdGU6dX0pfSksUXkud2FybmluZyhcIltcIi5jb25jYXQodC5jbGllbnRJZCxcIl0gbXVsdGkgdW5pbGJzIG5ldHdvcmsgZXJyb3IsIHJldHJ5XCIpLGUpLCEwKSkpLG4pfWNvbnN0IFRVPShlLHQsaSxuLHIsbyk9Pntjb25zdHtzaWQ6cyxjbGllbnRJZDphLGNsb3VkUHJveHlTZXJ2ZXI6Y309aSxkPVtdLGw9aT0+ezQwOTY9PT1pLmZsYWc/c0Euam9pbkNob29zZVNlcnZlcihzLHtsdHM6bixzdWNjOiExLGNzQWRkcjp0LG9waWQ6ZS5vcGlkLHNlcnZlckxpc3Q6bnVsbCxlYzppLmVycm9yLm1lc3NhZ2UsY3NJcDppLmVycm9yLmRhdGEmJmkuZXJyb3IuZGF0YS5jc0lwLHVuaWxic1NlcnZlcklkczpyLnRvU3RyaW5nKCksaXNIdHRwMzpvfSk6MTA0ODU3NiE9PWkuZmxhZyYmNDE5NDMwNCE9PWkuZmxhZyYmNDE5NDMxMCE9PWkuZmxhZ3x8c0Euam9pbldlYlByb3h5QVAocyx7bHRzOm4sc3VjZXNzOjAsYXBTZXJ2ZXJBZGRyOnQsdHVyblNlcnZlckFkZHJMaXN0Om51bGwsZXJyb3JDb2RlOmkuZXJyb3IuY29kZSxldmVudFR5cGU6Yyx1bmlsYnNTZXJ2ZXJJZHM6ci50b1N0cmluZygpfSl9O2lmKGUucmVzcG9uc2VfYm9keS5mb3JFYWNoKCh0PT57Y29uc3QgaT10LmJ1ZmZlci5jb2RlO2lmKDIzPT09dC51cmkmJjA9PT1pJiYhdC5idWZmZXIuZWRnZXNfc2VydmljZXMpaWYoNDE5NDMxMD09PXQuYnVmZmVyLmZsYWcpUXkud2FybmluZyhcIm5vIGVkZ2Ugc2VydmljZXMgaW4gYXAgcmVzcG9uc2Ugb2YgcHJveHkgZmFsbGJhY2ssIHdpbGwgbm90IHNldCBwcm94eSBpbiBpY2VTZXJ2ZXJzXCIpLHQuYnVmZmVyLmVkZ2VzX3NlcnZpY2VzPVtdO2Vsc2V7Y29uc3QgaT17ZXJyb3I6bmV3IFNiKG52LkNBTl9OT1RfR0VUX0dBVEVXQVlfU0VSVkVSLFwibm8gZWRnZSBzZXJ2aWNlcyBpbiBhcCByZXNwb25zZVwiLHtyZXRyeTohMCxjc0lwOmUuZGV0YWlsWzUwMl19KSxmbGFnOnQuYnVmZmVyLmZsYWd9O2QucHVzaChpKSxsKGkpfWlmKDAhPT1pKXtjb25zdCBuPXV3KGkpLHI9e2Vycm9yOm5ldyBTYihudi5DQU5fTk9UX0dFVF9HQVRFV0FZX1NFUlZFUixuLmRlc2Mse2Rlc2M6bi5kZXNjLHJldHJ5Om4ucmV0cnksY3NJcDplLmRldGFpbFs1MDJdfSksZmxhZzp0LmJ1ZmZlci5mbGFnfTs0MTk0MzEwPT09dC5idWZmZXIuZmxhZz9ReS53YXJuaW5nKHIuZXJyb3IudG9TdHJpbmcoKSk6ZC5wdXNoKHIpLGwocil9fSkpLGQubGVuZ3RoKXRocm93IFF5Lndhcm5pbmcoXCJbXCIuY29uY2F0KGF8fFwic2lkLVwiLmNvbmNhdChzLnNsaWNlKDAsNikpLFwiXSBtdWx0aSB1bmlsYnMgXCIpLmNvbmNhdCh0LFwiIGZhaWxlZCwgXCIpLmNvbmNhdChkLm1hcCgoZT0+XCJmbGFnOiBcIi5jb25jYXQoZS5mbGFnLFwiLCBtZXNzYWdlOiBcIikuY29uY2F0KGUuZXJyb3IubWVzc2FnZSxcIiwgcmV0cnk6IFwiKS5jb25jYXQoZS5lcnJvci5kYXRhLnJldHJ5KSkpLmpvaW4oXCIgfCBcIikpKSxuZXcgU2IobnYuQ0FOX05PVF9HRVRfR0FURVdBWV9TRVJWRVIsZC5tYXAoKGU9PlwiZmxhZzogXCIuY29uY2F0KGUuZmxhZyxcIiwgbWVzc2FnZTogXCIpLmNvbmNhdChlLmVycm9yLm1lc3NhZ2UpKSkuam9pbihcIiB8IFwiKSx7cmV0cnk6ISFkLmZpbmQoKGU9PmUuZXJyb3IuZGF0YS5yZXRyeSkpLGNzSXA6ZS5kZXRhaWxbNTAyXSxkZXNjOlsuLi5uZXcgU2V0KGQubWFwKChlPT57dmFyIHQ7cmV0dXJuIG51bGw9PWV8fG51bGw9PT0odD1lLmVycm9yKXx8dm9pZCAwPT09dHx8bnVsbD09PSh0PXQuZGF0YSl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuZGVzY30pKS5maWx0ZXIoKGU9PiEhZSkpKV19KX0sU1U9ZT0+e3ZhciB0LGksbixyO2lmKGUuYWRkcmVzc2VzJiYwPT09ZS5hZGRyZXNzZXMubGVuZ3RoJiYwPT09ZS5jb2RlKXRocm93IG5ldyBTYihudi5DQU5fTk9UX0dFVF9HQVRFV0FZX1NFUlZFUixcInZvaWQgZ2F0ZXdheSBhZGRyZXNzXCIse3JldHJ5OiEwLGNzSXA6ZS5kZXRhaWwmJmUuZGV0YWlsWzUwMl19KTtEeShcIkFQX0FSRUFcIikmJihudWxsIT09KG49ZS5kZXRhaWwpJiZ2b2lkIDAhPT1uJiZuWzIzXSYmXCJzdHJpbmdcIj09dHlwZW9mKG51bGw9PT0ocj1lLmRldGFpbCl8fHZvaWQgMD09PXI/dm9pZCAwOnJbMjNdKT9kVShlLmRldGFpbFsyM10udG9Mb3dlckNhc2UoKSk6ZFUoKSk7aWYobnVsbCE9PSh0PWUuZGV0YWlsKSYmdm9pZCAwIT09dCYmdFsxOV0mJlwic3RyaW5nXCI9PXR5cGVvZihudWxsPT09KGk9ZS5kZXRhaWwpfHx2b2lkIDA9PT1pP3ZvaWQgMDppWzE5XSkpe2NvbnN0IHQ9ZS5kZXRhaWxbMTldLGk9bnVsbD09dD92b2lkIDA6dC5zcGxpdChcIjtcIik7Zm9yKGxldCB0PTA7dDxpLmxlbmd0aDt0Kyspe3ZhciBvO2NvbnN0IG49anAobz1pW3RdKS5jYWxsKG8pO2UuYWRkcmVzc2VzW3RdJiZpJiYoZS5hZGRyZXNzZXNbdF0uZmluZ2VycHJpbnQ9bil9fWlmKER5KFwiR0FURVdBWV9BRERSRVNTXCIpJiZEeShcIkdBVEVXQVlfQUREUkVTU1wiKS5sZW5ndGg+MCl7UXkuZGVidWcoXCJhc3NpZ24gZ2F0ZXdheSBhZGRyZXNzIHRvXCIsRHkoXCJHQVRFV0FZX0FERFJFU1NcIikpO2NvbnN0IHQ9RHkoXCJHQVRFV0FZX0FERFJFU1NcIikubWFwKCh0PT57dmFyIGksbjtjb25zdCByPW51bGwhPT0oaT1udWxsPT09KG49ZS5hZGRyZXNzZXMuZmluZCgoZT0+ZS5pcD09PXQuaXAmJmUucG9ydD09PXQucG9ydCkpKXx8dm9pZCAwPT09bj92b2lkIDA6bi5maW5nZXJwcmludCkmJnZvaWQgMCE9PWk/aTpcIlwiO3JldHVybntpcDp0LmlwLHBvcnQ6dC5wb3J0LHRpY2tldDplLmFkZHJlc3Nlc1swXSYmZS5hZGRyZXNzZXNbMF0udGlja2V0LGZpbmdlcnByaW50OnJ9fSkpO2UuYWRkcmVzc2VzPXR9fSxnVT0oZSx0KT0+e2lmKGUucmVzcG9uc2VfYm9keSYmZS5yZXNwb25zZV9ib2R5Lmxlbmd0aCl7Y29uc3QgdD1lLnJlc3BvbnNlX2JvZHlbMF07aWYoMCE9PXQuYnVmZmVyLmNvZGUpe2NvbnN0IGU9dXcodC5idWZmZXIuY29kZSk7dGhyb3cgbmV3IFNiKG52LlVQREFURV9USUNLRVRfRkFJTEVELFwiW1wiLmNvbmNhdCh0LmJ1ZmZlci5jb2RlLFwiXTogXCIpLmNvbmNhdChlLmRlc2MpLHtyZXRyeTplLnJldHJ5fSl9cmV0dXJuIHQuYnVmZmVyLnRpY2tldH10aHJvdyBReS5kZWJ1ZyhcInVwZGF0ZSB0aWNrZXQgcmVxdWVzdCByZWNlaXZlZCBhcCByZXNwb25zZSB3aXRob3V0IHJlc3BvbnNlIGJvZHk6XCIsdCksbmV3IFNiKG52LlVQREFURV9USUNLRVRfRkFJTEVELFwiY2Fubm90IGZpbmQgcmVzcG9uc2UgYm9keSBmcm9tIGFwIHJlc3BvbnNlXCIse3JldHJ5OiExfSl9LFJVPShlLHQsaSk9Pntjb25zdCBuPU1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSoxMCoqMTIpLHI9e2FwcGlkOmUuYXBwSWQsY2xpZW50X3RzOkRhdGUubm93KCksb3BpZDpuLHNpZDplLnNpZCxyZXF1ZXN0X2JvZGllczpbe3VyaToyMixidWZmZXI6e2NuYW1lOmUuY25hbWUsZGV0YWlsOmhVKHs2OmUuc3RyaW5nVWlkLDExOnQsMTI6RHkoXCJVU0VfTkVXX1RPS0VOXCIpP1wiMVwiOnZvaWQgMCwyMjp0fSxlLmFwUlRNP3syNjpcIlJUTTJcIn06e30pLGtleTplLnRva2VuLHNlcnZpY2VfaWRzOmksdWlkOmUudWlkfHwwfX1dfTtyLnJlcXVlc3RfYm9kaWVzLmZvckVhY2goKHQ9PntlLm11bHRpSVAmJmUubXVsdGlJUC5nYXRld2F5X2lwJiYodC5idWZmZXIuZGV0YWlsWzVdPUpTT04uc3RyaW5naWZ5KHt2b2NzX2lwOltlLm11bHRpSVAudW5pX2xic19pcF0sdm9zX2lwOltlLm11bHRpSVAuZ2F0ZXdheV9pcF19KSl9KSk7Y29uc3Qgbz1uZXcgRm9ybURhdGE7cmV0dXJuIG8uYXBwZW5kKFwicmVxdWVzdFwiLEpTT04uc3RyaW5naWZ5KHIpKSxbbyxuXX0sQ1U9KGUsdCk9Pntjb25zdCBpPU1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSoxMCoqMTIpLG49e2FwcGlkOmUuYXBwSWQsY2xpZW50X3RzOkRhdGUubm93KCksb3BpZDppLHNpZDplLnNpZCxyZXF1ZXN0X2JvZGllczpbe3VyaToyOCxidWZmZXI6e2NuYW1lOmUuY25hbWUsZGV0YWlsOnsxOlwiXCIsNjplLnN0cmluZ1VpZCwxMjpcIjFcIn0sdG9rZW46ZS50b2tlbixzZXJ2aWNlX2lkczp0LHVpZDplLnVpZHx8MCxlZGdlc19zZXJ2aWNlczplLmFwUmVzcG9uc2UuYWRkcmVzc2VzLm1hcCgoZT0+KHtpcDplLmlwLHBvcnQ6ZS5wb3J0fSkpKX19XX0scj1uZXcgRm9ybURhdGE7cmV0dXJuIHIuYXBwZW5kKFwicmVxdWVzdFwiLEpTT04uc3RyaW5naWZ5KG4pKSxbcixpXX07bGV0IElVPTA7ZnVuY3Rpb24gdlUoZSl7cmV0dXJuIEdoLmFsbChlLm1hcCgoZT0+ZS50aGVuKChlPT57dGhyb3cgZX0pLChlPT5lKSkpKSkudGhlbigoZT0+e3Rocm93IGV9KSwoZT0+ZSkpfWNvbnN0IHlVPWFzeW5jIGU9PntsZXR7ZnJhZ2VtZW50TGVuZ3RoOnQscmVmZXJlbmNlTGlzdDppLGFzeW5jTWFwSGFuZGxlcjpuLGFsbEZhaWxlZGhhbmRsZXI6cixwcm9taXNlc0NvbGxlY3RvcjpvfT1lLHM9MDtjb25zdCBhPXQ7bGV0IGMsZD0wO2NvbnN0IGw9YXN5bmMoKT0+e2NvbnN0IGU9KCgpPT57Y29uc3QgZT1zKmEsdD1lK2E7cmV0dXJuIGkuc2xpY2UoZSx0KS5tYXAobil9KSgpO28mJm8ucHVzaCguLi5lKTt0cnl7Yz1hd2FpdCB2VShlKX1jYXRjaChlKXtpZihkKz1hLHMrKywhKGQ+PWkubGVuZ3RoKSlyZXR1cm4gdm9pZCBhd2FpdCBsKCk7cihlKX1lLmZvckVhY2goKGU9PmUuY2FuY2VsKCkpKX07cmV0dXJuIGF3YWl0IGwoKSxjfSxBVT1hc3luYyBlPT57bGV0e3JlZmVyZW5jZUxpc3Q6dCxhc3luY01hcEhhbmRsZXI6aSxjbG9zZUZuOm59PWU7Y29uc3Qgcj10Lmxlbmd0aDtsZXQgbz0wO2NvbnN0IHM9YXN5bmMoKT0+e2NvbnN0IGU9aSh0LnNoaWZ0KCkpO3RyeXtyZXR1cm4gYXdhaXQgZX1jYXRjaChlKXtpZihvKyssbz49cnx8bnVsbCE9biYmbihlKSl0aHJvdyBlO3JldHVybiBzKCl9fTtyZXR1cm4gcygpfTthc3luYyBmdW5jdGlvbiBiVShlLHQsaSxuKXtjb25zdCByPWFzeW5jIGZ1bmN0aW9uKGUsdCxpLG4pe2xldCByPW51bGw7Y29uc3Qgbz1bXSxzPWFzeW5jKCk9Pntjb25zdCByPUR5KFwiV0VCQ1NfRE9NQUlOXCIpLnNsaWNlKDAsRHkoXCJBSkFYX1JFUVVFU1RfQ09OQ1VSUkVOVFwiKSkubWFwKCh0PT4oe3VybDplLnByb3h5U2VydmVyP1wiaHR0cHM6Ly9cIi5jb25jYXQoZS5wcm94eVNlcnZlcixcIi9hcC8/dXJsPVwiKS5jb25jYXQodCtcIi9hcGkvdjIvdHJhbnNwb25kL3dlYnJ0Yz92PTJcIik6XCJodHRwczovL1wiLmNvbmNhdCh0LFwiL2FwaS92Mi90cmFuc3BvbmQvd2VicnRjP3Y9MlwiKSxhcmVhQ29kZTppVSgpfSkpKSxzPW4ucmVjb3JkSm9pbkNoYW5uZWxTZXJ2aWNlKHtzdGFydFRzOkRhdGUubm93KCksc3RhdHVzOlwicGVuZGluZ1wiLHNlcnZpY2U6XCJjaG9vc2VTZXJ2ZXJcIix1cmxzOnIubWFwKChlPT5lLnVybCkpfSksYT1hd2FpdCB5VSh7ZnJhZ2VtZW50TGVuZ3RoOkR5KFwiRlJBR0VNRU5UX0xFTkdUSFwiKSxyZWZlcmVuY2VMaXN0OnIsYXN5bmNNYXBIYW5kbGVyOm49PihReS5kZWJ1ZyhcIltcIi5jb25jYXQoZS5jbGllbnRJZCxcIl0gQ29ubmVjdCB0byBjaG9vc2Vfc2VydmVyOlwiKSxuLnVybCksbVUobixlLHQsaSkpLGFsbEZhaWxlZGhhbmRsZXI6ZT0+e3Rocm93IG4ucmVjb3JkSm9pbkNoYW5uZWxTZXJ2aWNlKHtlbmRUczpEYXRlLm5vdygpLHN0YXR1czpcImVycm9yXCIsZXJyb3JzOmV9LHMpLGVbMF19LHByb21pc2VzQ29sbGVjdG9yOm99KTtyZXR1cm4gbi5yZWNvcmRKb2luQ2hhbm5lbFNlcnZpY2Uoe2VuZFRzOkRhdGUubm93KCksc3RhdHVzOlwic3VjY2Vzc1wifSxzKSxhfSxhPWFzeW5jKCk9PntpZihhd2FpdCAkdigxZTMpLG51bGwhPT1yKXJldHVybiByO2NvbnN0IHM9RHkoXCJXRUJDU19ET01BSU5fQkFDS1VQX0xJU1RcIikubWFwKCh0PT4oe3VybDplLnByb3h5U2VydmVyP1wiaHR0cHM6Ly9cIi5jb25jYXQoZS5wcm94eVNlcnZlcixcIi9hcC8/dXJsPVwiKS5jb25jYXQodCtcIi9hcGkvdjIvdHJhbnNwb25kL3dlYnJ0Yz92PTJcIik6XCJodHRwczovL1wiLmNvbmNhdCh0LFwiL2FwaS92Mi90cmFuc3BvbmQvd2VicnRjP3Y9MlwiKSxhcmVhQ29kZTppVSgpfSkpKSxhPW4ucmVjb3JkSm9pbkNoYW5uZWxTZXJ2aWNlKHtlbmRUczp2b2lkIDAsc3RhcnRUczpEYXRlLm5vdygpLHN0YXR1czpcInBlbmRpbmdcIixzZXJ2aWNlOlwiY2hvb3NlU2VydmVyXCIsdXJsczpzLm1hcCgoZT0+ZS51cmwpKX0pLGM9YXdhaXQgeVUoe2ZyYWdlbWVudExlbmd0aDpEeShcIkZSQUdFTUVOVF9MRU5HVEhcIikscmVmZXJlbmNlTGlzdDpzLGFzeW5jTWFwSGFuZGxlcjpuPT4oUXkuZGVidWcoXCJbXCIuY29uY2F0KGUuY2xpZW50SWQsXCJdIENvbm5lY3QgdG8gYmFja3VwIGNob29zZV9zZXJ2ZXI6XCIpLG4udXJsKSxtVShuLGUsdCxpKSksYWxsRmFpbGVkaGFuZGxlcjplPT57dGhyb3cgbi5yZWNvcmRKb2luQ2hhbm5lbFNlcnZpY2Uoe2VuZFRzOkRhdGUubm93KCksc3RhdHVzOlwiZXJyb3JcIixlcnJvcnM6ZX0sYSksZVswXX0scHJvbWlzZXNDb2xsZWN0b3I6b30pO3JldHVybiBuLnJlY29yZEpvaW5DaGFubmVsU2VydmljZSh7ZW5kVHM6RGF0ZS5ub3coKSxzdGF0dXM6XCJzdWNjZXNzXCJ9LGEpLGN9O3RyeXtyZXR1cm4gcj1hd2FpdCB2VShbcygpLGEoKV0pLG8ubGVuZ3RoJiZvLmZvckVhY2goKGU9PmUuY2FuY2VsJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLmNhbmNlbCYmZS5jYW5jZWwoKSkpLHJ9Y2F0Y2goZSl7dGhyb3cgZVswXX19KGUsdCxpLG4pO3JldHVybntnYXRld2F5SW5mbzphd2FpdCByfX1hc3luYyBmdW5jdGlvbiB3VShlLHQsaSxuLHIpe2NvbnN0IG89ZS5jbG91ZFByb3h5U2VydmVyO2lmKFwiZGlzYWJsZWRcIj09PW8pe2lmKCFuKXJldHVybjtpZihlLnVzZUxvY2FsQWNjZXNzUG9pbnQpcmV0dXJuIGF3YWl0IGJVKGUsdCxpLHIpO2lmKER5KFwiSk9JTl9XSVRIX0ZBTExCQUNLX01FRElBX1BST1hZXCIpKXtjb25zdHtnYXRld2F5SW5mbzpuLHByb3h5SW5mbzpvfT1hd2FpdCBMVShlLHQsaSxyKTtpZihlLnR1cm5TZXJ2ZXImJlwiYXV0b1wiIT09ZS50dXJuU2VydmVyLm1vZGUpcmV0dXJue2dhdGV3YXlJbmZvOm59O2NvbnN0IGE9by5tYXAoKGU9Pih7dHVyblNlcnZlclVSTDplLmFkZHJlc3MsdGNwcG9ydDplLnRjcHBvcnR8fGNBLnRjcHBvcnQsdWRwcG9ydDplLnVkcHBvcnR8fGNBLnVkcHBvcnQsdXNlcm5hbWU6ZS51c2VybmFtZXx8Y0EudXNlcm5hbWUscGFzc3dvcmQ6ZS5wYXNzd29yZHx8Y0EucGFzc3dvcmQsZm9yY2V0dXJuOiExLHNlY3VyaXR5OiEwfSkpKTtpZihyLnVzZVAyUCl7dmFyIHM7Y29uc3QgdD1udWxsIT09KHM9ZS51aWQpJiZ2b2lkIDAhPT1zP3M6bi51aWQsaT1cImdsYjpcIi5jb25jYXQodC50b1N0cmluZygpKSxyPWF3YWl0IFR2KGkpLGM9by5tYXAoKGU9Pih7dHVyblNlcnZlclVSTDplLmFkZHJlc3MsdGNwcG9ydDplLnRjcHBvcnR8fGNBLnRjcHBvcnQsdWRwcG9ydDplLnVkcHBvcnR8fGNBLnVkcHBvcnQsdXNlcm5hbWU6aSxwYXNzd29yZDpyLGZvcmNldHVybjohMSxzZWN1cml0eTohMH0pKSk7YS5wdXNoKC4uLmMpfXJldHVybiBlLnR1cm5TZXJ2ZXI9e21vZGU6XCJtYW51YWxcIixzZXJ2ZXJzOmF9LHtnYXRld2F5SW5mbzpufX1yZXR1cm4gYXdhaXQgYlUoZSx0LGkscil9Y29uc3R7cHJveHlJbmZvOmEsZ2F0ZXdheUluZm86Y309YXdhaXQgTFUoZSx0LGksciksZD17Z2F0ZXdheUluZm86Y30sbD1hLm1hcCgoZT0+KHt0dXJuU2VydmVyVVJMOmUuYWRkcmVzcyx0Y3Bwb3J0OlwicHJveHkzXCI9PT1vP3ZvaWQgMDplLnRjcHBvcnQ/ZS50Y3Bwb3J0OmNBLnRjcHBvcnQsdWRwcG9ydDpcInByb3h5NFwiPT09bz92b2lkIDA6ZS51ZHBwb3J0P2UudWRwcG9ydDpjQS51ZHBwb3J0LHVzZXJuYW1lOmUudXNlcm5hbWV8fGNBLnVzZXJuYW1lLHBhc3N3b3JkOmUucGFzc3dvcmR8fGNBLnBhc3N3b3JkLGZvcmNldHVybjpcInByb3h5NFwiIT09byxzZWN1cml0eTpcInByb3h5NVwiPT09b30pKSk7aWYoci51c2VQMlApe3ZhciB1O2NvbnN0IHQ9bnVsbCE9PSh1PWUudWlkKSYmdm9pZCAwIT09dT91OmMudWlkLGk9XCJnbGI6XCIuY29uY2F0KHQudG9TdHJpbmcoKSksbj1hd2FpdCBUdihpKSxyPWEubWFwKChlPT4oe3R1cm5TZXJ2ZXJVUkw6ZS5hZGRyZXNzLHRjcHBvcnQ6XCJwcm94eTNcIj09PW8/dm9pZCAwOmUudGNwcG9ydHx8Y0EudGNwcG9ydCx1ZHBwb3J0OlwicHJveHk0XCI9PT1vP3ZvaWQgMDplLnVkcHBvcnR8fGNBLnVkcHBvcnQsdXNlcm5hbWU6aSxwYXNzd29yZDpuLGZvcmNldHVybjpcInByb3h5NFwiIT09byxzZWN1cml0eTpcInByb3h5NVwiPT09b30pKSk7bC5wdXNoKC4uLnIpfXJldHVybiBlLnR1cm5TZXJ2ZXI9e21vZGU6XCJtYW51YWxcIixzZXJ2ZXJzOmx9LFF5LmRlYnVnKFwiW1wiLmNvbmNhdChlLmNsaWVudElkLFwiXSBzZXQgcHJveHkgc2VydmVyOiBcIikuY29uY2F0KGUucHJveHlTZXJ2ZXIsXCIsIG1vZGU6IFwiKS5jb25jYXQobykpLGR9YXN5bmMgZnVuY3Rpb24gT1UoZSx0LGksbixyKXtjb25zdCBvPUR5KFwiQUNDT1VOVF9SRUdJU1RFUlwiKS5zbGljZSgwLER5KFwiQUpBWF9SRVFVRVNUX0NPTkNVUlJFTlRcIikpO2xldCBzPVtdO3M9dC5wcm94eVNlcnZlcj9vLm1hcCgoZT0+XCJodHRwczovL1wiLmNvbmNhdCh0LnByb3h5U2VydmVyLFwiL2FwLz91cmw9XCIpLmNvbmNhdChlK1wiL2FwaS92MVwiKSkpOm8ubWFwKChlPT5cImh0dHBzOi8vXCIuY29uY2F0KGUsXCIvYXBpL3YxXCIpKSk7Y29uc3QgYT1udWxsPT1yP3ZvaWQgMDpyLnJlY29yZEpvaW5DaGFubmVsU2VydmljZSh7c3RhcnRUczpEYXRlLm5vdygpLHN0YXR1czpcInBlbmRpbmdcIixzZXJ2aWNlOlwic3RyaW5nVUlEXCIsdXJsczpzfSk7dHJ5e2NvbnN0IG89YXdhaXQgYXN5bmMgZnVuY3Rpb24oZSx0LGksbixyKXtjb25zdCBvPURhdGUubm93KCkscz17c2lkOmkuc2lkLG9waWQ6MTAsYXBwaWQ6aS5hcHBJZCxzdHJpbmdfdWlkOnR9O2xldCBhPWVbMF07Y29uc3QgYz1hd2FpdCBteSgoKCk9PnRVKGErXCJcIi5jb25jYXQoLTE9PT1hLmluZGV4T2YoXCI/XCIpP1wiP1wiOlwiJlwiLFwiYWN0aW9uPXN0cmluZ3VpZFwiKSx7ZGF0YTpzLGNhbmNlbFRva2VuOm4saGVhZGVyczp7XCJYLVBhY2tldC1TZXJ2aWNlLVR5cGVcIjowLFwiWC1QYWNrZXQtVVJJXCI6NzJ9fSkpLCgoaSxuKT0+e2lmKDA9PT1pLmNvZGUpe2lmKGkudWlkPD0wfHxpLnVpZD49TWF0aC5wb3coMiwzMikpdGhyb3cgUXkuZXJyb3IoXCJJbnZhbGlkIFVpbnQgVWlkIFwiLmNvbmNhdCh0LFwiID0+IFwiKS5jb25jYXQoaS51aWQpLGkpLHNBLnJlcVVzZXJBY2NvdW50KHMuc2lkLHtsdHM6byxzdWNjZXNzOiExLHNlcnZlckFkZHI6YSxzdHJpbmdVaWQ6cy5zdHJpbmdfdWlkLHVpZDppLnVpZCxlcnJvckNvZGU6bnYuSU5WQUxJRF9VSU5UX1VJRF9GUk9NX1NUUklOR19VSUQsZXh0ZW5kOnN9KSxuZXcgU2IobnYuSU5WQUxJRF9VSU5UX1VJRF9GUk9NX1NUUklOR19VSUQpO3JldHVybiBzQS5yZXFVc2VyQWNjb3VudChzLnNpZCx7bHRzOm8sc3VjY2VzczohMCxzZXJ2ZXJBZGRyOmEsc3RyaW5nVWlkOnMuc3RyaW5nX3VpZCx1aWQ6aS51aWQsZXJyb3JDb2RlOm51bGwsZXh0ZW5kOnN9KSwhMX1jb25zdCByPXV3KGkuY29kZSk7cmV0dXJuIHIucmV0cnkmJihhPWVbKG4rMSklZS5sZW5ndGhdKSxzQS5yZXFVc2VyQWNjb3VudChzLnNpZCx7bHRzOm8sc3VjY2VzczohMSxzZXJ2ZXJBZGRyOmEsc3RyaW5nVWlkOnMuc3RyaW5nX3VpZCx1aWQ6aS51aWQsZXJyb3JDb2RlOnIuZGVzYyxleHRlbmQ6c30pLHIucmV0cnl9KSwoKHQsaSk9PnQuY29kZSE9PW52Lk9QRVJBVElPTl9BQk9SVEVEJiYoc0EucmVxVXNlckFjY291bnQocy5zaWQse2x0czpvLHN1Y2Nlc3M6ITEsc2VydmVyQWRkcjphLHN0cmluZ1VpZDpzLnN0cmluZ191aWQsdWlkOm51bGwsZXJyb3JDb2RlOnQuY29kZSxleHRlbmQ6c30pLGE9ZVsoaSsxKSVlLmxlbmd0aF0sITApKSxyKTtpZigwIT09Yy5jb2RlKXtjb25zdCBlPXV3KGMuY29kZSk7dGhyb3cgbmV3IFNiKG52LlVORVhQRUNURURfUkVTUE9OU0UsZS5kZXNjKX1yZXR1cm4gY30ocyxlLHQsaSxuKTtyZXR1cm4gbnVsbD09cnx8ci5yZWNvcmRKb2luQ2hhbm5lbFNlcnZpY2Uoe3N0YXR1czpcInN1Y2Nlc3NcIixlbmRUczpEYXRlLm5vdygpfSxhKSxvLnVpZH1jYXRjaChlKXt0aHJvdyBudWxsPT1yfHxyLnJlY29yZEpvaW5DaGFubmVsU2VydmljZSh7c3RhdHVzOlwiZXJyb3JcIixlbmRUczpEYXRlLm5vdygpLGVycm9yczpbZV19LGEpLGV9fWFzeW5jIGZ1bmN0aW9uIE5VKGUsdCxpKXtjb25zdCBuPUR5KFwiQUNDT1VOVF9SRUdJU1RFUlwiKTtsZXQgcj1bXTtyPXQucHJveHlTZXJ2ZXI/bi5tYXAoKGU9PlwiaHR0cHM6Ly9cIi5jb25jYXQodC5wcm94eVNlcnZlcixcIi9hcC8/dXJsPVwiKS5jb25jYXQoZStcIi9hcGkvdjFcIikpKTpuLm1hcCgoZT0+XCJodHRwczovL1wiLmNvbmNhdChlLFwiL2FwaS92MVwiKSkpO3RyeXtjb25zdCBuPWF3YWl0IEFVKHtyZWZlcmVuY2VMaXN0OnIsYXN5bmNNYXBIYW5kbGVyOm49PmFzeW5jIGZ1bmN0aW9uKGUsdCxpLG4pe2NvbnN0IHI9RGF0ZS5ub3coKSxvPXtzaWQ6aS5zaWQsb3BpZDoxMCxhcHBpZDppLmFwcElkLHN0cmluZ191aWQ6dH07dHJ5e2NvbnN0IHQ9YXdhaXQgdFUoZStcIlwiLmNvbmNhdCgtMT09PWUuaW5kZXhPZihcIj9cIik/XCI/XCI6XCImXCIsXCJhY3Rpb249c3RyaW5ndWlkXCIpLHtkYXRhOm8sY2FuY2VsVG9rZW46bixoZWFkZXJzOntcIlgtUGFja2V0LVNlcnZpY2UtVHlwZVwiOjAsXCJYLVBhY2tldC1VUklcIjo3Mn19KTtpZigwIT09dC5jb2RlKXtjb25zdCBlPXV3KHQuY29kZSk7dGhyb3cgbmV3IFNiKG52LlVORVhQRUNURURfUkVTUE9OU0UsXCJwcmVsb2FkIHN1YSBlcnJvcjpcIi5jb25jYXQoZS5kZXNjKSxlKX1pZih0LnVpZDw9MHx8dC51aWQ+PU1hdGgucG93KDIsMzIpKXRocm93IG5ldyBTYihudi5JTlZBTElEX1VJTlRfVUlEX0ZST01fU1RSSU5HX1VJRCk7cmV0dXJue3JlcXVlc3RUaW1lOnIsdXJsOmUscmVxOm8sdWlkOnQudWlkLGVsYXBzZTpEYXRlLm5vdygpLXJ9fWNhdGNoKGUpe3Rocm93IGV9fShuLGUsdCxpKSxjbG9zZUZuOmU9PmUuY29kZT09PW52Lk9QRVJBVElPTl9BQk9SVEVEfHxlLmNvZGU9PT1udi5VTkVYUEVDVEVEX1JFU1BPTlNFJiYhZS5kYXRhLnJldHJ5fSk7cmV0dXJuIG59Y2F0Y2goZSl7dGhyb3cgZX19YXN5bmMgZnVuY3Rpb24gRFUoZSx0LGkpe2NvbnN0IG49RHkoXCJDRFNfQVBcIikuc2xpY2UoMCxEeShcIkFKQVhfUkVRVUVTVF9DT05DVVJSRU5UXCIpKS5tYXAoKHQ9PmUucHJveHlTZXJ2ZXI/XCJodHRwczovL1wiLmNvbmNhdChlLnByb3h5U2VydmVyLFwiL2FwLz91cmw9XCIpLmNvbmNhdCh0K1wiL2FwaS92MVwiKTpcImh0dHBzOi8vXCIuY29uY2F0KHQsXCIvYXBpL3YxP2FjdGlvbj1jb25maWdcIikpKSxyPW4ubWFwKChuPT5mdW5jdGlvbihlLHQsaSxuKXtjb25zdCByPUFJKCksbz17ZmxhZzo2NCxjaXBoZXJfbWV0aG9kOjAsZmVhdHVyZXM6e2RldmljZTpyLm5hbWUsc3lzdGVtOnIub3Msc3lzdGVtX2dlbmVyYWw6bmF2aWdhdG9yLnVzZXJBZ2VudCx2ZW5kb3I6dC5hcHBJZCx2ZXJzaW9uOnZ5LGNuYW1lOnQuY25hbWUsc2lkOnQuc2lkLHNlc3Npb25faWQ6dC5zaWQsZGV0YWlsOlwiXCIscHJveHlTZXJ2ZXI6dC5wcm94eVNlcnZlcn19O3JldHVybiBteSgoKCk9PnRVKGUse2RhdGE6byx0aW1lb3V0OjFlMyxjYW5jZWxUb2tlbjppLGhlYWRlcnM6e1wiWC1QYWNrZXQtU2VydmljZS1UeXBlXCI6MCxcIlgtUGFja2V0LVVSSVwiOjU0fX0pKSx2b2lkIDAsKGU9PmUuY29kZSE9PW52Lk9QRVJBVElPTl9BQk9SVEVEKSxuKX0obixlLHQsaSkpKTtsZXQgbz1udWxsLHM9bnVsbCxhPXt9O3RyeXtvPWF3YWl0IHZVKHIpfWNhdGNoKGUpe2lmKGUuY29kZT09PW52Lk9QRVJBVElPTl9BQk9SVEVEKXRocm93IGU7cz1lfXIuZm9yRWFjaCgoZT0+ZS5jYW5jZWwoKSkpO2lmKHNBLnJlcG9ydEFwaUludm9rZShlLnNpZCx7bmFtZTpDdi5SRVFVRVNUX0NPTkZJR19ESVNUUklCVVRFLG9wdGlvbnM6e2Vycm9yOnMscmVzOm99fSkub25TdWNjZXNzKCksbyYmby50ZXN0X3RhZ3MpdHJ5e2E9ZnVuY3Rpb24oZSl7aWYoIWUudGVzdF90YWdzKXJldHVybnt9O2NvbnN0IHQ9ZS50ZXN0X3RhZ3MsaT1PYmplY3Qua2V5cyh0KSxuPXt9O3JldHVybiBpLmZvckVhY2goKGU9Pnt2YXIgaTtjb25zdCByPWpwKGk9ZS5zbGljZSg0KSkuY2FsbChpKSxvPUpTT04ucGFyc2UodFtlXSlbMV07bltyXT1vfSkpLG59KG8pfWNhdGNoKGUpe31yZXR1cm4gYX1hc3luYyBmdW5jdGlvbiBQVShlLHQpe2NvbnN0IGk9RHkoXCJXRUJDU19ET01BSU5cIikuY29uY2F0KER5KFwiV0VCQ1NfRE9NQUlOX0JBQ0tVUF9MSVNUXCIpKS5tYXAoKGU9Pih7dXJsOlwiaHR0cHM6Ly9cIi5jb25jYXQoZSxcIi9hcGkvdjIvdHJhbnNwb25kL3dlYnJ0Yz92PTJcIiksYXJlYUNvZGU6aVUoKSxzZXJ2aWNlSWRzOltPdy5DSE9PU0VfU0VSVkVSLE93LkNMT1VEX1BST1hZX0ZBTExCQUNLXX0pKSk7dHJ5e2NvbnN0IG49YXdhaXQgQVUoe3JlZmVyZW5jZUxpc3Q6aSxhc3luY01hcEhhbmRsZXI6aT0+YXN5bmMgZnVuY3Rpb24oZSx0LGkpe2xldCBuLHt1cmw6cixhcmVhQ29kZTpvLHNlcnZpY2VJZHM6c309ZTtjb25zdCBhPURhdGUubm93KCksW2MsZF09UlUodCxvLHMpO2xldCBsPVZ2Lm5ldHdvcmtTdGF0ZTt0cnl7bCYmVnYubmV0d29ya1N0YXRlPT09UHYuT0ZGTElORSYmVnYub25saW5lV2FpdGVyJiZhd2FpdCBHaC5yYWNlKFtWdi5vbmxpbmVXYWl0ZXIsJHYoX3kubWF4UmV0cnlUaW1lb3V0KV0pLGw9VnYubmV0d29ya1N0YXRlO2NvbnN0e2RhdGE6ZSxoZWFkZXJzOnR9PWF3YWl0IHRVKHIse2RhdGE6YyxjYW5jZWxUb2tlbjppLGhlYWRlcnM6e1wiQ29udGVudC1UeXBlXCI6XCJtdWx0aXBhcnQvZm9ybS1kYXRhO1wifX0sITAsITApO249XCIxXCI9PT10Lmh0dHAzPzE6LTE7Y29uc3Qgbz1lPT57Y29uc3QgdD1bXTtpZihlLnJlc3BvbnNlX2JvZHkuZm9yRWFjaCgoaT0+e2NvbnN0IG49aS5idWZmZXIuY29kZTtpZigyMz09PWkudXJpJiYwPT09biYmIWkuYnVmZmVyLmVkZ2VzX3NlcnZpY2VzKWlmKDQxOTQzMTA9PT1pLmJ1ZmZlci5mbGFnKWkuYnVmZmVyLmVkZ2VzX3NlcnZpY2VzPVtdO2Vsc2V7Y29uc3Qgbj17ZXJyb3I6bmV3IFNiKG52LkNBTl9OT1RfR0VUX0dBVEVXQVlfU0VSVkVSLFwibm8gZWRnZSBzZXJ2aWNlcyBpbiBhcCByZXNwb25zZVwiLHtyZXRyeTohMCxjc0lwOmUuZGV0YWlsWzUwMl19KSxmbGFnOmkuYnVmZmVyLmZsYWd9O3QucHVzaChuKX1pZigwIT09bil7Y29uc3Qgcj11dyhuKSxvPXtlcnJvcjpuZXcgU2IobnYuQ0FOX05PVF9HRVRfR0FURVdBWV9TRVJWRVIsci5kZXNjLHtkZXNjOnIuZGVzYyxyZXRyeTpyLnJldHJ5LGNzSXA6ZS5kZXRhaWxbNTAyXX0pLGZsYWc6aS5idWZmZXIuZmxhZ307NDE5NDMxMD09PWkuYnVmZmVyLmZsYWc/UXkud2FybmluZyhvLmVycm9yLnRvU3RyaW5nKCkpOnQucHVzaChvKX19KSksdC5sZW5ndGgpdGhyb3cgbmV3IFNiKG52LkNBTl9OT1RfR0VUX0dBVEVXQVlfU0VSVkVSLHQubWFwKChlPT5cImZsYWc6IFwiLmNvbmNhdChlLmZsYWcsXCIsIG1lc3NhZ2U6IFwiKS5jb25jYXQoZS5lcnJvci5tZXNzYWdlKSkpLmpvaW4oXCIgfCBcIikse3JldHJ5OiEhdC5maW5kKChlPT5lLmVycm9yLmRhdGEucmV0cnkpKSxjc0lwOmUuZGV0YWlsWzUwMl0sZGVzYzpbLi4ubmV3IFNldCh0Lm1hcCgoZT0+e3ZhciB0O3JldHVybiBudWxsPT1lfHxudWxsPT09KHQ9ZS5lcnJvcil8fHZvaWQgMD09PXR8fG51bGw9PT0odD10LmRhdGEpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmRlc2N9KSkuZmlsdGVyKChlPT4hIWUpKSldfSl9O28oZSk7Y29uc3Qgcz14dyhlLE93LkNIT09TRV9TRVJWRVIpLHU9eHcoZSxPdy5DTE9VRF9QUk9YWV9GQUxMQkFDSyk7cmV0dXJuIFNVKHMpLHtnYXRld2F5SW5mbzpMdyhzLHIpLHByb3h5SW5mbzp1LG9waWQ6ZCxyZXF1ZXN0VGltZTphLHVybDpyLGlzSHR0cDM6bixlbGFwc2U6RGF0ZS5ub3coKS1hfX1jYXRjaChlKXt0aHJvdyBlfX0oaSxlLHQpLGNsb3NlRm46ZT0+ZS5jb2RlPT09bnYuT1BFUkFUSU9OX0FCT1JURUR8fGUuY29kZT09PW52LkNBTl9OT1RfR0VUX0dBVEVXQVlfU0VSVkVSJiYhZS5kYXRhLnJldHJ5fSk7cmV0dXJuIG59Y2F0Y2goZSl7dGhyb3cgZX19YXN5bmMgZnVuY3Rpb24gTFUoZSx0LGksbil7Y29uc3Qgcj1EeShcIlBST1hZX1NFUlZFUl9UWVBFM1wiKSxvPShlLHQsaSk9PntsZXQgbj1pfHxyO3JldHVybiBBcnJheS5pc0FycmF5KG4pJiYobj10JTI9PTA/clsxXTpyWzBdKSxcImh0dHBzOi8vXCIuY29uY2F0KG4sXCIvYXAvP3VybD1cIikuY29uY2F0KGUpfTtsZXQgcz1udWxsO2NvbnN0IGE9W10sYz1hc3luYygpPT57Y29uc3Qgcj1EeShcIldFQkNTX0RPTUFJTlwiKS5zbGljZSgwLER5KFwiQUpBWF9SRVFVRVNUX0NPTkNVUlJFTlRcIikpLm1hcCgoKHQsaSk9PntsZXQgbjtyZXR1cm4gbj1cImRpc2FibGVkXCI9PT1lLmNsb3VkUHJveHlTZXJ2ZXImJmUucHJveHlTZXJ2ZXI/byhcIlwiLmNvbmNhdCh0LFwiL2FwaS92Mi90cmFuc3BvbmQvd2VicnRjP3Y9MlwiKSxpLGUucHJveHlTZXJ2ZXIpOlwiZGlzYWJsZWRcIj09PWUuY2xvdWRQcm94eVNlcnZlcnx8XCJmYWxsYmFja1wiPT09ZS5jbG91ZFByb3h5U2VydmVyP1wiaHR0cHM6Ly9cIi5jb25jYXQodCxcIi9hcGkvdjIvdHJhbnNwb25kL3dlYnJ0Yz92PTJcIik6byhcIlwiLmNvbmNhdCh0LFwiL2FwaS92Mi90cmFuc3BvbmQvd2VicnRjP3Y9MlwiKSxpKSx7dXJsOm4sYXJlYUNvZGU6aVUoKSxzZXJ2aWNlSWRzOltPdy5DSE9PU0VfU0VSVkVSLFwicHJveHk1XCI9PT1lLmNsb3VkUHJveHlTZXJ2ZXI/T3cuQ0xPVURfUFJPWFlfNTpcInByb3h5M1wiPT09ZS5jbG91ZFByb3h5U2VydmVyfHxcInByb3h5NFwiPT09ZS5jbG91ZFByb3h5U2VydmVyP093LkNMT1VEX1BST1hZOk93LkNMT1VEX1BST1hZX0ZBTExCQUNLXX19KSkscz1uLnJlY29yZEpvaW5DaGFubmVsU2VydmljZSh7c3RhcnRUczpEYXRlLm5vdygpLHN0YXR1czpcInBlbmRpbmdcIixzZXJ2aWNlOlwiY2hvb3NlU2VydmVyXCIsdXJsczpyLm1hcCgoZT0+ZS51cmwpKX0pLGM9YXdhaXQgeVUoe2ZyYWdlbWVudExlbmd0aDpEeShcIkZSQUdFTUVOVF9MRU5HVEhcIikscmVmZXJlbmNlTGlzdDpyLGFzeW5jTWFwSGFuZGxlcjpuPT4oUXkuZGVidWcoXCJbXCIuY29uY2F0KGUuY2xpZW50SWQsXCJdIENvbm5lY3QgdG8gY2hvb3NlX3NlcnZlcjpcIiksbi51cmwpLGZVKG4sZSx0LGkpKSxhbGxGYWlsZWRoYW5kbGVyOmU9Pnt0aHJvdyBuLnJlY29yZEpvaW5DaGFubmVsU2VydmljZSh7ZW5kVHM6RGF0ZS5ub3coKSxzdGF0dXM6XCJlcnJvclwiLGVycm9yczplfSxzKSxlWzBdfSxwcm9taXNlc0NvbGxlY3RvcjphfSk7cmV0dXJuIG4ucmVjb3JkSm9pbkNoYW5uZWxTZXJ2aWNlKHtlbmRUczpEYXRlLm5vdygpLHN0YXR1czpcInN1Y2Nlc3NcIn0scyksY30sZD1hc3luYygpPT57aWYoYXdhaXQgJHYoMWUzKSxudWxsIT09cylyZXR1cm4gcztjb25zdCByPUR5KFwiV0VCQ1NfRE9NQUlOX0JBQ0tVUF9MSVNUXCIpLm1hcCgoKHQsaSk9PntsZXQgbjtyZXR1cm4gbj1cImRpc2FibGVkXCI9PT1lLmNsb3VkUHJveHlTZXJ2ZXImJmUucHJveHlTZXJ2ZXI/byhcIlwiLmNvbmNhdCh0LFwiL2FwaS92Mi90cmFuc3BvbmQvd2VicnRjP3Y9MlwiKSxpLGUucHJveHlTZXJ2ZXIpOlwiZGlzYWJsZWRcIj09PWUuY2xvdWRQcm94eVNlcnZlcnx8XCJmYWxsYmFja1wiPT09ZS5jbG91ZFByb3h5U2VydmVyP1wiaHR0cHM6Ly9cIi5jb25jYXQodCxcIi9hcGkvdjIvdHJhbnNwb25kL3dlYnJ0Yz92PTJcIik6byhcIlwiLmNvbmNhdCh0LFwiL2FwaS92Mi90cmFuc3BvbmQvd2VicnRjP3Y9MlwiKSxpKSx7dXJsOm4sYXJlYUNvZGU6aVUoKSxzZXJ2aWNlSWRzOltPdy5DSE9PU0VfU0VSVkVSLFwicHJveHk1XCI9PT1lLmNsb3VkUHJveHlTZXJ2ZXI/T3cuQ0xPVURfUFJPWFlfNTpcInByb3h5M1wiPT09ZS5jbG91ZFByb3h5U2VydmVyfHxcInByb3h5NFwiPT09ZS5jbG91ZFByb3h5U2VydmVyP093LkNMT1VEX1BST1hZOk93LkNMT1VEX1BST1hZX0ZBTExCQUNLXX19KSksYz1uLnJlY29yZEpvaW5DaGFubmVsU2VydmljZSh7c3RhcnRUczpEYXRlLm5vdygpLHN0YXR1czpcInBlbmRpbmdcIixzZXJ2aWNlOlwiY2hvb3NlU2VydmVyXCIsdXJsczpyLm1hcCgoZT0+ZS51cmwpKX0pLGQ9YXdhaXQgeVUoe2ZyYWdlbWVudExlbmd0aDpEeShcIkZSQUdFTUVOVF9MRU5HVEhcIikscmVmZXJlbmNlTGlzdDpyLGFzeW5jTWFwSGFuZGxlcjpuPT4oUXkuZGVidWcoXCJbXCIuY29uY2F0KGUuY2xpZW50SWQsXCJdIENvbm5lY3QgdG8gYmFja3VwIGNob29zZV9zZXJ2ZXI6XCIpLG4udXJsKSxmVShuLGUsdCxpKSksYWxsRmFpbGVkaGFuZGxlcjplPT57dGhyb3cgbi5yZWNvcmRKb2luQ2hhbm5lbFNlcnZpY2Uoe2VuZFRzOkRhdGUubm93KCksc3RhdHVzOlwiZXJyb3JcIixlcnJvcnM6ZX0sYyksZVswXX0scHJvbWlzZXNDb2xsZWN0b3I6YX0pO3JldHVybiBuLnJlY29yZEpvaW5DaGFubmVsU2VydmljZSh7ZW5kVHM6RGF0ZS5ub3coKSxzdGF0dXM6XCJzdWNjZXNzXCJ9LGMpLGR9O2xldCBsLHUsaDt0cnl7KHtnYXRld2F5SW5mbzpsLHByb3h5SW5mbzp1LHVybDpofT1hd2FpdCB2VShbYygpLGQoKV0pKX1jYXRjaChlKXt0aHJvdyBlWzBdfWlmKGEubGVuZ3RoJiZhLmZvckVhY2goKGU9PmUuY2FuY2VsJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLmNhbmNlbCYmZS5jYW5jZWwoKSkpLCFsfHwhdSl0aHJvdyBuZXcgU2IobnYuVU5FWFBFQ1RFRF9FUlJPUixcIm1pc3NpbmcgZ2F0ZXdheSBvciBwcm94eSByZXNwb25zZVwiKS5wcmludCgpO2lmKGUuYXBVcmw9aCxcImRpc2FibGVkXCIhPT1lLmNsb3VkUHJveHlTZXJ2ZXImJkFycmF5LmlzQXJyYXkocikmJmgpe2NvbnN0IHQ9L15odHRwcz86XFwvXFwvKC4rPykoXFwvLiopPyQvLmV4ZWMoaClbMV07RG4ocikuY2FsbChyLHQpJiYoZS5wcm94eVNlcnZlcj10LFF5LnNldFByb3h5U2VydmVyKHQpLHNBLnNldFByb3h5U2VydmVyKHQpKX1yZXR1cm4gcz17Z2F0ZXdheUluZm86bCxwcm94eUluZm86YXdhaXQgVncodSxsLnVpZCl9LHN9YXN5bmMgZnVuY3Rpb24ga1UoZSx0LGkpe2NvbnN0IG49RHkoXCJVQVBfQVBcIikuc2xpY2UoMCxEeShcIkFKQVhfUkVRVUVTVF9DT05DVVJSRU5UXCIpKS5tYXAoKHQ9PmUucHJveHlTZXJ2ZXI/XCJodHRwczovL1wiLmNvbmNhdChlLnByb3h5U2VydmVyLFwiL2FwLz91cmw9XCIpLmNvbmNhdCh0K1wiL2FwaS92MT9hY3Rpb249dWFwXCIpOlwiaHR0cHM6Ly9cIi5jb25jYXQodCxcIi9hcGkvdjE/YWN0aW9uPXVhcFwiKSkpLHI9bi5tYXAoKG49PmZ1bmN0aW9uKGUsdCxpLG4pe2NvbnN0IHI9e2NvbW1hbmQ6XCJjb252ZXJnZUFsbG9jYXRlRWRnZVwiLHNpZDp0LnNpZCxhcHBJZDp0LmFwcElkLHRva2VuOnQudG9rZW4sdHM6RGF0ZS5ub3coKSx2ZXJzaW9uOnZ5LGNuYW1lOnQuY25hbWUsdWlkOnQudWlkLnRvU3RyaW5nKCkscmVxdWVzdElkOkVVLHNlcTpFVX07RVUrPTE7Y29uc3Qgbz17c2VydmljZV9uYW1lOlwidGVsZV9jaGFubmVsXCIsanNvbl9ib2R5OkpTT04uc3RyaW5naWZ5KHIpfTtyZXR1cm4gbXkoKGFzeW5jKCk9Pntjb25zdCB0PWF3YWl0IHRVKGUse2RhdGE6byxjYW5jZWxUb2tlbjppLGhlYWRlcnM6e1wiWC1QYWNrZXQtU2VydmljZS1UeXBlXCI6MCxcIlgtUGFja2V0LVVSSVwiOjYxfX0pO2lmKDAhPT10LmNvZGUpe2NvbnN0IGU9bmV3IFNiKG52LlVORVhQRUNURURfUkVTUE9OU0UsXCJjcm9zcyBjaGFubmVsIGFwIGVycm9yLCBjb2RlXCIrdC5jb2RlLHtyZXRyeTohMH0pO3Rocm93IFF5LmVycm9yKGUudG9TdHJpbmcoKSksZX1jb25zdCBuPUpTT04ucGFyc2UodC5qc29uX2JvZHkpO2lmKDIwMCE9PW4uY29kZSl7Y29uc3QgZT1uZXcgU2IobnYuVU5FWFBFQ1RFRF9SRVNQT05TRSxcImNyb3NzIGNoYW5uZWwgYXBwIGNlbnRlciBlcnJvciwgY29kZTogXCIuY29uY2F0KG4uY29kZSxcIiwgcmVhc29uOiBcIikuY29uY2F0KG4ucmVhc29uKSk7dGhyb3cgUXkuZXJyb3IoZS50b1N0cmluZygpKSxlfWlmKCFuLnNlcnZlcnN8fDA9PT1uLnNlcnZlcnMubGVuZ3RoKXtjb25zdCBlPW5ldyBTYihudi5VTkVYUEVDVEVEX1JFU1BPTlNFLFwiY3Jvc3MgY2hhbm5lbCBhcHAgY2VudGVyIGVtcHR5IHNlcnZlclwiKTt0aHJvdyBReS5lcnJvcihlLnRvU3RyaW5nKCkpLGV9cmV0dXJue3ZpZDpuLnZpZCx3b3JrZXJUb2tlbjpuLndvcmtlclRva2VuLGFkZHJlc3NMaXN0OihEeShcIkNIQU5ORUxfTUVESUFfUkVMQVlfU0VSVkVSU1wiKXx8bi5zZXJ2ZXJzKS5tYXAoKGU9Plwid3NzOi8vXCIuY29uY2F0KGUuYWRkcmVzcy5yZXBsYWNlKC9cXC4vZyxcIi1cIiksXCIuXCIpLmNvbmNhdChEeShcIldPUktFUl9ET01BSU5cIiksXCI6XCIpLmNvbmNhdChlLndzcykpKX19KSx2b2lkIDAsKGU9PiEhKGUuY29kZSE9PW52Lk9QRVJBVElPTl9BQk9SVEVEJiZlLmNvZGUhPT1udi5VTkVYUEVDVEVEX1JFU1BPTlNFfHxlLmRhdGEmJmUuZGF0YS5yZXRyeSkpLG4pfShuLGUsdCxpKSkpO3RyeXtjb25zdCBlPWF3YWl0IHZVKHIpO3JldHVybiByLmZvckVhY2goKGU9PmUuY2FuY2VsKCkpKSxlfWNhdGNoKGUpe3Rocm93IGVbMF19fWFzeW5jIGZ1bmN0aW9uIE1VKGUsdCxpKXtsZXQgbj1udWxsO2NvbnN0IHI9W10sbz1hc3luYyBvPT57Y29uc3Qgcz1EeShvP1wiV0VCQ1NfRE9NQUlOX0JBQ0tVUF9MSVNUXCI6XCJXRUJDU19ET01BSU5cIikubWFwKCh0PT5lLnByb3h5U2VydmVyP1wiaHR0cHM6Ly9cIi5jb25jYXQoZS5wcm94eVNlcnZlcixcIi9hcC8/dXJsPVwiKS5jb25jYXQodCtcIi9hcGkvdjIvdHJhbnNwb25kL3dlYnJ0Yz92PTJcIik6XCJodHRwczovL1wiLmNvbmNhdCh0LFwiL2FwaS92Mi90cmFuc3BvbmQvd2VicnRjP3Y9MlwiKSkpO3JldHVybiBvJiYoYXdhaXQgJHYoMWUzKSxudWxsIT09bik/bjphd2FpdCB5VSh7ZnJhZ2VtZW50TGVuZ3RoOkR5KFwiRlJBR0VNRU5UX0xFTkdUSFwiKSxyZWZlcmVuY2VMaXN0OnMsYXN5bmNNYXBIYW5kbGVyOm49PihReS5kZWJ1ZyhcIltcIi5jb25jYXQoZS5jbGllbnRJZCxcIl0gdXBkYXRlIHRpY2tldCwgQ29ubmVjdCB0byBcIikuY29uY2F0KG8/XCJiYWNrdXBcIjpcIlwiLFwiIGNob29zZV9zZXJ2ZXI6XCIpLG4pLGZ1bmN0aW9uKGUsdCxpLG4pe2NvbnN0W3JdPUNVKHQsW093LkNIT09TRV9TRVJWRVJdKTtsZXQgbz1Wdi5uZXR3b3JrU3RhdGU7cmV0dXJuIG15KChhc3luYygpPT57byYmVnYubmV0d29ya1N0YXRlPT09UHYuT0ZGTElORSYmVnYub25saW5lV2FpdGVyJiZhd2FpdCBHaC5yYWNlKFtWdi5vbmxpbmVXYWl0ZXIsJHYobiYmbi5tYXhSZXRyeVRpbWVvdXR8fF95Lm1heFJldHJ5VGltZW91dCldKSxvPVZ2Lm5ldHdvcmtTdGF0ZTtjb25zdCB0PWF3YWl0IHRVKGUse2RhdGE6cixjYW5jZWxUb2tlbjppLGhlYWRlcnM6e1wiQ29udGVudC1UeXBlXCI6XCJtdWx0aXBhcnQvZm9ybS1kYXRhO1wifX0sITApO3JldHVybiBnVSh0LGUpfSksKCgpPT4hMSksKGU9PmUuY29kZSE9PW52Lk9QRVJBVElPTl9BQk9SVEVEJiYoZS5jb2RlPT09bnYuVVBEQVRFX1RJQ0tFVF9GQUlMRUQ/ZS5kYXRhLnJldHJ5OihReS53YXJuaW5nKFwiW1wiLmNvbmNhdCh0LmNsaWVudElkLFwiXSB1cGRhdGUgdGlja2V0IG5ldHdvcmsgZXJyb3IsIHJldHJ5XCIpLGUpLCEwKSkpLG4pfShuLGUsdCxpKSksYWxsRmFpbGVkaGFuZGxlcjplPT57dGhyb3cgZVswXX0scHJvbWlzZXNDb2xsZWN0b3I6cn0pfTt0cnl7cmV0dXJuIG49YXdhaXQgdlUoW28oITEpLG8oITApXSksci5sZW5ndGgmJnIuZm9yRWFjaCgoZT0+ZS5jYW5jZWwmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGUuY2FuY2VsJiZlLmNhbmNlbCgpKSksbn1jYXRjaChlKXt0aHJvdyBlWzBdfX1mdW5jdGlvbiBVVShlLHQpe3ZhciBpPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKG49bi5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksaS5wdXNoLmFwcGx5KGksbil9cmV0dXJuIGl9ZnVuY3Rpb24geFUoZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIGk9bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/VVUoT2JqZWN0KGkpLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtvZyhlLHQsaVt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhpKSk6VVUoT2JqZWN0KGkpKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaSx0KSl9KSl9cmV0dXJuIGV9Y2xhc3MgVlUgZXh0ZW5kcyBTdntnZXQgaXNTdWNjZXNzKCl7cmV0dXJuISF0aGlzLmNvbmZpZ3N9Y29uc3RydWN0b3IoKXtzdXBlcigpLG9nKHRoaXMsXCJjb25maWdzXCIsdm9pZCAwKSxvZyh0aGlzLFwiam9pbkluZm9cIix2b2lkIDApLG9nKHRoaXMsXCJjYW5jZWxUb2tlblwiLHZvaWQgMCksb2codGhpcyxcInJldHJ5Q29uZmlnXCIse3RpbWVvdXQ6M2UzLHRpbWVvdXRGYWN0b3I6MS41LG1heFJldHJ5Q291bnQ6MSxtYXhSZXRyeVRpbWVvdXQ6MWU0fSksb2codGhpcyxcImludGVydmFsXCIsdm9pZCAwKSxvZyh0aGlzLFwibXV0ZXhcIixuZXcgaHkoXCJjb25maWctZGlzdHJpYnV0ZVwiKSksb2codGhpcyxcIm11dGFibGVQYXJhbXNSZWFkXCIsITEpfXN0YXJ0R2V0Q29uZmlnRGlzdHJpYnV0ZShlLHQpe3RoaXMuam9pbkluZm89ZSx0aGlzLmNhbmNlbFRva2VuPXQsdGhpcy5pbnRlcnZhbCYmdGhpcy5zdG9wR2V0Q29uZmlnRGlzdHJpYnV0ZSgpLER5KFwiRU5BQkxFX0NPTkZJR19ESVNUUklCVVRFXCIpJiYodGhpcy51cGRhdGVDb25maWdEaXN0cmlidXRlKCksdGhpcy5pbnRlcnZhbD13aW5kb3cuc2V0SW50ZXJ2YWwoKCgpPT57dGhpcy51cGRhdGVDb25maWdEaXN0cmlidXRlKCl9KSxEeShcIkNPTkZJR19ESVNUUklCVVRFX0lOVEVSVkFMXCIpKSl9c3RvcEdldENvbmZpZ0Rpc3RyaWJ1dGUoKXt0aGlzLmludGVydmFsJiZjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWwpLHRoaXMuaW50ZXJ2YWw9dm9pZCAwLHRoaXMuam9pbkluZm89dm9pZCAwLHRoaXMuY2FuY2VsVG9rZW49dm9pZCAwfWFzeW5jIGF3YWl0Q29uZmlnRGlzdHJpYnV0ZUNvbXBsZXRlKCl7aWYoIXRoaXMubXV0ZXguaXNMb2NrZWQpcmV0dXJuOyhhd2FpdCB0aGlzLm11dGV4LmxvY2soKSkoKX1hc3luYyB1cGRhdGVDb25maWdEaXN0cmlidXRlKCl7aWYoIXRoaXMubXV0YWJsZVBhcmFtc1JlYWQpe3RoaXMubXV0YWJsZVBhcmFtc1JlYWQ9ITA7c0EucmVwb3J0QXBpSW52b2tlKG51bGwse29wdGlvbnM6dm9pZCAwLG5hbWU6Q3YuTE9BRF9DT05GSUdfRlJPTV9MT0NBTFNUT1JBR0UsdGFnOkl2LlRSQUNFUn0pLm9uU3VjY2VzcyhKU09OLnN0cmluZ2lmeShQeSkpfWlmKCF0aGlzLmpvaW5JbmZvfHwhdGhpcy5jYW5jZWxUb2tlbnx8IXRoaXMucmV0cnlDb25maWcpcmV0dXJuIHZvaWQgUXkuZGVidWcoXCJbY29uZmlnLWRpc3RyaWJ1dGVdIGdldCBjb25maWcgZGlzdHJpYnV0ZSBpbnRlcnJ1cHRlZCBoYXZlIG5vIGpvaW5pbmZvXCIpO2xldCBlO2NvbnN0IHQ9YXdhaXQgdGhpcy5tdXRleC5sb2NrKCk7dHJ5e2U9YXdhaXQgRFUodGhpcy5qb2luSW5mbyx0aGlzLmNhbmNlbFRva2VuLHRoaXMucmV0cnlDb25maWcpLFF5LmRlYnVnKFwiW2NvbmZpZy1kaXN0cmlidXRlXSBnZXQgY29uZmlnIGRpc3RyaWJ1dGVcIixKU09OLnN0cmluZ2lmeShlKSksZS5saW1pdF9iaXRyYXRlJiZ0aGlzLmhhbmRsZUJpdHJhdGVMaW1pdChlLmxpbWl0X2JpdHJhdGUpLHRoaXMuY2FjaGVHbG9iYWxQYXJhbWV0ZXJDb25maWcoZSksdGhpcy5jb25maWdzPWV9Y2F0Y2goZSl7Y29uc3QgdD1uZXcgU2IobnYuTkVUV09SS19SRVNQT05TRV9FUlJPUixlKTtReS53YXJuaW5nKFwiW2NvbmZpZy1kaXN0cmlidXRlXSBcIi5jb25jYXQodC50b1N0cmluZygpKSl9ZmluYWxseXt0KCl9fWdldEJpdHJhdGVMaW1pdCgpe3JldHVybiB0aGlzLmNvbmZpZ3M/dGhpcy5jb25maWdzLmxpbWl0X2JpdHJhdGU6dm9pZCAwfWhhbmRsZUJpdHJhdGVMaW1pdChlKXt2YXIgdDsodD1lKSYmdC51cGxpbmsmJnQuaWQmJnZvaWQgMCE9PXQudXBsaW5rLm1heF9iaXRyYXRlJiZ2b2lkIDAhPT10LnVwbGluay5taW5fYml0cmF0ZSYmKHRoaXMuY29uZmlncyYmdGhpcy5jb25maWdzLmxpbWl0X2JpdHJhdGU/dGhpcy5jb25maWdzJiZ0aGlzLmNvbmZpZ3MubGltaXRfYml0cmF0ZSYmdGhpcy5jb25maWdzLmxpbWl0X2JpdHJhdGUuaWQhPT1lLmlkJiZ0aGlzLmVtaXQoV2IuVVBEQVRFX0JJVFJBVEVfTElNSVQsZSk6dGhpcy5lbWl0KFdiLlVQREFURV9CSVRSQVRFX0xJTUlULGUpKX1nZXRMb3dTdHJlYW1Db25maWdEaXN0cmlidXRlKCl7cmV0dXJuIHRoaXMuY29uZmlncyYmdGhpcy5jb25maWdzLmxpbWl0X2JpdHJhdGUmJnhVKHt9LHRoaXMuY29uZmlncy5saW1pdF9iaXRyYXRlLmxvd19zdHJlYW1fdXBsaW5rKX1jYWNoZUdsb2JhbFBhcmFtZXRlckNvbmZpZyhlKXt2YXIgdDtjb25zdCBpPWFFKHQ9T2JqZWN0LmtleXMoZSkuZmlsdGVyKChlPT4vXndlYnJ0Y19uZ19nbG9iYWxfcGFyYW1ldGVyLy50ZXN0KGUpKSkpLmNhbGwodCk7Zm9yKGxldCB0PTA7dDxpLmxlbmd0aDt0KyspZm9yKGxldCBuPWkubGVuZ3RoLTE7bj50O24tLSl7Y29uc3QgdD1pW25dO2lmKFwibnVtYmVyXCI9PXR5cGVvZiBlW3RdLl9fcHJpb3JpdHkpe2NvbnN0IHI9ZVt0XS5fX3ByaW9yaXR5LG89aVtuLTFdO2lmKFwibnVtYmVyXCI9PXR5cGVvZiBlW29dLl9fcHJpb3JpdHkpe2lmKCEocj5lW29dLl9fcHJpb3JpdHkpKWNvbnRpbnVlO3tjb25zdCBlPXQ7aVtuXT1pW24tMV0saVtuLTFdPWV9fWVsc2V7Y29uc3QgZT10O2lbbl09aVtuLTFdLGlbbi0xXT1lfX19Y29uc3Qgbj17fTtpLmZvckVhY2goKHQ9Pntjb25zdCBpPWVbdF0scj1pLl9fZXhwaXJlcztPYmplY3Qua2V5cyhpKS5mb3JFYWNoKChlPT57XCJfX3ByaW9yaXR5XCI9PT1lfHxcIl9fZXhwaXJlc1wiPT09ZXx8T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG4sZSl8fChuW2VdPXhVKHt2YWx1ZTppW2VdfSxyJiZ7ZXhwaXJlczpyfSkpfSkpfSkpO3RyeXshZnVuY3Rpb24oZSl7dHJ5e2NvbnN0IHQ9RGF0ZS5ub3coKTtPYmplY3Qua2V5cyhlKS5mb3JFYWNoKChpPT57c3dpdGNoKGkpe2Nhc2VcIkVOQUJMRV9FVkVOVF9SRVBPUlRcIjpjYXNlXCJVUExPQURfTE9HXCI6Y2FzZVwiRU5BQkxFX0FHX0FEQVBUQVRJT05cIjpjYXNlXCJGT1JDRV9BR19ISUdIX0ZSQU1FUkFURVwiOmNhc2VcIkZPUkNFX1NVUFBPUlRfQUdfQURBUFRBVElPTlwiOmNhc2VcIkVOQ09ERVJfQ09ORklHX0xJTUlUXCI6Y2FzZVwiQ0FNRVJBX0NBUFRVUkVfQ09ORklHXCI6Y2FzZVwiRU5BQkxFX1BSRUxPQURcIjppZihPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoT3ksaSkpe2NvbnN0e3ZhbHVlOm4sZXhwaXJlczpyfT1lW2ldO2lmKHImJnI8PXQpcmV0dXJuO1B5W2ldPW4sT3lbaV09bixReS5kZWJ1ZyhcIlVwZGF0ZSBnbG9iYWwgcGFyYW1ldGVycyBmcm9tIGNvbmZpZyBkaXN0cmlidXRlXCIsaSxuKX19fSkpfWNhdGNoKHQpe1F5LmVycm9yKFwiRXJyb3IgdXBkYXRlIGNvbmZpZyBpbW1lZGlhdGVseTogXCIuY29uY2F0KGUpLHQubWVzc2FnZSl9fShuKTtjb25zdCBlPUpTT04uc3RyaW5naWZ5KG4pLHQ9d2luZG93LmJ0b2EoZSk7d2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKFwid2Vic2RrX25nX2dsb2JhbF9wYXJhbWV0ZXJcIix0KSxReS5kZWJ1ZyhcIkNhY2hpbmcgZ2xvYmFsIHBhcmFtZXRlcnMgXCIuY29uY2F0KGUpKX1jYXRjaChlKXtReS5lcnJvcihcIkVycm9yIGNhY2hpbmcgZ2xvYmFsIHBhcmFtZXRlcnM6XCIsZS5tZXNzYWdlKX19fWNsYXNzIEZVIGV4dGVuZHMgU3Z7Y29uc3RydWN0b3IoKXtzdXBlciguLi5hcmd1bWVudHMpLG9nKHRoaXMsXCJyZXN1bHRTdG9yYWdlXCIsbmV3IE1hcCl9c2V0TG9jYWxBdWRpb1N0YXRzKGUsdCxpKXt0aGlzLnJlY29yZChcIkFVRElPX0lOUFVUX0xFVkVMX1RPT19MT1dcIixlLHRoaXMuY2hlY2tBdWRpb0lucHV0TGV2ZWwoaSx0KSksdGhpcy5yZWNvcmQoXCJTRU5EX0FVRElPX0JJVFJBVEVfVE9PX0xPV1wiLGUsdGhpcy5jaGVja1NlbmRBdWRpb0JpdHJhdGUoaSx0KSl9c2V0TG9jYWxWaWRlb1N0YXRzKGUsdCxpKXt0aGlzLnJlY29yZChcIlNFTkRfVklERU9fQklUUkFURV9UT09fTE9XXCIsZSx0aGlzLmNoZWNrU2VuZFZpZGVvQml0cmF0ZShpLHQpKSx0aGlzLnJlY29yZChcIkZSQU1FUkFURV9JTlBVVF9UT09fTE9XXCIsZSx0aGlzLmNoZWNrRnJhbWVyYXRlSW5wdXQoaSx0KSksdGhpcy5yZWNvcmQoXCJGUkFNRVJBVEVfU0VOVF9UT09fTE9XXCIsZSx0aGlzLmNoZWNrRnJhbWVyYXRlU2VudChpKSl9c2V0UmVtb3RlQXVkaW9TdGF0cyhlLHQpe2NvbnN0IGk9ZS5nZXRVc2VySWQoKTt0aGlzLnJlY29yZChcIkFVRElPX09VVFBVVF9MRVZFTF9UT09fTE9XXCIsaSx0aGlzLmNoZWNrQXVkaW9PdXRwdXRMZXZlbCh0KSl9c2V0UmVtb3RlVmlkZW9TdGF0cyhlLHQpe2NvbnN0IGk9ZS5nZXRVc2VySWQoKTt0aGlzLnJlY29yZChcIlJFQ1ZfVklERU9fREVDT0RFX0ZBSUxFRFwiLGksdGhpcy5jaGVja1ZpZGVvRGVjb2RlKHQpKX1yZWNvcmQoZSx0LGkpe2lmKER5KFwiU1RBVFNfVVBEQVRFX0lOVEVSVkFMXCIpPjUwMClyZXR1cm47dGhpcy5yZXN1bHRTdG9yYWdlLmhhcyhlKXx8dGhpcy5yZXN1bHRTdG9yYWdlLnNldChlLHtyZXN1bHQ6W10saXNQcmV2Tm9ybWFsOiEwfSk7Y29uc3Qgbj10aGlzLnJlc3VsdFN0b3JhZ2UuZ2V0KGUpO2lmKG4mJihuLnJlc3VsdC5wdXNoKGkpLG4ucmVzdWx0Lmxlbmd0aD49NSkpe3ZhciByO2NvbnN0IGk9RG4ocj1uLnJlc3VsdCkuY2FsbChyLCEwKTtuLmlzUHJldk5vcm1hbCYmIWkmJnRoaXMuZW1pdChcImV4Y2VwdGlvblwiLEJVW2VdLGUsdCksIW4uaXNQcmV2Tm9ybWFsJiZpJiZ0aGlzLmVtaXQoXCJleGNlcHRpb25cIixCVVtlXSsyZTMsZStcIl9SRUNPVkVSXCIsdCksbi5pc1ByZXZOb3JtYWw9aSxuLnJlc3VsdD1bXX19Y2hlY2tBdWRpb091dHB1dExldmVsKGUpe3JldHVybiEoZS5yZWNlaXZlQml0cmF0ZT4wJiYwPT09ZS5yZWNlaXZlTGV2ZWwpfWNoZWNrQXVkaW9JbnB1dExldmVsKGUsdCl7cmV0dXJuIHQgaW5zdGFuY2VvZiByayYmIXQuaXNBY3RpdmV8fCghIXQubXV0ZWR8fDAhPT1lLnNlbmRWb2x1bWVMZXZlbCl9Y2hlY2tGcmFtZXJhdGVJbnB1dChlLHQpe2xldCBpPW51bGw7dC5fZW5jb2RlckNvbmZpZyYmdC5fZW5jb2RlckNvbmZpZy5mcmFtZVJhdGUmJihpPWt3KHQuX2VuY29kZXJDb25maWcuZnJhbWVSYXRlKSk7Y29uc3Qgbj1lLmNhcHR1cmVGcmFtZVJhdGU7cmV0dXJuIWl8fCFufHwhKGk+MTAmJm48NXx8aTwxMCYmaT49NSYmbjw9MSl9Y2hlY2tGcmFtZXJhdGVTZW50KGUpe3JldHVybiEoZS5jYXB0dXJlRnJhbWVSYXRlJiZlLnNlbmRGcmFtZVJhdGUmJmUuY2FwdHVyZUZyYW1lUmF0ZT41JiZlLnNlbmRGcmFtZVJhdGU8PTEpfWNoZWNrU2VuZFZpZGVvQml0cmF0ZShlLHQpe3JldHVybiEhdC5tdXRlZHx8MCE9PWUuc2VuZEJpdHJhdGV9Y2hlY2tTZW5kQXVkaW9CaXRyYXRlKGUsdCl7cmV0dXJuIHQgaW5zdGFuY2VvZiByayYmIXQuaXNBY3RpdmV8fCghIXQubXV0ZWR8fDAhPT1lLnNlbmRCaXRyYXRlKX1jaGVja1ZpZGVvRGVjb2RlKGUpe3JldHVybiAwPT09ZS5yZWNlaXZlQml0cmF0ZXx8MCE9PWUuZGVjb2RlRnJhbWVSYXRlfX1jb25zdCBCVT17RlJBTUVSQVRFX0lOUFVUX1RPT19MT1c6MTAwMSxGUkFNRVJBVEVfU0VOVF9UT09fTE9XOjEwMDIsU0VORF9WSURFT19CSVRSQVRFX1RPT19MT1c6MTAwMyxSRUNWX1ZJREVPX0RFQ09ERV9GQUlMRUQ6MTAwNSxBVURJT19JTlBVVF9MRVZFTF9UT09fTE9XOjIwMDEsQVVESU9fT1VUUFVUX0xFVkVMX1RPT19MT1c6MjAwMixTRU5EX0FVRElPX0JJVFJBVEVfVE9PX0xPVzoyMDAzfTtjb25zdCBqVT1uZXcgY2xhc3N7bWFya1N1YnNjcmliZVN0YXJ0KGUsdCl7cGVyZm9ybWFuY2UubWFyayhcImFnb3JhLXdlYi1zZGsvXCIuY29uY2F0KGUsXCIvc3Vic2NyaWJlLVwiKS5jb25jYXQodCkpfW1hcmtQdWJsaXNoU3RhcnQoZSx0KXtwZXJmb3JtYW5jZS5tYXJrKFwiYWdvcmEtd2ViLXNkay9cIi5jb25jYXQoZSxcIi9wdWJsaXNoLVwiKS5jb25jYXQodCkpfW1lYXN1cmVGcm9tU3Vic2NyaWJlU3RhcnQoZSx0KXtjb25zdCBpPXBlcmZvcm1hbmNlLmdldEVudHJpZXNCeU5hbWUoXCJhZ29yYS13ZWItc2RrL1wiLmNvbmNhdChlLFwiL3N1YnNjcmliZS1cIikuY29uY2F0KHQpKTtpZihpLmxlbmd0aD4wKXtjb25zdCBlPWlbaS5sZW5ndGgtMV07cmV0dXJuIE1hdGgucm91bmQocGVyZm9ybWFuY2Uubm93KCktZS5zdGFydFRpbWUpfXJldHVybiAwfW1lYXN1cmVGcm9tUHVibGlzaFN0YXJ0KGUsdCl7Y29uc3QgaT1wZXJmb3JtYW5jZS5nZXRFbnRyaWVzQnlOYW1lKFwiYWdvcmEtd2ViLXNkay9cIi5jb25jYXQoZSxcIi9wdWJsaXNoLVwiKS5jb25jYXQodCkpO2lmKGkubGVuZ3RoPjApe2NvbnN0IGU9aVtpLmxlbmd0aC0xXTtyZXR1cm4gTWF0aC5yb3VuZChwZXJmb3JtYW5jZS5ub3coKS1lLnN0YXJ0VGltZSl9cmV0dXJuIDB9fTtmdW5jdGlvbiBHVShlLHQpe3RoaXMudj1lLHRoaXMuaz10fWZ1bmN0aW9uIFdVKGUpe3JldHVybiBuZXcgR1UoZSwwKX12YXIgSFU9amgsS1U9U2w7d2koe3RhcmdldDpcIlByb21pc2VcIixzdGF0OiEwLGZvcmNlZDohMH0se3dpdGhSZXNvbHZlcnM6ZnVuY3Rpb24oKXt2YXIgZT1LVS5mKHRoaXMpO3JldHVybntwcm9taXNlOmUucHJvbWlzZSxyZXNvbHZlOmUucmVzb2x2ZSxyZWplY3Q6ZS5yZWplY3R9fX0pO3ZhciBZVT1TbCxxVT1lbDt3aSh7dGFyZ2V0OlwiUHJvbWlzZVwiLHN0YXQ6ITAsZm9yY2VkOiEwfSx7dHJ5OmZ1bmN0aW9uKGUpe3ZhciB0PVlVLmYodGhpcyksaT1xVShlKTtyZXR1cm4oaS5lcnJvcj90LnJlamVjdDp0LnJlc29sdmUpKGkudmFsdWUpLHQucHJvbWlzZX19KTt2YXIgelU9aShIVSksSlU9cmYuZihcImFzeW5jSXRlcmF0b3JcIiksWFU9aShKVSk7ZnVuY3Rpb24gUVUoZSl7dmFyIHQsaTtmdW5jdGlvbiBuKHQsaSl7dHJ5e3ZhciBvPWVbdF0oaSkscz1vLnZhbHVlLGE9cyBpbnN0YW5jZW9mIEdVO3pVLnJlc29sdmUoYT9zLnY6cykudGhlbigoZnVuY3Rpb24oaSl7aWYoYSl7dmFyIGM9XCJyZXR1cm5cIj09PXQ/XCJyZXR1cm5cIjpcIm5leHRcIjtpZighcy5rfHxpLmRvbmUpcmV0dXJuIG4oYyxpKTtpPWVbY10oaSkudmFsdWV9cihvLmRvbmU/XCJyZXR1cm5cIjpcIm5vcm1hbFwiLGkpfSksKGZ1bmN0aW9uKGUpe24oXCJ0aHJvd1wiLGUpfSkpfWNhdGNoKGUpe3IoXCJ0aHJvd1wiLGUpfX1mdW5jdGlvbiByKGUscil7c3dpdGNoKGUpe2Nhc2VcInJldHVyblwiOnQucmVzb2x2ZSh7dmFsdWU6cixkb25lOiEwfSk7YnJlYWs7Y2FzZVwidGhyb3dcIjp0LnJlamVjdChyKTticmVhaztkZWZhdWx0OnQucmVzb2x2ZSh7dmFsdWU6cixkb25lOiExfSl9KHQ9dC5uZXh0KT9uKHQua2V5LHQuYXJnKTppPW51bGx9dGhpcy5faW52b2tlPWZ1bmN0aW9uKGUscil7cmV0dXJuIG5ldyB6VSgoZnVuY3Rpb24obyxzKXt2YXIgYT17a2V5OmUsYXJnOnIscmVzb2x2ZTpvLHJlamVjdDpzLG5leHQ6bnVsbH07aT9pPWkubmV4dD1hOih0PWk9YSxuKGUscikpfSkpfSxcImZ1bmN0aW9uXCIhPXR5cGVvZiBlLnJldHVybiYmKHRoaXMucmV0dXJuPXZvaWQgMCl9ZnVuY3Rpb24gWlUoZSl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBRVShlLmFwcGx5KHRoaXMsYXJndW1lbnRzKSl9fVFVLnByb3RvdHlwZVtcImZ1bmN0aW9uXCI9PXR5cGVvZiBlZyYmWFV8fFwiQEBhc3luY0l0ZXJhdG9yXCJdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LFFVLnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uKGUpe3JldHVybiB0aGlzLl9pbnZva2UoXCJuZXh0XCIsZSl9LFFVLnByb3RvdHlwZS50aHJvdz1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5faW52b2tlKFwidGhyb3dcIixlKX0sUVUucHJvdG90eXBlLnJldHVybj1mdW5jdGlvbihlKXtyZXR1cm4gdGhpcy5faW52b2tlKFwicmV0dXJuXCIsZSl9O3ZhciAkVT1pKGllLk9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpLGV4PXdpLHR4PXFpLmluZGV4T2YsaXg9Qm4sbng9dihbXS5pbmRleE9mKSxyeD0hIW54JiYxL254KFsxXSwxLC0wKTwwO2V4KHt0YXJnZXQ6XCJBcnJheVwiLHByb3RvOiEwLGZvcmNlZDpyeHx8IWl4KFwiaW5kZXhPZlwiKX0se2luZGV4T2Y6ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDA7cmV0dXJuIHJ4P254KHRoaXMsZSx0KXx8MDp0eCh0aGlzLGUsdCl9fSk7dmFyIG94PVhpKFwiQXJyYXlcIikuaW5kZXhPZixzeD1sLGF4PW94LGN4PUFycmF5LnByb3RvdHlwZSxkeD1mdW5jdGlvbihlKXt2YXIgdD1lLmluZGV4T2Y7cmV0dXJuIGU9PT1jeHx8c3goY3gsZSkmJnQ9PT1jeC5pbmRleE9mP2F4OnR9LGx4PWkoZHgpO2Z1bmN0aW9uIHV4KGUsdCl7aWYobnVsbD09ZSlyZXR1cm57fTt2YXIgaSxuLHI9ZnVuY3Rpb24oZSx0KXtpZihudWxsPT1lKXJldHVybnt9O3ZhciBpLG4scj17fSxvPXlBKGUpO2ZvcihuPTA7bjxvLmxlbmd0aDtuKyspaT1vW25dLGx4KHQpLmNhbGwodCxpKT49MHx8KHJbaV09ZVtpXSk7cmV0dXJuIHJ9KGUsdCk7aWYoJFUpe3ZhciBvPSRVKGUpO2ZvcihuPTA7bjxvLmxlbmd0aDtuKyspaT1vW25dLGx4KHQpLmNhbGwodCxpKT49MHx8T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKGUsaSkmJihyW2ldPWVbaV0pfXJldHVybiByfWZ1bmN0aW9uIGh4KGUpe2lmKEFycmF5LmlzQXJyYXkoZSkpcmV0dXJuIGUubWFwKChlPT5lKSk7aWYoIXB4KGUpKXJldHVybiBlO2NvbnN0IHQ9e307Zm9yKGNvbnN0IGkgaW4gZSl7Y29uc3Qgbj1lW2ldO3B4KG4pfHxBcnJheS5pc0FycmF5KG4pP3RbaV09aHgobik6dFtpXT1ufXJldHVybiB0fWZ1bmN0aW9uIHB4KGUpe3JldHVybiEoXCJvYmplY3RcIiE9dHlwZW9mIGV8fEFycmF5LmlzQXJyYXkoZSl8fCFlKX1jbGFzcyBfeHtjb25zdHJ1Y3RvcihlKXtvZyh0aGlzLFwiaW5wdXRcIixbXSksb2codGhpcyxcInNpemVcIix2b2lkIDApLHRoaXMuc2l6ZT1lfWFkZChlKXt0aGlzLmlucHV0LnB1c2goZSksdGhpcy5pbnB1dC5sZW5ndGg+dGhpcy5zaXplJiZ0aGlzLmlucHV0LnNwbGljZSgwLDEpfWRpZmZNZWFuKCl7cmV0dXJuIDA9PT10aGlzLmlucHV0Lmxlbmd0aD8wOih0aGlzLmlucHV0W3RoaXMuaW5wdXQubGVuZ3RoLTFdLXRoaXMuaW5wdXRbMF0pL3RoaXMuaW5wdXQubGVuZ3RofX1jb25zdCBFeD17YWRkcmVzczpcInVua25vd25cIixjYW5kaWRhdGVUeXBlOlwidW5rbm93blwiLGlkOlwidW5rbm93blwiLHBvcnQ6MCxwcmlvcml0eTowLHByb3RvY29sOlwidW5rbm93blwiLHR5cGU6XCJ1bmtub3duXCJ9LG14PXt0aW1lc3RhbXA6MCxiaXRyYXRlOnthY3R1YWxFbmNvZGVkOjAsdHJhbnNtaXQ6MH0sc2VuZFBhY2tldExvc3NSYXRlOjAscmVjdlBhY2tldExvc3NSYXRlOjAsdmlkZW9SZWN2OltdLHZpZGVvU2VuZDpbXSxhdWRpb1JlY3Y6W10sYXVkaW9TZW5kOltdLHNlbGVjdGVkQ2FuZGlkYXRlUGFpcjp7aWQ6XCJ1bmtub3duXCIsbG9jYWxDYW5kaWRhdGU6RXgscmVtb3RlQ2FuZGlkYXRlOkV4fX0sZng9e2ZpcnNDb3VudDowLG5hY2tzQ291bnQ6MCxwbGlzQ291bnQ6MCxmcmFtZXNEZWNvZGVDb3VudDowLGZyYW1lc0RlY29kZUludGVydmFsOjAsZnJhbWVzRGVjb2RlRnJlZXplVGltZTowLGRlY29kZUZyYW1lUmF0ZTowLGJ5dGVzOjAscGFja2V0c0xvc3Q6MCxwYWNrZXRMb3N0UmF0ZTowLHBhY2tldHM6MCxzc3JjOjAscXBTdW1QZXJGcmFtZTowLGZyYW1lc0Ryb3BwZWRDb3VudDowLG91dHB1dEZyYW1lUmF0ZTowfSxUeD17Zmlyc0NvdW50OjAsbmFja3NDb3VudDowLHBsaXNDb3VudDowLGZyYW1lQ291bnQ6MCxieXRlczowLHBhY2tldHM6MCxwYWNrZXRzTG9zdDowLHBhY2tldExvc3RSYXRlOjAsc3NyYzowLHJ0dE1zOjAsaml0dGVyTXM6MCxxcFN1bVBlckZyYW1lOjB9LFN4PXtieXRlczowLHBhY2tldHM6MCxwYWNrZXRzTG9zdDowLHBhY2tldExvc3RSYXRlOjAsc3NyYzowLHJ0dE1zOjAsaml0dGVyTXM6MH0sZ3g9e2ppdHRlckJ1ZmZlck1zOjAsaml0dGVyTXM6MCxieXRlczowLHBhY2tldHNMb3N0OjAscGFja2V0TG9zdFJhdGU6MCxwYWNrZXRzRGlzY2FyZGVkOjAscGFja2V0czowLHNzcmM6MCxyZWNlaXZlZEZyYW1lczowLGRyb3BwZWRGcmFtZXM6MCxjb25jZWFsZWRTYW1wbGVzOjB9O2Z1bmN0aW9uIFJ4KGUsdCl7dmFyIGk9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYobj1uLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxpLnB1c2guYXBwbHkoaSxuKX1yZXR1cm4gaX1mdW5jdGlvbiBDeChlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgaT1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9SeChPYmplY3QoaSksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe29nKGUsdCxpW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKGkpKTpSeChPYmplY3QoaSkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpLHQpKX0pKX1yZXR1cm4gZX1jbGFzcyBJeHtjb25zdHJ1Y3RvcihlLHQpe29nKHRoaXMsXCJvbkZpcnN0VmlkZW9SZWNlaXZlZFwiLHZvaWQgMCksb2codGhpcyxcIm9uRmlyc3RWaWRlb0RlY29kZWRcIix2b2lkIDApLG9nKHRoaXMsXCJvbkZpcnN0QXVkaW9SZWNlaXZlZFwiLHZvaWQgMCksb2codGhpcyxcIm9uRmlyc3RWaWRlb0RlY29kZWRUaW1lb3V0XCIsdm9pZCAwKSxvZyh0aGlzLFwib25GaXJzdEF1ZGlvRGVjb2RlZFwiLHZvaWQgMCksb2codGhpcyxcIm9uU2VsZWN0ZWRMb2NhbENhbmRpZGF0ZUNoYW5nZWRcIix2b2lkIDApLG9nKHRoaXMsXCJvblNlbGVjdGVkUmVtb3RlQ2FuZGlkYXRlQ2hhbmdlZFwiLHZvaWQgMCksb2codGhpcyxcInZpZGVvSXNSZWFkeVwiLCExKSxvZyh0aGlzLFwidmlkZW9Jc1JlYWR5MlwiLHt9KSxvZyh0aGlzLFwicGNcIix2b2lkIDApLG9nKHRoaXMsXCJvcHRpb25zXCIsdm9pZCAwKSxvZyh0aGlzLFwiaW50ZXJ2YWxUaW1lclwiLHZvaWQgMCksb2codGhpcyxcInN0YXRzXCIsaHgobXgpKSxvZyh0aGlzLFwiaXNGaXJzdFZpZGVvUmVjZWl2ZWRcIix7fSksb2codGhpcyxcImlzRmlyc3RWaWRlb0RlY29kZWRcIix7fSksb2codGhpcyxcImlzRmlyc3RBdWRpb1JlY2VpdmVkXCIse30pLG9nKHRoaXMsXCJpc0ZpcnN0QXVkaW9EZWNvZGVkXCIse30pLG9nKHRoaXMsXCJpc0ZpcnN0VmlkZW9EZWNvZGVkVGltZW91dFwiLHt9KSxvZyh0aGlzLFwibG9zc1JhdGVXaW5kb3dTdGF0c1wiLFtdKSx0aGlzLnBjPWUsdGhpcy5vcHRpb25zPXQsdGhpcy5pbnRlcnZhbFRpbWVyPXdpbmRvdy5zZXRJbnRlcnZhbCgoYXN5bmMoKT0+e3RoaXMudXBkYXRlU3RhdHMoKX0pLHRoaXMub3B0aW9ucy51cGRhdGVJbnRlcnZhbCl9Z2V0U3RhdHMoKXtyZXR1cm4gdGhpcy5zdGF0c31nZXRTZWxlY3RlZENhbmRpZGF0ZVBhaXIoKXtyZXR1cm4gbmV3IEdoKChlPT57ZSh7bG9jYWw6Q3goe30sRXgpLHJlbW90ZTpDeCh7fSxFeCl9KX0pKX1zZXRWaWRlb0lzUmVhZHkoZSl7dGhpcy52aWRlb0lzUmVhZHk9ZX1zZXRWaWRlb0lzUmVhZHkyKGUsdCl7dGhpcy52aWRlb0lzUmVhZHkyW2VdPXR9Z2V0VmlkZW9Jc1JlYWR5KGUpe3JldHVybiB0aGlzLnZpZGVvSXNSZWFkeTJbZV18fCExfXNldElzRmlyc3RBdWRpb0RlY29kZWQoZSl7fWRlc3Ryb3koKXt3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsVGltZXIpLHRoaXMucGM9dm9pZCAwfWNhbGNMb3NzUmF0ZShlKXt0aGlzLmxvc3NSYXRlV2luZG93U3RhdHMucHVzaChlKSx0aGlzLmxvc3NSYXRlV2luZG93U3RhdHMubGVuZ3RoPnRoaXMub3B0aW9ucy5sb3NzUmF0ZUludGVydmFsJiZ0aGlzLmxvc3NSYXRlV2luZG93U3RhdHMuc3BsaWNlKDAsMSk7Y29uc3QgdD10aGlzLmxvc3NSYXRlV2luZG93U3RhdHMubGVuZ3RoLGk9W1widmlkZW9TZW5kXCIsXCJhdWRpb1NlbmRcIixcInZpZGVvUmVjdlwiLFwiYXVkaW9SZWN2XCJdO2xldCBuPTAscj0wLG89MCxzPTA7Zm9yKGNvbnN0IGEgb2YgaSllW2FdLmZvckVhY2goKChlLGkpPT57aWYoIXRoaXMubG9zc1JhdGVXaW5kb3dTdGF0c1t0LTFdW2FdW2ldfHwhdGhpcy5sb3NzUmF0ZVdpbmRvd1N0YXRzWzBdW2FdW2ldKXJldHVybjtjb25zdCBjPXRoaXMubG9zc1JhdGVXaW5kb3dTdGF0c1t0LTFdW2FdW2ldLnBhY2tldHMtdGhpcy5sb3NzUmF0ZVdpbmRvd1N0YXRzWzBdW2FdW2ldLnBhY2tldHMsZD10aGlzLmxvc3NSYXRlV2luZG93U3RhdHNbdC0xXVthXVtpXS5wYWNrZXRzTG9zdC10aGlzLmxvc3NSYXRlV2luZG93U3RhdHNbMF1bYV1baV0ucGFja2V0c0xvc3Q7XCJ2aWRlb1NlbmRcIj09PWF8fFwiYXVkaW9TZW5kXCI9PT1hPyhuKz1jLG8rPWQpOihyKz1jLHMrPWQpLE51bWJlci5pc05hTihjKXx8TnVtYmVyLmlzTmFOKGMpP2UucGFja2V0TG9zdFJhdGU9MDplLnBhY2tldExvc3RSYXRlPWM8PTB8fGQ8PTA/MDpkLyhjK2QpfSkpO2Uuc2VuZFBhY2tldExvc3NSYXRlPW48PTB8fG88PTA/MDpvLyhuK28pLGUucmVjdlBhY2tldExvc3NSYXRlPXI8PTB8fHM8PTA/MDpzLyhyK3MpfX1mdW5jdGlvbiB2eChlLHQpe3ZhciBpPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKG49bi5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksaS5wdXNoLmFwcGx5KGksbil9cmV0dXJuIGl9ZnVuY3Rpb24geXgoZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIGk9bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/dngoT2JqZWN0KGkpLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtvZyhlLHQsaVt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhpKSk6dngoT2JqZWN0KGkpKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaSx0KSl9KSl9cmV0dXJuIGV9Y2xhc3MgQXggZXh0ZW5kcyBJeHtjb25zdHJ1Y3Rvcigpe3N1cGVyKC4uLmFyZ3VtZW50cyksb2codGhpcyxcIl9zdGF0c1wiLG14KSxvZyh0aGlzLFwibGFzdERlY29kZVZpZGVvUmVjZWl2ZXJTdGF0c1wiLG5ldyBNYXApfWFzeW5jIHVwZGF0ZVN0YXRzKCl7Y29uc3QgZT1hd2FpdCB0aGlzLl9nZXRTdGF0cygpLHQ9dGhpcy5zdGF0c1Jlc3BvbnNlc1RvT2JqZWN0cyhlKTt0aGlzLl9zdGF0cz1oeChteCk7Y29uc3QgaT10LmZpbHRlcigoZT0+XCJzc3JjXCI9PT1lLnR5cGUpKTt0aGlzLnByb2Nlc3NTU1JDU3RhdHMoaSk7Y29uc3Qgbj10LmZpbmQoKGU9PlwiVmlkZW9Cd2VcIj09PWUudHlwZSkpO24mJnRoaXMucHJvY2Vzc0JhbmR3aWR0aFN0YXRzKG4pLHRoaXMuX3N0YXRzLnRpbWVzdGFtcD1EYXRlLm5vdygpLHRoaXMuY2FsY0xvc3NSYXRlKHRoaXMuX3N0YXRzKSx0aGlzLnN0YXRzPXRoaXMuX3N0YXRzfXByb2Nlc3NCYW5kd2lkdGhTdGF0cyhlKXt0aGlzLl9zdGF0cy5iaXRyYXRlPXthY3R1YWxFbmNvZGVkOk51bWJlcihlLmdvb2dBY3R1YWxFbmNCaXRyYXRlKSx0YXJnZXRFbmNvZGVkOk51bWJlcihlLmdvb2dUYXJnZXRFbmNCaXRyYXRlKSxyZXRyYW5zbWl0Ok51bWJlcihlLmdvb2dSZXRyYW5zbWl0Qml0cmF0ZSksdHJhbnNtaXQ6TnVtYmVyKGUuZ29vZ1RyYW5zbWl0Qml0cmF0ZSl9LHRoaXMuX3N0YXRzLnNlbmRCYW5kd2lkdGg9TnVtYmVyKGUuZ29vZ0F2YWlsYWJsZVNlbmRCYW5kd2lkdGgpfXByb2Nlc3NTU1JDU3RhdHMoZSl7ZS5mb3JFYWNoKChlPT57dmFyIHQ7Y29uc3QgaT1Ebih0PWUuaWQpLmNhbGwodCxcInNlbmRcIik7c3dpdGNoKFwiXCIuY29uY2F0KGUubWVkaWFUeXBlLFwiX1wiKS5jb25jYXQoaT9cInNlbmRcIjpcInJlY3ZcIikpe2Nhc2VcInZpZGVvX3NlbmRcIjp7Y29uc3QgdD1oeChUeCk7dC5jb2RlYz1lLmdvb2dDb2RlY05hbWUsdC5hZGFwdGlvbkNoYW5nZVJlYXNvbj1cIm5vbmVcIixlLmdvb2dDcHVMaW1pdGVkUmVzb2x1dGlvbiYmKHQuYWRhcHRpb25DaGFuZ2VSZWFzb249XCJjcHVcIiksZS5nb29nQmFuZHdpZHRoTGltaXRlZFJlc29sdXRpb24mJih0LmFkYXB0aW9uQ2hhbmdlUmVhc29uPVwiYmFuZHdpZHRoXCIpLHQuYXZnRW5jb2RlTXM9TnVtYmVyKGUuZ29vZ0F2Z0VuY29kZU1zKSx0LmlucHV0RnJhbWU9e3dpZHRoOk51bWJlcihlLmdvb2dGcmFtZVdpZHRoSW5wdXQpfHxOdW1iZXIoZS5nb29nRnJhbWVXaWR0aFNlbnQpLGhlaWdodDpOdW1iZXIoZS5nb29nRnJhbWVIZWlnaHRJbnB1dCl8fE51bWJlcihlLmdvb2dGcmFtZUhlaWdodFNlbnQpLGZyYW1lUmF0ZTpOdW1iZXIoZS5nb29nRnJhbWVSYXRlSW5wdXQpfSx0LnNlbnRGcmFtZT17d2lkdGg6TnVtYmVyKGUuZ29vZ0ZyYW1lV2lkdGhTZW50KSxoZWlnaHQ6TnVtYmVyKGUuZ29vZ0ZyYW1lSGVpZ2h0U2VudCksZnJhbWVSYXRlOk51bWJlcihlLmdvb2dGcmFtZVJhdGVJbnB1dCl9LHQuZmlyc0NvdW50PU51bWJlcihlLmdvb2dGaXJSZWNlaXZlZCksdC5uYWNrc0NvdW50PU51bWJlcihlLmdvb2dOYWNrc1JlY2VpdmVkKSx0LnBsaXNDb3VudD1OdW1iZXIoZS5nb29nUGxpc1JlY2VpdmVkKSx0LmZyYW1lQ291bnQ9TnVtYmVyKGUuZnJhbWVzRW5jb2RlZCksdC5ieXRlcz1OdW1iZXIoZS5ieXRlc1NlbnQpLHQucGFja2V0cz1OdW1iZXIoZS5wYWNrZXRzU2VudCksdC5wYWNrZXRzTG9zdD1OdW1iZXIoZS5wYWNrZXRzTG9zdCksdC5zc3JjPU51bWJlcihlLnNzcmMpLHQucnR0TXM9TnVtYmVyKGUuZ29vZ1J0dHx8MCksdGhpcy5fc3RhdHMudmlkZW9TZW5kLnB1c2godCksdGhpcy5fc3RhdHMucnR0PXQucnR0TXM7YnJlYWt9Y2FzZVwidmlkZW9fcmVjdlwiOntjb25zdCB0PWh4KGZ4KSxpPXRoaXMubGFzdERlY29kZVZpZGVvUmVjZWl2ZXJTdGF0cy5nZXQoTnVtYmVyKGUuc3NyYykpO2lmKHQuY29kZWM9ZS5nb29nQ29kZWNOYW1lLHQudGFyZ2V0RGVsYXlNcz1OdW1iZXIoZS5nb29nVGFyZ2V0RGVsYXlNcyksdC5yZW5kZXJEZWxheU1zPU51bWJlcihlLmdvb2dSZW5kZXJEZWxheU1zKSx0LmN1cnJlbnREZWxheU1zPU51bWJlcihlLmdvb2dDdXJyZW50RGVsYXlNcyksdC5taW5QbGF5b3V0RGVsYXlNcz1OdW1iZXIoZS5nb29nTWluUGxheW91dERlbGF5TXMpLHQuZGVjb2RlTXM9TnVtYmVyKGUuZ29vZ0RlY29kZU1zKSx0Lm1heERlY29kZU1zPU51bWJlcihlLmdvb2dNYXhEZWNvZGVNcyksdC5yZWNlaXZlZEZyYW1lPXt3aWR0aDpOdW1iZXIoZS5nb29nRnJhbWVXaWR0aFJlY2VpdmVkKSxoZWlnaHQ6TnVtYmVyKGUuZ29vZ0ZyYW1lSGVpZ2h0UmVjZWl2ZWQpLGZyYW1lUmF0ZTpOdW1iZXIoZS5nb29nRnJhbWVSYXRlUmVjZWl2ZWQpfSx0LmRlY29kZWRGcmFtZT17d2lkdGg6TnVtYmVyKGUuZ29vZ0ZyYW1lV2lkdGhSZWNlaXZlZCksaGVpZ2h0Ok51bWJlcihlLmdvb2dGcmFtZUhlaWdodFJlY2VpdmVkKSxmcmFtZVJhdGU6TnVtYmVyKGUuZ29vZ0ZyYW1lUmF0ZURlY29kZWQpfSx0LmRlY29kZUZyYW1lUmF0ZT1OdW1iZXIoZS5nb29nRnJhbWVSYXRlRGVjb2RlZCksdC5vdXRwdXRGcmFtZT17d2lkdGg6TnVtYmVyKGUuZ29vZ0ZyYW1lV2lkdGhSZWNlaXZlZCksaGVpZ2h0Ok51bWJlcihlLmdvb2dGcmFtZUhlaWdodFJlY2VpdmVkKSxmcmFtZVJhdGU6TnVtYmVyKGUuZ29vZ0ZyYW1lUmF0ZU91dHB1dCl9LHQuaml0dGVyQnVmZmVyTXM9TnVtYmVyKGUuZ29vZ0ppdHRlckJ1ZmZlck1zKSx0LmZpcnNDb3VudD1OdW1iZXIoZS5nb29nRmlyc1NlbnQpLHQubmFja3NDb3VudD1OdW1iZXIoZS5nb29nTmFja3NTZW50KSx0LnBsaXNDb3VudD1OdW1iZXIoZS5nb29nUGxpc1NlbnQpLHQuZnJhbWVzRGVjb2RlQ291bnQ9TnVtYmVyKGUuZnJhbWVzRGVjb2RlZCksdC5ieXRlcz1OdW1iZXIoZS5ieXRlc1JlY2VpdmVkKSx0LnBhY2tldHM9TnVtYmVyKGUucGFja2V0c1JlY2VpdmVkKSx0LnBhY2tldHNMb3N0PU51bWJlcihlLnBhY2tldHNMb3N0KSx0LnNzcmM9TnVtYmVyKGUuc3NyYyksdC5wYWNrZXRzPjAmJiF0aGlzLmlzRmlyc3RWaWRlb1JlY2VpdmVkW3Quc3NyY10mJih0aGlzLm9uRmlyc3RWaWRlb1JlY2VpdmVkJiZ0aGlzLm9uRmlyc3RWaWRlb1JlY2VpdmVkKHQuc3NyYyksdGhpcy5pc0ZpcnN0VmlkZW9SZWNlaXZlZFt0LnNzcmNdPSEwKSx0LmZyYW1lc0RlY29kZUNvdW50PjAmJiF0aGlzLmlzRmlyc3RWaWRlb0RlY29kZWRbdC5zc3JjXSYmKHRoaXMub25GaXJzdFZpZGVvRGVjb2RlZCYmdGhpcy5vbkZpcnN0VmlkZW9EZWNvZGVkKHQuc3NyYyx0LmRlY29kZWRGcmFtZS53aWR0aCx0LmRlY29kZWRGcmFtZS5oZWlnaHQpLHRoaXMuaXNGaXJzdFZpZGVvRGVjb2RlZFt0LnNzcmNdPSEwKSxpKXtjb25zdCBuPWkuc3RhdHMscj1EYXRlLm5vdygpLWkubHRzO3QuZnJhbWVzRGVjb2RlRnJlZXplVGltZT1uLmZyYW1lc0RlY29kZUZyZWV6ZVRpbWUsdC5mcmFtZXNEZWNvZGVJbnRlcnZhbD1uLmZyYW1lc0RlY29kZUludGVydmFsLHQuZnJhbWVzRGVjb2RlQ291bnQ+bi5mcmFtZXNEZWNvZGVDb3VudCYmdGhpcy5pc0ZpcnN0VmlkZW9EZWNvZGVkW3Quc3NyY10/KGkubHRzPURhdGUubm93KCksdC5mcmFtZXNEZWNvZGVJbnRlcnZhbD1yLHQuZnJhbWVzRGVjb2RlSW50ZXJ2YWw+PXRoaXMub3B0aW9ucy5mcmVlemVSYXRlTGltaXQmJih0aGlzLmdldFZpZGVvSXNSZWFkeShwYXJzZUludChlLnNzcmMsMTApKT90LmZyYW1lc0RlY29kZUZyZWV6ZVRpbWUrPXQuZnJhbWVzRGVjb2RlSW50ZXJ2YWw6dGhpcy5zZXRWaWRlb0lzUmVhZHkyKHBhcnNlSW50KGUuc3NyYywxMCksITApKSk6dC5mcmFtZXNEZWNvZGVDb3VudDxpLnN0YXRzLmZyYW1lc0RlY29kZUNvdW50JiYodC5mcmFtZXNEZWNvZGVJbnRlcnZhbD0wKX10aGlzLmxhc3REZWNvZGVWaWRlb1JlY2VpdmVyU3RhdHMuc2V0KHQuc3NyYyx7c3RhdHM6eXgoe30sdCksbHRzOkRhdGUubm93KCl9KSx0aGlzLl9zdGF0cy52aWRlb1JlY3YucHVzaCh0KTticmVha31jYXNlXCJhdWRpb19yZWN2XCI6e2NvbnN0IHQ9aHgoZ3gpO3QuY29kZWM9ZS5nb29nQ29kZWNOYW1lLHQub3V0cHV0TGV2ZWw9TWF0aC5hYnMoTnVtYmVyKGUuYXVkaW9PdXRwdXRMZXZlbCkpLzMyNzY3LHQuZGVjb2RpbmdDTkc9TnVtYmVyKGUuZ29vZ0RlY29kaW5nQ05HKSx0LmRlY29kaW5nQ1ROPU51bWJlcihlLmdvb2dEZWNvZGluZ0NUTiksdC5kZWNvZGluZ0NUU0c9TnVtYmVyKGUuZ29vZ0RlY29kaW5nQ1RTRyksdC5kZWNvZGluZ05vcm1hbD1OdW1iZXIoZS5nb29nRGVjb2RpbmdOb3JtYWwpLHQuZGVjb2RpbmdQTEM9TnVtYmVyKGUuZ29vZ0RlY29kaW5nUExDKSx0LmRlY29kaW5nUExDQ05HPU51bWJlcihlLmdvb2dEZWNvZGluZ1BMQ0NORyksdC5leHBhbmRSYXRlPU51bWJlcihlLmdvb2dFeHBhbmRSYXRlKSx0LmFjY2VsZXJhdGVSYXRlPU51bWJlcihlLmdvb2dBY2NlbGVyYXRlUmF0ZSksdC5wcmVlbXB0aXZlRXhwYW5kUmF0ZT1OdW1iZXIoZS5nb29nUHJlZW1wdGl2ZUV4cGFuZFJhdGUpLHQuc2Vjb25kYXJ5RGVjb2RlZFJhdGU9TnVtYmVyKGUuZ29vZ1NlY29uZGFyeURlY29kZWRSYXRlKSx0LnNwZWVjaEV4cGFuZFJhdGU9TnVtYmVyKGUuZ29vZ1NwZWVjaEV4cGFuZFJhdGUpLHQucHJlZmVycmVkSml0dGVyQnVmZmVyTXM9TnVtYmVyKGUuZ29vZ1ByZWZlcnJlZEppdHRlckJ1ZmZlck1zKSx0LmppdHRlckJ1ZmZlck1zPU51bWJlcihlLmdvb2dKaXR0ZXJCdWZmZXJNcyksdC5qaXR0ZXJNcz1OdW1iZXIoZS5nb29nSml0dGVyUmVjZWl2ZWQpLHQuYnl0ZXM9TnVtYmVyKGUuYnl0ZXNSZWNlaXZlZCksdC5wYWNrZXRzPU51bWJlcihlLnBhY2tldHNSZWNlaXZlZCksdC5wYWNrZXRzTG9zdD1OdW1iZXIoZS5wYWNrZXRzTG9zdCksdC5zc3JjPU51bWJlcihlLnNzcmMpLHQucmVjZWl2ZWRGcmFtZXM9TnVtYmVyKGUuZ29vZ0RlY29kaW5nQ1ROKXx8TnVtYmVyKGUucGFja2V0c1JlY2VpdmVkKSx0LmRyb3BwZWRGcmFtZXM9TnVtYmVyKGUuZ29vZ0RlY29kaW5nUExDKStOdW1iZXIoZS5nb29nRGVjb2RpbmdQTENDTkcpfHxOdW1iZXIoZS5wYWNrZXRzTG9zdCksdC5yZWNlaXZlZEZyYW1lcz4wJiYhdGhpcy5pc0ZpcnN0QXVkaW9SZWNlaXZlZFt0LnNzcmNdJiYodGhpcy5vbkZpcnN0QXVkaW9SZWNlaXZlZCYmdGhpcy5vbkZpcnN0QXVkaW9SZWNlaXZlZCh0LnNzcmMpLHRoaXMuaXNGaXJzdEF1ZGlvUmVjZWl2ZWRbdC5zc3JjXT0hMCksdC5kZWNvZGluZ05vcm1hbD4wJiYhdGhpcy5pc0ZpcnN0QXVkaW9EZWNvZGVkW3Quc3NyY10mJih0aGlzLm9uRmlyc3RBdWRpb0RlY29kZWQmJnRoaXMub25GaXJzdEF1ZGlvRGVjb2RlZCh0LnNzcmMpLHRoaXMuaXNGaXJzdEF1ZGlvRGVjb2RlZFt0LnNzcmNdPSEwKSx0aGlzLl9zdGF0cy5hdWRpb1JlY3YucHVzaCh0KTticmVha31jYXNlXCJhdWRpb19zZW5kXCI6e2NvbnN0IHQ9aHgoU3gpO3QuY29kZWM9ZS5nb29nQ29kZWNOYW1lLHQuaW5wdXRMZXZlbD1NYXRoLmFicyhOdW1iZXIoZS5hdWRpb0lucHV0TGV2ZWwpKS8zMjc2Nyx0LmFlY1JldHVybkxvc3M9TnVtYmVyKGUuZ29vZ0VjaG9DYW5jZWxsYXRpb25SZXR1cm5Mb3NzfHwwKSx0LmFlY1JldHVybkxvc3NFbmhhbmNlbWVudD1OdW1iZXIoZS5nb29nRWNob0NhbmNlbGxhdGlvblJldHVybkxvc3NFbmhhbmNlbWVudHx8MCksdC5yZXNpZHVhbEVjaG9MaWtlbGlob29kPU51bWJlcihlLmdvb2dSZXNpZHVhbEVjaG9MaWtlbGlob29kfHwwKSx0LnJlc2lkdWFsRWNob0xpa2VsaWhvb2RSZWNlbnRNYXg9TnVtYmVyKGUuZ29vZ1Jlc2lkdWFsRWNob0xpa2VsaWhvb2RSZWNlbnRNYXh8fDApLHQuYnl0ZXM9TnVtYmVyKGUuYnl0ZXNTZW50KSx0LnBhY2tldHM9TnVtYmVyKGUucGFja2V0c1NlbnQpLHQucGFja2V0c0xvc3Q9TnVtYmVyKGUucGFja2V0c0xvc3QpLHQuc3NyYz1OdW1iZXIoZS5zc3JjKSx0LnJ0dE1zPU51bWJlcihlLmdvb2dSdHR8fDApLHRoaXMuX3N0YXRzLnJ0dD10LnJ0dE1zLHRoaXMuX3N0YXRzLmF1ZGlvU2VuZC5wdXNoKHQpO2JyZWFrfX19KSl9X2dldFN0YXRzKCl7cmV0dXJuIG5ldyBHaCgoKGUsdCk9Pnt0aGlzLnBjLmdldFN0YXRzKGUsdCl9KSl9c3RhdHNSZXNwb25zZXNUb09iamVjdHMoZSl7Y29uc3QgdD1bXTtyZXR1cm4gZS5yZXN1bHQoKS5mb3JFYWNoKChlPT57Y29uc3QgaT17aWQ6ZS5pZCx0aW1lc3RhbXA6ZS50aW1lc3RhbXAudmFsdWVPZigpLnRvU3RyaW5nKCksdHlwZTplLnR5cGV9O2UubmFtZXMoKS5mb3JFYWNoKCh0PT57aVt0XT1lLnN0YXQodCl9KSksdC5wdXNoKGkpfSkpLHR9fWZ1bmN0aW9uIGJ4KGUsdCl7dmFyIGk9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYobj1uLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxpLnB1c2guYXBwbHkoaSxuKX1yZXR1cm4gaX1mdW5jdGlvbiB3eChlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgaT1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9ieChPYmplY3QoaSksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe29nKGUsdCxpW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKGkpKTpieChPYmplY3QoaSkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpLHQpKX0pKX1yZXR1cm4gZX1jbGFzcyBPeCBleHRlbmRzIEl4e2NvbnN0cnVjdG9yKCl7c3VwZXIoLi4uYXJndW1lbnRzKSxvZyh0aGlzLFwiX3N0YXRzXCIsbXgpLG9nKHRoaXMsXCJyZXBvcnRcIix2b2lkIDApLG9nKHRoaXMsXCJsYXN0RGVjb2RlVmlkZW9SZWNlaXZlclN0YXRzXCIsbmV3IE1hcCksb2codGhpcyxcImxhc3RWaWRlb0ZyYW1lc1JlY3ZcIixuZXcgTWFwKSxvZyh0aGlzLFwibGFzdFZpZGVvRnJhbWVzU2VudFwiLG5ldyBNYXApLG9nKHRoaXMsXCJsYXN0VmlkZW9GcmFtZXNEZWNvZGVcIixuZXcgTWFwKSxvZyh0aGlzLFwibGFzdFZpZGVvRnJhbWVzT3V0cHV0XCIsbmV3IE1hcCksb2codGhpcyxcImxhc3RWaWRlb0pCRGVsYXlcIixuZXcgTWFwKSxvZyh0aGlzLFwibGFzdEF1ZGlvSkJEZWxheVwiLG5ldyBNYXApLG9nKHRoaXMsXCJtZWRpYUJ5dGVzU2VudFwiLG5ldyBNYXApLG9nKHRoaXMsXCJtZWRpYUJ5dGVzUmV0cmFuc21pdFwiLG5ldyBNYXApLG9nKHRoaXMsXCJtZWRpYUJ5dGVzVGFyZ2V0RW5jb2RlXCIsbmV3IE1hcCksb2codGhpcyxcImxhc3RFbmNvZGVyTXNcIixuZXcgTWFwKX1hc3luYyB1cGRhdGVTdGF0cygpe3RoaXMucmVwb3J0PWF3YWl0IHRoaXMucGMuZ2V0U3RhdHMoKSx0aGlzLl9zdGF0cz1oeChteCksdGhpcy5yZXBvcnQuZm9yRWFjaCgoZT0+e3N3aXRjaChlLnR5cGUpe2Nhc2Ugc2IuT1VUQk9VTkQ6Y2FzZSBzYi5JTkJPVU5EOntjb25zdCB0PWUubWVkaWFUeXBlfHxlLmtpbmQsaT0hdCYmXCJmcmFtZVdpZHRoXCJpbiBlLG49IXQmJiEoXCJmcmFtZVdpZHRoXCJpbiBlKTtlLnR5cGU9PT1zYi5PVVRCT1VORD9cImF1ZGlvXCI9PT10fHxuP3RoaXMucHJvY2Vzc0F1ZGlvT3V0Ym91bmRTdGF0cyhlKTooXCJ2aWRlb1wiPT09dHx8aSkmJnRoaXMucHJvY2Vzc1ZpZGVvT3V0Ym91bmRTdGF0cyhlKTplLnR5cGU9PT1zYi5JTkJPVU5EJiYoXCJhdWRpb1wiPT09dHx8bj90aGlzLnByb2Nlc3NBdWRpb0luYm91bmRTdGF0cyhlKTooXCJ2aWRlb1wiPT09dHx8aSkmJnRoaXMucHJvY2Vzc1ZpZGVvSW5ib3VuZFN0YXRzKGUpKTticmVha31jYXNlIHNiLlRSQU5TUE9SVDp7Y29uc3QgdD10aGlzLnJlcG9ydC5nZXQoZS5zZWxlY3RlZENhbmRpZGF0ZVBhaXJJZCk7dCYmdGhpcy5wcm9jZXNzQ2FuZGlkYXRlUGFpclN0YXRzKHQpO2JyZWFrfWNhc2Ugc2IuQ0FORElEQVRFX1BBSVI6ZS5zZWxlY3RlZCYmdGhpcy5wcm9jZXNzQ2FuZGlkYXRlUGFpclN0YXRzKGUpfX0pKSx0aGlzLnVwZGF0ZVNlbmRCaXRyYXRlKCksdGhpcy5fc3RhdHMudGltZXN0YW1wPURhdGUubm93KCksdGhpcy5jYWxjTG9zc1JhdGUodGhpcy5fc3RhdHMpLHRoaXMuc3RhdHM9dGhpcy5fc3RhdHN9YXN5bmMgZ2V0U2VsZWN0ZWRDYW5kaWRhdGVQYWlyKCl7Y29uc3QgZT1hd2FpdCB0aGlzLnBjLmdldFN0YXRzKCksdD17bG9jYWw6d3goe30sRXgpLHJlbW90ZTp3eCh7fSxFeCl9O3JldHVybiBlLmZvckVhY2goKGk9PntsZXQgbjtpZihpLnR5cGU9PT1zYi5UUkFOU1BPUlQmJihuPWUuZ2V0KGkuc2VsZWN0ZWRDYW5kaWRhdGVQYWlySWQpKSxpLnR5cGU9PT1zYi5DQU5ESURBVEVfUEFJUiYmaS5zZWxlY3RlZCYmKG49aSksbil7Y29uc3QgaT0oZSx0KT0+e2UudHlwZT10LnR5cGUsZS5pZD10LmlkLHQuYWRkcmVzcyYmKGUuYWRkcmVzcz10LmFkZHJlc3MpLHQuY2FuZGlkYXRlVHlwZSYmKGUuY2FuZGlkYXRlVHlwZT10LmNhbmRpZGF0ZVR5cGUpLHQucG9ydCYmKGUucG9ydD10LnBvcnQpLHQucHJpb3JpdHkmJihlLnByaW9yaXR5PXQucHJpb3JpdHkpLHQucHJvdG9jb2wmJihlLnByb3RvY29sPXQucHJvdG9jb2wpLHQucmVsYXlQcm90b2NvbCYmKGUucmVsYXlQcm90b2NvbD10LnJlbGF5UHJvdG9jb2wpfTtpZihuLmxvY2FsQ2FuZGlkYXRlSWQpe2NvbnN0IHI9ZS5nZXQobi5sb2NhbENhbmRpZGF0ZUlkKTtyJiZpKHQubG9jYWwscil9aWYobi5yZW1vdGVDYW5kaWRhdGVJZCl7Y29uc3Qgcj1lLmdldChuLnJlbW90ZUNhbmRpZGF0ZUlkKTtyJiZpKHQucmVtb3RlLHIpfX19KSksdH1wcm9jZXNzQ2FuZGlkYXRlUGFpclN0YXRzKGUpe2lmKHRoaXMuX3N0YXRzLnNlbmRCYW5kd2lkdGg9ZS5hdmFpbGFibGVPdXRnb2luZ0JpdHJhdGV8fDAsZS5jdXJyZW50Um91bmRUcmlwVGltZSYmKHRoaXMuX3N0YXRzLnJ0dD0xZTMqZS5jdXJyZW50Um91bmRUcmlwVGltZSksdGhpcy5fc3RhdHMudmlkZW9TZW5kLmZvckVhY2goKHQ9PntlLmN1cnJlbnRSb3VuZFRyaXBUaW1lJiYodC5ydHRNcz0xZTMqZS5jdXJyZW50Um91bmRUcmlwVGltZSl9KSksdGhpcy5fc3RhdHMuYXVkaW9TZW5kLmZvckVhY2goKHQ9PntlLmN1cnJlbnRSb3VuZFRyaXBUaW1lJiYodC5ydHRNcz0xZTMqZS5jdXJyZW50Um91bmRUcmlwVGltZSl9KSksdGhpcy5fc3RhdHMuc2VsZWN0ZWRDYW5kaWRhdGVQYWlyLmlkPWUuaWQsZS5sb2NhbENhbmRpZGF0ZUlkKXtjb25zdCB0PXRoaXMucmVwb3J0LmdldChlLmxvY2FsQ2FuZGlkYXRlSWQpO3QmJnRoaXMucHJvY2Vzc0NhbmRpZGF0ZVN0YXRzKHQpfWlmKGUucmVtb3RlQ2FuZGlkYXRlSWQpe2NvbnN0IHQ9dGhpcy5yZXBvcnQuZ2V0KGUucmVtb3RlQ2FuZGlkYXRlSWQpO3QmJnRoaXMucHJvY2Vzc0NhbmRpZGF0ZVN0YXRzKHQpfX1wcm9jZXNzQ2FuZGlkYXRlU3RhdHMoZSl7bGV0IHQ7ZS50eXBlPT09c2IuTE9DQUxfQ0FORElEQVRFJiYodD10aGlzLl9zdGF0cy5zZWxlY3RlZENhbmRpZGF0ZVBhaXIubG9jYWxDYW5kaWRhdGUpLGUudHlwZT09PXNiLlJFTU9URV9DQU5ESURBVEUmJih0PXRoaXMuX3N0YXRzLnNlbGVjdGVkQ2FuZGlkYXRlUGFpci5yZW1vdGVDYW5kaWRhdGUpLHQmJih0LnR5cGU9ZS50eXBlLHQuaWQ9ZS5pZCxlLmFkZHJlc3MmJih0LmFkZHJlc3M9ZS5hZGRyZXNzKSxlLmNhbmRpZGF0ZVR5cGUmJih0LmNhbmRpZGF0ZVR5cGU9ZS5jYW5kaWRhdGVUeXBlKSxlLnBvcnQmJih0LnBvcnQ9ZS5wb3J0KSxlLnByaW9yaXR5JiYodC5wcmlvcml0eT1lLnByaW9yaXR5KSxlLnByb3RvY29sJiYodC5wcm90b2NvbD1lLnByb3RvY29sKSxlLnJlbGF5UHJvdG9jb2wmJih0LnJlbGF5UHJvdG9jb2w9ZS5yZWxheVByb3RvY29sKSxlLnR5cGU9PT1zYi5MT0NBTF9DQU5ESURBVEUmJnRoaXMuc3RhdHMuc2VsZWN0ZWRDYW5kaWRhdGVQYWlyLmxvY2FsQ2FuZGlkYXRlLmlkIT09dC5pZCYmdGhpcy5vblNlbGVjdGVkTG9jYWxDYW5kaWRhdGVDaGFuZ2VkJiZ0aGlzLm9uU2VsZWN0ZWRMb2NhbENhbmRpZGF0ZUNoYW5nZWQod3goe30sdCksd3goe30sdGhpcy5zdGF0cy5zZWxlY3RlZENhbmRpZGF0ZVBhaXIubG9jYWxDYW5kaWRhdGUpKSxlLnR5cGU9PT1zYi5SRU1PVEVfQ0FORElEQVRFJiZ0aGlzLnN0YXRzLnNlbGVjdGVkQ2FuZGlkYXRlUGFpci5yZW1vdGVDYW5kaWRhdGUuaWQhPT10LmlkJiZ0aGlzLm9uU2VsZWN0ZWRSZW1vdGVDYW5kaWRhdGVDaGFuZ2VkJiZ0aGlzLm9uU2VsZWN0ZWRSZW1vdGVDYW5kaWRhdGVDaGFuZ2VkKHd4KHt9LHQpLHd4KHt9LHRoaXMuc3RhdHMuc2VsZWN0ZWRDYW5kaWRhdGVQYWlyLnJlbW90ZUNhbmRpZGF0ZSkpKX1wcm9jZXNzQXVkaW9JbmJvdW5kU3RhdHMoZSl7bGV0IHQ9dGhpcy5fc3RhdHMuYXVkaW9SZWN2LmZpbmQoKHQ9PnQuc3NyYz09PWUuc3NyYykpO3R8fCh0PWh4KGd4KSx0aGlzLl9zdGF0cy5hdWRpb1JlY3YucHVzaCh0KSksdC5zc3JjPWUuc3NyYyx0LnBhY2tldHM9ZS5wYWNrZXRzUmVjZWl2ZWQsdC5wYWNrZXRzTG9zdD1lLnBhY2tldHNMb3N0LHQucGFja2V0c0Rpc2NhcmRlZD1lLnBhY2tldHNEaXNjYXJkZWQsdC5ieXRlcz1lLmJ5dGVzUmVjZWl2ZWQsdC5qaXR0ZXJNcz0xZTMqZS5qaXR0ZXIsdGhpcy5wcm9jZXNzQXVkaW9UcmFja1JlY2VpdmVyU3RhdHMoZSxlLnRyYWNrSWQsdCksZS5jb2RlY0lkJiYodC5jb2RlYz10aGlzLmdldENvZGVjRnJvbUNvZGVjU3RhdHMoZS5jb2RlY0lkKSksdC5yZWNlaXZlZEZyYW1lc3x8KHQucmVjZWl2ZWRGcmFtZXM9ZS5wYWNrZXRzUmVjZWl2ZWQpLHQuZHJvcHBlZEZyYW1lc3x8KHQuZHJvcHBlZEZyYW1lcz1lLnBhY2tldHNMb3N0KSx0LnJlY2VpdmVkRnJhbWVzPjAmJiF0aGlzLmlzRmlyc3RBdWRpb1JlY2VpdmVkW3Quc3NyY10mJih0aGlzLm9uRmlyc3RBdWRpb1JlY2VpdmVkJiZ0aGlzLm9uRmlyc3RBdWRpb1JlY2VpdmVkKHQuc3NyYyksdGhpcy5pc0ZpcnN0QXVkaW9SZWNlaXZlZFt0LnNzcmNdPSEwKSx0Lm91dHB1dExldmVsJiZ0Lm91dHB1dExldmVsPjAmJiF0aGlzLmlzRmlyc3RBdWRpb0RlY29kZWRbdC5zc3JjXSYmKHRoaXMub25GaXJzdEF1ZGlvRGVjb2RlZCYmdGhpcy5vbkZpcnN0QXVkaW9EZWNvZGVkKHQuc3NyYyksdGhpcy5pc0ZpcnN0QXVkaW9EZWNvZGVkW3Quc3NyY109ITApLFwibnVtYmVyXCI9PXR5cGVvZiBlLmNvbmNlYWxlZFNhbXBsZXMmJih0LmNvbmNlYWxlZFNhbXBsZXM9ZS5jb25jZWFsZWRTYW1wbGVzKX1wcm9jZXNzVmlkZW9JbmJvdW5kU3RhdHMoZSl7bGV0IHQ9dGhpcy5fc3RhdHMudmlkZW9SZWN2LmZpbmQoKHQ9PnQuc3NyYz09PWUuc3NyYykpO3R8fCh0PWh4KGZ4KSx0aGlzLl9zdGF0cy52aWRlb1JlY3YucHVzaCh0KSksdC5zc3JjPWUuc3NyYyx0LnBhY2tldHM9ZS5wYWNrZXRzUmVjZWl2ZWQsdC5wYWNrZXRzTG9zdD1lLnBhY2tldHNMb3N0LHQuYnl0ZXM9ZS5ieXRlc1JlY2VpdmVkLHQuZmlyc0NvdW50PWUuZmlyQ291bnQsdC5uYWNrc0NvdW50PWUubmFja0NvdW50LHQucGxpc0NvdW50PWUucGxpQ291bnQsdC5mcmFtZXNEZWNvZGVDb3VudD1lLmZyYW1lc0RlY29kZWQsdC5mcmFtZXNEcm9wcGVkQ291bnQ9ZS5mcmFtZXNEcm9wcGVkLHQudG90YWxJbnRlckZyYW1lRGVsYXk9ZS50b3RhbEludGVyRnJhbWVEZWxheSx0LnRvdGFsU3F1YXJlZEludGVyRnJhbWVEZWxheT1lLnRvdGFsU3F1YXJlZEludGVyRnJhbWVEZWxheSx0LnRvdGFsRnJlZXplc0R1cmF0aW9uPWUudG90YWxGcmVlemVzRHVyYXRpb247Y29uc3QgaT10aGlzLmxhc3REZWNvZGVWaWRlb1JlY2VpdmVyU3RhdHMuZ2V0KHQuc3NyYyksbj10aGlzLmxhc3RWaWRlb0ZyYW1lc0RlY29kZS5nZXQodC5zc3JjKSxyPXRoaXMubGFzdFZpZGVvRnJhbWVzT3V0cHV0LmdldCh0LnNzcmMpLG89RGF0ZS5ub3coKTtpZih0LmZyYW1lc0RlY29kZUNvdW50PjAmJiF0aGlzLmlzRmlyc3RWaWRlb0RlY29kZWRbdC5zc3JjXSl7Y29uc3QgZT10LmRlY29kZWRGcmFtZT90LmRlY29kZWRGcmFtZS53aWR0aDowLGk9dC5kZWNvZGVkRnJhbWU/dC5kZWNvZGVkRnJhbWUuaGVpZ2h0OjA7dGhpcy5vbkZpcnN0VmlkZW9EZWNvZGVkJiZ0aGlzLm9uRmlyc3RWaWRlb0RlY29kZWQodC5zc3JjLGUsaSksdGhpcy5pc0ZpcnN0VmlkZW9EZWNvZGVkW3Quc3NyY109ITB9aWYoaSl7Y29uc3Qgbj1pLnN0YXRzLHI9by1pLmx0czt0LmZyYW1lc0RlY29kZUZyZWV6ZVRpbWU9bi5mcmFtZXNEZWNvZGVGcmVlemVUaW1lLHQuZnJhbWVzRGVjb2RlSW50ZXJ2YWw9bi5mcmFtZXNEZWNvZGVJbnRlcnZhbCwhdGhpcy5pc0ZpcnN0VmlkZW9EZWNvZGVkW3Quc3NyY10mJnI+dGhpcy5vcHRpb25zLmZpcnN0VmlkZW9EZWNvZGVkVGltZW91dCYmIXRoaXMuaXNGaXJzdFZpZGVvRGVjb2RlZFRpbWVvdXRbdC5zc3JjXSYmKHRoaXMub25GaXJzdFZpZGVvRGVjb2RlZFRpbWVvdXQmJnRoaXMub25GaXJzdFZpZGVvRGVjb2RlZFRpbWVvdXQodC5zc3JjKSx0aGlzLmlzRmlyc3RWaWRlb0RlY29kZWRUaW1lb3V0W3Quc3NyY109ITApLHQuZnJhbWVzRGVjb2RlQ291bnQ+bi5mcmFtZXNEZWNvZGVDb3VudCYmdGhpcy5pc0ZpcnN0VmlkZW9EZWNvZGVkW3Quc3NyY10/KGkubHRzPURhdGUubm93KCksdC5mcmFtZXNEZWNvZGVJbnRlcnZhbD1yLHQuZnJhbWVzRGVjb2RlSW50ZXJ2YWw+PXRoaXMub3B0aW9ucy5mcmVlemVSYXRlTGltaXQmJih0aGlzLmdldFZpZGVvSXNSZWFkeShwYXJzZUludChlLnNzcmMpKT90LmZyYW1lc0RlY29kZUZyZWV6ZVRpbWUrPXQuZnJhbWVzRGVjb2RlSW50ZXJ2YWw6dGhpcy5zZXRWaWRlb0lzUmVhZHkyKHBhcnNlSW50KGUuc3NyYywxMCksITApKSk6dC5mcmFtZXNEZWNvZGVDb3VudDxuLmZyYW1lc0RlY29kZUNvdW50JiYodC5mcmFtZXNEZWNvZGVJbnRlcnZhbD0wKSxlLmZyYW1lc0RlY29kZWQmJmUucXBTdW0mJihpLnN0YXRzLmZyYW1lc0RlY29kZUNvdW50PmUuZnJhbWVzRGVjb2RlZD90LnFwU3VtUGVyRnJhbWU9ZS5xcFN1bS9lLmZyYW1lc0RlY29kZWQ6dC5xcFN1bVBlckZyYW1lPShlLnFwU3VtLWkucXBTdW0pLyhlLmZyYW1lc0RlY29kZWQtaS5zdGF0cy5mcmFtZXNEZWNvZGVDb3VudCkpfW4mJm8tbi5sdHM+PTgwMD8odC5kZWNvZGVGcmFtZVJhdGU9TWF0aC5yb3VuZCgodC5mcmFtZXNEZWNvZGVDb3VudC1uLmNvdW50KS8oKG8tbi5sdHMpLzFlMykpLHRoaXMubGFzdFZpZGVvRnJhbWVzRGVjb2RlLnNldCh0LnNzcmMse2NvdW50OnQuZnJhbWVzRGVjb2RlQ291bnQsbHRzOm8scmF0ZTp0LmRlY29kZUZyYW1lUmF0ZX0pKTpuP3QuZGVjb2RlRnJhbWVSYXRlPW4ucmF0ZTp0aGlzLmxhc3RWaWRlb0ZyYW1lc0RlY29kZS5zZXQodC5zc3JjLHtjb3VudDp0LmZyYW1lc0RlY29kZUNvdW50LGx0czpvLHJhdGU6MH0pLHQuZnJhbWVzRHJvcHBlZENvdW50JiZlLmZyYW1lc1JlY2VpdmVkJiYociYmby1yLmx0cz49ODAwPyh0Lm91dHB1dEZyYW1lUmF0ZT1NYXRoLnJvdW5kKChlLmZyYW1lc1JlY2VpdmVkLXQuZnJhbWVzRHJvcHBlZENvdW50LXIuY291bnQpLygoby1yLmx0cykvMWUzKSksdGhpcy5sYXN0VmlkZW9GcmFtZXNPdXRwdXQuc2V0KHQuc3NyYyx7Y291bnQ6ZS5mcmFtZXNSZWNlaXZlZC10LmZyYW1lc0Ryb3BwZWRDb3VudCxsdHM6byxyYXRlOk1hdGgubWF4KHQub3V0cHV0RnJhbWVSYXRlLDApfSkpOnI/dC5vdXRwdXRGcmFtZVJhdGU9ci5yYXRlOnRoaXMubGFzdFZpZGVvRnJhbWVzT3V0cHV0LnNldCh0LnNzcmMse2NvdW50OmUuZnJhbWVzUmVjZWl2ZWQtdC5mcmFtZXNEcm9wcGVkQ291bnQsbHRzOm8scmF0ZTowfSkpLGUudG90YWxEZWNvZGVUaW1lJiYodC5kZWNvZGVNcz0xZTMqZS50b3RhbERlY29kZVRpbWUpLHRoaXMucHJvY2Vzc1ZpZGVvVHJhY2tSZWNlaXZlclN0YXRzKGUsZS50cmFja0lkLHQpLGUuY29kZWNJZCYmKHQuY29kZWM9dGhpcy5nZXRDb2RlY0Zyb21Db2RlY1N0YXRzKGUuY29kZWNJZCkpLGUuZnJhbWVyYXRlTWVhbiYmKHQuZnJhbWVzUmF0ZUZpcmVmb3g9ZS5mcmFtZXJhdGVNZWFuKSx0LnBhY2tldHM+MCYmIXRoaXMuaXNGaXJzdFZpZGVvUmVjZWl2ZWRbdC5zc3JjXSYmKHRoaXMub25GaXJzdFZpZGVvUmVjZWl2ZWQmJnRoaXMub25GaXJzdFZpZGVvUmVjZWl2ZWQodC5zc3JjKSx0aGlzLmlzRmlyc3RWaWRlb1JlY2VpdmVkW3Quc3NyY109ITApLHRoaXMubGFzdERlY29kZVZpZGVvUmVjZWl2ZXJTdGF0cy5zZXQodC5zc3JjLHtzdGF0czp3eCh7fSx0KSxsdHM6aT9pLmx0czpEYXRlLm5vdygpLHFwU3VtOmUucXBTdW19KX1wcm9jZXNzVmlkZW9PdXRib3VuZFN0YXRzKGUpe2xldCB0PXRoaXMuX3N0YXRzLnZpZGVvU2VuZC5maW5kKCh0PT50LnNzcmM9PT1lLnNzcmMpKTt0fHwodD1oeChUeCksdGhpcy5fc3RhdHMudmlkZW9TZW5kLnB1c2godCkpO2NvbnN0IGk9dGhpcy5tZWRpYUJ5dGVzU2VudC5nZXQoZS5zc3JjKTtpZihpKWkuYWRkKGUuYnl0ZXNTZW50KTtlbHNle2NvbnN0IHQ9bmV3IF94KDEwKTt0LmFkZChlLmJ5dGVzU2VudCksdGhpcy5tZWRpYUJ5dGVzU2VudC5zZXQoZS5zc3JjLHQpfWlmKHZvaWQgMCE9PWUucmV0cmFuc21pdHRlZEJ5dGVzU2VudCl7Y29uc3QgdD10aGlzLm1lZGlhQnl0ZXNSZXRyYW5zbWl0LmdldChlLnNzcmMpO2lmKHQpdC5hZGQoZS5yZXRyYW5zbWl0dGVkQnl0ZXNTZW50KTtlbHNle2NvbnN0IHQ9bmV3IF94KDEwKTt0LmFkZChlLnJldHJhbnNtaXR0ZWRCeXRlc1NlbnQpLHRoaXMubWVkaWFCeXRlc1JldHJhbnNtaXQuc2V0KGUuc3NyYyx0KX19aWYoZS50b3RhbEVuY29kZWRCeXRlc1RhcmdldCl7Y29uc3QgdD10aGlzLm1lZGlhQnl0ZXNUYXJnZXRFbmNvZGUuZ2V0KGUuc3NyYyk7aWYodCl0LmFkZChlLnRvdGFsRW5jb2RlZEJ5dGVzVGFyZ2V0KTtlbHNle2NvbnN0IHQ9bmV3IF94KDEwKTt0LmFkZChlLnRvdGFsRW5jb2RlZEJ5dGVzVGFyZ2V0KSx0aGlzLm1lZGlhQnl0ZXNUYXJnZXRFbmNvZGUuc2V0KGUuc3NyYyx0KX19aWYodC5zc3JjPWUuc3NyYyx0LmJ5dGVzPWUuYnl0ZXNTZW50LHQucGFja2V0cz1lLnBhY2tldHNTZW50LHQuZmlyc0NvdW50PWUuZmlyQ291bnQsdC5uYWNrc0NvdW50PWUubmFja0NvdW50LHQucGxpc0NvdW50PWUucGxpQ291bnQsdC5mcmFtZUNvdW50PWUuZnJhbWVzRW5jb2RlZCx0LmFkYXB0aW9uQ2hhbmdlUmVhc29uPWUucXVhbGl0eUxpbWl0YXRpb25SZWFzb24sdC5zY2FsYWJpbGl0eU1vZGU9ZS5zY2FsYWJpbGl0eU1vZGUsZS50b3RhbEVuY29kZVRpbWUmJmUuZnJhbWVzRW5jb2RlZCl7Y29uc3QgaT10aGlzLmxhc3RFbmNvZGVyTXMuZ2V0KGUuc3NyYyk7aWYoIWl8fGkubGFzdEZyYW1lQ291bnQ+ZS5mcmFtZXNFbmNvZGVkKXQuYXZnRW5jb2RlTXM9MWUzKmUudG90YWxFbmNvZGVUaW1lL2UuZnJhbWVzRW5jb2RlZDtlbHNle2NvbnN0IG49ZS5mcmFtZXNFbmNvZGVkLWkubGFzdEZyYW1lQ291bnQscj1lLnRvdGFsRW5jb2RlVGltZS1pLmxhc3RFbmNvZGVyVGltZTt0LmF2Z0VuY29kZU1zPTFlMypyL259fWlmKGUuZnJhbWVzRW5jb2RlZCYmZS5xcFN1bSl7Y29uc3QgaT10aGlzLmxhc3RFbmNvZGVyTXMuZ2V0KGUuc3NyYyk7IWl8fGkubGFzdEZyYW1lQ291bnQ+ZS5mcmFtZXNFbmNvZGVkP3QucXBTdW1QZXJGcmFtZT1lLnFwU3VtL2UuZnJhbWVzRW5jb2RlZDp0LnFwU3VtUGVyRnJhbWU9KGUucXBTdW0taS5sYXN0UXBTdW0pLyhlLmZyYW1lc0VuY29kZWQtaS5sYXN0RnJhbWVDb3VudCl9aWYodGhpcy5sYXN0RW5jb2Rlck1zLnNldChlLnNzcmMse2xhc3RGcmFtZUNvdW50OmUuZnJhbWVzRW5jb2RlZCxsYXN0RW5jb2RlclRpbWU6ZS50b3RhbEVuY29kZVRpbWUsbGFzdFFwU3VtOmUucXBTdW0sbHRzOkRhdGUubm93KCl9KSxlLmNvZGVjSWQmJih0LmNvZGVjPXRoaXMuZ2V0Q29kZWNGcm9tQ29kZWNTdGF0cyhlLmNvZGVjSWQpKSxlLm1lZGlhU291cmNlSWQmJnRoaXMucHJvY2Vzc1ZpZGVvTWVkaWFTb3VyY2UoZS5tZWRpYVNvdXJjZUlkLHQpLHRoaXMucHJvY2Vzc1ZpZGVvVHJhY2tTZW5kZXJTdGF0cyhlLGUudHJhY2tJZCx0KSxlLnJlbW90ZUlkKXRoaXMucHJvY2Vzc1JlbW90ZUluYm91bmRTdGF0cyhlLnJlbW90ZUlkLHQpO2Vsc2V7Y29uc3QgaT10aGlzLmZpbmRSZW1vdGVTdGF0c0lkKGUuc3NyYyxzYi5SRU1PVEVfSU5CT1VORCk7aSYmdGhpcy5wcm9jZXNzUmVtb3RlSW5ib3VuZFN0YXRzKGksdCl9fXByb2Nlc3NBdWRpb091dGJvdW5kU3RhdHMoZSl7bGV0IHQ9dGhpcy5fc3RhdHMuYXVkaW9TZW5kLmZpbmQoKHQ9PnQuc3NyYz09PWUuc3NyYykpO2lmKHR8fCh0PWh4KFN4KSx0aGlzLl9zdGF0cy5hdWRpb1NlbmQucHVzaCh0KSksdC5zc3JjPWUuc3NyYyx0LnBhY2tldHM9ZS5wYWNrZXRzU2VudCx0LmJ5dGVzPWUuYnl0ZXNTZW50LGUubWVkaWFTb3VyY2VJZCYmdGhpcy5wcm9jZXNzQXVkaW9NZWRpYVNvdXJjZShlLm1lZGlhU291cmNlSWQsdCksZS5jb2RlY0lkJiYodC5jb2RlYz10aGlzLmdldENvZGVjRnJvbUNvZGVjU3RhdHMoZS5jb2RlY0lkKSksdGhpcy5wcm9jZXNzQXVkaW9UcmFja1NlbmRlclN0YXRzKGUsZS50cmFja0lkLHQpLGUucmVtb3RlSWQpdGhpcy5wcm9jZXNzUmVtb3RlSW5ib3VuZFN0YXRzKGUucmVtb3RlSWQsdCk7ZWxzZXtjb25zdCBpPXRoaXMuZmluZFJlbW90ZVN0YXRzSWQoZS5zc3JjLHNiLlJFTU9URV9JTkJPVU5EKTtpJiZ0aGlzLnByb2Nlc3NSZW1vdGVJbmJvdW5kU3RhdHMoaSx0KX19ZmluZFJlbW90ZVN0YXRzSWQoZSx0KXt2YXIgaTtjb25zdCBuPUFycmF5LmZyb20oUXcoaT10aGlzLnJlcG9ydCkuY2FsbChpKSkuZmluZCgoaT0+aS50eXBlPT09dCYmaS5zc3JjPT09ZSkpO3JldHVybiBuP24uaWQ6bnVsbH1wcm9jZXNzVmlkZW9NZWRpYVNvdXJjZShlLHQpe2NvbnN0IGk9dGhpcy5yZXBvcnQuZ2V0KGUpO2kmJmkud2lkdGgmJmkuaGVpZ2h0JiZpLmZyYW1lc1BlclNlY29uZCYmKHQuaW5wdXRGcmFtZT17d2lkdGg6aS53aWR0aCxoZWlnaHQ6aS5oZWlnaHQsZnJhbWVSYXRlOmkuZnJhbWVzUGVyU2Vjb25kfSl9cHJvY2Vzc0F1ZGlvTWVkaWFTb3VyY2UoZSx0KXtjb25zdCBpPXRoaXMucmVwb3J0LmdldChlKTtpJiYodC5pbnB1dExldmVsPWkuYXVkaW9MZXZlbCl9cHJvY2Vzc1ZpZGVvVHJhY2tTZW5kZXJTdGF0cyhlLHQsaSl7dmFyIG4scixvLHM7Y29uc3QgYT10P3RoaXMucmVwb3J0LmdldCh0KTp2b2lkIDAsYz1udWxsIT09KG49bnVsbD09YT92b2lkIDA6YS5mcmFtZXNTZW50KSYmdm9pZCAwIT09bj9uOmUuZnJhbWVzU2VudDtpZihcIm51bWJlclwiIT10eXBlb2YgYylyZXR1cm47bGV0IGQ9bnVsbCE9PShyPW51bGw9PWE/dm9pZCAwOmEuZnJhbWVXaWR0aCkmJnZvaWQgMCE9PXI/cjplLmZyYW1lV2lkdGgsbD1udWxsIT09KG89bnVsbD09YT92b2lkIDA6YS5mcmFtZUhlaWdodCkmJnZvaWQgMCE9PW8/bzplLmZyYW1lSGVpZ2h0LHU9bnVsbCE9PShzPW51bGw9PWE/dm9pZCAwOmEuZnJhbWVzUGVyU2Vjb25kKSYmdm9pZCAwIT09cz9zOmUuZnJhbWVzUGVyU2Vjb25kO2lmKFwibnVtYmVyXCI9PXR5cGVvZiBkJiZcIm51bWJlclwiPT10eXBlb2YgbHx8KGQ9MCxsPTApLG51bGw9PXUpe2NvbnN0IGU9RGF0ZS5ub3coKSx0PXRoaXMubGFzdFZpZGVvRnJhbWVzU2VudC5nZXQoaS5zc3JjKTt0JiZlLXQubHRzPj04MDA/KHU9TWF0aC5yb3VuZCgoYy10LmNvdW50KS8oKGUtdC5sdHMpLzFlMykpLHRoaXMubGFzdFZpZGVvRnJhbWVzU2VudC5zZXQoaS5zc3JjLHtjb3VudDpjLGx0czplLHJhdGU6dX0pKTp0P3U9dC5yYXRlOnRoaXMubGFzdFZpZGVvRnJhbWVzU2VudC5zZXQoaS5zc3JjLHtjb3VudDpjLGx0czplLHJhdGU6MH0pfWkuc2VudEZyYW1lPXt3aWR0aDpkLGhlaWdodDpsLGZyYW1lUmF0ZTpNYXRoLm1heCgwLHUpfX1wcm9jZXNzVmlkZW9UcmFja1JlY2VpdmVyU3RhdHMoZSx0LGkpe3ZhciBuLHIsbyxzLGE7Y29uc3QgYz10P3RoaXMucmVwb3J0LmdldCh0KTp2b2lkIDAsZD1udWxsIT09KG49bnVsbD09Yz92b2lkIDA6Yy5mcmFtZXNSZWNlaXZlZCkmJnZvaWQgMCE9PW4/bjplLmZyYW1lc1JlY2VpdmVkLGw9bnVsbCE9PShyPW51bGw9PWM/dm9pZCAwOmMuZnJhbWVXaWR0aCkmJnZvaWQgMCE9PXI/cjplLmZyYW1lV2lkdGgsdT1udWxsIT09KG89bnVsbD09Yz92b2lkIDA6Yy5mcmFtZUhlaWdodCkmJnZvaWQgMCE9PW8/bzplLmZyYW1lSGVpZ2h0LGg9bnVsbCE9PShzPW51bGw9PWM/dm9pZCAwOmMuaml0dGVyQnVmZmVyRGVsYXkpJiZ2b2lkIDAhPT1zP3M6ZS5qaXR0ZXJCdWZmZXJEZWxheSxwPW51bGwhPT0oYT1udWxsPT1jP3ZvaWQgMDpjLmppdHRlckJ1ZmZlckVtaXR0ZWRDb3VudCkmJnZvaWQgMCE9PWE/YTplLmppdHRlckJ1ZmZlckVtaXR0ZWRDb3VudDtpZihcIm51bWJlclwiPT10eXBlb2YgZCl7Y29uc3QgZT10aGlzLmxhc3RWaWRlb0ZyYW1lc1JlY3YuZ2V0KGkuc3NyYyksdD1EYXRlLm5vdygpO2kuZnJhbWVzUmVjZWl2ZWRDb3VudD1kO2xldCBuPTA7ZSYmdC1lLmx0cz49ODAwPyhuPU1hdGgucm91bmQoKGQtZS5jb3VudCkvKCh0LWUubHRzKS8xZTMpKSx0aGlzLmxhc3RWaWRlb0ZyYW1lc1JlY3Yuc2V0KGkuc3NyYyx7Y291bnQ6ZCxsdHM6dCxyYXRlOm59KSk6ZT9uPWUucmF0ZTp0aGlzLmxhc3RWaWRlb0ZyYW1lc1JlY3Yuc2V0KGkuc3NyYyx7Y291bnQ6ZCxsdHM6dCxyYXRlOjB9KSxpLnJlY2VpdmVkRnJhbWU9e3dpZHRoOmx8fDAsaGVpZ2h0OnV8fDAsZnJhbWVSYXRlOm58fDB9LGkuZGVjb2RlZEZyYW1lPXt3aWR0aDpsfHwwLGhlaWdodDp1fHwwLGZyYW1lUmF0ZTppLmRlY29kZUZyYW1lUmF0ZXx8MH0saS5vdXRwdXRGcmFtZT17d2lkdGg6bHx8MCxoZWlnaHQ6dXx8MCxmcmFtZVJhdGU6aS5vdXRwdXRGcmFtZVJhdGV8fGkuZGVjb2RlRnJhbWVSYXRlfHwwfX1pZihoJiZwKXtjb25zdCBlPXRoaXMubGFzdFZpZGVvSkJEZWxheS5nZXQoaS5zc3JjKXx8e2ppdHRlckJ1ZmZlckRlbGF5OjAsaml0dGVyQnVmZmVyRW1pdHRlZENvdW50OjAsaml0dGVyQnVmZmVyTXM6MH07bGV0IHQ9ZS5qaXR0ZXJCdWZmZXJNcztjb25zdCBuPXAtZS5qaXR0ZXJCdWZmZXJFbWl0dGVkQ291bnQ7bj4wJiYodD0xZTMqKGgtZS5qaXR0ZXJCdWZmZXJEZWxheSkvbiksaS5qaXR0ZXJCdWZmZXJNcz10LGkuY3VycmVudERlbGF5TXM9TWF0aC5yb3VuZCh0KSx0aGlzLmxhc3RWaWRlb0pCRGVsYXkuc2V0KGkuc3NyYyx7aml0dGVyQnVmZmVyRGVsYXk6aCxqaXR0ZXJCdWZmZXJFbWl0dGVkQ291bnQ6cCxqaXR0ZXJCdWZmZXJNczppLmN1cnJlbnREZWxheU1zfSl9fXByb2Nlc3NBdWRpb1RyYWNrU2VuZGVyU3RhdHMoZSx0LGkpe3ZhciBuLHIsbyxzO2NvbnN0IGE9dD90aGlzLnJlcG9ydC5nZXQodCk6dm9pZCAwLGM9bnVsbCE9PShuPW51bGwhPT0ocj1udWxsPT1hP3ZvaWQgMDphLmVjaG9SZXR1cm5Mb3NzKSYmdm9pZCAwIT09cj9yOmUuZWNob1JldHVybkxvc3MpJiZ2b2lkIDAhPT1uP246MCxkPW51bGwhPT0obz1udWxsIT09KHM9bnVsbD09YT92b2lkIDA6YS5lY2hvUmV0dXJuTG9zc0VuaGFuY2VtZW50KSYmdm9pZCAwIT09cz9zOmUuZWNob1JldHVybkxvc3NFbmhhbmNlbWVudCkmJnZvaWQgMCE9PW8/bzowO2kuYWVjUmV0dXJuTG9zcz1jLGkuYWVjUmV0dXJuTG9zc0VuaGFuY2VtZW50PWR9cHJvY2Vzc0F1ZGlvVHJhY2tSZWNlaXZlclN0YXRzKGUsdCxpKXt2YXIgbixyLG8scyxhLGMsZDtjb25zdCBsPXQ/dGhpcy5yZXBvcnQuZ2V0KHQpOnZvaWQgMCx1PW51bGwhPT0obj1udWxsPT1sP3ZvaWQgMDpsLnJlbW92ZWRTYW1wbGVzRm9yQWNjZWxlcmF0aW9uKSYmdm9pZCAwIT09bj9uOmUucmVtb3ZlZFNhbXBsZXNGb3JBY2NlbGVyYXRpb24saD1udWxsIT09KHI9bnVsbD09bD92b2lkIDA6bC50b3RhbFNhbXBsZXNSZWNlaXZlZCkmJnZvaWQgMCE9PXI/cjplLnRvdGFsU2FtcGxlc1JlY2VpdmVkLHA9bnVsbCE9PShvPW51bGw9PWw/dm9pZCAwOmwuaml0dGVyQnVmZmVyRGVsYXkpJiZ2b2lkIDAhPT1vP286ZS5qaXR0ZXJCdWZmZXJEZWxheSxfPW51bGwhPT0ocz1udWxsPT1sP3ZvaWQgMDpsLmppdHRlckJ1ZmZlckVtaXR0ZWRDb3VudCkmJnZvaWQgMCE9PXM/czplLmppdHRlckJ1ZmZlckVtaXR0ZWRDb3VudCxFPW51bGwhPT0oYT1udWxsPT1sP3ZvaWQgMDpsLmF1ZGlvTGV2ZWwpJiZ2b2lkIDAhPT1hP2E6bnVsbD09ZT92b2lkIDA6ZS5hdWRpb0xldmVsLG09bnVsbCE9PShjPW51bGw9PWw/dm9pZCAwOmwudG90YWxTYW1wbGVzRHVyYXRpb24pJiZ2b2lkIDAhPT1jP2M6bnVsbD09ZT92b2lkIDA6ZS50b3RhbFNhbXBsZXNEdXJhdGlvbixmPW51bGwhPT0oZD1udWxsPT1sP3ZvaWQgMDpsLmNvbmNlYWxlZFNhbXBsZXMpJiZ2b2lkIDAhPT1kP2Q6ZS5jb25jZWFsZWRTYW1wbGVzO2lmKHUmJmgmJihpLmFjY2VsZXJhdGVSYXRlPXUvaCkscCYmXyl7Y29uc3QgZT10aGlzLmxhc3RBdWRpb0pCRGVsYXkuZ2V0KGkuc3NyYyl8fHtqaXR0ZXJCdWZmZXJEZWxheTowLGppdHRlckJ1ZmZlckVtaXR0ZWRDb3VudDowLGppdHRlckJ1ZmZlck1zOjB9O2xldCB0PWUuaml0dGVyQnVmZmVyTXM7Y29uc3Qgbj1fLWUuaml0dGVyQnVmZmVyRW1pdHRlZENvdW50O24+MCYmKHQ9MWUzKihwLWUuaml0dGVyQnVmZmVyRGVsYXkpL24pLGkuaml0dGVyQnVmZmVyTXM9TWF0aC5yb3VuZCh0KSx0aGlzLmxhc3RBdWRpb0pCRGVsYXkuc2V0KGkuc3NyYyx7aml0dGVyQnVmZmVyRGVsYXk6cCxqaXR0ZXJCdWZmZXJFbWl0dGVkQ291bnQ6XyxqaXR0ZXJCdWZmZXJNczppLmppdHRlckJ1ZmZlck1zfSl9aS5vdXRwdXRMZXZlbD1FO2xldCBUPTE5MjA7bSYmaCYmKFQ9aC9tLzUwLGkucmVjZWl2ZWRGcmFtZXM9TWF0aC5yb3VuZChoL1QpKSxmJiYoaS5kcm9wcGVkRnJhbWVzPU1hdGgucm91bmQoZi9UKSl9cHJvY2Vzc1JlbW90ZUluYm91bmRTdGF0cyhlLHQpe2NvbnN0IGk9dGhpcy5yZXBvcnQuZ2V0KGUpO2kmJih0LnBhY2tldHNMb3N0PWkucGFja2V0c0xvc3QsaS5yb3VuZFRyaXBUaW1lJiYodC5ydHRNcz0xZTMqaS5yb3VuZFRyaXBUaW1lKSxpLmppdHRlciYmKHQuaml0dGVyTXM9MWUzKmkuaml0dGVyKSxpLnRpbWVzdGFtcCYmKHQudGltZXN0YW1wPWkudGltZXN0YW1wKSl9Z2V0Q29kZWNGcm9tQ29kZWNTdGF0cyhlKXtjb25zdCB0PXRoaXMucmVwb3J0LmdldChlKTtpZighdClyZXR1cm5cIlwiO2NvbnN0IGk9dC5taW1lVHlwZS5tYXRjaCgvXFwvKC4qKSQvKTtyZXR1cm4gaSYmaVsxXT9pWzFdOlwiXCJ9dXBkYXRlU2VuZEJpdHJhdGUoKXtsZXQgZT0wLHQ9bnVsbCxpPW51bGw7dGhpcy5tZWRpYUJ5dGVzU2VudC5mb3JFYWNoKCh0PT57ZSs9dC5kaWZmTWVhbigpfSkpLHRoaXMubWVkaWFCeXRlc1JldHJhbnNtaXQuZm9yRWFjaCgoZT0+e3Q9bnVsbD09PXQ/ZS5kaWZmTWVhbigpOnQrZS5kaWZmTWVhbigpfSkpLHRoaXMubWVkaWFCeXRlc1RhcmdldEVuY29kZS5mb3JFYWNoKChlPT57aT1udWxsPT09aT9lLmRpZmZNZWFuKCk6aStlLmRpZmZNZWFuKCl9KSk7Y29uc3Qgbj1udWxsIT09dD9lLXQ6ZTt0aGlzLl9zdGF0cy5iaXRyYXRlPXthY3R1YWxFbmNvZGVkOjgqbi8odGhpcy5vcHRpb25zLnVwZGF0ZUludGVydmFsLzFlMyksdHJhbnNtaXQ6OCplLyh0aGlzLm9wdGlvbnMudXBkYXRlSW50ZXJ2YWwvMWUzKX0sbnVsbCE9PXQmJih0aGlzLl9zdGF0cy5iaXRyYXRlLnJldHJhbnNtaXQ9OCp0Lyh0aGlzLm9wdGlvbnMudXBkYXRlSW50ZXJ2YWwvMWUzKSksbnVsbCE9PWkmJih0aGlzLl9zdGF0cy5iaXRyYXRlLnRhcmdldEVuY29kZWQ9OCppLyh0aGlzLm9wdGlvbnMudXBkYXRlSW50ZXJ2YWwvMWUzKSl9fWNsYXNzIE54IGV4dGVuZHMgSXh7dXBkYXRlU3RhdHMoKXtyZXR1cm4gR2gucmVzb2x2ZSgpfX1mdW5jdGlvbiBEeChlKXtsZXQgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06MjUwLGk9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOjgsbj1hcmd1bWVudHMubGVuZ3RoPjMmJnZvaWQgMCE9PWFyZ3VtZW50c1szXT9hcmd1bWVudHNbM106NTAwLHI9YXJndW1lbnRzLmxlbmd0aD40JiZ2b2lkIDAhPT1hcmd1bWVudHNbNF0/YXJndW1lbnRzWzRdOjFlNDtjb25zdCBvPWZ1bmN0aW9uKCl7Y29uc3QgZT1uYXZpZ2F0b3IudXNlckFnZW50LnRvTG9jYWxlTG93ZXJDYXNlKCkubWF0Y2goL2Nocm9tZVxcL1tcXGRdKi9pKTtyZXR1cm4gZSYmZVswXT9OdW1iZXIoZVswXS5zcGxpdChcIi9cIilbMV0pOm51bGx9KCk7cmV0dXJuIG8/bzw3Nj9uZXcgQXgoZSx7dXBkYXRlSW50ZXJ2YWw6dCxsb3NzUmF0ZUludGVydmFsOmksZnJlZXplUmF0ZUxpbWl0Om4sZmlyc3RWaWRlb0RlY29kZWRUaW1lb3V0OnJ9KTpuZXcgT3goZSx7dXBkYXRlSW50ZXJ2YWw6dCxsb3NzUmF0ZUludGVydmFsOmksZnJlZXplUmF0ZUxpbWl0Om4sZmlyc3RWaWRlb0RlY29kZWRUaW1lb3V0OnJ9KTpmdW5jdGlvbihlKXtpZighd2luZG93LlJUQ1N0YXRzUmVwb3J0KXJldHVybiExO2NvbnN0IHQ9ZS5nZXRTdGF0cygpO3JldHVybiEhKHQgaW5zdGFuY2VvZiBHaHx8ZnVuY3Rpb24oZSl7cmV0dXJuISFlJiYoXCJvYmplY3RcIj09dHlwZW9mIGV8fFwiZnVuY3Rpb25cIj09dHlwZW9mIGUpJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLnRoZW59KHQpKX0oZSk/bmV3IE94KGUse3VwZGF0ZUludGVydmFsOnQsbG9zc1JhdGVJbnRlcnZhbDppLGZyZWV6ZVJhdGVMaW1pdDpuLGZpcnN0VmlkZW9EZWNvZGVkVGltZW91dDpyfSk6bmV3IE54KGUse3VwZGF0ZUludGVydmFsOnQsbG9zc1JhdGVJbnRlcnZhbDppLGZyZWV6ZVJhdGVMaW1pdDpuLGZpcnN0VmlkZW9EZWNvZGVkVGltZW91dDpyfSl9bGV0IFB4PWNsYXNze2dldCBsb2NhbENhcGFiaWxpdGllcygpe3JldHVybiBHdih0aGlzLl9sb2NhbENhcGFiaWxpdGllcyl9Z2V0IHJ0cENhcGFiaWxpdGllcygpe3JldHVybiBHdih0aGlzLl9ydHBDYXBhYmlsaXRpZXMpfWdldCBjYW5kaWRhdGVzKCl7cmV0dXJuIEd2KHRoaXMuX2NhbmRpZGF0ZXMpfWdldCBpY2VQYXJhbWV0ZXJzKCl7cmV0dXJuIEd2KHRoaXMuX2ljZVBhcmFtZXRlcnMpfWdldCBkdGxzUGFyYW1ldGVycygpe3JldHVybiBHdih0aGlzLl9kdGxzUGFyYW1ldGVycyl9Y29uc3RydWN0b3IoZSl7b2codGhpcyxcInNlc3Npb25EZXNjXCIsdm9pZCAwKSxvZyh0aGlzLFwiX2xvY2FsQ2FwYWJpbGl0aWVzXCIsdm9pZCAwKSxvZyh0aGlzLFwiX3J0cENhcGFiaWxpdGllc1wiLHZvaWQgMCksb2codGhpcyxcIl9jYW5kaWRhdGVzXCIsdm9pZCAwKSxvZyh0aGlzLFwiX2ljZVBhcmFtZXRlcnNcIix2b2lkIDApLG9nKHRoaXMsXCJfZHRsc1BhcmFtZXRlcnNcIix2b2lkIDApLG9nKHRoaXMsXCJzZXR1cFwiLHZvaWQgMCksb2codGhpcyxcImN1cnJlbnRNaWRJbmRleFwiLHZvaWQgMCksb2codGhpcyxcImNuYW1lXCIsXCJvL2kxNHU5cEpyeFJLQXN1XCIpLG9nKHRoaXMsXCJmaXJlZm94U3NyY01pZE1hcFwiLG5ldyBNYXApLGU9R3YoZSk7Y29uc3R7cmVtb3RlSWNlUGFyYW1ldGVyczp0LHJlbW90ZUR0bHNQYXJhbWV0ZXJzOmksY2FuZGlkYXRlczpuLHJlbW90ZVJUUENhcGFiaWxpdGllczpyLGxvY2FsQ2FwYWJpbGl0aWVzOm8sZGlyZWN0aW9uOnMsc2V0dXA6YSx2aWRlb0NvZGVjOmMsYXVkaW9Db2RlYzpkfT1lO2xldCBsO3RoaXMuc2V0dXA9YSxsPXM9PT1mYi5SRUNFSVZFX09OTFk/Q00ucGFyc2UoXCJ2PTBcXG5vPS0gMCAwIElOIElQNCAxMjcuMC4wLjFcXG5zPUFnb3JhR2F0ZXdheVxcbnQ9MCAwXFxuYT1ncm91cDpCVU5ETEUgMCAxXFxuYT1tc2lkLXNlbWFudGljOiBXTVNcXG5hPWV4dG1hcC1hbGxvdy1taXhlZFxcbm09dmlkZW8gOSBVRFAvVExTL1JUUC9TQVZQRiAwXFxuYz1JTiBJUDQgMTI3LjAuMC4xXFxuYT1ydGNwOjkgSU4gSVA0IDAuMC4wLjBcXG5hPXNlbmRvbmx5XFxuYT1ydGNwLW11eFxcbmE9cnRjcC1yc2l6ZVxcbmE9bWlkOjBcXG5tPWF1ZGlvIDkgVURQL1RMUy9SVFAvU0FWUEYgMFxcbmM9SU4gSVA0IDEyNy4wLjAuMVxcbmE9cnRjcDo5IElOIElQNCAwLjAuMC4wXFxuYT1zZW5kb25seVxcbmE9cnRjcC1tdXhcXG5hPXJ0Y3AtcnNpemVcXG5hPW1pZDoxXFxuXCIpOkNNLnBhcnNlKFwidj0wXFxubz0tIDAgMCBJTiBJUDQgMTI3LjAuMC4xXFxucz1BZ29yYUdhdGV3YXlcXG50PTAgMFxcbmE9Z3JvdXA6QlVORExFIDAgMVxcbmE9bXNpZC1zZW1hbnRpYzogV01TXFxuYT1leHRtYXAtYWxsb3ctbWl4ZWRcXG5tPXZpZGVvIDkgVURQL1RMUy9SVFAvU0FWUEYgMFxcbmM9SU4gSVA0IDEyNy4wLjAuMVxcbmE9cnRjcDo5IElOIElQNCAwLjAuMC4wXFxuYT1yZWN2b25seVxcbmE9cnRjcC1tdXhcXG5hPXJ0Y3AtcnNpemVcXG5hPW1pZDowXFxubT1hdWRpbyA5IFVEUC9UTFMvUlRQL1NBVlBGIDBcXG5jPUlOIElQNCAxMjcuMC4wLjFcXG5hPXJ0Y3A6OSBJTiBJUDQgMC4wLjAuMFxcbmE9cmVjdm9ubHlcXG5hPXJ0Y3AtbXV4XFxuYT1ydGNwLXJzaXplXFxuYT1taWQ6MVxcblwiKSx0aGlzLl9ydHBDYXBhYmlsaXRpZXM9cix0aGlzLl9jYW5kaWRhdGVzPW4sdGhpcy5faWNlUGFyYW1ldGVycz10LHRoaXMuX2R0bHNQYXJhbWV0ZXJzPWksdGhpcy5fbG9jYWxDYXBhYmlsaXRpZXM9bztjb25zdCB1PXM9PT1mYi5SRUNFSVZFX09OTFk/dGhpcy5ydHBDYXBhYmlsaXRpZXMuc2VuZDp0aGlzLnJ0cENhcGFiaWxpdGllcy5yZWN2LGg9cz09PWZiLlJFQ0VJVkVfT05MWT90aGlzLl9sb2NhbENhcGFiaWxpdGllcy5yZWN2OnRoaXMuX2xvY2FsQ2FwYWJpbGl0aWVzLnNlbmQscD1zPT09ZmIuUkVDRUlWRV9PTkxZP3Iuc2VuZC52aWRlb0NvZGVjczpXTShZYi5WSURFTyx1LGgsYyksXz1zPT09ZmIuUkVDRUlWRV9PTkxZP3Iuc2VuZC5hdWRpb0NvZGVjczpXTShZYi5BVURJTyx1LGgsZCk7Zm9yKGNvbnN0IGUgb2YgbC5tZWRpYURlc2NyaXB0aW9ucyllLmF0dHJpYnV0ZXMuaWNlVWZyYWc9dC5pY2VVZnJhZyxlLmF0dHJpYnV0ZXMuaWNlUHdkPXQuaWNlUHdkLGUuYXR0cmlidXRlcy5maW5nZXJwcmludHM9aS5maW5nZXJwcmludHMsZS5hdHRyaWJ1dGVzLmNhbmRpZGF0ZXM9bixlLmF0dHJpYnV0ZXMuc2V0dXA9dGhpcy5zZXR1cCxcImFwcGxpY2F0aW9uXCI9PT1lLm1lZGlhLm1lZGlhVHlwZSYmKGUuYXR0cmlidXRlcy5zY3RwUG9ydD1cIjUwMDBcIiksXCJ2aWRlb1wiPT09ZS5tZWRpYS5tZWRpYVR5cGUmJihlLm1lZGlhLmZtdHM9cC5tYXAoKGU9PmUucGF5bG9hZFR5cGUudG9TdHJpbmcoMTApKSksZS5hdHRyaWJ1dGVzLnBheWxvYWRzPXAsZS5hdHRyaWJ1dGVzLmV4dG1hcHM9dS52aWRlb0V4dGVuc2lvbnMpLFwiYXVkaW9cIj09PWUubWVkaWEubWVkaWFUeXBlJiYoZS5tZWRpYS5mbXRzPV8ubWFwKChlPT5lLnBheWxvYWRUeXBlLnRvU3RyaW5nKDEwKSkpLGUuYXR0cmlidXRlcy5wYXlsb2Fkcz1fLGUuYXR0cmlidXRlcy5leHRtYXBzPXUuYXVkaW9FeHRlbnNpb25zLEdNKGUpKTt0aGlzLnNlc3Npb25EZXNjPWwsdGhpcy5jdXJyZW50TWlkSW5kZXg9bC5tZWRpYURlc2NyaXB0aW9ucy5sZW5ndGgtMX10b1N0cmluZygpe3JldHVybiBDTS5wcmludCh0aGlzLnNlc3Npb25EZXNjKX1oYXNNaWQoZSl7cmV0dXJuIEFycmF5LmlzQXJyYXkoZSk/ZS5ldmVyeSgoZT0+dGhpcy5oYXNNaWQoZSkpKTp0aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLnNvbWUoKHQ9PnQuYXR0cmlidXRlcy5taWQ9PT1lKSl9c2VuZChlLHQsaSxuLHIpe2k9aS5yZXBsYWNlKC8gL2csXCItXCIpO2NvbnN0e3NzcmNzOm8sc3NyY0dyb3VwczpzfT1ETSh0LHRoaXMuY25hbWUsRHkoXCJTWU5DX0dST1VQXCIpP2k6dm9pZCAwKSxhPXRoaXMuZmluZFByZWxvYWRNZWRpYURlc2Mobyk7aWYoYSl7aWYoa0koKSYmdGhpcy5maXJlZm94U3NyY01pZE1hcC5zZXQob1swXS5zc3JjSWQsYS5hdHRyaWJ1dGVzLm1pZCksciYmKHIudHdjY3x8ci5yZW1iKSl7Y29uc3QgZT10aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmluZGV4T2YoYSk7cmV0dXJuIHRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnNbZV09dGhpcy5tdW5nU2VuZE1lZGlhRGVzYyhhLHIpLHttaWQ6YS5hdHRyaWJ1dGVzLm1pZCxuZWVkRXhjaGFuZ2VTRFA6ITB9fXJldHVybnttaWQ6YS5hdHRyaWJ1dGVzLm1pZCxuZWVkRXhjaGFuZ2VTRFA6ITF9fXtjb25zdCB0PXRoaXMuZmluZEF2YWlsYWJsZU1lZGlhSW5kZXgoZSxvLG4pO2xldCBpO3JldHVybi0xPT09dD8oaT10aGlzLmNyZWF0ZU9yUmVjeWNsZVNlbmRNZWRpYShlLG8scyxcInNlbmRvbmx5XCIsbixyKSx0aGlzLnVwZGF0ZUJ1bmRsZU1pZHMoKSk6KGk9R3YodGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9uc1t0XSksaS5hdHRyaWJ1dGVzLmRpcmVjdGlvbj1cInNlbmRvbmx5XCIsaS5hdHRyaWJ1dGVzLnNzcmNzPW8saS5hdHRyaWJ1dGVzLnNzcmNHcm91cHM9cyx0aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zW3RdPXRoaXMubXVuZ1NlbmRNZWRpYURlc2MoaSxyKSksa0koKSYmdGhpcy5maXJlZm94U3NyY01pZE1hcC5zZXQob1swXS5zc3JjSWQsaS5hdHRyaWJ1dGVzLm1pZCkse25lZWRFeGNoYW5nZVNEUDohMCxtaWQ6aS5hdHRyaWJ1dGVzLm1pZH19fXN0b3BTZW5kaW5nKGUpe2NvbnN0IHQ9dGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5maWx0ZXIoKHQ9PnQuYXR0cmlidXRlcy5taWQmJi0xIT09ZS5pbmRleE9mKHQuYXR0cmlidXRlcy5taWQpKSk7aWYodC5sZW5ndGghPT1lLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJtZWRpYURlc2NyaXB0aW9ucycgbGVuZ3RoIGRvZXNuJ3QgbWF0Y2ggbWlkcycgbGVuZ3RoIHdoZW4gY2FsbGluZyBSZW1vdGVTRFAuc3RvcFNlbmRpbmcuXCIpO3QuZm9yRWFjaCgoZT0+e2UuYXR0cmlidXRlcy5zc3Jjcz1bXX0pKSx0aGlzLnVwZGF0ZUJ1bmRsZU1pZHMoKX1yZWNlaXZlKGUsdCxpKXtjb25zdCBuPVtdO3JldHVybiBlLmZvckVhY2goKGU9Pntjb25zdCByPWUuX21lZGlhU3RyZWFtVHJhY2sua2luZCxvPXRoaXMuZmluZEF2YWlsYWJsZVJlY3ZNZWRpYUluZGV4KHIpO2xldCBzLGE9ITE7LTE9PT1vPyhhPSEwLHM9dGhpcy5jcmVhdGVPclJlY3ljbGVSZWN2TWVkaWEoZSxbXSxcInJlY3Zvbmx5XCIsdCxpKSx0aGlzLnVwZGF0ZUJ1bmRsZU1pZHMoKSk6KHM9R3YodGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9uc1tvXSkscy5hdHRyaWJ1dGVzLmRpcmVjdGlvbj1cInJlY3Zvbmx5XCIpLG4ucHVzaCh7bWlkOnMuYXR0cmlidXRlcy5taWQsbmVlZENyZWF0ZVRyYW5zY2VpdmVyOmF9KX0pKSxufXN0b3BSZWNlaXZpbmcoZSl7Y29uc3QgdD10aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmZpbHRlcigodD0+LTEhPT1lLmluZGV4T2YodC5hdHRyaWJ1dGVzLm1pZCkpKTtpZih0Lmxlbmd0aCE9PWUubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIk1lZGlhRGVzY3JpcHRpb25zJyBsZW5ndGggZG9lc24ndCBtYXRjaCBtaWRzJ3MgbGVuZ3RoIHdoZW4gY2FsbGluZyBSZW1vdGVTRFAucmVjZWl2ZS5cIik7dC5mb3JFYWNoKChlPT57ZS5tZWRpYS5wb3J0PVwiMFwiLGUuYXR0cmlidXRlcy5kaXJlY3Rpb249XCJpbmFjdGl2ZVwifSkpLHRoaXMudXBkYXRlQnVuZGxlTWlkcygpfWFkZFJlbW90ZUNhbmRpZGF0ZShlKXtjb25zdHtmb3VuZGF0aW9uOnQscHJvdG9jb2w6aSxhZGRyZXNzOm4scG9ydDpyLHR5cGU6byxyZWxhdGVkQWRkcmVzczpzLHJlbGF0ZWRQb3J0OmEscHJpb3JpdHk6Y309bmV3IFJUQ0ljZUNhbmRpZGF0ZShlKSxkPXtmb3VuZGF0aW9uOm51bGwhPXQ/dDpcIlwiLGNvbXBvbmVudElkOlwiMVwiLHRyYW5zcG9ydDpudWxsIT1pP2k6XCJcIixwcmlvcml0eTpjP2MrXCJcIjpcIlwiLGNvbm5lY3Rpb25BZGRyZXNzOm51bGwhPW4/bjpcIlwiLHBvcnQ6cj9yK1wiXCI6XCJcIix0eXBlOm8/bytcIlwiOlwiXCIscmVsQWRkcjpudWxsIT1zP3M6XCJcIixyZWxQb3J0OmE/YStcIlwiOlwiXCIsZXh0ZW5zaW9uOnt9fTt0aGlzLmNhbmRpZGF0ZXMuc29tZSgoZT0+ZS5wcmlvcml0eT09PWQucHJpb3JpdHkmJmUuY29ubmVjdGlvbkFkZHJlc3M9PT1kLmNvbm5lY3Rpb25BZGRyZXNzJiZlLnBvcnQ9PT1kLnBvcnQpKXx8KHRoaXMuX2NhbmRpZGF0ZXMucHVzaChkKSx0aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmZvckVhY2goKGU9PntlLmF0dHJpYnV0ZXMuY2FuZGlkYXRlcz10aGlzLmNhbmRpZGF0ZXN9KSkpfWNsZWFyUmVtb3RlQ2FuZGlkYXRlKCl7dGhpcy5fY2FuZGlkYXRlcz1bXSx0aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zWzBdLmF0dHJpYnV0ZXMuY2FuZGlkYXRlcz10aGlzLl9jYW5kaWRhdGVzfWNyZWF0ZU9yUmVjeWNsZVJlY3ZNZWRpYShlLHQsaSxuLHIpe2NvbnN0IG89ZS5fbWVkaWFTdHJlYW1UcmFjay5raW5kLHM9dGhpcy5ydHBDYXBhYmlsaXRpZXMucmVjdixhPVdNKG8scyx0aGlzLmxvY2FsQ2FwYWJpbGl0aWVzLnNlbmQsbz09PVliLkFVRElPP3I6biksYz1vPT09WWIuVklERU8/cy52aWRlb0V4dGVuc2lvbnM6cy5hdWRpb0V4dGVuc2lvbnMsZD1cIlwiLmNvbmNhdCgrK3RoaXMuY3VycmVudE1pZEluZGV4KTtsZXQgbD17bWVkaWE6e21lZGlhVHlwZTpvLHBvcnQ6XCI5XCIscHJvdG9zOltcIlVEUFwiLFwiVExTXCIsXCJSVFBcIixcIlNBVlBGXCJdLGZtdHM6YS5tYXAoKGU9PmUucGF5bG9hZFR5cGUudG9TdHJpbmcoMTApKSl9LGNvbm5lY3Rpb25zOlt7bmV0dHlwZTpcIklOXCIsYWRkcnR5cGU6XCJJUDRcIixhZGRyZXNzOlwiMTI3LjAuMC4xXCJ9XSxiYW5kd2lkdGhzOltdLGF0dHJpYnV0ZXM6e2ljZVVmcmFnOnRoaXMuaWNlUGFyYW1ldGVycy5pY2VVZnJhZyxpY2VQd2Q6dGhpcy5pY2VQYXJhbWV0ZXJzLmljZVB3ZCx1bnJlY29nbml6ZWQ6W10sY2FuZGlkYXRlczpbXSxleHRtYXBzOmMsZmluZ2VycHJpbnRzOnRoaXMuZHRsc1BhcmFtZXRlcnMuZmluZ2VycHJpbnRzLGltYWdlYXR0cjpbXSxtc2lkczpbXSxyZW1vdGVDYW5kaWRhdGVzTGlzdDpbXSxyaWRzOltdLHNzcmNzOnQsc3NyY0dyb3VwczpbXSxydGNwRmVlZGJhY2tXaWxkY2FyZHM6W10scGF5bG9hZHM6YSxydGNwOntwb3J0OlwiOVwiLG5ldFR5cGU6XCJJTlwiLGFkZHJlc3NUeXBlOlwiSVA0XCIsYWRkcmVzczpcIjAuMC4wLjBcIn0sc2V0dXA6dGhpcy5zZXR1cCxkaXJlY3Rpb246aSxydGNwTXV4OiEwLHJ0Y3BSc2l6ZTohMCxtaWQ6XCJcIi5jb25jYXQoZCl9fTtsPXRoaXMubXVuZ1JlY3ZNZWRpYURzZWMobCxlKTtjb25zdCB1PXRoaXMuZmluZEZpcnN0Q2xvc2VkTWVkaWEobyk7aWYodSl7Y29uc3QgZT10aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmluZGV4T2YodSk7dGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9uc1tlXT1sfWVsc2UgdGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5wdXNoKGwpO3JldHVybiBsfW11dGVSZW1vdGUoZSl7Y29uc3QgdD10aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmZpbHRlcigodD0+RG4oZSkuY2FsbChlLHQuYXR0cmlidXRlcy5taWR8fFwiXCIpKSk7aWYodC5sZW5ndGghPT1lLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJtZWRpYURlc2NyaXB0aW9ucycgbGVuZ3RoIGRvZXNuJ3QgbWF0Y2ggbWlkcycgbGVuZ3RoIHdoZW4gY2FsbGluZyBSZW1vdGVTRFAubXV0ZVJlbW90ZS5cIik7dC5mb3JFYWNoKChlPT57ZS5hdHRyaWJ1dGVzLmRpcmVjdGlvbj1cImluYWN0aXZlXCJ9KSl9dW5tdXRlUmVtb3RlKGUpe2NvbnN0IHQ9dGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5maWx0ZXIoKHQ9PkRuKGUpLmNhbGwoZSx0LmF0dHJpYnV0ZXMubWlkfHxcIlwiKSkpO2lmKHQubGVuZ3RoIT09ZS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwibWVkaWFEZXNjcmlwdGlvbnMnIGxlbmd0aCBkb2Vzbid0IG1hdGNoIG1pZHMnIGxlbmd0aCB3aGVuIGNhbGxpbmcgUmVtb3RlU0RQLm11dGVSZW1vdGUuXCIpO3QuZm9yRWFjaCgoZT0+e2UuYXR0cmlidXRlcy5kaXJlY3Rpb249XCJyZWN2b25seVwifSkpfWZpbmRBdmFpbGFibGVNZWRpYUluZGV4KGUsdCxpKXtyZXR1cm4gdGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5maW5kSW5kZXgoKG49Pntjb25zdCByPW4ubWVkaWEubWVkaWFUeXBlPT09ZSYmXCIwXCIhPT1uLm1lZGlhLnBvcnQmJihcInNlbmRvbmx5XCI9PT1uLmF0dHJpYnV0ZXMuZGlyZWN0aW9ufHxcInNlbmRyZWN2XCI9PT1uLmF0dHJpYnV0ZXMuZGlyZWN0aW9uKSYmMD09PW4uYXR0cmlidXRlcy5zc3Jjcy5sZW5ndGg7aWYoa0koKSl7aWYocil7Y29uc3QgZT10aGlzLmZpcmVmb3hTc3JjTWlkTWFwLmdldCh0WzBdLnNzcmNJZCk7cmV0dXJuIShlfHxcIjBcIiE9PW4uYXR0cmlidXRlcy5taWQmJlwiMVwiIT09bi5hdHRyaWJ1dGVzLm1pZCl8fCEoIWV8fGUhPT1uLmF0dHJpYnV0ZXMubWlkKX1yZXR1cm4hMX1yZXR1cm4gciYmbi5hdHRyaWJ1dGVzLm1pZD09PWl9KSl9ZmluZEF2YWlsYWJsZVJlY3ZNZWRpYUluZGV4KGUpe3JldHVybiB0aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmZpbmRJbmRleCgodD0+e2NvbnN0IGk9dC5tZWRpYS5tZWRpYVR5cGU9PT1lJiZcIjBcIiE9PXQubWVkaWEucG9ydCYmKFwicmVjdm9ubHlcIj09PXQuYXR0cmlidXRlcy5kaXJlY3Rpb258fFwic2VuZHJlY3ZcIj09PXQuYXR0cmlidXRlcy5kaXJlY3Rpb24pO3JldHVyblwiMFwiIT09dC5hdHRyaWJ1dGVzLm1pZCYmXCIxXCIhPT10LmF0dHJpYnV0ZXMubWlkJiZpfSkpfXByZWRpY3RSZWNlaXZpbmdNaWRzKGUpe2NvbnN0IHQ9W107Zm9yKGxldCBpPTA7aTxlO2krKyl0LnB1c2goKHRoaXMuY3VycmVudE1pZEluZGV4K2krMSkudG9TdHJpbmcoMTApKTtyZXR1cm4gdH1yZXN0YXJ0SUNFKGUpe2U9R3YoZSksdGhpcy5faWNlUGFyYW1ldGVycz1lLHRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMuZm9yRWFjaCgodD0+e3QuYXR0cmlidXRlcy5pY2VVZnJhZz1lLmljZVVmcmFnLHQuYXR0cmlidXRlcy5pY2VQd2Q9ZS5pY2VQd2R9KSl9Y3JlYXRlT3JSZWN5Y2xlU2VuZE1lZGlhKGUsdCxpLG4scixvKXtjb25zdCBzPXRoaXMucnRwQ2FwYWJpbGl0aWVzLnNlbmQsYT1lPT09WWIuVklERU8/cy52aWRlb0NvZGVjczpzLmF1ZGlvQ29kZWNzLGM9ZT09PVliLlZJREVPP3MudmlkZW9FeHRlbnNpb25zOnMuYXVkaW9FeHRlbnNpb25zO2tJKCkmJihyPVwiXCIuY29uY2F0KCsrdGhpcy5jdXJyZW50TWlkSW5kZXgpKTtsZXQgZD17bWVkaWE6e21lZGlhVHlwZTplLHBvcnQ6XCI5XCIscHJvdG9zOltcIlVEUFwiLFwiVExTXCIsXCJSVFBcIixcIlNBVlBGXCJdLGZtdHM6YS5tYXAoKGU9PmUucGF5bG9hZFR5cGUudG9TdHJpbmcoMTApKSl9LGNvbm5lY3Rpb25zOlt7bmV0dHlwZTpcIklOXCIsYWRkcnR5cGU6XCJJUDRcIixhZGRyZXNzOlwiMTI3LjAuMC4xXCJ9XSxiYW5kd2lkdGhzOltdLGF0dHJpYnV0ZXM6e2ljZVVmcmFnOnRoaXMuaWNlUGFyYW1ldGVycy5pY2VVZnJhZyxpY2VQd2Q6dGhpcy5pY2VQYXJhbWV0ZXJzLmljZVB3ZCx1bnJlY29nbml6ZWQ6W10sY2FuZGlkYXRlczpbXSxleHRtYXBzOmMsZmluZ2VycHJpbnRzOnRoaXMuZHRsc1BhcmFtZXRlcnMuZmluZ2VycHJpbnRzLGltYWdlYXR0cjpbXSxtc2lkczpbXSxyZW1vdGVDYW5kaWRhdGVzTGlzdDpbXSxyaWRzOltdLHNzcmNzOnQsc3NyY0dyb3VwczppLHJ0Y3BGZWVkYmFja1dpbGRjYXJkczpbXSxwYXlsb2FkczphLHJ0Y3A6e3BvcnQ6XCI5XCIsbmV0VHlwZTpcIklOXCIsYWRkcmVzc1R5cGU6XCJJUDRcIixhZGRyZXNzOlwiMC4wLjAuMFwifSxzZXR1cDp0aGlzLnNldHVwLGRpcmVjdGlvbjpuLHJ0Y3BNdXg6ITAscnRjcFJzaXplOiEwLG1pZDpyfX07ZD10aGlzLm11bmdTZW5kTWVkaWFEZXNjKGQsbyk7Y29uc3QgbD10aGlzLmZpbmRGaXJzdENsb3NlZE1lZGlhKGUpO2lmKGwpe2NvbnN0IGU9dGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5pbmRleE9mKGwpO3RoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnNbZV09ZH1lbHNlIHRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMucHVzaChkKTtyZXR1cm4gZH1tdW5nUmVjdk1lZGlhRHNlYyhlLHQsaSl7Y29uc3Qgbj1HdihlKTtyZXR1cm4gTE0obiksUE0obix0KSxrTShuLHQpLE1NKG4pLFVNKG4saSx0aGlzLmxvY2FsQ2FwYWJpbGl0aWVzLnNlbmQpLG59bXVuZ1NlbmRNZWRpYURlc2MoZSx0KXtjb25zdCBpPUd2KGUpO3JldHVybiBVTShpLHQsdGhpcy5sb2NhbENhcGFiaWxpdGllcy5yZWN2KSxHTShpKSxpfXVwZGF0ZVJlY3ZNZWRpYShlLHQpe2NvbnN0IGk9dGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5maW5kSW5kZXgoKHQ9PnQuYXR0cmlidXRlcy5taWQ9PT1lKSk7aWYoLTEhPT1pKXtjb25zdCBlPXRoaXMubXVuZ1JlY3ZNZWRpYURzZWModGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9uc1tpXSx0KTt0aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zW2ldPWV9fXVwZGF0ZUJ1bmRsZU1pZHMoKXt0aGlzLnNlc3Npb25EZXNjLmF0dHJpYnV0ZXMuZ3JvdXBzWzBdLmlkZW50aWZpY2F0aW9uVGFnPXRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMuZmlsdGVyKChlPT5cIjBcIiE9PWUubWVkaWEucG9ydCkpLm1hcCgoZT0+ZS5hdHRyaWJ1dGVzLm1pZCkpfWZpbmRQcmVsb2FkTWVkaWFEZXNjKGUpe3JldHVybiB0aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmZpbmQoKHQ9Pnt2YXIgaTtyZXR1cm4obnVsbD09PShpPXQuYXR0cmlidXRlcyl8fHZvaWQgMD09PWl8fG51bGw9PT0oaT1pLnNzcmNzWzBdKXx8dm9pZCAwPT09aT92b2lkIDA6aS5zc3JjSWQpPT09ZVswXS5zc3JjSWR9KSl9ZmluZEZpcnN0Q2xvc2VkTWVkaWEoZSl7cmV0dXJuIHRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMuZmluZCgodD0+a0koKT9cIjBcIj09PXQubWVkaWEucG9ydCYmdC5tZWRpYS5tZWRpYVR5cGU9PT1lOlwiMFwiPT09dC5tZWRpYS5wb3J0KSl9fTtjb25zdCBMeD1bXCJzZHBcIl07dmFyIGt4O2Z1bmN0aW9uIE14KGUsdCl7dmFyIGk9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYobj1uLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxpLnB1c2guYXBwbHkoaSxuKX1yZXR1cm4gaX1mdW5jdGlvbiBVeChlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgaT1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9NeChPYmplY3QoaSksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe29nKGUsdCxpW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKGkpKTpNeChPYmplY3QoaSkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpLHQpKX0pKX1yZXR1cm4gZX1sZXQgeHg9KGt4PWNsYXNzIGUgZXh0ZW5kcyBIYntnZXQgY3VycmVudExvY2FsRGVzY3JpcHRpb24oKXtyZXR1cm4gdGhpcy5wZWVyQ29ubmVjdGlvbi5jdXJyZW50TG9jYWxEZXNjcmlwdGlvbn1nZXQgY3VycmVudFJlbW90ZURlc2NyaXB0aW9uKCl7cmV0dXJuIHRoaXMucGVlckNvbm5lY3Rpb24uY3VycmVudFJlbW90ZURlc2NyaXB0aW9ufWdldCBwZWVyQ29ubmVjdGlvblN0YXRlKCl7cmV0dXJuIHRoaXMucGVlckNvbm5lY3Rpb24uY29ubmVjdGlvblN0YXRlfWdldCBpY2VDb25uZWN0aW9uU3RhdGUoKXtyZXR1cm4gdGhpcy5wZWVyQ29ubmVjdGlvbi5pY2VDb25uZWN0aW9uU3RhdGV9Z2V0IGR0bHNUcmFuc3BvcnRTdGF0ZSgpe3ZhciBlLHQ7cmV0dXJuIG51bGwhPT0oZT1udWxsPT09KHQ9dGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRSZWNlaXZlcnMoKVswXSl8fHZvaWQgMD09PXR8fG51bGw9PT0odD10LnRyYW5zcG9ydCl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuc3RhdGUpJiZ2b2lkIDAhPT1lP2U6bnVsbH1nZXQgbG9jYWxDb2RlY3MoKXtyZXR1cm5bXX1zZXQgaXNJblJlc3RhcnRJY2UoZSl7dGhpcy5faXNJblJlc3RhcnRJY2U9ZX1nZXQgaXNJblJlc3RhcnRJY2UoKXtyZXR1cm4gdGhpcy5faXNJblJlc3RhcnRJY2V9Y29uc3RydWN0b3IodCxpLG4pe3N1cGVyKHQsaSksb2codGhpcyxcImRpcmVjdGlvblwiLHZvaWQgMCksb2codGhpcyxcIm5hbWVcIix2b2lkIDApLG9nKHRoaXMsXCJzdG9yZVwiLHZvaWQgMCksb2codGhpcyxcInNwZWNcIix2b2lkIDApLG9nKHRoaXMsXCJwZWVyQ29ubmVjdGlvblwiLHZvaWQgMCksb2codGhpcyxcImluaXRpYWxPZmZlclwiLHZvaWQgMCksb2codGhpcyxcInRyYW5zcG9ydFwiLHZvaWQgMCksb2codGhpcyxcInN0YXRzRmlsdGVyXCIsdm9pZCAwKSxvZyh0aGlzLFwibG9jYWxDYW5kaWRhdGVDb3VudFwiLDApLG9nKHRoaXMsXCJfaXNJblJlc3RhcnRJY2VcIiwhMSksb2codGhpcyxcIm11dGV4XCIsbmV3IGh5KFwiUDJQQ29ubmVjdGlvbi1tdXRleFwiKSksb2codGhpcyxcIm9uTG9jYWxDYW5kaWRhdGVcIix2b2lkIDApLG9nKHRoaXMsXCJyZW1vdGVTRFBcIix2b2lkIDApLG9nKHRoaXMsXCJwZW5kaW5nQ2FuZGlkYXRlc1wiLFtdKSxvZyh0aGlzLFwibG9jYWxDYXBhYmlsaXRpZXNcIix2b2lkIDApLG9nKHRoaXMsXCJpc1JlYWR5XCIsITEpLG9nKHRoaXMsXCJyZXN0YXJ0Q250XCIsMCksb2codGhpcyxcImN1clR1cm5TZXJ2ZXJJbmRleFwiLDApLHRoaXMuc3RvcmU9aSx0aGlzLnNwZWM9dCx0aGlzLnBlZXJDb25uZWN0aW9uPW5ldyBSVENQZWVyQ29ubmVjdGlvbihlLnJlc29sdmVQQ0NvbmZpZ3VyYXRpb24odCxpLnAycFRyYW5zcG9ydCkse29wdGlvbmFsOlt7Z29vZ0RzY3A6ITB9XX0pLHRoaXMuZGlyZWN0aW9uPW51bGwhPW4/bjpmYi5TRU5EX09OTFksdGhpcy5uYW1lPXRoaXMuZGlyZWN0aW9uPT09ZmIuU0VORF9PTkxZP1wic2VuZFAyUENvbm5lY3Rpb25cIjpcInJlY3ZQMlBDb25uZWN0aW9uXCIsdGhpcy5zdGF0c0ZpbHRlcj1EeCh0aGlzLnBlZXJDb25uZWN0aW9uLER5KFwiU1RBVFNfVVBEQVRFX0lOVEVSVkFMXCIpLHZvaWQgMCxrSSgpPzEyMDA6dm9pZCAwKSx0aGlzLmJpbmRQQ0V2ZW50cygpLHRoaXMuYmluZFN0YXRzRXZlbnRzKCksdGhpcy5zdG9yZS5wMnBJZD10aGlzLnN0b3JlLnAycElkKzF9YXN5bmMgZXN0YWJsaXNoKGUpe3RyeXtjb25zdCB0PWF3YWl0IFZNKCk7aWYodGhpcy5sb2NhbENhcGFiaWxpdGllcz1qTSh0KSxlKXtjb25zdHtzZHA6dH09ZSxpPXV4KGUsTHgpLG49ZnVuY3Rpb24oKXtjb25zdCBlPXthdWRpb0NvZGVjczpbXSx2aWRlb0NvZGVjczpbXSxhdWRpb0V4dGVuc2lvbnM6W10sdmlkZW9FeHRlbnNpb25zOltdfSx0PUFNKGFyZ3VtZW50cy5sZW5ndGg+Mj9hcmd1bWVudHNbMl06dm9pZCAwLGFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fSxhcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e30sXCJzZW5kb25seVwiKSxpPXthdWRpb0NvZGVjczpbXSxhdWRpb0V4dGVuc2lvbnM6W10sdmlkZW9Db2RlY3M6W10sdmlkZW9FeHRlbnNpb25zOltdfSxuPXthdWRpb0NvZGVjczpbXSxhdWRpb0V4dGVuc2lvbnM6W10sdmlkZW9Db2RlY3M6W10sdmlkZW9FeHRlbnNpb25zOltdfSxyPXthdWRpb0NvZGVjczpbXSxhdWRpb0V4dGVuc2lvbnM6W10sdmlkZW9Db2RlY3M6W10sdmlkZW9FeHRlbnNpb25zOltdfTtpZihCTSh0LGUsXCJ2aWRlb0V4dGVuc2lvbnNcIixpLG4sciksQk0odCxlLFwidmlkZW9Db2RlY3NcIixpLG4sciksQk0odCxlLFwiYXVkaW9FeHRlbnNpb25zXCIsaSxuLHIpLEJNKHQsZSxcImF1ZGlvQ29kZWNzXCIsaSxuLHIpLER5KFwiUkFJU0VfSDI2NF9CQVNFTElORV9QUklPUklUWVwiKSl7Y29uc3QgZT1yLnZpZGVvQ29kZWNzLmZpbmRJbmRleCgoZT0+ZS5ydHBNYXAmJlwiaDI2NFwiPT09ZS5ydHBNYXAuZW5jb2RpbmdOYW1lLnRvTG9jYWxlTG93ZXJDYXNlKCkmJmUuZm10cCYmXCI0MjAwMWZcIj09PWUuZm10cC5wYXJhbWV0ZXJzW1wicHJvZmlsZS1sZXZlbC1pZFwiXSkpO2lmKC0xIT09ZSl7Y29uc3QgdD1yLnZpZGVvQ29kZWNzLmZpbmRJbmRleCgoZT0+ZS5ydHBNYXAmJlwiaDI2NFwiPT09ZS5ydHBNYXAuZW5jb2RpbmdOYW1lLnRvTG9jYWxlTG93ZXJDYXNlKCkpKTtpZih0PGUpe1F5LmRlYnVnKFwicmFpc2luZyBIMjY0IGJhc2VsaW5lIHByb2ZpbGUgcHJpb3JpdHlcIik7Y29uc3QgaT1yLnZpZGVvQ29kZWNzW2VdO3IudmlkZW9Db2RlY3Muc3BsaWNlKGUsMSksci52aWRlb0NvZGVjcy5zcGxpY2UodCwwLGkpfS0xIT09dCYmRHkoXCJGSUxURVJfU0VORF9IMjY0X0JBU0VMSU5FXCIpJiYoaS52aWRlb0NvZGVjcz1pLnZpZGVvQ29kZWNzLmZpbHRlcigoZT0+IShlLnJ0cE1hcCYmXCJoMjY0XCI9PT1lLnJ0cE1hcC5lbmNvZGluZ05hbWUudG9Mb2NhbGVMb3dlckNhc2UoKSYmZS5mbXRwJiZcIjQyMDAxZlwiIT09ZS5mbXRwLnBhcmFtZXRlcnNbXCJwcm9maWxlLWxldmVsLWlkXCJdKSkpKX19cmV0dXJue3NlbmQ6aSxyZWN2Om4sc2VuZHJlY3Y6cn19KHt9LHt9LHQpO3RoaXMucmVtb3RlU0RQPW5ldyBQeCh7cmVtb3RlSWNlUGFyYW1ldGVyczppLmljZVBhcmFtZXRlcnMscmVtb3RlRHRsc1BhcmFtZXRlcnM6aS5kdGxzUGFyYW1ldGVycyxjYW5kaWRhdGVzOltdLHJlbW90ZVJUUENhcGFiaWxpdGllczpuLGxvY2FsQ2FwYWJpbGl0aWVzOnRoaXMubG9jYWxDYXBhYmlsaXRpZXMsZGlyZWN0aW9uOnRoaXMuZGlyZWN0aW9uLHNldHVwOlwiYWN0cGFzc1wiLHZpZGVvQ29kZWM6dGhpcy5zdG9yZS5jb2RlYyxhdWRpb0NvZGVjOnRoaXMuc3RvcmUuYXVkaW9Db2RlY30pLGF3YWl0IHRoaXMuc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJvZmZlclwiLHNkcDp0aGlzLnJlbW90ZVNEUC50b1N0cmluZygpfSksdGhpcy5pc1JlYWR5PSEwO2NvbnN0IHI9YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5jcmVhdGVBbnN3ZXIoKTtpZighci5zZHApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGdldCBhbnN3ZXIgc2RwIHdoZW4gdHJ5aW5nIHRvIGVzdGFibGlzaCBQZWVyQ29ubmVjdGlvbi5cIik7Y29uc3Qgbz1iTShyLnNkcCk7YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKHIpO2NvbnN0IHM9YXdhaXQgRk0oe30se30sci5zZHApO3RoaXMubG9jYWxDYXBhYmlsaXRpZXM9ak0ocyk7Y29uc3QgYT10aGlzLnBlZXJDb25uZWN0aW9uLmdldFRyYW5zY2VpdmVycygpWzBdO3JldHVybiBudWxsIT1hJiZhLnJlY2VpdmVyJiZhLnJlY2VpdmVyLnRyYW5zcG9ydCYmdGhpcy50cnlCaW5kVHJhbnNwb3J0RXZlbnRzKGEucmVjZWl2ZXIudHJhbnNwb3J0KSxVeChVeCh7fSxvKSx7fSx7c2RwOnIuc2RwfSl9e3RoaXMucGVlckNvbm5lY3Rpb24uYWRkVHJhbnNjZWl2ZXIoXCJ2aWRlb1wiLHtkaXJlY3Rpb246XCJzZW5kb25seVwifSksdGhpcy5wZWVyQ29ubmVjdGlvbi5hZGRUcmFuc2NlaXZlcihcImF1ZGlvXCIse2RpcmVjdGlvbjpcInNlbmRvbmx5XCJ9KTtjb25zdCBlPWF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uY3JlYXRlT2ZmZXIoKTtpZighZS5zZHApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGdldCBpbml0aWFsT2ZmZXIuc2RwIHdoZW4gdHJ5aW5nIHRvIGVzdGFibGlzaCBQZWVyQ29ubmVjdGlvbi5cIik7Y29uc3QgdD1iTShlLnNkcCk7cmV0dXJuIHRoaXMuaW5pdGlhbE9mZmVyPWUsVXgoVXgoe30sdCkse30se3NkcDplLnNkcH0pfX1jYXRjaChlKXt0aHJvdyBuZXcgcnYobnYuR0VUX0xPQ0FMX0NPTk5FQ1RJT05fUEFSQU1TX0ZBSUxFRCxlLnRvU3RyaW5nKCkpfX1hc3luYyBjb25uZWN0KGUpe3RyeXtpZighdGhpcy5pbml0aWFsT2ZmZXIpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGVzdGFibGlzaCBQMlBDb25uZWN0aW9uIHdpdGhvdXQgaW5pdGlhbCBvZmZlci5cIik7YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKHRoaXMuaW5pdGlhbE9mZmVyKTtjb25zdHtzZHA6dCxpY2VQYXJhbWV0ZXJzOmksZHRsc1BhcmFtZXRlcnM6bn09ZSxyPWF3YWl0IEZNKHt9LHt9LHQpO3RoaXMucmVtb3RlU0RQPW5ldyBQeCh7cmVtb3RlSWNlUGFyYW1ldGVyczppLHJlbW90ZUR0bHNQYXJhbWV0ZXJzOm4sY2FuZGlkYXRlczpbXSxyZW1vdGVSVFBDYXBhYmlsaXRpZXM6cixsb2NhbENhcGFiaWxpdGllczp0aGlzLmxvY2FsQ2FwYWJpbGl0aWVzLGRpcmVjdGlvbjp0aGlzLmRpcmVjdGlvbixzZXR1cDpcImFjdGl2ZVwiLHZpZGVvQ29kZWM6dGhpcy5zdG9yZS5jb2RlYyxhdWRpb0NvZGVjOnRoaXMuc3RvcmUuYXVkaW9Db2RlY30pLGF3YWl0IHRoaXMuc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJhbnN3ZXJcIixzZHA6dGhpcy5yZW1vdGVTRFAudG9TdHJpbmcoKX0pO2NvbnN0IG89dGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRUcmFuc2NlaXZlcnMoKVswXTtudWxsIT1vJiZvLnNlbmRlciYmby5zZW5kZXIudHJhbnNwb3J0JiZ0aGlzLnRyeUJpbmRUcmFuc3BvcnRFdmVudHMoby5zZW5kZXIudHJhbnNwb3J0KX1jYXRjaChlKXt0aHJvdyBuZXcgcnYobnYuRVhDSEFOR0VfU0RQX0ZBSUxFRCxcIlAyUENvbm5lY3Rpb24uY29ubmVjdCBmYWlsZWQ7IFwiLmNvbmNhdChlLnRvU3RyaW5nKCkpKX19YXN5bmMgYWRkUmVtb3RlQ2FuZGlkYXRlKGUpe3RyeXtlJiZ0aGlzLnBlbmRpbmdDYW5kaWRhdGVzLnB1c2goZSksdGhpcy5wZWVyQ29ubmVjdGlvbi5yZW1vdGVEZXNjcmlwdGlvbiYmdGhpcy5pc1JlYWR5JiYodGhpcy5wZW5kaW5nQ2FuZGlkYXRlcy5mb3JFYWNoKChlPT57dGhpcy5wZWVyQ29ubmVjdGlvbi5hZGRJY2VDYW5kaWRhdGUoZSl9KSksdGhpcy5wZW5kaW5nQ2FuZGlkYXRlcz1bXSl9Y2F0Y2goZSl7dGhyb3cgbmV3IHJ2KG52LkFERF9DQU5ESURBVEVfRkFJTEVELFwiUDJQQ29ubmVjdGlvbi5hZGRSZW1vdGVDYW5kaWRhdGUgZmFpbGVkOyBcIi5jb25jYXQoZS50b1N0cmluZygpKSl9fXNlbmQoZSx0LGkpe3ZhciBuPXRoaXM7cmV0dXJuIFpVKChmdW5jdGlvbiooKXtjb25zdCByPXlpZWxkIFdVKG4ubXV0ZXgubG9jayhcIkZyb20gUDJQQ29ubmVjdGlvbi5zZW5kXCIpKTt0cnl7aWYoIW4ucmVtb3RlU0RQKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjYWxsIFAyUENvbm5lY3Rpb24uc2VuZCBiZWZvcmUgcmVtb3RlIFNEUCBjcmVhdGVkXCIpO2NvbnN0IG89W10scz1uLnJlbW90ZVNEUC5yZWNlaXZlKGUsdCxpKTtlLmZvckVhY2goKChlLHQpPT57aWYoc1t0XS5uZWVkQ3JlYXRlVHJhbnNjZWl2ZXIpe2NvbnN0IHQ9bi5wZWVyQ29ubmVjdGlvbi5hZGRUcmFuc2NlaXZlcihlLl9tZWRpYVN0cmVhbVRyYWNrLHtkaXJlY3Rpb246XCJzZW5kb25seVwifSk7by5wdXNoKHQpLGUuX3VwZGF0ZVJ0cFRyYW5zY2VpdmVyKHQpfWVsc2V7Y29uc3QgaT1uLnBlZXJDb25uZWN0aW9uLmdldFRyYW5zY2VpdmVycygpLmZpbmQoKGU9PmUubWlkPT09c1t0XS5taWQpKTtpZighaSl0aHJvdyBuZXcgRXJyb3IoXCJjYW5ub3QgZmluZCB0cmFuc2NlaXZlciB3aGVuIHNlbmRQZWVyY29ubmVjdGlvbiBzZW5kLCBtaWQgaXMgXCIuY29uY2F0KHNbdF0ubWlkKSk7by5wdXNoKGkpLGUuX3VwZGF0ZVJ0cFRyYW5zY2VpdmVyKGkpfX0pKSxrSSgpJiYhMD09PUR5KFwiU0lNVUxDQVNUXCIpJiYoeWllbGQgV1Uobi5hcHBseVNpbXVsY2FzdEZvckZpcmVmb3gobyxlKSkpO2NvbnN0IGE9cy5tYXAoKGU9PmUubWlkKSksYz15aWVsZCBXVShuLnBlZXJDb25uZWN0aW9uLmNyZWF0ZU9mZmVyKCkpLGQ9bi5tdW5nU2VuZE9mZmVyU0RQKGMuc2RwLGUsYSksbD1DTS5wYXJzZShkKSx1PWEubWFwKChlPT57Y29uc3QgdD1sLm1lZGlhRGVzY3JpcHRpb25zLmZpbmQoKHQ9PnQuYXR0cmlidXRlcy5taWQ9PT1lKSk7aWYoIXQpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGV4dHJhY3Qgc3NyYyBmcm9tIG1lZGlhRGVzY3JpcHRpb24uXCIpO3JldHVybiB3TSh0LER5KFwiVVNFX1BVQl9SVFhcIikpfSkpLGg9by5tYXAoKChlLHQpPT57Y29uc3QgaT1hW3RdO3JldHVybntsb2NhbFNTUkM6dVt0XSxpZDppfX0pKTt5aWVsZCBXVShuLnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24oe3R5cGU6XCJvZmZlclwiLHNkcDpkfSkpO3RyeXt5aWVsZCBofWNhdGNoKGUpe2NvbnN0IHQ9bi5yZW1vdGVTRFAudG9TdHJpbmcoKTt0aHJvdyB5aWVsZCBXVShuLnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24oe3R5cGU6XCJvZmZlclwiLHNkcDpkfSkpLHlpZWxkIFdVKG4ucGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJhbnN3ZXJcIixzZHA6dH0pKSx5aWVsZCBXVShuLnN0b3BTZW5kaW5nKGEsITApKSxlfXlpZWxkIFdVKG4uYXBwbHlTaW11bGNhc3RFbmNvZGluZ3MobyxlKSkseWllbGQgV1Uobi5hcHBseVNlbmRFbmNvZGluZ3MobyxlKSk7Y29uc3QgcD1uLnJlbW90ZVNEUC50b1N0cmluZygpLF89bi5sb2dTRFBFeGNoYW5nZShkLFwib2ZmZXJcIixcImxvY2FsXCIsXCJzZW5kXCIpO3JldHVybiBudWxsPT1ffHxfKHApLHlpZWxkIFdVKG4uc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJhbnN3ZXJcIixzZHA6cH0pKSxvLm1hcCgoKGUsdCk9Pntjb25zdCBpPWFbdF07cmV0dXJue2xvY2FsU1NSQzp1W3RdLGlkOml9fSkpfWNhdGNoKGUpe3Rocm93IGUgaW5zdGFuY2VvZiBydj9lOm5ldyBydihudi5FWENIQU5HRV9TRFBfRkFJTEVELFwiUDJQQ29ubmVjdGlvbi5zZW5kIGZhaWxlZDsgXCIuY29uY2F0KGUudG9TdHJpbmcoKSkpfWZpbmFsbHl7cigpfX0pKSgpfWFzeW5jIHN0b3BTZW5kaW5nKGUsdCl7Y29uc3QgaT10P3ZvaWQgMDphd2FpdCB0aGlzLm11dGV4LmxvY2soXCJGcm9tIFAyUENvbm5lY3Rpb24uc3RvcFNlbmRpbmdcIik7dHJ5e2lmKCF0aGlzLnJlbW90ZVNEUCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY2FsbCBQMlBDb25uZWN0aW9uLnN0b3BTZW5kaW5nIGJlZm9yZSByZW1vdGUgU0RQIGNyZWF0ZWRcIik7Y29uc3QgdD10aGlzLnBlZXJDb25uZWN0aW9uLmdldFRyYW5zY2VpdmVycygpLmZpbHRlcigodD0+LTEhPT1lLmluZGV4T2YodC5taWQpKSk7aWYodC5sZW5ndGghPT1lLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJUcmFuc2NlaXZlcnMnIGxlbmd0aCAoXCIuY29uY2F0KHQubGVuZ3RoLFwiKSBkb2Vzbid0IG1hdGNoIG1pZHMnIGxlbmd0aCAoXCIpLmNvbmNhdChlLmxlbmd0aCxcIikgd2hlbiB0cnlpbmcgdG8gY2FsbCBQMlBDb25uZWN0aW9uLnN0b3BTZW5kaW5nLlwiKSk7dC5tYXAoKGU9Pnt2YXIgdDtlLmRpcmVjdGlvbj1cImluYWN0aXZlXCIsbnVsbD09PSh0PWUuc3RvcCl8fHZvaWQgMD09PXR8fHQuY2FsbChlKX0pKTtjb25zdCBuPWF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uY3JlYXRlT2ZmZXIoKSxyPXRoaXMubG9nU0RQRXhjaGFuZ2Uobi5zZHB8fFwiXCIsXCJvZmZlclwiLFwibG9jYWxcIixcInN0b3BTZW5kaW5nXCIpO2F3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbihuKSx0aGlzLnJlbW90ZVNEUC5zdG9wUmVjZWl2aW5nKGUpO2NvbnN0IG89dGhpcy5yZW1vdGVTRFAudG9TdHJpbmcoKTtudWxsPT1yfHxyKG8pLGF3YWl0IHRoaXMuc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJhbnN3ZXJcIixzZHA6b30pfWNhdGNoKGUpe3Rocm93IG5ldyBydihudi5FWENIQU5HRV9TRFBfRkFJTEVELFwiUDJQQ29ubmVjdGlvbi5zdG9wU2VuZGluZyBmYWlsZWQ7IFwiLmNvbmNhdChlLnRvU3RyaW5nKCkpKX1maW5hbGx5e2kmJmkoKX19YXN5bmMgcmVjZWl2ZShlLHQsaSxuKXt0cnl7aWYoIXRoaXMucmVtb3RlU0RQKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjYWxsIFAyUENvbm5lY3Rpb24ucmVjZWl2ZSBcIi5jb25jYXQoZSxcIiBiZWZvcmUgcmVtb3RlU0RQIGNyZWF0ZWQuXCIpKTtjb25zdHttaWQ6cixuZWVkRXhjaGFuZ2VTRFA6b309dGhpcy5yZW1vdGVTRFAuc2VuZChlLHQsaSxuKTtpZihvKXtjb25zdCB0PXRoaXMucmVtb3RlU0RQLnRvU3RyaW5nKCksaT10aGlzLmxvZ1NEUEV4Y2hhbmdlKHQsXCJvZmZlclwiLFwicmVtb3RlXCIsXCJyZWNlaXZlXCIpO2F3YWl0IHRoaXMuc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJvZmZlclwiLHNkcDp0fSk7Y29uc3Qgbj1hd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLmNyZWF0ZUFuc3dlcigpLG89dGhpcy5tdW5nUmVjZWl2ZUFuc3dlclNEUChuLnNkcCxyLGUpO251bGw9PWl8fGkob3x8XCJcIiksYXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKHt0eXBlOlwiYW5zd2VyXCIsc2RwOm99KSxReS5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW1AyUENvbm5lY3Rpb25dIHJlY2VpdmUgXCIpLmNvbmNhdChlLFwiIGJ5IGV4Y2hhbmdpbmcgU0RQLlwiKSl9ZWxzZSBReS5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW1AyUENvbm5lY3Rpb25dIHJlY2VpdmUgXCIpLmNvbmNhdChlLFwiIG5vIG5lZWQgdG8gZXhjaGFuZ2UgU0RQLlwiKSk7Y29uc3Qgcz10aGlzLnBlZXJDb25uZWN0aW9uLmdldFRyYW5zY2VpdmVycygpLmZpbmQoKGU9PmUubWlkPT09cikpO2lmKCFzfHxudWxsPT09cy5taWQpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGdldCB0cmFuc2NlaXZlciBhZnRlciBzZXRMb2NhbERlc2NyaXB0aW9uLlwiKTtyZXR1cm57dHJhY2s6cy5yZWNlaXZlci50cmFjayxtaWQ6cy5taWQsdHJhbnNjZWl2ZXI6c319Y2F0Y2goZSl7dGhyb3cgbmV3IHJ2KG52LkVYQ0hBTkdFX1NEUF9GQUlMRUQsXCJQMlBDb25uZWN0aW9uLnJlY2VpdmUgZmFpbGVkOyBcIi5jb25jYXQoZS50b1N0cmluZygpKSl9fWFzeW5jIG1vY2tSZWNlaXZlKGUsdCxpLG4pe3RyeXtpZighdGhpcy5yZW1vdGVTRFApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNhbGwgUDJQQ29ubmVjdGlvbi5yZWNlaXZlIFwiLmNvbmNhdChlLFwiIGJlZm9yZSByZW1vdGVTRFAgY3JlYXRlZC5cIikpO2NvbnN0e21pZDpyLG5lZWRFeGNoYW5nZVNEUDpvfT10aGlzLnJlbW90ZVNEUC5zZW5kKGUsdCxpLG4pO2lmKG8pe2NvbnN0IHQ9dGhpcy5yZW1vdGVTRFAudG9TdHJpbmcoKSxpPXRoaXMubG9nU0RQRXhjaGFuZ2UodCxcIm9mZmVyXCIsXCJyZW1vdGVcIixcInJlY2VpdmVcIik7YXdhaXQgdGhpcy5zZXRSZW1vdGVEZXNjcmlwdGlvbih7dHlwZTpcIm9mZmVyXCIsc2RwOnR9KTtjb25zdCBuPWF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uY3JlYXRlQW5zd2VyKCksbz10aGlzLm11bmdSZWNlaXZlQW5zd2VyU0RQKG4uc2RwLHIsZSk7bnVsbD09aXx8aShvfHxcIlwiKSxhd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24oe3R5cGU6XCJhbnN3ZXJcIixzZHA6b30pLFF5LmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbUDJQQ29ubmVjdGlvbl0gcmVjZWl2ZSBcIikuY29uY2F0KGUsXCIgYnkgZXhjaGFuZ2luZyBTRFAuXCIpKX1lbHNlIFF5LmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbUDJQQ29ubmVjdGlvbl0gcmVjZWl2ZSBcIikuY29uY2F0KGUsXCIgbm8gbmVlZCB0byBleGNoYW5nZSBTRFAuXCIpKX1jYXRjaChlKXt0aHJvdyBuZXcgcnYobnYuRVhDSEFOR0VfU0RQX0ZBSUxFRCxcIlAyUENvbm5lY3Rpb24ucmVjZWl2ZSBmYWlsZWQ7IFwiLmNvbmNhdChlLnRvU3RyaW5nKCkpKX19YXN5bmMgc3RvcFJlY2VpdmluZyhlKXt0cnl7aWYoIXRoaXMucmVtb3RlU0RQKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjYWxsIFAyUENvbm5lY3Rpb24uc3RvcFJlY2VpdmluZyBiZWZvcmUgcmVtb3RlIFNEUCBjcmVhdGVkLlwiKTt0aGlzLnJlbW90ZVNEUC5zdG9wU2VuZGluZyhlKTtjb25zdCB0PXRoaXMucmVtb3RlU0RQLnRvU3RyaW5nKCksaT10aGlzLmxvZ1NEUEV4Y2hhbmdlKHQsXCJvZmZlclwiLFwicmVtb3RlXCIsXCJzdG9wUmVjZWl2aW5nXCIpO2F3YWl0IHRoaXMuc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJvZmZlclwiLHNkcDp0fSk7Y29uc3Qgbj1hd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLmNyZWF0ZUFuc3dlcigpO251bGw9PWl8fGkobi5zZHB8fFwiXCIpLGF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbihuKX1jYXRjaChlKXt0aHJvdyBuZXcgcnYobnYuRVhDSEFOR0VfU0RQX0ZBSUxFRCxcIlAyUENvbm5lY3Rpb24gc3RvcFJlY2VpdmluZyBmYWlsZWQ7IFwiLmNvbmNhdChlLnRvU3RyaW5nKCkpKX19YXN5bmMgcmVzdGFydElDRSh0KXt0cnl7aWYodGhpcy5zdG9yZS5wMnBUcmFuc3BvcnQ9PT1BeS5BdXRvJiYodGhpcy5zdG9yZS5wMnBUcmFuc3BvcnQ9QXkuU2RSdG4sTUQoKS5zdXBwb3J0UENTZXRDb25maWd1cmF0aW9uJiZ0aGlzLnBlZXJDb25uZWN0aW9uLnNldENvbmZpZ3VyYXRpb24oZS5yZXNvbHZlUENDb25maWd1cmF0aW9uKHRoaXMuc3BlYyx0aGlzLnN0b3JlLnAycFRyYW5zcG9ydCkpKSx0aGlzLnJlc3RhcnRDbnQ+MyYmKHRoaXMucmVzdGFydENudD0wLE1EKCkuc3VwcG9ydFBDU2V0Q29uZmlndXJhdGlvbiYmdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRDb25maWd1cmF0aW9uKGUucmVzb2x2ZVBDQ29uZmlndXJhdGlvbih0aGlzLnNwZWMsdGhpcy5zdG9yZS5wMnBUcmFuc3BvcnQsKyt0aGlzLmN1clR1cm5TZXJ2ZXJJbmRleCkpKSwhdCl7dGhpcy5yZXN0YXJ0Q250KyssdGhpcy5pc1JlYWR5PSExO2NvbnN0IGU9YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5jcmVhdGVPZmZlcih7aWNlUmVzdGFydDohMH0pO2lmKCFlLnNkcCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgcmVzdGFydElDRSBiZWNhdXNlIHJlc3RhcnQgb2ZmZXIgU0RQIGRvZXMgbm90IGV4aXN0LlwiKTtjb25zdHtpY2VQYXJhbWV0ZXJzOnR9PWJNKGUuc2RwKTtyZXR1cm4gdGhpcy5zdG9yZS5kZXNjcmlwdGlvblN0YXJ0KCksdGhpcy5kaXJlY3Rpb249PT1mYi5TRU5EX09OTFkmJmF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbihlKSx0fWlmKCF0aGlzLnJlbW90ZVNEUCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY2FsbCBQMlBDb25uZWN0aW9uLnN0b3BSZWNlaXZpbmcgYmVmb3JlIHJlbW90ZSBTRFAgY3JlYXRlZC5cIik7aWYodGhpcy5yZW1vdGVTRFAucmVzdGFydElDRSh0KSx0aGlzLnN0b3JlLmRlc2NyaXB0aW9uU3RhcnQoKSx0aGlzLmRpcmVjdGlvbj09PWZiLlJFQ0VJVkVfT05MWSl7dGhpcy5yZXN0YXJ0Q250KyssYXdhaXQgdGhpcy5zZXRSZW1vdGVEZXNjcmlwdGlvbih7dHlwZTpcIm9mZmVyXCIsc2RwOnRoaXMucmVtb3RlU0RQLnRvU3RyaW5nKCl9KTtjb25zdCBlPWF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uY3JlYXRlQW5zd2VyKCk7aWYoIWUuc2RwKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBnZXQgYW5zd2VyIHNkcCB3aGVuIHRyeWluZyB0byBpY2VSZXN0YXJ0LlwiKTtjb25zdHtpY2VQYXJhbWV0ZXJzOnR9PWJNKGUuc2RwKTtyZXR1cm4gYXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKGUpLHR9YXdhaXQgdGhpcy5zZXRSZW1vdGVEZXNjcmlwdGlvbih7dHlwZTpcImFuc3dlclwiLHNkcDp0aGlzLnJlbW90ZVNEUC50b1N0cmluZygpfSksdGhpcy5pc1JlYWR5PSEwfWNhdGNoKGUpe3Rocm93IG5ldyBydihudi5FWENIQU5HRV9TRFBfRkFJTEVELFwiUDJQQ29ubmVjdGlvbiBzdG9wUmVjZWl2aW5nIGZhaWxlZDsgXCIuY29uY2F0KGUudG9TdHJpbmcoKSkpfX1jbG9zZSgpe3ZhciBlO3RoaXMucGVlckNvbm5lY3Rpb24uY2xvc2UoKSx0aGlzLnBlZXJDb25uZWN0aW9uLm9uaWNlY2FuZGlkYXRlPW51bGwsbnVsbD09PShlPXRoaXMub25Db25uZWN0aW9uU3RhdGVDaGFuZ2UpfHx2b2lkIDA9PT1lfHxlLmNhbGwodGhpcyxcImNsb3NlZFwiKSx0aGlzLnRyeVVuYmluZFRyYW5zcG9ydEV2ZW50cygpLHRoaXMudW5iaW5kUENFdmVudHMoKSx0aGlzLnVuYmluZFN0YXRzRXZlbnRzKCksdGhpcy50cmFuc3BvcnQ9dm9pZCAwLHRoaXMuc3RhdHNGaWx0ZXIuZGVzdHJveSgpfWdldFN0YXRzKCl7cmV0dXJuIHRoaXMuc3RhdHNGaWx0ZXIuZ2V0U3RhdHMoKX1nZXRSZW1vdGVWaWRlb0lzUmVhZHkoZSl7cmV0dXJuIHRoaXMuc3RhdHNGaWx0ZXIuZ2V0VmlkZW9Jc1JlYWR5KGUpfWFzeW5jIHVwZGF0ZUVuY29kZXJDb25maWcoZSx0KXt0cnl7aWYoIXRoaXMucmVtb3RlU0RQKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjYWxsIFAyUENvbm5lY3Rpb24udXBkYXRlRW5jb2RlckNvbmZpZyBiZWZvcmUgcmVtb3RlIFNEUCBjcmVhdGVkLlwiKTtjb25zdCBpPWF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uY3JlYXRlT2ZmZXIoKSxuPXRoaXMubXVuZ1NlbmRPZmZlclNEUChpLnNkcCxbdF0sW2VdKTt0aGlzLnJlbW90ZVNEUC51cGRhdGVSZWN2TWVkaWEoZSx0KTtjb25zdCByPXRoaXMucmVtb3RlU0RQLnRvU3RyaW5nKCksbz10aGlzLmxvZ1NEUEV4Y2hhbmdlKG4sXCJvZmZlclwiLFwibG9jYWxcIixcInVwZGF0ZUVuY29kZXJDb25maWdcIik7YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKHt0eXBlOlwib2ZmZXJcIixzZHA6bn0pLG51bGw9PW98fG8ociksYXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbih7dHlwZTpcImFuc3dlclwiLHNkcDpyfSl9Y2F0Y2goZSl7dGhyb3cgbmV3IHJ2KG52LkVYQ0hBTkdFX1NEUF9GQUlMRUQsZS50b1N0cmluZygpKX19YXN5bmMgdXBkYXRlU2VuZFBhcmFtZXRlcnMoZSx0KXtjb25zdCBpPXRoaXMucGVlckNvbm5lY3Rpb24uZ2V0VHJhbnNjZWl2ZXJzKCkuZmlsdGVyKCh0PT50Lm1pZD09PWUpKTsxPT09aS5sZW5ndGgmJih0aGlzLmlzVlA4U2ltdWxjYXN0KHQpP2tJKCl8fGF3YWl0IHRoaXMuYXBwbHlTaW11bGNhc3RFbmNvZGluZ3MoaSxbdF0pOmF3YWl0IHRoaXMuYXBwbHlTZW5kRW5jb2RpbmdzKGksW3RdKSl9c2V0U3RhdHNSZW1vdGVWaWRlb0lzUmVhZHkoZSx0KXt0aGlzLnN0YXRzRmlsdGVyLnNldFZpZGVvSXNSZWFkeTIoZSx0KX1hc3luYyByZXBsYWNlVHJhY2soZSx0KXtjb25zdCBpPXRoaXMucGVlckNvbm5lY3Rpb24uZ2V0VHJhbnNjZWl2ZXJzKCkuZmluZCgoZT0+ZS5taWQ9PT10KSk7aSYmYXdhaXQgaS5zZW5kZXIucmVwbGFjZVRyYWNrKGUuX21lZGlhU3RyZWFtVHJhY2spfWFzeW5jIGdldFNlbGVjdGVkQ2FuZGlkYXRlUGFpcigpe2NvbnN0IGU9dGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRSZWNlaXZlcnMoKTtpZihlLmxlbmd0aD4wJiZlWzBdLnRyYW5zcG9ydCYmZVswXS50cmFuc3BvcnQuaWNlVHJhbnNwb3J0JiZlWzBdLnRyYW5zcG9ydC5pY2VUcmFuc3BvcnQuZ2V0U2VsZWN0ZWRDYW5kaWRhdGVQYWlyJiZlWzBdLnRyYW5zcG9ydC5pY2VUcmFuc3BvcnQuZ2V0U2VsZWN0ZWRDYW5kaWRhdGVQYWlyKCkpe2NvbnN0IHQ9ZVswXS50cmFuc3BvcnQuaWNlVHJhbnNwb3J0LHtsb2NhbDppLHJlbW90ZTpufT10LmdldFNlbGVjdGVkQ2FuZGlkYXRlUGFpcigpO3JldHVybntsb2NhbDpVeChVeCh7fSxFeCkse30se2NhbmRpZGF0ZVR5cGU6aS50eXBlLHByb3RvY29sOmkucHJvdG9jb2wsYWRkcmVzczppLmFkZHJlc3MscG9ydDppLnBvcnR9KSxyZW1vdGU6VXgoVXgoe30sRXgpLHt9LHtjYW5kaWRhdGVUeXBlOm4udHlwZSxwcm90b2NvbDpuLnByb3RvY29sLGFkZHJlc3M6bi5hZGRyZXNzLHBvcnQ6bi5wb3J0fSl9fXJldHVybiB0aGlzLnN0YXRzRmlsdGVyLmdldFNlbGVjdGVkQ2FuZGlkYXRlUGFpcigpfWJpbmRQQ0V2ZW50cygpe3RoaXMucGVlckNvbm5lY3Rpb24ub25pY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2U9KCk9Pnt2YXIgZSx0O0RuKGU9W1wiY29ubmVjdGVkXCIsXCJjb21wbGV0ZWRcIl0pLmNhbGwoZSx0aGlzLnBlZXJDb25uZWN0aW9uLmljZUNvbm5lY3Rpb25TdGF0ZSkmJih0aGlzLmlzUmVhZHk9ITEpLG51bGw9PT0odD10aGlzLm9uSUNFQ29ubmVjdGlvblN0YXRlQ2hhbmdlKXx8dm9pZCAwPT09dHx8dC5jYWxsKHRoaXMsdGhpcy5wZWVyQ29ubmVjdGlvbi5pY2VDb25uZWN0aW9uU3RhdGUpfSx0aGlzLnBlZXJDb25uZWN0aW9uLm9uY29ubmVjdGlvbnN0YXRlY2hhbmdlPSgpPT57dmFyIGU7XCJjb25uZWN0ZWRcIj09PXRoaXMucGVlckNvbm5lY3Rpb24uY29ubmVjdGlvblN0YXRlJiYodGhpcy5yZXN0YXJ0Q250PTApLG51bGw9PT0oZT10aGlzLm9uQ29ubmVjdGlvblN0YXRlQ2hhbmdlKXx8dm9pZCAwPT09ZXx8ZS5jYWxsKHRoaXMsdGhpcy5wZWVyQ29ubmVjdGlvbi5jb25uZWN0aW9uU3RhdGUpfSx0aGlzLnN0YXJ0SUNFQ2FuZGlkYXRlKCl9c3RhcnRJQ0VDYW5kaWRhdGUoKXt0aGlzLnBlZXJDb25uZWN0aW9uLm9uaWNlY2FuZGlkYXRlfHwodGhpcy5sb2NhbENhbmRpZGF0ZUNvdW50PTAsdGhpcy5wZWVyQ29ubmVjdGlvbi5vbmljZWNhbmRpZGF0ZT1lPT57aWYoZS5jYW5kaWRhdGUpe3ZhciB0O2lmKGUuY2FuZGlkYXRlLmNhbmRpZGF0ZSludWxsPT09KHQ9dGhpcy5vbkxvY2FsQ2FuZGlkYXRlKXx8dm9pZCAwPT09dHx8dC5jYWxsKHRoaXMsZS5jYW5kaWRhdGUudG9KU09OKCkpO3RoaXMubG9jYWxDYW5kaWRhdGVDb3VudCs9MX1lbHNlIFF5LmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbcGMtXCIpLmNvbmNhdCh0aGlzLnN0b3JlLnAycElkLFwiXSBsb2NhbCBjYW5kaWRhdGUgY291bnRcIiksdGhpcy5sb2NhbENhbmRpZGF0ZUNvdW50KX0pfXVuYmluZFBDRXZlbnRzKCl7dGhpcy5wZWVyQ29ubmVjdGlvbi5vbmljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZT1udWxsLHRoaXMucGVlckNvbm5lY3Rpb24ub25jb25uZWN0aW9uc3RhdGVjaGFuZ2U9bnVsbCx0aGlzLnBlZXJDb25uZWN0aW9uLm9uc2lnbmFsaW5nc3RhdGVjaGFuZ2U9bnVsbCx0aGlzLnBlZXJDb25uZWN0aW9uLm9uaWNlY2FuZGlkYXRlZXJyb3I9bnVsbCx0aGlzLnBlZXJDb25uZWN0aW9uLm9uaWNlY2FuZGlkYXRlPW51bGwsdGhpcy5wZWVyQ29ubmVjdGlvbi5vbnRyYWNrPW51bGx9c3RhdGljIHJlc29sdmVQQ0NvbmZpZ3VyYXRpb24odCxpKXtsZXQgbj1hcmd1bWVudHMubGVuZ3RoPjImJnZvaWQgMCE9PWFyZ3VtZW50c1syXT9hcmd1bWVudHNbMl06MDtjb25zdCByPXtpY2VTZXJ2ZXJzOltdfTt2YXIgbzt0LmljZVNlcnZlcnM/ci5pY2VTZXJ2ZXJzPXQuaWNlU2VydmVyczp0LnR1cm5TZXJ2ZXImJlwib2ZmXCIhPT10LnR1cm5TZXJ2ZXIubW9kZSYmKGJ2KHQudHVyblNlcnZlci5zZXJ2ZXJzKT9yLmljZVNlcnZlcnM9dC50dXJuU2VydmVyLnNlcnZlcnM6KHIuaWNlU2VydmVycyYmci5pY2VTZXJ2ZXJzLnB1c2goLi4uZS50dXJuU2VydmVyQ29uZmlnVG9JY2VTZXJ2ZXJzKHQudHVyblNlcnZlci5zZXJ2ZXJzLGksbikpLER5KFwiVVNFX1RVUk5fU0VSVkVSX09GX0dBVEVXQVlcIikmJnIuaWNlU2VydmVycyYmdC50dXJuU2VydmVyLnNlcnZlcnNGcm9tR2F0ZXdheSYmci5pY2VTZXJ2ZXJzLnB1c2goLi4uZS50dXJuU2VydmVyQ29uZmlnVG9JY2VTZXJ2ZXJzKHQudHVyblNlcnZlci5zZXJ2ZXJzRnJvbUdhdGV3YXksaSxuKSksRG4obz1bQXkuUmVsYXksQXkuU2RSdG5dKS5jYWxsKG8saSkmJihyLmljZVRyYW5zcG9ydFBvbGljeT1cInJlbGF5XCIpLER5KFwiRk9SQ0VfVFVSTl9UQ1BcIik/ci5pY2VUcmFuc3BvcnRQb2xpY3k9XCJyZWxheVwiOnQudHVyblNlcnZlci5zZXJ2ZXJzLmNvbmNhdCh0LnR1cm5TZXJ2ZXIuc2VydmVyc0Zyb21HYXRld2F5fHxbXSkuZm9yRWFjaCgoZT0+e2UuZm9yY2V0dXJuJiYoci5pY2VUcmFuc3BvcnRQb2xpY3k9XCJyZWxheVwiKX0pKSkpO3JldHVybiBEeShcIkVOQUJMRV9FTkNPREVEX1RSQU5TRk9STVwiKSYmTUQoKS5zdXBwb3J0V2ViUlRDRW5jb2RlZFRyYW5zZm9ybSYmKHIuZW5jb2RlZEluc2VydGFibGVTdHJlYW1zPSEwKSxReS5kZWJ1ZyhcIlAyUENvbm5lY3Rpb24gcDJwVHJhbnNwb3J0IGlzIFwiLmNvbmNhdChpKSkscn1zdGF0aWMgdHVyblNlcnZlckNvbmZpZ1RvSWNlU2VydmVycyhlLHQpe2xldCBpPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTowO2NvbnN0IG49W10scj1lLmZpbHRlcigoZT0+ZS50Y3Bwb3J0KSk7UXkuZGVidWcoXCJQMlBDb25uZWN0aW9uIHR1cm5TZXJ2ZXJzIGlzIFwiLmNvbmNhdChyLFwiLCBjdXJyZW50IGluZGV4IGlzIFwiKS5jb25jYXQoaSkpO2NvbnN0IG89ci5sZW5ndGg+aT9yW2ldOnJbMF07c3dpdGNoKHQpe2Nhc2UgQXkuU2RSdG46Y29uc3QgdD1lLmZpbHRlcigoZT0+e3ZhciB0O3JldHVybiBEbih0PWUudXNlcm5hbWUpLmNhbGwodCxcImdsYjpcIikmJmUudHVyblNlcnZlclVSTD09ZS50dXJuU2VydmVyVVJMfSkpLHI9dC5sZW5ndGg+aT90W2ldOnRbMF07ciYmKG4ucHVzaCh7dXNlcm5hbWU6ci51c2VybmFtZSxjcmVkZW50aWFsOnIucGFzc3dvcmQsY3JlZGVudGlhbFR5cGU6XCJwYXNzd29yZFwiLHVybHM6XCJ0dXJuOlwiLmNvbmNhdChQdyhyLnR1cm5TZXJ2ZXJVUkwpLFwiOlwiKS5jb25jYXQoci50Y3Bwb3J0LFwiP3RyYW5zcG9ydD11ZHBcIil9KSxuLnB1c2goe3VzZXJuYW1lOnIudXNlcm5hbWUsY3JlZGVudGlhbDpyLnBhc3N3b3JkLGNyZWRlbnRpYWxUeXBlOlwicGFzc3dvcmRcIix1cmxzOlwidHVybnM6XCIuY29uY2F0KFB3KHIudHVyblNlcnZlclVSTCksXCI6XCIpLmNvbmNhdChyLnRjcHBvcnQsXCI/dHJhbnNwb3J0PXRjcFwiKX0pKTticmVhaztjYXNlIEF5LlJlbGF5Om8mJihuLnB1c2goe3VzZXJuYW1lOm8udXNlcm5hbWUsY3JlZGVudGlhbDpvLnBhc3N3b3JkLGNyZWRlbnRpYWxUeXBlOlwicGFzc3dvcmRcIix1cmxzOlwidHVybjpcIi5jb25jYXQoby50dXJuU2VydmVyVVJMLFwiOlwiKS5jb25jYXQoby50Y3Bwb3J0LFwiP3RyYW5zcG9ydD11ZHBcIil9KSxuLnB1c2goe3VzZXJuYW1lOm8udXNlcm5hbWUsY3JlZGVudGlhbDpvLnBhc3N3b3JkLGNyZWRlbnRpYWxUeXBlOlwicGFzc3dvcmRcIix1cmxzOlwidHVybnM6XCIuY29uY2F0KFB3KG8udHVyblNlcnZlclVSTCksXCI6XCIpLmNvbmNhdChvLnRjcHBvcnQsXCI/dHJhbnNwb3J0PXRjcFwiKX0pKTticmVhaztkZWZhdWx0Om8mJihuLnB1c2goe3VzZXJuYW1lOm8udXNlcm5hbWUsY3JlZGVudGlhbDpvLnBhc3N3b3JkLGNyZWRlbnRpYWxUeXBlOlwicGFzc3dvcmRcIix1cmxzOlwidHVybjpcIi5jb25jYXQoby50dXJuU2VydmVyVVJMLFwiOlwiKS5jb25jYXQoby50Y3Bwb3J0LFwiP3RyYW5zcG9ydD11ZHBcIil9KSxuLnB1c2goe3VzZXJuYW1lOm8udXNlcm5hbWUsY3JlZGVudGlhbDpvLnBhc3N3b3JkLGNyZWRlbnRpYWxUeXBlOlwicGFzc3dvcmRcIix1cmxzOlwidHVybnM6XCIuY29uY2F0KFB3KG8udHVyblNlcnZlclVSTCksXCI6XCIpLmNvbmNhdChvLnRjcHBvcnQsXCI/dHJhbnNwb3J0PXRjcFwiKX0pLG4ucHVzaCh7dXNlcm5hbWU6by51c2VybmFtZSxjcmVkZW50aWFsOm8ucGFzc3dvcmQsY3JlZGVudGlhbFR5cGU6XCJwYXNzd29yZFwiLHVybHM6XCJzdHVuOlwiLmNvbmNhdChvLnR1cm5TZXJ2ZXJVUkwsXCI6XCIpLmNvbmNhdChvLnRjcHBvcnQpfSkpfXJldHVybiBufXRyeUJpbmRUcmFuc3BvcnRFdmVudHMoZSl7aWYoZSl7dGhpcy50cmFuc3BvcnQ9ZSxlLm9uc3RhdGVjaGFuZ2U9KCk9Pnt2YXIgdDtudWxsIT1lJiZlLnN0YXRlJiYobnVsbD09PSh0PXRoaXMub25EVExTVHJhbnNwb3J0U3RhdGVDaGFuZ2UpfHx2b2lkIDA9PT10fHx0LmNhbGwodGhpcyxlLnN0YXRlKSl9LGUub25lcnJvcj1lPT57dmFyIHQ7bnVsbD09PSh0PXRoaXMub25EVExTVHJhbnNwb3J0RXJyb3IpfHx2b2lkIDA9PT10fHx0LmNhbGwodGhpcyxcImVycm9yXCJpbiBlP2UuZXJyb3I6ZSl9O2NvbnN0IHQ9ZS5pY2VUcmFuc3BvcnQ7dCYmKHQub25zdGF0ZWNoYW5nZT0oKT0+e2NvbnN0IHQ9bnVsbD09ZT92b2lkIDA6ZS5pY2VUcmFuc3BvcnQuc3RhdGU7dmFyIGk7dCYmKG51bGw9PT0oaT10aGlzLm9uSUNFVHJhbnNwb3J0U3RhdGVDaGFuZ2UpfHx2b2lkIDA9PT1pfHxpLmNhbGwodGhpcyx0KSl9LHQuZ2V0U2VsZWN0ZWRDYW5kaWRhdGVQYWlyJiYodC5vbnNlbGVjdGVkY2FuZGlkYXRlcGFpcmNoYW5nZT0oKT0+e2lmKHQuZ2V0U2VsZWN0ZWRDYW5kaWRhdGVQYWlyKCkpe2NvbnN0e2xvY2FsOmUscmVtb3RlOml9PXQuZ2V0U2VsZWN0ZWRDYW5kaWRhdGVQYWlyKCk7UXkuaW5mbyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW3BjLVwiKS5jb25jYXQodGhpcy5zdG9yZS5wMnBJZCxcIl0gc2VsZWN0ZWRjYW5kaWRhdGVwYWlyY2hhbmdlOiBsb2NhbCBcIikuY29uY2F0KEpTT04uc3RyaW5naWZ5KHtjYW5kaWRhdGVUeXBlOmUudHlwZSxwcm90b2NvbDplLnByb3RvY29sfSksXCIsIHJlbW90ZSBcIikuY29uY2F0KEpTT04uc3RyaW5naWZ5KHtjYW5kaWRhdGVUeXBlOmkudHlwZSxwcm90b2NvbDppLnByb3RvY29sLGFkZHJlc3M6aS5hZGRyZXNzLHBvcnQ6aS5wb3J0fSksXCIgKVwiKSl9fSkpfX10cnlVbmJpbmRUcmFuc3BvcnRFdmVudHMoKXt0aGlzLnRyYW5zcG9ydCYmKHRoaXMudHJhbnNwb3J0Lm9uc3RhdGVjaGFuZ2U9bnVsbCx0aGlzLnRyYW5zcG9ydC5vbmVycm9yPW51bGwsdGhpcy50cmFuc3BvcnQuaWNlVHJhbnNwb3J0JiYodGhpcy50cmFuc3BvcnQuaWNlVHJhbnNwb3J0Lm9uc3RhdGVjaGFuZ2U9bnVsbCkpfWFzeW5jIHVwZGF0ZVJ0cFNlbmRlckVuY29kaW5ncyhlLHQpe3ZhciBpO2lmKCF0KXt0PXRoaXMucGVlckNvbm5lY3Rpb24uZ2V0U2VuZGVycygpLmZpbmQoKHQ9PnQudHJhY2s9PT1lLl9tZWRpYVN0cmVhbVRyYWNrKSl9aWYoIXQpcmV0dXJuIFF5Lndhcm4oXCJbXCIuY29uY2F0KGUuZ2V0VHJhY2tJZCgpLFwiXSBubyBydHBTZW5kZXIgZm91bmR9XCIpKTtpZih0aGlzLmlzVlA4U2ltdWxjYXN0KGUpKXJldHVybiBReS53YXJuKFwiW3VwZGF0ZVJ0cFNlbmRlckVuY29kaW5nc10gVHJhY2sgaXMgVlA4IHNpbXVsY2FzdCwgcGxlYXNlIGFwcGx5IHNpbXVsY2FzdCBlbmNvZGluZ3NcIik7aWYoIU1EKCkuc3VwcG9ydFNldFJ0cFNlbmRlclBhcmFtZXRlcnMpcmV0dXJuIFF5Lndhcm4oXCJbdXBkYXRlUnRwU2VuZGVyRW5jb2RpbmdzXSBCcm93c2VyIG5vdCBzdXBwb3J0IHNldCBydHAtc2VuZGVyIHBhcmFtZXRlcnNcIik7Y29uc3Qgbj17fSxyPXt9O3N3aXRjaChlLl9vcHRpbWl6YXRpb25Nb2RlKXtjYXNlXCJtb3Rpb25cIjpuLmRlZ3JhZGF0aW9uUHJlZmVyZW5jZT1cIm1haW50YWluLWZyYW1lcmF0ZVwiO2JyZWFrO2Nhc2VcImRldGFpbFwiOm4uZGVncmFkYXRpb25QcmVmZXJlbmNlPVwibWFpbnRhaW4tcmVzb2x1dGlvblwiO2JyZWFrO2RlZmF1bHQ6bi5kZWdyYWRhdGlvblByZWZlcmVuY2U9XCJiYWxhbmNlZFwifWlmKGUuX2VuY29kZXJDb25maWcpe3ZhciBvO2NvbnN0e2JpdHJhdGVNYXg6dCxmcmFtZVJhdGU6aSxzY2FsZVJlc29sdXRpb25Eb3duQnk6bn09ZS5fZW5jb2RlckNvbmZpZzt0JiYoci5tYXhCaXRyYXRlPTFlMyp0KSxEbihvPWUuX2hpbnRzKS5jYWxsKG8sZVAuTE9XX1NUUkVBTSkmJihpJiYoci5tYXhGcmFtZXJhdGU9a3coaSkpLG4mJm4+PTEmJihyLnNjYWxlUmVzb2x1dGlvbkRvd25CeT1uKSl9aWYoRHkoXCJEU0NQX1RZUEVcIikmJlFJKCkpe3ZhciBzO2NvbnN0IGU9RHkoXCJEU0NQX1RZUEVcIik7RG4ocz1bXCJ2ZXJ5LWxvd1wiLFwibG93XCIsXCJtZWRpdW1cIixcImhpZ2hcIl0pLmNhbGwocyxlKSYmKHIubmV0d29ya1ByaW9yaXR5PWUpfWNvbnN0IGE9dC5nZXRQYXJhbWV0ZXJzKCksYz1udWxsPT09KGk9YS5lbmNvZGluZ3MpfHx2b2lkIDA9PT1pP3ZvaWQgMDppWzBdO2tJKCkmJiFjJiYobi5lbmNvZGluZ3M9W3JdKSxjJiZPYmplY3QuYXNzaWduKGMsciksT2JqZWN0LmFzc2lnbihhLG4pLFF5LmRlYnVnKFwiW1wiLmNvbmNhdChlLmdldFRyYWNrSWQoKSxcIl0gdXBkYXRlUnRwU2VuZGVyRW5jb2RpbmdzOiBcIikuY29uY2F0KEpTT04uc3RyaW5naWZ5KGEuZW5jb2RpbmdzKSkpLGF3YWl0IHQuc2V0UGFyYW1ldGVycyhhKX1hc3luYyBhcHBseVNlbmRFbmNvZGluZ3MoZSx0KXt0cnl7aWYoIU1EKCkuc3VwcG9ydFNldFJ0cFNlbmRlclBhcmFtZXRlcnMpcmV0dXJuO2lmKGUubGVuZ3RoIT09dC5sZW5ndGgpcmV0dXJuO2ZvcihsZXQgaT0wO2k8ZS5sZW5ndGg7aSsrKXtjb25zdCBuPWVbaV0scj10W2ldO3IgaW5zdGFuY2VvZiBIayYmIXRoaXMuaXNWUDhTaW11bGNhc3QocikmJmF3YWl0IHRoaXMudXBkYXRlUnRwU2VuZGVyRW5jb2RpbmdzKHIsbi5zZW5kZXIpfX1jYXRjaChlKXtReS5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gQXBwbHkgUlRQU2VuZEVuY29kaW5ncyBmYWlsZWQuXCIpKX19bXVuZ1NlbmRPZmZlclNEUChlLHQsaSl7Y29uc3Qgbj1DTS5wYXJzZShlKTtyZXR1cm4gdC5mb3JFYWNoKCgoZSx0KT0+e2NvbnN0IHI9aVt0XSxvPW4ubWVkaWFEZXNjcmlwdGlvbnMuZmluZCgoZT0+ZS5hdHRyaWJ1dGVzLm1pZD09PXIpKTtvJiYoUE0obyxlKSx4TShvLGUsdGhpcy5zdG9yZS5jb2RlYykpfSkpLENNLnByaW50KG4pfWJpbmRTdGF0c0V2ZW50cygpe3RoaXMuc3RhdHNGaWx0ZXIub25GaXJzdEF1ZGlvUmVjZWl2ZWQ9ZT0+e3ZhciB0O251bGw9PT0odD10aGlzLm9uRmlyc3RBdWRpb1JlY2VpdmVkKXx8dm9pZCAwPT09dHx8dC5jYWxsKHRoaXMsZSl9LHRoaXMuc3RhdHNGaWx0ZXIub25GaXJzdFZpZGVvUmVjZWl2ZWQ9ZT0+e3ZhciB0O251bGw9PT0odD10aGlzLm9uRmlyc3RWaWRlb1JlY2VpdmVkKXx8dm9pZCAwPT09dHx8dC5jYWxsKHRoaXMsZSl9LHRoaXMuc3RhdHNGaWx0ZXIub25GaXJzdEF1ZGlvRGVjb2RlZD1lPT57dmFyIHQ7bnVsbD09PSh0PXRoaXMub25GaXJzdEF1ZGlvRGVjb2RlZCl8fHZvaWQgMD09PXR8fHQuY2FsbCh0aGlzLGUpfSx0aGlzLnN0YXRzRmlsdGVyLm9uRmlyc3RWaWRlb0RlY29kZWQ9KGUsdCxpKT0+e3ZhciBuO251bGw9PT0obj10aGlzLm9uRmlyc3RWaWRlb0RlY29kZWQpfHx2b2lkIDA9PT1ufHxuLmNhbGwodGhpcyxlLHQsaSl9LHRoaXMuc3RhdHNGaWx0ZXIub25TZWxlY3RlZExvY2FsQ2FuZGlkYXRlQ2hhbmdlZD0oZSx0KT0+e3ZhciBpO251bGw9PT0oaT10aGlzLm9uU2VsZWN0ZWRMb2NhbENhbmRpZGF0ZUNoYW5nZWQpfHx2b2lkIDA9PT1pfHxpLmNhbGwodGhpcyxlLHQpfSx0aGlzLnN0YXRzRmlsdGVyLm9uU2VsZWN0ZWRSZW1vdGVDYW5kaWRhdGVDaGFuZ2VkPShlLHQpPT57dmFyIGk7bnVsbD09PShpPXRoaXMub25TZWxlY3RlZFJlbW90ZUNhbmRpZGF0ZUNoYW5nZWQpfHx2b2lkIDA9PT1pfHxpLmNhbGwodGhpcyxlLHQpfSx0aGlzLnN0YXRzRmlsdGVyLm9uRmlyc3RWaWRlb0RlY29kZWRUaW1lb3V0PWU9Pnt2YXIgdDtudWxsPT09KHQ9dGhpcy5vbkZpcnN0VmlkZW9EZWNvZGVkVGltZW91dCl8fHZvaWQgMD09PXR8fHQuY2FsbCh0aGlzLGUpfX11bmJpbmRTdGF0c0V2ZW50cygpe3RoaXMuc3RhdHNGaWx0ZXIub25GaXJzdEF1ZGlvUmVjZWl2ZWQ9dm9pZCAwLHRoaXMuc3RhdHNGaWx0ZXIub25GaXJzdFZpZGVvUmVjZWl2ZWQ9dm9pZCAwLHRoaXMuc3RhdHNGaWx0ZXIub25GaXJzdEF1ZGlvRGVjb2RlZD12b2lkIDAsdGhpcy5zdGF0c0ZpbHRlci5vbkZpcnN0VmlkZW9EZWNvZGVkPXZvaWQgMCx0aGlzLnN0YXRzRmlsdGVyLm9uU2VsZWN0ZWRMb2NhbENhbmRpZGF0ZUNoYW5nZWQ9dm9pZCAwLHRoaXMuc3RhdHNGaWx0ZXIub25TZWxlY3RlZFJlbW90ZUNhbmRpZGF0ZUNoYW5nZWQ9dm9pZCAwLHRoaXMuc3RhdHNGaWx0ZXIub25GaXJzdFZpZGVvRGVjb2RlZFRpbWVvdXQ9dm9pZCAwfWFzeW5jIGFwcGx5U2ltdWxjYXN0Rm9yRmlyZWZveChlLHQpe2lmKGUubGVuZ3RoPT09dC5sZW5ndGgpZm9yKGxldCBhPTA7YTxlLmxlbmd0aDthKyspe3ZhciBpLG4scixvLHM7Y29uc3QgYz1lW2FdLGQ9dFthXTtpZihkIGluc3RhbmNlb2YgSGsmJiFEbihpPWQuX2hpbnRzKS5jYWxsKGksZVAuTE9XX1NUUkVBTSkmJm51bGwhPT0obj1kLl9lbmNvZGVyQ29uZmlnKSYmdm9pZCAwIT09biYmbi5iaXRyYXRlTWF4JiYobnVsbD09PShyPWQuX2VuY29kZXJDb25maWcpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLmJpdHJhdGVNYXgpPjIwMCYmbnVsbCE9PShvPWQuX3NjYWxhYmlsaXR5TW9kZSkmJnZvaWQgMCE9PW8mJm8ubnVtU3BhdGlhbExheWVycyYmKG51bGw9PT0ocz1kLl9zY2FsYWJpbGl0eU1vZGUpfHx2b2lkIDA9PT1zP3ZvaWQgMDpzLm51bVNwYXRpYWxMYXllcnMpPjEmJlwidnA4XCI9PT10aGlzLnN0b3JlLmNvZGVjKXtjb25zdCBlPXt9LHQ9e2hpZ2g6MWUzKihkLl9lbmNvZGVyQ29uZmlnLmJpdHJhdGVNYXgtNTApLG1lZGl1bTo1ZTR9O2UuZW5jb2RpbmdzPVt7cmlkOlwibVwiLGFjdGl2ZTohMCxtYXhCaXRyYXRlOnQubWVkaXVtLHNjYWxlUmVzb2x1dGlvbkRvd25CeTo0fSx7cmlkOlwiaFwiLGFjdGl2ZTohMCxtYXhCaXRyYXRlOnQuaGlnaH1dO2NvbnN0IGk9Yy5zZW5kZXIuZ2V0UGFyYW1ldGVycygpO2F3YWl0IGMuc2VuZGVyLnNldFBhcmFtZXRlcnMoT2JqZWN0LmFzc2lnbihpLGUpKX19fWFzeW5jIGFwcGx5U2ltdWxjYXN0RW5jb2RpbmdzKGUsdCl7aWYoIWtJKCkmJmUubGVuZ3RoPT09dC5sZW5ndGgpZm9yKGxldCBpPTA7aTxlLmxlbmd0aDtpKyspe2NvbnN0IG49dFtpXTtpZihuIGluc3RhbmNlb2YgSGsmJnRoaXMuaXNWUDhTaW11bGNhc3Qobikpe2NvbnN0IHQ9ZVtpXSxyPXt9LG89e2hpZ2g6MWUzKihuLl9lbmNvZGVyQ29uZmlnLmJpdHJhdGVNYXgtNTApLG1lZGl1bTo1ZTR9O3IuZW5jb2RpbmdzPVt7YWN0aXZlOiEwLGFkYXB0aXZlUHRpbWU6ITEsbmV0d29ya1ByaW9yaXR5OlwiaGlnaFwiLHByaW9yaXR5OlwiaGlnaFwiLG1heEJpdHJhdGU6by5oaWdofSx7YWN0aXZlOiEwLGFkYXB0aXZlUHRpbWU6ITEsbmV0d29ya1ByaW9yaXR5OlwibG93XCIscHJpb3JpdHk6XCJsb3dcIixtYXhCaXRyYXRlOm8ubWVkaXVtLHNjYWxlUmVzb2x1dGlvbkRvd25CeTo0fV07Y29uc3Qgcz10LnNlbmRlci5nZXRQYXJhbWV0ZXJzKCk7YXdhaXQgdC5zZW5kZXIuc2V0UGFyYW1ldGVycyhPYmplY3QuYXNzaWduKHMscikpfX19aXNWUDhTaW11bGNhc3QoZSl7dmFyIHQsaSxuLHIsbztyZXR1cm4hIShlIGluc3RhbmNlb2YgSGsmJkR5KFwiU0lNVUxDQVNUXCIpJiZcInZwOFwiPT09dGhpcy5zdG9yZS5jb2RlYyYmIURuKHQ9ZS5faGludHMpLmNhbGwodCxlUC5MT1dfU1RSRUFNKSYmbnVsbCE9PShpPWUuX2VuY29kZXJDb25maWcpJiZ2b2lkIDAhPT1pJiZpLmJpdHJhdGVNYXgmJihudWxsPT09KG49ZS5fZW5jb2RlckNvbmZpZyl8fHZvaWQgMD09PW4/dm9pZCAwOm4uYml0cmF0ZU1heCk+MjAwJiZudWxsIT09KHI9ZS5fc2NhbGFiaWxpdHlNb2RlKSYmdm9pZCAwIT09ciYmci5udW1TcGF0aWFsTGF5ZXJzJiYobnVsbD09PShvPWUuX3NjYWxhYmlsaXR5TW9kZSl8fHZvaWQgMD09PW8/dm9pZCAwOm8ubnVtU3BhdGlhbExheWVycyk+MSl9bG9nU0RQRXhjaGFuZ2UoZSx0LGksbil7aWYoRHkoXCJTRFBfTE9HR0lOR1wiKSlyZXR1cm4gUXkudXBsb2FkKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBleGNoYW5naW5nIFwiKS5jb25jYXQoaSxcIiBcIikuY29uY2F0KHQsXCIgU0RQIGR1cmluZyBQMlBDb25uZWN0aW9uLlwiKS5jb25jYXQobixcIlxcblwiKSxlKSxcIm9mZmVyXCI9PT10P2U9Pnt0aGlzLmxvZ1NEUEV4Y2hhbmdlKGUsXCJhbnN3ZXJcIixcImxvY2FsXCI9PT1pP1wicmVtb3RlXCI6XCJsb2NhbFwiLG4pfTp2b2lkIDB9YXN5bmMgbXV0ZUxvY2FsKGUpe3RyeXtpZighdGhpcy5yZW1vdGVTRFApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNhbGwgUDJQQ29ubmVjdGlvbi5tdXRlTG9jYWwgYmVmb3JlIHJlbW90ZSBTRFAgY3JlYXRlZC5cIik7Y29uc3QgdD10aGlzLnBlZXJDb25uZWN0aW9uLmdldFRyYW5zY2VpdmVycygpLmZpbHRlcigodD0+dC5taWQmJi0xIT09ZS5pbmRleE9mKHQubWlkKSkpO2lmKHQubGVuZ3RoIT09ZS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiVHJhbnNjZWl2ZXJzJyBsZW5ndGggZG9lc24ndCBtYXRjaCBtaWRzJyBsZW5ndGguXCIpO3QubWFwKChlPT57ZS5kaXJlY3Rpb249XCJpbmFjdGl2ZVwifSkpO2NvbnN0IGk9YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5jcmVhdGVPZmZlcigpLG49dGhpcy5sb2dTRFBFeGNoYW5nZShpLnNkcHx8XCJcIixcIm9mZmVyXCIsXCJsb2NhbFwiLFwibXV0ZUxvY2FsXCIpO2F3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbihpKSx0aGlzLnJlbW90ZVNEUC5tdXRlUmVtb3RlKGUpO2NvbnN0IHI9dGhpcy5yZW1vdGVTRFAudG9TdHJpbmcoKTtudWxsPT1ufHxuKHIpLGF3YWl0IHRoaXMuc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJhbnN3ZXJcIixzZHA6cn0pfWNhdGNoKGUpe3Rocm93IG5ldyBydihudi5FWENIQU5HRV9TRFBfRkFJTEVELFwiUDJQQ29ubmVjdGlvbi5tdXRlTG9jYWwgZmFpbGVkOyBcIi5jb25jYXQoZS50b1N0cmluZygpKSl9fWFzeW5jIHVubXV0ZUxvY2FsKGUpe3RyeXtpZighdGhpcy5yZW1vdGVTRFApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNhbGwgUDJQQ29ubmVjdGlvbi51bm11dGVMb2NhbCBiZWZvcmUgcmVtb3RlIFNEUCBjcmVhdGVkLlwiKTtjb25zdCB0PXRoaXMucGVlckNvbm5lY3Rpb24uZ2V0VHJhbnNjZWl2ZXJzKCkuZmlsdGVyKCh0PT50Lm1pZCYmLTEhPT1lLmluZGV4T2YodC5taWQpKSk7aWYodC5sZW5ndGghPT1lLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJUcmFuc2NlaXZlcnMnIGxlbmd0aCBkb2Vzbid0IG1hdGNoIG1pZHMnIGxlbmd0aC5cIik7dC5tYXAoKGFzeW5jIGU9PntlLmRpcmVjdGlvbj1cInNlbmRvbmx5XCJ9KSk7Y29uc3QgaT1hd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLmNyZWF0ZU9mZmVyKCksbj10aGlzLmxvZ1NEUEV4Y2hhbmdlKGkuc2RwfHxcIlwiLFwib2ZmZXJcIixcImxvY2FsXCIsXCJ1bm11dGVMb2NhbFwiKTthd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24oaSksdGhpcy5yZW1vdGVTRFAudW5tdXRlUmVtb3RlKGUpO2NvbnN0IHI9dGhpcy5yZW1vdGVTRFAudG9TdHJpbmcoKTtudWxsPT1ufHxuKHIpLGF3YWl0IHRoaXMuc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJhbnN3ZXJcIixzZHA6cn0pfWNhdGNoKGUpe3Rocm93IG5ldyBydihudi5FWENIQU5HRV9TRFBfRkFJTEVELFwiUDJQQ29ubmVjdGlvbi51bm11dGVMb2NhbCBmYWlsZWQ7IFwiLmNvbmNhdChlLnRvU3RyaW5nKCkpKX19YXN5bmMgZ2V0UmVtb3RlU1NSQyhlLHQpe3ZhciBpLG47aWYodD1udWxsIT09KGk9dCkmJnZvaWQgMCE9PWk/aTpudWxsPT09KG49dGhpcy5jdXJyZW50UmVtb3RlRGVzY3JpcHRpb24pfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLnNkcCl7dmFyIHI7Y29uc3QgaT1udWxsPT09KHI9Q00ucGFyc2UodCkubWVkaWFEZXNjcmlwdGlvbnMuZmluZCgodD0+dC5hdHRyaWJ1dGVzLm1pZD09PWUpKSl8fHZvaWQgMD09PXI/dm9pZCAwOnIuYXR0cmlidXRlcy5zc3JjcztyZXR1cm4gbnVsbD09aT92b2lkIDA6aVswXS5zc3JjSWR9fWFzeW5jIHNldFJlbW90ZURlc2NyaXB0aW9uKGUpe3ZhciB0O2F3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24oZSksRG4odD1bXCJjb25uZWN0ZWRcIixcImNvbXBsZXRlZFwiXSkuY2FsbCh0LHRoaXMucGVlckNvbm5lY3Rpb24uaWNlQ29ubmVjdGlvblN0YXRlKXx8KHRoaXMuaXNSZWFkeT0hMCx0aGlzLmFkZFJlbW90ZUNhbmRpZGF0ZSgpKX1tdW5nUmVjZWl2ZUFuc3dlclNEUChlLHQsaSl7Y29uc3Qgbj1DTS5wYXJzZShlKSxyPW4ubWVkaWFEZXNjcmlwdGlvbnMuZmluZCgoZT0+ZS5hdHRyaWJ1dGVzLm1pZD09PXQpKTtyZXR1cm4gciYmaT09PVliLkFVRElPJiZcImF1ZGlvXCI9PT1yLm1lZGlhLm1lZGlhVHlwZSYmR00ociksQ00ucHJpbnQobil9fSxyYihreC5wcm90b3R5cGUsXCJlc3RhYmxpc2hcIixbVnhdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioa3gucHJvdG90eXBlLFwiZXN0YWJsaXNoXCIpLGt4LnByb3RvdHlwZSkscmIoa3gucHJvdG90eXBlLFwiY29ubmVjdFwiLFtWeF0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihreC5wcm90b3R5cGUsXCJjb25uZWN0XCIpLGt4LnByb3RvdHlwZSkscmIoa3gucHJvdG90eXBlLFwicmVjZWl2ZVwiLFtWeF0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihreC5wcm90b3R5cGUsXCJyZWNlaXZlXCIpLGt4LnByb3RvdHlwZSkscmIoa3gucHJvdG90eXBlLFwibW9ja1JlY2VpdmVcIixbVnhdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioa3gucHJvdG90eXBlLFwibW9ja1JlY2VpdmVcIiksa3gucHJvdG90eXBlKSxyYihreC5wcm90b3R5cGUsXCJzdG9wUmVjZWl2aW5nXCIsW1Z4XSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGt4LnByb3RvdHlwZSxcInN0b3BSZWNlaXZpbmdcIiksa3gucHJvdG90eXBlKSxyYihreC5wcm90b3R5cGUsXCJyZXN0YXJ0SUNFXCIsW1Z4XSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGt4LnByb3RvdHlwZSxcInJlc3RhcnRJQ0VcIiksa3gucHJvdG90eXBlKSxyYihreC5wcm90b3R5cGUsXCJjbG9zZVwiLFtWeF0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihreC5wcm90b3R5cGUsXCJjbG9zZVwiKSxreC5wcm90b3R5cGUpLHJiKGt4LnByb3RvdHlwZSxcInVwZGF0ZUVuY29kZXJDb25maWdcIixbVnhdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioa3gucHJvdG90eXBlLFwidXBkYXRlRW5jb2RlckNvbmZpZ1wiKSxreC5wcm90b3R5cGUpLHJiKGt4LnByb3RvdHlwZSxcInVwZGF0ZVNlbmRQYXJhbWV0ZXJzXCIsW1Z4XSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGt4LnByb3RvdHlwZSxcInVwZGF0ZVNlbmRQYXJhbWV0ZXJzXCIpLGt4LnByb3RvdHlwZSkscmIoa3gucHJvdG90eXBlLFwicmVwbGFjZVRyYWNrXCIsW1Z4XSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGt4LnByb3RvdHlwZSxcInJlcGxhY2VUcmFja1wiKSxreC5wcm90b3R5cGUpLHJiKGt4LnByb3RvdHlwZSxcIm11dGVMb2NhbFwiLFtWeF0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihreC5wcm90b3R5cGUsXCJtdXRlTG9jYWxcIiksa3gucHJvdG90eXBlKSxyYihreC5wcm90b3R5cGUsXCJ1bm11dGVMb2NhbFwiLFtWeF0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihreC5wcm90b3R5cGUsXCJ1bm11dGVMb2NhbFwiKSxreC5wcm90b3R5cGUpLGt4KTtmdW5jdGlvbiBWeChlLHQsaSl7Y29uc3Qgbj1lW3RdO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIG4pdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHVzZSBtdXRleCBvbiBvYmplY3QgcHJvcGVydHkuXCIpO3JldHVybiBpLnZhbHVlPWFzeW5jIGZ1bmN0aW9uKCl7Y29uc3QgZT10aGlzLm11dGV4LGk9YXdhaXQgZS5sb2NrKFwiRnJvbSBQMlBDb25uZWN0aW9uLlwiLmNvbmNhdCh0KSk7dHJ5e2Zvcih2YXIgcj1hcmd1bWVudHMubGVuZ3RoLG89bmV3IEFycmF5KHIpLHM9MDtzPHI7cysrKW9bc109YXJndW1lbnRzW3NdO3JldHVybiBhd2FpdCBuLmFwcGx5KHRoaXMsbyl9ZmluYWxseXtpKCl9fSxpfWZ1bmN0aW9uIEZ4KGUsdCl7bGV0IGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInZpZGVvXCIpLG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImNhbnZhc1wiKTtpLnNldEF0dHJpYnV0ZShcInN0eWxlXCIsXCJkaXNwbGF5Om5vbmVcIiksbi5zZXRBdHRyaWJ1dGUoXCJzdHlsZVwiLFwiZGlzcGxheTpub25lXCIpLGkuc2V0QXR0cmlidXRlKFwibXV0ZWRcIixcIlwiKSxpLm11dGVkPSEwLGkuc2V0QXR0cmlidXRlKFwiYXV0b3BsYXlcIixcIlwiKSxpLmF1dG9wbGF5PSEwLGkuc2V0QXR0cmlidXRlKFwicGxheXNpbmxpbmVcIixcIlwiKSxuLndpZHRoPWt3KHQud2lkdGgpLG4uaGVpZ2h0PWt3KHQuaGVpZ2h0KTtjb25zdCByPWt3KHQuZnJhbWVyYXRlfHwxNSk7ZG9jdW1lbnQuYm9keS5hcHBlbmQoaSksZG9jdW1lbnQuYm9keS5hcHBlbmQobik7bGV0IG89ZS5fbWVkaWFTdHJlYW1UcmFjaztpLnNyY09iamVjdD1uZXcgTWVkaWFTdHJlYW0oW29dKSxpLnBsYXkoKTtjb25zdCBzPW4uZ2V0Q29udGV4dChcIjJkXCIpO2lmKCFzKXRocm93IG5ldyBTYihudi5VTkVYUEVDVEVEX0VSUk9SLFwiY2FuIG5vdCBnZXQgY2FudmFzIGNvbnRleHRcIik7Y29uc3QgYT1NRCgpLGM9bi5jYXB0dXJlU3RyZWFtKGEuc3VwcG9ydFJlcXVlc3RGcmFtZT8wOnIpLmdldFZpZGVvVHJhY2tzKClbMF07Yy5jYW52YXN8fChjLmNhbnZhcz1uKSxuLnN0YXJ0Q2FwdHVyZT0oKT0+e2lmKCFpKXJldHVybiBuLnN0b3BDYXB0dXJlJiZuLnN0b3BDYXB0dXJlKCk7aWYoaS5wYXVzZWQmJmkucGxheSgpLGkudmlkZW9IZWlnaHQ+MiYmaS52aWRlb1dpZHRoPjIpe2NvbnN0IGU9aS52aWRlb1dpZHRoLHQ9aS52aWRlb0hlaWdodC9lLHI9bi53aWR0aCp0O01hdGguYWJzKHItbi5oZWlnaHQpPj0yJiYoUXkuZGVidWcoXCJhZGp1c3QgbG93IHN0cmVhbSByZXNvbHV0aW9uXCIsXCJcIi5jb25jYXQobi53aWR0aCxcInhcIikuY29uY2F0KG4uaGVpZ2h0LFwiIC0+IFwiKS5jb25jYXQobi53aWR0aCxcInhcIikuY29uY2F0KHIpKSxuLmhlaWdodD1yKX1zLmRyYXdJbWFnZShpLDAsMCxuLndpZHRoLG4uaGVpZ2h0KSxjLnJlcXVlc3RGcmFtZSYmYy5yZXF1ZXN0RnJhbWUoKSxvIT09ZS5fbWVkaWFTdHJlYW1UcmFjayYmKG89ZS5fbWVkaWFTdHJlYW1UcmFjayxpLnNyY09iamVjdD1uZXcgTWVkaWFTdHJlYW0oW29dKSl9LG4uc3RvcENhcHR1cmU9a1AoKCgpPT5uLnN0YXJ0Q2FwdHVyZSYmbi5zdGFydENhcHR1cmUoKSkscik7Y29uc3QgZD1jLnN0b3A7cmV0dXJuIGMuc3RvcD0oKT0+e2QuY2FsbChjKSxpJiYoaS5yZW1vdmUoKSxpLnNyY09iamVjdD1udWxsLGk9bnVsbCksbiYmKG4ud2lkdGg9MCxuLnJlbW92ZSgpLG4uc3RvcENhcHR1cmUmJm4uc3RvcENhcHR1cmUoKSxuLnN0YXJ0Q2FwdHVyZT12b2lkIDAsbi5zdG9wQ2FwdHVyZT12b2lkIDAsbj1udWxsKSxReS5kZWJ1ZyhcImNsZWFuIGxvdyBzdHJlYW0gcmVuZGVyZXJcIil9LGN9dmFyIEJ4PWZ1bmN0aW9uKGUpe3JldHVybiBlW2UuSEVJR0hUPTIwMzNdPVwiSEVJR0hUXCIsZVtlLkZSQU1FX1JBVEU9MjAzNF09XCJGUkFNRV9SQVRFXCIsZVtlLldJRFRIPTIwMzVdPVwiV0lEVEhcIixlfShCeHx8e30pLGp4PWZ1bmN0aW9uKGUpe3JldHVybiBlW2UuRlJBTUVfUkFURT0yMDAyXT1cIkZSQU1FX1JBVEVcIixlW2UuV0lEVEg9MjAwM109XCJXSURUSFwiLGVbZS5IRUlHSFQ9MjAwNF09XCJIRUlHSFRcIixlW2UuUEFDS0FHRV9MT1NUPTIwMDVdPVwiUEFDS0FHRV9MT1NUXCIsZVtlLkFWR19FTkNPREU9MjAwN109XCJBVkdfRU5DT0RFXCIsZVtlLk5BQ0tTPTIwMDldPVwiTkFDS1NcIixlW2UuUExJUz0yMDEwXT1cIlBMSVNcIixlW2UuRklSUz0yMDExXT1cIkZJUlNcIixlW2UuQklUUkFURT0yMDEyXT1cIkJJVFJBVEVcIixlW2UuUEFDS0FHRV9SQVRFPTIwMzFdPVwiUEFDS0FHRV9SQVRFXCIsZVtlLkFEQVBUQVRJT049MjAzMl09XCJBREFQVEFUSU9OXCIsZVtlLkFDVFVBTF9FTkNPREVEPTIwNjBdPVwiQUNUVUFMX0VOQ09ERURcIixlW2UuQkFORFdJRFRIPTIwNjFdPVwiQkFORFdJRFRIXCIsZVtlLlJFVFJBTlNNSVQ9MjA2Ml09XCJSRVRSQU5TTUlUXCIsZVtlLlRBUkdFVF9FTkNPREVEPTIwNjRdPVwiVEFSR0VUX0VOQ09ERURcIixlW2UuVFJBTlNNSVQ9MjA2Nl09XCJUUkFOU01JVFwiLGVbZS5GUkVFWkU9MjA4Ml09XCJGUkVFWkVcIixlW2UuRElTQUJMRUQ9MjA5NV09XCJESVNBQkxFRFwiLGVbZS5QTEFZRVJfU1RBVFVTPTIxMjhdPVwiUExBWUVSX1NUQVRVU1wiLGVbZS5RUF9TVU09MjE0M109XCJRUF9TVU1cIixlfShqeHx8e30pLEd4PWZ1bmN0aW9uKGUpe3JldHVybiBlW2UuQklUUkFURT0yMDY5XT1cIkJJVFJBVEVcIixlW2UuUEFDS0FHRV9MT1NUPTIwNzBdPVwiUEFDS0FHRV9MT1NUXCIsZVtlLlBBQ0tBR0VfUkFURT0yMDcxXT1cIlBBQ0tBR0VfUkFURVwiLGVbZS5IRUlHSFQ9MjA3M109XCJIRUlHSFRcIixlW2UuRlJBTUVfUkFURT0yMDc1XT1cIkZSQU1FX1JBVEVcIixlW2UuV0lEVEg9MjA3N109XCJXSURUSFwiLGV9KEd4fHx7fSksV3g9ZnVuY3Rpb24oZSl7cmV0dXJuIGVbZS5KSVRURVI9LTFdPVwiSklUVEVSXCIsZVtlLlBBQ0tBR0VfTE9TVD0yMDE0XT1cIlBBQ0tBR0VfTE9TVFwiLGVbZS5XSURUSD0yMDE4XT1cIldJRFRIXCIsZVtlLkhFSUdIVD0yMDE5XT1cIkhFSUdIVFwiLGVbZS5GUkFNRV9SQVRFPTIwMjBdPVwiRlJBTUVfUkFURVwiLGVbZS5KSVRURVJfQlVGRkVSPTIwMjNdPVwiSklUVEVSX0JVRkZFUlwiLGVbZS5DVVJSRU5UX0RFTEFZPTIwMjRdPVwiQ1VSUkVOVF9ERUxBWVwiLGVbZS5OQUNLUz0yMDI2XT1cIk5BQ0tTXCIsZVtlLlBMSVM9MjAyN109XCJQTElTXCIsZVtlLkZJUlM9MjAyOF09XCJGSVJTXCIsZVtlLkJJVFJBVEU9MjAyOV09XCJCSVRSQVRFXCIsZVtlLlBBQ0tBR0VfUkFURT0yMDc4XT1cIlBBQ0tBR0VfUkFURVwiLGVbZS5GUkVFWkU9MjA4NF09XCJGUkVFWkVcIixlW2UuRElTQUJMRUQ9MjEwMV09XCJESVNBQkxFRFwiLGVbZS5QTEFZRVJfU1RBVFVTPTIxMjldPVwiUExBWUVSX1NUQVRVU1wiLGVbZS5RUF9TVU09MjE0NF09XCJRUF9TVU1cIixlW2UuSV9GUkFNRV9ERUxBWT0yMTQ5XT1cIklfRlJBTUVfREVMQVlcIixlfShXeHx8e30pLEh4PWZ1bmN0aW9uKGUpe3JldHVybiBlW2UuRlJBTUVfUkFURV9ERUNPREU9MjAyMV09XCJGUkFNRV9SQVRFX0RFQ09ERVwiLGVbZS5GUkFNRV9SQVRFX1JFTkRFUj0yMDIyXT1cIkZSQU1FX1JBVEVfUkVOREVSXCIsZVtlLkZSQU1FX1JBVEVfT1VUUFVUPTIxNTVdPVwiRlJBTUVfUkFURV9PVVRQVVRcIixlW2UuRlJFRVpFX1RJTUU9MjEwOV09XCJGUkVFWkVfVElNRVwiLGVbZS5GUkVFWkVfVElNRV9SRU5ERVI9MjE0N109XCJGUkVFWkVfVElNRV9SRU5ERVJcIixlW2UuRlJFRVpFX0RVUkFUSU9OPTIxNTZdPVwiRlJFRVpFX0RVUkFUSU9OXCIsZX0oSHh8fHt9KSxLeD1mdW5jdGlvbihlKXtyZXR1cm4gZVtlLlBDTV9MRVZFTD0yMTA0XT1cIlBDTV9MRVZFTFwiLGV9KEt4fHx7fSksWXg9ZnVuY3Rpb24oZSl7cmV0dXJuIGVbZS5QQUNLQUdFX0xPU1Q9LTFdPVwiUEFDS0FHRV9MT1NUXCIsZVtlLkxFVkVMPTIwMzhdPVwiTEVWRUxcIixlW2UuQklUUkFURT0yMDM5XT1cIkJJVFJBVEVcIixlW2UuUEFDS0FHRV9SQVRFPTIwNDBdPVwiUEFDS0FHRV9SQVRFXCIsZVtlLkFFQ19SRVRVUk5fTE9TUz0yMDQxXT1cIkFFQ19SRVRVUk5fTE9TU1wiLGVbZS5BRUNfUkVUVVJOX0xPU1NfRU5IPTIwNDJdPVwiQUVDX1JFVFVSTl9MT1NTX0VOSFwiLGVbZS5GUkVFWkU9MjA4MV09XCJGUkVFWkVcIixlW2UuRElTQUJMRUQ9MjA5Nl09XCJESVNBQkxFRFwiLGV9KFl4fHx7fSkscXg9ZnVuY3Rpb24oZSl7cmV0dXJuIGVbZS5CSVRSQVRFPTIwNDRdPVwiQklUUkFURVwiLGVbZS5QQUNLQUdFX0xPU1Q9MjA0NV09XCJQQUNLQUdFX0xPU1RcIixlW2UuUEFDS0FHRV9SQVRFPTIwNDZdPVwiUEFDS0FHRV9SQVRFXCIsZVtlLkNVUlJFTlRfREVMQVk9MjA0N109XCJDVVJSRU5UX0RFTEFZXCIsZVtlLkpJVFRFUl9CVUZGRVI9MjA1NF09XCJKSVRURVJfQlVGRkVSXCIsZVtlLkpJVFRFUj0yMDU1XT1cIkpJVFRFUlwiLGVbZS5GUkVFWkU9MjA4M109XCJGUkVFWkVcIixlW2UuRElTQUJMRUQ9MjEwMl09XCJESVNBQkxFRFwiLGVbZS5QQ01fTEVWRUw9MjEwNV09XCJQQ01fTEVWRUxcIixlW2UuUExBWUVSX1NUQVRVUz0yMTMwXT1cIlBMQVlFUl9TVEFUVVNcIixlW2UuQ09OQ0VBTEVEX1NBTVBMRVM9MjE0OF09XCJDT05DRUFMRURfU0FNUExFU1wiLGV9KHF4fHx7fSkseng9ZnVuY3Rpb24oZSl7cmV0dXJuIGVbZS5GUkVFWkVfVElNRT0tMV09XCJGUkVFWkVfVElNRVwiLGVbZS5MRVZFTD0yMDQzXT1cIkxFVkVMXCIsZX0oenh8fHt9KSxKeD1mdW5jdGlvbihlKXtyZXR1cm4gZVtlLlJUVD0yMDA2XT1cIlJUVFwiLGVbZS5DT05OX1RZUEU9ODAxXT1cIkNPTk5fVFlQRVwiLGV9KEp4fHx7fSk7Y29uc3QgWHg9MWUzLFF4PTM7ZnVuY3Rpb24gWngoZSx0LGkpe251bGwhPWkmJk51bWJlci5pc0Zpbml0ZShpKSYmKGVbdF09TWF0aC5yb3VuZChNYXRoLm1heCgwLGkpKSl9ZnVuY3Rpb24gJHgoZSl7Y29uc3QgdD17W0p4LkNPTk5fVFlQRV06MCxbSnguUlRUXTplLnJ0dH07c3dpdGNoKGUuc2VsZWN0ZWRDYW5kaWRhdGVQYWlyLmxvY2FsQ2FuZGlkYXRlLmNhbmRpZGF0ZVR5cGUpe2Nhc2VcInJlbGF5XCI6e2NvbnN0IGk9ZS5zZWxlY3RlZENhbmRpZGF0ZVBhaXIubG9jYWxDYW5kaWRhdGUucmVsYXlQcm90b2NvbDtcInVkcFwiPT09aSYmKHRbSnguQ09OTl9UWVBFXT0xKSxcInRjcFwiPT09aSYmKHRbSnguQ09OTl9UWVBFXT0zKSxcInRsc1wiPT09aSYmKHRbSnguQ09OTl9UWVBFXT00KTticmVha31jYXNlXCJzcmZseFwiOnRbSnguQ09OTl9UWVBFXT0yfXJldHVybiB0fWZ1bmN0aW9uIGVWKGUpe2xldCB0PTA7c3dpdGNoKGUpe2Nhc2VcIm5vbmVcIjp0PTA7YnJlYWs7Y2FzZVwiY3B1XCI6dD0xO2JyZWFrO2Nhc2VcImJhbmR3aWR0aFwiOnQ9MjticmVhaztjYXNlXCJvdGhlclwiOnQ9M31yZXR1cm4gdH1jbGFzcyB0ViBleHRlbmRzIFN2e2NvbnN0cnVjdG9yKGUpe3N1cGVyKCksb2codGhpcyxcInN0b3JlXCIsdm9pZCAwKSxvZyh0aGlzLFwidXBsb2FkV1JUQ1N0YXRzVGltZXJcIix2b2lkIDApLG9nKHRoaXMsXCJ1cGxvYWRPdXRib3VuZERlbm9pc2VyU3RhdHNUaW1lclwiLHZvaWQgMCksb2codGhpcyxcInVwbG9hZEV4dFN0YXRzVGltZXJcIix2b2lkIDApLG9nKHRoaXMsXCJ1cGxvYWRFeHRVc2FnZVN0YXRzVGltZXJcIix2b2lkIDApLG9nKHRoaXMsXCJ1cGxvYWRJbmJvdW5kRXh0U3RhdHNUaW1lclwiLHZvaWQgMCksb2codGhpcyxcInJlcXVlc3RTdGF0c1wiLHZvaWQgMCksb2codGhpcyxcInJlcXVlc3RUcmFuc3BvcnRTdGF0c1wiLHZvaWQgMCksb2codGhpcyxcInJlcXVlc3RMb2NhbE1lZGlhXCIsdm9pZCAwKSxvZyh0aGlzLFwicmVxdWVzdFJlbW90ZU1lZGlhXCIsdm9pZCAwKSxvZyh0aGlzLFwicmVxdWVzdEFsbFRyYWNrc1wiLHZvaWQgMCksb2codGhpcyxcInJlcXVlc3RWaWRlb0lzUmVhZHlcIix2b2lkIDApLG9nKHRoaXMsXCJyZXF1ZXN0VXBsb2FkU3RhdHNcIix2b2lkIDApLG9nKHRoaXMsXCJyZXF1ZXN0VXBsb2FkXCIsdm9pZCAwKSxvZyh0aGlzLFwidXBsb2FkT3V0Ym91bmRTdGFydGVkXCIsITEpLG9nKHRoaXMsXCJ1cGxvYWRJbmJvdW5kU3RhcnRlZFwiLCExKSxvZyh0aGlzLFwidXBsb2FkVHJhbnNwb3J0U3RhcnRlZFwiLCExKSxvZyh0aGlzLFwidXBsb2FkRXh0ZW5zaW9uVXNhZ2VTdGFydGVkXCIsITEpLG9nKHRoaXMsXCJsYXN0UmVjdlN0YXRzXCIsdm9pZCAwKSxvZyh0aGlzLFwibGFzdFNlbmRTdGF0c1wiLHZvaWQgMCksb2codGhpcyxcImxhc3RGdWxsUmVjdlN0YXRzXCIsdm9pZCAwKSxvZyh0aGlzLFwibGFzdEZ1bGxTZW5kU3RhdHNcIix2b2lkIDApLG9nKHRoaXMsXCJuZWVkVXBsb2FkUmVuZGVyRnJlZXplVGltZVwiLCEwKSx0aGlzLnN0b3JlPWV9dXBsb2FkV1JUQ1N0YXRzKGUpe2lmKCF0aGlzLnJlcXVlc3RTdGF0c3x8IXRoaXMucmVxdWVzdFVwbG9hZFN0YXRzKXJldHVybjtsZXQgdCxpO2lmKHRoaXMudXBsb2FkVHJhbnNwb3J0U3RhcnRlZCYmKHQ9dGhpcy5yZXF1ZXN0U3RhdHMoKSx0aGlzLnN0b3JlLnVzZVAyUCYmKGk9dGhpcy5yZXF1ZXN0U3RhdHMoITApKSksIXQmJnRoaXMudXBsb2FkT3V0Ym91bmRTdGFydGVkJiYodD10aGlzLnJlcXVlc3RTdGF0cygpKSwhaSYmdGhpcy51cGxvYWRJbmJvdW5kU3RhcnRlZCYmKGk9dGhpcy5yZXF1ZXN0U3RhdHMoITApKSx0fHxpKXtjb25zdCBuPXt9O2lmKHRoaXMudXBsb2FkVHJhbnNwb3J0U3RhcnRlZCYmdCl7Y29uc3Qgcj10aGlzLmdldFRyYW5zcG9ydFN0YXRzKHQsaSxlKTtyJiYobi5taXNjPVtyXSl9aWYodGhpcy51cGxvYWRPdXRib3VuZFN0YXJ0ZWQmJnQpe2NvbnN0IGk9dGhpcy5nZXRPdXRib3VuZFN0YXRzKHQsZT90aGlzLmxhc3RTZW5kU3RhdHM6dGhpcy5sYXN0RnVsbFNlbmRTdGF0cyxlKTtpJiYobi5vdXRib3VuZD1baV0pfWlmKHRoaXMudXBsb2FkSW5ib3VuZFN0YXJ0ZWQmJmkpe2NvbnN0IHQ9dGhpcy5nZXRJbmJvdW5kU3RhdHMoaSxlP3RoaXMubGFzdFJlY3ZTdGF0czp0aGlzLmxhc3RGdWxsUmVjdlN0YXRzLGUpO3QmJihuLmluYm91bmQ9dCl9dGhpcy5yZXF1ZXN0VXBsb2FkU3RhdHMobil9dGhpcy5sYXN0UmVjdlN0YXRzPWksdGhpcy5sYXN0U2VuZFN0YXRzPXQsZXx8KHRoaXMubGFzdEZ1bGxSZWN2U3RhdHM9aSx0aGlzLmxhc3RGdWxsU2VuZFN0YXRzPXQpfXN0YXJ0VXBsb2FkV1JUQ1N0YXRzKCl7aWYodGhpcy51cGxvYWRXUlRDU3RhdHNUaW1lcilyZXR1cm47bGV0IGU9MTt0aGlzLnVwbG9hZFdSVENTdGF0c1RpbWVyPXdpbmRvdy5zZXRJbnRlcnZhbCgoKCk9PntpZighdGhpcy51cGxvYWRUcmFuc3BvcnRTdGFydGVkJiYhdGhpcy51cGxvYWRJbmJvdW5kU3RhcnRlZCYmIXRoaXMudXBsb2FkT3V0Ym91bmRTdGFydGVkKXJldHVybiB0aGlzLnN0b3BVcGxvYWRXUlRDU3RhdHMoKTt0aGlzLnVwbG9hZFdSVENTdGF0cyhlIT09UXgpLCsrZT09PVF4KzEmJihlPTEpfSksWHgpfXN0b3BVcGxvYWRXUlRDU3RhdHMoKXt3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLnVwbG9hZFdSVENTdGF0c1RpbWVyKSx0aGlzLnVwbG9hZFdSVENTdGF0c1RpbWVyPXZvaWQgMCx0aGlzLmxhc3RTZW5kU3RhdHMmJih0aGlzLmxhc3RTZW5kU3RhdHMudmlkZW9TZW5kPVtdLHRoaXMubGFzdFNlbmRTdGF0cy5hdWRpb1NlbmQ9W10sdGhpcy5sYXN0U2VuZFN0YXRzPXZvaWQgMCksdGhpcy5sYXN0UmVjdlN0YXRzJiYodGhpcy5sYXN0UmVjdlN0YXRzLnZpZGVvUmVjdj1bXSx0aGlzLmxhc3RSZWN2U3RhdHMuYXVkaW9SZWN2PVtdLHRoaXMubGFzdFJlY3ZTdGF0cz12b2lkIDApfWdldFRyYW5zcG9ydFN0YXRzKGUsdCxpKXtpZighdGhpcy5yZXF1ZXN0U3RhdHMpcmV0dXJuO2lmKGkpcmV0dXJuIG51bGw9PWUucnR0P3ZvaWQgMDp7YWRkaXRpb246e1tKeC5SVFRdOmUucnR0LFtKeC5DT05OX1RZUEVdOnZvaWQgMH19O2NvbnN0IG49JHgoZSk7aWYodGhpcy5zdG9yZS51c2VQMlApe2lmKHQpe2NvbnN0IGU9JHgodCk7bltKeC5DT05OX1RZUEVdKz1lW0p4LkNPTk5fVFlQRV08PDN9bltKeC5DT05OX1RZUEVdKz0xMTB9ZWxzZSBuW0p4LkNPTk5fVFlQRV0rPTEwMDtyZXR1cm57YWRkaXRpb246bn19Z2V0T3V0Ym91bmRTdGF0cyhlLHQsaSl7aWYoIXRoaXMucmVxdWVzdFVwbG9hZFN0YXRzfHwhdGhpcy5yZXF1ZXN0TG9jYWxNZWRpYSlyZXR1cm47Y29uc3Qgbj10aGlzLnJlcXVlc3RMb2NhbE1lZGlhKCk7aWYoIW58fDA9PT1uLmxlbmd0aClyZXR1cm47bGV0IHIsbyxzO3JldHVybiBuLmZvckVhY2goKG49PntsZXRbYSx7dHJhY2s6Yyxzc3JjczpkfV09bjtzd2l0Y2goYSl7Y2FzZSBKYi5Mb2NhbFZpZGVvTG93VHJhY2s6Y2FzZSBKYi5Mb2NhbFZpZGVvVHJhY2s6aWYoYT09PUpiLkxvY2FsVmlkZW9UcmFjayl7Y29uc3Qgbj1mdW5jdGlvbihlLHQsaSxuLHIpe2NvbnN0IG89dC52aWRlb1NlbmQuZmluZCgodD0+dC5zc3JjPT09ZSkpO2lmKCFvKXJldHVybjtjb25zdCBzPXt9LHtzZW50RnJhbWU6YSxpbnB1dEZyYW1lOmN9PW87aWYoYyYmYSl7Y29uc3QgZT1jLmZyYW1lUmF0ZSx0PWEuZnJhbWVSYXRlO3NbanguRlJFRVpFXT1mdW5jdGlvbihlLHQpe2xldCBpPSEwO3JldHVybiBpPSEoZTw9NSkmJihlPD0xMD90PDM6ZTw9MjA/dDw0OnQ8NSksaX0oZSx0KT8xOjB9aWYoWngocyxqeC5RUF9TVU0sby5xcFN1bVBlckZyYW1lKSxyKXJldHVybiBzO3N3aXRjaChhJiYoWngocyxqeC5IRUlHSFQsYS5oZWlnaHQpLFp4KHMsanguV0lEVEgsYS53aWR0aCksWngocyxqeC5GUkFNRV9SQVRFLGEuZnJhbWVSYXRlKSksc1tqeC5ESVNBQkxFRF09bi5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjayYmIW4uX29yaWdpbk1lZGlhU3RyZWFtVHJhY2suZW5hYmxlZHx8bi5fbWVkaWFTdHJlYW1UcmFjayYmIW4uX21lZGlhU3RyZWFtVHJhY2suZW5hYmxlZD8xOjAsby5hZGFwdGlvbkNoYW5nZVJlYXNvbil7Y2FzZVwibm9uZVwiOnNbanguQURBUFRBVElPTl09MDticmVhaztjYXNlXCJjcHVcIjpzW2p4LkFEQVBUQVRJT05dPTE7YnJlYWs7Y2FzZVwiYmFuZHdpZHRoXCI6c1tqeC5BREFQVEFUSU9OXT0yO2JyZWFrO2Nhc2VcIm90aGVyXCI6c1tqeC5BREFQVEFUSU9OXT0zfWxldCBkPTA7by5hZGFwdGlvbkNoYW5nZVJlYXNvbiYmKGQrPWVWKG8uYWRhcHRpb25DaGFuZ2VSZWFzb24pKSx0LnF1YWxpdHlMaW1pdGF0aW9uUmVhc29uJiYoZCs9ZVYodC5xdWFsaXR5TGltaXRhdGlvblJlYXNvbik8PDMpLHNbanguQURBUFRBVElPTl09ZCxzW2p4LlBMQVlFUl9TVEFUVVNdPWdQW24uX3BsYXllcj9uLl9wbGF5ZXIudmlkZW9FbGVtZW50U3RhdHVzOlwidW5pbml0XCJdLFp4KHMsanguTkFDS1Msby5uYWNrc0NvdW50KSxaeChzLGp4LlBMSVMsby5wbGlzQ291bnQpLFp4KHMsanguRklSUyxvLmZpcnNDb3VudCksWngocyxqeC5BVkdfRU5DT0RFLG8uYXZnRW5jb2RlTXMpO2NvbnN0IGw9aSYmaS52aWRlb1NlbmQuZmluZCgodD0+dC5zc3JjPT09ZSkpO2lmKGwpe2xldCBlPXI/WHg6WHgqUXg7bC50aW1lc3RhbXAmJm8udGltZXN0YW1wJiYoZT1vLnRpbWVzdGFtcC1sLnRpbWVzdGFtcCksbnVsbCE9bC5wYWNrZXRzJiZudWxsIT1vLnBhY2tldHMmJlp4KHMsanguUEFDS0FHRV9SQVRFLDFlMyooby5wYWNrZXRzLWwucGFja2V0cykvZSksbnVsbCE9by5wYWNrZXRzTG9zdCYmbnVsbCE9bC5wYWNrZXRzTG9zdCYmWngocyxqeC5QQUNLQUdFX0xPU1Qsby5wYWNrZXRzTG9zdC1sLnBhY2tldHNMb3N0KSxudWxsIT1sLmJ5dGVzJiZudWxsIT1vLmJ5dGVzJiZaeChzLGp4LkJJVFJBVEUsOCooby5ieXRlcy1sLmJ5dGVzKS9lKX1yZXR1cm4gc30oZFswXS5zc3JjSWQsZSx0LGMsaSkscj1pP251bGw6ZnVuY3Rpb24oZSx0LGkpe2NvbnN0IG49dC52aWRlb1NlbmQuZmluZCgodD0+dC5zc3JjPT09ZSkpO2lmKCFuKXJldHVybiBudWxsO2NvbnN0IHI9e30sbz1uLmlucHV0RnJhbWUscz1vJiZvLmhlaWdodHx8aSYmaS52aWRlb0hlaWdodHx8MCxhPW8mJm8ud2lkdGh8fGkmJmkudmlkZW9XaWR0aHx8MCxjPW8mJm8uZnJhbWVSYXRlfHwwO3JldHVybiBaeChyLEJ4LkhFSUdIVCxzKSxaeChyLEJ4LldJRFRILGEpLFp4KHIsQnguRlJBTUVfUkFURSxjKSxyfShkWzBdLnNzcmNJZCxlLGMpLHM9aT9udWxsOmZ1bmN0aW9uKGUpe2NvbnN0IHQ9e307cmV0dXJuIFp4KHQsanguUkVUUkFOU01JVCxlLmJpdHJhdGUucmV0cmFuc21pdCksWngodCxqeC5UQVJHRVRfRU5DT0RFRCxlLmJpdHJhdGUudGFyZ2V0RW5jb2RlZCksWngodCxqeC5BQ1RVQUxfRU5DT0RFRCxlLmJpdHJhdGUuYWN0dWFsRW5jb2RlZCksWngodCxqeC5UUkFOU01JVCxlLmJpdHJhdGUudHJhbnNtaXQpLFp4KHQsanguQkFORFdJRFRILGUuc2VuZEJhbmR3aWR0aCksdH0oZSk7bz1PYmplY3QuYXNzaWduKHt9LG4scixzKX1lbHNlIHM9aT92b2lkIDA6ZnVuY3Rpb24oZSx0LGkpe2NvbnN0IG49dC52aWRlb1NlbmQuZmluZCgodD0+dC5zc3JjPT09ZSkpO2lmKCFuKXJldHVybjtjb25zdCByPXt9LG89bi5zZW50RnJhbWU7aWYobyYmKFp4KHIsR3guSEVJR0hULG8uaGVpZ2h0KSxaeChyLEd4LldJRFRILG8ud2lkdGgpLFp4KHIsR3guRlJBTUVfUkFURSxvLmZyYW1lUmF0ZSkpLGkpe2NvbnN0IHQ9aS52aWRlb1NlbmQuZmluZCgodD0+dC5zc3JjPT09ZSkpO2lmKHQpe2xldCBlPVh4KlF4O3QudGltZXN0YW1wJiZuLnRpbWVzdGFtcCYmKGU9bi50aW1lc3RhbXAtdC50aW1lc3RhbXApLG51bGwhPXQucGFja2V0cyYmbnVsbCE9bi5wYWNrZXRzJiZaeChyLEd4LlBBQ0tBR0VfUkFURSwxZTMqKG4ucGFja2V0cy10LnBhY2tldHMpL2UpLG51bGwhPW4ucGFja2V0c0xvc3QmJm51bGwhPXQucGFja2V0c0xvc3QmJlp4KHIsR3guUEFDS0FHRV9MT1NULG4ucGFja2V0c0xvc3QtdC5wYWNrZXRzTG9zdCksbnVsbCE9dC5ieXRlcyYmbnVsbCE9bi5ieXRlcyYmWngocixHeC5CSVRSQVRFLDgqKG4uYnl0ZXMtdC5ieXRlcykvZSl9fXJldHVybiByfShkWzBdLnNzcmNJZCxlLHQpO2JyZWFrO2Nhc2UgSmIuTG9jYWxBdWRpb1RyYWNrOnI9aT92b2lkIDA6ZnVuY3Rpb24oZSx0LGksbil7Y29uc3Qgcj10LmF1ZGlvU2VuZC5maW5kKCh0PT50LnNzcmM9PT1lKSk7aWYoIXIpcmV0dXJuO2NvbnN0IG89e307b1tZeC5ESVNBQkxFRF09bi5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjayYmIW4uX29yaWdpbk1lZGlhU3RyZWFtVHJhY2suZW5hYmxlZHx8bi5fbWVkaWFTdHJlYW1UcmFjayYmIW4uX21lZGlhU3RyZWFtVHJhY2suZW5hYmxlZD8xOjA7Y29uc3Qgcz0xMDAqbi5fc291cmNlLmdldEFjY3VyYXRlVm9sdW1lTGV2ZWwoKSxhPXIuaW5wdXRMZXZlbDtpZihudWxsIT1hKXtjb25zdCBlPU1hdGguY2VpbCg1MCpNYXRoLmxvZzEwKDEwMCphKzEpKTtaeChvLFl4LkxFVkVMLGUpfVp4KG8sS3guUENNX0xFVkVMLHMpLFp4KG8sWXguQUVDX1JFVFVSTl9MT1NTLHIuYWVjUmV0dXJuTG9zcyksWngobyxZeC5BRUNfUkVUVVJOX0xPU1NfRU5ILHIuYWVjUmV0dXJuTG9zc0VuaGFuY2VtZW50KSxvW1l4LkZSRUVaRV09MDtjb25zdCBjPWkmJmkuYXVkaW9TZW5kLmZpbmQoKHQ9PnQuc3NyYz09PWUpKTtpZihjKXtsZXQgZT1YeCpReDtjLnRpbWVzdGFtcCYmci50aW1lc3RhbXAmJihlPXIudGltZXN0YW1wLWMudGltZXN0YW1wKSxudWxsIT1jLmJ5dGVzJiZudWxsIT1yLmJ5dGVzJiZaeChvLFl4LkJJVFJBVEUsOCooci5ieXRlcy1jLmJ5dGVzKS9lKSxudWxsIT1jLnBhY2tldHMmJm51bGwhPXIucGFja2V0cyYmWngobyxZeC5QQUNLQUdFX1JBVEUsMWUzKihyLnBhY2tldHMtYy5wYWNrZXRzKS9lKX1yZXR1cm4gb30oZFswXS5zc3JjSWQsZSx0LGMpfX0pKSx7aGlnaDpvLGxvdzpzLGF1ZGlvOnJ9fWdldEluYm91bmRTdGF0cyhlLHQsaSl7aWYoIXRoaXMucmVxdWVzdFJlbW90ZU1lZGlhKXJldHVybjtjb25zdCBuPXRoaXMucmVxdWVzdFJlbW90ZU1lZGlhKCl8fFtdLHI9W107cmV0dXJuIG4uZm9yRWFjaCgobj0+e2xldFtvLHNdPW47Y29uc3QgYT17cGVlcjpvLnVpZH07aWYocy5oYXMoWWIuVklERU8pJiZvLnZpZGVvVHJhY2spe2NvbnN0IG49by5fdmlkZW9TU1JDJiZ0aGlzLnJlcXVlc3RWaWRlb0lzUmVhZHkmJnRoaXMucmVxdWVzdFZpZGVvSXNSZWFkeShvLl92aWRlb1NTUkMpfHwhMSxyPW8udmlkZW9UcmFjaz9mdW5jdGlvbihlLHQsaSxuLHIsbyxzKXt2YXIgYTtjb25zdCBjPXQudmlkZW9SZWN2LmZpbmQoKHQ9PnQuc3NyYz09PWUpKTtpZighYylyZXR1cm47Y29uc3QgZD17fSx7cmVjZWl2ZWRGcmFtZTpsLG91dHB1dEZyYW1lOnUsZGVjb2RlRnJhbWVSYXRlOmh9PWMscD1pJiZpLnZpZGVvUmVjdi5maW5kKCh0PT50LnNzcmM9PT1lKSk7aWYoZFtXeC5GUkVFWkVdPXImJnlWLmlzUmVtb3RlVmlkZW9GcmVlemUobixjLHApPzE6MCxaeChkLEh4LkZSQU1FX1JBVEVfREVDT0RFLGgpLFp4KGQsV3guUVBfU1VNLGMucXBTdW1QZXJGcmFtZSksYy5mcmFtZXNSYXRlRmlyZWZveCYmWngoZCxXeC5GUkFNRV9SQVRFLGMuZnJhbWVzUmF0ZUZpcmVmb3gpLGwmJlp4KGQsV3guRlJBTUVfUkFURSxsLmZyYW1lUmF0ZSkscCl7Y29uc3QgZT10LnRpbWVzdGFtcC1pLnRpbWVzdGFtcHx8KHM/WHg6UXgqWHgpO251bGwhPWMucGFja2V0c0xvc3QmJm51bGwhPXAucGFja2V0c0xvc3QmJlp4KGQsV3guUEFDS0FHRV9MT1NULGMucGFja2V0c0xvc3QtcC5wYWNrZXRzTG9zdCksbnVsbCE9cC5ieXRlcyYmbnVsbCE9Yy5ieXRlcyYmWngoZCxXeC5CSVRSQVRFLDgqKGMuYnl0ZXMtcC5ieXRlcykvZSksbnVsbCE9cC5wYWNrZXRzJiZudWxsIT1jLnBhY2tldHMmJlp4KGQsV3guUEFDS0FHRV9SQVRFLDFlMyooYy5wYWNrZXRzLXAucGFja2V0cykvZSl9aWYocylyZXR1cm4gZDtsPyhaeChkLFd4LkhFSUdIVCxsLmhlaWdodCksWngoZCxXeC5XSURUSCxsLndpZHRoKSk6biYmKFp4KGQsV3guSEVJR0hULG4uX3ZpZGVvSGVpZ2h0fHwwKSxaeChkLFd4LldJRFRILG4uX3ZpZGVvV2lkdGh8fDApKSx1JiZaeChkLEh4LkZSQU1FX1JBVEVfT1VUUFVULHUuZnJhbWVSYXRlKTtjb25zdCBfPW51bGw9PT0oYT1uLl9wbGF5ZXIpfHx2b2lkIDA9PT1hP3ZvaWQgMDphLnJlbmRGcmFtZVJhdGUudG9GaXhlZCgwKTtpZihfJiZaeChkLEh4LkZSQU1FX1JBVEVfUkVOREVSLCtfKSxaeChkLFd4LkpJVFRFUl9CVUZGRVIsYy5qaXR0ZXJCdWZmZXJNcyksWngoZCxXeC5DVVJSRU5UX0RFTEFZLGMuY3VycmVudERlbGF5TXMpLFp4KGQsV3guRklSUyxjLmZpcnNDb3VudCksWngoZCxXeC5OQUNLUyxjLm5hY2tzQ291bnQpLFp4KGQsV3guUExJUyxjLnBsaXNDb3VudCksbil7ZFtXeC5ESVNBQkxFRF09bi5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjay5lbmFibGVkJiZuLl9tZWRpYVN0cmVhbVRyYWNrLmVuYWJsZWQ/MDoxO2NvbnN0IGU9bi5fcGxheWVyO2lmKGUpe2NvbnN0e2ZyZWV6ZVRpbWVDb3VudGVyTGlzdDp0LHJlbmRlckZyZWV6ZUFjY1RpbWU6aSx2aWRlb0VsZW1lbnRTdGF0dXM6bn09ZTtpZih0JiZ0Lmxlbmd0aD4wJiZaeChkLEh4LkZSRUVaRV9USU1FLHQuc3BsaWNlKDAsMSlbMF0pLG8mJlwidmlzaWJsZVwiPT09Y00udmlzaWJpbGl0eSYmbj09PVRQLlBMQVlJTkcmJk1EKCkuc3VwcG9ydFJlcXVlc3RWaWRlb0ZyYW1lQ2FsbGJhY2spe2NvbnN0IHQ9TWF0aC5taW4oNmUzLGkpO2UucmVuZGVyRnJlZXplQWNjVGltZT1NYXRoLm1heCgwLGktdCksWngoZCxIeC5GUkVFWkVfVElNRV9SRU5ERVIsdCl9aWYoXCJudW1iZXJcIj09dHlwZW9mIGMudG90YWxGcmVlemVzRHVyYXRpb24pe2NvbnN0IGU9cCYmcC50b3RhbEZyZWV6ZXNEdXJhdGlvbj9jLnRvdGFsRnJlZXplc0R1cmF0aW9uLXAudG90YWxGcmVlemVzRHVyYXRpb246Yy50b3RhbEZyZWV6ZXNEdXJhdGlvbjtaeChkLEh4LkZSRUVaRV9EVVJBVElPTiwxZTMqZSl9fX1pZihkW1d4LlBMQVlFUl9TVEFUVVNdPWdQW24uX3BsYXllcj9uLl9wbGF5ZXIudmlkZW9FbGVtZW50U3RhdHVzOlwidW5pbml0XCJdLHAmJnZvaWQgMCE9PWMudG90YWxJbnRlckZyYW1lRGVsYXkmJnZvaWQgMCE9PWMudG90YWxTcXVhcmVkSW50ZXJGcmFtZURlbGF5JiZ2b2lkIDAhPT1wLnRvdGFsSW50ZXJGcmFtZURlbGF5JiZ2b2lkIDAhPT1wLnRvdGFsU3F1YXJlZEludGVyRnJhbWVEZWxheSl7Y29uc3QgZT1jLnRvdGFsSW50ZXJGcmFtZURlbGF5LXAudG90YWxJbnRlckZyYW1lRGVsYXksdD1jLnRvdGFsU3F1YXJlZEludGVyRnJhbWVEZWxheS1wLnRvdGFsU3F1YXJlZEludGVyRnJhbWVEZWxheSxpPWMuZnJhbWVzRGVjb2RlQ291bnQtcC5mcmFtZXNEZWNvZGVDb3VudCxuPWUvaSoxZTMscj1NYXRoLnJvdW5kKDFlMypNYXRoLnNxcnQoKHQtTWF0aC5wb3coZSwyKS9pKS9pKSk7IWlzTmFOKHIpJiZuK3I+TWF0aC5tYXgoMypuLG4rMTUwKSYmKGRbV3guSV9GUkFNRV9ERUxBWV09cil9cmV0dXJuIGR9KG8uX3ZpZGVvU1NSQyxlLHQsby52aWRlb1RyYWNrLCEwPT09bix0aGlzLm5lZWRVcGxvYWRSZW5kZXJGcmVlemVUaW1lLGkpOnZvaWQgMDtyJiYoYS52aWRlbz1yKX1pZihzLmhhcyhZYi5BVURJTykmJm8uYXVkaW9UcmFjayl7Y29uc3Qgbj1vLmF1ZGlvVHJhY2s/ZnVuY3Rpb24oZSx0LGksbixyKXtjb25zdCBvPXQuYXVkaW9SZWN2LmZpbmQoKHQ9PnQuc3NyYz09PWUpKTtpZighbylyZXR1cm47Y29uc3Qgcz17fSxhPWkmJmkuYXVkaW9SZWN2LmZpbmQoKHQ9PnQuc3NyYz09PWUpKSx7cmVjZWl2ZWRGcmFtZXM6Yyxkcm9wcGVkRnJhbWVzOmR9PW87dmFyIGwsdTtpZihaeChzLHF4LkpJVFRFUixvLmppdHRlck1zKSxudWxsIT1jJiZudWxsIT1kJiYoc1txeC5GUkVFWkVdPSh1PWQsMD09PShsPWMpfHwxMDAqdS9sPjIwPzE6MCkpLGEpe2NvbnN0IGU9dC50aW1lc3RhbXAtaS50aW1lc3RhbXB8fChyP1h4Olh4KlF4KTtudWxsIT1vLnBhY2tldHMmJm51bGwhPWEucGFja2V0cyYmWngocyxxeC5QQUNLQUdFX1JBVEUsMWUzKihvLnBhY2tldHMtYS5wYWNrZXRzKS9lKSxudWxsIT1hLmJ5dGVzJiZudWxsIT1vLmJ5dGVzJiZaeChzLHF4LkJJVFJBVEUsOCooby5ieXRlcy1hLmJ5dGVzKS9lKSxudWxsIT1vLnBhY2tldHNMb3N0JiZudWxsIT1hLnBhY2tldHNMb3N0JiZaeChzLHF4LlBBQ0tBR0VfTE9TVCxvLnBhY2tldHNMb3N0LWEucGFja2V0c0xvc3QpfWlmKHIpcmV0dXJuIHM7Y29uc3QgaD0xMDAqbi5fc291cmNlLmdldEFjY3VyYXRlVm9sdW1lTGV2ZWwoKSxwPW8ub3V0cHV0TGV2ZWw7aWYobnVsbCE9cCl7Y29uc3QgZT1NYXRoLmNlaWwoNTAqTWF0aC5sb2cxMCgxMDAqcCsxKSk7Wngocyx6eC5MRVZFTCxlKX1pZihaeChzLHF4LlBDTV9MRVZFTCxoKSxuJiYoc1txeC5ESVNBQkxFRF09bi5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjay5lbmFibGVkJiZuLl9tZWRpYVN0cmVhbVRyYWNrLmVuYWJsZWQ/MDoxKSxaeChzLHF4LkpJVFRFUl9CVUZGRVIsby5qaXR0ZXJCdWZmZXJNcyksWngocyxxeC5DVVJSRU5UX0RFTEFZLG8uaml0dGVyQnVmZmVyTXMpLHNbcXguUExBWUVSX1NUQVRVU109Z1BbZUwuZ2V0UGxheWVyU3RhdGUobi5nZXRUcmFja0lkKCkpXSxhKXtjb25zdCBlPW8uY29uY2VhbGVkU2FtcGxlcy1hLmNvbmNlYWxlZFNhbXBsZXM7ZT4wJiZaeChzLHF4LkNPTkNFQUxFRF9TQU1QTEVTLGUpfXJldHVybiBzfShvLl9hdWRpb1NTUkMsZSx0LG8uYXVkaW9UcmFjayxpKTp2b2lkIDA7biYmKGEuYXVkaW89bil9KGEudmlkZW98fGEuYXVkaW8pJiZyLnB1c2goYSl9KSksdGhpcy5uZWVkVXBsb2FkUmVuZGVyRnJlZXplVGltZT0hdGhpcy5uZWVkVXBsb2FkUmVuZGVyRnJlZXplVGltZSxyfXN0YXJ0VXBsb2FkVHJhbnNwb3J0U3RhdHMoKXt0aGlzLnVwbG9hZFRyYW5zcG9ydFN0YXJ0ZWQ9ITAsdGhpcy51cGxvYWRXUlRDU3RhdHNUaW1lcnx8dGhpcy5zdGFydFVwbG9hZFdSVENTdGF0cygpfXN0b3BVcGxvYWRUcmFuc3BvcnRTdGF0cygpe3RoaXMudXBsb2FkVHJhbnNwb3J0U3RhcnRlZD0hMX1zdGFydFVwbG9hZE91dGJvdW5kU3RhdHMoKXt0aGlzLnVwbG9hZE91dGJvdW5kU3RhcnRlZHx8KHRoaXMudXBsb2FkT3V0Ym91bmRTdGFydGVkPSEwLHRoaXMudXBsb2FkV1JUQ1N0YXRzVGltZXJ8fHRoaXMuc3RhcnRVcGxvYWRXUlRDU3RhdHMoKSx0aGlzLnVwbG9hZE91dGJvdW5kRGVub2lzZXJTdGF0c1RpbWVyJiZ3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLnVwbG9hZE91dGJvdW5kRGVub2lzZXJTdGF0c1RpbWVyKSx0aGlzLnVwbG9hZE91dGJvdW5kRGVub2lzZXJTdGF0c1RpbWVyPXdpbmRvdy5zZXRJbnRlcnZhbCgoKCk9PntpZighdGhpcy5yZXF1ZXN0QWxsVHJhY2tzfHwhdGhpcy5yZXF1ZXN0VXBsb2FkKXJldHVybjtjb25zdCBlPSh0aGlzLnJlcXVlc3RBbGxUcmFja3MoKXx8W10pLmZpbmQoKGU9PmUgaW5zdGFuY2VvZiBpaykpO2lmKGUmJmUuX2V4dGVybmFsLmdldERlbm9pc2VyU3RhdHMpe2NvbnN0IHQ9ZS5fZXh0ZXJuYWwuZ2V0RGVub2lzZXJTdGF0cygpO3QmJnRoaXMucmVxdWVzdFVwbG9hZChFYi5ERU5PSVNFUl9TVEFUUyx0KX19KSwyZTMpLHRoaXMudXBsb2FkRXh0U3RhdHNUaW1lciYmd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy51cGxvYWRFeHRTdGF0c1RpbWVyKSx0aGlzLnVwbG9hZEV4dFN0YXRzVGltZXI9d2luZG93LnNldEludGVydmFsKCgoKT0+e2lmKCF0aGlzLnJlcXVlc3RBbGxUcmFja3N8fCF0aGlzLnJlcXVlc3RVcGxvYWQpcmV0dXJuO3RoaXMucmVxdWVzdEFsbFRyYWNrcygpLmZvckVhY2goKGU9PntlLmdldFByb2Nlc3NvclN0YXRzKCkuZm9yRWFjaCgoZT0+e3RoaXMucmVxdWVzdFVwbG9hZCYmdGhpcy5yZXF1ZXN0VXBsb2FkKGUudHlwZSxlLnN0YXRzKX0pKX0pKX0pLDJlMykpfXN0b3BVcGxvYWRPdXRib3VuZFN0YXRzKCl7dGhpcy51cGxvYWRPdXRib3VuZFN0YXJ0ZWQmJih0aGlzLnVwbG9hZE91dGJvdW5kU3RhcnRlZD0hMSx0aGlzLmxhc3RTZW5kU3RhdHMmJih0aGlzLmxhc3RTZW5kU3RhdHMudmlkZW9TZW5kPVtdLHRoaXMubGFzdFNlbmRTdGF0cy5hdWRpb1NlbmQ9W10sdGhpcy5sYXN0U2VuZFN0YXRzPXZvaWQgMCksdGhpcy51cGxvYWRPdXRib3VuZERlbm9pc2VyU3RhdHNUaW1lciYmd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy51cGxvYWRPdXRib3VuZERlbm9pc2VyU3RhdHNUaW1lciksdGhpcy51cGxvYWRPdXRib3VuZERlbm9pc2VyU3RhdHNUaW1lcj12b2lkIDApfXN0YXJ0VXBsb2FkSW5ib3VuZFN0YXRzKCl7dGhpcy51cGxvYWRJbmJvdW5kU3RhcnRlZHx8KHRoaXMudXBsb2FkSW5ib3VuZFN0YXJ0ZWQ9ITAsdGhpcy51cGxvYWRXUlRDU3RhdHNUaW1lcnx8dGhpcy5zdGFydFVwbG9hZFdSVENTdGF0cygpLHRoaXMudXBsb2FkSW5ib3VuZEV4dFN0YXRzVGltZXImJndpbmRvdy5jbGVhckludGVydmFsKHRoaXMudXBsb2FkSW5ib3VuZEV4dFN0YXRzVGltZXIpLHRoaXMudXBsb2FkSW5ib3VuZEV4dFN0YXRzVGltZXI9d2luZG93LnNldEludGVydmFsKCgoKT0+e2lmKCF0aGlzLnJlcXVlc3RVcGxvYWR8fCF0aGlzLnJlcXVlc3RSZW1vdGVNZWRpYSlyZXR1cm47KHRoaXMucmVxdWVzdFJlbW90ZU1lZGlhKCl8fFtdKS5mb3JFYWNoKChlPT57bGV0W3QsaV09ZTtpZihpLmhhcyhZYi5WSURFTykmJnQudmlkZW9UcmFjayl7dC52aWRlb1RyYWNrLmdldFByb2Nlc3NvclN0YXRzKCkuZm9yRWFjaCgoZT0+e3RoaXMucmVxdWVzdFVwbG9hZCYmdGhpcy5yZXF1ZXN0VXBsb2FkKGUudHlwZSxlLnN0YXRzKX0pKX1pZihpLmhhcyhZYi5BVURJTykmJnQuYXVkaW9UcmFjayl7dC5hdWRpb1RyYWNrLmdldFByb2Nlc3NvclN0YXRzKCkuZm9yRWFjaCgoZT0+e3RoaXMucmVxdWVzdFVwbG9hZCYmdGhpcy5yZXF1ZXN0VXBsb2FkKGUudHlwZSxlLnN0YXRzKX0pKX19KSl9KSwyZTMpKX1zdG9wVXBsb2FkSW5ib3VuZFN0YXRzKCl7dGhpcy51cGxvYWRJbmJvdW5kU3RhcnRlZCYmKHRoaXMudXBsb2FkSW5ib3VuZFN0YXJ0ZWQ9ITEsdGhpcy5sYXN0UmVjdlN0YXRzJiYodGhpcy5sYXN0UmVjdlN0YXRzLnZpZGVvUmVjdj1bXSx0aGlzLmxhc3RSZWN2U3RhdHMuYXVkaW9SZWN2PVtdLHRoaXMubGFzdFJlY3ZTdGF0cz12b2lkIDApKX1zdGFydFVwbG9hZEV4dGVuc2lvblVzYWdlU3RhdHMoKXtpZih0aGlzLnVwbG9hZEV4dGVuc2lvblVzYWdlU3RhcnRlZClyZXR1cm47dGhpcy51cGxvYWRFeHRlbnNpb25Vc2FnZVN0YXJ0ZWQ9ITAsdGhpcy51cGxvYWRFeHRVc2FnZVN0YXRzVGltZXImJndpbmRvdy5jbGVhckludGVydmFsKHRoaXMudXBsb2FkRXh0VXNhZ2VTdGF0c1RpbWVyKTtjb25zdCBlPW5ldyBNYXA7dGhpcy51cGxvYWRFeHRVc2FnZVN0YXRzVGltZXI9d2luZG93LnNldEludGVydmFsKChhc3luYygpPT57Y29uc3QgdD1EYXRlLm5vdygpLGk9e2Nvbm5lY3Rpb25JbnRlcnZhbDpEeShcIkVYVEVOU0lPTl9VU0FHRV9VUExPQURfSU5URVJWQUxcIikvMWUzLGRldGFpbHM6W10sbHRzOnR9O2xldCBuPVtdO2NvbnN0IHI9dGhpcy5yZXF1ZXN0QWxsVHJhY2tzJiZ0aGlzLnJlcXVlc3RBbGxUcmFja3MoKXx8W107Zm9yKGNvbnN0IGUgb2YgcikhZS5tdXRlZCYmZS5lbmFibGVkJiYobj1uLmNvbmNhdChhd2FpdCBlLmdldFByb2Nlc3NvclVzYWdlKCkpKTtjb25zdCBvPXRoaXMucmVxdWVzdFJlbW90ZU1lZGlhJiZ0aGlzLnJlcXVlc3RSZW1vdGVNZWRpYSgpfHxbXTtmb3IoY29uc3RbZSx0XW9mIG8pdC5oYXMoWWIuVklERU8pJiZlLnZpZGVvVHJhY2smJihuPW4uY29uY2F0KGF3YWl0IGUudmlkZW9UcmFjay5nZXRQcm9jZXNzb3JVc2FnZSgpKSksdC5oYXMoWWIuQVVESU8pJiZlLmF1ZGlvVHJhY2smJihuPW4uY29uY2F0KGF3YWl0IGUuYXVkaW9UcmFjay5nZXRQcm9jZXNzb3JVc2FnZSgpKSk7aWYoMD09PW4ubGVuZ3RoKXJldHVybjtpLmRldGFpbHM9ZnVuY3Rpb24oZSx0KXtjb25zdCBpPXt9O2Zvcihjb25zdHtpZDpzLHZhbHVlOmEsbGV2ZWw6YyxkaXJlY3Rpb246ZH1vZiBlKXt2YXIgbjtjb25zdCBlPW51bGwhPT0obj10LmdldChzKSkmJnZvaWQgMCE9PW4/bjowLGw9Mj09PWE/ZStEeShcIkVYVEVOU0lPTl9VU0FHRV9VUExPQURfSU5URVJWQUxcIikvMWUzOmU7dmFyIHIsbzt0LnNldChzLGwpLGlbc10/KDI9PT1hJiYoaVtzXS52YWx1ZT1hKSxjPmlbc10ubGV2ZWwmJihpW3NdLmxldmVsPWMpLFwicmVtb3RlXCI9PT1kJiYoaVtzXS5yZW1vdGVVaWRDb3VudCs9MSksaVtzXS50b3RhbFRzPW51bGwhPT0ocj10LmdldChzKSkmJnZvaWQgMCE9PXI/cjowKTppW3NdPXt2YWx1ZTphLGxldmVsOmMscmVtb3RlVWlkQ291bnQ6XCJsb2NhbFwiPT09ZD8wOjEsdG90YWxUczpudWxsIT09KG89dC5nZXQocykpJiZ2b2lkIDAhPT1vP286MH19cmV0dXJuIE9iamVjdC5rZXlzKGkpLm1hcCgoZT0+e2NvbnN0e2xldmVsOnQsdmFsdWU6bix0b3RhbFRzOnJ9PWlbZV07cmV0dXJue2lkOmUsbGV2ZWw6dCx2YWx1ZTpuLHRvdGFsVHM6cn19KSl9KG4sZSk7Y29uc3Qgcz1EYXRlLm5vdygpLGE9cz50P3M6dCsxO3RoaXMucmVxdWVzdFVwbG9hZCYmdGhpcy5yZXF1ZXN0VXBsb2FkKEViLkVYVEVOU0lPTl9VU0FHRV9TVEFUUyx7dXNhZ2VTdGF0czppLHNlbmRUczphfSl9KSxEeShcIkVYVEVOU0lPTl9VU0FHRV9VUExPQURfSU5URVJWQUxcIikpfXN0b3BVcGxvYWRFeHRlbnNpb25Vc2FnZVN0YXRzKCl7dGhpcy51cGxvYWRFeHRlbnNpb25Vc2FnZVN0YXJ0ZWQmJih0aGlzLnVwbG9hZEV4dGVuc2lvblVzYWdlU3RhcnRlZD0hMSx0aGlzLnVwbG9hZEV4dFVzYWdlU3RhdHNUaW1lciYmd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy51cGxvYWRFeHRVc2FnZVN0YXRzVGltZXIpLHRoaXMudXBsb2FkRXh0VXNhZ2VTdGF0c1RpbWVyPXZvaWQgMCl9fWNsYXNzIGlWe2dldCBoYXNWaWRlbygpe3JldHVybiB0aGlzLl92aWRlb19lbmFibGVkXyYmIXRoaXMuX3ZpZGVvX211dGVkXyYmdGhpcy5fdmlkZW9fYWRkZWRffWdldCBoYXNBdWRpbygpe3JldHVybiB0aGlzLl9hdWRpb19lbmFibGVkXyYmIXRoaXMuX2F1ZGlvX211dGVkXyYmdGhpcy5fYXVkaW9fYWRkZWRffWdldCBhdWRpb1RyYWNrKCl7aWYodGhpcy5oYXNBdWRpb3x8dGhpcy5fYXVkaW9fcHJlX3N1YnNjcmliZWQpcmV0dXJuIHRoaXMuX2F1ZGlvVHJhY2t9Z2V0IHZpZGVvVHJhY2soKXtpZih0aGlzLmhhc1ZpZGVvfHx0aGlzLl92aWRlb19wcmVfc3Vic2NyaWJlZClyZXR1cm4gdGhpcy5fdmlkZW9UcmFja31nZXQgZGF0YUNoYW5uZWxzKCl7cmV0dXJuIHRoaXMuX2RhdGFDaGFubmVsc31jb25zdHJ1Y3RvcihlLHQpe29nKHRoaXMsXCJ1aWRcIix2b2lkIDApLG9nKHRoaXMsXCJfdWludGlkXCIsdm9pZCAwKSxvZyh0aGlzLFwiX3RydXN0X2luX3Jvb21fXCIsITApLG9nKHRoaXMsXCJfdHJ1c3RfYXVkaW9fZW5hYmxlZF9zdGF0ZV9cIiwhMCksb2codGhpcyxcIl90cnVzdF92aWRlb19lbmFibGVkX3N0YXRlX1wiLCEwKSxvZyh0aGlzLFwiX3RydXN0X2F1ZGlvX211dGVfc3RhdGVfXCIsITApLG9nKHRoaXMsXCJfdHJ1c3RfdmlkZW9fbXV0ZV9zdGF0ZV9cIiwhMCksb2codGhpcyxcIl9hdWRpb19tdXRlZF9cIiwhMSksb2codGhpcyxcIl92aWRlb19tdXRlZF9cIiwhMSksb2codGhpcyxcIl9hdWRpb19lbmFibGVkX1wiLCEwKSxvZyh0aGlzLFwiX3ZpZGVvX2VuYWJsZWRfXCIsITApLG9nKHRoaXMsXCJfYXVkaW9fYWRkZWRfXCIsITEpLG9nKHRoaXMsXCJfdmlkZW9fYWRkZWRfXCIsITEpLG9nKHRoaXMsXCJfaXNfcHJlX2NyZWF0ZWRcIiwhMSksb2codGhpcyxcIl92aWRlb19wcmVfc3Vic2NyaWJlZFwiLCExKSxvZyh0aGlzLFwiX2F1ZGlvX3ByZV9zdWJzY3JpYmVkXCIsITEpLG9nKHRoaXMsXCJfdHJ1c3RfdmlkZW9fc3RyZWFtX2FkZGVkX3N0YXRlX1wiLCEwKSxvZyh0aGlzLFwiX3RydXN0X2F1ZGlvX3N0cmVhbV9hZGRlZF9zdGF0ZV9cIiwhMCksb2codGhpcyxcIl9hdWRpb1RyYWNrXCIsdm9pZCAwKSxvZyh0aGlzLFwiX3ZpZGVvVHJhY2tcIix2b2lkIDApLG9nKHRoaXMsXCJfZGF0YUNoYW5uZWxzXCIsW10pLG9nKHRoaXMsXCJfYXVkaW9TU1JDXCIsdm9pZCAwKSxvZyh0aGlzLFwiX3ZpZGVvU1NSQ1wiLHZvaWQgMCksb2codGhpcyxcIl9hdWRpb09ydGNcIix2b2lkIDApLG9nKHRoaXMsXCJfdmlkZW9PcnRjXCIsdm9pZCAwKSxvZyh0aGlzLFwiX2NuYW1lXCIsdm9pZCAwKSxvZyh0aGlzLFwiX3J0eFNzcmNJZFwiLHZvaWQgMCksb2codGhpcyxcIl92aWRlb01pZFwiLHZvaWQgMCksb2codGhpcyxcIl9hdWRpb01pZFwiLHZvaWQgMCksdGhpcy51aWQ9ZSx0aGlzLl91aW50aWQ9dH19bGV0IG5WPWZ1bmN0aW9uKGUpe3JldHVybiBlLlNFTkRfT05MWT1cIlNFTkRfT05MWVwiLGUuUkVDRUlWRV9PTkxZPVwiUkVDRUlWRV9PTkxZXCIsZX0oe30pO2Z1bmN0aW9uIHJWKGUsdCl7dmFyIGk7bGV0IG47c3dpdGNoKHQpe2Nhc2UgSmIuTG9jYWxBdWRpb1RyYWNrOm49TWIuQXVkaW87YnJlYWs7Y2FzZSBKYi5Mb2NhbFZpZGVvVHJhY2s6bj1EbihpPWUuX2hpbnRzKS5jYWxsKGksZVAuU0NSRUVOX1RSQUNLKT9NYi5TY3JlZW46TWIuSGlnaDticmVhaztjYXNlIEpiLkxvY2FsVmlkZW9Mb3dUcmFjazpuPU1iLkxvd31yZXR1cm4gbn1mdW5jdGlvbiBvVihlKXtjb25zdCB0PU1EKCk7aWYoZS5zb21lKChlPT5lLl9ieXBhc3NXZWJBdWRpbykpKXRocm93IG5ldyBydihudi5OT1RfU1VQUE9SVEVELFwiY2Fubm90IHB1Ymxpc2ggbXVsdGlwbGUgdHJhY2tzIHdoaWNoIG9uZSBvZiB0aGVtIGNvbmZpZ3VyZWQgd2l0aCBieXBhc3NXZWJBdWRpb1wiKTtpZighdC53ZWJBdWRpb01lZGlhU3RyZWFtRGVzdCl0aHJvdyBuZXcgcnYobnYuTk9UX1NVUFBPUlRFRCxcImNhbm5vdCBwdWJsaXNoIG11bHRpcGxlIHRyYWNrcyBiZWNhdXNlIHlvdXIgYnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IGF1ZGlvIG1peGluZ1wiKX1mdW5jdGlvbiBzVihlLHQpe29WKGUpO2NvbnN0IGk9dHx8bmV3IHJrO3JldHVybiBlLmZvckVhY2goKGU9PmkuYWRkQXVkaW9UcmFjayhlKSkpLGl9dmFyIGFWLGNWLGRWLGxWLHVWLGhWLHBWLF9WLEVWLG1WLGZWLFRWO2Z1bmN0aW9uIFNWKGUsdCl7dmFyIGk9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYobj1uLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxpLnB1c2guYXBwbHkoaSxuKX1yZXR1cm4gaX1mdW5jdGlvbiBnVihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgaT1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9TVihPYmplY3QoaSksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe29nKGUsdCxpW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKGkpKTpTVihPYmplY3QoaSkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpLHQpKX0pKX1yZXR1cm4gZX1sZXQgUlY9KGFWPUNWKG5WLlNFTkRfT05MWSksY1Y9Q1YoblYuU0VORF9PTkxZKSxkVj1DVigpLGxWPUNWKG5WLlJFQ0VJVkVfT05MWSksdVY9Q1YoblYuUkVDRUlWRV9PTkxZKSxoVj1DVihuVi5SRUNFSVZFX09OTFkpLHBWPUNWKG5WLlJFQ0VJVkVfT05MWSksX1Y9Q1YoblYuUkVDRUlWRV9PTkxZKSxFVj1DVihuVi5SRUNFSVZFX09OTFkpLG1WPUNWKCksZlY9Q1YoblYuUkVDRUlWRV9PTkxZKSxUVj1jbGFzcyBleHRlbmRzIFN2e2dldCBzdGF0ZSgpe3JldHVybiB0aGlzLl9zdGF0ZX1zZXQgc3RhdGUoZSl7Y29uc3QgdD10aGlzLl9zdGF0ZTt0aGlzLl9zdGF0ZT1lLHRoaXMuZW1pdChRYi5TdGF0ZUNoYW5nZSx0LHRoaXMuX3N0YXRlKX1jb25zdHJ1Y3RvcihlLHQpe3N1cGVyKCksb2codGhpcyxcImlzUGxhbkJcIiwhMSksb2codGhpcyxcInN0b3JlXCIsdm9pZCAwKSxvZyh0aGlzLFwic3RhdHNVcGxvYWRlclwiLHZvaWQgMCksb2codGhpcyxcInNlbmRDb25uZWN0aW9uXCIsdm9pZCAwKSxvZyh0aGlzLFwicmVjdkNvbm5lY3Rpb25cIix2b2lkIDApLG9nKHRoaXMsXCJsb2NhbFRyYWNrTWFwXCIsbmV3IE1hcCksb2codGhpcyxcInJlbW90ZVVzZXJNYXBcIixuZXcgTWFwKSxvZyh0aGlzLFwibG9jYWxEYXRhQ2hhbm5lbHNcIixbXSksb2codGhpcyxcInBlbmRpbmdMb2NhbFRyYWNrc1wiLFtdKSxvZyh0aGlzLFwicGVuZGluZ1JlbW90ZVRyYWNrc1wiLFtdKSxvZyh0aGlzLFwic3RhdHNDb2xsZWN0b3JcIix2b2lkIDApLG9nKHRoaXMsXCJkdGxzRmFpbGVkQ291bnRcIiwwKSxvZyh0aGlzLFwic2VuZE11dGV4XCIsbmV3IGh5KFwiUDJQQ2hhbm5lbDItc2VuZC1tdXRleFwiKSksb2codGhpcyxcInJlY3ZNdXRleFwiLG5ldyBoeShcIlAyUENoYW5uZWwyLXJlY3YtbXV0ZXhcIikpLG9nKHRoaXMsXCJfc3RhdGVcIixYYi5EaXNjb25uZWN0ZWQpLG9nKHRoaXMsXCJfcmVzdGFydFN0YXRlc1wiLFtcImRpc2Nvbm5lY3RlZFwiLFwiZmFpbGVkXCJdKSxvZyh0aGlzLFwicmVjb25uZWN0SW50ZXJ2YWxcIix2b2lkIDApLG9nKHRoaXMsXCJ1cGxvYWRVbnBsaW5rU3RhcnRlZFwiLCExKSxvZyh0aGlzLFwidXBsb2FkRG93bmxpbmtTdGFydGVkXCIsITEpLG9nKHRoaXMsXCJ1cGxpbmtTdGF0ZVVwbG9hZEludGVydmFsXCIsdm9pZCAwKSxvZyh0aGlzLFwiZG93bmxpbmtTdGF0c1VwbG9hZEludGVydmFsXCIsdm9pZCAwKSxvZyh0aGlzLFwiaGFuZGxlTXV0ZUxvY2FsVHJhY2tcIiwoYXN5bmMoZSx0LGkpPT57Y29uc3Qgbj1hd2FpdCB0aGlzLnNlbmRNdXRleC5sb2NrKFwiTG9ja2luZyBmcm9tIFAyUENoYW5uZWwyLmhhbmRsZU11dGVMb2NhbFRyYWNrXCIpO3RyeXtpZighdGhpcy5zZW5kQ29ubmVjdGlvbnx8dGhpcy5zdGF0ZSE9PVhiLkNvbm5lY3RlZClyZXR1cm4gdm9pZCBpKG5ldyBydihudi5JTlZBTElEX09QRVJBVElPTixcIkNhbm5vdCBjYWxsIFAyUENoYW5uZWwyLmhhbmRsZU11dGVMb2NhbFRyYWNrIGJlZm9yZSBzZW5kQ29ubmVjdGlvbiBlc3RhYmxpc2hlZC5cIikpO2NvbnN0IHM9dGhpcy5maWx0ZXJUb2JlTXV0ZWRUcmFja3MoZSk7aWYoMD09PXMubGVuZ3RoKXJldHVybiB2b2lkIHQoKTtjb25zdCBhPXMuZmluZCgoZT0+XCJ2aWRlb0xvd1RyYWNrXCI9PT1lWzBdKSk7aWYoYSl7YVsxXS50cmFjay5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjay5zdG9wKCl9YXdhaXQgdGhpcy5zZW5kQ29ubmVjdGlvbi5tdXRlTG9jYWwocy5tYXAoKGU9PntsZXRbLHtpZDp0fV09ZTtyZXR1cm4gdH0pKSk7bGV0IGM9ITE7dmFyIHIsbztpZihcInZpZGVvXCI9PT1lLnRyYWNrTWVkaWFUeXBlKWM9IShudWxsPT09KHI9dGhpcy5sb2NhbFRyYWNrTWFwLmdldChKYi5Mb2NhbEF1ZGlvVHJhY2spKXx8dm9pZCAwPT09cnx8IXIudHJhY2suX211dGVkKTtlbHNlIGM9dm9pZCAwPT09KG51bGw9PT0obz10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KEpiLkxvY2FsVmlkZW9UcmFjaykpfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLmlkKTtjb25zdCBkPXRoaXMuY3JlYXRlTXV0ZU1lc3NhZ2Uocyk7YXdhaXQgTXYodGhpcyxRYi5SZXF1ZXN0TXV0ZUxvY2FsLGQpO2NvbnN0IGw9XCJ2aWRlb1wiPT09ZS50cmFja01lZGlhVHlwZT9jdy5NVVRFX0xPQ0FMX1ZJREVPOmN3Lk1VVEVfTE9DQUxfQVVESU87YXdhaXQgTXYodGhpcyxRYi5SZXF1ZXN0UDJQTXV0ZUxvY2FsLHthY3Rpb246bCxtZXNzYWdlOmQsaXNNdXRlQWxsOmN9KSx0KCl9Y2F0Y2goZSl7aShlKX1maW5hbGx5e24oKX19KSksb2codGhpcyxcImhhbmRsZVVubXV0ZUxvY2FsVHJhY2tcIiwoYXN5bmMoZSx0LGkpPT57Y29uc3Qgbj1hd2FpdCB0aGlzLnNlbmRNdXRleC5sb2NrKFwiTG9ja2luZyBmcm9tIFAyUENoYW5uZWwyLmhhbmRsZVVubXV0ZUxvY2FsVHJhY2tcIik7dHJ5e2lmKCF0aGlzLnNlbmRDb25uZWN0aW9ufHx0aGlzLnN0YXRlIT09WGIuQ29ubmVjdGVkKXJldHVybiB2b2lkIGkobmV3IHJ2KG52LklOVkFMSURfT1BFUkFUSU9OLFwiQ2Fubm90IGNhbGwgUDJQQ2hhbm5lbDIuaGFuZGxlVW5tdXRlTG9jYWxUcmFjayBiZWZvcmUgc2VuZENvbm5lY3Rpb24gZXN0YWJsaXNoZWQuXCIpKTtjb25zdCByPXRoaXMuZmlsdGVyVG9iZVVubXV0ZWRUcmFja3MoZSk7aWYoMD09PXIubGVuZ3RoKXJldHVybiB2b2lkIHQoKTthd2FpdCB0aGlzLnNlbmRDb25uZWN0aW9uLnVubXV0ZUxvY2FsKHIubWFwKChlPT57bGV0Wyx7aWQ6dH1dPWU7cmV0dXJuIHR9KSkpO2NvbnN0IG89dGhpcy5jcmVhdGVVbm11dGVNZXNzYWdlKHIpLHM9XCJ2aWRlb1wiPT09ZS50cmFja01lZGlhVHlwZT9jdy5VTk1VVEVfTE9DQUxfVklERU86Y3cuVU5NVVRFX0xPQ0FMX0FVRElPO2F3YWl0IE12KHRoaXMsUWIuUmVxdWVzdFAyUE11dGVMb2NhbCx7YWN0aW9uOnMsbWVzc2FnZTpvfSksdCgpfWNhdGNoKGUpe2koZSl9ZmluYWxseXtuKCl9fSkpLG9nKHRoaXMsXCJoYW5kbGVVcGRhdGVWaWRlb0VuY29kZXJcIiwoYXN5bmMoZSx0LGkpPT57Y29uc3Qgbj1hd2FpdCB0aGlzLnNlbmRNdXRleC5sb2NrKFwiTG9ja2luZyBmcm9tIFAyUENoYW5uZWwyLmhhbmRsZVNldFZpZGVvRW5jb2RlclwiKTt0cnl7Y29uc3QgaT10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KEpiLkxvY2FsVmlkZW9UcmFjayk7aWYoIXRoaXMuc2VuZENvbm5lY3Rpb258fCFpfHxpLnRyYWNrIT09ZXx8dGhpcy5zdGF0ZSE9PVhiLkNvbm5lY3RlZClyZXR1cm4gdm9pZCB0KCk7Y29uc3R7aWQ6cix0cmFjazpvfT1pO3ImJihhd2FpdCB0aGlzLnNlbmRDb25uZWN0aW9uLnVwZGF0ZVNlbmRQYXJhbWV0ZXJzKHIsbyksYXdhaXQgdGhpcy5zZW5kQ29ubmVjdGlvbi51cGRhdGVFbmNvZGVyQ29uZmlnKHIsbyksdGhpcy5lbWl0KFFiLlVwZGF0ZVZpZGVvRW5jb2RlcixvKSksdCgpfWNhdGNoKGUpe2koZSl9ZmluYWxseXtuKCl9fSkpLG9nKHRoaXMsXCJoYW5kbGVVcGRhdGVWaWRlb1NlbmRQYXJhbWV0ZXJzXCIsKGFzeW5jKGUsdCxpKT0+e2NvbnN0IG49YXdhaXQgdGhpcy5zZW5kTXV0ZXgubG9jayhcIkxvY2tpbmcgZnJvbSBQMlBDaGFubmVsMi5oYW5kbGVVcGRhdGVWaWRlb1NlbmRQYXJhbWV0ZXJzXCIpO3RyeXtjb25zdCBpPXRoaXMubG9jYWxUcmFja01hcC5nZXQoSmIuTG9jYWxWaWRlb1RyYWNrKTtpZighdGhpcy5zZW5kQ29ubmVjdGlvbnx8IWl8fGkudHJhY2shPT1lfHx0aGlzLnN0YXRlIT09WGIuQ29ubmVjdGVkKXJldHVybiB2b2lkIHQoKTtjb25zdHtpZDpyLHRyYWNrOm99PWk7ciYmYXdhaXQgdGhpcy5zZW5kQ29ubmVjdGlvbi51cGRhdGVTZW5kUGFyYW1ldGVycyhyLG8pLHQoKX1jYXRjaChlKXtpKGUpfWZpbmFsbHl7bigpfX0pKSxvZyh0aGlzLFwiaGFuZGxlUmVwbGFjZVRyYWNrXCIsKGFzeW5jKGUsdCxpLG4pPT57bGV0IHI7UXkuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFAyUENoYW5uZWwyIGhhbmRsZVJlcGxhY2VUcmFjayBmb3IgW3RyYWNrLWlkLVwiKS5jb25jYXQoZS5nZXRUcmFja0lkKCksXCJdXCIpKSxcImJvb2xlYW5cIj09dHlwZW9mIG4mJm58fChyPWF3YWl0IHRoaXMuc2VuZE11dGV4LmxvY2soXCJGcm9tIFAyUENoYW5uZWwyLmhhbmRsZVJlcGxhY2VUcmFja1wiKSk7dHJ5e3ZhciBvO2NvbnN0IGk9QXJyYXkuZnJvbSh0aGlzLmxvY2FsVHJhY2tNYXAuZW50cmllcygpKS5maW5kKCh0PT57bGV0Wyx7dHJhY2s6aX1dPXQ7cmV0dXJuIGU9PT1pfSkpO2lmKCF0aGlzLnNlbmRDb25uZWN0aW9ufHwhaXx8dm9pZCAwPT09aVsxXS5pZHx8dGhpcy5zdGF0ZSE9PVhiLkNvbm5lY3RlZClyZXR1cm4gdm9pZCB0KCk7aWYoYXdhaXQobnVsbD09PShvPXRoaXMuc2VuZENvbm5lY3Rpb24pfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLnJlcGxhY2VUcmFjayhlLGlbMV0uaWQpKSxpWzBdPT09SmIuTG9jYWxWaWRlb1RyYWNrJiZNRCgpLnN1cHBvcnREdWFsU3RyZWFtRW5jb2Rpbmcpe2NvbnN0IHQ9dGhpcy5sb2NhbFRyYWNrTWFwLmdldChKYi5Mb2NhbFZpZGVvTG93VHJhY2spO2lmKHQpe2NvbnN0IGk9ZS5fbWVkaWFTdHJlYW1UcmFjay5jbG9uZSgpO3QudHJhY2suX29yaWdpbk1lZGlhU3RyZWFtVHJhY2suc3RvcCgpLHQudHJhY2suX21lZGlhU3RyZWFtVHJhY2s9aSx0LnRyYWNrLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrPWksYXdhaXQgbmV3IEdoKCgoZSxpKT0+e3RoaXMuaGFuZGxlUmVwbGFjZVRyYWNrKHQudHJhY2ssZSxpLCEwKX0pKX19dCgpfWNhdGNoKGUpe2koZSl9ZmluYWxseXt2YXIgcztudWxsPT09KHM9cil8fHZvaWQgMD09PXN8fHMoKX19KSksb2codGhpcyxcImhhbmRsZUdldExvY2FsVmlkZW9TdGF0c1wiLChlPT57ZSh0aGlzLnN0YXRzQ29sbGVjdG9yLmdldExvY2FsVmlkZW9UcmFja1N0YXRzKCkpfSkpLG9nKHRoaXMsXCJoYW5kbGVHZXRMb2NhbEF1ZGlvU3RhdHNcIiwoZT0+e2UodGhpcy5zdGF0c0NvbGxlY3Rvci5nZXRMb2NhbEF1ZGlvVHJhY2tTdGF0cygpKX0pKSxvZyh0aGlzLFwiaGFuZGxlR2V0UmVtb3RlVmlkZW9TdGF0c1wiLChlPT50aGlzLnN0YXRzQ29sbGVjdG9yLmdldFJlbW90ZVZpZGVvVHJhY2tTdGF0cyhlLnVpZClbZS51aWRdKSksb2codGhpcyxcImhhbmRsZUdldFJlbW90ZUF1ZGlvU3RhdHNcIiwoZT0+dGhpcy5zdGF0c0NvbGxlY3Rvci5nZXRSZW1vdGVBdWRpb1RyYWNrU3RhdHMoZS51aWQpW2UudWlkXSkpLHRoaXMuc3RvcmU9ZSx0aGlzLnN0YXRzQ29sbGVjdG9yPXQsdGhpcy5zdGF0c0NvbGxlY3Rvci5hZGRQMlBDaGFubmVsKHRoaXMpLHRoaXMuc3RhdHNVcGxvYWRlcj1uZXcgdFYoZSksdGhpcy5iaW5kU3RhdHNVcGxvYWRlckV2ZW50cygpLHRoaXMucmVjb25uZWN0SW50ZXJ2YWw9d2luZG93LnNldEludGVydmFsKCgoKT0+e1t0aGlzLnNlbmRDb25uZWN0aW9uLHRoaXMucmVjdkNvbm5lY3Rpb25dLmZvckVhY2goKGU9PntlJiYoXCJkaXNjb25uZWN0ZWRcIiE9PWUuaWNlQ29ubmVjdGlvblN0YXRlJiZcImZhaWxlZFwiIT09ZS5pY2VDb25uZWN0aW9uU3RhdGV8fHRoaXMuaGFuZGxlRGlzY29ubmVjdChlLmRpcmVjdGlvbikpfSkpfSksRHkoXCJJQ0VfUkVTVEFSVF9JTlRFUlZBTFwiKSl9YXN5bmMgc3RhcnRQMlBDb25uZWN0aW9uKGUsdCl7dGhyb3cgbmV3IHJ2KG52Lk5PVF9TVVBQT1JURUQsXCJwMnAgbW9kZSBkb2VzIG5vdCBzdXBwb3J0IHN0YXJ0UDJQQ29ubmVjdGlvbi5cIil9YXN5bmMgY29ubmVjdChlKXt0aHJvdyBuZXcgcnYobnYuTk9UX1NVUFBPUlRFRCxcInAycCBtb2RlIGRvZXMgbm90IHN1cHBvcnQgY29ubmVjdC5cIil9YXN5bmMgc3RhcnRQMlAoZSx0KXtsZXQgaTt0cnl7aWYodCl7dGhpcy5yZWN2Q29ubmVjdGlvbiYmKFF5Lndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFAyUENoYW5uZWwuc3RhcnRQMlAgcmVzZXQgcmVjdkNvbm5lY3Rpb24uXCIpKSx0aGlzLnJlY3ZDb25uZWN0aW9uLmNsb3NlKCksdGhpcy51bmJpbmRDb25uZWN0aW9uRXZlbnRzKHRoaXMucmVjdkNvbm5lY3Rpb24pKSxpPWF3YWl0IHRoaXMucmVjdk11dGV4LmxvY2soXCJGcm9tIFAyUENoYW5uZWwuc3RhcnRQMlBcIiksdGhpcy5yZWN2Q29ubmVjdGlvbj1uZXcgeHgoZSx0aGlzLnN0b3JlLGZiLlJFQ0VJVkVfT05MWSksdGhpcy5iaW5kQ29ubmVjdGlvbkV2ZW50cyh0aGlzLnJlY3ZDb25uZWN0aW9uKTtjb25zdCBuPWF3YWl0IHRoaXMucmVjdkNvbm5lY3Rpb24uZXN0YWJsaXNoKHQpO3JldHVybntpY2VQYXJhbWV0ZXJzOm4uaWNlUGFyYW1ldGVycyxkdGxzUGFyYW1ldGVyczpuLmR0bHNQYXJhbWV0ZXJzLHNkcDpuLnNkcH19e3RoaXMuc3RhdGU9WGIuTmV3LHRoaXMuc2VuZENvbm5lY3Rpb24mJihReS53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBQMlBDaGFubmVsLnN0YXJ0UDJQIHJlc2V0IHNlbmRDb25uZWN0aW9uLlwiKSksdGhpcy5zZW5kQ29ubmVjdGlvbi5jbG9zZSgpLHRoaXMudW5iaW5kQ29ubmVjdGlvbkV2ZW50cyh0aGlzLnNlbmRDb25uZWN0aW9uKSksaT1hd2FpdCB0aGlzLnNlbmRNdXRleC5sb2NrKFwiRnJvbSBQMlBDaGFubmVsLnN0YXJ0UDJQXCIpLHRoaXMuc2VuZENvbm5lY3Rpb249bmV3IHh4KGUsdGhpcy5zdG9yZSksdGhpcy5zdG9yZS5wZWVyQ29ubmVjdGlvblN0YXJ0KCksdGhpcy5iaW5kQ29ubmVjdGlvbkV2ZW50cyh0aGlzLnNlbmRDb25uZWN0aW9uKTtjb25zdCB0PWF3YWl0IHRoaXMuc2VuZENvbm5lY3Rpb24uZXN0YWJsaXNoKCk7cmV0dXJue2ljZVBhcmFtZXRlcnM6dC5pY2VQYXJhbWV0ZXJzLGR0bHNQYXJhbWV0ZXJzOnQuZHRsc1BhcmFtZXRlcnMsc2RwOnQuc2RwfX19ZmluYWxseXtpJiZpKCl9fWFzeW5jIHAycENvbm5lY3QoZSl7aWYoIXRoaXMuc2VuZENvbm5lY3Rpb24pdGhyb3cgbmV3IHJ2KG52LlVORVhQRUNURURfRVJST1IsXCJDYW5ub3QgUDJQQ2hhbm5lbDIucDJwQ29ubmVjdCBiZWZvcmUgUDJQQ2hhbm5lbDIuc3RhcnRQMlBDb25uZWN0aW9uIC5cIik7dGhpcy5zdG9yZS5wZWVyQ29ubmVjdGlvblN0YXJ0KCksYXdhaXQgdGhpcy5zZW5kQ29ubmVjdGlvbi5jb25uZWN0KGUpLHRoaXMuc3RhdHNVcGxvYWRlci5zdGFydFVwbG9hZFRyYW5zcG9ydFN0YXRzKCksdGhpcy5zdGF0c1VwbG9hZGVyLnN0YXJ0VXBsb2FkRXh0ZW5zaW9uVXNhZ2VTdGF0cygpLHRoaXMuc3RhdGU9WGIuQ29ubmVjdGVkfWFzeW5jIGFkZFJlbW90ZUNhbmRpZGF0ZShlLHQpe2lmKHQ9PT1mYi5SRUNFSVZFX09OTFkpe2lmKCF0aGlzLnNlbmRDb25uZWN0aW9uKXRocm93IG5ldyBydihudi5VTkVYUEVDVEVEX0VSUk9SLFwiQ2Fubm90IFAyUENoYW5uZWwyLmNvbm5lY3QgYmVmb3JlIFAyUENoYW5uZWwyLmFkZFJlbW90ZUNhbmRpZGF0ZSAuXCIpO2F3YWl0IHRoaXMuc2VuZENvbm5lY3Rpb24uYWRkUmVtb3RlQ2FuZGlkYXRlKGUpfWVsc2V7aWYoIXRoaXMucmVjdkNvbm5lY3Rpb24pdGhyb3cgbmV3IHJ2KG52LlVORVhQRUNURURfRVJST1IsXCJDYW5ub3QgUDJQQ2hhbm5lbDIuY29ubmVjdCBiZWZvcmUgUDJQQ2hhbm5lbDIuYWRkUmVtb3RlQ2FuZGlkYXRlIC5cIik7YXdhaXQgdGhpcy5yZWN2Q29ubmVjdGlvbi5hZGRSZW1vdGVDYW5kaWRhdGUoZSl9fXB1Ymxpc2goZSx0LGkpe3ZhciBuPXRoaXM7cmV0dXJuIFpVKChmdW5jdGlvbiooKXtjb25zdCByPXlpZWxkIFdVKG4uc2VuZE11dGV4LmxvY2soXCJGcm9tIFAyUENoYW5uZWwucHVibGlzaFwiKSk7dHJ5e2lmKCFuLnNlbmRDb25uZWN0aW9ufHxuLnN0YXRlIT09WGIuQ29ubmVjdGVkKXtuLnRocm93SWZUcmFja1R5cGVOb3RNYXRjaChlKTtjb25zdCB0PWUuZmlsdGVyKChlPT4tMT09PW4ucGVuZGluZ0xvY2FsVHJhY2tzLmluZGV4T2YoZSkpKTtyZXR1cm4gdm9pZChuLnBlbmRpbmdMb2NhbFRyYWNrcz1uLnBlbmRpbmdMb2NhbFRyYWNrcy5jb25jYXQodCkpfW4uc3RvcmUucHViSWQ9bi5zdG9yZS5wdWJJZCsxLGpVLm1hcmtQdWJsaXNoU3RhcnQobi5zdG9yZS5jbGllbnRJZCxuLnN0b3JlLnB1YklkKTtjb25zdCBvPW4uZmlsdGVyVG9iZVB1Ymxpc2hlZFRyYWNrcyhlLHQsaSk7aWYoMD09PW8ubGVuZ3RoKXJldHVybiB2b2lkKHlpZWxkIFdVKG4udHJ5VG9Vbm11dGVBdWRpbyhlKSkpO28uZm9yRWFjaCgoZT0+e2xldHt0cmFjazp0LHR5cGU6aX09ZTtjb25zdCByPURhdGUubm93KCk7bi5zdG9yZS5wdWJsaXNoKHQuZ2V0VHJhY2tJZCgpLGk9PT1KYi5Mb2NhbEF1ZGlvVHJhY2s/XCJhdWRpb1wiOlwidmlkZW9cIixyKX0pKSxuLmJpbmRMb2NhbFRyYWNrRXZlbnRzKG8pO2NvbnN0IHM9eWllbGQgV1Uobi5zZW5kQ29ubmVjdGlvbi5zZW5kKG8ubWFwKChlPT57bGV0e3RyYWNrOnR9PWU7cmV0dXJuIHR9KSksbi5zdG9yZS5jb2RlYyxuLnN0b3JlLmF1ZGlvQ29kZWMpKSxhPSh5aWVsZCBXVShzLm5leHQoKSkpLnZhbHVlLGM9bi5jcmVhdGVHYXRld2F5UHVibGlzaE1lc3NhZ2UobyxhKTt0cnl7eWllbGQgY31jYXRjaChlKXt0aHJvdyBzLnRocm93KGUpLChudWxsPT1lP3ZvaWQgMDplLmNvZGUpPT09bnYuV1NfQUJPUlQmJm8uZm9yRWFjaCgoZT0+e2xldHt0cmFjazp0fT1lOy0xPT09bi5wZW5kaW5nTG9jYWxUcmFja3MuaW5kZXhPZih0KSYmbi5wZW5kaW5nTG9jYWxUcmFja3MucHVzaCh0KX0pKSxuLnVuYmluZExvY2FsVHJhY2tFdmVudHMobyksZX15aWVsZCBXVShzLm5leHQoKSksby5mb3JFYWNoKChlPT57bGV0e3R5cGU6dH09ZTtuLnN0YXRzQ29sbGVjdG9yLmFkZExvY2FsU3RhdHModCl9KSksbi5zdGF0c1VwbG9hZGVyLnN0YXJ0VXBsb2FkT3V0Ym91bmRTdGF0cygpLG4uYXNzaWduTG9jYWxUcmFja3MobyxhKSxvLmZvckVhY2goKGU9PntsZXR7dHJhY2s6dCx0eXBlOml9PWU7Y29uc3Qgcj1EYXRlLm5vdygpO24uc3RvcmUucHVibGlzaCh0LmdldFRyYWNrSWQoKSxpPT09SmIuTG9jYWxBdWRpb1RyYWNrP1wiYXVkaW9cIjpcInZpZGVvXCIsdm9pZCAwLHIpfSkpLG4uc3RhcnRVcGxvYWRVcGxpbmtTdGF0ZSgpfWZpbmFsbHl7cigpfX0pKSgpfWFzeW5jIHVucHVibGlzaChlKXtpZighdGhpcy5zZW5kQ29ubmVjdGlvbnx8dGhpcy5zdGF0ZSE9PVhiLkNvbm5lY3RlZClyZXR1cm4gdm9pZCgwPT09ZS5sZW5ndGg/dGhpcy5wZW5kaW5nTG9jYWxUcmFja3MubGVuZ3RoPTA6dGhpcy5wZW5kaW5nTG9jYWxUcmFja3M9dGhpcy5wZW5kaW5nTG9jYWxUcmFja3MuZmlsdGVyKCh0PT4hRG4oZSkuY2FsbChlLHQpKSkpO2NvbnN0IHQ9dGhpcy5maWx0ZXJUb2JlVW5wdWJsaXNoZWRUcmFja3MoZSk7aWYoMD09PXQubGVuZ3RoKXJldHVybjtjb25zdCBpPXQuZmluZCgoZT0+XCJ2aWRlb0xvd1RyYWNrXCI9PT1lWzBdKSk7aWYoaSl7aVsxXS50cmFjay5jbG9zZSgpfWNvbnN0IG49dGhpcy5jcmVhdGVHYXRld2F5VW5wdWJsaXNoTWVzc2FnZSh0KTtpZihhd2FpdCB0aGlzLnNlbmRDb25uZWN0aW9uLnN0b3BTZW5kaW5nKHQubWFwKChlPT57bGV0Wyx7aWQ6dH1dPWU7cmV0dXJuIHR9KSkpLHRoaXMud2l0aGRyYXdMb2NhbFRyYWNrcyh0KSx0aGlzLnVuYmluZExvY2FsVHJhY2tFdmVudHModC5tYXAoKGU9PntsZXRbdCx7dHJhY2s6aX1dPWU7cmV0dXJue3R5cGU6dCx0cmFjazppfX0pKSksdC5mb3JFYWNoKChlPT57bGV0W3RdPWU7dGhpcy5zdGF0c0NvbGxlY3Rvci5yZW1vdmVMb2NhbFN0YXRzKHQpfSkpLDA9PT10aGlzLmxvY2FsVHJhY2tNYXAuc2l6ZSYmKHRoaXMuc3RhdHNVcGxvYWRlci5zdG9wVXBsb2FkT3V0Ym91bmRTdGF0cygpLHRoaXMuc3RvcFVwbG9hZFVwbGlua1N0YXRlKCkpLHRoaXMuc2VuZENvbm5lY3Rpb24mJnRoaXMuc3RhdGU9PT1YYi5Db25uZWN0ZWQpe2lmKGkpe2lbMV0udHJhY2suY2xvc2UoKX1yZXR1cm4gbn1lLmZvckVhY2goKGU9Pntjb25zdCB0PXRoaXMucGVuZGluZ0xvY2FsVHJhY2tzLmluZGV4T2YoZSk7LTEhPT10JiZ0aGlzLnBlbmRpbmdMb2NhbFRyYWNrcy5zcGxpY2UodCwxKX0pKX1zdGFydFVwbG9hZFVwbGlua1N0YXRlKCl7aWYodGhpcy51cGxvYWRVbnBsaW5rU3RhcnRlZClyZXR1cm47dGhpcy51cGxvYWRVbnBsaW5rU3RhcnRlZD0hMCx0aGlzLnVwbGlua1N0YXRlVXBsb2FkSW50ZXJ2YWwmJndpbmRvdy5jbGVhckludGVydmFsKHRoaXMudXBsaW5rU3RhdGVVcGxvYWRJbnRlcnZhbCk7Y29uc3QgZT0oKT0+e2NvbnN0IGU9W10sdD1bXTtBcnJheS5mcm9tKHRoaXMubG9jYWxUcmFja01hcC5lbnRyaWVzKCkpLmZvckVhY2goKGk9PntsZXRbbix7dHJhY2s6cixzc3JjczpvfV09aTtjb25zdCBzPXtzdHJlYW1fdHlwZTpyVihyLG4pLHNzcmNzOm99O3IuX211dGVkfHwhci5fZW5hYmxlZD9lLnB1c2gocyk6dC5wdXNoKHMpfSkpLGUubGVuZ3RoPjAmJmUuZm9yRWFjaCgoZT0+e012KHRoaXMsUWIuUmVxdWVzdE11dGVMb2NhbCxbZV0pfSkpLHQubGVuZ3RoPjAmJnQuZm9yRWFjaCgoZT0+e012KHRoaXMsUWIuUmVxdWVzdFVubXV0ZUxvY2FsLFtlXSl9KSl9O2UoKSx0aGlzLnVwbGlua1N0YXRlVXBsb2FkSW50ZXJ2YWw9d2luZG93LnNldEludGVydmFsKCgoKT0+e2UoKX0pLDNlMyl9c3RvcFVwbG9hZFVwbGlua1N0YXRlKCl7dGhpcy51cGxvYWRVbnBsaW5rU3RhcnRlZCYmKHRoaXMudXBsb2FkVW5wbGlua1N0YXJ0ZWQ9ITEsdGhpcy51cGxpbmtTdGF0ZVVwbG9hZEludGVydmFsJiZ3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLnVwbGlua1N0YXRlVXBsb2FkSW50ZXJ2YWwpKX1wdWJsaXNoTG93U3RyZWFtKGUpe3JldHVybiBaVSgoZnVuY3Rpb24qKCl7dGhyb3cgbmV3IHJ2KG52Lk5PVF9TVVBQT1JURUQsXCJwMnAgbW9kZSBkb2VzIG5vdCBzdXBwb3J0IHB1Ymxpc2hMb3dTdHJlYW0uXCIpfSkpKCl9YXN5bmMgcmVwdWJsaXNoKCl7dGhpcy5wZW5kaW5nTG9jYWxUcmFja3MubGVuZ3RoPjAmJihReS5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gRW1pdCBQMlBDaGFubmVsRXZlbnRzLlJlcXVlc3RSZVB1Ymxpc2ggdG8gcmVwdWJsaXNoIHRyYWNrcy5cIikpLGF3YWl0IGt2KHRoaXMsUWIuUmVxdWVzdFJlUHVibGlzaCx0aGlzLnBlbmRpbmdMb2NhbFRyYWNrcyksdGhpcy5lbWl0KFFiLk1lZGlhUmVjb25uZWN0RW5kLHRoaXMuc3RvcmUudWlkKSx0aGlzLnBlbmRpbmdMb2NhbFRyYWNrcz1bXSl9YXN5bmMgdW5wdWJsaXNoTG93U3RyZWFtKCl7dGhyb3cgbmV3IHJ2KG52Lk5PVF9TVVBQT1JURUQsXCJwMnAgbW9kZSBkb2VzIG5vdCBzdXBwb3J0IHVucHVibGlzaExvd1N0cmVhbS5cIil9YXN5bmMgc3Vic2NyaWJlKGUsdCxpLG4pe3ZhciByO2lmKCF0aGlzLnJlY3ZDb25uZWN0aW9uKXRocm93IG5ldyBydihudi5JTlZBTElEX09QRVJBVElPTixcIkNhbm5vdCBzdWJzY3JpYmUgcmVtb3RlIHVzZXIgd2hlbiByZWN2Q29ubmVjdGlvbiBkaXNjb25uZWN0ZWQuXCIpO2lmKG51bGwhPT0ocj10aGlzLnJlbW90ZVVzZXJNYXAuZ2V0KGUpKSYmdm9pZCAwIT09ciYmci5oYXModCkpcmV0dXJuO2NvbnN0e3RyYWNrOm8sbWlkOnMsdHJhbnNjZWl2ZXI6YX09YXdhaXQgdGhpcy5yZWN2Q29ubmVjdGlvbi5yZWNlaXZlKHQsW3tzc3JjSWQ6aX1dLFN0cmluZyhlLnVpZCksbik7dD09PVliLkFVRElPPyhlLl9hdWRpb1RyYWNrP2UuX2F1ZGlvVHJhY2suX3VwZGF0ZU9yaWdpbk1lZGlhU3RyZWFtVHJhY2sobyk6KGUuX2F1ZGlvVHJhY2s9bmV3IGFNKG8sZS51aWQsZS5fdWludGlkLHRoaXMuc3RvcmUpLFF5LmluZm8oXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFtcIikuY29uY2F0KHRoaXMuc3RvcmUucDJwSWQsXCJdIGNyZWF0ZSByZW1vdGUgYXVkaW8gdHJhY2s6IFwiKS5jb25jYXQoZS5fYXVkaW9UcmFjay5nZXRUcmFja0lkKCkpKSksYSYmZS5fYXVkaW9UcmFjay5fdXBkYXRlUnRwVHJhbnNjZWl2ZXIoYSksdGhpcy5iaW5kUmVtb3RlVHJhY2tFdmVudHMoZSxlLl9hdWRpb1RyYWNrKSk6KGUuX3ZpZGVvU1NSQz1pLGUuX3ZpZGVvVHJhY2s/ZS5fdmlkZW9UcmFjay5fdXBkYXRlT3JpZ2luTWVkaWFTdHJlYW1UcmFjayhvKTooZS5fdmlkZW9UcmFjaz1uZXcgc00obyxlLnVpZCxlLl91aW50aWQsdGhpcy5zdG9yZSksUXkuaW5mbyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW1wiKS5jb25jYXQodGhpcy5zdG9yZS5wMnBJZCxcIl0gY3JlYXRlIHJlbW90ZSB2aWRlbyB0cmFjazogXCIpLmNvbmNhdChlLl92aWRlb1RyYWNrLmdldFRyYWNrSWQoKSkpKSxhJiZlLl92aWRlb1RyYWNrLl91cGRhdGVSdHBUcmFuc2NlaXZlcihhKSx0aGlzLmJpbmRSZW1vdGVUcmFja0V2ZW50cyhlLGUuX3ZpZGVvVHJhY2spKTtjb25zdCBjPXRoaXMucmVtb3RlVXNlck1hcC5nZXQoZSk7Yz9jLnNldCh0LHMpOnRoaXMucmVtb3RlVXNlck1hcC5zZXQoZSxuZXcgTWFwKFtbdCxzXV0pKSx0aGlzLnN0YXRzQ29sbGVjdG9yLmFkZFJlbW90ZVN0YXRzKGUudWlkKSx0aGlzLnN0YXRzVXBsb2FkZXIuc3RhcnRVcGxvYWRJbmJvdW5kU3RhdHMoKSx0aGlzLnN0YXJ0VXBsb2FkRG93bmxpbmtTdGF0ZSgpO2NvbnN0IGQ9dGhpcy5wZW5kaW5nUmVtb3RlVHJhY2tzLmZpbmRJbmRleCgoaT0+e2xldHt1c2VyOm4sa2luZDpyfT1pO3JldHVybiBuLnVpZD09PWUudWlkJiZ0PT09cn0pKTstMSE9PWQmJih0aGlzLnBlbmRpbmdSZW1vdGVUcmFja3Muc3BsaWNlKGQsMSksdGhpcy5lbWl0KFFiLk1lZGlhUmVjb25uZWN0RW5kLGUudWlkKSl9YXN5bmMgbW9ja1N1YnNjcmliZShlLHQsaSxuKXtpZighdGhpcy5yZWN2Q29ubmVjdGlvbil0aHJvdyBuZXcgcnYobnYuSU5WQUxJRF9PUEVSQVRJT04sXCJDYW5ub3Qgc3Vic2NyaWJlIHJlbW90ZSB1c2VyIHdoZW4gcmVjdkNvbm5lY3Rpb24gZGlzY29ubmVjdGVkLlwiKTthd2FpdCB0aGlzLnJlY3ZDb25uZWN0aW9uLm1vY2tSZWNlaXZlKHQsW3tzc3JjSWQ6aX1dLFN0cmluZyhlLnVpZCksbil9YXN5bmMgdW5zdWJzY3JpYmUoZSx0LGkpe2NvbnN0IG49dGhpcy5wZW5kaW5nUmVtb3RlVHJhY2tzLmZpbHRlcigoaT0+e2xldHt1c2VyOm4sa2luZDpyfT1pO3JldHVybiB2b2lkIDAhPT10P24udWlkPT09ZS51aWQmJnQ9PT1yOm4udWlkPT09ZS51aWR9KSk7aWYobi5mb3JFYWNoKChlPT57Y29uc3QgdD10aGlzLnBlbmRpbmdSZW1vdGVUcmFja3MuaW5kZXhPZihlKTt0aGlzLnBlbmRpbmdSZW1vdGVUcmFja3Muc3BsaWNlKHQsMSl9KSksdGhpcy5yZWN2Q29ubmVjdGlvbnx8aXx8bi5mb3JFYWNoKCh0PT57bGV0e2tpbmQ6aX09dDt2YXIgbjtpZihpPT09WWIuQVVESU8pbnVsbD09PShuPWUuX2F1ZGlvVHJhY2spfHx2b2lkIDA9PT1ufHxuLl9kZXN0cm95KCksZS5fYXVkaW9UcmFjaz12b2lkIDA7ZWxzZSBpZihpPT09WWIuVklERU8pe3ZhciByO251bGw9PT0ocj1lLl92aWRlb1RyYWNrKXx8dm9pZCAwPT09cnx8ci5fZGVzdHJveSgpLGUuX3ZpZGVvVHJhY2s9dm9pZCAwfX0pKSwhdGhpcy5yZWN2Q29ubmVjdGlvbilyZXR1cm47Y29uc3Qgcj10aGlzLmZpbHRlclRvYmVVblN1YnNjcmliZWRUcmFja3MoZSx0KTswIT09ci5sZW5ndGgmJihhd2FpdCB0aGlzLnJlY3ZDb25uZWN0aW9uLnN0b3BSZWNlaXZpbmcoci5tYXAoKGU9PntsZXRbLHtpZDp0fV09ZTtyZXR1cm4gdH0pKSksdGhpcy53aXRoZHJhd1JlbW90ZVRyYWNrcyhyKSwwPT09dGhpcy5yZW1vdGVVc2VyTWFwLnNpemUmJih0aGlzLnN0YXRzVXBsb2FkZXIuc3RvcFVwbG9hZEluYm91bmRTdGF0cygpLHRoaXMuc3RvcFVwbG9hZERvd25saW5rU3RhdGUoKSksci5mb3JFYWNoKChlPT57bGV0W3Qse2tpbmQ6bn1dPWU7dmFyIHIsbztuPT09WWIuVklERU8mJnQuX3ZpZGVvU1NSQyYmKG51bGw9PT0ocj10aGlzLnJlY3ZDb25uZWN0aW9uKXx8dm9pZCAwPT09cnx8ci5zZXRTdGF0c1JlbW90ZVZpZGVvSXNSZWFkeSh0Ll92aWRlb1NTUkMsITEpKTtpZihuPT09WWIuVklERU8pdGhpcy51bmJpbmRSZW1vdGVUcmFja0V2ZW50cyh0Ll92aWRlb1RyYWNrKSxpfHwobnVsbD09PShvPXQuX3ZpZGVvVHJhY2spfHx2b2lkIDA9PT1vfHxvLl9kZXN0cm95KCksdC5fdmlkZW9UcmFjaz12b2lkIDApO2Vsc2UgaWYobj09PVliLkFVRElPKXt2YXIgcztpZih0aGlzLnVuYmluZFJlbW90ZVRyYWNrRXZlbnRzKHQuX2F1ZGlvVHJhY2spLCFpKW51bGw9PT0ocz10Ll9hdWRpb1RyYWNrKXx8dm9pZCAwPT09c3x8cy5fZGVzdHJveSgpLHQuX2F1ZGlvVHJhY2s9dm9pZCAwfX0pKSxyLmZvckVhY2goKGU9PntsZXRbLHtraW5kOnR9XT1lO012KHRoaXMsUWIuUmVxdWVzdFAyUE11dGVSZW1vdGUsdCl9KSkpfXN0YXJ0VXBsb2FkRG93bmxpbmtTdGF0ZSgpe2lmKHRoaXMudXBsb2FkRG93bmxpbmtTdGFydGVkKXJldHVybjt0aGlzLnVwbG9hZERvd25saW5rU3RhcnRlZD0hMCx0aGlzLmRvd25saW5rU3RhdHNVcGxvYWRJbnRlcnZhbCYmd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5kb3dubGlua1N0YXRzVXBsb2FkSW50ZXJ2YWwpO2NvbnN0IGU9KCk9PkFycmF5LmZyb20odGhpcy5yZW1vdGVVc2VyTWFwLmVudHJpZXMoKSkuZm9yRWFjaCgoZT0+e2xldFssdF09ZTtbWWIuVklERU8sWWIuQVVESU9dLmZvckVhY2goKGU9Pnt0LmhhcyhlKT9Ndih0aGlzLFFiLlJlcXVlc3RQMlBVbm11dGVSZW1vdGUsZSk6TXYodGhpcyxRYi5SZXF1ZXN0UDJQTXV0ZVJlbW90ZSxlKX0pKX0pKTtlKCksdGhpcy5kb3dubGlua1N0YXRzVXBsb2FkSW50ZXJ2YWw9d2luZG93LnNldEludGVydmFsKCgoKT0+e2UoKX0pLDNlMyl9c3RvcFVwbG9hZERvd25saW5rU3RhdGUoKXt0aGlzLnVwbG9hZERvd25saW5rU3RhcnRlZCYmKHRoaXMudXBsb2FkRG93bmxpbmtTdGFydGVkPSExLHRoaXMuZG93bmxpbmtTdGF0c1VwbG9hZEludGVydmFsJiZ3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLmRvd25saW5rU3RhdHNVcGxvYWRJbnRlcnZhbCkpfWdldEFsbERhdGFDaGFubmVscygpe3JldHVybiB0aGlzLmxvY2FsRGF0YUNoYW5uZWxzfWFzeW5jIG1hc3NTdWJzY3JpYmUoZSl7dGhyb3cgbmV3IHJ2KG52Lk5PVF9TVVBQT1JURUQsXCJwMnAgbW9kZSBkb2VzIG5vdCBzdXBwb3J0IG1hc3NTdWJzY3JpYmUuXCIpfWFzeW5jIG1hc3NTdWJzY3JpYmVOb0xvY2soZSl7dGhyb3cgbmV3IHJ2KG52Lk5PVF9TVVBQT1JURUQsXCJwMnAgbW9kZSBkb2VzIG5vdCBzdXBwb3J0IG1hc3NTdWJzY3JpYmVOb0xvY2suXCIpfWFzeW5jIG1hc3NVbnN1YnNjcmliZShlKXt0aHJvdyBuZXcgcnYobnYuTk9UX1NVUFBPUlRFRCxcInAycCBtb2RlIGRvZXMgbm90IHN1cHBvcnQgbWFzc1Vuc3Vic2NyaWJlLlwiKX1hc3luYyBtYXNzVW5zdWJzY3JpYmVOb0xvY2soZSl7dGhyb3cgbmV3IHJ2KG52Lk5PVF9TVVBQT1JURUQsXCJwMnAgbW9kZSBkb2VzIG5vdCBzdXBwb3J0IG1hc3NVbnN1YnNjcmliZU5vTG9jay5cIil9YXN5bmMgbXV0ZVJlbW90ZShlLHQpe2lmKCF0aGlzLnJlY3ZDb25uZWN0aW9uKXJldHVybjtjb25zdCBpPXRoaXMucmVtb3RlVXNlck1hcC5nZXQoZSk7aWYoIWkpcmV0dXJuIHZvaWQgUXkud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gUDJQQ2hhbm5lbDIubXV0ZVJlbW90ZSBoYXMgbm8gcmVtb3RlIHVzZXIgXCIpLmNvbmNhdChlLnVpZCxcIi5cIikpO2lmKCFpLmdldCh0KSlyZXR1cm4gdm9pZCBReS53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBQMlBDaGFubmVsMi5tdXRlUmVtb3RlIGhhcyBubyByZW1vdGUgdXNlciBcIikuY29uY2F0KGUudWlkLFwiIG1lZGlhIHR5cGUgXCIpLmNvbmNhdCh0LFwiLlwiKSk7Y29uc3Qgbj10PT09WWIuVklERU8/ZS5fdmlkZW9TU1JDOmUuX2F1ZGlvU1NSQzt2b2lkIDAhPT1uJiZ0aGlzLnJlY3ZDb25uZWN0aW9uLnNldFN0YXRzUmVtb3RlVmlkZW9Jc1JlYWR5KG4sITEpfWFzeW5jIHVubXV0ZVJlbW90ZShlLHQpe3JldHVybiB0aGlzLnVubXV0ZVJlbW90ZU5vTG9jayhlLHQpfWFzeW5jIHVubXV0ZVJlbW90ZU5vTG9jayhlLHQpe2lmKCF0aGlzLnJlY3ZDb25uZWN0aW9uKXJldHVybjtjb25zdCBpPXRoaXMucmVtb3RlVXNlck1hcC5nZXQoZSk7aWYoIWkpcmV0dXJuIHZvaWQgUXkud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gUDJQQ2hhbm5lbDIudW5tdXRlUmVtb3RlIGhhcyBubyByZW1vdGUgdXNlciBcIikuY29uY2F0KGUudWlkLFwiLlwiKSk7aS5nZXQodCl8fFF5Lndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFAyUENoYW5uZWwyLnVubXV0ZVJlbW90ZSBoYXMgbm8gcmVtb3RlIHVzZXIgXCIpLmNvbmNhdChlLnVpZCxcIiBtZWRpYSB0eXBlIFwiKS5jb25jYXQodCxcIi5cIikpfWdldEFsbFRyYWNrcyhlKXtjb25zdCB0PXRoaXMubG9jYWxUcmFja01hcC5nZXQoSmIuTG9jYWxBdWRpb1RyYWNrKTtpZigobnVsbD09dD92b2lkIDA6dC50cmFjaylpbnN0YW5jZW9mIHJrKXtjb25zdCBpPXQudHJhY2s7cmV0dXJuIEFycmF5LmZyb20odGhpcy5sb2NhbFRyYWNrTWFwLmVudHJpZXMoKSkuZmlsdGVyKChlPT57bGV0W3RdPWU7cmV0dXJuIHQhPT1KYi5Mb2NhbEF1ZGlvVHJhY2t9KSkuZmlsdGVyKCh0PT57bGV0W2ldPXQ7cmV0dXJuIShlJiZpPT09SmIuTG9jYWxWaWRlb0xvd1RyYWNrKX0pKS5tYXAoKGU9PntsZXRbLHt0cmFjazp0fV09ZTtyZXR1cm4gdH0pKS5jb25jYXQoaS50cmFja0xpc3QpfXJldHVybiBBcnJheS5mcm9tKHRoaXMubG9jYWxUcmFja01hcC5lbnRyaWVzKCkpLmZpbHRlcigodD0+e2xldFtpXT10O3JldHVybiEoZSYmaT09PUpiLkxvY2FsVmlkZW9Mb3dUcmFjayl9KSkubWFwKChlPT57bGV0Wyx7dHJhY2s6dH1dPWU7cmV0dXJuIHR9KSl9cmVwb3J0UHVibGlzaEV2ZW50KGUsdCxpLG4scil7aWYoZSl7Y29uc3QgaT10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KEpiLkxvY2FsQXVkaW9UcmFjayksbz1uP3RoaXMubG9jYWxUcmFja01hcC5nZXQoSmIuTG9jYWxWaWRlb0xvd1RyYWNrKTp0aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KEpiLkxvY2FsVmlkZW9UcmFjayk7c0EucHVibGlzaCh0aGlzLnN0b3JlLnNlc3Npb25JZCx7ZXZlbnRFbGFwc2U6alUubWVhc3VyZUZyb21QdWJsaXNoU3RhcnQodGhpcy5zdG9yZS5jbGllbnRJZCx0aGlzLnN0b3JlLnB1YklkKSxzdWNjOmUsZWM6dCxhdWRpb05hbWU6bnVsbD09aT92b2lkIDA6aS50cmFjay5nZXRUcmFja0xhYmVsKCksdmlkZW9OYW1lOm51bGw9PW8/dm9pZCAwOm8udHJhY2suZ2V0VHJhY2tMYWJlbCgpLHNjcmVlbnNoYXJlOi0xIT09KG51bGw9PW8/dm9pZCAwOm8udHJhY2suX2hpbnRzLmluZGV4T2YoZVAuU0NSRUVOX1RSQUNLKSksYXVkaW86ISFpLHZpZGVvOiEhbyxwMnBpZDp0aGlzLnN0b3JlLnAycElkLHB1Ymxpc2hSZXF1ZXN0aWQ6dGhpcy5zdG9yZS5wdWJJZCxleHRlbmQ6cn0pfWVsc2V7dmFyIG87aXx8KGk9W10pO2NvbnN0IHM9aS5maW5kKChlPT5lIGluc3RhbmNlb2YgdGspKSxhPW4/bnVsbD09PShvPXRoaXMubG9jYWxUcmFja01hcC5nZXQoSmIuTG9jYWxWaWRlb1RyYWNrKSl8fHZvaWQgMD09PW8/dm9pZCAwOm8udHJhY2s6aS5maW5kKChlPT5lIGluc3RhbmNlb2YgSGspKTtzQS5wdWJsaXNoKHRoaXMuc3RvcmUuc2Vzc2lvbklkLHtldmVudEVsYXBzZTpqVS5tZWFzdXJlRnJvbVB1Ymxpc2hTdGFydCh0aGlzLnN0b3JlLmNsaWVudElkLHRoaXMuc3RvcmUucHViSWQpLHN1Y2M6ZSxlYzp0LGF1ZGlvTmFtZTpudWxsPT1zP3ZvaWQgMDpzLmdldFRyYWNrTGFiZWwoKSx2aWRlb05hbWU6bnVsbD09YT92b2lkIDA6YS5nZXRUcmFja0xhYmVsKCksc2NyZWVuc2hhcmU6LTEhPT0obnVsbD09YT92b2lkIDA6YS5faGludHMuaW5kZXhPZihlUC5TQ1JFRU5fVFJBQ0spKSxhdWRpbzohIXMsdmlkZW86ISFhLHAycGlkOnRoaXMuc3RvcmUucDJwSWQscHVibGlzaFJlcXVlc3RpZDp0aGlzLnN0b3JlLnB1YklkLGV4dGVuZDpyfSl9fXJlcG9ydFN1YnNjcmliZUV2ZW50KGUsdCxpLG4pe2NvbnN0IHI9bj09PVliLlZJREVPP2kuX3ZpZGVvU1NSQzppLl9hdWRpb1NTUkM7ciYmc0Euc3Vic2NyaWJlKHRoaXMuc3RvcmUuc2Vzc2lvbklkLHtzdWNjOmUsZWM6dCx2aWRlbzpuPT09WWIuVklERU8sYXVkaW86bj09PVliLkFVRElPLHBlZXJpZDppLnVpZCxzdWJzY3JpYmVSZXF1ZXN0aWQ6bj09PVliLlZJREVPP2kuX3ZpZGVvU1NSQzppLl9hdWRpb1NTUkMscDJwaWQ6dGhpcy5zdG9yZS5wMnBJZCxldmVudEVsYXBzZTpqVS5tZWFzdXJlRnJvbVN1YnNjcmliZVN0YXJ0KHRoaXMuc3RvcmUuY2xpZW50SWQscil9KX1yZXNldCgpe1F5LmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBQMlBDaGFubmVsMi5yZXNldFwiKSksdGhpcy5zZW5kTXV0ZXg9bmV3IGh5KFwiUDJQQ2hhbm5lbDItc2VuZC1tdXRleFwiKSx0aGlzLnNlbmRNdXRleD1uZXcgaHkoXCJQMlBDaGFubmVsMi1yZWN2LW11dGV4XCIpLHRoaXMuc2VuZENvbm5lY3Rpb24mJih0aGlzLnNlbmRDb25uZWN0aW9uLmNsb3NlKCksdGhpcy51bmJpbmRDb25uZWN0aW9uRXZlbnRzKHRoaXMuc2VuZENvbm5lY3Rpb24pLHRoaXMuc2VuZENvbm5lY3Rpb249dm9pZCAwKSx0aGlzLnJlY3ZDb25uZWN0aW9uJiYodGhpcy5yZWN2Q29ubmVjdGlvbi5jbG9zZSgpLHRoaXMudW5iaW5kQ29ubmVjdGlvbkV2ZW50cyh0aGlzLnJlY3ZDb25uZWN0aW9uKSx0aGlzLnJlY3ZDb25uZWN0aW9uPXZvaWQgMCksdGhpcy5zdGF0c1VwbG9hZGVyLnN0b3BVcGxvYWRPdXRib3VuZFN0YXRzKCksdGhpcy5zdGF0c1VwbG9hZGVyLnN0b3BVcGxvYWRJbmJvdW5kU3RhdHMoKSx0aGlzLnN0YXRzVXBsb2FkZXIuc3RvcFVwbG9hZFRyYW5zcG9ydFN0YXRzKCksdGhpcy5zdGF0c1VwbG9hZGVyLnN0b3BVcGxvYWRFeHRlbnNpb25Vc2FnZVN0YXRzKCksdGhpcy5zdG9wVXBsb2FkVXBsaW5rU3RhdGUoKSx0aGlzLnN0b3BVcGxvYWREb3dubGlua1N0YXRlKCksdGhpcy51bmJpbmRMb2NhbFRyYWNrRXZlbnRzKCksdGhpcy51bmJpbmRBbGxSZW1vdGVUcmFja0V2ZW50cygpLHRoaXMudW5iaW5kUnRwVHJhbnNjZWl2ZXIoKTtjb25zdCBlPXRoaXMubG9jYWxUcmFja01hcC5nZXQoSmIuTG9jYWxBdWRpb1RyYWNrKTtpZigobnVsbD09ZT92b2lkIDA6ZS50cmFjaylpbnN0YW5jZW9mIHJrKXtpZihlLnRyYWNrLnRyYWNrTGlzdC5sZW5ndGg+MCl7Y29uc3QgdD1lLnRyYWNrO2UudHJhY2sudHJhY2tMaXN0LmZvckVhY2goKGU9Pnt0LnJlbW92ZUF1ZGlvVHJhY2soZSl9KSl9ZS50cmFjay5jbG9zZSgpfXRoaXMubG9jYWxUcmFja01hcC5jbGVhcigpLHRoaXMucmVtb3RlVXNlck1hcC5jbGVhcigpLHRoaXMuc3RhdHNDb2xsZWN0b3IucmVtb3ZlUmVtb3RlU3RhdHMoKSx0aGlzLnN0YXRzQ29sbGVjdG9yLnJlbW92ZUxvY2FsU3RhdHMoKSx0aGlzLmR0bHNGYWlsZWRDb3VudD0wLHRoaXMucGVuZGluZ0xvY2FsVHJhY2tzPVtdLHRoaXMucGVuZGluZ1JlbW90ZVRyYWNrcz1bXSx0aGlzLnJlY29ubmVjdEludGVydmFsJiYod2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5yZWNvbm5lY3RJbnRlcnZhbCksdGhpcy5yZWNvbm5lY3RJbnRlcnZhbD12b2lkIDApLHRoaXMuc3RhdGU9WGIuRGlzY29ubmVjdGVkfWdldFN0YXRzKGUpe3ZhciB0LGk7cmV0dXJuIGU/bnVsbD09PShpPXRoaXMucmVjdkNvbm5lY3Rpb24pfHx2b2lkIDA9PT1pP3ZvaWQgMDppLmdldFN0YXRzKCk6bnVsbD09PSh0PXRoaXMuc2VuZENvbm5lY3Rpb24pfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmdldFN0YXRzKCl9Z2V0UmVtb3RlVmlkZW9Jc1JlYWR5KGUpe3ZhciB0O3JldHVybihudWxsPT09KHQ9dGhpcy5yZWN2Q29ubmVjdGlvbil8fHZvaWQgMD09PXQ/dm9pZCAwOnQuZ2V0UmVtb3RlVmlkZW9Jc1JlYWR5KGUpKXx8ITF9Z2V0TG9jYWxBdWRpb1ZvbHVtZSgpe2NvbnN0IGU9dGhpcy5sb2NhbFRyYWNrTWFwLmdldChKYi5Mb2NhbEF1ZGlvVHJhY2spO2lmKGUpcmV0dXJuIGUudHJhY2suZ2V0Vm9sdW1lTGV2ZWwoKX1nZXRMb2NhbFZpZGVvU2l6ZSgpe2NvbnN0IGU9dGhpcy5sb2NhbFRyYWNrTWFwLmdldChKYi5Mb2NhbFZpZGVvVHJhY2spO2lmKGUpcmV0dXJue3dpZHRoOmUudHJhY2sudmlkZW9XaWR0aHx8MCxoZWlnaHQ6ZS50cmFjay52aWRlb0hlaWdodHx8MH19Z2V0RW5jb2RlckNvbmZpZyhlKXtjb25zdCB0PXRoaXMubG9jYWxUcmFja01hcC5nZXQoZSk7cmV0dXJuIHQmJnQudHJhY2sgaW5zdGFuY2VvZiBIa3x8dCYmdC50cmFjayBpbnN0YW5jZW9mIHRrP3QudHJhY2suX2VuY29kZXJDb25maWc6dm9pZCAwfWdldExvY2FsTWVkaWEoZSl7cmV0dXJuIHRoaXMubG9jYWxUcmFja01hcC5nZXQoZSl9aGFzTG9jYWxNZWRpYSgpe3JldHVybiB0aGlzLmxvY2FsVHJhY2tNYXAuc2l6ZT4wfWhhc1JlbW90ZU1lZGlhKGUsdCl7aWYoIWUpcmV0dXJuIHRoaXMucmVtb3RlVXNlck1hcC5zaXplPjA7Y29uc3QgaT10aGlzLnJlbW90ZVVzZXJNYXAuZ2V0KGUpO3JldHVybiEhaSYmKCF0fHxpLmhhcyh0KSl9YXN5bmMgaGFzUmVtb3RlTWVkaWFXaXRoTG9jayhlLHQpe2lmKCFlKXJldHVybiB0aGlzLnJlbW90ZVVzZXJNYXAuc2l6ZT4wO2NvbnN0IGk9dGhpcy5yZW1vdGVVc2VyTWFwLmdldChlKTtyZXR1cm4hIWkmJighdHx8aS5oYXModCkpfWdldFJlbW90ZU1lZGlhKGUpe3ZhciB0O2NvbnN0IGk9QXJyYXkuZnJvbShkXyh0PXRoaXMucmVtb3RlVXNlck1hcCkuY2FsbCh0KSkuZmluZCgodD0+dC51aWQ9PT1lKSk7cmV0dXJuIGk/e2F1ZGlvVHJhY2s6aS5hdWRpb1RyYWNrLGF1ZGlvU1NSQzppLl9hdWRpb1NTUkMsdmlkZW9UcmFjazppLnZpZGVvVHJhY2ssdmlkZW9TU1JDOmkuX3ZpZGVvU1NSQ306e319Z2V0QXVkaW9MZXZlbHMoKXtsZXQgZT1BcnJheS5mcm9tKHRoaXMucmVtb3RlVXNlck1hcC5lbnRyaWVzKCkpLm1hcCgoZT0+e2xldFt0XT1lO3JldHVybnt1aWQ6dC51aWQsbGV2ZWw6dC5hdWRpb1RyYWNrPzEwMCp0LmF1ZGlvVHJhY2suX3NvdXJjZS5nZXRBY2N1cmF0ZVZvbHVtZUxldmVsKCk6MH19KSk7Y29uc3QgdD10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KEpiLkxvY2FsQXVkaW9UcmFjayk7cmV0dXJuIHQmJmUucHVzaCh7bGV2ZWw6MTAwKnQudHJhY2suX3NvdXJjZS5nZXRBY2N1cmF0ZVZvbHVtZUxldmVsKCksdWlkOnRoaXMuc3RvcmUudWlkfSksZT1hRShlKS5jYWxsKGUsKChlLHQpPT5lLmxldmVsLXQubGV2ZWwpKSxlfWFzeW5jIGRpc2Nvbm5lY3RGb3JSZWNvbm5lY3QoKXt0aGlzLnNlbmRDb25uZWN0aW9uJiZ0aGlzLnJlY3ZDb25uZWN0aW9uJiYoUXkuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFAyUENoYW5uZWwyLmRpc2Nvbm5lY3RGb3JSZWNvbm5lY3QgY2xvc2luZyBQMlBDb25uZWN0aW9uXCIpKSx0aGlzLnN0YXRlPVhiLlJlY29ubmVjdGluZyxEeShcIktFRVBfTEFTVF9GUkFNRVwiKSYmMCE9PXRoaXMucmVtb3RlVXNlck1hcC5zaXplJiZBcnJheS5mcm9tKHRoaXMucmVtb3RlVXNlck1hcC5lbnRyaWVzKCkpLmZvckVhY2goKGU9PntsZXRbdF09ZTt2YXIgaTt0Ll92aWRlb1RyYWNrJiZ0Ll92aWRlb1RyYWNrLl9wbGF5ZXImJihudWxsPT09KGk9dC5fdmlkZW9UcmFjay5fcGxheWVyLmdldFZpZGVvRWxlbWVudCgpKXx8dm9pZCAwPT09aXx8aS5wYXVzZSgpLHQuX3ZpZGVvVHJhY2suX3BsYXllci5pc0tlZXBMYXN0RnJhbWU9ITAsdC5fdmlkZW9UcmFjay5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjay5zdG9wKCkpfSkpLHRoaXMuc2VuZENvbm5lY3Rpb24uY2xvc2UoKSx0aGlzLnVuYmluZENvbm5lY3Rpb25FdmVudHModGhpcy5zZW5kQ29ubmVjdGlvbiksdGhpcy5zZW5kQ29ubmVjdGlvbj12b2lkIDAsdGhpcy5yZWN2Q29ubmVjdGlvbi5jbG9zZSgpLHRoaXMudW5iaW5kQ29ubmVjdGlvbkV2ZW50cyh0aGlzLnJlY3ZDb25uZWN0aW9uKSx0aGlzLnJlY3ZDb25uZWN0aW9uPXZvaWQgMCwwIT09dGhpcy5sb2NhbFRyYWNrTWFwLnNpemUmJihBcnJheS5mcm9tKHRoaXMubG9jYWxUcmFja01hcC5lbnRyaWVzKCkpLmZvckVhY2goKGU9Pnt2YXIgdDtsZXRbaSx7dHJhY2s6bn1dPWU7c3dpdGNoKGkpe2Nhc2UgSmIuTG9jYWxWaWRlb1RyYWNrOkRuKHQ9bi5faGludHMpLmNhbGwodCxlUC5MT1dfU1RSRUFNKT9uLmNsb3NlKCk6dGhpcy5wZW5kaW5nTG9jYWxUcmFja3MucHVzaChuKTticmVhaztjYXNlIEpiLkxvY2FsQXVkaW9UcmFjazpuIGluc3RhbmNlb2Ygcms/dGhpcy5wZW5kaW5nTG9jYWxUcmFja3M9dGhpcy5wZW5kaW5nTG9jYWxUcmFja3MuY29uY2F0KG4udHJhY2tMaXN0KTp0aGlzLnBlbmRpbmdMb2NhbFRyYWNrcy5wdXNoKG4pO2Nhc2UgSmIuTG9jYWxWaWRlb0xvd1RyYWNrOn19KSksdGhpcy5lbWl0KFFiLk1lZGlhUmVjb25uZWN0U3RhcnQsdGhpcy5zdG9yZS51aWQpKSx0aGlzLnVuYmluZExvY2FsVHJhY2tFdmVudHMoKSx0aGlzLmxvY2FsVHJhY2tNYXAuY2xlYXIoKSwwIT09dGhpcy5yZW1vdGVVc2VyTWFwLnNpemUmJkFycmF5LmZyb20odGhpcy5yZW1vdGVVc2VyTWFwLmVudHJpZXMoKSkuZm9yRWFjaCgoZT0+e2xldFt0LGldPWU7QXJyYXkuZnJvbShkXyhpKS5jYWxsKGkpKS5mb3JFYWNoKChlPT57dGhpcy5zZXRQZW5kaW5nUmVtb3RlTWVkaWEodCxlKX0pKSx0aGlzLmVtaXQoUWIuTWVkaWFSZWNvbm5lY3RTdGFydCx0LnVpZCl9KSksdGhpcy51bmJpbmRBbGxSZW1vdGVUcmFja0V2ZW50cygpLHRoaXMucmVtb3RlVXNlck1hcC5jbGVhcigpLHRoaXMuc3RvcFVwbG9hZFVwbGlua1N0YXRlKCksdGhpcy5zdG9wVXBsb2FkRG93bmxpbmtTdGF0ZSgpLHRoaXMuc3RhdHNVcGxvYWRlci5zdG9wVXBsb2FkT3V0Ym91bmRTdGF0cygpLHRoaXMuc3RhdHNVcGxvYWRlci5zdG9wVXBsb2FkSW5ib3VuZFN0YXRzKCksdGhpcy5zdGF0c1VwbG9hZGVyLnN0b3BVcGxvYWRUcmFuc3BvcnRTdGF0cygpLFF5LmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBQMlBDaGFubmVsMiBkaXNjb25uZWN0ZWQsIHdhaXRpbmcgdG8gcmVjb25uZWN0LlwiKSkpfWhhc1BlbmRpbmdSZW1vdGVNZWRpYShlLHQpe2Zvcihjb25zdCBpIG9mIHRoaXMucGVuZGluZ1JlbW90ZVRyYWNrcyl7Y29uc3R7dXNlcjpuLGtpbmQ6cn09aTtpZigoZSBpbnN0YW5jZW9mIGlWP2UudWlkOmUpPT09bi51aWQmJnQ9PT1yKXJldHVybiEwfXJldHVybiExfXNldFBlbmRpbmdSZW1vdGVNZWRpYShlLHQpe3RoaXMuaGFzUGVuZGluZ1JlbW90ZU1lZGlhKGUsdCl8fHRoaXMucGVuZGluZ1JlbW90ZVRyYWNrcy5wdXNoKHt1c2VyOmUsa2luZDp0fSl9YXN5bmMgcmVzdGFydElDRShlLHQpe2xldCBpLG47aWYoZT09PWZiLlNFTkRfT05MWSl7aWYoIXRoaXMuc2VuZENvbm5lY3Rpb24pdGhyb3cgbmV3IHJ2KG52LklOVkFMSURfT1BFUkFUSU9OLFwiQ2Fubm90IGNhbGwgUDJQQ2hhbm5lbDIuaGFuZGxlTXV0ZUxvY2FsVHJhY2sgYmVmb3JlIHNlbmRDb25uZWN0aW9uIGVzdGFibGlzaGVkLlwiKTtpPWF3YWl0IHRoaXMuc2VuZE11dGV4LmxvY2soXCJGcm9tIFAyUENoYW5uZWwucmVzdGFydElDRVwiKSxuPXRoaXMuc2VuZENvbm5lY3Rpb259ZWxzZXtpZighdGhpcy5yZWN2Q29ubmVjdGlvbil0aHJvdyBuZXcgcnYobnYuSU5WQUxJRF9PUEVSQVRJT04sXCJDYW5ub3QgY2FsbCBQMlBDaGFubmVsMi5oYW5kbGVNdXRlTG9jYWxUcmFjayBiZWZvcmUgcmVjdkNvbm5lY3Rpb24gZXN0YWJsaXNoZWQuXCIpO2k9YXdhaXQgdGhpcy5yZWN2TXV0ZXgubG9jayhcIkZyb20gUDJQQ2hhbm5lbC5yZXN0YXJ0SUNFXCIpLG49dGhpcy5yZWN2Q29ubmVjdGlvbn10cnl7aWYodCl7Y29uc3QgZT1hd2FpdCBuLnJlc3RhcnRJQ0UodCk7cmV0dXJuIG4uaXNJblJlc3RhcnRJY2U9ITEsZX17Y29uc3QgZT1hd2FpdCBuLnJlc3RhcnRJQ0UoKTtpZihlKXtjb25zdCB0PWF3YWl0IGt2KHRoaXMsUWIuUmVxdWVzdFAyUFJlc3RhcnRJQ0Use2RpcmVjdGlvbjpmYi5SRUNFSVZFX09OTFksaWNlUGFyYW1ldGVyOmV9KTthd2FpdCBuLnJlc3RhcnRJQ0UodCksbi5pc0luUmVzdGFydEljZT0hMX19fWZpbmFsbHl7aSgpfX1nZXRVcGxpbmtOZXR3b3JrUXVhbGl0eSgpe2lmKCF0aGlzLnNlbmRDb25uZWN0aW9uKXJldHVybiAwO2NvbnN0IGU9dGhpcy5zZW5kQ29ubmVjdGlvbi5nZXRTdGF0cygpLHQ9dGhpcy5sb2NhbFRyYWNrTWFwLmdldChKYi5Mb2NhbFZpZGVvVHJhY2spLGk9dGhpcy5sb2NhbFRyYWNrTWFwLmdldChKYi5Mb2NhbEF1ZGlvVHJhY2spLG49ZS52aWRlb1NlbmQuZmluZCgoZT0+e3ZhciBpO3JldHVybiBlLnNzcmM9PT0obnVsbD09dHx8bnVsbD09PShpPXQuc3NyY3MpfHx2b2lkIDA9PT1pP3ZvaWQgMDppWzBdLnNzcmNJZCl9KSkscj1lLmF1ZGlvU2VuZC5maW5kKChlPT57dmFyIHQ7cmV0dXJuIGUuc3NyYz09PShudWxsPT1pfHxudWxsPT09KHQ9aS5zc3Jjcyl8fHZvaWQgMD09PXQ/dm9pZCAwOnRbMF0uc3NyY0lkKX0pKTtpZighbnx8IXIpcmV0dXJuIDE7Y29uc3Qgbz1Vdih0aGlzLFFiLk5lZWRTaWduYWxSVFQpLHM9bj9uLnJ0dE1zOnZvaWQgMCxhPXI/ci5ydHRNczp2b2lkIDAsYz1zJiZhPyhzK2EpLzI6c3x8YSxkPShjJiZvPyhjK28pLzI6Y3x8byl8fDAsbD0xMDAqZS5zZW5kUGFja2V0TG9zc1JhdGUqLjcvNTArLjMqZC8xNTAwLHU9bDwuMTc/MTpsPC4zNj8yOmw8LjU5PzM6bDwuMT80OjUsaD1udWxsPT10P3ZvaWQgMDp0LnRyYWNrO2lmKGgmJmguX2VuY29kZXJDb25maWcmJi0xPT09aC5faGludHMuaW5kZXhPZihlUC5TQ1JFRU5fVFJBQ0spKXtjb25zdCB0PWguX2VuY29kZXJDb25maWcuYml0cmF0ZU1heCxpPWUuYml0cmF0ZS5hY3R1YWxFbmNvZGVkO2lmKHQmJmkpe2NvbnN0IGU9KDFlMyp0LWkpLygxZTMqdCk7cmV0dXJuIGRBW2U8LjE1PzA6ZTwuMz8xOmU8LjQ1PzI6ZTwuNj8zOjRdW3VdfX1yZXR1cm4gdX1nZXREb3dubGlua05ldHdvcmtRdWFsaXR5KCl7aWYoIXRoaXMucmVjdkNvbm5lY3Rpb24pcmV0dXJuIDA7Y29uc3QgZT10aGlzLnJlY3ZDb25uZWN0aW9uLmdldFN0YXRzKCk7bGV0IHQ9MDtyZXR1cm4gQXJyYXkuZnJvbSh0aGlzLnJlbW90ZVVzZXJNYXAuZW50cmllcygpKS5mb3JFYWNoKChpPT57bGV0W25dPWk7Y29uc3Qgcj1uLl9hdWRpb1NTUkMsbz1uLl92aWRlb1NTUkMscz1lLmF1ZGlvUmVjdi5maW5kKChlPT5lLnNzcmM9PT1yKSksYT1lLnZpZGVvUmVjdi5maW5kKChlPT5lLnNzcmM9PT1vKSk7aWYoIXMmJiFhKXJldHVybiB2b2lkKHQrPTEpO2NvbnN0IGM9VXYodGhpcyxRYi5OZWVkU2lnbmFsUlRUKSxkPWUucnR0LGw9KGQmJmM/KGQrYykvMjpkfHxjKXx8MCx1PXM/cy5qaXR0ZXJNczp2b2lkIDAsaD1lLnJlY3ZQYWNrZXRMb3NzUmF0ZTtsZXQgcD0uNypoKjEwMC81MCsuMypsLzE1MDA7dSYmKHA9LjYqaCoxMDAvNTArLjIqbC8xNTAwKy4yKnUvNDAwKTt0Kz1wPC4xPzE6cDwuMTc/MjpwPC4zNj8zOnA8LjU5PzQ6NX0pKSx0aGlzLnJlbW90ZVVzZXJNYXAuc2l6ZT4wP01hdGgucm91bmQodC90aGlzLnJlbW90ZVVzZXJNYXAuc2l6ZSk6dH1hc3luYyBtdXRlTG9jYWxUcmFjayhlKXtyZXR1cm4gbmV3IEdoKCgodCxpKT0+e3RoaXMuaGFuZGxlTXV0ZUxvY2FsVHJhY2soZSx0LGkpfSkpfWZpbHRlclRvYmVQdWJsaXNoZWRUcmFja3MoZSx0LGkpe2NvbnN0IG49W10scj1NRCgpLG89dGhpcy5nZXRBbGxUcmFja3MoKTtlPUJ2KGU9ZS5maWx0ZXIoKGU9Pi0xPT09by5pbmRleE9mKGUpKSkpO2xldCBzPSExLGE9ITE7Zm9yKGNvbnN0IG8gb2YgZSl7aWYobyBpbnN0YW5jZW9mIEhrJiYodGhpcy5sb2NhbFRyYWNrTWFwLmhhcyhKYi5Mb2NhbFZpZGVvVHJhY2spfHxzP25ldyBydihudi5DQU5fTk9UX1BVQkxJU0hfTVVMVElQTEVfVklERU9fVFJBQ0tTKS50aHJvdygpOihuLnB1c2goe3RyYWNrOm8sdHlwZTpKYi5Mb2NhbFZpZGVvVHJhY2t9KSxzPSEwKSx0KSl7Y29uc3QgZT10aGlzLmdldExvd1ZpZGVvVHJhY2sobyxpKTtuLnB1c2goe3RyYWNrOmUsdHlwZTpKYi5Mb2NhbFZpZGVvTG93VHJhY2t9KX1pZihvIGluc3RhbmNlb2YgdGspe2NvbnN0IGU9dGhpcy5sb2NhbFRyYWNrTWFwLmdldChKYi5Mb2NhbEF1ZGlvVHJhY2spO2lmKGUpe2lmKCEoZS50cmFjayBpbnN0YW5jZW9mIHJrKSl0aHJvdyBuZXcgcnYobnYuTk9UX1NVUFBPUlRFRCxcImNhbm5vdCBwdWJsaXNoIG11bHRpcGxlIHRyYWNrcyB3aGljaCBvbmUgb2YgdGhlbSBjb25maWd1cmVkIHdpdGggYnlwYXNzV2ViQXVkaW8gb3IgeW91ciBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgYXVkaW8gbWl4aW5nXCIpO2lmKG8uX2J5cGFzc1dlYkF1ZGlvKXRocm93IG5ldyBydihudi5OT1RfU1VQUE9SVEVELFwiY2Fubm90IHB1Ymxpc2ggbXVsdGlwbGUgdHJhY2tzIHdoaWNoIG9uZSBvZiB0aGVtIGNvbmZpZ3VyZWQgd2l0aCBieXBhc3NXZWJBdWRpb1wiKTtlLnRyYWNrLmFkZEF1ZGlvVHJhY2sobyksdGhpcy5iaW5kTG9jYWxBdWRpb1RyYWNrRXZlbnRzKG8sITApfWVsc2UgaWYoYSl7Y29uc3QgZT1uLmZpbmQoKGU9PntsZXR7dHlwZTp0fT1lO3JldHVybiB0PT09SmIuTG9jYWxBdWRpb1RyYWNrfSkpO2lmKCEoZS50cmFjayBpbnN0YW5jZW9mIHJrKSl0aHJvdyBuZXcgcnYobnYuTk9UX1NVUFBPUlRFRCxcImNhbm5vdCBwdWJsaXNoIG11bHRpcGxlIHRyYWNrcyB3aGljaCBvbmUgb2YgdGhlbSBjb25maWd1cmVkIHdpdGggYnlwYXNzV2ViQXVkaW8gb3IgeW91ciBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgYXVkaW8gbWl4aW5nXCIpO2lmKG8uX2J5cGFzc1dlYkF1ZGlvKXRocm93IG5ldyBydihudi5OT1RfU1VQUE9SVEVELFwiY2Fubm90IHB1Ymxpc2ggbXVsdGlwbGUgdHJhY2tzIHdoaWNoIG9uZSBvZiB0aGVtIGNvbmZpZ3VyZWQgd2l0aCBieXBhc3NXZWJBdWRpb1wiKTtlLnRyYWNrLmFkZEF1ZGlvVHJhY2sobyl9ZWxzZXtpZighci53ZWJBdWRpb01lZGlhU3RyZWFtRGVzdHx8byBpbnN0YW5jZW9mIHJrfHxvLl9ieXBhc3NXZWJBdWRpbyluLnB1c2goe3RyYWNrOm8sdHlwZTpKYi5Mb2NhbEF1ZGlvVHJhY2t9KTtlbHNle2NvbnN0IGU9bmV3IHJrO2UuYWRkQXVkaW9UcmFjayhvKSxuLnB1c2goe3RyYWNrOmUsdHlwZTpKYi5Mb2NhbEF1ZGlvVHJhY2t9KX1hPSEwfX19cmV0dXJuIG59ZmlsdGVyVG9iZVVucHVibGlzaGVkVHJhY2tzKGUpe2NvbnN0IHQ9W10saT10aGlzLmdldEFsbFRyYWNrcygpO2U9QnYoZT1lLmZpbHRlcigoZT0+LTEhPT1pLmluZGV4T2YoZSkpKSk7Zm9yKGNvbnN0IGkgb2YgZSl7aWYoaSBpbnN0YW5jZW9mIHRrKXtjb25zdCBlPXRoaXMubG9jYWxUcmFja01hcC5nZXQoSmIuTG9jYWxBdWRpb1RyYWNrKTtpZighZSljb250aW51ZTtlLnRyYWNrIGluc3RhbmNlb2Ygcms/KGUudHJhY2sucmVtb3ZlQXVkaW9UcmFjayhpKSx0aGlzLnVuYmluZExvY2FsQXVkaW9UcmFja0V2ZW50cyhpKSwwPT09ZS50cmFjay50cmFja0xpc3QubGVuZ3RoJiYodC5wdXNoKFtKYi5Mb2NhbEF1ZGlvVHJhY2ssZV0pLGUudHJhY2suY2xvc2UoKSkpOnQucHVzaChbSmIuTG9jYWxBdWRpb1RyYWNrLGVdKX1pZihpIGluc3RhbmNlb2YgSGspe2NvbnN0IGU9dGhpcy5sb2NhbFRyYWNrTWFwLmdldChKYi5Mb2NhbFZpZGVvVHJhY2spO2lmKCFlKWNvbnRpbnVlO3QucHVzaChbSmIuTG9jYWxWaWRlb1RyYWNrLGVdKTtjb25zdCBpPXRoaXMubG9jYWxUcmFja01hcC5nZXQoSmIuTG9jYWxWaWRlb0xvd1RyYWNrKTtpJiZ0LnB1c2goW0piLkxvY2FsVmlkZW9Mb3dUcmFjayxpXSl9fXJldHVybiB0fWJpbmRMb2NhbFRyYWNrRXZlbnRzKGUpe2UuZm9yRWFjaCgoZT0+e2xldHt0cmFjazp0LHR5cGU6aX09ZTtzd2l0Y2goaSl7Y2FzZSBKYi5Mb2NhbFZpZGVvVHJhY2s6dC5hZGRMaXN0ZW5lcigkRC5HRVRfU1RBVFMsdGhpcy5oYW5kbGVHZXRMb2NhbFZpZGVvU3RhdHMpLHQuYWRkTGlzdGVuZXIoJEQuTkVFRF9ESVNBQkxFX1RSQUNLLHRoaXMuaGFuZGxlTXV0ZUxvY2FsVHJhY2spLHQuYWRkTGlzdGVuZXIoJEQuTkVFRF9FTkFCTEVfVFJBQ0ssdGhpcy5oYW5kbGVVbm11dGVMb2NhbFRyYWNrKSx0LmFkZExpc3RlbmVyKCRELk5FRURfVVBEQVRFX1ZJREVPX0VOQ09ERVIsdGhpcy5oYW5kbGVVcGRhdGVWaWRlb0VuY29kZXIpLHQuYWRkTGlzdGVuZXIoJEQuTkVFRF9VUERBVEVfVklERU9fU0VORF9QQVJBTUVURVJTLHRoaXMuaGFuZGxlVXBkYXRlVmlkZW9TZW5kUGFyYW1ldGVycyksdC5hZGRMaXN0ZW5lcigkRC5ORUVEX1JFUExBQ0VfVFJBQ0ssdGhpcy5oYW5kbGVSZXBsYWNlVHJhY2spLHQuYWRkTGlzdGVuZXIoJEQuTkVFRF9NVVRFX1RSQUNLLHRoaXMuaGFuZGxlTXV0ZUxvY2FsVHJhY2spLHQuYWRkTGlzdGVuZXIoJEQuTkVFRF9VTk1VVEVfVFJBQ0ssdGhpcy5oYW5kbGVVbm11dGVMb2NhbFRyYWNrKTticmVhaztjYXNlIEpiLkxvY2FsQXVkaW9UcmFjazp0aGlzLmJpbmRMb2NhbEF1ZGlvVHJhY2tFdmVudHModCk7Y2FzZSBKYi5Mb2NhbFZpZGVvTG93VHJhY2s6fX0pKX1iaW5kTG9jYWxBdWRpb1RyYWNrRXZlbnRzKGUsdCl7ZSBpbnN0YW5jZW9mIHJrP2UudHJhY2tMaXN0LmZvckVhY2goKGU9PntlLmFkZExpc3RlbmVyKCRELk5FRURfRElTQUJMRV9UUkFDSyx0aGlzLmhhbmRsZU11dGVMb2NhbFRyYWNrKSxlLmFkZExpc3RlbmVyKCRELk5FRURfRU5BQkxFX1RSQUNLLHRoaXMuaGFuZGxlVW5tdXRlTG9jYWxUcmFjayksZS5hZGRMaXN0ZW5lcigkRC5HRVRfU1RBVFMsdGhpcy5oYW5kbGVHZXRMb2NhbEF1ZGlvU3RhdHMpLGUuYWRkTGlzdGVuZXIoJEQuTkVFRF9NVVRFX1RSQUNLLHRoaXMuaGFuZGxlTXV0ZUxvY2FsVHJhY2spLGUuYWRkTGlzdGVuZXIoJEQuTkVFRF9VTk1VVEVfVFJBQ0ssdGhpcy5oYW5kbGVVbm11dGVMb2NhbFRyYWNrKX0pKTooZS5hZGRMaXN0ZW5lcigkRC5HRVRfU1RBVFMsdGhpcy5oYW5kbGVHZXRMb2NhbEF1ZGlvU3RhdHMpLGUuYWRkTGlzdGVuZXIoJEQuTkVFRF9ESVNBQkxFX1RSQUNLLHRoaXMuaGFuZGxlTXV0ZUxvY2FsVHJhY2spLGUuYWRkTGlzdGVuZXIoJEQuTkVFRF9FTkFCTEVfVFJBQ0ssdGhpcy5oYW5kbGVVbm11dGVMb2NhbFRyYWNrKSxlLmFkZExpc3RlbmVyKCRELk5FRURfTVVURV9UUkFDSyx0aGlzLmhhbmRsZU11dGVMb2NhbFRyYWNrKSxlLmFkZExpc3RlbmVyKCRELk5FRURfVU5NVVRFX1RSQUNLLHRoaXMuaGFuZGxlVW5tdXRlTG9jYWxUcmFjayksdHx8ZS5hZGRMaXN0ZW5lcigkRC5ORUVEX1JFUExBQ0VfVFJBQ0ssdGhpcy5oYW5kbGVSZXBsYWNlVHJhY2spKX11bmJpbmRMb2NhbFRyYWNrRXZlbnRzKGUpe2V8fChlPUFycmF5LmZyb20odGhpcy5sb2NhbFRyYWNrTWFwLmVudHJpZXMoKSkubWFwKChlPT57bGV0W3Qse3RyYWNrOml9XT1lO3JldHVybnt0cmFjazppLHR5cGU6dH19KSkpLGUuZm9yRWFjaCgoZT0+e2xldHt0cmFjazp0LHR5cGU6aX09ZTtzd2l0Y2goaSl7Y2FzZSBKYi5Mb2NhbFZpZGVvVHJhY2s6dC5vZmYoJEQuR0VUX1NUQVRTLHRoaXMuaGFuZGxlR2V0TG9jYWxWaWRlb1N0YXRzKSx0Lm9mZigkRC5ORUVEX0RJU0FCTEVfVFJBQ0ssdGhpcy5oYW5kbGVNdXRlTG9jYWxUcmFjayksdC5vZmYoJEQuTkVFRF9FTkFCTEVfVFJBQ0ssdGhpcy5oYW5kbGVVbm11dGVMb2NhbFRyYWNrKSx0Lm9mZigkRC5ORUVEX1VQREFURV9WSURFT19FTkNPREVSLHRoaXMuaGFuZGxlVXBkYXRlVmlkZW9FbmNvZGVyKSx0Lm9mZigkRC5ORUVEX1VQREFURV9WSURFT19TRU5EX1BBUkFNRVRFUlMsdGhpcy5oYW5kbGVVcGRhdGVWaWRlb1NlbmRQYXJhbWV0ZXJzKSx0Lm9mZigkRC5ORUVEX1JFUExBQ0VfVFJBQ0ssdGhpcy5oYW5kbGVSZXBsYWNlVHJhY2spLHQub2ZmKCRELk5FRURfTVVURV9UUkFDSyx0aGlzLmhhbmRsZU11dGVMb2NhbFRyYWNrKSx0Lm9mZigkRC5ORUVEX1VOTVVURV9UUkFDSyx0aGlzLmhhbmRsZVVubXV0ZUxvY2FsVHJhY2spO2JyZWFrO2Nhc2UgSmIuTG9jYWxBdWRpb1RyYWNrOnRoaXMudW5iaW5kTG9jYWxBdWRpb1RyYWNrRXZlbnRzKHQpO2Nhc2UgSmIuTG9jYWxWaWRlb0xvd1RyYWNrOn19KSl9dW5iaW5kTG9jYWxBdWRpb1RyYWNrRXZlbnRzKGUpe2UgaW5zdGFuY2VvZiByaz9lLnRyYWNrTGlzdC5mb3JFYWNoKChlPT57ZS5vZmYoJEQuTkVFRF9ESVNBQkxFX1RSQUNLLHRoaXMuaGFuZGxlTXV0ZUxvY2FsVHJhY2spLGUub2ZmKCRELk5FRURfRU5BQkxFX1RSQUNLLHRoaXMuaGFuZGxlVW5tdXRlTG9jYWxUcmFjayksZS5vZmYoJEQuR0VUX1NUQVRTLHRoaXMuaGFuZGxlR2V0TG9jYWxBdWRpb1N0YXRzKSxlLm9mZigkRC5ORUVEX01VVEVfVFJBQ0ssdGhpcy5oYW5kbGVNdXRlTG9jYWxUcmFjayksZS5vZmYoJEQuTkVFRF9VTk1VVEVfVFJBQ0ssdGhpcy5oYW5kbGVVbm11dGVMb2NhbFRyYWNrKX0pKTooZS5vZmYoJEQuR0VUX1NUQVRTLHRoaXMuaGFuZGxlR2V0TG9jYWxBdWRpb1N0YXRzKSxlLm9mZigkRC5ORUVEX0RJU0FCTEVfVFJBQ0ssdGhpcy5oYW5kbGVNdXRlTG9jYWxUcmFjayksZS5vZmYoJEQuTkVFRF9FTkFCTEVfVFJBQ0ssdGhpcy5oYW5kbGVVbm11dGVMb2NhbFRyYWNrKSxlLm9mZigkRC5ORUVEX1JFUExBQ0VfVFJBQ0ssdGhpcy5oYW5kbGVSZXBsYWNlVHJhY2spLGUub2ZmKCRELk5FRURfTVVURV9UUkFDSyx0aGlzLmhhbmRsZU11dGVMb2NhbFRyYWNrKSxlLm9mZigkRC5ORUVEX1VOTVVURV9UUkFDSyx0aGlzLmhhbmRsZVVubXV0ZUxvY2FsVHJhY2spKX1iaW5kUmVtb3RlVHJhY2tFdmVudHMoZSx0KXt0IGluc3RhbmNlb2Ygc00mJnQuYWRkTGlzdGVuZXIoJEQuR0VUX1NUQVRTLCh0PT57dCh0aGlzLmhhbmRsZUdldFJlbW90ZVZpZGVvU3RhdHMoZSkpfSkpLHQgaW5zdGFuY2VvZiBhTSYmdC5hZGRMaXN0ZW5lcigkRC5HRVRfU1RBVFMsKHQ9Pnt0KHRoaXMuaGFuZGxlR2V0UmVtb3RlQXVkaW9TdGF0cyhlKSl9KSl9dW5iaW5kUmVtb3RlVHJhY2tFdmVudHMoZSl7ZSYmZS5yZW1vdmVBbGxMaXN0ZW5lcnMoJEQuR0VUX1NUQVRTKX11bmJpbmRBbGxSZW1vdGVUcmFja0V2ZW50cygpe0FycmF5LmZyb20odGhpcy5yZW1vdGVVc2VyTWFwLmVudHJpZXMoKSkuZm9yRWFjaCgoZT0+e2xldFt0LGldPWU7aS5oYXMoWWIuQVVESU8pJiZ0aGlzLnVuYmluZFJlbW90ZVRyYWNrRXZlbnRzKHQuX2F1ZGlvVHJhY2spLGkuaGFzKFliLlZJREVPKSYmdGhpcy51bmJpbmRSZW1vdGVUcmFja0V2ZW50cyh0Ll92aWRlb1RyYWNrKX0pKX1jcmVhdGVHYXRld2F5UHVibGlzaE1lc3NhZ2UoZSx0KXtyZXR1cm4gZS5tYXAoKChlLGkpPT57dmFyIG47bGV0IHIse3RyYWNrOm8sdHlwZTpzfT1lO3N3aXRjaChzKXtjYXNlIEpiLkxvY2FsQXVkaW9UcmFjazpyPU1iLkF1ZGlvO2JyZWFrO2Nhc2UgSmIuTG9jYWxWaWRlb1RyYWNrOnI9RG4obj1vLl9oaW50cykuY2FsbChuLGVQLlNDUkVFTl9UUkFDSyk/TWIuU2NyZWVuOk1iLkhpZ2g7YnJlYWs7Y2FzZSBKYi5Mb2NhbFZpZGVvTG93VHJhY2s6cj1NYi5Mb3d9cmV0dXJue2tpbmQ6cz09PUpiLkxvY2FsQXVkaW9UcmFjaz9ZYi5BVURJTzpZYi5WSURFTyxzdHJlYW1fdHlwZTpyLG1pZDp0W2ldLmlkLHNzcmNzOnRbaV0ubG9jYWxTU1JDLGlzTXV0ZWQ6by5tdXRlZHx8IW8uZW5hYmxlZH19KSl9Y3JlYXRlR2F0ZXdheVVucHVibGlzaE1lc3NhZ2UoZSl7cmV0dXJuIGUubWFwKChlPT57dmFyIHQ7bGV0IGksW24se3RyYWNrOnIsc3NyY3M6byxpZDpzfV09ZTtzd2l0Y2gobil7Y2FzZSBKYi5Mb2NhbFZpZGVvVHJhY2s6aT1Ebih0PXIuX2hpbnRzKS5jYWxsKHQsZVAuU0NSRUVOX1RSQUNLKT9NYi5TY3JlZW46TWIuSGlnaDticmVhaztjYXNlIEpiLkxvY2FsQXVkaW9UcmFjazppPU1iLkF1ZGlvO2JyZWFrO2Nhc2UgSmIuTG9jYWxWaWRlb0xvd1RyYWNrOmk9TWIuTG93fXJldHVybntzdHJlYW1fdHlwZTppLHNzcmNzOm8sbWlkOnN9fSkpfWFzc2lnbkxvY2FsVHJhY2tzKGUsdCl7ZS5mb3JFYWNoKCgoZSxpKT0+e2xldHt0cmFjazpuLHR5cGU6cn09ZTt0aGlzLmxvY2FsVHJhY2tNYXAuc2V0KHIse3RyYWNrOm4saWQ6dFtpXS5pZCxzc3Jjczp0W2ldLmxvY2FsU1NSQ30pfSkpfXdpdGhkcmF3TG9jYWxUcmFja3MoZSl7ZS5mb3JFYWNoKChlPT57bGV0W3RdPWU7dGhpcy5sb2NhbFRyYWNrTWFwLmRlbGV0ZSh0KX0pKX1iaW5kQ29ubmVjdGlvbkV2ZW50cyhlKXtlLm9uQ29ubmVjdGlvblN0YXRlQ2hhbmdlPWFzeW5jIHQ9Pnt2YXIgaTtReS5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbcDJwSWQ6IFwiKS5jb25jYXQodGhpcy5zdG9yZS5wMnBJZCxcIl06IFwiKS5jb25jYXQoZS5uYW1lLFwiLm9uQ29ubmVjdGlvblN0YXRlQ2hhbmdlKFwiKS5jb25jYXQodCxcIilcIikpLHRoaXMuZW1pdChRYi5QZWVyQ29ubmVjdGlvblN0YXRlQ2hhbmdlLHQpLFwiY29ubmVjdGVkXCIhPT10fHx0aGlzLnN0b3JlLmtleU1ldHJpY3MucGVlckNvbm5lY3Rpb25FbmR8fHRoaXMuc3RvcmUucGVlckNvbm5lY3Rpb25FbmQoKSxcImNvbm5lY3RlZFwiPT09dCYmKGUuaXNJblJlc3RhcnRJY2U9ITEpLERuKGk9dGhpcy5fcmVzdGFydFN0YXRlcykuY2FsbChpLHQpJiYhZS5pc0luUmVzdGFydEljZSYmKFwiZGlzY29ubmVjdGVkXCI9PT10JiZhd2FpdCAkdig4MDApLFwiZGlzY29ubmVjdGVkXCIhPT1lLmljZUNvbm5lY3Rpb25TdGF0ZSYmXCJmYWlsZWRcIiE9PWUuaWNlQ29ubmVjdGlvblN0YXRlfHx0aGlzLmhhbmRsZURpc2Nvbm5lY3QoZS5kaXJlY3Rpb24pKX0sZS5vbklDRUNvbm5lY3Rpb25TdGF0ZUNoYW5nZT1lPT57XCJjb25uZWN0ZWRcIiE9PWV8fHRoaXMuc3RvcmUua2V5TWV0cmljcy5pY2VDb25uZWN0aW9uRW5kfHx0aGlzLnN0b3JlLmljZUNvbm5lY3Rpb25FbmQoKSxReS5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbcDJwSWQ6IFwiKS5jb25jYXQodGhpcy5zdG9yZS5wMnBJZCxcIl06IFAyUENvbm5lY3Rpb24ub25JQ0VDb25uZWN0aW9uU3RhdGVDaGFuZ2UoXCIpLmNvbmNhdChlLFwiKVwiKSksc0EucmVwb3J0QXBpSW52b2tlKHRoaXMuc3RvcmUuc2Vzc2lvbklkLHtuYW1lOlwiSUNFQ29ubmVjdGlvblN0YXRlQ2hhbmdlXCIsb3B0aW9uczplLHRhZzpJdi5UUkFDRVJ9KS5vblN1Y2Nlc3MoKSx0aGlzLmVtaXQoUWIuSWNlQ29ubmVjdGlvblN0YXRlQ2hhbmdlLGUpfSxlLm9uSUNFVHJhbnNwb3J0U3RhdGVDaGFuZ2U9ZT0+e1F5LmluZm8oXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFtwMnBJZDogXCIpLmNvbmNhdCh0aGlzLnN0b3JlLnAycElkLFwiXTogUDJQQ29ubmVjdGlvbi5vbklDRVRyYW5zcG9ydFN0YXRlQ2hhbmdlKFwiKS5jb25jYXQoZSxcIilcIikpfSxlLm9uRFRMU1RyYW5zcG9ydFN0YXRlQ2hhbmdlPWU9PntReS5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbcDJwSWQ6IFwiKS5jb25jYXQodGhpcy5zdG9yZS5wMnBJZCxcIl06IFAyUENvbm5lY3Rpb24ub25EVExTVHJhbnNwb3J0U3RhdGVDaGFuZ2UoXCIpLmNvbmNhdChlLFwiKVwiKSl9LGUub25EVExTVHJhbnNwb3J0RXJyb3I9ZT0+e1F5LmluZm8oXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFtwMnBJZDogXCIpLmNvbmNhdCh0aGlzLnN0b3JlLnAycElkLFwiXTogUDJQQ29ubmVjdGlvbi5vbkRUTFNUcmFuc3BvcnRFcnJvcihcIikuY29uY2F0KGUsXCIpXCIpKX0sZS5vbkZpcnN0QXVkaW9EZWNvZGVkPWU9Pnt2YXIgdDtjb25zdCBpPUFycmF5LmZyb20oZF8odD10aGlzLnJlbW90ZVVzZXJNYXApLmNhbGwodCkpLmZpbmQoKHQ9PnQuX2F1ZGlvU1NSQz09PWUpKTt2YXIgbjtpJiYodGhpcy5zdG9yZS5zdWJzY3JpYmUoaS51aWQsXCJhdWRpb1wiLHZvaWQgMCx2b2lkIDAsdm9pZCAwLERhdGUubm93KCkpLG51bGw9PT0obj1pLmF1ZGlvVHJhY2spfHx2b2lkIDA9PT1ufHxuLmVtaXQoc1AuRklSU1RfRlJBTUVfREVDT0RFRCksc0EuZmlyc3RSZW1vdGVGcmFtZSh0aGlzLnN0b3JlLnNlc3Npb25JZCx0QS5GSVJTVF9BVURJT19ERUNPREUsaUEuRklSU1RfQVVESU9fREVDT0RFLHtwZWVyOmkuX3VpbnRpZCxzdWJzY3JpYmVFbGFwc2U6alUubWVhc3VyZUZyb21TdWJzY3JpYmVTdGFydCh0aGlzLnN0b3JlLmNsaWVudElkLGUpLHN1YnNjcmliZVJlcXVlc3RpZDplLHAycGlkOnRoaXMuc3RvcmUucDJwSWR9KSl9LGUub25GaXJzdEF1ZGlvUmVjZWl2ZWQ9ZT0+e3ZhciB0O2NvbnN0IGk9QXJyYXkuZnJvbShkXyh0PXRoaXMucmVtb3RlVXNlck1hcCkuY2FsbCh0KSkuZmluZCgodD0+dC5fYXVkaW9TU1JDPT09ZSkpO2kmJnNBLmZpcnN0UmVtb3RlRnJhbWUodGhpcy5zdG9yZS5zZXNzaW9uSWQsdEEuRklSU1RfQVVESU9fUkVDRUlWRUQsaUEuRklSU1RfQVVESU9fUkVDRUlWRUQse3BlZXI6aS5fdWludGlkLHN1YnNjcmliZUVsYXBzZTpqVS5tZWFzdXJlRnJvbVN1YnNjcmliZVN0YXJ0KHRoaXMuc3RvcmUuY2xpZW50SWQsZSksc3Vic2NyaWJlUmVxdWVzdGlkOmUscDJwaWQ6dGhpcy5zdG9yZS5wMnBJZH0pfSxlLm9uRmlyc3RWaWRlb0RlY29kZWQ9KGUsdCxpKT0+e3RoaXMucmVwb3J0VmlkZW9GaXJzdEZyYW1lRGVjb2RlZChlLHQsaSl9LGUub25GaXJzdFZpZGVvUmVjZWl2ZWQ9ZT0+e3ZhciB0O2NvbnN0IGk9QXJyYXkuZnJvbShkXyh0PXRoaXMucmVtb3RlVXNlck1hcCkuY2FsbCh0KSkuZmluZCgodD0+dC5fdmlkZW9TU1JDPT09ZSkpO2kmJnNBLmZpcnN0UmVtb3RlRnJhbWUodGhpcy5zdG9yZS5zZXNzaW9uSWQsdEEuRklSU1RfVklERU9fUkVDRUlWRUQsaUEuRklSU1RfVklERU9fUkVDRUlWRUQse3BlZXI6aS5fdWludGlkLHN1YnNjcmliZUVsYXBzZTpqVS5tZWFzdXJlRnJvbVN1YnNjcmliZVN0YXJ0KHRoaXMuc3RvcmUuY2xpZW50SWQsZSksc3Vic2NyaWJlUmVxdWVzdGlkOmUscDJwaWQ6dGhpcy5zdG9yZS5wMnBJZH0pfSxlLm9uU2VsZWN0ZWRMb2NhbENhbmRpZGF0ZUNoYW5nZWQ9KGUsdCk9Pntjb25zdCBpPVwicmVsYXlcIj09PWUuY2FuZGlkYXRlVHlwZSxuPVwicmVsYXlcIj09PXQuY2FuZGlkYXRlVHlwZTtcInVua25vd25cIiE9PXQuY2FuZGlkYXRlVHlwZSYmaT09PW58fHRoaXMuZW1pdChRYi5Db25uZWN0aW9uVHlwZUNoYW5nZSxpKSxReS5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbcDJwSWQ6IFwiKS5jb25jYXQodGhpcy5zdG9yZS5wMnBJZCxcIl06IFAyUENvbm5lY3Rpb24uU2VsZWN0ZWRMb2NhbENhbmRpZGF0ZUNoYW5nZWQoXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeShCdyh0KSksXCIgLT4gXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeShCdyhlKSksXCIpXCIpKX0sZS5vblNlbGVjdGVkUmVtb3RlQ2FuZGlkYXRlQ2hhbmdlZD0oZSx0KT0+e1F5LmluZm8oXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFtwMnBJZDogXCIpLmNvbmNhdCh0aGlzLnN0b3JlLnAycElkLFwiXTogUDJQQ29ubmVjdGlvbi5TZWxlY3RlZFJlbW90ZUNhbmRpZGF0ZUNoYW5nZWQoXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeShCdyh0KSksXCIgLT4gXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeShCdyhlKSksXCIpXCIpKX0sZS5vbkZpcnN0VmlkZW9EZWNvZGVkVGltZW91dD1lPT57dGhpcy5yZXBvcnRWaWRlb0ZpcnN0RnJhbWVEZWNvZGVkKGUsdm9pZCAwLHZvaWQgMCwhMCl9LGUub25Mb2NhbENhbmRpZGF0ZT10PT57dGhpcy5lbWl0KFFiLkxvY2FsQ2FuZGlkYXRlLHtjYW5kaWRhdGU6dCxkaXJlY3Rpb246ZS5kaXJlY3Rpb259KX19dW5iaW5kQ29ubmVjdGlvbkV2ZW50cyhlKXtlLm9uQ29ubmVjdGlvblN0YXRlQ2hhbmdlPXZvaWQgMCxlLm9uSUNFQ29ubmVjdGlvblN0YXRlQ2hhbmdlPXZvaWQgMCxlLm9uSUNFVHJhbnNwb3J0U3RhdGVDaGFuZ2U9dm9pZCAwLGUub25EVExTVHJhbnNwb3J0U3RhdGVDaGFuZ2U9dm9pZCAwLGUub25EVExTVHJhbnNwb3J0RXJyb3I9dm9pZCAwLGUub25GaXJzdEF1ZGlvRGVjb2RlZD12b2lkIDAsZS5vbkZpcnN0QXVkaW9SZWNlaXZlZD12b2lkIDAsZS5vbkZpcnN0VmlkZW9EZWNvZGVkPXZvaWQgMCxlLm9uRmlyc3RWaWRlb1JlY2VpdmVkPXZvaWQgMCxlLm9uU2VsZWN0ZWRMb2NhbENhbmRpZGF0ZUNoYW5nZWQ9dm9pZCAwLGUub25TZWxlY3RlZFJlbW90ZUNhbmRpZGF0ZUNoYW5nZWQ9dm9pZCAwLGUub25GaXJzdFZpZGVvRGVjb2RlZFRpbWVvdXQ9dm9pZCAwLGUub25Mb2NhbENhbmRpZGF0ZT12b2lkIDB9YXN5bmMgaGFuZGxlRGlzY29ubmVjdChlKXtjb25zdCB0PWU9PT1mYi5TRU5EX09OTFk/dGhpcy5zZW5kQ29ubmVjdGlvbjp0aGlzLnJlY3ZDb25uZWN0aW9uO3QmJiF0LmlzSW5SZXN0YXJ0SWNlJiYodC5pc0luUmVzdGFydEljZT0hMCxReS5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW1AyUENoYW5uZWwtXCIpLmNvbmNhdCh0Lm5hbWUsXCJdIHN0YXJ0IHVzZSByZXN0YXJ0SUNFXCIpKSxlPT09ZmIuU0VORF9PTkxZP3RoaXMucmVzdGFydElDRShlKTprdih0aGlzLFFiLlJlcXVlc3RQMlBSZXN0YXJ0SUNFLHtkaXJlY3Rpb246ZmIuU0VORF9PTkxZfSkpfWZpbHRlclRvYmVNdXRlZFRyYWNrcyhlKXtjb25zdCB0PVtdO2lmKC0xPT09dGhpcy5nZXRBbGxUcmFja3MoKS5pbmRleE9mKGUpKXJldHVybiB0O2NvbnN0IGk9dGhpcy5sb2NhbFRyYWNrTWFwLmdldChKYi5Mb2NhbEF1ZGlvVHJhY2spO2lmKGUgaW5zdGFuY2VvZiB0ayYmKG51bGw9PWk/dm9pZCAwOmkudHJhY2spaW5zdGFuY2VvZiByaylyZXR1cm4gaS50cmFjay5pc0FjdGl2ZXx8dC5wdXNoKFtKYi5Mb2NhbEF1ZGlvVHJhY2ssaV0pLHQ7Y29uc3Qgbj1BcnJheS5mcm9tKHRoaXMubG9jYWxUcmFja01hcC5lbnRyaWVzKCkpLmZpbmQoKHQ9PntsZXRbLHt0cmFjazppfV09dDtyZXR1cm4gZT09PWl9KSk7aWYobiYmKHQucHVzaChuKSxuWzBdPT09SmIuTG9jYWxWaWRlb1RyYWNrKSl7Y29uc3QgZT10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KEpiLkxvY2FsVmlkZW9Mb3dUcmFjayk7ZSYmdC5wdXNoKFtKYi5Mb2NhbFZpZGVvTG93VHJhY2ssZV0pfXJldHVybiB0fWZpbHRlclRvYmVVbm11dGVkVHJhY2tzKGUpe2NvbnN0IHQ9W10saT10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KEpiLkxvY2FsQXVkaW9UcmFjayk7aWYoZSBpbnN0YW5jZW9mIHRrJiYobnVsbD09aT92b2lkIDA6aS50cmFjaylpbnN0YW5jZW9mIHJrKXJldHVybiBpLnRyYWNrLmlzQWN0aXZlJiZ0LnB1c2goW0piLkxvY2FsQXVkaW9UcmFjayxpXSksdDtjb25zdCBuPUFycmF5LmZyb20odGhpcy5sb2NhbFRyYWNrTWFwLmVudHJpZXMoKSkuZmluZCgodD0+e2xldFsse3RyYWNrOml9XT10O3JldHVybiBlPT09aX0pKTtpZihuKWlmKG5bMF09PT1KYi5Mb2NhbFZpZGVvVHJhY2spe3QucHVzaChuKTtjb25zdCBlPXRoaXMubG9jYWxUcmFja01hcC5nZXQoSmIuTG9jYWxWaWRlb0xvd1RyYWNrKTtlJiZ0LnB1c2goW0piLkxvY2FsVmlkZW9Mb3dUcmFjayxlXSl9ZWxzZSB0LnB1c2gobik7cmV0dXJuIHR9Y3JlYXRlTXV0ZU1lc3NhZ2UoZSl7cmV0dXJuIGUubWFwKChlPT57dmFyIHQ7bGV0IGksW24se3RyYWNrOnIsc3NyY3M6byxpZDpzfV09ZTtzd2l0Y2gobil7Y2FzZSBKYi5Mb2NhbEF1ZGlvVHJhY2s6aT1NYi5BdWRpbzticmVhaztjYXNlIEpiLkxvY2FsVmlkZW9UcmFjazppPURuKHQ9ci5faGludHMpLmNhbGwodCxlUC5TQ1JFRU5fVFJBQ0spP01iLlNjcmVlbjpNYi5IaWdoO2JyZWFrO2Nhc2UgSmIuTG9jYWxWaWRlb0xvd1RyYWNrOmk9TWIuTG93fXJldHVybntzdHJlYW1fdHlwZTppLHNzcmNzOm8sbWlkOnN9fSkpfWNyZWF0ZVVubXV0ZU1lc3NhZ2UoZSl7cmV0dXJuIGUubWFwKChlPT57dmFyIHQ7bGV0IGksW24se3RyYWNrOnIsc3NyY3M6byxpZDpzfV09ZTtzd2l0Y2gobil7Y2FzZSBKYi5Mb2NhbEF1ZGlvVHJhY2s6aT1NYi5BdWRpbzticmVhaztjYXNlIEpiLkxvY2FsVmlkZW9UcmFjazppPURuKHQ9ci5faGludHMpLmNhbGwodCxlUC5TQ1JFRU5fVFJBQ0spP01iLlNjcmVlbjpNYi5IaWdoO2JyZWFrO2Nhc2UgSmIuTG9jYWxWaWRlb0xvd1RyYWNrOmk9TWIuTG93fXJldHVybntzdHJlYW1fdHlwZTppLHNzcmNzOm8sbWlkOnN9fSkpfWZpbHRlclRvYmVVblN1YnNjcmliZWRUcmFja3MoZSx0KXtjb25zdCBpPVtdLG49dGhpcy5yZW1vdGVVc2VyTWFwLmdldChlKTtpZighbilyZXR1cm4gaTtpZih0KXtjb25zdCByPW4uZ2V0KHQpO2lmKCFyKXJldHVybiBpO2kucHVzaChbZSx7a2luZDp0LGlkOnJ9XSl9ZWxzZSBBcnJheS5mcm9tKG4uZW50cmllcygpKS5mb3JFYWNoKCh0PT57bGV0W24scl09dDtpLnB1c2goW2Use2tpbmQ6bixpZDpyfV0pfSkpO3JldHVybiBpfWNyZWF0ZVVuc3Vic2NyaWJlTWVzc2FnZShlKXtjb25zdCB0PVtdO3JldHVybiBlLmZvckVhY2goKGU9PntsZXRbaSx7a2luZDpuLGlkOnJ9XT1lO3N3aXRjaChuKXtjYXNlIFliLlZJREVPOnJldHVybiB2b2lkKGkuX3ZpZGVvU1NSQyYmdC5wdXNoKHtzdHJlYW1fdHlwZTpZYi5WSURFTyxzc3JjSWQ6aS5fdmlkZW9TU1JDfSkpO2Nhc2UgWWIuQVVESU86cmV0dXJuIHZvaWQoaS5fYXVkaW9TU1JDJiZ0LnB1c2goe3N0cmVhbV90eXBlOlliLkFVRElPLHNzcmNJZDppLl9hdWRpb1NTUkN9KSl9fSkpLHR9d2l0aGRyYXdSZW1vdGVUcmFja3MoZSl7ZS5mb3JFYWNoKChlPT57bGV0W3Qse2tpbmQ6aX1dPWU7Y29uc3Qgbj10aGlzLnJlbW90ZVVzZXJNYXAuZ2V0KHQpO24mJihuLmRlbGV0ZShpKSwwPT09QXJyYXkuZnJvbShuLmVudHJpZXMoKSkubGVuZ3RoJiZ0aGlzLnJlbW90ZVVzZXJNYXAuZGVsZXRlKHQpKX0pKX1hc3luYyB1cGRhdGVCaXRyYXRlTGltaXQoZSl7Y29uc3QgdD10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KEpiLkxvY2FsVmlkZW9UcmFjayksaT10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KEpiLkxvY2FsVmlkZW9Mb3dUcmFjayk7dCYmYXdhaXQgdC50cmFjay5zZXRCaXRyYXRlTGltaXQoZS51cGxpbmspLGkmJmUubG93X3N0cmVhbV91cGxpbmsmJmF3YWl0IGkudHJhY2suc2V0Qml0cmF0ZUxpbWl0KHttYXhfYml0cmF0ZTplLmxvd19zdHJlYW1fdXBsaW5rLmJpdHJhdGUsbWluX2JpdHJhdGU6ZS5sb3dfc3RyZWFtX3VwbGluay5iaXRyYXRlfHwwfSl9aXNQMlBEaXNjb25uZWN0ZWQoKXtpZih0aGlzLnNlbmRDb25uZWN0aW9uJiZ0aGlzLnJlY3ZDb25uZWN0aW9uKXtjb25zdCBlPXRoaXMuc2VuZENvbm5lY3Rpb24ucGVlckNvbm5lY3Rpb25TdGF0ZSx0PXRoaXMucmVjdkNvbm5lY3Rpb24ucGVlckNvbm5lY3Rpb25TdGF0ZTtyZXR1cm5cImNvbm5lY3RlZFwiIT09ZSYmXCJjb25uZWN0ZWRcIiE9PXR9cmV0dXJuITB9YXN5bmMgdHJ5VG9Vbm11dGVBdWRpbyhlKXtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrKylpZihlW3RdaW5zdGFuY2VvZiB0ayl7Y29uc3QgaT10aGlzLmZpbHRlclRvYmVVbm11dGVkVHJhY2tzKGVbdF0pO2lmKDA9PT1pLmxlbmd0aCljb250aW51ZTtjb25zdCBuPXRoaXMuY3JlYXRlVW5tdXRlTWVzc2FnZShpKTtyZXR1cm4gdm9pZCBhd2FpdCBNdih0aGlzLFFiLlJlcXVlc3RVbm11dGVMb2NhbCxuKX19YmluZFN0YXRzVXBsb2FkZXJFdmVudHMoKXt0aGlzLnN0YXRzVXBsb2FkZXIucmVxdWVzdFN0YXRzPWU9PnRoaXMuZ2V0U3RhdHMoZSksdGhpcy5zdGF0c1VwbG9hZGVyLnJlcXVlc3RMb2NhbE1lZGlhPSgpPT5BcnJheS5mcm9tKHRoaXMubG9jYWxUcmFja01hcC5lbnRyaWVzKCkpLmZpbHRlcigoZT0+e2xldFsse3NzcmNzOnR9XT1lO3JldHVybiEhdH0pKSx0aGlzLnN0YXRzVXBsb2FkZXIucmVxdWVzdFJlbW90ZU1lZGlhPSgpPT5BcnJheS5mcm9tKHRoaXMucmVtb3RlVXNlck1hcC5lbnRyaWVzKCkpLHRoaXMuc3RhdHNVcGxvYWRlci5yZXF1ZXN0VmlkZW9Jc1JlYWR5PWU9Pnt2YXIgdDtyZXR1cm4hKG51bGw9PT0odD10aGlzLnJlY3ZDb25uZWN0aW9uKXx8dm9pZCAwPT09dHx8IXQuZ2V0UmVtb3RlVmlkZW9Jc1JlYWR5KGUpKX0sdGhpcy5zdGF0c1VwbG9hZGVyLnJlcXVlc3RVcGxvYWQ9KGUsdCk9PnRoaXMuZW1pdChRYi5SZXF1ZXN0VXBsb2FkLGUsdCksdGhpcy5zdGF0c1VwbG9hZGVyLnJlcXVlc3RVcGxvYWRTdGF0cz1lPT50aGlzLmVtaXQoUWIuUmVxdWVzdFVwbG9hZFN0YXRzLGUpLHRoaXMuc3RhdHNVcGxvYWRlci5yZXF1ZXN0QWxsVHJhY2tzPSgpPT50aGlzLmdldEFsbFRyYWNrcygpfXVuYmluZFN0YXRzVXBsb2FkZXJFdmVudHMoKXt0aGlzLnN0YXRzVXBsb2FkZXIucmVxdWVzdFN0YXRzPXZvaWQgMCx0aGlzLnN0YXRzVXBsb2FkZXIucmVxdWVzdExvY2FsTWVkaWE9dm9pZCAwLHRoaXMuc3RhdHNVcGxvYWRlci5yZXF1ZXN0UmVtb3RlTWVkaWE9dm9pZCAwLHRoaXMuc3RhdHNVcGxvYWRlci5yZXF1ZXN0VmlkZW9Jc1JlYWR5PXZvaWQgMH1hc3luYyByZXF1ZXN0UmVjb25uZWN0KCl7dGhpcy5kdGxzRmFpbGVkQ291bnQrPTEsYXdhaXQgJHYoRXkodGhpcy5kdGxzRmFpbGVkQ291bnQsX3kpKSx0aGlzLmVtaXQoUWIuUmVxdWVzdFJlY29ubmVjdCl9YXN5bmMgcmVjb25uZWN0UDJQKCl7fWNhblB1Ymxpc2hMb3dTdHJlYW0oKXtyZXR1cm4gdGhpcy5sb2NhbFRyYWNrTWFwLmhhcyhKYi5Mb2NhbFZpZGVvVHJhY2spfHx0aGlzLnBlbmRpbmdMb2NhbFRyYWNrcy5zb21lKChlPT5lIGluc3RhbmNlb2YgSGspKX10aHJvd0lmVHJhY2tUeXBlTm90TWF0Y2goZSl7aWYoZS5maWx0ZXIoKGU9PmUgaW5zdGFuY2VvZiBIaykpLmxlbmd0aD4xKXRocm93IG5ldyBydihudi5DQU5fTk9UX1BVQkxJU0hfTVVMVElQTEVfVklERU9fVFJBQ0tTKTtpZihlLmZpbHRlcigoZT0+ZSBpbnN0YW5jZW9mIHRrKSkubGVuZ3RoPjEmJihlLnNvbWUoKGU9PmUgaW5zdGFuY2VvZiB0ayYmZS5fYnlwYXNzV2ViQXVkaW8pKXx8IU1EKCkud2ViQXVkaW9NZWRpYVN0cmVhbURlc3QpKXRocm93IG5ldyBydihudi5OT1RfU1VQUE9SVEVELFwiY2Fubm90IHB1Ymxpc2ggbXVsdGlwbGUgdHJhY2tzIHdoaWNoIG9uZSBvZiB0aGVtIGNvbmZpZ3VyZWQgd2l0aCBieXBhc3NXZWJBdWRpbyBvciB5b3VyIGJyb3dzZXIgZG9lc24ndCBzdXBwb3J0IE1lZGlhU3RyZWFtRGVzdE5vZGVcIik7Zm9yKGNvbnN0IHQgb2YgZSl7aWYodCBpbnN0YW5jZW9mIEhrJiZ0aGlzLnBlbmRpbmdMb2NhbFRyYWNrcy5zb21lKChlPT5lIGluc3RhbmNlb2YgSGspKSl0aHJvdyBuZXcgcnYobnYuQ0FOX05PVF9QVUJMSVNIX01VTFRJUExFX1ZJREVPX1RSQUNLUyk7aWYodCBpbnN0YW5jZW9mIHRrJiZ0aGlzLnBlbmRpbmdMb2NhbFRyYWNrcy5zb21lKChlPT5lIGluc3RhbmNlb2YgdGspKSYmKCFNRCgpLndlYkF1ZGlvTWVkaWFTdHJlYW1EZXN0fHx0Ll9ieXBhc3NXZWJBdWRpb3x8dGhpcy5wZW5kaW5nTG9jYWxUcmFja3Muc29tZSgoZT0+ZSBpbnN0YW5jZW9mIHRrJiZlLl9ieXBhc3NXZWJBdWRpbykpKSl0aHJvdyBuZXcgcnYobnYuTk9UX1NVUFBPUlRFRCxcImNhbm5vdCBwdWJsaXNoIG11bHRpcGxlIHRyYWNrcyB3aGljaCBvbmUgb2YgdGhlbSBjb25maWd1cmVkIHdpdGggYnlwYXNzV2ViQXVkaW8gb3IgeW91ciBicm93c2VyIGRvZXNuJ3Qgc3VwcG9ydCBNZWRpYVN0cmVhbURlc3ROb2RlXCIpfX1nZXRMb3dWaWRlb1RyYWNrKGUsdCl7Y29uc3QgaT0hRHkoXCJESVNBQkxFX0RVQUxfU1RSRUFNX1VTRV9FTkNPRElOR1wiKSYmTUQoKS5zdXBwb3J0RHVhbFN0cmVhbUVuY29kaW5nLG49Z1YoZ1Yoe30se3dpZHRoOjE2MCxoZWlnaHQ6MTIwLGZyYW1lcmF0ZToxNSxiaXRyYXRlOjUwfSksdCk7bGV0IHI7cj1pP2UuX21lZGlhU3RyZWFtVHJhY2suY2xvbmUoKTpGeChlLG4pO2NvbnN0IG89ZXkoOCxcInRyYWNrLWxvdy1cIikscz1uZXcgSGsocixnVihnVih7fSxpJiZ7c2NhbGVSZXNvbHV0aW9uRG93bkJ5OkZ3KG4sZSl9KSx7fSx7ZnJhbWVSYXRlOm4uZnJhbWVyYXRlLGJpdHJhdGVNYXg6bi5iaXRyYXRlLGJpdHJhdGVNaW46bi5iaXRyYXRlfSksdm9pZCAwLHZvaWQgMCxvKTtyZXR1cm4gcy5vbihyUC5UUkFOU0NFSVZFUl9VUERBVEVELCh0PT57ZS5fdXBkYXRlUnRwVHJhbnNjZWl2ZXIodCx0UC5MT1dfU1RSRUFNKX0pKSxzLl9oaW50cy5wdXNoKGVQLkxPV19TVFJFQU0pLGUuYWRkTGlzdGVuZXIoJEQuTkVFRF9DTE9TRSwoKCk9PntzLmNsb3NlKCl9KSksc31hc3luYyBnbG9iYWxMb2NrKCl7cmV0dXJuIHRoaXMucmVjdk11dGV4LmxvY2soXCJGcm9tIFAyUENoYW5uZWwyLmdsb2JhbExvY2tcIil9cmVwb3J0VmlkZW9GaXJzdEZyYW1lRGVjb2RlZChlLHQsaSxuKXt2YXIgcjtjb25zdCBvPUFycmF5LmZyb20oZF8ocj10aGlzLnJlbW90ZVVzZXJNYXApLmNhbGwocikpLmZpbmQoKHQ9PnQuX3ZpZGVvU1NSQz09PWUpKTtpZihvKXtufHx0aGlzLnN0b3JlLnN1YnNjcmliZShvLnVpZCxcInZpZGVvXCIsdm9pZCAwLHZvaWQgMCx2b2lkIDAsdm9pZCAwLERhdGUubm93KCkpO2NvbnN0IHI9dGhpcy5zdG9yZS5rZXlNZXRyaWNzLHM9ci5zdWJzY3JpYmUuZmluZCgoZT0+ZS51c2VySWQ9PT1vLnVpZCYmXCJ2aWRlb1wiPT09ZS50eXBlKSk7c0EuZmlyc3RSZW1vdGVWaWRlb0RlY29kZSh0aGlzLnN0b3JlLnNlc3Npb25JZCx0QS5GSVJTVF9WSURFT19ERUNPREUsaUEuRklSU1RfVklERU9fREVDT0RFLHtwZWVyOm8uX3VpbnRpZCx2aWRlb3dpZHRoOnQsdmlkZW9oZWlnaHQ6aSxzdWJzY3JpYmVFbGFwc2U6alUubWVhc3VyZUZyb21TdWJzY3JpYmVTdGFydCh0aGlzLnN0b3JlLmNsaWVudElkLGUpLHN1YnNjcmliZVJlcXVlc3RpZDplLHAycGlkOnRoaXMuc3RvcmUucDJwSWQsYXBFbmQ6ci5yZXF1ZXN0QVBFbmR8fDAsYXBTdGFydDpyLnJlcXVlc3RBUFN0YXJ0fHwwLGpvaW5Hd0VuZDpyLmpvaW5HYXRld2F5RW5kfHwwLGpvaW5Hd1N0YXJ0OnIuam9pbkdhdGV3YXlTdGFydHx8MCxwY0VuZDpyLnBlZXJDb25uZWN0aW9uRW5kfHwwLHBjU3RhcnQ6ci5wZWVyQ29ubmVjdGlvblN0YXJ0fHwwLHN1YnNjcmliZXJFbmQ6KG51bGw9PXM/dm9pZCAwOnMuc3Vic2NyaWJlRW5kKXx8MCxzdWJzY3JpYmVyU3RhcnQ6KG51bGw9PXM/dm9pZCAwOnMuc3Vic2NyaWJlU3RhcnQpfHwwLHZpZGVvQWRkTm90aWZ5OihudWxsPT1zP3ZvaWQgMDpzLnN0cmVhbUFkZGVkKXx8MCxzdGF0ZTpuPzE6MH0pfX1hc3luYyByZW1vdGVNZWRpYVNzcmNDaGFuZ2VkKGUsdCxpKXtpZighdGhpcy5yZWN2Q29ubmVjdGlvbilyZXR1cm4hMTtjb25zdCBuPXRoaXMucmVtb3RlVXNlck1hcC5nZXQoZSk7aWYoIW4pcmV0dXJuITE7Y29uc3Qgcj1uLmdldCh0KTtpZighcilyZXR1cm4hMTtjb25zdCBvPWF3YWl0IHRoaXMucmVjdkNvbm5lY3Rpb24uZ2V0UmVtb3RlU1NSQyhyKTtyZXR1cm4gdm9pZCAwIT09byYmbyE9PWl9aXNQcmVTdWJTY3JpYmUoZSl7cmV0dXJuITF9YXN5bmMgcHVibGlzaERhdGFDaGFubmVsKGUpe3Rocm93IG5ldyBydihudi5OT1RfU1VQUE9SVEVEKX1hc3luYyB1bnB1Ymxpc2hEYXRhQ2hhbm5lbChlKXt0aHJvdyBuZXcgcnYobnYuTk9UX1NVUFBPUlRFRCl9YXN5bmMgc3Vic2NyaWJlRGF0YUNoYW5uZWwoZSx0KXt0aHJvdyBuZXcgcnYobnYuTk9UX1NVUFBPUlRFRCl9YXN5bmMgdW5zdWJzY3JpYmVEYXRhQ2hhbm5lbChlLHQpe3Rocm93IG5ldyBydihudi5OT1RfU1VQUE9SVEVEKX1oYXNQZW5kaW5nUmVtb3RlRGF0YUNoYW5uZWwoZSx0KXt0aHJvdyBuZXcgcnYobnYuTk9UX1NVUFBPUlRFRCl9c2V0UGVuZGluZ1JlbW90ZURhdGFDaGFubmVsKGUsdCl7dGhyb3cgbmV3IHJ2KG52Lk5PVF9TVVBQT1JURUQpfWFzeW5jIHByZUNvbm5lY3QoZSl7dGhyb3cgbmV3IHJ2KG52Lk5PVF9TVVBQT1JURUQpfWdldEVzdGFibGlzaFBhcmFtcygpe3Rocm93IG5ldyBydihudi5OT1RfU1VQUE9SVEVEKX1hc3luYyByZVN1YnNjcmliZShlKXt0aHJvdyBuZXcgcnYobnYuTk9UX1NVUFBPUlRFRCl9YXN5bmMgdXBkYXRlVmlkZW9TdHJlYW1QYXJhbWV0ZXIoZSx0KXt0aHJvdyBuZXcgcnYobnYuTk9UX1NVUFBPUlRFRCl9dW5iaW5kUnRwVHJhbnNjZWl2ZXIoKXswIT09dGhpcy5sb2NhbFRyYWNrTWFwLnNpemUmJkFycmF5LmZyb20odGhpcy5sb2NhbFRyYWNrTWFwLmVudHJpZXMoKSkuZm9yRWFjaCgoZT0+e2xldFt0LHt0cmFjazppfV09ZTt0PT09SmIuTG9jYWxWaWRlb0xvd1RyYWNrP2kuX3VwZGF0ZVJ0cFRyYW5zY2VpdmVyKHZvaWQgMCx0UC5MT1dfU1RSRUFNKTppLl91cGRhdGVSdHBUcmFuc2NlaXZlcih2b2lkIDApfSkpfX0scmIoVFYucHJvdG90eXBlLFwicDJwQ29ubmVjdFwiLFthVl0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihUVi5wcm90b3R5cGUsXCJwMnBDb25uZWN0XCIpLFRWLnByb3RvdHlwZSkscmIoVFYucHJvdG90eXBlLFwidW5wdWJsaXNoXCIsW2NWXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFRWLnByb3RvdHlwZSxcInVucHVibGlzaFwiKSxUVi5wcm90b3R5cGUpLHJiKFRWLnByb3RvdHlwZSxcInVucHVibGlzaExvd1N0cmVhbVwiLFtkVl0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihUVi5wcm90b3R5cGUsXCJ1bnB1Ymxpc2hMb3dTdHJlYW1cIiksVFYucHJvdG90eXBlKSxyYihUVi5wcm90b3R5cGUsXCJzdWJzY3JpYmVcIixbbFZdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoVFYucHJvdG90eXBlLFwic3Vic2NyaWJlXCIpLFRWLnByb3RvdHlwZSkscmIoVFYucHJvdG90eXBlLFwibW9ja1N1YnNjcmliZVwiLFt1Vl0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihUVi5wcm90b3R5cGUsXCJtb2NrU3Vic2NyaWJlXCIpLFRWLnByb3RvdHlwZSkscmIoVFYucHJvdG90eXBlLFwidW5zdWJzY3JpYmVcIixbaFZdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoVFYucHJvdG90eXBlLFwidW5zdWJzY3JpYmVcIiksVFYucHJvdG90eXBlKSxyYihUVi5wcm90b3R5cGUsXCJtdXRlUmVtb3RlXCIsW3BWXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFRWLnByb3RvdHlwZSxcIm11dGVSZW1vdGVcIiksVFYucHJvdG90eXBlKSxyYihUVi5wcm90b3R5cGUsXCJ1bm11dGVSZW1vdGVcIixbX1ZdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoVFYucHJvdG90eXBlLFwidW5tdXRlUmVtb3RlXCIpLFRWLnByb3RvdHlwZSkscmIoVFYucHJvdG90eXBlLFwiaGFzUmVtb3RlTWVkaWFXaXRoTG9ja1wiLFtFVl0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihUVi5wcm90b3R5cGUsXCJoYXNSZW1vdGVNZWRpYVdpdGhMb2NrXCIpLFRWLnByb3RvdHlwZSkscmIoVFYucHJvdG90eXBlLFwiZGlzY29ubmVjdEZvclJlY29ubmVjdFwiLFttVl0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihUVi5wcm90b3R5cGUsXCJkaXNjb25uZWN0Rm9yUmVjb25uZWN0XCIpLFRWLnByb3RvdHlwZSkscmIoVFYucHJvdG90eXBlLFwicmVtb3RlTWVkaWFTc3JjQ2hhbmdlZFwiLFtmVl0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihUVi5wcm90b3R5cGUsXCJyZW1vdGVNZWRpYVNzcmNDaGFuZ2VkXCIpLFRWLnByb3RvdHlwZSksVFYpO2Z1bmN0aW9uIENWKGUpe3JldHVybiBmdW5jdGlvbih0LGksbil7Y29uc3Qgcj10W2ldO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHIpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHVzZSBtdXRleCBvbiBvYmplY3QgcHJvcGVydHkuXCIpO3JldHVybiBuLnZhbHVlPWFzeW5jIGZ1bmN0aW9uKCl7Zm9yKHZhciB0PWFyZ3VtZW50cy5sZW5ndGgsbj1uZXcgQXJyYXkodCksbz0wO288dDtvKyspbltvXT1hcmd1bWVudHNbb107c3dpdGNoKGUpe2Nhc2UgblYuU0VORF9PTkxZOntjb25zdCBlPWF3YWl0IHRoaXMuc2VuZE11dGV4LmxvY2soXCJGcm9tIFAyUENoYW5uZWwyLlwiLmNvbmNhdChpKSk7dHJ5e3JldHVybiBhd2FpdCByLmFwcGx5KHRoaXMsbil9ZmluYWxseXtlKCl9fWNhc2UgblYuUkVDRUlWRV9PTkxZOntjb25zdCBlPWF3YWl0IHRoaXMucmVjdk11dGV4LmxvY2soXCJGcm9tIFAyUENoYW5uZWwyLlwiLmNvbmNhdChpKSk7dHJ5e3JldHVybiBhd2FpdCByLmFwcGx5KHRoaXMsbil9ZmluYWxseXtlKCl9fWRlZmF1bHQ6e2NvbnN0IGU9YXdhaXQgdGhpcy5zZW5kTXV0ZXgubG9jayhcIkZyb20gUDJQQ2hhbm5lbDIuXCIuY29uY2F0KGkpKSx0PWF3YWl0IHRoaXMucmVjdk11dGV4LmxvY2soXCJGcm9tIFAyUENoYW5uZWwyLlwiLmNvbmNhdChpKSk7dHJ5e3JldHVybiBhd2FpdCByLmFwcGx5KHRoaXMsbil9ZmluYWxseXtlKCksdCgpfX19fSxufX1mdW5jdGlvbiBJVihlLHQpe3ZhciBpPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKG49bi5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksaS5wdXNoLmFwcGx5KGksbil9cmV0dXJuIGl9ZnVuY3Rpb24gdlYoZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIGk9bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/SVYoT2JqZWN0KGkpLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtvZyhlLHQsaVt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhpKSk6SVYoT2JqZWN0KGkpKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaSx0KSl9KSl9cmV0dXJuIGV9Y2xhc3MgeVZ7Y29uc3RydWN0b3IoZSl7b2codGhpcyxcInN0b3JlXCIsdm9pZCAwKSxvZyh0aGlzLFwib25TdGF0c0V4Y2VwdGlvblwiLHZvaWQgMCksb2codGhpcyxcIm9uVXBsb2FkUHVibGlzaER1cmF0aW9uXCIsdm9pZCAwKSxvZyh0aGlzLFwib25TdGF0c0NoYW5nZWRcIix2b2lkIDApLG9nKHRoaXMsXCJsb2NhbFN0YXRzXCIsbmV3IE1hcCksb2codGhpcyxcInJlbW90ZVN0YXRzXCIsbmV3IE1hcCksb2codGhpcyxcInVwZGF0ZVN0YXRzSW50ZXJ2YWxcIix2b2lkIDApLG9nKHRoaXMsXCJ0cmFmZmljU3RhdHNcIix2b2lkIDApLG9nKHRoaXMsXCJ0cmFmZmljU3RhdHNQZWVyTGlzdFwiLFtdKSxvZyh0aGlzLFwidXBsaW5rU3RhdHNcIix2b2lkIDApLG9nKHRoaXMsXCJleGNlcHRpb25Nb25pdG9yXCIsdm9pZCAwKSxvZyh0aGlzLFwicDJwQ2hhbm5lbFwiLHZvaWQgMCksb2codGhpcyxcInNjYWxhYmlsaXR5TW9kZVwiLG9iLkwxVDEpLG9nKHRoaXMsXCJ1cGRhdGVTdGF0c1wiLCgoKT0+e3RoaXMucDJwQ2hhbm5lbCYmKHRoaXMudXBkYXRlUmVtb3RlU3RhdHModGhpcy5wMnBDaGFubmVsKSx0aGlzLnVwZGF0ZUxvY2FsU3RhdHModGhpcy5wMnBDaGFubmVsKSl9KSksdGhpcy5zdG9yZT1lLHRoaXMuZXhjZXB0aW9uTW9uaXRvcj1uZXcgRlUsdGhpcy5leGNlcHRpb25Nb25pdG9yLm9uKFwiZXhjZXB0aW9uXCIsKChlLHQsaSk9Pnt0aGlzLm9uU3RhdHNFeGNlcHRpb24mJnRoaXMub25TdGF0c0V4Y2VwdGlvbihlLHQsaSl9KSl9c3RhcnRVcGRhdGVTdGF0cygpe3RoaXMudXBkYXRlU3RhdHNJbnRlcnZhbHx8KHRoaXMudXBkYXRlU3RhdHNJbnRlcnZhbD13aW5kb3cuc2V0SW50ZXJ2YWwodGhpcy51cGRhdGVTdGF0cywxZTMpKX1zdG9wVXBkYXRlU3RhdHMoKXt0aGlzLnVwZGF0ZVN0YXRzSW50ZXJ2YWwmJih3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLnVwZGF0ZVN0YXRzSW50ZXJ2YWwpLHRoaXMudXBkYXRlU3RhdHNJbnRlcnZhbD12b2lkIDApfXJlc2V0KCl7dGhpcy5sb2NhbFN0YXRzPW5ldyBNYXAsdGhpcy5yZW1vdGVTdGF0cz1uZXcgTWFwLHRoaXMudHJhZmZpY1N0YXRzPXZvaWQgMCx0aGlzLnRyYWZmaWNTdGF0c1BlZXJMaXN0PVtdLHRoaXMudXBsaW5rU3RhdHM9dm9pZCAwfWdldExvY2FsQXVkaW9UcmFja1N0YXRzKCl7cmV0dXJuIHRoaXMubG9jYWxTdGF0cy5nZXQoSmIuTG9jYWxBdWRpb1RyYWNrKXx8dlYoe30sZFApfWdldExvY2FsVmlkZW9UcmFja1N0YXRzKCl7cmV0dXJuIHRoaXMubG9jYWxTdGF0cy5nZXQoSmIuTG9jYWxWaWRlb1RyYWNrKXx8dlYoe30sbFApfWdldFJlbW90ZUF1ZGlvVHJhY2tTdGF0cyhlKXtjb25zdCB0PShlLHQpPT57aWYoIXRoaXMudHJhZmZpY1N0YXRzKXJldHVybiB0O2NvbnN0IGk9dGhpcy50cmFmZmljU3RhdHMucGVlcl9kZWxheS5maW5kKCh0PT50LnBlZXJfdWlkPT09ZSkpO3JldHVybiBpJiYodC5wdWJsaXNoRHVyYXRpb249aS5CX3BwYWQrKERhdGUubm93KCktdGhpcy50cmFmZmljU3RhdHMudGltZXN0YW1wKSksdH0saT17fTtpZihlKXt2YXIgbjtjb25zdCByPW51bGw9PT0obj10aGlzLnJlbW90ZVN0YXRzLmdldChlKSl8fHZvaWQgMD09PW4/dm9pZCAwOm4uYXVkaW9TdGF0cztyJiYoaVtlXT10KGUscikpfWVsc2UgQXJyYXkuZnJvbSh0aGlzLnJlbW90ZVN0YXRzLmVudHJpZXMoKSkuZm9yRWFjaCgoZT0+e2xldFtuLHthdWRpb1N0YXRzOnJ9XT1lO3ImJihpW25dPXQobixyKSl9KSk7cmV0dXJuIGl9Z2V0UmVtb3RlTmV0d29ya1F1YWxpdHlTdGF0cyhlKXtjb25zdCB0PXt9O2lmKGUpe3ZhciBpO2NvbnN0IG49bnVsbD09PShpPXRoaXMucmVtb3RlU3RhdHMuZ2V0KGUpKXx8dm9pZCAwPT09aT92b2lkIDA6aS5uZXR3b3JrU3RhdHM7biYmKHRbZV09bil9ZWxzZSBBcnJheS5mcm9tKHRoaXMucmVtb3RlU3RhdHMuZW50cmllcygpKS5mb3JFYWNoKChlPT57bGV0W2kse25ldHdvcmtTdGF0czpufV09ZTtuJiYodFtpXT1uKX0pKTtyZXR1cm4gdH1nZXRSZW1vdGVWaWRlb1RyYWNrU3RhdHMoZSl7Y29uc3QgdD0oZSx0KT0+e2lmKCF0aGlzLnRyYWZmaWNTdGF0cylyZXR1cm4gdDtjb25zdCBpPXRoaXMudHJhZmZpY1N0YXRzLnBlZXJfZGVsYXkuZmluZCgodD0+dC5wZWVyX3VpZD09PWUpKTtyZXR1cm4gaSYmKHQucHVibGlzaER1cmF0aW9uPWkuQl9wcHZkKyhEYXRlLm5vdygpLXRoaXMudHJhZmZpY1N0YXRzLnRpbWVzdGFtcCkpLHR9LGk9e307aWYoZSl7dmFyIG47Y29uc3Qgcj1udWxsPT09KG49dGhpcy5yZW1vdGVTdGF0cy5nZXQoZSkpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLnZpZGVvU3RhdHM7ciYmKGlbZV09dChlLHIpKX1lbHNlIEFycmF5LmZyb20odGhpcy5yZW1vdGVTdGF0cy5lbnRyaWVzKCkpLmZvckVhY2goKGU9PntsZXRbbix7dmlkZW9TdGF0czpyfV09ZTtyJiYoaVtuXT10KG4scikpfSkpO3JldHVybiBpfWdldFJUQ1N0YXRzKCl7bGV0IGU9MCx0PTAsaT0wLG49MDtjb25zdCByPXRoaXMubG9jYWxTdGF0cy5nZXQoSmIuTG9jYWxBdWRpb1RyYWNrKTtyJiYoZSs9ci5zZW5kQnl0ZXMsdCs9ci5zZW5kQml0cmF0ZSk7Y29uc3Qgbz10aGlzLmxvY2FsU3RhdHMuZ2V0KEpiLkxvY2FsVmlkZW9UcmFjayk7byYmKGUrPW8uc2VuZEJ5dGVzLHQrPW8uc2VuZEJpdHJhdGUpO2NvbnN0IHM9dGhpcy5sb2NhbFN0YXRzLmdldChKYi5Mb2NhbFZpZGVvTG93VHJhY2spO3MmJihlKz1zLnNlbmRCeXRlcyx0Kz1zLnNlbmRCaXRyYXRlKSx0aGlzLnJlbW90ZVN0YXRzLmZvckVhY2goKGU9PntsZXR7YXVkaW9TdGF0czp0LHZpZGVvU3RhdHM6cn09ZTt0JiYoaSs9dC5yZWNlaXZlQnl0ZXMsbis9dC5yZWNlaXZlQml0cmF0ZSksciYmKGkrPXIucmVjZWl2ZUJ5dGVzLG4rPXIucmVjZWl2ZUJpdHJhdGUpfSkpO2xldCBhPTE7cmV0dXJuIHRoaXMudHJhZmZpY1N0YXRzJiYoYSs9dGhpcy50cmFmZmljU3RhdHMucGVlcl9kZWxheS5sZW5ndGgpLHtEdXJhdGlvbjowLFVzZXJDb3VudDphLFNlbmRCaXRyYXRlOnQsU2VuZEJ5dGVzOmUsUmVjdkJ5dGVzOmksUmVjdkJpdHJhdGU6bixPdXRnb2luZ0F2YWlsYWJsZUJhbmR3aWR0aDp0aGlzLnVwbGlua1N0YXRzP3RoaXMudXBsaW5rU3RhdHMuQl91YWIvMWUzOjAsUlRUOnRoaXMudHJhZmZpY1N0YXRzPzIqdGhpcy50cmFmZmljU3RhdHMuQl9hY2Q6MH19YWRkTG9jYWxTdGF0cyhlKXt0aGlzLmxvY2FsU3RhdHMuc2V0KGUsdm9pZCAwKX1yZW1vdmVMb2NhbFN0YXRzKGUpe2U/dGhpcy5sb2NhbFN0YXRzLmRlbGV0ZShlKTp0aGlzLmxvY2FsU3RhdHMuY2xlYXIoKX1hZGRSZW1vdGVTdGF0cyhlKXt0aGlzLnJlbW90ZVN0YXRzLnNldChlLHt9KX1yZW1vdmVSZW1vdGVTdGF0cyhlKXtlP3RoaXMucmVtb3RlU3RhdHMuZGVsZXRlKGUpOnRoaXMucmVtb3RlU3RhdHMuY2xlYXIoKX1hZGRQMlBDaGFubmVsKGUpe3RoaXMucDJwQ2hhbm5lbD1lfXVwZGF0ZVRyYWZmaWNTdGF0cyhlKXtlLnBlZXJfZGVsYXk9ZS5wZWVyX2RlbGF5LmZpbHRlcigoZT0+dm9pZCAwIT09ZS5CX3BwYWR8fHZvaWQgMCE9PWUuQl9wcHZkKSk7ZS5wZWVyX2RlbGF5LmZpbHRlcigoZT0+LTE9PT10aGlzLnRyYWZmaWNTdGF0c1BlZXJMaXN0LmluZGV4T2YoZS5wZWVyX3VpZCkpKS5mb3JFYWNoKChlPT57dmFyIHQ7Y29uc3QgaT1udWxsPT09KHQ9dGhpcy5wMnBDaGFubmVsKXx8dm9pZCAwPT09dD92b2lkIDA6dC5nZXRSZW1vdGVNZWRpYShlLnBlZXJfdWlkKSxuPW51bGwhPWkmJmkudmlkZW9TU1JDP2pVLm1lYXN1cmVGcm9tU3Vic2NyaWJlU3RhcnQodGhpcy5zdG9yZS5jbGllbnRJZCxpLnZpZGVvU1NSQyk6MCxyPW51bGwhPWkmJmkuYXVkaW9TU1JDP2pVLm1lYXN1cmVGcm9tU3Vic2NyaWJlU3RhcnQodGhpcy5zdG9yZS5jbGllbnRJZCxpLmF1ZGlvU1NSQyk6MDt2b2lkIDAhPT1lLkJfcHBhZCYmdm9pZCAwIT09ZS5CX3BwdmQmJih0aGlzLm9uVXBsb2FkUHVibGlzaER1cmF0aW9uJiZ0aGlzLm9uVXBsb2FkUHVibGlzaER1cmF0aW9uKGUucGVlcl91aWQsZS5CX3BwYWQsZS5CX3BwdmQsbj5yP246ciksdGhpcy50cmFmZmljU3RhdHNQZWVyTGlzdC5wdXNoKGUucGVlcl91aWQpKX0pKSx0aGlzLnRyYWZmaWNTdGF0cz1lfXVwZGF0ZVVwbGlua1N0YXRzKGUpe3RoaXMudXBsaW5rU3RhdHMmJnRoaXMudXBsaW5rU3RhdHMuQl9maXIhPT1lLkJfZmlyJiZReS5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl06IFBlcmlvZCBmaXIgY2hhbmdlcyB0byBcIikuY29uY2F0KGUuQl9maXIpKSx0aGlzLnVwbGlua1N0YXRzPWV9c3RhdGljIGlzUmVtb3RlVmlkZW9GcmVlemUoZSx0LGkpe2lmKCFlKXJldHVybiExO2NvbnN0IG49ISFpJiZ0LmZyYW1lc0RlY29kZUZyZWV6ZVRpbWU+aS5mcmFtZXNEZWNvZGVGcmVlemVUaW1lLHI9IWl8fHQuZnJhbWVzRGVjb2RlQ291bnQ+aS5mcmFtZXNEZWNvZGVDb3VudDtyZXR1cm4gbnx8IXJ9c3RhdGljIGlzUmVtb3RlQXVkaW9GcmVlemUoZSl7cmV0dXJuISFlJiZlLl9pc0ZyZWV6ZSgpfWlzTG9jYWxWaWRlb0ZyZWV6ZShlKXtyZXR1cm4hKCFlLmlucHV0RnJhbWV8fCFlLnNlbnRGcmFtZSkmJihlLmlucHV0RnJhbWUuZnJhbWVSYXRlPjUmJmUuc2VudEZyYW1lLmZyYW1lUmF0ZTwzKX11cGRhdGVMb2NhbFN0YXRzKGUpe0FycmF5LmZyb20odGhpcy5sb2NhbFN0YXRzLmVudHJpZXMoKSkuZm9yRWFjaCgodD0+e2xldFtpLG5dPXQ7c3dpdGNoKGkpe2Nhc2UgSmIuTG9jYWxWaWRlb1RyYWNrOmNhc2UgSmIuTG9jYWxWaWRlb0xvd1RyYWNrOntjb25zdCB0PW4sbz12Vih7fSxsUCkscz1lLmdldFN0YXRzKCksYT1lLmdldExvY2FsTWVkaWEoaSk7aWYocyl7Y29uc3QgaT1zLnZpZGVvU2VuZC5maW5kKChlPT5lLnNzcmM9PT0obnVsbD09YT92b2lkIDA6YS5zc3Jjc1swXS5zc3JjSWQpKSk7aWYoaSl7Y29uc3Qgbj1lLmdldExvY2FsVmlkZW9TaXplKCkscj1lLmdldEVuY29kZXJDb25maWcoSmIuTG9jYWxWaWRlb1RyYWNrKTtcIkgyNjRcIiE9PWkuY29kZWMmJlwiSDI2NVwiIT09aS5jb2RlYyYmXCJWUDhcIiE9PWkuY29kZWMmJlwiVlA5XCIhPT1pLmNvZGVjJiZcIkFWMVhcIiE9PWkuY29kZWMmJlwiQVYxXCIhPT1pLmNvZGVjfHwoby5jb2RlY1R5cGU9aS5jb2RlYyksby5zZW5kQnl0ZXM9aS5ieXRlcyxvLnNlbmRCaXRyYXRlPXQ/OCpNYXRoLm1heCgwLG8uc2VuZEJ5dGVzLXQuc2VuZEJ5dGVzKTowLGkuaW5wdXRGcmFtZT8oby5jYXB0dXJlRnJhbWVSYXRlPWkuaW5wdXRGcmFtZS5mcmFtZVJhdGUsby5jYXB0dXJlUmVzb2x1dGlvbkhlaWdodD1pLmlucHV0RnJhbWUuaGVpZ2h0LG8uY2FwdHVyZVJlc29sdXRpb25XaWR0aD1pLmlucHV0RnJhbWUud2lkdGgpOm4mJihvLmNhcHR1cmVSZXNvbHV0aW9uV2lkdGg9bi53aWR0aCxvLmNhcHR1cmVSZXNvbHV0aW9uSGVpZ2h0PW4uaGVpZ2h0KSxpLnNlbnRGcmFtZT8oby5zZW5kRnJhbWVSYXRlPWkuc2VudEZyYW1lLmZyYW1lUmF0ZSxvLnNlbmRSZXNvbHV0aW9uSGVpZ2h0PWkuc2VudEZyYW1lLmhlaWdodCxvLnNlbmRSZXNvbHV0aW9uV2lkdGg9aS5zZW50RnJhbWUud2lkdGgpOm4mJihvLnNlbmRSZXNvbHV0aW9uV2lkdGg9bi53aWR0aCxvLnNlbmRSZXNvbHV0aW9uSGVpZ2h0PW4uaGVpZ2h0KSxpLmF2Z0VuY29kZU1zJiYoby5lbmNvZGVEZWxheT1pLmF2Z0VuY29kZU1zKSxyJiZyLmJpdHJhdGVNYXgmJihvLnRhcmdldFNlbmRCaXRyYXRlPTFlMypyLmJpdHJhdGVNYXgpLG8uc2VuZFBhY2tldHM9aS5wYWNrZXRzLG8uc2VuZFBhY2tldHNMb3N0PWkucGFja2V0c0xvc3Qsby5zZW5kSml0dGVyTXM9aS5qaXR0ZXJNcyxvLnNlbmRSdHRNcz1pLnJ0dE1zLG8udG90YWxEdXJhdGlvbj10P3QudG90YWxEdXJhdGlvbisxOjEsby50b3RhbEZyZWV6ZVRpbWU9dD90LnRvdGFsRnJlZXplVGltZTowLHRoaXMuaXNMb2NhbFZpZGVvRnJlZXplKGkpJiYoby50b3RhbEZyZWV6ZVRpbWUrPTEpLGkuc2NhbGFiaWxpdHlNb2RlJiZ0aGlzLnNjYWxhYmlsaXR5TW9kZSE9PWkuc2NhbGFiaWxpdHlNb2RlJiYoUXkuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdOiBUaGUgc2NhbGFiaWxpdHlNb2RlIG9mIHRoZSB2aWRlbyBzZW5kaW5nIHN0cmVhbSBpcyBcIikuY29uY2F0KGkuc2NhbGFiaWxpdHlNb2RlKSksdGhpcy5zY2FsYWJpbGl0eU1vZGU9aS5zY2FsYWJpbGl0eU1vZGUpfXRoaXMudHJhZmZpY1N0YXRzJiYoby5jdXJyZW50UGFja2V0TG9zc1JhdGU9KHRoaXMudHJhZmZpY1N0YXRzLkJfcHZscjR8fDApLzEwMCl9dmFyIHI7aWYodGhpcy5sb2NhbFN0YXRzLnNldChpLG8pLChudWxsPT10P3ZvaWQgMDp0LnNlbmRSZXNvbHV0aW9uV2lkdGgpIT09by5zZW5kUmVzb2x1dGlvbldpZHRofHwobnVsbD09dD92b2lkIDA6dC5zZW5kUmVzb2x1dGlvbkhlaWdodCkhPT1vLnNlbmRSZXNvbHV0aW9uSGVpZ2h0KW51bGw9PT0ocj10aGlzLm9uU3RhdHNDaGFuZ2VkKXx8dm9pZCAwPT09cnx8ci5jYWxsKHRoaXMsXCJyZXNvbHV0aW9uXCIse3dpZHRoOm8uc2VuZFJlc29sdXRpb25XaWR0aCxoZWlnaHQ6by5zZW5kUmVzb2x1dGlvbkhlaWdodH0pO28mJmEmJnRoaXMuZXhjZXB0aW9uTW9uaXRvci5zZXRMb2NhbFZpZGVvU3RhdHModGhpcy5zdG9yZS51aWQsYS50cmFjayxvKTticmVha31jYXNlIEpiLkxvY2FsQXVkaW9UcmFjazp7Y29uc3QgdD1uLHI9dlYoe30sZFApLG89ZS5nZXRTdGF0cygpLHM9ZS5nZXRMb2NhbE1lZGlhKGkpO2lmKG8pe2NvbnN0IGk9by5hdWRpb1NlbmQuZmluZCgoZT0+ZS5zc3JjPT09KG51bGw9PXM/dm9pZCAwOnMuc3NyY3NbMF0uc3NyY0lkKSkpO2lmKGkpe2lmKFwib3B1c1wiIT09aS5jb2RlYyYmXCJhYWNcIiE9PWkuY29kZWMmJlwiUENNVVwiIT09aS5jb2RlYyYmXCJQQ01BXCIhPT1pLmNvZGVjJiZcIkc3MjJcIiE9PWkuY29kZWN8fChyLmNvZGVjVHlwZT1pLmNvZGVjKSxpLmlucHV0TGV2ZWwpci5zZW5kVm9sdW1lTGV2ZWw9TWF0aC5yb3VuZCgzMjc2NyppLmlucHV0TGV2ZWwpO2Vsc2V7Y29uc3QgdD1lLmdldExvY2FsQXVkaW9Wb2x1bWUoKTt0JiYoci5zZW5kVm9sdW1lTGV2ZWw9TWF0aC5yb3VuZCgzMjc2Nyp0KSl9ci5zZW5kQnl0ZXM9aS5ieXRlcyxyLnNlbmRQYWNrZXRzPWkucGFja2V0cyxyLnNlbmRQYWNrZXRzTG9zdD1pLnBhY2tldHNMb3N0LHIuc2VuZEppdHRlck1zPWkuaml0dGVyTXMsci5zZW5kUnR0TXM9aS5ydHRNcyxyLnNlbmRCaXRyYXRlPXQ/OCpNYXRoLm1heCgwLHIuc2VuZEJ5dGVzLXQuc2VuZEJ5dGVzKTowfX10aGlzLnRyYWZmaWNTdGF0cyYmKHIuY3VycmVudFBhY2tldExvc3NSYXRlPSh0aGlzLnRyYWZmaWNTdGF0cy5CX3BhbHI0fHwwKS8xMDApLHRoaXMubG9jYWxTdGF0cy5zZXQoSmIuTG9jYWxBdWRpb1RyYWNrLHIpLHImJnMmJnRoaXMuZXhjZXB0aW9uTW9uaXRvci5zZXRMb2NhbEF1ZGlvU3RhdHModGhpcy5zdG9yZS51aWQscy50cmFjayxyKTticmVha319fSkpfXVwZGF0ZVJlbW90ZVN0YXRzKGUpe0FycmF5LmZyb20odGhpcy5yZW1vdGVTdGF0cy5lbnRyaWVzKCkpLmZvckVhY2goKHQ9Pnt2YXIgaSxuO2xldFtyLHt2aWRlb1N0YXRzOm8sYXVkaW9TdGF0czpzLHZpZGVvUGNTdGF0czphfV09dDtjb25zdCBjPXMsZD1vLGw9YSx1PXZWKHt9LHVQKSxoPXZWKHt9LHBQKSxwPXZWKHt9LGhQKSx7YXVkaW9UcmFjazpfLHZpZGVvVHJhY2s6RSxhdWRpb1NTUkM6bSx2aWRlb1NTUkM6Zn09ZS5nZXRSZW1vdGVNZWRpYShyKTtsZXQgVDtUPWUgaW5zdGFuY2VvZiBSVj9lLmdldFN0YXRzKCEwKTplLmdldFN0YXRzKCk7Y29uc3QgUz1udWxsPT09KGk9VCl8fHZvaWQgMD09PWk/dm9pZCAwOmkuYXVkaW9SZWN2LmZpbmQoKGU9PmUuc3NyYz09PW0pKSxnPW51bGw9PT0obj1UKXx8dm9pZCAwPT09bj92b2lkIDA6bi52aWRlb1JlY3YuZmluZCgoZT0+ZS5zc3JjPT09ZikpLFI9dGhpcy50cmFmZmljU3RhdHMmJnRoaXMudHJhZmZpY1N0YXRzLnBlZXJfZGVsYXkuZmluZCgoZT0+ZS5wZWVyX3VpZD09PXIpKTtpZihTJiYoXCJvcHVzXCIhPT1TLmNvZGVjJiZcImFhY1wiIT09Uy5jb2RlYyYmXCJQQ01VXCIhPT1TLmNvZGVjJiZcIlBDTUFcIiE9PVMuY29kZWMmJlwiRzcyMlwiIT09Uy5jb2RlY3x8KHUuY29kZWNUeXBlPVMuY29kZWMpLFMub3V0cHV0TGV2ZWw/dS5yZWNlaXZlTGV2ZWw9TWF0aC5yb3VuZCgzMjc2NypTLm91dHB1dExldmVsKTpfJiYodS5yZWNlaXZlTGV2ZWw9TWF0aC5yb3VuZCgzMjc2NypfLmdldFZvbHVtZUxldmVsKCkpKSx1LnJlY2VpdmVCeXRlcz1TLmJ5dGVzLHUucmVjZWl2ZVBhY2tldHM9Uy5wYWNrZXRzLHUucmVjZWl2ZVBhY2tldHNMb3N0PVMucGFja2V0c0xvc3QsdS5yZWNlaXZlUGFja2V0c0Rpc2NhcmRlZD1TLnBhY2tldHNEaXNjYXJkZWQsdS5wYWNrZXRMb3NzUmF0ZT11LnJlY2VpdmVQYWNrZXRzTG9zdC8odS5yZWNlaXZlUGFja2V0cyt1LnJlY2VpdmVQYWNrZXRzTG9zdCksdS5yZWNlaXZlQml0cmF0ZT1jPzgqTWF0aC5tYXgoMCx1LnJlY2VpdmVCeXRlcy1jLnJlY2VpdmVCeXRlcyk6MCx1LnRvdGFsRHVyYXRpb249Yz9jLnRvdGFsRHVyYXRpb24rMToxLHUudG90YWxGcmVlemVUaW1lPWM/Yy50b3RhbEZyZWV6ZVRpbWU6MCx1LmZyZWV6ZVJhdGU9dS50b3RhbEZyZWV6ZVRpbWUvdS50b3RhbER1cmF0aW9uLHUucmVjZWl2ZURlbGF5PVMuaml0dGVyQnVmZmVyTXMsdS50b3RhbER1cmF0aW9uPjEwJiZ5Vi5pc1JlbW90ZUF1ZGlvRnJlZXplKF8pJiYodS50b3RhbEZyZWV6ZVRpbWUrPTEpKSxnKXtcIkgyNjRcIiE9PWcuY29kZWMmJlwiSDI2NVwiIT09Zy5jb2RlYyYmXCJWUDhcIiE9PWcuY29kZWMmJlwiVlA5XCIhPT1nLmNvZGVjJiZcIkFWMVhcIiE9PWcuY29kZWMmJlwiQVYxXCIhPT1nLmNvZGVjfHwoaC5jb2RlY1R5cGU9Zy5jb2RlYyksaC5yZWNlaXZlQnl0ZXM9Zy5ieXRlcyxoLnJlY2VpdmVCaXRyYXRlPWQ/OCpNYXRoLm1heCgwLGgucmVjZWl2ZUJ5dGVzLWQucmVjZWl2ZUJ5dGVzKTowLGguZGVjb2RlRnJhbWVSYXRlPWcuZGVjb2RlRnJhbWVSYXRlPDA/MDpnLmRlY29kZUZyYW1lUmF0ZSxoLnJlbmRlckZyYW1lUmF0ZT1nLmRlY29kZUZyYW1lUmF0ZTwwPzA6Zy5kZWNvZGVGcmFtZVJhdGUsZy5vdXRwdXRGcmFtZSYmKGgucmVuZGVyRnJhbWVSYXRlPWcub3V0cHV0RnJhbWUuZnJhbWVSYXRlKSxnLnJlY2VpdmVkRnJhbWU/KGgucmVjZWl2ZUZyYW1lUmF0ZT1nLnJlY2VpdmVkRnJhbWUuZnJhbWVSYXRlLGgucmVjZWl2ZVJlc29sdXRpb25IZWlnaHQ9Zy5yZWNlaXZlZEZyYW1lLmhlaWdodCxoLnJlY2VpdmVSZXNvbHV0aW9uV2lkdGg9Zy5yZWNlaXZlZEZyYW1lLndpZHRoKTpFJiYoaC5yZWNlaXZlUmVzb2x1dGlvbkhlaWdodD1FLl92aWRlb0hlaWdodHx8MCxoLnJlY2VpdmVSZXNvbHV0aW9uV2lkdGg9RS5fdmlkZW9XaWR0aHx8MCksdm9pZCAwIT09Zy5mcmFtZXNSYXRlRmlyZWZveCYmKGgucmVjZWl2ZUZyYW1lUmF0ZT1NYXRoLnJvdW5kKGcuZnJhbWVzUmF0ZUZpcmVmb3gpKSxoLnJlY2VpdmVQYWNrZXRzPWcucGFja2V0cyxoLnJlY2VpdmVQYWNrZXRzTG9zdD1nLnBhY2tldHNMb3N0LGgucGFja2V0TG9zc1JhdGU9aC5yZWNlaXZlUGFja2V0c0xvc3QvKGgucmVjZWl2ZVBhY2tldHMraC5yZWNlaXZlUGFja2V0c0xvc3QpLGgudG90YWxEdXJhdGlvbj1kP2QudG90YWxEdXJhdGlvbisxOjEsaC50b3RhbEZyZWV6ZVRpbWU9ZD9kLnRvdGFsRnJlZXplVGltZTowLGgucmVjZWl2ZURlbGF5PWcuaml0dGVyQnVmZmVyTXN8fDA7Y29uc3QgdD0hIWYmJmUuZ2V0UmVtb3RlVmlkZW9Jc1JlYWR5KGYpO0UmJnQmJnlWLmlzUmVtb3RlVmlkZW9GcmVlemUoRSxnLGwpJiYoaC50b3RhbEZyZWV6ZVRpbWUrPTEpLGguZnJlZXplUmF0ZT1oLnRvdGFsRnJlZXplVGltZS9oLnRvdGFsRHVyYXRpb259UiYmKHUuZW5kMkVuZERlbGF5PVIuQl9hZCxoLmVuZDJFbmREZWxheT1SLkJfdmQsdS50cmFuc3BvcnREZWxheT1SLkJfZWQsaC50cmFuc3BvcnREZWxheT1SLkJfZWQsdS5jdXJyZW50UGFja2V0TG9zc1JhdGU9Ui5CX2VhbHI0LzEwMCxoLmN1cnJlbnRQYWNrZXRMb3NzUmF0ZT1SLkJfZXZscjQvMTAwLHAudXBsaW5rTmV0d29ya1F1YWxpdHk9Ui5CX3B1bnE/Ui5CX3B1bnE6MCxwLmRvd25saW5rTmV0d29ya1F1YWxpdHk9Ui5CX3BkbnE/Ui5CX3BkbnE6MCksdGhpcy5yZW1vdGVTdGF0cy5zZXQocix7YXVkaW9TdGF0czp1LHZpZGVvU3RhdHM6aCx2aWRlb1BjU3RhdHM6ZyxuZXR3b3JrU3RhdHM6cH0pLF8mJnRoaXMuZXhjZXB0aW9uTW9uaXRvci5zZXRSZW1vdGVBdWRpb1N0YXRzKF8sdSksRSYmdGhpcy5leGNlcHRpb25Nb25pdG9yLnNldFJlbW90ZVZpZGVvU3RhdHMoRSxoKX0pKX19Y2xhc3MgQVZ7Y29uc3RydWN0b3IoKXtvZyh0aGlzLFwiZGVzdENoYW5uZWxNZWRpYUluZm9zXCIsbmV3IE1hcCksb2codGhpcyxcInNyY0NoYW5uZWxNZWRpYUluZm9cIix2b2lkIDApfXNldFNyY0NoYW5uZWxJbmZvKGUpe05iKGUpLHRoaXMuc3JjQ2hhbm5lbE1lZGlhSW5mbz1lfWFkZERlc3RDaGFubmVsSW5mbyhlKXtOYihlKSx0aGlzLmRlc3RDaGFubmVsTWVkaWFJbmZvcy5zZXQoZS5jaGFubmVsTmFtZSxlKX1yZW1vdmVEZXN0Q2hhbm5lbEluZm8oZSl7Z2IoZSksdGhpcy5kZXN0Q2hhbm5lbE1lZGlhSW5mb3MuZGVsZXRlKGUpfWdldFNyY0NoYW5uZWxNZWRpYUluZm8oKXtyZXR1cm4gdGhpcy5zcmNDaGFubmVsTWVkaWFJbmZvfWdldERlc3RDaGFubmVsTWVkaWFJbmZvKCl7cmV0dXJuIHRoaXMuZGVzdENoYW5uZWxNZWRpYUluZm9zfX1mdW5jdGlvbiBiVihlKXtpZighKGUgaW5zdGFuY2VvZiBBVikpe3JldHVybiBuZXcgU2IobnYuSU5WQUxJRF9QQVJBTVMsXCJDb25maWcgc2hvdWxkIGJlIGluc3RhbmNlIG9mIFtDaGFubmVsTWVkaWFSZWxheUNvbmZpZ3VyYXRpb25dXCIpLnRocm93KCl9Y29uc3QgdD1lLmdldFNyY0NoYW5uZWxNZWRpYUluZm8oKSxpPWUuZ2V0RGVzdENoYW5uZWxNZWRpYUluZm8oKTtpZighdCl7cmV0dXJuIG5ldyBTYihudi5JTlZBTElEX1BBUkFNUyxcInNyY0NoYW5uZWxNZWRpYUluZm8gc2hvdWxkIG5vdCBiZSBlbXB0eVwiKS50aHJvdygpfWlmKDA9PT1pLnNpemUpe3JldHVybiBuZXcgU2IobnYuSU5WQUxJRF9QQVJBTVMsXCJkZXN0Q2hhbm5lbE1lZGlhSW5mbyBzaG91bGQgbm90IGJlIGVtcHR5XCIpLnRocm93KCl9fWZ1bmN0aW9uIHdWKGUpe3ZhciB0PXt9LGk9ITE7ZnVuY3Rpb24gbih0LG4pe3JldHVybiBpPSEwLHtkb25lOiExLHZhbHVlOm5ldyBHVShuPW5ldyB6VSgoZnVuY3Rpb24oaSl7aShlW3RdKG4pKX0pKSwxKX19cmV0dXJuIHRbdm9pZCAwIT09ZWcmJnRnfHxcIkBAaXRlcmF0b3JcIl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sdC5uZXh0PWZ1bmN0aW9uKGUpe3JldHVybiBpPyhpPSExLGUpOm4oXCJuZXh0XCIsZSl9LFwiZnVuY3Rpb25cIj09dHlwZW9mIGUudGhyb3cmJih0LnRocm93PWZ1bmN0aW9uKGUpe2lmKGkpdGhyb3cgaT0hMSxlO3JldHVybiBuKFwidGhyb3dcIixlKX0pLFwiZnVuY3Rpb25cIj09dHlwZW9mIGUucmV0dXJuJiYodC5yZXR1cm49ZnVuY3Rpb24oZSl7cmV0dXJuIGk/KGk9ITEsZSk6bihcInJldHVyblwiLGUpfSksdH12YXIgT1Y9aShKVSk7ZnVuY3Rpb24gTlYoZSx0KXt2YXIgaT1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihuPW4uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLGkucHVzaC5hcHBseShpLG4pfXJldHVybiBpfWZ1bmN0aW9uIERWKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBpPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP05WKE9iamVjdChpKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7b2coZSx0LGlbdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoaSkpOk5WKE9iamVjdChpKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGksdCkpfSkpfXJldHVybiBlfXZhciBQVjtmdW5jdGlvbiBMVihlLHQpe3ZhciBpPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKG49bi5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksaS5wdXNoLmFwcGx5KGksbil9cmV0dXJuIGl9ZnVuY3Rpb24ga1YoZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIGk9bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/TFYoT2JqZWN0KGkpLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtvZyhlLHQsaVt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhpKSk6TFYoT2JqZWN0KGkpKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaSx0KSl9KSl9cmV0dXJuIGV9bGV0IE1WPShQVj1jbGFzcyBlIGV4dGVuZHMgS2J7Z2V0IHBlZXJDb25uZWN0aW9uU3RhdGUoKXtyZXR1cm4gdGhpcy5wZWVyQ29ubmVjdGlvbi5jb25uZWN0aW9uU3RhdGV9Z2V0IGljZUNvbm5lY3Rpb25TdGF0ZSgpe3JldHVybiB0aGlzLnBlZXJDb25uZWN0aW9uLmljZUNvbm5lY3Rpb25TdGF0ZX1nZXQgY3VycmVudExvY2FsRGVzY3JpcHRpb24oKXtyZXR1cm4gdGhpcy5wZWVyQ29ubmVjdGlvbi5jdXJyZW50TG9jYWxEZXNjcmlwdGlvbn1nZXQgY3VycmVudFJlbW90ZURlc2NyaXB0aW9uKCl7cmV0dXJuIHRoaXMucGVlckNvbm5lY3Rpb24uY3VycmVudFJlbW90ZURlc2NyaXB0aW9ufWdldCBsb2NhbENvZGVjcygpe3JldHVyblsuLi5uZXcgU2V0KHRoaXMubG9jYWxDYXBhYmlsaXRpZXMmJnRoaXMubG9jYWxDYXBhYmlsaXRpZXMudmlkZW9Db2RlY3MubWFwKChlPT5lLnJ0cE1hcCYmZS5ydHBNYXAuZW5jb2RpbmdOYW1lLnRvTG93ZXJDYXNlKCl8fFwiXCIpKS5maWx0ZXIoKGU9Pnt2YXIgdDtyZXR1cm4gRG4odD1PYmplY3Qua2V5cyhNeSkpLmNhbGwodCxlKX0pKSldfWNvbnN0cnVjdG9yKHQsaSl7c3VwZXIodCxpKSxvZyh0aGlzLFwic3RvcmVcIix2b2lkIDApLG9nKHRoaXMsXCJwZWVyQ29ubmVjdGlvblwiLHZvaWQgMCksb2codGhpcyxcInJlbW90ZVNEUFwiLHZvaWQgMCksb2codGhpcyxcImluaXRpYWxPZmZlclwiLHZvaWQgMCksb2codGhpcyxcInN0YXRzRmlsdGVyXCIsdm9pZCAwKSxvZyh0aGlzLFwidXNlUlRYXCIsITEpLG9nKHRoaXMsXCJsb2NhbENhcGFiaWxpdGllc1wiLHZvaWQgMCksb2codGhpcyxcImxvY2FsQ2FuZGlkYXRlQ291bnRcIiwwKSxvZyh0aGlzLFwiYWxsQ2FuZGlkYXRlc1JlY2VpdmVkXCIsITEpLG9nKHRoaXMsXCJlc3RhYmxpc2hQcm9taXNlXCIsdm9pZCAwKSxvZyh0aGlzLFwibXV0ZXhcIixuZXcgaHkoXCJQMlBDb25uZWN0aW9uLW11dGV4XCIpKSx0aGlzLnN0b3JlPWksdGhpcy5wZWVyQ29ubmVjdGlvbj1uZXcgUlRDUGVlckNvbm5lY3Rpb24oZS5yZXNvbHZlUENDb25maWd1cmF0aW9uKHQpLHtvcHRpb25hbDpbe2dvb2dEc2NwOiEwfV19KSx0aGlzLnN0YXRzRmlsdGVyPUR4KHRoaXMucGVlckNvbm5lY3Rpb24sRHkoXCJTVEFUU19VUERBVEVfSU5URVJWQUxcIiksdm9pZCAwLGtJKCk/MTIwMDp2b2lkIDApLHRoaXMuYmluZFBDRXZlbnRzKCksdGhpcy5iaW5kU3RhdHNFdmVudHMoKSx0aGlzLnN0b3JlLnAycElkPXRoaXMuc3RvcmUucDJwSWQrMSx0aGlzLmVzdGFibGlzaFByb21pc2U9dGhpcy5lc3RhYmxpc2goKX1hc3luYyBlc3RhYmxpc2goKXt0cnl7Y29uc3QgZT1hd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLmNyZWF0ZU9mZmVyKHtvZmZlclRvUmVjZWl2ZUF1ZGlvOiEwLG9mZmVyVG9SZWNlaXZlVmlkZW86ITB9KTtpZighZS5zZHApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGdldCBpbml0aWFsT2ZmZXIuc2RwIHdoZW4gdHJ5aW5nIHRvIGVzdGFibGlzaCBQZWVyQ29ubmVjdGlvbi5cIik7Y29uc3QgdD1iTShlLnNkcCksaT1BTShlLnNkcCx7ZmlsdGVyUlRYOiF0aGlzLnVzZVJUWCxmaWx0ZXJWaWRlb0ZlYzpEeShcIkZJTFRFUl9WSURFT19GRUNcIiksZmlsdGVyQXVkaW9GZWM6RHkoXCJGSUxURVJfQVVESU9fRkVDXCIpLGZpbHRlckF1ZGlvQ29kZWM6W1wib3B1c1wiXX0pO3JldHVybiB0aGlzLmxvY2FsQ2FwYWJpbGl0aWVzPWksdGhpcy5pbml0aWFsT2ZmZXI9ZSxrVihrVih7fSx0KSx7fSx7cnRwQ2FwYWJpbGl0aWVzOntzZW5kOnthdWRpb0NvZGVjczpbXSxhdWRpb0V4dGVuc2lvbnM6W10sdmlkZW9Db2RlY3M6W10sdmlkZW9FeHRlbnNpb25zOltdfSxyZWN2OnthdWRpb0NvZGVjczpbXSxhdWRpb0V4dGVuc2lvbnM6W10sdmlkZW9Db2RlY3M6W10sdmlkZW9FeHRlbnNpb25zOltdfSxzZW5kcmVjdjppfSxvZmZlclNEUDplLnNkcH0pfWNhdGNoKGUpe3Rocm93IG5ldyBydihudi5HRVRfTE9DQUxfQ09OTkVDVElPTl9QQVJBTVNfRkFJTEVELGUudG9TdHJpbmcoKSl9fWFzeW5jIHVwZGF0ZVJlbW90ZUNvbm5lY3QoKXt9YXN5bmMgY29ubmVjdChlKXt0cnl7aWYoIXRoaXMuaW5pdGlhbE9mZmVyKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBlc3RhYmxpc2ggUDJQQ29ubmVjdGlvbiB3aXRob3V0IGluaXRpYWwgb2ZmZXIuXCIpO3RoaXMucmVtb3RlU0RQPW5ldyBjbGFzc3tjb25zdHJ1Y3RvcihlKXtvZyh0aGlzLFwic2Vzc2lvbkRlc2NcIix2b2lkIDApLG9nKHRoaXMsXCJsb2NhbENhcGFiaWxpdGllc1wiLHZvaWQgMCksb2codGhpcyxcInJ0cENhcGFiaWxpdGllc1wiLHZvaWQgMCksb2codGhpcyxcImNhbmRpZGF0ZXNcIix2b2lkIDApLG9nKHRoaXMsXCJpY2VQYXJhbWV0ZXJzXCIsdm9pZCAwKSxvZyh0aGlzLFwiZHRsc1BhcmFtZXRlcnNcIix2b2lkIDApLG9nKHRoaXMsXCJzZXR1cFwiLHZvaWQgMCksb2codGhpcyxcImN1cnJlbnRNaWRJbmRleFwiLHZvaWQgMCksb2codGhpcyxcImNuYW1lXCIsdm9pZCAwKSxlPUd2KGUpO2NvbnN0e2ljZVBhcmFtZXRlcnM6dCxkdGxzUGFyYW1ldGVyczppLGNhbmRpZGF0ZXM6bixydHBDYXBhYmlsaXRpZXM6cixzZXR1cDpvLGxvY2FsQ2FwYWJpbGl0aWVzOnMsc2RrQ29kZWM6YSxjbmFtZTpjfT1lLGQ9Q00ucGFyc2UoXCJ2PTBcXG5vPS0gMCAwIElOIElQNCAxMjcuMC4wLjFcXG5zPUFnb3JhR2F0ZXdheVxcbnQ9MCAwXFxuYT1ncm91cDpCVU5ETEUgYXVkaW8gdmlkZW9cXG5hPW1zaWQtc2VtYW50aWM6IFdNU1xcbmE9aWNlLWxpdGVcXG5tPWF1ZGlvIDkgVURQL1RMUy9SVFAvU0FWUEYgMFxcbmM9SU4gSVA0IDEyNy4wLjAuMVxcbmE9cnRjcDo5IElOIElQNCAwLjAuMC4wXFxuYT1zZW5kcmVjdlxcbmE9cnRjcC1tdXhcXG5hPXJ0Y3AtcnNpemVcXG5hPW1pZDphdWRpb1xcbm09dmlkZW8gOSBVRFAvVExTL1JUUC9TQVZQRiAwXFxuYz1JTiBJUDQgMTI3LjAuMC4xXFxuYT1ydGNwOjkgSU4gSVA0IDAuMC4wLjBcXG5hPXNlbmRyZWN2XFxuYT1ydGNwLW11eFxcbmE9cnRjcC1yc2l6ZVxcbmE9bWlkOnZpZGVvXFxuXCIpO3RoaXMucnRwQ2FwYWJpbGl0aWVzPXIsdGhpcy5jYW5kaWRhdGVzPW4sdGhpcy5pY2VQYXJhbWV0ZXJzPXQsdGhpcy5kdGxzUGFyYW1ldGVycz1pLHRoaXMuc2V0dXA9byx0aGlzLmxvY2FsQ2FwYWJpbGl0aWVzPXMsdGhpcy5jbmFtZT1jO2ZvcihsZXQgZT0wO2U8ZC5tZWRpYURlc2NyaXB0aW9ucy5sZW5ndGg7ZSsrKXtjb25zdCBzPWQubWVkaWFEZXNjcmlwdGlvbnNbZV07aWYocy5hdHRyaWJ1dGVzLmljZVVmcmFnPXQuaWNlVWZyYWcscy5hdHRyaWJ1dGVzLmljZVB3ZD10LmljZVB3ZCxzLmF0dHJpYnV0ZXMuZmluZ2VycHJpbnRzPWkuZmluZ2VycHJpbnRzLHMuYXR0cmlidXRlcy5jYW5kaWRhdGVzPW4scy5hdHRyaWJ1dGVzLnNldHVwPW8sXCJ2aWRlb1wiPT09cy5tZWRpYS5tZWRpYVR5cGUpe3MubWVkaWEuZm10cz1yLnZpZGVvQ29kZWNzLm1hcCgoZT0+ZS5wYXlsb2FkVHlwZS50b1N0cmluZygxMCkpKTtsZXQgZT1yLnZpZGVvQ29kZWNzLmZpbHRlcigoZT0+e3ZhciB0LGk7cmV0dXJuIG51bGw9PT0odD1lLnJ0cE1hcCl8fHZvaWQgMD09PXQ/dm9pZCAwOkRuKGk9dC5lbmNvZGluZ05hbWUudG9Mb3dlckNhc2UoKSkuY2FsbChpLGEpfSkpOzA9PT1lLmxlbmd0aCYmKGU9ci52aWRlb0NvZGVjcykscy5hdHRyaWJ1dGVzLnBheWxvYWRzPWUscy5hdHRyaWJ1dGVzLmV4dG1hcHM9ci52aWRlb0V4dGVuc2lvbnN9XCJhdWRpb1wiPT09cy5tZWRpYS5tZWRpYVR5cGUmJihzLm1lZGlhLmZtdHM9ci5hdWRpb0NvZGVjcy5tYXAoKGU9PmUucGF5bG9hZFR5cGUudG9TdHJpbmcoMTApKSkscy5hdHRyaWJ1dGVzLnBheWxvYWRzPXIuYXVkaW9Db2RlY3Mscy5hdHRyaWJ1dGVzLmV4dG1hcHM9ci5hdWRpb0V4dGVuc2lvbnMpLGQubWVkaWFEZXNjcmlwdGlvbnNbZV09dGhpcy5tdW5nTWVkaWFEZXNjKHMpfXRoaXMuc2Vzc2lvbkRlc2M9ZCx0aGlzLmN1cnJlbnRNaWRJbmRleD1kLm1lZGlhRGVzY3JpcHRpb25zLmxlbmd0aC0xfXRvU3RyaW5nKCl7cmV0dXJuIENNLnByaW50KHRoaXMuc2Vzc2lvbkRlc2MpfXNlbmQoZSx0LGkpe2NvbnN0e3NzcmNzOm4sc3NyY0dyb3VwczpyfT1ETSh0LHRoaXMuY25hbWUpLG89dGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5maW5kKCh0PT5lPT09WWIuVklERU8/XCJ2aWRlb1wiPT09dC5tZWRpYS5tZWRpYVR5cGU6XCJhdWRpb1wiPT09dC5tZWRpYS5tZWRpYVR5cGUpKSxzPW5bMF0uYXR0cmlidXRlcy5sYWJlbCxhPW5bMF0uYXR0cmlidXRlcy5tc2xhYmVsO3JldHVybiBvLmF0dHJpYnV0ZXMuc3NyY3M9by5hdHRyaWJ1dGVzLnNzcmNzLmNvbmNhdChuKSxvLmF0dHJpYnV0ZXMuc3NyY0dyb3Vwcz1vLmF0dHJpYnV0ZXMuc3NyY0dyb3Vwcy5jb25jYXQocikse2lkOnMsbXNsYWJlbDphfX1iYXRjaFNlbmQoZSl7cmV0dXJuIGUubWFwKChlPT57bGV0e2tpbmQ6dCxzc3JjTXNnOml9PWU7cmV0dXJuIHRoaXMuc2VuZCh0LGksdm9pZCAwKX0pKX1zdG9wU2VuZGluZyhlKXt0aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmZvckVhY2goKHQ9Pntjb25zdCBpPVtdLG49W10scj1bXTt0LmF0dHJpYnV0ZXMuc3NyY3MuZm9yRWFjaCgodD0+e0RuKGUpLmNhbGwoZSx0LmF0dHJpYnV0ZXMubGFiZWx8fFwiXCIpP3IucHVzaCh0KTppLnB1c2godCl9KSksdC5hdHRyaWJ1dGVzLnNzcmNHcm91cHMuZm9yRWFjaCgoZT0+e3ZhciB0O0RuKHQ9ci5tYXAoKGU9PmUuc3NyY0lkKSkpLmNhbGwodCxlLnNzcmNJZHNbMF0pfHxuLnB1c2goZSl9KSksdC5hdHRyaWJ1dGVzLnNzcmNzPWksdC5hdHRyaWJ1dGVzLnNzcmNHcm91cHM9bn0pKX1tdXRlKGUpe2NvbnN0IHQ9dGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5maW5kKCh0PT50LmF0dHJpYnV0ZXMubWlkPT09ZSkpO2lmKCF0KXRocm93IG5ldyBFcnJvcihcIm1lZGlhRGVzY3JpcHRpb24gbm90IGZvdW5kIHdpdGggXCIuY29uY2F0KGUsXCIgaW4gcmVtb3RlIFNEUCB3aGVuIGNhbGxpbmcgUmVtb3RlU0RQLm11dGUuXCIpKTt0LmF0dHJpYnV0ZXMuZGlyZWN0aW9uPVwiaW5hY3RpdmVcIn11bm11dGUoZSl7Y29uc3QgdD10aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmZpbmQoKHQ9PnQuYXR0cmlidXRlcy5taWQ9PT1lKSk7aWYoIXQpdGhyb3cgbmV3IEVycm9yKFwibWVkaWFEZXNjcmlwdGlvbiBub3QgZm91bmQgd2l0aCBcIi5jb25jYXQoZSxcIiBpbiByZW1vdGUgU0RQIHdoZW4gY2FsbGluZyBSZW1vdGVTRFAudW5tdXRlLlwiKSk7dC5hdHRyaWJ1dGVzLmRpcmVjdGlvbj1cInNlbmRvbmx5XCJ9cmVjZWl2ZShlLHQsaSl7ZS5mb3JFYWNoKCgoZSx0KT0+e2NvbnN0IGk9ZS5fbWVkaWFTdHJlYW1UcmFjayxuPXRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMuZmluZEluZGV4KChlPT5lLmF0dHJpYnV0ZXMubWlkPT09aS5raW5kKSkscj10aGlzLm11bmdSZWN2TWVkaWFEc2VjKHRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnNbbl0sZSk7dGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9uc1tuXT1yfSkpfXN0b3BSZWNlaXZpbmcoZSl7fXVwZGF0ZUNhbmRpZGF0ZXMoZSl7ZT09PXFiLlRDUD90aGlzLmNhbmRpZGF0ZXMuZm9yRWFjaCgoZT0+ey0xPT09dGhpcy5jYW5kaWRhdGVzLmZpbmRJbmRleCgodD0+XCJ0Y3BcIj09PXQudHJhbnNwb3J0JiZ0LmNvbm5lY3Rpb25BZGRyZXNzPT09ZS5jb25uZWN0aW9uQWRkcmVzcyYmdC5wb3J0PT09ZS5wb3J0KSkmJnRoaXMuY2FuZGlkYXRlcy5wdXNoKERWKERWKHt9LGUpLHt9LHtmb3VuZGF0aW9uOlwidGNwY2FuZGlkYXRlXCIscHJpb3JpdHk6TnVtYmVyKGUucHJpb3JpdHkpLTErXCJcIix0cmFuc3BvcnQ6XCJ0Y3BcIixwb3J0Ok51bWJlcihlLnBvcnQpKzkwK1wiXCJ9KSl9KSk6dGhpcy5jYW5kaWRhdGVzPXRoaXMuY2FuZGlkYXRlcy5maWx0ZXIoKGU9PlwidGNwXCIhPT1lLnRyYW5zcG9ydCkpO2Zvcihjb25zdCBlIG9mIHRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMpZS5hdHRyaWJ1dGVzLmNhbmRpZGF0ZXM9dGhpcy5jYW5kaWRhdGVzfXJlc3RhcnRJQ0UoZSl7ZT1HdihlKSx0aGlzLmljZVBhcmFtZXRlcnM9ZSx0aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmZvckVhY2goKHQ9Pnt0LmF0dHJpYnV0ZXMuaWNlVWZyYWc9ZS5pY2VVZnJhZyx0LmF0dHJpYnV0ZXMuaWNlUHdkPWUuaWNlUHdkfSkpfXByZWRpY3RSZWNlaXZpbmdNaWRzKGUpe2NvbnN0IHQ9W107Zm9yKGxldCBpPTA7aTxlO2krKyl0LnB1c2goKHRoaXMuY3VycmVudE1pZEluZGV4K2krMSkudG9TdHJpbmcoMTApKTtyZXR1cm4gdH1tdW5nUmVjdk1lZGlhRHNlYyhlLHQpe2NvbnN0IGk9R3YoZSk7cmV0dXJuIFBNKGksdCksa00oaSx0KSxpfXVwZGF0ZVJlY3ZNZWRpYShlLHQpe2NvbnN0IGk9dGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5maW5kSW5kZXgoKHQ9PnQuYXR0cmlidXRlcy5taWQ9PT1lKSk7aWYoLTEhPT1pKXtjb25zdCBlPXRoaXMubXVuZ1JlY3ZNZWRpYURzZWModGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9uc1tpXSx0KTt0aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zW2ldPWV9fWJ1bXBNaWQoZSl7dGhpcy5jdXJyZW50TWlkSW5kZXgrPWV9dXBkYXRlVHJhY2tMYWJlbChlLHQsaSl7Y29uc3Qgbj10aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmZpbmQoKHQ9PmU9PT1ZYi5WSURFTz9cInZpZGVvXCI9PT10LmF0dHJpYnV0ZXMubWlkOlwiYXVkaW9cIj09PXQuYXR0cmlidXRlcy5taWQpKTtpZihuKXtjb25zdCBlPW4uYXR0cmlidXRlcy5zc3Jjcy5maW5kKChlPT5lLmF0dHJpYnV0ZXMubGFiZWw9PT10KSk7dmFyIHI7ZSYmKGUuYXR0cmlidXRlcy5sYWJlbD1pLG51bGw9PT0ocj1lLmF0dHJpYnV0ZXMubXNpZCl8fHZvaWQgMD09PXJ8fHIucmVwbGFjZSh0LGkpKX19bXVuZ01lZGlhRGVzYyhlKXtjb25zdCB0PUd2KGUpO3JldHVybiBMTSh0KSxmdW5jdGlvbihlKXtjb25zdCB0PWUuYXR0cmlidXRlcy5leHRtYXBzLmZpbmQoKGU9PlwiaHR0cDovL3d3dy5pZXRmLm9yZy9pZC9kcmFmdC1ob2xtZXItcm1jYXQtdHJhbnNwb3J0LXdpZGUtY2MtZXh0ZW5zaW9ucy0wMVwiPT09ZS5leHRlbnNpb25OYW1lKSk7dCYmZS5hdHRyaWJ1dGVzLmV4dG1hcHMuc3BsaWNlKGUuYXR0cmlidXRlcy5leHRtYXBzLmluZGV4T2YodCksMSksZS5hdHRyaWJ1dGVzLnBheWxvYWRzLmZvckVhY2goKGU9Pntjb25zdCB0PWUucnRjcEZlZWRiYWNrcy5maW5kSW5kZXgoKGU9PlwidHJhbnNwb3J0LWNjXCI9PT1lLnR5cGUpKTstMSE9PXQmJmUucnRjcEZlZWRiYWNrcy5zcGxpY2UodCwxKX0pKX0odCksdH1nZXRTU1JDKGUpe2Zvcihjb25zdCB0IG9mIHRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMpZm9yKGNvbnN0IGkgb2YgdC5hdHRyaWJ1dGVzLnNzcmNzKWlmKGkuYXR0cmlidXRlcy5sYWJlbD09PWUpcmV0dXJuW2ldfX0oa1Yoa1Yoe30sZSkse30se3J0cENhcGFiaWxpdGllczplLnJ0cENhcGFiaWxpdGllcy5zZW5kLGxvY2FsQ2FwYWJpbGl0aWVzOnRoaXMubG9jYWxDYXBhYmlsaXRpZXMsc2RrQ29kZWM6dGhpcy5zdG9yZS5jb2RlY30pKTtjb25zdCB0PXRoaXMucmVtb3RlU0RQLnRvU3RyaW5nKCk7YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKHRoaXMuaW5pdGlhbE9mZmVyKSxhd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKHt0eXBlOlwiYW5zd2VyXCIsc2RwOnR9KX1jYXRjaChlKXt0aHJvdyBuZXcgcnYobnYuRVhDSEFOR0VfU0RQX0ZBSUxFRCxcIlAyUENvbm5lY3Rpb24uY29ubmVjdCBmYWlsZWQ7IFwiLmNvbmNhdChlLnRvU3RyaW5nKCkpKX19YXN5bmMgdXBkYXRlUmVtb3RlUlRQQ2FwYWJpbGl0aWVzKGUsdCl7dGhyb3cgbmV3IHJ2KG52Lk5PVF9TVVBQT1JURUQsXCJQbGFuYiBtb2RlIGRvZXMgbm90IHN1cHBvcnQgY3JlYXRlRGF0YUNoYW5uZWxzLlwiKX1nZXRQcmVNZWRpYShlKXt9c2VuZChlLHQpe3ZhciBpPXRoaXM7cmV0dXJuIFpVKChmdW5jdGlvbiooKXtjb25zdCBuPXlpZWxkIFdVKGkubXV0ZXgubG9jaygpKTt0cnl7aWYoIWkucmVtb3RlU0RQKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjYWxsIFAyUENvbm5lY3Rpb24uc2VuZCBiZWZvcmUgcmVtb3RlIFNEUCBjcmVhdGVkXCIpO2NvbnN0IHI9ZS5tYXAoKGU9PmkucGVlckNvbm5lY3Rpb24uYWRkVHJhY2soZS5fbWVkaWFTdHJlYW1UcmFjaykpKSxvPXlpZWxkIFdVKGkucGVlckNvbm5lY3Rpb24uY3JlYXRlT2ZmZXIoKSkscz1DTS5wYXJzZShvLnNkcCksYT1lLm1hcCgoZT0+e2NvbnN0IHQ9ZS5fbWVkaWFTdHJlYW1UcmFjayxuPXMubWVkaWFEZXNjcmlwdGlvbnMuZmluZCgoZT0+ZS5hdHRyaWJ1dGVzLm1pZD09PXQua2luZCkpO2lmKCFuKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBleHRyYWN0IHNzcmMgZnJvbSBtZWRpYURlc2NyaXB0aW9uLlwiKTtyZXR1cm4gZnVuY3Rpb24oZSx0LGkpe2NvbnN0IG49ZS5hdHRyaWJ1dGVzLnNzcmNzLmZpbHRlcigoZT0+ZS5hdHRyaWJ1dGVzLmxhYmVsPT09dCkpLHI9ZS5hdHRyaWJ1dGVzLnNzcmNHcm91cHM7aWYoMD09PW4ubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBleHRyYWN0IHNzcmMgZnJvbSBwbGFuLWIgU0RQLlwiKTtpZihyJiZuLmxlbmd0aD4xKXtjb25zdCBlPXIuZmluZCgoZT0+LTEhPT1lLnNzcmNJZHMuaW5kZXhPZihuWzBdLnNzcmNJZCkpKTtyZXR1cm4gZT9be3NzcmNJZDplLnNzcmNJZHNbMF0scnR4Omk/ZS5zc3JjSWRzWzFdOnZvaWQgMH1dOlt7c3NyY0lkOm5bMF0uc3NyY0lkfV19cmV0dXJuW3tzc3JjSWQ6blswXS5zc3JjSWR9XX0obix0LmlkLGkudXNlUlRYKX0pKTtsZXQgYzt0cnl7Yz15aWVsZCBhfWNhdGNoKGUpe3Rocm93IHIuZm9yRWFjaCgoZT0+e1BJKCkmJmUucmVwbGFjZVRyYWNrKG51bGwpLGkucGVlckNvbm5lY3Rpb24ucmVtb3ZlVHJhY2soZSl9KSksZX1jb25zdCBkPWkubXVuZ1NlbmRPZmZlclNEUChvLnNkcCxlKTtpLnJlbW90ZVNEUC5yZWNlaXZlKGUsdCxjKTtjb25zdCBsPWkucmVtb3RlU0RQLnRvU3RyaW5nKCk7cmV0dXJuIHlpZWxkIFdVKGkucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbih7dHlwZTpcIm9mZmVyXCIsc2RwOmR9KSkseWllbGQgV1UoaS5hcHBseVNlbmRFbmNvZGluZ3MocixlKSkseWllbGQgV1UoaS5wZWVyQ29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbih7dHlwZTpcImFuc3dlclwiLHNkcDpsfSkpLGUubWFwKCgoZSx0KT0+e2NvbnN0IGk9ZS5fbWVkaWFTdHJlYW1UcmFjay5pZDtyZXR1cm57bG9jYWxTU1JDOmFbdF0saWQ6aX19KSl9Y2F0Y2goZSl7dGhyb3cgbmV3IHJ2KG52LkVYQ0hBTkdFX1NEUF9GQUlMRUQsXCJQMlBDb25uZWN0aW9uLnNlbmQgZmFpbGVkOyBcIi5jb25jYXQoZS50b1N0cmluZygpKSl9ZmluYWxseXtuKCl9fSkpKCl9YXN5bmMgc3RvcFNlbmRpbmcoZSl7dHJ5e2lmKCF0aGlzLnJlbW90ZVNEUCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY2FsbCBQMlBDb25uZWN0aW9uLnN0b3BTZW5kaW5nIGJlZm9yZSByZW1vdGUgU0RQIGNyZWF0ZWRcIik7Y29uc3QgdD10aGlzLnBlZXJDb25uZWN0aW9uLmdldFNlbmRlcnMoKS5maWx0ZXIoKHQ9Pnt2YXIgaTtyZXR1cm4tMSE9PWUuaW5kZXhPZigobnVsbD09PShpPXQudHJhY2spfHx2b2lkIDA9PT1pP3ZvaWQgMDppLmlkKXx8XCJcIil9KSk7aWYodC5sZW5ndGghPT1lLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJUcmFuc2NlaXZlcnMnIGxlbmd0aCBkb2Vzbid0IG1hdGNoIG1pZHMnIGxlbmd0aCB3aGVuIHRyeWluZyB0byBjYWxsIFAyUENvbm5lY3Rpb24uc3RvcFNlbmRpbmcuXCIpO3QubWFwKChlPT57UEkoKSYmZS5yZXBsYWNlVHJhY2sobnVsbCksdGhpcy5wZWVyQ29ubmVjdGlvbi5yZW1vdmVUcmFjayhlKX0pKTtjb25zdCBpPWF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uY3JlYXRlT2ZmZXIoKTthd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24oaSksdGhpcy5yZW1vdGVTRFAuc3RvcFJlY2VpdmluZyhlKTtjb25zdCBuPXRoaXMucmVtb3RlU0RQLnRvU3RyaW5nKCk7YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbih7dHlwZTpcImFuc3dlclwiLHNkcDpufSl9Y2F0Y2goZSl7dGhyb3cgbmV3IHJ2KG52LkVYQ0hBTkdFX1NEUF9GQUlMRUQsXCJQMlBDb25uZWN0aW9uLnN0b3BTZW5kaW5nIGZhaWxlZDsgXCIuY29uY2F0KGUudG9TdHJpbmcoKSkpfX1hc3luYyByZWNlaXZlKGUsdCxpLG4pe3RyeXtpZighdGhpcy5yZW1vdGVTRFApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNhbGwgUDJQQ29ubmVjdGlvbi5yZWNlaXZlIFwiLmNvbmNhdChlLFwiIGJlZm9yZSByZW1vdGVTRFAgY3JlYXRlZC5cIikpO2NvbnN0e2lkOmksbXNsYWJlbDpyfT10aGlzLnJlbW90ZVNEUC5zZW5kKGUsdCxuKSxvPW5ldyBHaCgoKHQsbik9Pntjb25zdCBvPXNldFRpbWVvdXQoKCgpPT57bihuZXcgRXJyb3IoXCJDYW5ub3QgcmVjZWl2ZSB0cmFjaywgaWQ6IFwiLmNvbmNhdChpKSkpfSksMWU0KSxzPW49Pntjb25zdCBhPUFJKCk7aWYoKFwiU2FmYXJpXCI9PT1hLm5hbWUmJjExPT09TnVtYmVyKGEudmVyc2lvbil8fE1JKCkpJiZuLnRyYWNrLmlkIT09aSYmbi5zdHJlYW1zWzBdLmlkPT09cil7dmFyIGM7Y29uc3Qgcj1uLnN0cmVhbXNbMF0uZ2V0VHJhY2tzKClbMF07cmV0dXJuIG51bGw9PT0oYz10aGlzLnJlbW90ZVNEUCl8fHZvaWQgMD09PWN8fGMudXBkYXRlVHJhY2tMYWJlbChlLGksbi50cmFjay5pZCksdGhpcy5wZWVyQ29ubmVjdGlvbi5yZW1vdmVFdmVudExpc3RlbmVyKFwidHJhY2tcIixzKSxjbGVhclRpbWVvdXQobyksdm9pZCB0KHIpfWlmKG4udHJhY2suaWQ9PT1pKXJldHVybiB0aGlzLnBlZXJDb25uZWN0aW9uLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJ0cmFja1wiLHMpLGNsZWFyVGltZW91dChvKSx2b2lkIHQobi50cmFjayl9O3RoaXMucGVlckNvbm5lY3Rpb24uYWRkRXZlbnRMaXN0ZW5lcihcInRyYWNrXCIscyl9KSkscz10aGlzLnJlbW90ZVNEUC50b1N0cmluZygpO2F3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJvZmZlclwiLHNkcDpzfSk7Y29uc3QgYT1hd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLmNyZWF0ZUFuc3dlcigpO2F3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbihhKTtyZXR1cm57dHJhY2s6YXdhaXQgbyxpZDppfX1jYXRjaChlKXt0aHJvdyBuZXcgcnYobnYuRVhDSEFOR0VfU0RQX0ZBSUxFRCxcIlAyUENvbm5lY3Rpb24ucmVjZWl2ZSBmYWlsZWQ7IFwiLmNvbmNhdChlLnRvU3RyaW5nKCkpKX19YXN5bmMgc3RvcFJlY2VpdmluZyhlKXt0cnl7aWYoIXRoaXMucmVtb3RlU0RQKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjYWxsIFAyUENvbm5lY3Rpb24uc3RvcFJlY2VpdmluZyBiZWZvcmUgcmVtb3RlIFNEUCBjcmVhdGVkLlwiKTt0aGlzLnJlbW90ZVNEUC5zdG9wU2VuZGluZyhlKTtjb25zdCB0PXRoaXMucmVtb3RlU0RQLnRvU3RyaW5nKCk7YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbih7dHlwZTpcIm9mZmVyXCIsc2RwOnR9KTtjb25zdCBpPWF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uY3JlYXRlQW5zd2VyKCk7YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKGkpfWNhdGNoKGUpe3Rocm93IG5ldyBydihudi5FWENIQU5HRV9TRFBfRkFJTEVELFwiUDJQQ29ubmVjdGlvbiBzdG9wUmVjZWl2aW5nIGZhaWxlZDsgXCIuY29uY2F0KGUudG9TdHJpbmcoKSkpfX1hc3luYyBtdXRlUmVtb3RlKGUpe31hc3luYyB1bm11dGVSZW1vdGUoZSl7fWFzeW5jIG11dGVMb2NhbChlKXt0cnl7aWYoIXRoaXMucmVtb3RlU0RQKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjYWxsIFAyUENvbm5lY3Rpb24ubXV0ZUxvY2FsIGJlZm9yZSByZW1vdGUgU0RQIGNyZWF0ZWQuXCIpO2NvbnN0IHQ9dGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRTZW5kZXJzKCkuZmlsdGVyKCh0PT57dmFyIGk7cmV0dXJuLTEhPT1lLmluZGV4T2YoKG51bGw9PT0oaT10LnRyYWNrKXx8dm9pZCAwPT09aT92b2lkIDA6aS5pZCl8fFwiXCIpfSkpO2lmKHQubGVuZ3RoIT09ZS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwic2VuZGVyJyBsZW5ndGggZG9lc24ndCBtYXRjaCBtaWRzJyBsZW5ndGguXCIpO3QubWFwKChlPT57aWYoUEkoKSYmZS50cmFjayllLnRyYWNrLmVuYWJsZWQ9ITE7ZWxzZXtjb25zdCB0PWUuZ2V0UGFyYW1ldGVycygpO3QuZW5jb2RpbmdzLmZvckVhY2goKGU9PmUuYWN0aXZlPSExKSksZS5zZXRQYXJhbWV0ZXJzKHQpfX0pKX1jYXRjaChlKXt0aHJvdyBuZXcgcnYobnYuRVhDSEFOR0VfU0RQX0ZBSUxFRCxcIlAyUENvbm5lY3Rpb24ubXV0ZUxvY2FsIGZhaWxlZDsgXCIuY29uY2F0KGUudG9TdHJpbmcoKSkpfX1hc3luYyB1bm11dGVMb2NhbChlKXt0cnl7aWYoIXRoaXMucmVtb3RlU0RQKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjYWxsIFAyUENvbm5lY3Rpb24udW5tdXRlTG9jYWwgYmVmb3JlIHJlbW90ZSBTRFAgY3JlYXRlZC5cIik7Y29uc3QgdD10aGlzLnBlZXJDb25uZWN0aW9uLmdldFNlbmRlcnMoKS5maWx0ZXIoKHQ9Pnt2YXIgaTtyZXR1cm4tMSE9PWUuaW5kZXhPZigobnVsbD09PShpPXQudHJhY2spfHx2b2lkIDA9PT1pP3ZvaWQgMDppLmlkKXx8XCJcIil9KSk7aWYodC5sZW5ndGghPT1lLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJTZW5kZXJzJyBsZW5ndGggZG9lc24ndCBtYXRjaCBtaWRzJyBsZW5ndGguXCIpO3QubWFwKChhc3luYyBlPT57aWYoUEkoKSYmZS50cmFjayllLnRyYWNrLmVuYWJsZWQ9ITA7ZWxzZXtjb25zdCB0PWUuZ2V0UGFyYW1ldGVycygpO3QuZW5jb2RpbmdzLmZvckVhY2goKGU9PmUuYWN0aXZlPSEwKSksYXdhaXQgZS5zZXRQYXJhbWV0ZXJzKHQpfX0pKTtjb25zdCBpPWF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uY3JlYXRlT2ZmZXIoKTthd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24oaSk7Y29uc3Qgbj10aGlzLnJlbW90ZVNEUC50b1N0cmluZygpO2F3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJhbnN3ZXJcIixzZHA6bn0pfWNhdGNoKGUpe3Rocm93IG5ldyBydihudi5FWENIQU5HRV9TRFBfRkFJTEVELFwiUDJQQ29ubmVjdGlvbi51bm11dGVMb2NhbCBmYWlsZWQ7IFwiLmNvbmNhdChlLnRvU3RyaW5nKCkpKX19cmVzdGFydElDRShlKXt2YXIgdD10aGlzO3JldHVybiBaVSgoZnVuY3Rpb24qKCl7Y29uc3QgaT15aWVsZCBXVSh0Lm11dGV4LmxvY2soXCJGcm9tIFAyUENvbm5lY3Rpb24ucmVzdGFydElDRVwiKSk7dHJ5e2lmKCF0LnJlbW90ZVNEUCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgcmVzdGFydElDRSBiZWZvcmUgcmVtb3RlU0RQIGNyZWF0ZWQuXCIpO2lmKE1EKCkuc3VwcG9ydFBDU2V0Q29uZmlndXJhdGlvbil7Y29uc3QgaT10LnBlZXJDb25uZWN0aW9uLmdldENvbmZpZ3VyYXRpb24oKSxuPWU9PT1xYi5SRUxBWT9cInJlbGF5XCI6XCJhbGxcIjtpLmljZVRyYW5zcG9ydFBvbGljeSE9PW4mJihReS5kZWJ1ZyhcIltcIi5jb25jYXQodC5zdG9yZS5jbGllbnRJZCxcIl0gcmVzdGFydElDRSBjaGFuZ2UgaWNlVHJhbnNwb3J0UG9saWN5IGZyb20gW1wiKS5jb25jYXQoaS5pY2VUcmFuc3BvcnRQb2xpY3ksXCJdIHRvIFtcIikuY29uY2F0KG4sXCJdXCIpKSxpLmljZVRyYW5zcG9ydFBvbGljeT1uLHQucGVlckNvbm5lY3Rpb24uc2V0Q29uZmlndXJhdGlvbihpKSl9ZWxzZSBpZihlPT09cWIuUkVMQVkpcmV0dXJuO2UhPT1xYi5SRUxBWSYmdC5yZW1vdGVTRFAudXBkYXRlQ2FuZGlkYXRlcyhlKTtjb25zdCBuPXlpZWxkIFdVKHQucGVlckNvbm5lY3Rpb24uY3JlYXRlT2ZmZXIoe2ljZVJlc3RhcnQ6ITB9KSk7aWYoIW4uc2RwKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCByZXN0YXJ0SUNFIGJlY2F1c2UgcmVzdGFydCBvZmZlciBTRFAgZG9lcyBub3QgZXhpc3QuXCIpO2NvbnN0IHI9Yk0obi5zZHApLHtyZW1vdGVJY2VQYXJhbWV0ZXJzOm99PXlpZWxkIHIuaWNlUGFyYW1ldGVyczt0LnJlbW90ZVNEUC5yZXN0YXJ0SUNFKG8pO2NvbnN0IHM9dC5yZW1vdGVTRFAudG9TdHJpbmcoKTt5aWVsZCBXVSh0LnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24obikpLHlpZWxkIFdVKHQucGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJhbnN3ZXJcIixzZHA6c30pKX1jYXRjaChlKXtReS53YXJuaW5nKFwiW1wiLmNvbmNhdCh0LnN0b3JlLmNsaWVudElkLFwiXSByZXN0YXJ0IElDRSBmYWlsZWQsIGFib3J0IG9wZXJhdGlvblwiKSxlKX1maW5hbGx5e2koKX19KSkoKX1jbG9zZSgpe3ZhciBlO3RoaXMucGVlckNvbm5lY3Rpb24uY2xvc2UoKSxudWxsPT09KGU9dGhpcy5vbkNvbm5lY3Rpb25TdGF0ZUNoYW5nZSl8fHZvaWQgMD09PWV8fGUuY2FsbCh0aGlzLFwiY2xvc2VkXCIpLHRoaXMudW5iaW5kUENFdmVudHMoKSx0aGlzLnVuYmluZFN0YXRzRXZlbnRzKCksdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoKSx0aGlzLnN0YXRzRmlsdGVyLmRlc3Ryb3koKX1nZXRTdGF0cygpe3JldHVybiB0aGlzLnN0YXRzRmlsdGVyLmdldFN0YXRzKCl9Z2V0UmVtb3RlVmlkZW9Jc1JlYWR5KGUpe3JldHVybiB0aGlzLnN0YXRzRmlsdGVyLmdldFZpZGVvSXNSZWFkeShlKX1hc3luYyB1cGRhdGVFbmNvZGVyQ29uZmlnKGUsdCl7dHJ5e2lmKCF0aGlzLnJlbW90ZVNEUCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY2FsbCBQMlBDb25uZWN0aW9uLnVwZGF0ZUVuY29kZXJDb25maWcgYmVmb3JlIHJlbW90ZSBTRFAgY3JlYXRlZC5cIik7Y29uc3QgZT1hd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLmNyZWF0ZU9mZmVyKCksaT10aGlzLm11bmdTZW5kT2ZmZXJTRFAoZS5zZHAsW3RdKTt0aGlzLnJlbW90ZVNEUC51cGRhdGVSZWN2TWVkaWEodC5fbWVkaWFTdHJlYW1UcmFjay5raW5kLHQpO2NvbnN0IG49dGhpcy5yZW1vdGVTRFAudG9TdHJpbmcoKTthd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24oe3R5cGU6XCJvZmZlclwiLHNkcDppfSksYXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbih7dHlwZTpcImFuc3dlclwiLHNkcDpufSl9Y2F0Y2goZSl7dGhyb3cgbmV3IHJ2KG52LkVYQ0hBTkdFX1NEUF9GQUlMRUQsZS50b1N0cmluZygpKX19YXN5bmMgdXBkYXRlU2VuZFBhcmFtZXRlcnMoZSx0KXtjb25zdCBpPXRoaXMucGVlckNvbm5lY3Rpb24uZ2V0U2VuZGVycygpLmZpbHRlcigodD0+e3ZhciBpO3JldHVybihudWxsPT09KGk9dC50cmFjayl8fHZvaWQgMD09PWk/dm9pZCAwOmkuaWQpPT09ZX0pKTsxPT09aS5sZW5ndGgmJmF3YWl0IHRoaXMuYXBwbHlTZW5kRW5jb2RpbmdzKGksW3RdKX1zZXRTdGF0c1JlbW90ZVZpZGVvSXNSZWFkeShlLHQpe3RoaXMuc3RhdHNGaWx0ZXIuc2V0VmlkZW9Jc1JlYWR5MihlLHQpfWFzeW5jIHJlcGxhY2VUcmFjayhlLHQpe2NvbnN0IGk9dGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRTZW5kZXJzKCkuZmluZCgoZT0+e3ZhciBpO3JldHVybihudWxsPT09KGk9ZS50cmFjayl8fHZvaWQgMD09PWk/dm9pZCAwOmkuaWQpPT09dH0pKTtpJiZhd2FpdCBpLnJlcGxhY2VUcmFjayhlLl9tZWRpYVN0cmVhbVRyYWNrKX1jcmVhdGVEYXRhQ2hhbm5lbHMoZSx0KXt0aHJvdyBuZXcgcnYobnYuTk9UX1NVUFBPUlRFRCxcIlBsYW5iIG1vZGUgZG9lcyBub3Qgc3VwcG9ydCBjcmVhdGVEYXRhQ2hhbm5lbHMuXCIpfXN0b3BEYXRhQ2hhbm5lbHMoZSl7dGhyb3cgbmV3IHJ2KG52Lk5PVF9TVVBQT1JURUQsXCJQbGFuYiBtb2RlIGRvZXMgbm90IHN1cHBvcnQgc3RvcERhdGFDaGFubmVscy5cIil9YmluZFBDRXZlbnRzKCl7dGhpcy5wZWVyQ29ubmVjdGlvbi5vbmljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZT0oKT0+e3ZhciBlO251bGw9PT0oZT10aGlzLm9uSUNFQ29ubmVjdGlvblN0YXRlQ2hhbmdlKXx8dm9pZCAwPT09ZXx8ZS5jYWxsKHRoaXMsdGhpcy5wZWVyQ29ubmVjdGlvbi5pY2VDb25uZWN0aW9uU3RhdGUpfSx0aGlzLnBlZXJDb25uZWN0aW9uLm9uY29ubmVjdGlvbnN0YXRlY2hhbmdlPSgpPT57dmFyIGU7bnVsbD09PShlPXRoaXMub25Db25uZWN0aW9uU3RhdGVDaGFuZ2UpfHx2b2lkIDA9PT1lfHxlLmNhbGwodGhpcyx0aGlzLnBlZXJDb25uZWN0aW9uLmNvbm5lY3Rpb25TdGF0ZSl9LHRoaXMucGVlckNvbm5lY3Rpb24ub25pY2VjYW5kaWRhdGU9ZT0+e2UuY2FuZGlkYXRlP3RoaXMubG9jYWxDYW5kaWRhdGVDb3VudCs9MToodGhpcy5wZWVyQ29ubmVjdGlvbi5vbmljZWNhbmRpZGF0ZT1udWxsLHRoaXMuYWxsQ2FuZGlkYXRlc1JlY2VpdmVkPSEwLFF5LmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbcGMtXCIpLmNvbmNhdCh0aGlzLnN0b3JlLnAycElkLFwiXSBsb2NhbCBjYW5kaWRhdGUgY291bnRcIiksdGhpcy5sb2NhbENhbmRpZGF0ZUNvdW50KSl9LHNldFRpbWVvdXQoKCgpPT57dGhpcy5hbGxDYW5kaWRhdGVzUmVjZWl2ZWR8fCh0aGlzLmFsbENhbmRpZGF0ZXNSZWNlaXZlZD0hMCxReS5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW3BjLVwiKS5jb25jYXQodGhpcy5zdG9yZS5wMnBJZCxcIl0gb25pY2VjYW5kaWRhdGUgdGltZW91dCwgbG9jYWwgY2FuZGlkYXRlIGNvdW50XCIpLHRoaXMubG9jYWxDYW5kaWRhdGVDb3VudCkpfSksRHkoXCJDQU5ESURBVEVfVElNRU9VVFwiKSl9dW5iaW5kUENFdmVudHMoKXt0aGlzLnBlZXJDb25uZWN0aW9uLm9uaWNlY29ubmVjdGlvbnN0YXRlY2hhbmdlPW51bGwsdGhpcy5wZWVyQ29ubmVjdGlvbi5vbmNvbm5lY3Rpb25zdGF0ZWNoYW5nZT1udWxsLHRoaXMucGVlckNvbm5lY3Rpb24ub25zaWduYWxpbmdzdGF0ZWNoYW5nZT1udWxsLHRoaXMucGVlckNvbm5lY3Rpb24ub25pY2VjYW5kaWRhdGVlcnJvcj1udWxsLHRoaXMucGVlckNvbm5lY3Rpb24ub25pY2VjYW5kaWRhdGU9bnVsbCx0aGlzLnBlZXJDb25uZWN0aW9uLm9udHJhY2s9bnVsbH1zdGF0aWMgcmVzb2x2ZVBDQ29uZmlndXJhdGlvbih0KXtjb25zdCBpPXtpY2VTZXJ2ZXJzOltdLHNkcFNlbWFudGljczpcInBsYW4tYlwifTtyZXR1cm4gdC5pY2VTZXJ2ZXJzP2kuaWNlU2VydmVycz10LmljZVNlcnZlcnM6dC50dXJuU2VydmVyJiZcIm9mZlwiIT09dC50dXJuU2VydmVyLm1vZGUmJihidih0LnR1cm5TZXJ2ZXIuc2VydmVycyk/aS5pY2VTZXJ2ZXJzPXQudHVyblNlcnZlci5zZXJ2ZXJzOihpLmljZVNlcnZlcnMmJmkuaWNlU2VydmVycy5wdXNoKC4uLmUudHVyblNlcnZlckNvbmZpZ1RvSWNlU2VydmVycyh0LnR1cm5TZXJ2ZXIuc2VydmVycykpLER5KFwiVVNFX1RVUk5fU0VSVkVSX09GX0dBVEVXQVlcIikmJmkuaWNlU2VydmVycyYmdC50dXJuU2VydmVyLnNlcnZlcnNGcm9tR2F0ZXdheSYmaS5pY2VTZXJ2ZXJzLnB1c2goLi4uZS50dXJuU2VydmVyQ29uZmlnVG9JY2VTZXJ2ZXJzKHQudHVyblNlcnZlci5zZXJ2ZXJzRnJvbUdhdGV3YXkpKSx0LnR1cm5TZXJ2ZXIuc2VydmVycy5jb25jYXQodC50dXJuU2VydmVyLnNlcnZlcnNGcm9tR2F0ZXdheXx8W10pLmZvckVhY2goKGU9PntlLmZvcmNldHVybiYmKGkuaWNlVHJhbnNwb3J0UG9saWN5PVwicmVsYXlcIil9KSkpKSxpfXN0YXRpYyB0dXJuU2VydmVyQ29uZmlnVG9JY2VTZXJ2ZXJzKGUpe2NvbnN0IHQ9W107cmV0dXJuIGUuZm9yRWFjaCgoZT0+e2Uuc2VjdXJpdHk/ZS50Y3Bwb3J0JiZ0LnB1c2goe3VzZXJuYW1lOmUudXNlcm5hbWUsY3JlZGVudGlhbDplLnBhc3N3b3JkLGNyZWRlbnRpYWxUeXBlOlwicGFzc3dvcmRcIix1cmxzOlwidHVybnM6XCIuY29uY2F0KGUudHVyblNlcnZlclVSTCxcIjpcIikuY29uY2F0KGUudGNwcG9ydCxcIj90cmFuc3BvcnQ9dGNwXCIpfSk6KGUudWRwcG9ydCYmdC5wdXNoKHt1c2VybmFtZTplLnVzZXJuYW1lLGNyZWRlbnRpYWw6ZS5wYXNzd29yZCxjcmVkZW50aWFsVHlwZTpcInBhc3N3b3JkXCIsdXJsczpcInR1cm46XCIuY29uY2F0KGUudHVyblNlcnZlclVSTCxcIjpcIikuY29uY2F0KGUudWRwcG9ydCxcIj90cmFuc3BvcnQ9dWRwXCIpfSksZS50Y3Bwb3J0JiZ0LnB1c2goe3VzZXJuYW1lOmUudXNlcm5hbWUsY3JlZGVudGlhbDplLnBhc3N3b3JkLGNyZWRlbnRpYWxUeXBlOlwicGFzc3dvcmRcIix1cmxzOlwidHVybjpcIi5jb25jYXQoZS50dXJuU2VydmVyVVJMLFwiOlwiKS5jb25jYXQoZS50Y3Bwb3J0LFwiP3RyYW5zcG9ydD10Y3BcIil9KSl9KSksdH1hc3luYyB1cGRhdGVSdHBTZW5kZXJFbmNvZGluZ3MoZSx0KXt2YXIgaTtpZighdCl7dD10aGlzLnBlZXJDb25uZWN0aW9uLmdldFNlbmRlcnMoKS5maW5kKCh0PT57dmFyIGk7cmV0dXJuKG51bGw9PT0oaT10LnRyYWNrKXx8dm9pZCAwPT09aT92b2lkIDA6aS5pZCk9PT1lLl9tZWRpYVN0cmVhbVRyYWNrLmlkfSkpfWlmKCF0KXJldHVybiBReS53YXJuKFwiW1wiLmNvbmNhdChlLmdldFRyYWNrSWQoKSxcIl0gbm8gcnRwU2VuZGVyIGZvdW5kfVwiKSk7aWYoIU1EKCkuc3VwcG9ydFNldFJ0cFNlbmRlclBhcmFtZXRlcnMpcmV0dXJuIFF5Lndhcm4oXCJCcm93c2VyIG5vdCBzdXBwb3J0IHNldCBydHAtc2VuZGVyIHBhcmFtZXRlcnNcIik7Y29uc3Qgbj17fSxyPXt9O2lmKGUgaW5zdGFuY2VvZiBIaylzd2l0Y2goZS5fb3B0aW1pemF0aW9uTW9kZSl7Y2FzZVwibW90aW9uXCI6bi5kZWdyYWRhdGlvblByZWZlcmVuY2U9XCJtYWludGFpbi1mcmFtZXJhdGVcIjticmVhaztjYXNlXCJkZXRhaWxcIjpuLmRlZ3JhZGF0aW9uUHJlZmVyZW5jZT1cIm1haW50YWluLXJlc29sdXRpb25cIjticmVhaztkZWZhdWx0Om4uZGVncmFkYXRpb25QcmVmZXJlbmNlPVwiYmFsYW5jZWRcIn1pZihEeShcIkRTQ1BfVFlQRVwiKSYmUUkoKSl7dmFyIG87Y29uc3QgZT1EeShcIkRTQ1BfVFlQRVwiKTtEbihvPVtcInZlcnktbG93XCIsXCJsb3dcIixcIm1lZGl1bVwiLFwiaGlnaFwiXSkuY2FsbChvLGUpJiYoci5uZXR3b3JrUHJpb3JpdHk9ZSl9Y29uc3Qgcz10LmdldFBhcmFtZXRlcnMoKSxhPW51bGw9PT0oaT1zLmVuY29kaW5ncyl8fHZvaWQgMD09PWk/dm9pZCAwOmlbMF07YSYmT2JqZWN0LmFzc2lnbihhLHIpLE9iamVjdC5hc3NpZ24ocyxuKSxReS5kZWJ1ZyhcIltcIi5jb25jYXQoZS5nZXRUcmFja0lkKCksXCJdIHVwZGF0ZVJ0cFNlbmRlckVuY29kaW5nczogXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeShzLmVuY29kaW5ncykpKSxhd2FpdCB0LnNldFBhcmFtZXRlcnMocyl9YXN5bmMgYXBwbHlTZW5kRW5jb2RpbmdzKGUsdCl7dHJ5e2lmKCFNRCgpLnN1cHBvcnRTZXRSdHBTZW5kZXJQYXJhbWV0ZXJzKXJldHVybjtpZihlLmxlbmd0aCE9PXQubGVuZ3RoKXJldHVybjtmb3IobGV0IGk9MDtpPGUubGVuZ3RoO2krKyl7Y29uc3Qgbj1lW2ldLHI9dFtpXTtuJiZyJiZhd2FpdCB0aGlzLnVwZGF0ZVJ0cFNlbmRlckVuY29kaW5ncyhyLG4pfX1jYXRjaChlKXtReS5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gQXBwbHkgUlRQU2VuZEVuY29kaW5ncyBmYWlsZWQuXCIpKX19bXVuZ1NlbmRPZmZlclNEUChlLHQpe2NvbnN0IGk9Q00ucGFyc2UoZSk7cmV0dXJuIHQuZm9yRWFjaCgoKGUsdCk9Pntjb25zdCBuPWUuX21lZGlhU3RyZWFtVHJhY2sscj1pLm1lZGlhRGVzY3JpcHRpb25zLmZpbmQoKGU9PmUuYXR0cmlidXRlcy5taWQ9PT1uLmtpbmQpKTtyJiZQTShyLGUpfSkpLENNLnByaW50KGkpfWJpbmRTdGF0c0V2ZW50cygpe3RoaXMuc3RhdHNGaWx0ZXIub25GaXJzdEF1ZGlvUmVjZWl2ZWQ9ZT0+e3ZhciB0O251bGw9PT0odD10aGlzLm9uRmlyc3RBdWRpb1JlY2VpdmVkKXx8dm9pZCAwPT09dHx8dC5jYWxsKHRoaXMsZSl9LHRoaXMuc3RhdHNGaWx0ZXIub25GaXJzdFZpZGVvUmVjZWl2ZWQ9ZT0+e3ZhciB0O251bGw9PT0odD10aGlzLm9uRmlyc3RWaWRlb1JlY2VpdmVkKXx8dm9pZCAwPT09dHx8dC5jYWxsKHRoaXMsZSl9LHRoaXMuc3RhdHNGaWx0ZXIub25GaXJzdEF1ZGlvRGVjb2RlZD1lPT57dmFyIHQ7bnVsbD09PSh0PXRoaXMub25GaXJzdEF1ZGlvRGVjb2RlZCl8fHZvaWQgMD09PXR8fHQuY2FsbCh0aGlzLGUpfSx0aGlzLnN0YXRzRmlsdGVyLm9uRmlyc3RWaWRlb0RlY29kZWQ9KGUsdCxpKT0+e3ZhciBuO251bGw9PT0obj10aGlzLm9uRmlyc3RWaWRlb0RlY29kZWQpfHx2b2lkIDA9PT1ufHxuLmNhbGwodGhpcyxlLHQsaSl9LHRoaXMuc3RhdHNGaWx0ZXIub25TZWxlY3RlZExvY2FsQ2FuZGlkYXRlQ2hhbmdlZD0oZSx0KT0+e3ZhciBpO251bGw9PT0oaT10aGlzLm9uU2VsZWN0ZWRMb2NhbENhbmRpZGF0ZUNoYW5nZWQpfHx2b2lkIDA9PT1pfHxpLmNhbGwodGhpcyxlLHQpfSx0aGlzLnN0YXRzRmlsdGVyLm9uU2VsZWN0ZWRSZW1vdGVDYW5kaWRhdGVDaGFuZ2VkPShlLHQpPT57dmFyIGk7bnVsbD09PShpPXRoaXMub25TZWxlY3RlZFJlbW90ZUNhbmRpZGF0ZUNoYW5nZWQpfHx2b2lkIDA9PT1pfHxpLmNhbGwodGhpcyxlLHQpfX11bmJpbmRTdGF0c0V2ZW50cygpe3RoaXMuc3RhdHNGaWx0ZXIub25GaXJzdEF1ZGlvUmVjZWl2ZWQ9dm9pZCAwLHRoaXMuc3RhdHNGaWx0ZXIub25GaXJzdFZpZGVvUmVjZWl2ZWQ9dm9pZCAwLHRoaXMuc3RhdHNGaWx0ZXIub25GaXJzdEF1ZGlvRGVjb2RlZD12b2lkIDAsdGhpcy5zdGF0c0ZpbHRlci5vbkZpcnN0VmlkZW9EZWNvZGVkPXZvaWQgMCx0aGlzLnN0YXRzRmlsdGVyLm9uU2VsZWN0ZWRMb2NhbENhbmRpZGF0ZUNoYW5nZWQ9dm9pZCAwLHRoaXMuc3RhdHNGaWx0ZXIub25TZWxlY3RlZFJlbW90ZUNhbmRpZGF0ZUNoYW5nZWQ9dm9pZCAwfWFzeW5jIGJhdGNoUmVjZWl2ZShlKXt0cnl7aWYoIXRoaXMucmVtb3RlU0RQKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjYWxsIFAyUENvbm5lY3Rpb24uYmF0Y2hSZWNlaXZlIGJlZm9yZSByZW1vdGVTRFAgY3JlYXRlZC5cIik7Y29uc3QgdD10aGlzLnJlbW90ZVNEUC5iYXRjaFNlbmQoZSkubWFwKCgodCxpKT0+e2xldHtpZDpuLG1zbGFiZWw6cn09dDtjb25zdHtraW5kOm99PWVbaV07cmV0dXJuIG5ldyBHaCgoKGUsdCk9Pntjb25zdCBpPXNldFRpbWVvdXQoKCgpPT57dChuZXcgRXJyb3IoXCJDYW5ub3QgcmVjZWl2ZSB0cmFjaywgaWQ6IFwiLmNvbmNhdChuKSkpfSksMWU0KSxzPXQ9Pntjb25zdCBhPUFJKCk7aWYoXCJTYWZhcmlcIj09PWEubmFtZSYmMTE9PT1OdW1iZXIoYS52ZXJzaW9uKSYmdC50cmFjay5pZCE9PW4mJnQuc3RyZWFtc1swXS5pZD09PXIpe3ZhciBjO2NvbnN0IHI9dC5zdHJlYW1zWzBdLmdldFRyYWNrcygpWzBdO3JldHVybiBudWxsPT09KGM9dGhpcy5yZW1vdGVTRFApfHx2b2lkIDA9PT1jfHxjLnVwZGF0ZVRyYWNrTGFiZWwobyxuLHQudHJhY2suaWQpLHRoaXMucGVlckNvbm5lY3Rpb24ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRyYWNrXCIscyksY2xlYXJUaW1lb3V0KGkpLHZvaWQgZSh7dHJhY2s6cixpZDpufSl9aWYodC50cmFjay5pZD09PW4pcmV0dXJuIHRoaXMucGVlckNvbm5lY3Rpb24ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInRyYWNrXCIscyksY2xlYXJUaW1lb3V0KGkpLHZvaWQgZSh7dHJhY2s6dC50cmFjayxpZDpufSl9O3RoaXMucGVlckNvbm5lY3Rpb24uYWRkRXZlbnRMaXN0ZW5lcihcInRyYWNrXCIscyl9KSl9KSksaT10aGlzLnJlbW90ZVNEUC50b1N0cmluZygpO2F3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJvZmZlclwiLHNkcDppfSk7Y29uc3Qgbj1hd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLmNyZWF0ZUFuc3dlcigpO3JldHVybiBhd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24obiksYXdhaXQgR2guYWxsKHQpfWNhdGNoKGUpe3Rocm93IG5ldyBydihudi5FWENIQU5HRV9TRFBfRkFJTEVELFwiUDJQQ29ubmVjdGlvbi5yZWNlaXZlIGZhaWxlZDsgXCIuY29uY2F0KGUudG9TdHJpbmcoKSkpfX1hc3luYyBnZXRSZW1vdGVTU1JDKGUpe2lmKCF0aGlzLnJlbW90ZVNEUClyZXR1cm47Y29uc3QgdD10aGlzLnJlbW90ZVNEUC5nZXRTU1JDKGUpO3JldHVybiBudWxsPT10P3ZvaWQgMDp0WzBdLnNzcmNJZH1zZXRDb25maWd1cmF0aW9uKHQpe2lmKE1EKCkuc3VwcG9ydFBDU2V0Q29uZmlndXJhdGlvbil7Y29uc3QgaT1lLnJlc29sdmVQQ0NvbmZpZ3VyYXRpb24odCk7dGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRDb25maWd1cmF0aW9uKGkpfX19LHJiKFBWLnByb3RvdHlwZSxcImNvbm5lY3RcIixbVVZdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoUFYucHJvdG90eXBlLFwiY29ubmVjdFwiKSxQVi5wcm90b3R5cGUpLHJiKFBWLnByb3RvdHlwZSxcInN0b3BTZW5kaW5nXCIsW1VWXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFBWLnByb3RvdHlwZSxcInN0b3BTZW5kaW5nXCIpLFBWLnByb3RvdHlwZSkscmIoUFYucHJvdG90eXBlLFwicmVjZWl2ZVwiLFtVVl0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihQVi5wcm90b3R5cGUsXCJyZWNlaXZlXCIpLFBWLnByb3RvdHlwZSkscmIoUFYucHJvdG90eXBlLFwic3RvcFJlY2VpdmluZ1wiLFtVVl0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihQVi5wcm90b3R5cGUsXCJzdG9wUmVjZWl2aW5nXCIpLFBWLnByb3RvdHlwZSkscmIoUFYucHJvdG90eXBlLFwibXV0ZVJlbW90ZVwiLFtVVl0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihQVi5wcm90b3R5cGUsXCJtdXRlUmVtb3RlXCIpLFBWLnByb3RvdHlwZSkscmIoUFYucHJvdG90eXBlLFwidW5tdXRlUmVtb3RlXCIsW1VWXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFBWLnByb3RvdHlwZSxcInVubXV0ZVJlbW90ZVwiKSxQVi5wcm90b3R5cGUpLHJiKFBWLnByb3RvdHlwZSxcIm11dGVMb2NhbFwiLFtVVl0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihQVi5wcm90b3R5cGUsXCJtdXRlTG9jYWxcIiksUFYucHJvdG90eXBlKSxyYihQVi5wcm90b3R5cGUsXCJ1bm11dGVMb2NhbFwiLFtVVl0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihQVi5wcm90b3R5cGUsXCJ1bm11dGVMb2NhbFwiKSxQVi5wcm90b3R5cGUpLHJiKFBWLnByb3RvdHlwZSxcImNsb3NlXCIsW1VWXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKFBWLnByb3RvdHlwZSxcImNsb3NlXCIpLFBWLnByb3RvdHlwZSkscmIoUFYucHJvdG90eXBlLFwidXBkYXRlRW5jb2RlckNvbmZpZ1wiLFtVVl0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihQVi5wcm90b3R5cGUsXCJ1cGRhdGVFbmNvZGVyQ29uZmlnXCIpLFBWLnByb3RvdHlwZSkscmIoUFYucHJvdG90eXBlLFwidXBkYXRlU2VuZFBhcmFtZXRlcnNcIixbVVZdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoUFYucHJvdG90eXBlLFwidXBkYXRlU2VuZFBhcmFtZXRlcnNcIiksUFYucHJvdG90eXBlKSxyYihQVi5wcm90b3R5cGUsXCJyZXBsYWNlVHJhY2tcIixbVVZdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoUFYucHJvdG90eXBlLFwicmVwbGFjZVRyYWNrXCIpLFBWLnByb3RvdHlwZSkscmIoUFYucHJvdG90eXBlLFwiZ2V0UmVtb3RlU1NSQ1wiLFtVVl0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihQVi5wcm90b3R5cGUsXCJnZXRSZW1vdGVTU1JDXCIpLFBWLnByb3RvdHlwZSksUFYpO2Z1bmN0aW9uIFVWKGUsdCxpKXtjb25zdCBuPWVbdF07aWYoXCJmdW5jdGlvblwiIT10eXBlb2Ygbil0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgdXNlIG11dGV4IG9uIG9iamVjdCBwcm9wZXJ0eS5cIik7cmV0dXJuIGkudmFsdWU9YXN5bmMgZnVuY3Rpb24oKXtjb25zdCBlPXRoaXMubXV0ZXgsaT1hd2FpdCBlLmxvY2soXCJMb2NraW5nIGZyb20gUDJQQ29ubmVjdGlvbi5cIi5jb25jYXQodCkpO3RyeXtmb3IodmFyIHI9YXJndW1lbnRzLmxlbmd0aCxvPW5ldyBBcnJheShyKSxzPTA7czxyO3MrKylvW3NdPWFyZ3VtZW50c1tzXTtyZXR1cm4gYXdhaXQgbi5hcHBseSh0aGlzLG8pfWZpbmFsbHl7aSgpfX0saX1mdW5jdGlvbiB4VihlLHQpe3ZhciBpPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKG49bi5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksaS5wdXNoLmFwcGx5KGksbil9cmV0dXJuIGl9ZnVuY3Rpb24gVlYoZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIGk9bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/eFYoT2JqZWN0KGkpLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtvZyhlLHQsaVt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhpKSk6eFYoT2JqZWN0KGkpKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaSx0KSl9KSl9cmV0dXJuIGV9Y29uc3QgRlY9XCI5XCIsQlY9NGU0O2NsYXNzIGpWe2dldCBsb2NhbENhcGFiaWxpdGllcygpe3JldHVybiBHdih0aGlzLl9sb2NhbENhcGFiaWxpdGllcyl9Z2V0IHJ0cENhcGFiaWxpdGllcygpe3JldHVybiBHdih0aGlzLl9ydHBDYXBhYmlsaXRpZXMpfWdldCBjYW5kaWRhdGVzKCl7cmV0dXJuIEd2KHRoaXMuX2NhbmRpZGF0ZXMpfWdldCBpY2VQYXJhbWV0ZXJzKCl7cmV0dXJuIEd2KHRoaXMuX2ljZVBhcmFtZXRlcnMpfWdldCBkdGxzUGFyYW1ldGVycygpe3JldHVybiBHdih0aGlzLl9kdGxzUGFyYW1ldGVycyl9Y29uc3RydWN0b3IoZSl7b2codGhpcyxcInNlc3Npb25EZXNjXCIsdm9pZCAwKSxvZyh0aGlzLFwiX2xvY2FsQ2FwYWJpbGl0aWVzXCIsdm9pZCAwKSxvZyh0aGlzLFwiX3J0cENhcGFiaWxpdGllc1wiLHZvaWQgMCksb2codGhpcyxcIl9jYW5kaWRhdGVzXCIsdm9pZCAwKSxvZyh0aGlzLFwiX2ljZVBhcmFtZXRlcnNcIix2b2lkIDApLG9nKHRoaXMsXCJfZHRsc1BhcmFtZXRlcnNcIix2b2lkIDApLG9nKHRoaXMsXCJzZXR1cFwiLHZvaWQgMCksb2codGhpcyxcImN1cnJlbnRNaWRJbmRleFwiLHZvaWQgMCksb2codGhpcyxcImNuYW1lXCIsdm9pZCAwKSxvZyh0aGlzLFwiZmlyZWZveFNzcmNNaWRNYXBcIixuZXcgTWFwKSxlPUd2KGUpO2NvbnN0e2ljZVBhcmFtZXRlcnM6dCxkdGxzUGFyYW1ldGVyczppLGNhbmRpZGF0ZXM6bixydHBDYXBhYmlsaXRpZXM6cixzZXR1cDpvLGxvY2FsQ2FwYWJpbGl0aWVzOnMsY25hbWU6YX09ZTt0aGlzLl9ydHBDYXBhYmlsaXRpZXM9cix0aGlzLl9jYW5kaWRhdGVzPW4sdGhpcy5faWNlUGFyYW1ldGVycz10LHRoaXMuX2R0bHNQYXJhbWV0ZXJzPWksdGhpcy5fbG9jYWxDYXBhYmlsaXRpZXM9cyx0aGlzLnNldHVwPW8sdGhpcy5jbmFtZT1hLHRoaXMuc2Vzc2lvbkRlc2M9dGhpcy51cGRhdGVSZW1vdGVSVFBDYXBhYmlsaXRpZXMociksdGhpcy5jdXJyZW50TWlkSW5kZXg9dGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5sZW5ndGgtMX1wcmVsb2FkUmVtb3RlTWVkaWEoZSl7Y29uc3QgdD10aGlzLmNhbmRpZGF0ZXMsaT10aGlzLmR0bHNQYXJhbWV0ZXJzLG49dGhpcy5pY2VQYXJhbWV0ZXJzLHI9dGhpcy5ydHBDYXBhYmlsaXRpZXMuc2VuZDtsZXQgbz10aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmxlbmd0aC0xO2ZvcihsZXQgcz0xO3M8ZTtzKyspe2NvbnN0IGU9MipzKzJlNCxhPTIqcytCVix7c3NyY3M6Yyxzc3JjR3JvdXBzOmR9PURNKFt7c3NyY0lkOmV9XSx0aGlzLmNuYW1lKSx7c3NyY3M6bCxzc3JjR3JvdXBzOnV9PURNKFt7c3NyY0lkOmEscnR4OkR5KFwiVVNFX1NVQl9SVFhcIik/YSsxOnZvaWQgMH1dLHRoaXMuY25hbWUpO3RoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMucHVzaCh7bWVkaWE6e21lZGlhVHlwZTpcInZpZGVvXCIscG9ydDpGVixwcm90b3M6W1wiVURQXCIsXCJUTFNcIixcIlJUUFwiLFwiU0FWUEZcIl0sZm10czpyLnZpZGVvQ29kZWNzLm1hcCgoZT0+ZS5wYXlsb2FkVHlwZS50b1N0cmluZygxMCkpKX0sY29ubmVjdGlvbnM6W3tuZXR0eXBlOlwiSU5cIixhZGRydHlwZTpcIklQNFwiLGFkZHJlc3M6XCIxMjcuMC4wLjFcIn1dLGJhbmR3aWR0aHM6W10sYXR0cmlidXRlczp7aWNlVWZyYWc6bi5pY2VVZnJhZyxpY2VQd2Q6bi5pY2VQd2QsdW5yZWNvZ25pemVkOltdLGNhbmRpZGF0ZXM6dCxleHRtYXBzOnIudmlkZW9FeHRlbnNpb25zLGZpbmdlcnByaW50czppLmZpbmdlcnByaW50cyxpbWFnZWF0dHI6W10sbXNpZHM6W10scmVtb3RlQ2FuZGlkYXRlc0xpc3Q6W10scmlkczpbXSxzc3JjczpsLHNzcmNHcm91cHM6dSxydGNwRmVlZGJhY2tXaWxkY2FyZHM6W10scGF5bG9hZHM6ci52aWRlb0NvZGVjcyxydGNwOntwb3J0OlwiOVwiLG5ldFR5cGU6XCJJTlwiLGFkZHJlc3NUeXBlOlwiSVA0XCIsYWRkcmVzczpcIjAuMC4wLjBcIn0sc2V0dXA6dGhpcy5zZXR1cCxkaXJlY3Rpb246XCJzZW5kb25seVwiLHJ0Y3BNdXg6ITAscnRjcFJzaXplOiEwLG1pZDpcIlwiLmNvbmNhdCgrK28pfX0pLHRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMucHVzaCh7bWVkaWE6e21lZGlhVHlwZTpcImF1ZGlvXCIscG9ydDpGVixwcm90b3M6W1wiVURQXCIsXCJUTFNcIixcIlJUUFwiLFwiU0FWUEZcIl0sZm10czpyLmF1ZGlvQ29kZWNzLm1hcCgoZT0+ZS5wYXlsb2FkVHlwZS50b1N0cmluZygxMCkpKX0sY29ubmVjdGlvbnM6W3tuZXR0eXBlOlwiSU5cIixhZGRydHlwZTpcIklQNFwiLGFkZHJlc3M6XCIxMjcuMC4wLjFcIn1dLGJhbmR3aWR0aHM6W10sYXR0cmlidXRlczp7aWNlVWZyYWc6bi5pY2VVZnJhZyxpY2VQd2Q6bi5pY2VQd2QsdW5yZWNvZ25pemVkOltdLGNhbmRpZGF0ZXM6dCxleHRtYXBzOnIuYXVkaW9FeHRlbnNpb25zLGZpbmdlcnByaW50czppLmZpbmdlcnByaW50cyxpbWFnZWF0dHI6W10sbXNpZHM6W10scmVtb3RlQ2FuZGlkYXRlc0xpc3Q6W10scmlkczpbXSxzc3JjczpjLHNzcmNHcm91cHM6ZCxydGNwRmVlZGJhY2tXaWxkY2FyZHM6W10scGF5bG9hZHM6ci5hdWRpb0NvZGVjcyxydGNwOntwb3J0OlwiOVwiLG5ldFR5cGU6XCJJTlwiLGFkZHJlc3NUeXBlOlwiSVA0XCIsYWRkcmVzczpcIjAuMC4wLjBcIn0sc2V0dXA6dGhpcy5zZXR1cCxkaXJlY3Rpb246XCJzZW5kb25seVwiLHJ0Y3BNdXg6ITAscnRjcFJzaXplOiEwLG1pZDpcIlwiLmNvbmNhdCgrK28pfX0pLHRoaXMuY3VycmVudE1pZEluZGV4Kz0yfXRoaXMudXBkYXRlQnVuZGxlTWlkcygpfXRvU3RyaW5nKCl7cmV0dXJuIENNLnByaW50KHRoaXMuc2Vzc2lvbkRlc2MpfXNlbmQoZSx0LGksbil7Y29uc3R7c3NyY3M6cixzc3JjR3JvdXBzOm99PURNKHQsdGhpcy5jbmFtZSxEeShcIlNZTkNfR1JPVVBcIik/aTp2b2lkIDApLHM9dGhpcy5maW5kUHJlbG9hZE1lZGlhRGVzYyhyKTtpZihzKXtpZihrSSgpJiZ0aGlzLmZpcmVmb3hTc3JjTWlkTWFwLnNldChyWzBdLnNzcmNJZCxzLmF0dHJpYnV0ZXMubWlkKSxuJiYobi50d2NjfHxuLnJlbWIpKXtjb25zdCBlPXRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMuaW5kZXhPZihzKTtyZXR1cm4gdGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9uc1tlXT10aGlzLm11bmdTZW5kTWVkaWFEZXNjKHMsbikse21pZDpzLmF0dHJpYnV0ZXMubWlkLG5lZWRFeGNoYW5nZVNEUDohMH19cmV0dXJue21pZDpzLmF0dHJpYnV0ZXMubWlkLG5lZWRFeGNoYW5nZVNEUDohMX19e2NvbnN0IHQ9dGhpcy5maW5kQXZhaWxhYmxlTWVkaWFJbmRleChlLHIpO2xldCBpO3JldHVybi0xPT09dHx8MT09PXQmJihQSSgpfHxmdW5jdGlvbigpe2NvbnN0IGU9QUkoKTtyZXR1cm4hKGUubmFtZSE9PUNJLkNIUk9NRXx8IWUub3NWZXJzaW9uKSYmTnVtYmVyKGUudmVyc2lvbik8PTkwfSgpKXx8MD09PXQmJkR5KFwiVVNFX1NVQl9SVFhcIil8fFdJKCk/KGk9dGhpcy5jcmVhdGVPclJlY3ljbGVTZW5kTWVkaWEoZSxyLG8sXCJzZW5kb25seVwiLG4pLHRoaXMudXBkYXRlQnVuZGxlTWlkcygpKTooaT1Hdih0aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zW3RdKSxpLmF0dHJpYnV0ZXMuZGlyZWN0aW9uPVwic2VuZG9ubHlcIixpLmF0dHJpYnV0ZXMuc3NyY3M9cixpLmF0dHJpYnV0ZXMuc3NyY0dyb3Vwcz1vLHRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnNbdF09dGhpcy5tdW5nU2VuZE1lZGlhRGVzYyhpLG4pKSxrSSgpJiZ0aGlzLmZpcmVmb3hTc3JjTWlkTWFwLnNldChyWzBdLnNzcmNJZCxpLmF0dHJpYnV0ZXMubWlkKSx7bWlkOmkuYXR0cmlidXRlcy5taWQsbmVlZEV4Y2hhbmdlU0RQOiEwfX19c2VuZERhdGFDaGFubmVsKCl7Y29uc3R7bWVkaWFEZXNjOmUsbmVlZEV4Y2hhbmdlU0RQOnR9PXRoaXMuY3JlYXRlT3JSZWN5Y2xlRGF0YUNoYW5uZWwoKTtyZXR1cm4gdGhpcy51cGRhdGVCdW5kbGVNaWRzKCkse21pZDplLmF0dHJpYnV0ZXMubWlkLG5lZWRFeGNoYW5nZVNEUDp0fX1iYXRjaFNlbmQoZSl7Y29uc3QgdD1lLm1hcCgoZT0+e2xldHtraW5kOnQsc3NyY01zZzppLG1zbGFiZWw6bn09ZTtyZXR1cm4gdGhpcy5zZW5kKHQsaSxuKX0pKSxpPVtdO2xldCBuPSExO3JldHVybiB0LmZvckVhY2goKGU9PntsZXR7bWlkOnQsbmVlZEV4Y2hhbmdlU0RQOnJ9PWU7ciYmKG49ITApLGkucHVzaCh0KX0pKSx7bWlkczppLG5lZWRFeGNoYW5nZVNEUDpufX1zdG9wU2VuZGluZyhlKXtjb25zdCB0PXRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMuZmlsdGVyKCh0PT50LmF0dHJpYnV0ZXMubWlkJiYtMSE9PWUuaW5kZXhPZih0LmF0dHJpYnV0ZXMubWlkKSkpO2lmKHQubGVuZ3RoIT09ZS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwibWVkaWFEZXNjcmlwdGlvbnMnIGxlbmd0aCBkb2Vzbid0IG1hdGNoIG1pZHMnIGxlbmd0aCB3aGVuIGNhbGxpbmcgUmVtb3RlU0RQLnN0b3BTZW5kaW5nLlwiKTt0LmZvckVhY2goKGU9PntcIjBcIj09PWUuYXR0cmlidXRlcy5taWR8fGtJKCl8fFdJKCk/ZS5hdHRyaWJ1dGVzLnNzcmNzPVtdOihlLmF0dHJpYnV0ZXMuc3NyY3M9W10sZS5hdHRyaWJ1dGVzLmRpcmVjdGlvbj1cImluYWN0aXZlXCIsZS5tZWRpYS5wb3J0PVwiMFwiKX0pKSx0aGlzLnVwZGF0ZUJ1bmRsZU1pZHMoKX1tdXRlKGUpe2NvbnN0IHQ9dGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5maW5kKCh0PT50LmF0dHJpYnV0ZXMubWlkPT09ZSkpO2lmKCF0KXRocm93IG5ldyBFcnJvcihcIm1lZGlhRGVzY3JpcHRpb24gbm90IGZvdW5kIHdpdGggXCIuY29uY2F0KGUsXCIgaW4gcmVtb3RlIFNEUCB3aGVuIGNhbGxpbmcgUmVtb3RlU0RQLm11dGUuXCIpKTt0LmF0dHJpYnV0ZXMuZGlyZWN0aW9uPVwiaW5hY3RpdmVcIn11bm11dGUoZSl7Y29uc3QgdD10aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmZpbmQoKHQ9PnQuYXR0cmlidXRlcy5taWQ9PT1lKSk7aWYoIXQpdGhyb3cgbmV3IEVycm9yKFwibWVkaWFEZXNjcmlwdGlvbiBub3QgZm91bmQgd2l0aCBcIi5jb25jYXQoZSxcIiBpbiByZW1vdGUgU0RQIHdoZW4gY2FsbGluZyBSZW1vdGVTRFAudW5tdXRlLlwiKSk7dC5hdHRyaWJ1dGVzLmRpcmVjdGlvbj1cInNlbmRvbmx5XCJ9bXV0ZVJlbW90ZShlKXtjb25zdCB0PXRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMuZmlsdGVyKCh0PT5EbihlKS5jYWxsKGUsdC5hdHRyaWJ1dGVzLm1pZHx8XCJcIikpKTtpZih0Lmxlbmd0aCE9PWUubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIm1lZGlhRGVzY3JpcHRpb25zJyBsZW5ndGggZG9lc24ndCBtYXRjaCBtaWRzJyBsZW5ndGggd2hlbiBjYWxsaW5nIFJlbW90ZVNEUC5tdXRlUmVtb3RlLlwiKTt0LmZvckVhY2goKGU9PntlLmF0dHJpYnV0ZXMuZGlyZWN0aW9uPVwiaW5hY3RpdmVcIn0pKX11bm11dGVSZW1vdGUoZSl7Y29uc3QgdD10aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmZpbHRlcigodD0+RG4oZSkuY2FsbChlLHQuYXR0cmlidXRlcy5taWR8fFwiXCIpKSk7aWYodC5sZW5ndGghPT1lLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJtZWRpYURlc2NyaXB0aW9ucycgbGVuZ3RoIGRvZXNuJ3QgbWF0Y2ggbWlkcycgbGVuZ3RoIHdoZW4gY2FsbGluZyBSZW1vdGVTRFAubXV0ZVJlbW90ZS5cIik7dC5mb3JFYWNoKChlPT57ZS5hdHRyaWJ1dGVzLmRpcmVjdGlvbj1cInJlY3Zvbmx5XCJ9KSl9cmVjZWl2ZShlLHQsaSxuKXtlLmZvckVhY2goKChlLHIpPT57dGhpcy5jcmVhdGVPclJlY3ljbGVSZWN2TWVkaWEoZSxbXSxcInJlY3Zvbmx5XCIsdCxpLG5bcl0pfSkpLHRoaXMudXBkYXRlQnVuZGxlTWlkcygpfXN0b3BSZWNlaXZpbmcoZSl7Y29uc3QgdD10aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmZpbHRlcigodD0+LTEhPT1lLmluZGV4T2YodC5hdHRyaWJ1dGVzLm1pZCkpKTtpZih0Lmxlbmd0aCE9PWUubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIk1lZGlhRGVzY3JpcHRpb25zJyBsZW5ndGggZG9lc24ndCBtYXRjaCBtaWRzJ3MgbGVuZ3RoIHdoZW4gY2FsbGluZyBSZW1vdGVTRFAucmVjZWl2ZS5cIik7dC5mb3JFYWNoKChlPT57ZS5tZWRpYS5wb3J0PVwiMFwiLGUuYXR0cmlidXRlcy5kaXJlY3Rpb249XCJpbmFjdGl2ZVwifSkpLHRoaXMudXBkYXRlQnVuZGxlTWlkcygpfXVwZGF0ZVJlbW90ZVJUUENhcGFiaWxpdGllcyhlKXtjb25zdCB0PXRoaXMuc2Vzc2lvbkRlc2N8fENNLnBhcnNlKFwidj0wXFxubz0tIDAgMCBJTiBJUDQgMTI3LjAuMC4xXFxucz1BZ29yYUdhdGV3YXlcXG50PTAgMFxcbmE9Z3JvdXA6QlVORExFIDAgMVxcbmE9bXNpZC1zZW1hbnRpYzogV01TXFxuYT1pY2UtbGl0ZVxcbm09dmlkZW8gOSBVRFAvVExTL1JUUC9TQVZQRiAwXFxuYz1JTiBJUDQgMTI3LjAuMC4xXFxuYT1ydGNwOjkgSU4gSVA0IDAuMC4wLjBcXG5hPXNlbmRvbmx5XFxuYT1ydGNwLW11eFxcbmE9cnRjcC1yc2l6ZVxcbmE9bWlkOjBcXG5tPWF1ZGlvIDkgVURQL1RMUy9SVFAvU0FWUEYgMFxcbmM9SU4gSVA0IDEyNy4wLjAuMVxcbmE9cnRjcDo5IElOIElQNCAwLjAuMC4wXFxuYT1zZW5kb25seVxcbmE9cnRjcC1tdXhcXG5hPXJ0Y3AtcnNpemVcXG5hPW1pZDoxXFxuXCIpO3RoaXMuX3J0cENhcGFiaWxpdGllcz1lO2NvbnN0IGk9dGhpcy5ydHBDYXBhYmlsaXRpZXMuc2VuZCxuPXRoaXMubG9jYWxDYXBhYmlsaXRpZXMuc2VuZDtmb3IoY29uc3QgZSBvZiB0Lm1lZGlhRGVzY3JpcHRpb25zKXtpZihlLmF0dHJpYnV0ZXMuaWNlVWZyYWc9dGhpcy5faWNlUGFyYW1ldGVycy5pY2VVZnJhZyxlLmF0dHJpYnV0ZXMuaWNlUHdkPXRoaXMuX2ljZVBhcmFtZXRlcnMuaWNlUHdkLGUuYXR0cmlidXRlcy5maW5nZXJwcmludHM9dGhpcy5fZHRsc1BhcmFtZXRlcnMuZmluZ2VycHJpbnRzLGUuYXR0cmlidXRlcy5jYW5kaWRhdGVzPXRoaXMuX2NhbmRpZGF0ZXMsZS5hdHRyaWJ1dGVzLnNldHVwPXRoaXMuc2V0dXAsXCJhcHBsaWNhdGlvblwiPT09ZS5tZWRpYS5tZWRpYVR5cGUmJihlLmF0dHJpYnV0ZXMuc2N0cFBvcnQ9XCI1MDAwXCIpLFwidmlkZW9cIj09PWUubWVkaWEubWVkaWFUeXBlKWlmKDA9PT1pLnZpZGVvQ29kZWNzLmxlbmd0aCl7Y29uc3QgdD1uLnZpZGVvQ29kZWNzLmZpbHRlcigoZT0+e3ZhciB0LGk7cmV0dXJuIG51bGw9PT0odD1lLnJ0cE1hcCl8fHZvaWQgMD09PXQ/dm9pZCAwOkRuKGk9dC5lbmNvZGluZ05hbWUudG9Mb3dlckNhc2UoKSkuY2FsbChpLFwidnA4XCIpfSkpfHxbbi52aWRlb0NvZGVjc1swXV07ZS5tZWRpYS5mbXRzPXQubWFwKChlPT5lLnBheWxvYWRUeXBlLnRvU3RyaW5nKDEwKSkpLGUuYXR0cmlidXRlcy5wYXlsb2Fkcz10LGUuYXR0cmlidXRlcy5leHRtYXBzPVtdfWVsc2UgaWYoZS5tZWRpYS5mbXRzPWkudmlkZW9Db2RlY3MubWFwKChlPT5lLnBheWxvYWRUeXBlLnRvU3RyaW5nKDEwKSkpLGUuYXR0cmlidXRlcy5wYXlsb2Fkcz1pLnZpZGVvQ29kZWNzLGUuYXR0cmlidXRlcy5leHRtYXBzPWkudmlkZW9FeHRlbnNpb25zLER5KFwiUFJFTE9BRF9NRURJQV9DT1VOVFwiKT4wKXtjb25zdHtzc3Jjczp0LHNzcmNHcm91cHM6aX09RE0oW3tzc3JjSWQ6QlYscnR4OkR5KFwiVVNFX1NVQl9SVFhcIik/NDAwMDE6dm9pZCAwfV0sdGhpcy5jbmFtZSk7ZS5hdHRyaWJ1dGVzLnNzcmNzPXQsZS5hdHRyaWJ1dGVzLnNzcmNHcm91cHM9aX1pZihcImF1ZGlvXCI9PT1lLm1lZGlhLm1lZGlhVHlwZSlpZigwPT09aS5hdWRpb0NvZGVjcy5sZW5ndGgpe2NvbnN0IHQ9bi5hdWRpb0NvZGVjcy5maWx0ZXIoKGU9Pnt2YXIgdCxpO3JldHVybiBudWxsPT09KHQ9ZS5ydHBNYXApfHx2b2lkIDA9PT10P3ZvaWQgMDpEbihpPXQuZW5jb2RpbmdOYW1lLnRvTG93ZXJDYXNlKCkpLmNhbGwoaSxcIm9wdXNcIil9KSl8fFtuLmF1ZGlvQ29kZWNzWzBdXTtlLm1lZGlhLmZtdHM9dC5tYXAoKGU9PmUucGF5bG9hZFR5cGUudG9TdHJpbmcoMTApKSksZS5hdHRyaWJ1dGVzLnBheWxvYWRzPXQsZS5hdHRyaWJ1dGVzLmV4dG1hcHM9W119ZWxzZSBpZihlLm1lZGlhLmZtdHM9aS5hdWRpb0NvZGVjcy5tYXAoKGU9PmUucGF5bG9hZFR5cGUudG9TdHJpbmcoMTApKSksZS5hdHRyaWJ1dGVzLnBheWxvYWRzPWkuYXVkaW9Db2RlY3MsZS5hdHRyaWJ1dGVzLmV4dG1hcHM9aS5hdWRpb0V4dGVuc2lvbnMsR00oZSksRHkoXCJQUkVMT0FEX01FRElBX0NPVU5UXCIpPjApe2NvbnN0e3NzcmNzOnQsc3NyY0dyb3VwczppfT1ETShbe3NzcmNJZDoyZTR9XSx0aGlzLmNuYW1lKTtlLmF0dHJpYnV0ZXMuc3NyY3M9dCxlLmF0dHJpYnV0ZXMuc3NyY0dyb3Vwcz1pfX1yZXR1cm4gdGhpcy5zZXNzaW9uRGVzYz10LHRoaXMuY3VycmVudE1pZEluZGV4PXQubWVkaWFEZXNjcmlwdGlvbnMubGVuZ3RoLTEsdGhpcy5zZXNzaW9uRGVzY311cGRhdGVDYW5kaWRhdGVzKGUpe2NvbnN0IHQ9dGhpcy5fY2FuZGlkYXRlcy5maWx0ZXIoKGU9PlwidWRwXCI9PT1lLnRyYW5zcG9ydCkpO2lmKGU9PT1xYi5UQ1Ape2lmKDA9PT10Lmxlbmd0aClyZXR1cm47aWYoRHkoXCJUQ1BfQ0FORElEQVRFX09OTFlcIikpe2NvbnN0IGU9dGhpcy5fY2FuZGlkYXRlcy5maWx0ZXIoKGU9PlwidGNwXCI9PT1lLnRyYW5zcG9ydCkpO3QuZm9yRWFjaCgodD0+ey0xPT09ZS5maW5kSW5kZXgoKGU9PmUuY29ubmVjdGlvbkFkZHJlc3M9PT10LmNvbm5lY3Rpb25BZGRyZXNzKSkmJmUucHVzaChWVihWVih7fSx0KSx7fSx7Zm91bmRhdGlvbjpcInRjcGNhbmRpZGF0ZVwiLHByaW9yaXR5Ok51bWJlcih0LnByaW9yaXR5KS0xK1wiXCIsdHJhbnNwb3J0OlwidGNwXCIscG9ydDpOdW1iZXIodC5wb3J0KSs5MCtcIlwifSkpfSkpLHRoaXMuX2NhbmRpZGF0ZXM9ZX1lbHNle2NvbnN0IGU9W107dC5mb3JFYWNoKCh0PT57ZS5wdXNoKFZWKFZWKHt9LHQpLHt9LHtmb3VuZGF0aW9uOlwidGNwY2FuZGlkYXRlXCIscHJpb3JpdHk6TnVtYmVyKHQucHJpb3JpdHkpLTErXCJcIix0cmFuc3BvcnQ6XCJ0Y3BcIixwb3J0Ok51bWJlcih0LnBvcnQpKzkwK1wiXCJ9KSl9KSksdGhpcy5fY2FuZGlkYXRlcz1bLi4udCwuLi5lXX19ZWxzZSBpZihlPT09cWIuUkVMQVkpe2lmKDAhPT10Lmxlbmd0aClyZXR1cm47e2NvbnN0IGU9dGhpcy5fY2FuZGlkYXRlcy5maWx0ZXIoKGU9PlwidGNwXCI9PT1lLnRyYW5zcG9ydCkpO2UuZm9yRWFjaCgoZT0+e3QucHVzaChWVihWVih7fSxlKSx7fSx7Zm91bmRhdGlvbjpcInVkcGNhbmRpZGF0ZVwiLHByaW9yaXR5Ok51bWJlcihlLnByaW9yaXR5KSsxK1wiXCIsdHJhbnNwb3J0OlwidWRwXCIscG9ydDpOdW1iZXIoZS5wb3J0KS05MCtcIlwifSkpfSkpLHRoaXMuX2NhbmRpZGF0ZXM9Wy4uLnQsLi4uZV19fWVsc2UgaWYoMD09PXQubGVuZ3RoKXt0aGlzLl9jYW5kaWRhdGVzLmZpbHRlcigoZT0+XCJ0Y3BcIj09PWUudHJhbnNwb3J0KSkuZm9yRWFjaCgoZT0+e3QucHVzaChWVihWVih7fSxlKSx7fSx7Zm91bmRhdGlvbjpcInVkcGNhbmRpZGF0ZVwiLHByaW9yaXR5Ok51bWJlcihlLnByaW9yaXR5KSsxK1wiXCIsdHJhbnNwb3J0OlwidWRwXCIscG9ydDpOdW1iZXIoZS5wb3J0KS05MCtcIlwifSkpfSkpLHRoaXMuX2NhbmRpZGF0ZXM9dH1lbHNlIHRoaXMuX2NhbmRpZGF0ZXM9dGhpcy5fY2FuZGlkYXRlcy5maWx0ZXIoKGU9PlwidGNwXCIhPT1lLnRyYW5zcG9ydCkpO2Zvcihjb25zdCBlIG9mIHRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMpZS5hdHRyaWJ1dGVzLmNhbmRpZGF0ZXM9dGhpcy5jYW5kaWRhdGVzfXJlc3RhcnRJQ0UoZSl7ZT1HdihlKSx0aGlzLl9pY2VQYXJhbWV0ZXJzPWUsdGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5mb3JFYWNoKCh0PT57dC5hdHRyaWJ1dGVzLmljZVVmcmFnPWUuaWNlVWZyYWcsdC5hdHRyaWJ1dGVzLmljZVB3ZD1lLmljZVB3ZH0pKX1wcmVkaWN0UmVjZWl2aW5nTWlkcyhlKXtjb25zdCB0PVtdO2ZvcihsZXQgaT0wO2k8ZTtpKyspdC5wdXNoKCh0aGlzLmN1cnJlbnRNaWRJbmRleCtpKzEpLnRvU3RyaW5nKDEwKSk7cmV0dXJuIHR9ZmluZEF2YWlsYWJsZU1lZGlhSW5kZXgoZSx0KXtyZXR1cm4gdGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5maW5kSW5kZXgoKGk9Pntjb25zdCBuPWkubWVkaWEubWVkaWFUeXBlPT09ZSYmXCIwXCIhPT1pLm1lZGlhLnBvcnQmJihcInNlbmRvbmx5XCI9PT1pLmF0dHJpYnV0ZXMuZGlyZWN0aW9ufHxcInNlbmRyZWN2XCI9PT1pLmF0dHJpYnV0ZXMuZGlyZWN0aW9uKSYmMD09PWkuYXR0cmlidXRlcy5zc3Jjcy5sZW5ndGg7aWYoa0koKSl7aWYobil7Y29uc3QgZT10aGlzLmZpcmVmb3hTc3JjTWlkTWFwLmdldCh0WzBdLnNzcmNJZCk7cmV0dXJuIShlfHxcIjBcIiE9PWkuYXR0cmlidXRlcy5taWQmJlwiMVwiIT09aS5hdHRyaWJ1dGVzLm1pZCl8fCEoIWV8fGUhPT1pLmF0dHJpYnV0ZXMubWlkKX1yZXR1cm4hMX1yZXR1cm4gbn0pKX1jcmVhdGVPclJlY3ljbGVEYXRhQ2hhbm5lbCgpe2Zvcihjb25zdCBlIG9mIHRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMpaWYoXCJhcHBsaWNhdGlvblwiPT09ZS5tZWRpYS5tZWRpYVR5cGUpcmV0dXJue21lZGlhRGVzYzplLG5lZWRFeGNoYW5nZVNEUDohMX07dGhpcy5jdXJyZW50TWlkSW5kZXgrPTE7Y29uc3QgZT1cIlwiLmNvbmNhdCh0aGlzLmN1cnJlbnRNaWRJbmRleCksdD17bWVkaWE6e21lZGlhVHlwZTpcImFwcGxpY2F0aW9uXCIscG9ydDpGVixwcm90b3M6W1wiVURQXCIsXCJEVExTXCIsXCJTQ1RQXCJdLGZtdHM6W1wid2VicnRjLWRhdGFjaGFubmVsXCJdfSxjb25uZWN0aW9uczpbe25ldHR5cGU6XCJJTlwiLGFkZHJ0eXBlOlwiSVA0XCIsYWRkcmVzczpcIjEyNy4wLjAuMVwifV0sYmFuZHdpZHRoczpbXSxhdHRyaWJ1dGVzOntpY2VVZnJhZzp0aGlzLmljZVBhcmFtZXRlcnMuaWNlVWZyYWcsaWNlUHdkOnRoaXMuaWNlUGFyYW1ldGVycy5pY2VQd2QsdW5yZWNvZ25pemVkOltdLGNhbmRpZGF0ZXM6dGhpcy5jYW5kaWRhdGVzLGV4dG1hcHM6W10sZmluZ2VycHJpbnRzOnRoaXMuZHRsc1BhcmFtZXRlcnMuZmluZ2VycHJpbnRzLGltYWdlYXR0cjpbXSxtc2lkczpbXSxyZW1vdGVDYW5kaWRhdGVzTGlzdDpbXSxyaWRzOltdLHNzcmNzOltdLHNzcmNHcm91cHM6W10scnRjcEZlZWRiYWNrV2lsZGNhcmRzOltdLHBheWxvYWRzOltdLHJ0Y3A6e3BvcnQ6XCI5XCIsbmV0VHlwZTpcIklOXCIsYWRkcmVzc1R5cGU6XCJJUDRcIixhZGRyZXNzOlwiMC4wLjAuMFwifSxzZXR1cDp0aGlzLnNldHVwLG1pZDpcIlwiLmNvbmNhdChlKSxzY3RwUG9ydDpcIjUwMDBcIn19O3JldHVybiB0aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLnB1c2godCkse21lZGlhRGVzYzp0LG5lZWRFeGNoYW5nZVNEUDohMH19Y3JlYXRlT3JSZWN5Y2xlUmVjdk1lZGlhKGUsdCxpLG4scixvKXtjb25zdCBzPWUuX21lZGlhU3RyZWFtVHJhY2sua2luZCxhPXRoaXMucnRwQ2FwYWJpbGl0aWVzLnJlY3YsYz1XTShzLGEsdGhpcy5sb2NhbENhcGFiaWxpdGllcy5zZW5kLHM9PT1ZYi5WSURFTz9uOnIpLGQ9cz09PVliLlZJREVPP2EudmlkZW9FeHRlbnNpb25zOmEuYXVkaW9FeHRlbnNpb25zO3RoaXMuY3VycmVudE1pZEluZGV4Kz0xO2NvbnN0IGw9XCJcIi5jb25jYXQodGhpcy5jdXJyZW50TWlkSW5kZXgpO2xldCB1PXttZWRpYTp7bWVkaWFUeXBlOnMscG9ydDpGVixwcm90b3M6W1wiVURQXCIsXCJUTFNcIixcIlJUUFwiLFwiU0FWUEZcIl0sZm10czpjLm1hcCgoZT0+ZS5wYXlsb2FkVHlwZS50b1N0cmluZygxMCkpKX0sY29ubmVjdGlvbnM6W3tuZXR0eXBlOlwiSU5cIixhZGRydHlwZTpcIklQNFwiLGFkZHJlc3M6XCIxMjcuMC4wLjFcIn1dLGJhbmR3aWR0aHM6W10sYXR0cmlidXRlczp7aWNlVWZyYWc6dGhpcy5pY2VQYXJhbWV0ZXJzLmljZVVmcmFnLGljZVB3ZDp0aGlzLmljZVBhcmFtZXRlcnMuaWNlUHdkLHVucmVjb2duaXplZDpbXSxjYW5kaWRhdGVzOnRoaXMuY2FuZGlkYXRlcyxleHRtYXBzOmQsZmluZ2VycHJpbnRzOnRoaXMuZHRsc1BhcmFtZXRlcnMuZmluZ2VycHJpbnRzLGltYWdlYXR0cjpbXSxtc2lkczpbXSxyZW1vdGVDYW5kaWRhdGVzTGlzdDpbXSxyaWRzOltdLHNzcmNzOnQsc3NyY0dyb3VwczpbXSxydGNwRmVlZGJhY2tXaWxkY2FyZHM6W10scGF5bG9hZHM6YyxydGNwOntwb3J0OlwiOVwiLG5ldFR5cGU6XCJJTlwiLGFkZHJlc3NUeXBlOlwiSVA0XCIsYWRkcmVzczpcIjAuMC4wLjBcIn0sc2V0dXA6dGhpcy5zZXR1cCxkaXJlY3Rpb246aSxydGNwTXV4OiEwLHJ0Y3BSc2l6ZTohMCxtaWQ6XCJcIi5jb25jYXQobCl9fTt1PXRoaXMubXVuZ1JlY3ZNZWRpYURzZWModSxlLG8pO2NvbnN0IGg9dGhpcy5maW5kRmlyc3RDbG9zZWRNZWRpYShzKTtpZihoKXtjb25zdCBlPXRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMuaW5kZXhPZihoKTt0aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zW2VdPXV9ZWxzZSB0aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLnB1c2godSk7cmV0dXJuIHV9dXBkYXRlUmVtb3RlQ29kZWMoZSx0LGkpe2NvbnN0IG49Wy4uLm5ldyBTZXQodGhpcy5fcnRwQ2FwYWJpbGl0aWVzLnJlY3YudmlkZW9Db2RlY3MubWFwKChlPT5lLnJ0cE1hcCYmZS5ydHBNYXAuZW5jb2RpbmdOYW1lLnRvTG93ZXJDYXNlKCl8fFwiXCIpKS5maWx0ZXIoKGU9Pnt2YXIgdDtyZXR1cm4gRG4odD1PYmplY3Qua2V5cyhNeSkpLmNhbGwodCxlKX0pKSldLHI9bmV3IFNldCh0KTtpZihuLmV2ZXJ5KChlPT5yLmhhcyhlKSkpKXJldHVybiBReS5kZWJ1ZyhcImNvZGVjcyBoYXMgbm90IGNoYW5nZWQsIG5vIG5lZWQgdG8gdXBkYXRlUmVtb3RlQ29kZWMsIGNvZGVjczogXCIuY29uY2F0KHQpKSwhMTtjb25zdCBvPXRoaXMuX3J0cENhcGFiaWxpdGllcy5yZWN2LnZpZGVvQ29kZWNzLmZpbHRlcigoZT0+dC5zb21lKCh0PT57dmFyIGk7cmV0dXJuIERuKGk9ZS5ydHBNYXAmJmUucnRwTWFwLmVuY29kaW5nTmFtZS50b0xvd2VyQ2FzZSgpfHxcIlwiKS5jYWxsKGksdCl9KSkpKTtpZigwPT09by5sZW5ndGgpcmV0dXJuIFF5LmRlYnVnKFwidXBkYXRlUmVtb3RlQ29kZWMgZmFpbGVkLCBiZWNhdXNlIGNhbm5vdCBmaW5kIG1hdGNoZWQgY29kZWMsIHJlbW90ZUNhcGFiaWxpdGllcyBjb2RlY3M6IFwiLmNvbmNhdChuLFwiIGNvZGVjczogXCIpLmNvbmNhdCh0KSksITE7Y29uc3Qgcz1bLi4ubmV3IFNldChvLm1hcCgoZT0+ZS5ydHBNYXAmJmUucnRwTWFwLmVuY29kaW5nTmFtZS50b0xvd2VyQ2FzZSgpfHxcIlwiKSkpXTtsZXQgYTtpZihReS5kZWJ1ZyhcInVwZGF0ZVJlbW90ZUNvZGVjLCBmcm9tIFwiLmNvbmNhdChuLFwiIHRvIFwiKS5jb25jYXQocykpLDA9PT1lLmxlbmd0aClhPXRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMuZmlsdGVyKChlPT5cInZpZGVvXCI9PT1lLm1lZGlhLm1lZGlhVHlwZSYmXCJyZWN2b25seVwiPT09ZS5hdHRyaWJ1dGVzLmRpcmVjdGlvbikpO2Vsc2UgaWYoYT10aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmZpbHRlcigodD0+dC5hdHRyaWJ1dGVzLm1pZCYmRG4oZSkuY2FsbChlLHQuYXR0cmlidXRlcy5taWQpJiZcInJlY3Zvbmx5XCI9PT10LmF0dHJpYnV0ZXMuZGlyZWN0aW9uKSksYS5sZW5ndGghPT1lLmxlbmd0aClyZXR1cm4gUXkuZGVidWcoXCJ1cGRhdGVSZW1vdGVDb2RlYyBmYWlsZWQsIGJlY2F1c2UgY2Fubm90IGZpbmQgbWlkcywgbWlkczogXCIuY29uY2F0KGUsXCIsIGNvZGVjczogXCIpLmNvbmNhdCh0KSksITE7aWYoRHkoXCJVU0VfUFVCX1JUWFwiKXx8RHkoXCJVU0VfU1VCX1JUWFwiKSl7Y29uc3QgZT1ITShvLHRoaXMucnRwQ2FwYWJpbGl0aWVzLnJlY3YudmlkZW9Db2RlY3MpO28ucHVzaCguLi5lKX10aGlzLl9ydHBDYXBhYmlsaXRpZXMucmVjdi52aWRlb0NvZGVjcz1vO2NvbnN0IGM9dGhpcy5sb2NhbENhcGFiaWxpdGllcy5zZW5kLGQ9dGhpcy5ydHBDYXBhYmlsaXRpZXMucmVjdixsPVdNKFliLlZJREVPLGQsYyxpKTtyZXR1cm4gYS5mb3JFYWNoKChlPT57Y29uc3QgdD1sLm1hcCgoZT0+ZS5wYXlsb2FkVHlwZS50b1N0cmluZygxMCkpKTtReS5kZWJ1ZyhcInVwZGF0ZVJlbW90ZUNvZGVjIG1pZDogXCIuY29uY2F0KGUuYXR0cmlidXRlcy5taWQsXCIsIGZyb20gXCIpLmNvbmNhdChlLmF0dHJpYnV0ZXMucGF5bG9hZHMsXCIgdG8gXCIpLmNvbmNhdChsKSksZS5hdHRyaWJ1dGVzLnBheWxvYWRzPWwsZS5tZWRpYS5mbXRzPXR9KSksITB9Y3JlYXRlT3JSZWN5Y2xlU2VuZE1lZGlhKGUsdCxpLG4scil7Y29uc3Qgbz10aGlzLnJ0cENhcGFiaWxpdGllcy5zZW5kLHM9ZT09PVliLlZJREVPP28udmlkZW9Db2RlY3M6by5hdWRpb0NvZGVjcyxhPWU9PT1ZYi5WSURFTz9vLnZpZGVvRXh0ZW5zaW9uczpvLmF1ZGlvRXh0ZW5zaW9uczt0aGlzLmN1cnJlbnRNaWRJbmRleCs9MTtjb25zdCBjPVwiXCIuY29uY2F0KHRoaXMuY3VycmVudE1pZEluZGV4KTtsZXQgZD17bWVkaWE6e21lZGlhVHlwZTplLHBvcnQ6RlYscHJvdG9zOltcIlVEUFwiLFwiVExTXCIsXCJSVFBcIixcIlNBVlBGXCJdLGZtdHM6cy5tYXAoKGU9PmUucGF5bG9hZFR5cGUudG9TdHJpbmcoMTApKSl9LGNvbm5lY3Rpb25zOlt7bmV0dHlwZTpcIklOXCIsYWRkcnR5cGU6XCJJUDRcIixhZGRyZXNzOlwiMTI3LjAuMC4xXCJ9XSxiYW5kd2lkdGhzOltdLGF0dHJpYnV0ZXM6e2ljZVVmcmFnOnRoaXMuaWNlUGFyYW1ldGVycy5pY2VVZnJhZyxpY2VQd2Q6dGhpcy5pY2VQYXJhbWV0ZXJzLmljZVB3ZCx1bnJlY29nbml6ZWQ6W10sY2FuZGlkYXRlczp0aGlzLmNhbmRpZGF0ZXMsZXh0bWFwczphLGZpbmdlcnByaW50czp0aGlzLmR0bHNQYXJhbWV0ZXJzLmZpbmdlcnByaW50cyxpbWFnZWF0dHI6W10sbXNpZHM6W10scmVtb3RlQ2FuZGlkYXRlc0xpc3Q6W10scmlkczpbXSxzc3Jjczp0LHNzcmNHcm91cHM6aSxydGNwRmVlZGJhY2tXaWxkY2FyZHM6W10scGF5bG9hZHM6cyxydGNwOntwb3J0OlwiOVwiLG5ldFR5cGU6XCJJTlwiLGFkZHJlc3NUeXBlOlwiSVA0XCIsYWRkcmVzczpcIjAuMC4wLjBcIn0sc2V0dXA6dGhpcy5zZXR1cCxkaXJlY3Rpb246bixydGNwTXV4OiEwLHJ0Y3BSc2l6ZTohMCxtaWQ6XCJcIi5jb25jYXQoYyl9fTtkPXRoaXMubXVuZ1NlbmRNZWRpYURlc2MoZCxyKTtjb25zdCBsPXRoaXMuZmluZEZpcnN0Q2xvc2VkTWVkaWEoZSk7aWYobCl7Y29uc3QgZT10aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmluZGV4T2YobCk7dGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9uc1tlXT1kfWVsc2UgdGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5wdXNoKGQpO3JldHVybiBkfXVwZGF0ZUJ1bmRsZU1pZHMoKXt0aGlzLnNlc3Npb25EZXNjLmF0dHJpYnV0ZXMuZ3JvdXBzWzBdLmlkZW50aWZpY2F0aW9uVGFnPXRoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnMuZmlsdGVyKChlPT5cIjBcIiE9PWUubWVkaWEucG9ydCkpLm1hcCgoZT0+ZS5hdHRyaWJ1dGVzLm1pZCkpfW11bmdSZWN2TWVkaWFEc2VjKGUsdCxpKXtjb25zdCBuPUd2KGUpO3JldHVybiBMTShuKSxQTShuLHQpLGtNKG4sdCksTU0obiksVU0obixpLHRoaXMubG9jYWxDYXBhYmlsaXRpZXMuc2VuZCksbn1tdW5nU2VuZE1lZGlhRGVzYyhlLHQpe2NvbnN0IGk9R3YoZSk7cmV0dXJuIFVNKGksdCx0aGlzLmxvY2FsQ2FwYWJpbGl0aWVzLnJlY3YpLEdNKGkpLGl9dXBkYXRlUmVjdk1lZGlhKGUsdCl7Y29uc3QgaT10aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmZpbmRJbmRleCgodD0+dC5hdHRyaWJ1dGVzLm1pZD09PWUpKTtpZigtMSE9PWkpe2NvbnN0IGU9dGhpcy5tdW5nUmVjdk1lZGlhRHNlYyh0aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zW2ldLHQpO3RoaXMuc2Vzc2lvbkRlc2MubWVkaWFEZXNjcmlwdGlvbnNbaV09ZX19YnVtcE1pZChlKXt0aGlzLmN1cnJlbnRNaWRJbmRleCs9ZX1maW5kRmlyc3RDbG9zZWRNZWRpYShlKXtyZXR1cm4gdGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5maW5kKCh0PT5rSSgpP1wiMFwiPT09dC5tZWRpYS5wb3J0JiZ0Lm1lZGlhLm1lZGlhVHlwZT09PWU6XCIwXCI9PT10Lm1lZGlhLnBvcnQpKX1maW5kUHJlbG9hZE1lZGlhRGVzYyhlKXtyZXR1cm4gdGhpcy5zZXNzaW9uRGVzYy5tZWRpYURlc2NyaXB0aW9ucy5maW5kKCh0PT57dmFyIGk7cmV0dXJuKG51bGw9PT0oaT10LmF0dHJpYnV0ZXMpfHx2b2lkIDA9PT1pfHxudWxsPT09KGk9aS5zc3Jjc1swXSl8fHZvaWQgMD09PWk/dm9pZCAwOmkuc3NyY0lkKT09PWVbMF0uc3NyY0lkfSkpfWdldFNTUkMoZSl7dmFyIHQ7cmV0dXJuIG51bGw9PT0odD10aGlzLnNlc3Npb25EZXNjLm1lZGlhRGVzY3JpcHRpb25zLmZpbmQoKHQ9PnQuYXR0cmlidXRlcy5taWQ9PT1lKSkpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmF0dHJpYnV0ZXMuc3NyY3N9fWZ1bmN0aW9uIEdWKGUsdCl7dmFyIGk9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYobj1uLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxpLnB1c2guYXBwbHkoaSxuKX1yZXR1cm4gaX1mdW5jdGlvbiBXVihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgaT1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9HVihPYmplY3QoaSksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe29nKGUsdCxpW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKGkpKTpHVihPYmplY3QoaSkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpLHQpKX0pKX1yZXR1cm4gZX1sZXQgSFY9ZnVuY3Rpb24oZSl7cmV0dXJuIGUuQkFORFdJRFRIPVwiYmFuZHdpZHRoXCIsZS5DUFU9XCJjcHVcIixlLk5PTkU9XCJub25lXCIsZS5PVEhFUj1cIm90aGVyXCIsZX0oe30pO3ZhciBLVj1mdW5jdGlvbihlKXtyZXR1cm4gZVtlLkRPV049MF09XCJET1dOXCIsZVtlLlVQPTFdPVwiVVBcIixlfShLVnx8e30pO2NvbnN0IFlWPW5ldyBNYXA7ZnVuY3Rpb24gcVYoZSx0LGksbil7bGV0e3NjYWxlOnJ9PWU7aWYoMD09PXImJm49PT1LVi5VUHx8cj49dC5sZW5ndGgtMSYmbj09PUtWLkRPV04pcmV0dXJuIGU7bGV0IG89V1YoV1Yoe30sZSkse30se3NjYWxlOm49PT1LVi5ET1dOPysrcjotLXJ9KTtzd2l0Y2goaSl7Y2FzZVwibWFpbnRhaW4tZnJhbWVyYXRlXCI6bz1XVihXVih7fSxvKSx0W3JdLm1vdGlvbik7YnJlYWs7Y2FzZVwibWFpbnRhaW4tcmVzb2x1dGlvblwiOm89V1YoV1Yoe30sbyksdFtyXS5kZXRhaWwpO2JyZWFrO2Nhc2VcImJhbGFuY2VkXCI6bz1XVihXVih7fSxvKSx0W3JdLmJhbGFuY2VkKX1yZXR1cm4gb31mdW5jdGlvbiB6VihlLHQpe2lmKHQpe2NvbnN0IGk9e292ZXJVc2U6MCx1bmRlclVzZTowLGFkYXB0YXRpb25MaXN0OkpWKHQpfTtZVi5zZXQoZSxpKX1lbHNlIFlWLmRlbGV0ZShlKX1mdW5jdGlvbiBKVihlKXtjb25zdCB0PVdWKHt9LGUpLHtiaXRyYXRlTWF4OmksZnJhbWVSYXRlOm4sc2NhbGVSZXNvbHV0aW9uRG93bkJ5OnIsYml0cmF0ZU1pbjpvfT10LHtNSU5fRlJBTUVfUkFURTpzLE1BWF9USFJFU0hPTERfRlJBTUVSQVRFOmEsTUFYX1NDQUxFOmMsQklUUkFURV9NSU5fVEhSRVNIT0xEOmQsQklUUkFURV9NQVhfVEhSRVNIT0xEOmwsQldFX1NDQUxFX1VQX1RIUkVTSE9MRDp1LEJXRV9TQ0FMRV9ET1dOX1RIUkVTSE9MRDpoLFBFUkZfU0NBTEVfRE9XTl9USFJFU0hPTEQ6cCxQRVJGX1NDQUxFX1VQX1RIUkVTSE9MRDpfLEJBTEFOQ0VfQklUUkFURV9GQUNUT1I6RSxCQUxBTkNFX0ZSQU1FUkFURV9GQUNUT1I6bSxCQUxBTkNFX1JFU09MVVRJT05fRkFDVE9SOmYsTU9USU9OX1JFU09MVVRJT05fRkFDVE9SOlQsTU9USU9OX0JJVFJBVEVfRkFDVE9SOlMsREVUQUlMX0ZSQU1FUkFURV9GQUNUT1I6ZyxERVRBSUxfQklUUkFURV9GQUNUT1I6Un09YnksQz1NYXRoLm1pbih0LmZyYW1lUmF0ZSxhKSxJPVt7c2NhbGU6MCx0aHJlc2hvbGQ6e2J3ZV9kb3duOk1hdGgucm91bmQoTWF0aC5wb3coaCwxKSppKSxid2VfdXA6aSxmcHNfZG93bjpNYXRoLnJvdW5kKE1hdGgucG93KHAsMSkqQyksZnBzX3VwOm59LGJhbGFuY2VkOntzY2FsZVJlc29sdXRpb25Eb3duQnk6MSxmcmFtZVJhdGU6bixiaXRyYXRlTWF4OmksYml0cmF0ZU1pbjpvfSxtb3Rpb246e3NjYWxlUmVzb2x1dGlvbkRvd25CeToxLGZyYW1lUmF0ZTpuLGJpdHJhdGVNYXg6aSxiaXRyYXRlTWluOm99LGRldGFpbDp7c2NhbGVSZXNvbHV0aW9uRG93bkJ5OjEsZnJhbWVSYXRlOm4sYml0cmF0ZU1heDppLGJpdHJhdGVNaW46b319XTtmb3IobGV0IGU9MTtlPD1jO2UrKyl7Y29uc3QgdD17YndlX3VwOk1hdGgucm91bmQoTWF0aC5wb3codSxlKSppKSxid2VfZG93bjpNYXRoLnJvdW5kKE1hdGgucG93KGgsZSsxKSppKSxmcHNfdXA6TWF0aC5yb3VuZChNYXRoLnBvdyhfLGUpKkMpLGZwc19kb3duOk1hdGgucm91bmQoTWF0aC5wb3cocCxlKzEpKkMpfSxhPXtzY2FsZVJlc29sdXRpb25Eb3duQnk6ci9NYXRoLnBvdyhmLGUpLGZyYW1lUmF0ZTpNYXRoLm1heChNYXRoLnJvdW5kKE1hdGgucG93KG0sZSkqbikscyksYml0cmF0ZU1heDpNYXRoLm1heChNYXRoLnJvdW5kKE1hdGgucG93KEUsZSkqaSksbCksYml0cmF0ZU1pbjpNYXRoLm1heChNYXRoLnJvdW5kKE1hdGgucG93KEUsZSkqbyksZCl9LGM9e3NjYWxlUmVzb2x1dGlvbkRvd25CeTpyL01hdGgucG93KFQsZSksZnJhbWVSYXRlOm4sYml0cmF0ZU1heDpNYXRoLm1heChNYXRoLnJvdW5kKE1hdGgucG93KFMsZSkqaSksbCksYml0cmF0ZU1pbjpNYXRoLm1heChNYXRoLnJvdW5kKE1hdGgucG93KFMsZSkqbyksZCl9LHY9e3NjYWxlUmVzb2x1dGlvbkRvd25CeToxLGZyYW1lUmF0ZTpNYXRoLm1heChNYXRoLnJvdW5kKE1hdGgucG93KGcsZSkqbikscyksYml0cmF0ZU1heDpNYXRoLm1heChNYXRoLnJvdW5kKE1hdGgucG93KFIsZSkqaSksbCksYml0cmF0ZU1pbjpNYXRoLm1heChNYXRoLnJvdW5kKE1hdGgucG93KFIsZSkqbyksZCl9O0kucHVzaCh7c2NhbGU6ZSx0aHJlc2hvbGQ6dCxiYWxhbmNlZDphLG1vdGlvbjpjLGRldGFpbDp2fSl9cmV0dXJuIEl9ZnVuY3Rpb24gWFYoZSx0LGksbixyLG8pe2NvbnN0IHM9WVYuZ2V0KGUpfHx7b3ZlclVzZTowLHVuZGVyVXNlOjAsYWRhcHRhdGlvbkxpc3Q6SlYocil9LHthZGFwdGF0aW9uTGlzdDphfT1zO1lWLnNldChlLHMpO2NvbnN0e09WRVJVU0VfVElNRVNfVEhSRVNIT0xEOmMsVU5ERVJVU0VfVElNRVNfVEhSRVNIT0xEOmR9PWJ5LHtzY2FsZTpsfT1uO2xldCB1LGg7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIHQmJnQ+MCYmZnVuY3Rpb24oZSx0LGksbil7aWYodD49aS5sZW5ndGgpcmV0dXJuITE7bGV0e3RocmVzaG9sZDp7ZnBzX2Rvd246cn19PWlbdF07cmV0dXJuIER5KFwiRk9SQ0VfQUdfSElHSF9GUkFNRVJBVEVcIikmJlwibWFpbnRhaW4tZnJhbWVyYXRlXCI9PT1uJiYocj1pWzBdLnRocmVzaG9sZC5mcHNfZG93biksZTxyfSh0LGwsYSxvKSYmKHMub3ZlclVzZSsrLGg9SFYuQ1BVLHMub3ZlclVzZT5jKXx8XCJudW1iZXJcIj09dHlwZW9mIGkmJmk+MCYmZnVuY3Rpb24oZSx0LGkpe2lmKHQ+PWkubGVuZ3RoKXJldHVybiExO2NvbnN0e3RocmVzaG9sZDp7YndlX2Rvd246bn19PWlbdF07cmV0dXJuIGU8bn0oaSxsLGEpJiYocy5vdmVyVXNlKyssaD1IVi5CQU5EV0lEVEgscy5vdmVyVXNlPmMpPyhzLm92ZXJVc2U9MCxzLnVuZGVyVXNlPTAsdT1xVihuLGEsbyxLVi5ET1dOKSxbdSxoXSk6KFwibnVtYmVyXCI9PXR5cGVvZiB0JiZ0PjAmJlwibnVtYmVyXCI9PXR5cGVvZiBpJiZpPjAmJmZ1bmN0aW9uKGUsdCxpLG4pe2lmKDA9PT10KXJldHVybjtsZXR7dGhyZXNob2xkOntmcHNfdXA6cn19PWlbdF07cmV0dXJuIER5KFwiRk9SQ0VfQUdfSElHSF9GUkFNRVJBVEVcIikmJlwibWFpbnRhaW4tZnJhbWVyYXRlXCI9PT1uJiYocj1pWzFdLnRocmVzaG9sZC5mcHNfdXApLGU+cn0odCxsLGEsbykmJmZ1bmN0aW9uKGUsdCxpKXtpZigwPT09dClyZXR1cm47Y29uc3R7dGhyZXNob2xkOntid2VfdXA6bn19PWlbdF07cmV0dXJuIGU+bn0oaSxsLGEpJiYocy51bmRlclVzZSsrLHMudW5kZXJVc2U+ZCYmKHMub3ZlclVzZT0wLHMudW5kZXJVc2U9MCx1PXFWKG4sYSxvLEtWLlVQKSwwPT09dS5zY2FsZSYmKGg9SFYuTk9ORSkpKSxbdSxoXSl9ZnVuY3Rpb24gUVYoZSx0KXt2YXIgaT1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihuPW4uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLGkucHVzaC5hcHBseShpLG4pfXJldHVybiBpfWZ1bmN0aW9uIFpWKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBpPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP1FWKE9iamVjdChpKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7b2coZSx0LGlbdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoaSkpOlFWKE9iamVjdChpKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGksdCkpfSkpfXJldHVybiBlfWZ1bmN0aW9uICRWKGUpe3ZhciB0O3JldHVybiEhRHkoXCJFTkFCTEVfQUdfQURBUFRBVElPTlwiKSYmKCEhKGUgaW5zdGFuY2VvZiBLa3x8RG4odD1lLl9oaW50cykuY2FsbCh0LGVQLkNVU1RPTV9UUkFDSykpJiYoISFEeShcIkZPUkNFX1NVUFBPUlRfQUdfQURBUFRBVElPTlwiKXx8ISEoZnVuY3Rpb24oZSl7Y29uc3QgdD1BSSgpO2lmKHQub3MhPT1SSS5JT1N8fCF0Lm9zVmVyc2lvbilyZXR1cm4hMTtjb25zdCBpPXQub3NWZXJzaW9uLnNwbGl0KFwiLlwiKTtyZXR1cm4gTnVtYmVyKGlbMF0pPj1lfSgxNCkmJkJJKDE3LDQsITApfHxGSSgxNCkmJmpJKDE3LDQsITApKSkpfWNvbnN0IGVGPW5ldyBNYXA7ZnVuY3Rpb24gdEYoZSx0KXtjb25zdCBpPWVGLmdldChlKTtpZihpKXtjb25zdHt0aW1lcjp0fT1pO3dpbmRvdy5jbGVhclRpbWVvdXQodCksZUYuZGVsZXRlKGUpfXQucXVhbGl0eUxpbWl0YXRpb25SZWFzb249SFYuTk9ORSx6VihlKX12YXIgaUY7ZnVuY3Rpb24gbkYoZSx0KXt2YXIgaT1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihuPW4uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLGkucHVzaC5hcHBseShpLG4pfXJldHVybiBpfWZ1bmN0aW9uIHJGKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBpPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP25GKE9iamVjdChpKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7b2coZSx0LGlbdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoaSkpOm5GKE9iamVjdChpKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGksdCkpfSkpfXJldHVybiBlfWxldCBvRj0oaUY9Y2xhc3MgZSBleHRlbmRzIEtie2dldCBjdXJyZW50TG9jYWxEZXNjcmlwdGlvbigpe3JldHVybiB0aGlzLnBlZXJDb25uZWN0aW9uLmN1cnJlbnRMb2NhbERlc2NyaXB0aW9ufWdldCBjdXJyZW50UmVtb3RlRGVzY3JpcHRpb24oKXtyZXR1cm4gdGhpcy5wZWVyQ29ubmVjdGlvbi5jdXJyZW50UmVtb3RlRGVzY3JpcHRpb259Z2V0IHBlZXJDb25uZWN0aW9uU3RhdGUoKXtyZXR1cm4gdGhpcy5wZWVyQ29ubmVjdGlvbi5jb25uZWN0aW9uU3RhdGV9Z2V0IGljZUNvbm5lY3Rpb25TdGF0ZSgpe3JldHVybiB0aGlzLnBlZXJDb25uZWN0aW9uLmljZUNvbm5lY3Rpb25TdGF0ZX1nZXQgZHRsc1RyYW5zcG9ydFN0YXRlKCl7dmFyIGUsdDtyZXR1cm4gbnVsbCE9PShlPW51bGw9PT0odD10aGlzLnBlZXJDb25uZWN0aW9uLmdldFJlY2VpdmVycygpWzBdKXx8dm9pZCAwPT09dHx8bnVsbD09PSh0PXQudHJhbnNwb3J0KXx8dm9pZCAwPT09dD92b2lkIDA6dC5zdGF0ZSkmJnZvaWQgMCE9PWU/ZTpudWxsfWdldCBsb2NhbENvZGVjcygpe3JldHVyblsuLi5uZXcgU2V0KHRoaXMubG9jYWxDYXBhYmlsaXRpZXMmJnRoaXMubG9jYWxDYXBhYmlsaXRpZXMuc2VuZC52aWRlb0NvZGVjcy5tYXAoKGU9PmUucnRwTWFwJiZlLnJ0cE1hcC5lbmNvZGluZ05hbWUudG9Mb3dlckNhc2UoKXx8XCJcIikpLmZpbHRlcigoZT0+e3ZhciB0O3JldHVybiBEbih0PU9iamVjdC5rZXlzKE15KSkuY2FsbCh0LGUpfSkpKV19Y29uc3RydWN0b3IodCxpKXtzdXBlcih0LGkpLG9nKHRoaXMsXCJzdG9yZVwiLHZvaWQgMCksb2codGhpcyxcInBlZXJDb25uZWN0aW9uXCIsdm9pZCAwKSxvZyh0aGlzLFwiaWRcIixleSg1LFwiY29ubmVjdGlvbi1cIikpLG9nKHRoaXMsXCJyZW1vdGVTRFBcIix2b2lkIDApLG9nKHRoaXMsXCJpbml0aWFsT2ZmZXJcIix2b2lkIDApLG9nKHRoaXMsXCJ0cmFuc3BvcnRFdmVudFJlY2VpdmVyXCIsdm9pZCAwKSxvZyh0aGlzLFwic3RhdHNGaWx0ZXJcIix2b2lkIDApLG9nKHRoaXMsXCJleHRlbnNpb25cIix7dXNlWFI6RHkoXCJVU0VfWFJcIil9KSxvZyh0aGlzLFwibG9jYWxDYXBhYmlsaXRpZXNcIix2b2lkIDApLG9nKHRoaXMsXCJyZW1vdGVDb2RlY3NcIix2b2lkIDApLG9nKHRoaXMsXCJsb2NhbENhbmRpZGF0ZUNvdW50XCIsMCksb2codGhpcyxcImFsbENhbmRpZGF0ZXNSZWNlaXZlZFwiLCExKSxvZyh0aGlzLFwiaXNQcmVhbGxvY2F0aW9uXCIsITEpLG9nKHRoaXMsXCJwcmVTU1JDTWFwXCIsbmV3IE1hcCksb2codGhpcyxcImRhdGFTdHJlYW1DaGFubmVsTWFwXCIsbmV3IE1hcCksb2codGhpcyxcImVzdGFibGlzaFByb21pc2VcIix2b2lkIDApLG9nKHRoaXMsXCJyZWNvdmVyZWREYXRhQ2hhbm5lbElkc1wiLFtdKSxvZyh0aGlzLFwiY3VycmVudERhdGFDaGFubmVsSWRcIiwxKSxvZyh0aGlzLFwibXV0ZXhcIixuZXcgaHkoXCJQMlBDb25uZWN0aW9uLW11dGV4XCIpKSxvZyh0aGlzLFwicXVhbGl0eUxpbWl0YXRpb25SZWFzb25cIixIVi5OT05FKSx0aGlzLnN0b3JlPWksdGhpcy5wZWVyQ29ubmVjdGlvbj1uZXcgUlRDUGVlckNvbm5lY3Rpb24oZS5yZXNvbHZlUENDb25maWd1cmF0aW9uKHQpLHtvcHRpb25hbDpbe2dvb2dEc2NwOiEwfV19KSx0aGlzLnN0YXRzRmlsdGVyPUR4KHRoaXMucGVlckNvbm5lY3Rpb24sRHkoXCJTVEFUU19VUERBVEVfSU5URVJWQUxcIiksdm9pZCAwLGtJKCk/MTIwMDp2b2lkIDApLHRoaXMuYmluZFBDRXZlbnRzKCksdGhpcy5iaW5kU3RhdHNFdmVudHMoKSx0aGlzLnN0b3JlLnAycElkPXRoaXMuc3RvcmUucDJwSWQrMSx0aGlzLmVzdGFibGlzaFByb21pc2U9dGhpcy5lc3RhYmxpc2goKX1nZXRQcmVNZWRpYShlKXtjb25zdCB0PXRoaXMucHJlU1NSQ01hcC5nZXQoZSk7aWYodm9pZCAwIT09dCl7Y29uc3QgZT10aGlzLnBlZXJDb25uZWN0aW9uLmdldFRyYW5zY2VpdmVycygpLmZpbmQoKGU9PmUubWlkPT09dCkpO2lmKGUpcmV0dXJue3RyYW5zY2VpdmVyOmUsdHJhY2s6ZS5yZWNlaXZlci50cmFjayxpZDp0fX19YXN5bmMgdXBkYXRlUmVtb3RlUlRQQ2FwYWJpbGl0aWVzKGUsdCl7aWYodGhpcy5yZW1vdGVDb2RlY3M9dCwhdGhpcy5yZW1vdGVTRFApcmV0dXJuIHZvaWQgUXkuZGVidWcoXCJbUDJQQ29ubmVjdGlvbl0gY2Fubm90IHVwZGF0ZVJlbW90ZVJUUENhcGFiaWxpdGllcyBiZWZvcmUgcmVtb3RlIFNEUCBjcmVhdGVkLCBsb2NhbCBjb2RlY3M6IFwiLmNvbmNhdCh0aGlzLmxvY2FsQ29kZWNzLFwiLCBjb2RlY3M6IFwiKS5jb25jYXQodCkpO2lmKHRoaXMucmVtb3RlU0RQLnVwZGF0ZVJlbW90ZUNvZGVjKGUsdCx0aGlzLnN0b3JlLmNvZGVjKSl7Y29uc3QgZT1hd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLmNyZWF0ZU9mZmVyKCksdD10aGlzLmxvZ1NEUEV4Y2hhbmdlKGUuc2RwfHxcIlwiLFwib2ZmZXJcIixcImxvY2FsXCIsXCJtdXRlTG9jYWxcIik7YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKGUpO2NvbnN0IGk9dGhpcy5yZW1vdGVTRFAudG9TdHJpbmcoKTtudWxsPT10fHx0KGkpLGF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJhbnN3ZXJcIixzZHA6aX0pfWVsc2UgUXkuZGVidWcoXCJbUDJQQ29ubmVjdGlvbl0gdXBkYXRlUmVtb3RlUlRQQ2FwYWJpbGl0aWVzIG5vIG5lZWQgdG8gZXhjaGFuZ2UgU0RQLlwiKX1hc3luYyBlc3RhYmxpc2goKXt0cnl7dGhpcy5wZWVyQ29ubmVjdGlvbi5hZGRUcmFuc2NlaXZlcihcInZpZGVvXCIse2RpcmVjdGlvbjpcInJlY3Zvbmx5XCJ9KSx0aGlzLnBlZXJDb25uZWN0aW9uLmFkZFRyYW5zY2VpdmVyKFwiYXVkaW9cIix7ZGlyZWN0aW9uOlwicmVjdm9ubHlcIn0pO2NvbnN0IGU9YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5jcmVhdGVPZmZlcigpO2lmKCFlLnNkcCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZ2V0IGluaXRpYWxPZmZlci5zZHAgd2hlbiB0cnlpbmcgdG8gZXN0YWJsaXNoIFBlZXJDb25uZWN0aW9uLlwiKTtjb25zdCB0PWJNKGUuc2RwKSxpPWF3YWl0IFZNKHtmaWx0ZXJSVFg6IUR5KFwiVVNFX1BVQl9SVFhcIikmJiFEeShcIlVTRV9TVUJfUlRYXCIpLGZpbHRlclZpZGVvRmVjOkR5KFwiRklMVEVSX1ZJREVPX0ZFQ1wiKSxmaWx0ZXJBdWRpb0ZlYzpEeShcIkZJTFRFUl9BVURJT19GRUNcIiksZmlsdGVyVmlkZW9Db2RlYzpEeShcIkZJTFRFUl9WSURFT19DT0RFQ1wiKX0sdGhpcy5leHRlbnNpb24pO3JldHVybiB0aGlzLmxvY2FsQ2FwYWJpbGl0aWVzPWpNKGkpLHRoaXMuaW5pdGlhbE9mZmVyPWUsckYockYoe30sdCkse30se3J0cENhcGFiaWxpdGllczppLG9mZmVyU0RQOmUuc2RwfSl9Y2F0Y2goZSl7dGhyb3cgbmV3IHJ2KG52LkdFVF9MT0NBTF9DT05ORUNUSU9OX1BBUkFNU19GQUlMRUQsZS50b1N0cmluZygpKX19YXN5bmMgY29ubmVjdChlKXt0cnl7aWYoIXRoaXMuaW5pdGlhbE9mZmVyKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBlc3RhYmxpc2ggUDJQQ29ubmVjdGlvbiB3aXRob3V0IGluaXRpYWwgb2ZmZXIuXCIpO3RoaXMucmVtb3RlU0RQPW5ldyBqVihyRihyRih7fSxlKSx7fSx7bG9jYWxDYXBhYmlsaXRpZXM6dGhpcy5sb2NhbENhcGFiaWxpdGllc30pKSxlLnByZWFsbG9jYXRpb24mJih0aGlzLmlzUHJlYWxsb2NhdGlvbj0hMCksQXJyYXkuaXNBcnJheSh0aGlzLnJlbW90ZUNvZGVjcykmJnRoaXMucmVtb3RlQ29kZWNzLmxlbmd0aD4wJiZ0aGlzLnJlbW90ZVNEUC51cGRhdGVSZW1vdGVDb2RlYyhbXSx0aGlzLnJlbW90ZUNvZGVjcyx0aGlzLnN0b3JlLmNvZGVjKTtjb25zdCB0PXRoaXMucmVtb3RlU0RQLnRvU3RyaW5nKCksaT1ZTSh0aGlzLmluaXRpYWxPZmZlci5zZHAsdGhpcy5leHRlbnNpb24pLG49dGhpcy5sb2dTRFBFeGNoYW5nZShpfHxcIlwiLFwib2ZmZXJcIixcImxvY2FsXCIsXCJjb25uZWN0XCIpO3RoaXMuc3RvcmUuZGVzY3JpcHRpb25TdGFydCgpLGF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbih7dHlwZTpcIm9mZmVyXCIsc2RwOml9KSxudWxsPT1ufHxuKHQpLGF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJhbnN3ZXJcIixzZHA6dH0pO2NvbnN0IHI9dGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRUcmFuc2NlaXZlcnMoKVswXTtpZihudWxsIT1yJiZyLnJlY2VpdmVyJiZ0aGlzLnRyeUJpbmRUcmFuc3BvcnRFdmVudHMoci5yZWNlaXZlciksRHkoXCJQUkVMT0FEX01FRElBX0NPVU5UXCIpPjApe3RoaXMucmVtb3RlU0RQLnByZWxvYWRSZW1vdGVNZWRpYShEeShcIlBSRUxPQURfTUVESUFfQ09VTlRcIikpO2NvbnN0IGU9dGhpcy5yZW1vdGVTRFAudG9TdHJpbmcoKTthd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKHt0eXBlOlwib2ZmZXJcIixzZHA6ZX0pO2NvbnN0IHQ9YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5jcmVhdGVBbnN3ZXIoKTthd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24odCl9Y29uc3R7cHJlU1NSQ3M6b309ZTtpZihBcnJheS5pc0FycmF5KG8pJiZvLmxlbmd0aD4wKXtjb25zdHttaWRzOmV9PXRoaXMucmVtb3RlU0RQLmJhdGNoU2VuZChvLm1hcCgoZT0+KHtraW5kOmUua2luZCxzc3JjTXNnOlt7c3NyY0lkOmUuc3NyY0lkLHJ0eDplLnJ0eH1dLG1zbGFiZWw6ZS5tc2xhYmVsfSkpKSk7ZS5mb3JFYWNoKCgoZSx0KT0+e3RoaXMucHJlU1NSQ01hcC5zZXQob1t0XS5zc3JjSWQsZSl9KSksYXdhaXQgS00odGhpcy5wZWVyQ29ubmVjdGlvbix0aGlzLnJlbW90ZVNEUCx0aGlzLmV4dGVuc2lvbiksUXkuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFtQMlBDb25uZWN0aW9uXSBwcmUtYmF0Y2hSZWNlaXZlIGV4Y2hhbmdlIFNEUC5cIikpfX1jYXRjaChlKXt0aHJvdyBuZXcgcnYobnYuRVhDSEFOR0VfU0RQX0ZBSUxFRCxcIlAyUENvbm5lY3Rpb24uY29ubmVjdCBmYWlsZWQ7IFwiLmNvbmNhdChlLnRvU3RyaW5nKCkpKX19YXN5bmMgdXBkYXRlUmVtb3RlQ29ubmVjdChlKXt0cnl7aWYoIXRoaXMucmVtb3RlU0RQKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjYWxsIFAyUENvbm5lY3Rpb24udXBkYXRlUmVtb3RlQ29ubmVjdCBiZWZvcmUgcmVtb3RlIFNEUCBjcmVhdGVkXCIpO2NvbnN0e3J0cENhcGFiaWxpdGllczp0fT1lO3RoaXMucmVtb3RlU0RQLnVwZGF0ZVJlbW90ZVJUUENhcGFiaWxpdGllcyh0KSxBcnJheS5pc0FycmF5KHRoaXMucmVtb3RlQ29kZWNzKSYmdGhpcy5yZW1vdGVDb2RlY3MubGVuZ3RoPjAmJnRoaXMucmVtb3RlU0RQLnVwZGF0ZVJlbW90ZUNvZGVjKFtdLHRoaXMucmVtb3RlQ29kZWNzLHRoaXMuc3RvcmUuY29kZWMpO2NvbnN0e3ByZVNTUkNzOml9PWU7aWYoQXJyYXkuaXNBcnJheShpKSYmaS5sZW5ndGg+MCl7Y29uc3R7bWlkczplfT10aGlzLnJlbW90ZVNEUC5iYXRjaFNlbmQoaS5tYXAoKGU9Pk9iamVjdC5hc3NpZ24oe30se2tpbmQ6ZS5raW5kLHNzcmNNc2c6W3tzc3JjSWQ6ZS5zc3JjSWQscnR4OmUucnR4fV0sbXNsYWJlbDplLm1zbGFiZWx9KSkpKTtlLmZvckVhY2goKChlLHQpPT57dGhpcy5wcmVTU1JDTWFwLnNldChpW3RdLnNzcmNJZCxlKX0pKX1hd2FpdCBLTSh0aGlzLnBlZXJDb25uZWN0aW9uLHRoaXMucmVtb3RlU0RQLHRoaXMuZXh0ZW5zaW9uKSxReS5kZWJ1ZyhcIltQMlBDb25uZWN0aW9uXSB1cGRhdGVSZW1vdGVSVFBDYXBhYmlsaXRpZXMgYnkgZXhjaGFuZ2luZyBTRFAuXCIpfWNhdGNoKGUpe3Rocm93IG5ldyBydihudi5FWENIQU5HRV9TRFBfRkFJTEVELFwiUDJQQ29ubmVjdGlvbi51cGRhdGVSZW1vdGVDb25uZWN0IGZhaWxlZDsgXCIuY29uY2F0KGUudG9TdHJpbmcoKSkpfX1zZW5kKGUsdCxpKXt2YXIgbj10aGlzO3JldHVybiBaVSgoZnVuY3Rpb24qKCl7Y29uc3Qgcj15aWVsZCBXVShuLm11dGV4LmxvY2soXCJGcm9tIFAyUENvbm5lY3Rpb24uc2VuZFwiKSk7dHJ5e2lmKCFuLnJlbW90ZVNEUCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY2FsbCBQMlBDb25uZWN0aW9uLnNlbmQgYmVmb3JlIHJlbW90ZSBTRFAgY3JlYXRlZFwiKTtjb25zdCBvPVtdO2UuZm9yRWFjaCgoZT0+e2NvbnN0IHQ9bi5wZWVyQ29ubmVjdGlvbi5hZGRUcmFuc2NlaXZlcihlLl9tZWRpYVN0cmVhbVRyYWNrLHtkaXJlY3Rpb246XCJzZW5kb25seVwifSk7by5wdXNoKHQpLGUuX3VwZGF0ZVJ0cFRyYW5zY2VpdmVyKHQpfSkpLGtJKCkmJiEwPT09RHkoXCJTSU1VTENBU1RcIikmJih5aWVsZCBXVShuLmFwcGx5U2ltdWxjYXN0Rm9yRmlyZWZveChvLGUpKSk7Y29uc3Qgcz15aWVsZCBXVShuLnBlZXJDb25uZWN0aW9uLmNyZWF0ZU9mZmVyKCkpLGE9bi5yZW1vdGVTRFAucHJlZGljdFJlY2VpdmluZ01pZHMoZS5sZW5ndGgpLGM9bi5tdW5nU2VuZE9mZmVyU0RQKHMuc2RwLGUsYSksZD1DTS5wYXJzZShjKSxsPWEubWFwKChlPT57Y29uc3QgdD1kLm1lZGlhRGVzY3JpcHRpb25zLmZpbmQoKHQ9PnQuYXR0cmlidXRlcy5taWQ9PT1lKSk7aWYoIXQpdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGV4dHJhY3Qgc3NyYyBmcm9tIG1lZGlhRGVzY3JpcHRpb24uXCIpO3JldHVybiB3TSh0LER5KFwiVVNFX1BVQl9SVFhcIikpfSkpO2xldCB1O3RyeXt1PXlpZWxkIGx9Y2F0Y2gocil7dT1bXSxuLnJlbW90ZVNEUC5yZWNlaXZlKGUsdCxpLHUpO2NvbnN0IG89bi5yZW1vdGVTRFAudG9TdHJpbmcoKTt0aHJvdyB5aWVsZCBXVShuLnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24oe3R5cGU6XCJvZmZlclwiLHNkcDpjfSkpLHlpZWxkIFdVKG4ucGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJhbnN3ZXJcIixzZHA6b30pKSx5aWVsZCBXVShuLnN0b3BTZW5kaW5nKGEsITApKSxyfW4ucmVtb3RlU0RQLnJlY2VpdmUoZSx0LGksdSk7Y29uc3QgaD1uLnJlbW90ZVNEUC50b1N0cmluZygpLHA9bi5sb2dTRFBFeGNoYW5nZShjLFwib2ZmZXJcIixcImxvY2FsXCIsXCJzZW5kXCIpO3JldHVybiB5aWVsZCBXVShuLnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24oe3R5cGU6XCJvZmZlclwiLHNkcDpjfSkpLHlpZWxkIFdVKG4uYXBwbHlTaW11bGNhc3RFbmNvZGluZ3MobyxlKSkseWllbGQgV1Uobi5hcHBseVNlbmRFbmNvZGluZ3MobyxlKSksbnVsbD09cHx8cChoKSx5aWVsZCBXVShuLnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKHt0eXBlOlwiYW5zd2VyXCIsc2RwOmh9KSksby5tYXAoKChlLHQpPT57Y29uc3QgaT1hW3RdO3JldHVybntsb2NhbFNTUkM6bFt0XSxpZDppLHRyYW5zY2VpdmVyOmV9fSkpfWNhdGNoKGUpe3Rocm93IGUgaW5zdGFuY2VvZiBydj9lOm5ldyBydihudi5FWENIQU5HRV9TRFBfRkFJTEVELFwiUDJQQ29ubmVjdGlvbi5zZW5kIGZhaWxlZDsgXCIuY29uY2F0KGUudG9TdHJpbmcoKSkpfWZpbmFsbHl7cigpfX0pKSgpfWFzeW5jIGNyZWF0ZURhdGFDaGFubmVscyhlLHQpe3RyeXtpZighdGhpcy5yZW1vdGVTRFApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNhbGwgUDJQQ29ubmVjdGlvbi5jcmVhdGVEYXRhQ2hhbm5lbHMgYmVmb3JlIHJlbW90ZSBTRFAgY3JlYXRlZFwiKTtsZXQgaT10aGlzLmRhdGFTdHJlYW1DaGFubmVsTWFwLmdldChlKTtpZihpJiZcIm9wZW5cIj09PWkucmVhZHlTdGF0ZSlReS5kZWJ1ZyhcIltQMlBDb25uZWN0aW9uXSBDaGFubmVscyBhcmUgYWxyZWFkeSBhdmFpbGFibGUgYW5kIGNhbiBiZSByZXVzZWQgZGlyZWN0bHkuXCIpO2Vsc2V7Y29uc3QgdD10aGlzLmN1cnJlbnREYXRhQ2hhbm5lbElkPDEwMjM/dGhpcy5jdXJyZW50RGF0YUNoYW5uZWxJZCsrOnRoaXMucmVjb3ZlcmVkRGF0YUNoYW5uZWxJZHMuc2hpZnQoKTtpZihcIm51bWJlclwiIT10eXBlb2YgdCl0aHJvdyBuZXcgRXJyb3IoXCJjcmVhdGUgRGF0YUNoYW5uZWwgZXJyb3IsIGJlY2F1c2UgY2Fubm90IGdldCBkYyBpZFwiKTtpPXRoaXMucGVlckNvbm5lY3Rpb24uY3JlYXRlRGF0YUNoYW5uZWwoXCJkYXRhc3RyZWFtLWNoYW5uZWxcIix7aWQ6dCxuZWdvdGlhdGVkOiEwLG9yZGVyZWQ6ITEsbWF4UmV0cmFuc21pdHM6RHkoXCJEQVRBU1RSRUFNX01BWF9SRVRSQU5TTUlUU1wiKX0pLGkuYmluYXJ5VHlwZT1cImFycmF5YnVmZmVyXCIsdGhpcy5kYXRhU3RyZWFtQ2hhbm5lbE1hcC5zZXQoZSxpKX10LmZvckVhY2goKGU9PntlLl91cGRhdGVPcmlnaW5EYXRhQ2hhbm5lbChpKX0pKTtjb25zdHtuZWVkRXhjaGFuZ2VTRFA6bn09dGhpcy5yZW1vdGVTRFAuc2VuZERhdGFDaGFubmVsKCk7aWYobil7Y29uc3QgZT10aGlzLnJlbW90ZVNEUC50b1N0cmluZygpO2F3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJvZmZlclwiLHNkcDplfSk7Y29uc3QgdD1hd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLmNyZWF0ZUFuc3dlcigpO2F3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbih0KSxReS5kZWJ1ZyhcIltQMlBDb25uZWN0aW9uXSBjcmVhdGVEYXRhQ2hhbm5lbHMgYnkgZXhjaGFuZ2luZyBTRFAuXCIpfWVsc2UgUXkuZGVidWcoXCJbUDJQQ29ubmVjdGlvbl0gY3JlYXRlRGF0YUNoYW5uZWxzIG5vIG5lZWQgdG8gZXhjaGFuZ2UgU0RQLlwiKTtyZXR1cm59Y2F0Y2goZSl7dGhyb3cgZSBpbnN0YW5jZW9mIHJ2P2U6bmV3IHJ2KG52LkVYQ0hBTkdFX1NEUF9GQUlMRUQsXCJQMlBDb25uZWN0aW9uLmNyZWF0ZURhdGFDaGFubmVscyBmYWlsZWQ7IFwiLmNvbmNhdChlLnRvU3RyaW5nKCkpKX19YXN5bmMgc3RvcERhdGFDaGFubmVscyhlKXt0cnl7Y29uc3QgdD10aGlzLmRhdGFTdHJlYW1DaGFubmVsTWFwLmdldChlKTtyZXR1cm4gdCYmKHQuaWQmJnRoaXMucmVjb3ZlcmVkRGF0YUNoYW5uZWxJZHMucHVzaCh0LmlkKSx0LmNsb3NlKCkpLHZvaWQgdGhpcy5kYXRhU3RyZWFtQ2hhbm5lbE1hcC5kZWxldGUoZSl9Y2F0Y2goZSl7dGhyb3cgZSBpbnN0YW5jZW9mIHJ2P2U6bmV3IHJ2KG52LkRBVEFDSEFOTkVMX0ZBSUxFRCxcIlAyUENvbm5lY3Rpb24uc3RvcERhdGFDaGFubmVscyBmYWlsZWQ7IFwiLmNvbmNhdChlLnRvU3RyaW5nKCkpKX19YXN5bmMgc3RvcFNlbmRpbmcoZSx0KXtjb25zdCBpPXQ/dm9pZCAwOmF3YWl0IHRoaXMubXV0ZXgubG9jayhcIkZyb20gUDJQQ29ubmVjdGlvbi5zdG9wU2VuZGluZ1wiKTt0cnl7aWYoIXRoaXMucmVtb3RlU0RQKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjYWxsIFAyUENvbm5lY3Rpb24uc3RvcFNlbmRpbmcgYmVmb3JlIHJlbW90ZSBTRFAgY3JlYXRlZFwiKTtjb25zdCB0PXRoaXMucGVlckNvbm5lY3Rpb24uZ2V0VHJhbnNjZWl2ZXJzKCkuZmlsdGVyKCh0PT4tMSE9PWUuaW5kZXhPZih0Lm1pZCkpKTtpZih0Lmxlbmd0aCE9PWUubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIlRyYW5zY2VpdmVycycgbGVuZ3RoIGRvZXNuJ3QgbWF0Y2ggbWlkcycgbGVuZ3RoIHdoZW4gdHJ5aW5nIHRvIGNhbGwgUDJQQ29ubmVjdGlvbi5zdG9wU2VuZGluZy5cIik7dC5tYXAoKGU9Pnt2YXIgdDt0Rih0aGlzLmlkK2UubWlkLHRoaXMpLGUuZGlyZWN0aW9uPVwiaW5hY3RpdmVcIixudWxsPT09KHQ9ZS5zdG9wKXx8dm9pZCAwPT09dHx8dC5jYWxsKGUpfSkpO2NvbnN0IG49YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5jcmVhdGVPZmZlcigpLHI9dGhpcy5sb2dTRFBFeGNoYW5nZShuLnNkcHx8XCJcIixcIm9mZmVyXCIsXCJsb2NhbFwiLFwic3RvcFNlbmRpbmdcIik7YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKG4pLHRoaXMucmVtb3RlU0RQLnN0b3BSZWNlaXZpbmcoZSk7Y29uc3Qgbz10aGlzLnJlbW90ZVNEUC50b1N0cmluZygpO251bGw9PXJ8fHIobyksYXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbih7dHlwZTpcImFuc3dlclwiLHNkcDpvfSl9Y2F0Y2goZSl7dGhyb3cgbmV3IHJ2KG52LkVYQ0hBTkdFX1NEUF9GQUlMRUQsXCJQMlBDb25uZWN0aW9uLnN0b3BTZW5kaW5nIGZhaWxlZDsgXCIuY29uY2F0KGUudG9TdHJpbmcoKSkpfWZpbmFsbHl7aSYmaSgpfX1hc3luYyByZWNlaXZlKGUsdCxpLG4pe3RyeXtpZighdGhpcy5yZW1vdGVTRFApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNhbGwgUDJQQ29ubmVjdGlvbi5yZWNlaXZlIFwiLmNvbmNhdChlLFwiIGJlZm9yZSByZW1vdGVTRFAgY3JlYXRlZC5cIikpO2NvbnN0e21pZDpyLG5lZWRFeGNoYW5nZVNEUDpvfT10aGlzLnJlbW90ZVNEUC5zZW5kKGUsdCxpLG4pO28mJihhd2FpdCBLTSh0aGlzLnBlZXJDb25uZWN0aW9uLHRoaXMucmVtb3RlU0RQLHRoaXMuZXh0ZW5zaW9uKSxReS5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW1AyUENvbm5lY3Rpb25dIHJlY2VpdmUgXCIpLmNvbmNhdChlLFwiIGJ5IGV4Y2hhbmdpbmcgU0RQLlwiKSkpO2NvbnN0IHM9dGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRUcmFuc2NlaXZlcnMoKS5maW5kKChlPT5lLm1pZD09PXIpKTtpZighcyl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZ2V0IHRyYW5zY2VpdmVyIGFmdGVyIHNldExvY2FsRGVzY3JpcHRpb24uXCIpO3JldHVybnt0cmFjazpzLnJlY2VpdmVyLnRyYWNrLGlkOnIsdHJhbnNjZWl2ZXI6c319Y2F0Y2goZSl7dGhyb3cgbmV3IHJ2KG52LkVYQ0hBTkdFX1NEUF9GQUlMRUQsXCJQMlBDb25uZWN0aW9uLnJlY2VpdmUgZmFpbGVkOyBcIi5jb25jYXQoZS50b1N0cmluZygpKSl9fWFzeW5jIGJhdGNoUmVjZWl2ZShlKXt0cnl7aWYoIXRoaXMucmVtb3RlU0RQKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjYWxsIFAyUENvbm5lY3Rpb24uYmF0Y2hSZWNlaXZlIGJlZm9yZSByZW1vdGVTRFAgY3JlYXRlZC5cIik7Y29uc3R7bWlkczp0LG5lZWRFeGNoYW5nZVNEUDppfT10aGlzLnJlbW90ZVNEUC5iYXRjaFNlbmQoZSk7cmV0dXJuIGkmJihhd2FpdCBLTSh0aGlzLnBlZXJDb25uZWN0aW9uLHRoaXMucmVtb3RlU0RQLHRoaXMuZXh0ZW5zaW9uKSxReS5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW1AyUENvbm5lY3Rpb25dIGJhdGNoUmVjZWl2ZSBieSBleGNoYW5naW5nIFNEUC5cIikpKSx0Lm1hcCgoZT0+e2NvbnN0IHQ9dGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRUcmFuc2NlaXZlcnMoKS5maW5kKCh0PT50Lm1pZD09PWUpKTtpZighdCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgZ2V0IHRyYW5zY2VpdmVyIGFmdGVyIHNldExvY2FsRGVzY3JpcHRpb24uXCIpO3JldHVybnt0cmFjazp0LnJlY2VpdmVyLnRyYWNrLGlkOmUsdHJhbnNjZWl2ZXI6dH19KSl9Y2F0Y2goZSl7dGhyb3cgbmV3IHJ2KG52LkVYQ0hBTkdFX1NEUF9GQUlMRUQsXCJQMlBDb25uZWN0aW9uLnJlY2VpdmUgZmFpbGVkOyBcIi5jb25jYXQoZS50b1N0cmluZygpKSl9fWFzeW5jIHN0b3BSZWNlaXZpbmcoZSl7dHJ5e2lmKCF0aGlzLnJlbW90ZVNEUCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY2FsbCBQMlBDb25uZWN0aW9uLnN0b3BSZWNlaXZpbmcgYmVmb3JlIHJlbW90ZSBTRFAgY3JlYXRlZC5cIik7ZS5mb3JFYWNoKChlPT57QXJyYXkuZnJvbSh0aGlzLnByZVNTUkNNYXAuZW50cmllcygpKS5zb21lKCh0PT57bGV0W2ksbl09dDtpZihuPT09ZSlyZXR1cm4gdGhpcy5wcmVTU1JDTWFwLmRlbGV0ZShpKSwhMH0pKX0pKSx0aGlzLnJlbW90ZVNEUC5zdG9wU2VuZGluZyhlKTtjb25zdCB0PXRoaXMucmVtb3RlU0RQLnRvU3RyaW5nKCksaT10aGlzLmxvZ1NEUEV4Y2hhbmdlKHQsXCJvZmZlclwiLFwicmVtb3RlXCIsXCJzdG9wUmVjZWl2aW5nXCIpO2F3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJvZmZlclwiLHNkcDp0fSk7Y29uc3Qgbj1hd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLmNyZWF0ZUFuc3dlcigpO251bGw9PWl8fGkobi5zZHB8fFwiXCIpLGF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbihuKX1jYXRjaChlKXt0aHJvdyBuZXcgcnYobnYuRVhDSEFOR0VfU0RQX0ZBSUxFRCxcIlAyUENvbm5lY3Rpb24gc3RvcFJlY2VpdmluZyBmYWlsZWQ7IFwiLmNvbmNhdChlLnRvU3RyaW5nKCkpKX19YXN5bmMgbXV0ZVJlbW90ZShlKXt0cnl7aWYoIXRoaXMucmVtb3RlU0RQKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjYWxsIFAyUENvbm5lY3Rpb24ubXV0ZVJlbW90ZSBtaWQ9XCIuY29uY2F0KGUsXCIgYmVmb3JlIHJlbW90ZSBTRFAgY3JlYXRlZC5cIikpO3RoaXMucmVtb3RlU0RQLm11dGUoZSk7Y29uc3QgdD10aGlzLnJlbW90ZVNEUC50b1N0cmluZygpLGk9dGhpcy5sb2dTRFBFeGNoYW5nZSh0LFwib2ZmZXJcIixcInJlbW90ZVwiLFwibXV0ZVJlbW90ZVwiKTthd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKHt0eXBlOlwib2ZmZXJcIixzZHA6dH0pO2NvbnN0IG49YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5jcmVhdGVBbnN3ZXIoKTtudWxsPT1pfHxpKG4uc2RwfHxcIlwiKSxhd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24obil9Y2F0Y2goZSl7dGhyb3cgbmV3IHJ2KG52LkVYQ0hBTkdFX1NEUF9GQUlMRUQsXCJQMlBDb25uZWN0aW9uLm11dGVSZW1vdGUgZmFpbGVkOyBcIi5jb25jYXQoZS50b1N0cmluZygpKSl9fWFzeW5jIHVubXV0ZVJlbW90ZShlKXt0cnl7aWYoIXRoaXMucmVtb3RlU0RQKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjYWxsIFAyUENvbm5lY3Rpb24udW5tdXRlUmVtb3RlIG1pZD1cIi5jb25jYXQoZSxcIiBiZWZvcmUgcmVtb3RlIFNEUCBjcmVhdGVkLlwiKSk7dGhpcy5yZW1vdGVTRFAudW5tdXRlKGUpO2NvbnN0IHQ9dGhpcy5yZW1vdGVTRFAudG9TdHJpbmcoKSxpPXRoaXMubG9nU0RQRXhjaGFuZ2UodCxcIm9mZmVyXCIsXCJyZW1vdGVcIixcInVubXV0ZVJlbW90ZVwiKTthd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKHt0eXBlOlwib2ZmZXJcIixzZHA6dH0pO2NvbnN0IG49YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5jcmVhdGVBbnN3ZXIoKTtudWxsPT1pfHxpKG4uc2RwfHxcIlwiKSxhd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24obil9Y2F0Y2goZSl7dGhyb3cgbmV3IHJ2KG52LkVYQ0hBTkdFX1NEUF9GQUlMRUQsXCJQMlBDb25uZWN0aW9uLnVubXV0ZVJlbW90ZSBmYWlsZWQ7IFwiLmNvbmNhdChlLnRvU3RyaW5nKCkpKX19YXN5bmMgbXV0ZUxvY2FsKGUpe3RyeXtpZighdGhpcy5yZW1vdGVTRFApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNhbGwgUDJQQ29ubmVjdGlvbi5tdXRlTG9jYWwgYmVmb3JlIHJlbW90ZSBTRFAgY3JlYXRlZC5cIik7Y29uc3QgdD10aGlzLnBlZXJDb25uZWN0aW9uLmdldFRyYW5zY2VpdmVycygpLmZpbHRlcigodD0+dC5taWQmJi0xIT09ZS5pbmRleE9mKHQubWlkKSkpO2lmKHQubGVuZ3RoIT09ZS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiVHJhbnNjZWl2ZXJzJyBsZW5ndGggZG9lc24ndCBtYXRjaCBtaWRzJyBsZW5ndGguXCIpO3QubWFwKChlPT57ZS5kaXJlY3Rpb249XCJpbmFjdGl2ZVwifSkpO2NvbnN0IGk9YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5jcmVhdGVPZmZlcigpLG49dGhpcy5sb2dTRFBFeGNoYW5nZShpLnNkcHx8XCJcIixcIm9mZmVyXCIsXCJsb2NhbFwiLFwibXV0ZUxvY2FsXCIpO2F3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbihpKSx0aGlzLnJlbW90ZVNEUC5tdXRlUmVtb3RlKGUpO2NvbnN0IHI9dGhpcy5yZW1vdGVTRFAudG9TdHJpbmcoKTtudWxsPT1ufHxuKHIpLGF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJhbnN3ZXJcIixzZHA6cn0pfWNhdGNoKGUpe3Rocm93IG5ldyBydihudi5FWENIQU5HRV9TRFBfRkFJTEVELFwiUDJQQ29ubmVjdGlvbi5tdXRlTG9jYWwgZmFpbGVkOyBcIi5jb25jYXQoZS50b1N0cmluZygpKSl9fWFzeW5jIHVubXV0ZUxvY2FsKGUpe3RyeXtpZighdGhpcy5yZW1vdGVTRFApdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IGNhbGwgUDJQQ29ubmVjdGlvbi51bm11dGVMb2NhbCBiZWZvcmUgcmVtb3RlIFNEUCBjcmVhdGVkLlwiKTtjb25zdCB0PXRoaXMucGVlckNvbm5lY3Rpb24uZ2V0VHJhbnNjZWl2ZXJzKCkuZmlsdGVyKCh0PT50Lm1pZCYmLTEhPT1lLmluZGV4T2YodC5taWQpKSk7aWYodC5sZW5ndGghPT1lLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJUcmFuc2NlaXZlcnMnIGxlbmd0aCBkb2Vzbid0IG1hdGNoIG1pZHMnIGxlbmd0aC5cIik7dC5tYXAoKGFzeW5jKGUsdCk9PntlLmRpcmVjdGlvbj1cInNlbmRvbmx5XCJ9KSk7Y29uc3QgaT1hd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLmNyZWF0ZU9mZmVyKCksbj10aGlzLmxvZ1NEUEV4Y2hhbmdlKGkuc2RwfHxcIlwiLFwib2ZmZXJcIixcImxvY2FsXCIsXCJ1bm11dGVMb2NhbFwiKTthd2FpdCB0aGlzLnBlZXJDb25uZWN0aW9uLnNldExvY2FsRGVzY3JpcHRpb24oaSksdGhpcy5yZW1vdGVTRFAudW5tdXRlUmVtb3RlKGUpO2NvbnN0IHI9dGhpcy5yZW1vdGVTRFAudG9TdHJpbmcoKTtudWxsPT1ufHxuKHIpLGF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uc2V0UmVtb3RlRGVzY3JpcHRpb24oe3R5cGU6XCJhbnN3ZXJcIixzZHA6cn0pfWNhdGNoKGUpe3Rocm93IG5ldyBydihudi5FWENIQU5HRV9TRFBfRkFJTEVELFwiUDJQQ29ubmVjdGlvbi51bm11dGVMb2NhbCBmYWlsZWQ7IFwiLmNvbmNhdChlLnRvU3RyaW5nKCkpKX19cmVzdGFydElDRShlKXt2YXIgdD10aGlzO3JldHVybiBaVSgoZnVuY3Rpb24qKCl7Y29uc3QgaT15aWVsZCBXVSh0Lm11dGV4LmxvY2soXCJGcm9tIFAyUENvbm5lY3Rpb24ucmVzdGFydElDRVwiKSk7dHJ5e2lmKCF0LnJlbW90ZVNEUCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgcmVzdGFydElDRSBiZWZvcmUgcmVtb3RlU0RQIGNyZWF0ZWQuXCIpO2lmKE1EKCkuc3VwcG9ydFBDU2V0Q29uZmlndXJhdGlvbil7Y29uc3QgaT10LnBlZXJDb25uZWN0aW9uLmdldENvbmZpZ3VyYXRpb24oKSxuPWU9PT1xYi5SRUxBWT9cInJlbGF5XCI6XCJhbGxcIjtpLmljZVRyYW5zcG9ydFBvbGljeSE9PW4mJihReS5kZWJ1ZyhcIltcIi5jb25jYXQodC5zdG9yZS5jbGllbnRJZCxcIl0gcmVzdGFydElDRSBjaGFuZ2UgaWNlVHJhbnNwb3J0UG9saWN5IGZyb20gW1wiKS5jb25jYXQoaS5pY2VUcmFuc3BvcnRQb2xpY3ksXCJdIHRvIFtcIikuY29uY2F0KG4sXCJdXCIpKSxpLmljZVRyYW5zcG9ydFBvbGljeT1uLHQucGVlckNvbm5lY3Rpb24uc2V0Q29uZmlndXJhdGlvbihpKSl9ZWxzZSBpZihlPT09cWIuUkVMQVkpcmV0dXJuO3QucmVtb3RlU0RQLnVwZGF0ZUNhbmRpZGF0ZXMoZSk7Y29uc3Qgbj15aWVsZCBXVSh0LnBlZXJDb25uZWN0aW9uLmNyZWF0ZU9mZmVyKHtpY2VSZXN0YXJ0OiEwfSkpO2lmKCFuLnNkcCl0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgcmVzdGFydElDRSBiZWNhdXNlIHJlc3RhcnQgb2ZmZXIgU0RQIGRvZXMgbm90IGV4aXN0LlwiKTtjb25zdCByPWJNKG4uc2RwKSx7cmVtb3RlSWNlUGFyYW1ldGVyczpvfT15aWVsZCByLmljZVBhcmFtZXRlcnM7dC5yZW1vdGVTRFAucmVzdGFydElDRShvKTtjb25zdCBzPXQucmVtb3RlU0RQLnRvU3RyaW5nKCksYT10LmxvZ1NEUEV4Y2hhbmdlKG4uc2RwfHxcIlwiLFwib2ZmZXJcIixcImxvY2FsXCIsXCJyZXN0YXJ0SUNFXCIpO3Quc3RvcmUuZGVzY3JpcHRpb25TdGFydCgpLHlpZWxkIFdVKHQucGVlckNvbm5lY3Rpb24uc2V0TG9jYWxEZXNjcmlwdGlvbihuKSksbnVsbD09YXx8YShzKSx5aWVsZCBXVSh0LnBlZXJDb25uZWN0aW9uLnNldFJlbW90ZURlc2NyaXB0aW9uKHt0eXBlOlwiYW5zd2VyXCIsc2RwOnN9KSl9Y2F0Y2goZSl7UXkud2FybmluZyhcIltcIi5jb25jYXQodC5zdG9yZS5jbGllbnRJZCxcIl0gcmVzdGFydCBJQ0UgZmFpbGVkLCBhYm9ydCBvcGVyYXRpb25cIiksZSl9ZmluYWxseXtpKCl9fSkpKCl9Y2xvc2UoKXt2YXIgZTt0aGlzLnBlZXJDb25uZWN0aW9uLmdldFRyYW5zY2VpdmVycygpLmZvckVhY2goKGU9Pnt0Rih0aGlzLmlkK2UubWlkLHRoaXMpfSkpLHRoaXMucHJlU1NSQ01hcC5jbGVhcigpLHRoaXMucGVlckNvbm5lY3Rpb24uY2xvc2UoKSxudWxsPT09KGU9dGhpcy5vbkNvbm5lY3Rpb25TdGF0ZUNoYW5nZSl8fHZvaWQgMD09PWV8fGUuY2FsbCh0aGlzLFwiY2xvc2VkXCIpLHRoaXMudHJ5VW5iaW5kVHJhbnNwb3J0RXZlbnRzKCksdGhpcy51bmJpbmRQQ0V2ZW50cygpLHRoaXMudW5iaW5kU3RhdHNFdmVudHMoKSx0aGlzLnJlbW92ZUFsbExpc3RlbmVycygpLHRoaXMudHJhbnNwb3J0RXZlbnRSZWNlaXZlcj12b2lkIDAsdGhpcy5zdGF0c0ZpbHRlci5kZXN0cm95KCksdGhpcy5kYXRhU3RyZWFtQ2hhbm5lbE1hcC5jbGVhcigpLHRoaXMucmVjb3ZlcmVkRGF0YUNoYW5uZWxJZHM9W10sdGhpcy5jdXJyZW50RGF0YUNoYW5uZWxJZD0xfWdldFN0YXRzKCl7cmV0dXJuIHJGKHJGKHt9LHRoaXMuc3RhdHNGaWx0ZXIuZ2V0U3RhdHMoKSkse30se3F1YWxpdHlMaW1pdGF0aW9uUmVhc29uOnRoaXMucXVhbGl0eUxpbWl0YXRpb25SZWFzb259KX1nZXRSZW1vdGVWaWRlb0lzUmVhZHkoZSl7cmV0dXJuIHRoaXMuc3RhdHNGaWx0ZXIuZ2V0VmlkZW9Jc1JlYWR5KGUpfWFzeW5jIHVwZGF0ZUVuY29kZXJDb25maWcoZSx0KXt0cnl7aWYoIXRoaXMucmVtb3RlU0RQKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBjYWxsIFAyUENvbm5lY3Rpb24udXBkYXRlRW5jb2RlckNvbmZpZyBiZWZvcmUgcmVtb3RlIFNEUCBjcmVhdGVkLlwiKTtjb25zdCBpPWF3YWl0IHRoaXMucGVlckNvbm5lY3Rpb24uY3JlYXRlT2ZmZXIoKSxuPXRoaXMubXVuZ1NlbmRPZmZlclNEUChpLnNkcCxbdF0sW2VdKTt0aGlzLnJlbW90ZVNEUC51cGRhdGVSZWN2TWVkaWEoZSx0KTtjb25zdCByPXRoaXMucmVtb3RlU0RQLnRvU3RyaW5nKCksbz10aGlzLmxvZ1NEUEV4Y2hhbmdlKG4sXCJvZmZlclwiLFwibG9jYWxcIixcInVwZGF0ZUVuY29kZXJDb25maWdcIik7YXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRMb2NhbERlc2NyaXB0aW9uKHt0eXBlOlwib2ZmZXJcIixzZHA6bn0pLG51bGw9PW98fG8ociksYXdhaXQgdGhpcy5wZWVyQ29ubmVjdGlvbi5zZXRSZW1vdGVEZXNjcmlwdGlvbih7dHlwZTpcImFuc3dlclwiLHNkcDpyfSl9Y2F0Y2goZSl7dGhyb3cgbmV3IHJ2KG52LkVYQ0hBTkdFX1NEUF9GQUlMRUQsZS50b1N0cmluZygpKX19YXN5bmMgdXBkYXRlU2VuZFBhcmFtZXRlcnMoZSx0KXtjb25zdCBpPXRoaXMucGVlckNvbm5lY3Rpb24uZ2V0VHJhbnNjZWl2ZXJzKCkuZmlsdGVyKCh0PT50Lm1pZD09PWUpKTsxPT09aS5sZW5ndGgmJih0aGlzLmlzVlA4U2ltdWxjYXN0KHQpP2tJKCl8fGF3YWl0IHRoaXMuYXBwbHlTaW11bGNhc3RFbmNvZGluZ3MoaSxbdF0pOmF3YWl0IHRoaXMuYXBwbHlTZW5kRW5jb2RpbmdzKGksW3RdKSl9c2V0U3RhdHNSZW1vdGVWaWRlb0lzUmVhZHkoZSx0KXt0aGlzLnN0YXRzRmlsdGVyLnNldFZpZGVvSXNSZWFkeTIoZSx0KX1hc3luYyByZXBsYWNlVHJhY2soZSx0KXtjb25zdCBpPXRoaXMucGVlckNvbm5lY3Rpb24uZ2V0VHJhbnNjZWl2ZXJzKCkuZmluZCgoZT0+ZS5taWQ9PT10KSk7aSYmYXdhaXQgaS5zZW5kZXIucmVwbGFjZVRyYWNrKGUuX21lZGlhU3RyZWFtVHJhY2spfWFzeW5jIGdldFNlbGVjdGVkQ2FuZGlkYXRlUGFpcigpe2NvbnN0IGU9dGhpcy5wZWVyQ29ubmVjdGlvbi5nZXRSZWNlaXZlcnMoKTtpZihlLmxlbmd0aD4wJiZlWzBdLnRyYW5zcG9ydCYmZVswXS50cmFuc3BvcnQuaWNlVHJhbnNwb3J0JiZlWzBdLnRyYW5zcG9ydC5pY2VUcmFuc3BvcnQuZ2V0U2VsZWN0ZWRDYW5kaWRhdGVQYWlyJiZlWzBdLnRyYW5zcG9ydC5pY2VUcmFuc3BvcnQuZ2V0U2VsZWN0ZWRDYW5kaWRhdGVQYWlyKCkpe2NvbnN0IHQ9ZVswXS50cmFuc3BvcnQuaWNlVHJhbnNwb3J0LHtsb2NhbDppLHJlbW90ZTpufT10LmdldFNlbGVjdGVkQ2FuZGlkYXRlUGFpcigpO3JldHVybntsb2NhbDpyRihyRih7fSxFeCkse30se2NhbmRpZGF0ZVR5cGU6aS50eXBlLHByb3RvY29sOmkucHJvdG9jb2wsYWRkcmVzczppLmFkZHJlc3MscG9ydDppLnBvcnR9KSxyZW1vdGU6ckYockYoe30sRXgpLHt9LHtjYW5kaWRhdGVUeXBlOm4udHlwZSxwcm90b2NvbDpuLnByb3RvY29sLGFkZHJlc3M6bi5hZGRyZXNzLHBvcnQ6bi5wb3J0fSl9fXJldHVybiB0aGlzLnN0YXRzRmlsdGVyLmdldFNlbGVjdGVkQ2FuZGlkYXRlUGFpcigpfWJpbmRQQ0V2ZW50cygpe3RoaXMucGVlckNvbm5lY3Rpb24ub25pY2Vjb25uZWN0aW9uc3RhdGVjaGFuZ2U9KCk9Pnt2YXIgZTtudWxsPT09KGU9dGhpcy5vbklDRUNvbm5lY3Rpb25TdGF0ZUNoYW5nZSl8fHZvaWQgMD09PWV8fGUuY2FsbCh0aGlzLHRoaXMucGVlckNvbm5lY3Rpb24uaWNlQ29ubmVjdGlvblN0YXRlKX0sdGhpcy5wZWVyQ29ubmVjdGlvbi5vbmNvbm5lY3Rpb25zdGF0ZWNoYW5nZT0oKT0+e3ZhciBlO251bGw9PT0oZT10aGlzLm9uQ29ubmVjdGlvblN0YXRlQ2hhbmdlKXx8dm9pZCAwPT09ZXx8ZS5jYWxsKHRoaXMsdGhpcy5wZWVyQ29ubmVjdGlvbi5jb25uZWN0aW9uU3RhdGUpfSx0aGlzLnBlZXJDb25uZWN0aW9uLm9uaWNlY2FuZGlkYXRlPWU9PntlLmNhbmRpZGF0ZT90aGlzLmxvY2FsQ2FuZGlkYXRlQ291bnQrPTE6KHRoaXMucGVlckNvbm5lY3Rpb24ub25pY2VjYW5kaWRhdGU9bnVsbCx0aGlzLmFsbENhbmRpZGF0ZXNSZWNlaXZlZD0hMCxReS5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW3BjLVwiKS5jb25jYXQodGhpcy5zdG9yZS5wMnBJZCxcIl0gbG9jYWwgY2FuZGlkYXRlIGNvdW50XCIpLHRoaXMubG9jYWxDYW5kaWRhdGVDb3VudCkpfSxzZXRUaW1lb3V0KCgoKT0+e3RoaXMuYWxsQ2FuZGlkYXRlc1JlY2VpdmVkfHwodGhpcy5hbGxDYW5kaWRhdGVzUmVjZWl2ZWQ9ITAsUXkuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFtwYy1cIikuY29uY2F0KHRoaXMuc3RvcmUucDJwSWQsXCJdIG9uaWNlY2FuZGlkYXRlIHRpbWVvdXQsIGxvY2FsIGNhbmRpZGF0ZSBjb3VudFwiKSx0aGlzLmxvY2FsQ2FuZGlkYXRlQ291bnQpKX0pLER5KFwiQ0FORElEQVRFX1RJTUVPVVRcIikpfXVuYmluZFBDRXZlbnRzKCl7dGhpcy5wZWVyQ29ubmVjdGlvbi5vbmljZWNvbm5lY3Rpb25zdGF0ZWNoYW5nZT1udWxsLHRoaXMucGVlckNvbm5lY3Rpb24ub25jb25uZWN0aW9uc3RhdGVjaGFuZ2U9bnVsbCx0aGlzLnBlZXJDb25uZWN0aW9uLm9uc2lnbmFsaW5nc3RhdGVjaGFuZ2U9bnVsbCx0aGlzLnBlZXJDb25uZWN0aW9uLm9uaWNlY2FuZGlkYXRlZXJyb3I9bnVsbCx0aGlzLnBlZXJDb25uZWN0aW9uLm9uaWNlY2FuZGlkYXRlPW51bGwsdGhpcy5wZWVyQ29ubmVjdGlvbi5vbnRyYWNrPW51bGx9c3RhdGljIHJlc29sdmVQQ0NvbmZpZ3VyYXRpb24odCl7Y29uc3QgaT17aWNlU2VydmVyczpbXX07cmV0dXJuIHQuaWNlU2VydmVycz9pLmljZVNlcnZlcnM9dC5pY2VTZXJ2ZXJzOnQudHVyblNlcnZlciYmXCJvZmZcIiE9PXQudHVyblNlcnZlci5tb2RlJiYoYnYodC50dXJuU2VydmVyLnNlcnZlcnMpP2kuaWNlU2VydmVycz10LnR1cm5TZXJ2ZXIuc2VydmVyczooaS5pY2VTZXJ2ZXJzJiZpLmljZVNlcnZlcnMucHVzaCguLi5lLnR1cm5TZXJ2ZXJDb25maWdUb0ljZVNlcnZlcnModC50dXJuU2VydmVyLnNlcnZlcnMpKSxEeShcIlVTRV9UVVJOX1NFUlZFUl9PRl9HQVRFV0FZXCIpJiZpLmljZVNlcnZlcnMmJnQudHVyblNlcnZlci5zZXJ2ZXJzRnJvbUdhdGV3YXkmJmkuaWNlU2VydmVycy5wdXNoKC4uLmUudHVyblNlcnZlckNvbmZpZ1RvSWNlU2VydmVycyh0LnR1cm5TZXJ2ZXIuc2VydmVyc0Zyb21HYXRld2F5KSksRHkoXCJGT1JDRV9UVVJOX1RDUFwiKT9pLmljZVRyYW5zcG9ydFBvbGljeT1cInJlbGF5XCI6dC50dXJuU2VydmVyLnNlcnZlcnMuY29uY2F0KHQudHVyblNlcnZlci5zZXJ2ZXJzRnJvbUdhdGV3YXl8fFtdKS5mb3JFYWNoKChlPT57ZS5mb3JjZXR1cm4mJihpLmljZVRyYW5zcG9ydFBvbGljeT1cInJlbGF5XCIpfSkpKSksRHkoXCJFTkFCTEVfRU5DT0RFRF9UUkFOU0ZPUk1cIikmJk1EKCkuc3VwcG9ydFdlYlJUQ0VuY29kZWRUcmFuc2Zvcm0mJihpLmVuY29kZWRJbnNlcnRhYmxlU3RyZWFtcz0hMCksaX1zdGF0aWMgdHVyblNlcnZlckNvbmZpZ1RvSWNlU2VydmVycyhlKXtjb25zdCB0PVtdO3JldHVybiBlLmZvckVhY2goKGU9PntlLnNlY3VyaXR5P2UudGNwcG9ydCYmdC5wdXNoKHt1c2VybmFtZTplLnVzZXJuYW1lLGNyZWRlbnRpYWw6ZS5wYXNzd29yZCxjcmVkZW50aWFsVHlwZTpcInBhc3N3b3JkXCIsdXJsczpcInR1cm5zOlwiLmNvbmNhdChQdyhlLnR1cm5TZXJ2ZXJVUkwpLFwiOlwiKS5jb25jYXQoZS50Y3Bwb3J0LFwiP3RyYW5zcG9ydD10Y3BcIil9KTooZS51ZHBwb3J0JiYhRHkoXCJGT1JDRV9UVVJOX1RDUFwiKSYmdC5wdXNoKHt1c2VybmFtZTplLnVzZXJuYW1lLGNyZWRlbnRpYWw6ZS5wYXNzd29yZCxjcmVkZW50aWFsVHlwZTpcInBhc3N3b3JkXCIsdXJsczpcInR1cm46XCIuY29uY2F0KGUudHVyblNlcnZlclVSTCxcIjpcIikuY29uY2F0KGUudWRwcG9ydCxcIj90cmFuc3BvcnQ9dWRwXCIpfSksZS50Y3Bwb3J0JiZ0LnB1c2goe3VzZXJuYW1lOmUudXNlcm5hbWUsY3JlZGVudGlhbDplLnBhc3N3b3JkLGNyZWRlbnRpYWxUeXBlOlwicGFzc3dvcmRcIix1cmxzOlwidHVybjpcIi5jb25jYXQoZS50dXJuU2VydmVyVVJMLFwiOlwiKS5jb25jYXQoZS50Y3Bwb3J0LFwiP3RyYW5zcG9ydD10Y3BcIil9KSl9KSksdH10cnlCaW5kVHJhbnNwb3J0RXZlbnRzKGUpe2NvbnN0IHQ9ZS50cmFuc3BvcnQ7aWYodCl7dGhpcy50cmFuc3BvcnRFdmVudFJlY2VpdmVyPWUsdC5vbnN0YXRlY2hhbmdlPSgpPT57dmFyIGU7bnVsbCE9dCYmdC5zdGF0ZSYmKG51bGw9PT0oZT10aGlzLm9uRFRMU1RyYW5zcG9ydFN0YXRlQ2hhbmdlKXx8dm9pZCAwPT09ZXx8ZS5jYWxsKHRoaXMsdC5zdGF0ZSkpfSx0Lm9uZXJyb3I9ZT0+e3ZhciB0O251bGw9PT0odD10aGlzLm9uRFRMU1RyYW5zcG9ydEVycm9yKXx8dm9pZCAwPT09dHx8dC5jYWxsKHRoaXMsXCJlcnJvclwiaW4gZT9lLmVycm9yOmUpfTtjb25zdCBpPXQuaWNlVHJhbnNwb3J0O2kmJihpLm9uc3RhdGVjaGFuZ2U9KCk9Pntjb25zdCBlPW51bGw9PXQ/dm9pZCAwOnQuaWNlVHJhbnNwb3J0LnN0YXRlO3ZhciBpO2UmJihudWxsPT09KGk9dGhpcy5vbklDRVRyYW5zcG9ydFN0YXRlQ2hhbmdlKXx8dm9pZCAwPT09aXx8aS5jYWxsKHRoaXMsZSkpfSxpLmdldFNlbGVjdGVkQ2FuZGlkYXRlUGFpciYmKGkub25zZWxlY3RlZGNhbmRpZGF0ZXBhaXJjaGFuZ2U9KCk9PntpZihpLmdldFNlbGVjdGVkQ2FuZGlkYXRlUGFpcigpKXtjb25zdHtsb2NhbDplLHJlbW90ZTp0fT1pLmdldFNlbGVjdGVkQ2FuZGlkYXRlUGFpcigpO1F5LmluZm8oXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFtwYy1cIikuY29uY2F0KHRoaXMuc3RvcmUucDJwSWQsXCJdIHNlbGVjdGVkY2FuZGlkYXRlcGFpcmNoYW5nZTogbG9jYWwgXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeSh7Y2FuZGlkYXRlVHlwZTplLnR5cGUscHJvdG9jb2w6ZS5wcm90b2NvbH0pLFwiLCByZW1vdGUgXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeSh7Y2FuZGlkYXRlVHlwZTp0LnR5cGUscHJvdG9jb2w6dC5wcm90b2NvbCxhZGRyZXNzOnQuYWRkcmVzcyxwb3J0OnQucG9ydH0pLFwiIClcIikpfX0pKX19dHJ5VW5iaW5kVHJhbnNwb3J0RXZlbnRzKCl7dGhpcy50cmFuc3BvcnRFdmVudFJlY2VpdmVyJiZ0aGlzLnRyYW5zcG9ydEV2ZW50UmVjZWl2ZXIudHJhbnNwb3J0JiYodGhpcy50cmFuc3BvcnRFdmVudFJlY2VpdmVyLnRyYW5zcG9ydC5vbnN0YXRlY2hhbmdlPW51bGwsdGhpcy50cmFuc3BvcnRFdmVudFJlY2VpdmVyLnRyYW5zcG9ydC5vbmVycm9yPW51bGwsdGhpcy50cmFuc3BvcnRFdmVudFJlY2VpdmVyLnRyYW5zcG9ydC5pY2VUcmFuc3BvcnQmJih0aGlzLnRyYW5zcG9ydEV2ZW50UmVjZWl2ZXIudHJhbnNwb3J0LmljZVRyYW5zcG9ydC5vbnN0YXRlY2hhbmdlPW51bGwpKX1hc3luYyB1cGRhdGVSdHBTZW5kZXJFbmNvZGluZ3MoZSx0KXt2YXIgaSxuO2lmKCF0KXtjb25zdCBpPXRoaXMucGVlckNvbm5lY3Rpb24uZ2V0U2VuZGVycygpO3Q9aS5maW5kKCh0PT50LnRyYWNrPT09ZS5fbWVkaWFTdHJlYW1UcmFjaykpfWlmKCF0KXJldHVybiBReS53YXJuKFwiW1wiLmNvbmNhdChlLmdldFRyYWNrSWQoKSxcIl0gbm8gcnRwU2VuZGVyIGZvdW5kfVwiKSk7aWYodGhpcy5pc1ZQOFNpbXVsY2FzdChlKSlyZXR1cm4gUXkud2FybihcIlt1cGRhdGVSdHBTZW5kZXJFbmNvZGluZ3NdIFRyYWNrIGlzIFZQOCBzaW11bGNhc3QsIHBsZWFzZSBhcHBseSBzaW11bGNhc3QgZW5jb2RpbmdzXCIpO2lmKCFNRCgpLnN1cHBvcnRTZXRSdHBTZW5kZXJQYXJhbWV0ZXJzKXJldHVybiBReS53YXJuKFwiW3VwZGF0ZVJ0cFNlbmRlckVuY29kaW5nc10gQnJvd3NlciBub3Qgc3VwcG9ydCBzZXQgcnRwLXNlbmRlciBwYXJhbWV0ZXJzXCIpO2NvbnN0IHI9e30sbz17fTtzd2l0Y2goZS5fb3B0aW1pemF0aW9uTW9kZSl7Y2FzZVwibW90aW9uXCI6ci5kZWdyYWRhdGlvblByZWZlcmVuY2U9XCJtYWludGFpbi1mcmFtZXJhdGVcIjticmVhaztjYXNlXCJkZXRhaWxcIjpyLmRlZ3JhZGF0aW9uUHJlZmVyZW5jZT1cIm1haW50YWluLXJlc29sdXRpb25cIjticmVhaztjYXNlXCJiYWxhbmNlZFwiOnIuZGVncmFkYXRpb25QcmVmZXJlbmNlPVwiYmFsYW5jZWRcIn1jb25zdCBzPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuZ2V0VHJhbnNjZWl2ZXJzKCkuZmluZCgoZT0+ZS5zZW5kZXIudHJhY2s9PT10fHxlLnJlY2VpdmVyLnRyYWNrPT09dCkpfSh0aGlzLnBlZXJDb25uZWN0aW9uLGUuX21lZGlhU3RyZWFtVHJhY2spLGE9dUwoZSk7aWYoJFYoZSkmJnMmJnQmJmEmJnRoaXMuZ2V0TG9jYWxWaWRlb1N0YXRzJiZEbihpPVtcInZwOFwiLFwidnA5XCJdKS5jYWxsKGksdGhpcy5zdG9yZS5jb2RlYykpe3ZhciBjO2NvbnN0IGk9ci5kZWdyYWRhdGlvblByZWZlcmVuY2V8fChEbihjPWUuX2hpbnRzKS5jYWxsKGMsZVAuQ1VTVE9NX1RSQUNLKT9EeShcIkNVU1RPTV9BREFQVEFUSU9OX0RFRkFVTFRfTU9ERVwiKTpcIm1haW50YWluLWZyYW1lcmF0ZVwiKTshZnVuY3Rpb24oZSx0LGksbixyLG8pe2lmKHRGKGUsaSkscih0KSxcImJhbGFuY2VkXCIhPT1uJiZcIm1haW50YWluLWZyYW1lcmF0ZVwiIT09biYmXCJtYWludGFpbi1yZXNvbHV0aW9uXCIhPT1uKXJldHVybjtsZXQgcz0tMTt6VihlLHQpO2NvbnN0IGE9d2luZG93LnNldEludGVydmFsKCgoKT0+e2NvbnN0IGE9ZUYuZ2V0KGUpO2lmKCFEeShcIkVOQUJMRV9BR19BREFQVEFUSU9OXCIpfHwhYSlyZXR1cm4gdEYoZSxpKSx2b2lkIHIodCk7Y29uc3QgYz1vKCk7aWYoYy5zZW5kUGFja2V0cz4wJiZjLk91dGdvaW5nQXZhaWxhYmxlQmFuZHdpZHRoPjApe2lmKC0xPT09cylyZXR1cm4gdm9pZChzPURhdGUubm93KCkpO2lmKERhdGUubm93KCktczwxZTMpcmV0dXJuO2NvbnN0IG89Yy5zZW5kRnJhbWVSYXRlLGQ9Yy5PdXRnb2luZ0F2YWlsYWJsZUJhbmR3aWR0aCxbbCx1XT1YVihlLG8sZCxhLmFkYXB0YXRpb25Db25maWcsdCxuKTt1JiYoaS5xdWFsaXR5TGltaXRhdGlvblJlYXNvbj11KSxsJiZhLmFkYXB0YXRpb25Db25maWcuc2NhbGUhPT1sLnNjYWxlJiYoUXkuZGVidWcoXCJbXCIuY29uY2F0KGUsXCJdIGFwcGx5QWRhcHRhdGlvbjogXCIpLmNvbmNhdChpLnF1YWxpdHlMaW1pdGF0aW9uUmVhc29uLFwiXFxuICAgICAgICAgICBzZW5kRnBzIFwiKS5jb25jYXQobyxcIiwgYndlIFwiKS5jb25jYXQoZCxcIiwgc3dpdGNoIGZyb20gXCIpLmNvbmNhdChhLmFkYXB0YXRpb25Db25maWcuc2NhbGUsXCIgdG8gXCIpLmNvbmNhdChsLnNjYWxlLFwiIFwiKSksYS5hZGFwdGF0aW9uQ29uZmlnPVpWKFpWKHt9LGEuYWRhcHRhdGlvbkNvbmZpZyksbCkscihsKSl9fSksRHkoXCJDSEVDS19MT0NBTF9TVEFUU19JTlRFUlZBTFwiKSksYz1aVih7fSx0KTtlRi5zZXQoZSx7dGltZXI6YSxhZGFwdGF0aW9uQ29uZmlnOmMsb3JpZ2luQ29uZmlnOnQsYWRhcHRhdGlvbkZ1bmM6cn0pLFF5LmRlYnVnKFwiW1wiLmNvbmNhdChlLFwiXSBzdGFydCBhZGFwdGF0aW9uLCBvcmlnaW5Db25maWc6IFwiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkodCksXCIsIGRlZ3JhZGF0aW9uUHJlZmVyZW5jZTogXCIpLmNvbmNhdChuKSl9KHRoaXMuaWQrcy5taWQsYSx0aGlzLGksKGU9Pnt0JiZ0aGlzLnVwZGF0ZUFkYXB0YXRpb24odCxlKX0pLHRoaXMuZ2V0TG9jYWxWaWRlb1N0YXRzLmJpbmQodGhpcykpfWlmKGUuX2VuY29kZXJDb25maWcpe3ZhciBkO2NvbnN0e2JpdHJhdGVNYXg6dCxmcmFtZVJhdGU6aSxzY2FsZVJlc29sdXRpb25Eb3duQnk6bn09ZS5fZW5jb2RlckNvbmZpZzt0JiYoby5tYXhCaXRyYXRlPTFlMyp0KSwoRG4oZD1lLl9oaW50cykuY2FsbChkLGVQLkxPV19TVFJFQU0pfHxlLmlzVXNlU2NhbGVSZXNvbHV0aW9uRG93bkJ5KSYmKGkmJihvLm1heEZyYW1lcmF0ZT1rdyhpKSksbiYmbj49MSYmKG8uc2NhbGVSZXNvbHV0aW9uRG93bkJ5PW4pKX1jb25zdHttYXhGcmFtZXJhdGU6bH09RHkoXCJFTkNPREVSX0NPTkZJR19MSU1JVFwiKTtpZihsJiZcIm51bWJlclwiPT10eXBlb2YgbCYmKG8ubWF4RnJhbWVyYXRlPW8ubWF4RnJhbWVyYXRlP01hdGgubWluKG8ubWF4RnJhbWVyYXRlLGwpOmwpLER5KFwiRFNDUF9UWVBFXCIpJiZRSSgpKXt2YXIgdTtjb25zdCBlPUR5KFwiRFNDUF9UWVBFXCIpO0RuKHU9W1widmVyeS1sb3dcIixcImxvd1wiLFwibWVkaXVtXCIsXCJoaWdoXCJdKS5jYWxsKHUsZSkmJihvLm5ldHdvcmtQcmlvcml0eT1lKX1jb25zdCBoPXQuZ2V0UGFyYW1ldGVycygpLHA9bnVsbD09PShuPWguZW5jb2RpbmdzKXx8dm9pZCAwPT09bj92b2lkIDA6blswXTtrSSgpJiYhcCYmKHIuZW5jb2RpbmdzPVtvXSkscCYmT2JqZWN0LmFzc2lnbihwLG8pLE9iamVjdC5hc3NpZ24oaCxyKSxReS5kZWJ1ZyhcIltcIi5jb25jYXQoZS5nZXRUcmFja0lkKCksXCJdIHVwZGF0ZVJ0cFNlbmRlckVuY29kaW5nczogXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeShoLmVuY29kaW5ncykpKSxhd2FpdCB0LnNldFBhcmFtZXRlcnMoaCksYXdhaXQgYXN5bmMgZnVuY3Rpb24oZSx0LGkpe3RyeXt2YXIgbjtpZighTUQoKS5zdXBwb3J0U2V0UnRwU2VuZGVyUGFyYW1ldGVycylyZXR1cm47aWYoIWZ1bmN0aW9uKGUpe3JldHVyblwidnA5XCI9PT1lfShlKXx8IUR5KFwiRU5BQkxFX1NWQ1wiKSlyZXR1cm47Y29uc3Qgcj17fSxvPXt9LHM9dC5nZXRQYXJhbWV0ZXJzKCksYT1udWxsPT09KG49cy5lbmNvZGluZ3MpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuWzBdO28uc2NhbGFiaWxpdHlNb2RlPUlNKGkpLGEmJk9iamVjdC5hc3NpZ24oYSxvKSxPYmplY3QuYXNzaWduKHMsciksYXdhaXQgdC5zZXRQYXJhbWV0ZXJzKHMpLFF5LmRlYnVnKFwiW3VwZGF0ZUFkYXB0YXRpb25dIHVwZGF0ZVJ0cFNlbmRlckVuY29kaW5ncyBzY2FsYWJpbGl0eU1vZGUgc3VjY2VzczogXCIuY29uY2F0KEpTT04uc3RyaW5naWZ5KHMuZW5jb2RpbmdzKSkpfWNhdGNoKGUpe1F5LmRlYnVnKFwiW3VwZGF0ZUFkYXB0YXRpb25dIHVwZGF0ZVJ0cFNlbmRlckVuY29kaW5ncyBzY2FsYWJpbGl0eU1vZGUgZmFpbGVkXCIsZSl9fSh0aGlzLnN0b3JlLmNvZGVjLHQsRHkoXCJTVkNfTU9ERVwiKSl9YXN5bmMgdXBkYXRlQWRhcHRhdGlvbihlLHQpe3ZhciBpLG47aWYoIWUpcmV0dXJuIFF5LmRlYnVnKFwiW3VwZGF0ZUFkYXB0YXRpb25dIG5vIHJ0cFNlbmRlciBmb3VuZFwiKTtpZighTUQoKS5zdXBwb3J0U2V0UnRwU2VuZGVyUGFyYW1ldGVycylyZXR1cm4gUXkuZGVidWcoXCJbdXBkYXRlQWRhcHRhdGlvbl0gQnJvd3NlciBub3Qgc3VwcG9ydCBzZXQgcnRwLXNlbmRlciBwYXJhbWV0ZXJzXCIpO2NvbnN0IHI9e30se2JpdHJhdGVNYXg6byxmcmFtZVJhdGU6cyxzY2FsZVJlc29sdXRpb25Eb3duQnk6YX09dDtvJiYoci5tYXhCaXRyYXRlPTFlMypvKSxzJiYoci5tYXhGcmFtZXJhdGU9a3cocykpLGEmJmE+PTEmJkRuKGk9W1widnA4XCIsXCJ2cDlcIl0pLmNhbGwoaSx0aGlzLnN0b3JlLmNvZGVjKSYmKHIuc2NhbGVSZXNvbHV0aW9uRG93bkJ5PWEpO2NvbnN0IGM9ZS5nZXRQYXJhbWV0ZXJzKCksZD1udWxsPT09KG49Yy5lbmNvZGluZ3MpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuWzBdO2QmJk9iamVjdC5hc3NpZ24oZCxyKSxPYmplY3QuYXNzaWduKGMse30pO3RyeXthd2FpdCBlLnNldFBhcmFtZXRlcnMoYyksUXkuZGVidWcoXCJbdXBkYXRlQWRhcHRhdGlvbl0gdXBkYXRlUnRwU2VuZGVyRW5jb2RpbmdzOiBcIi5jb25jYXQoSlNPTi5zdHJpbmdpZnkoYy5lbmNvZGluZ3MpKSl9Y2F0Y2godCl7IShcInRyYW5zcG9ydFwiaW4gZSl8fGUudHJhbnNwb3J0JiZcImNvbm5lY3RlZFwiPT09ZS50cmFuc3BvcnQuc3RhdGU/XCJjb25uZWN0ZWRcIiE9PXRoaXMucGVlckNvbm5lY3Rpb25TdGF0ZT9ReS5kZWJ1ZyhcIlt1cGRhdGVBZGFwdGF0aW9uXSBwZWVyQ29ubmVjdGlvbiBub3QgY29ubmVjdGVkfVwiKTpReS5kZWJ1ZyhcIlt1cGRhdGVBZGFwdGF0aW9uXSB1cGRhdGVSdHBTZW5kZXJFbmNvZGluZ3MgZmFpbGVkXCIsdCk6UXkuZGVidWcoXCJbdXBkYXRlQWRhcHRhdGlvbl0gcnRwU2VuZGVyIHRyYW5zcG9ydCBub3QgY29ubmVjdGVkfVwiKX19YXN5bmMgYXBwbHlTZW5kRW5jb2RpbmdzKGUsdCl7dHJ5e2lmKCFNRCgpLnN1cHBvcnRTZXRSdHBTZW5kZXJQYXJhbWV0ZXJzKXJldHVybjtpZihlLmxlbmd0aCE9PXQubGVuZ3RoKXJldHVybjtmb3IobGV0IGk9MDtpPGUubGVuZ3RoO2krKyl7Y29uc3Qgbj1lW2ldLHI9dFtpXTtyIGluc3RhbmNlb2YgSGsmJiF0aGlzLmlzVlA4U2ltdWxjYXN0KHIpJiZhd2FpdCB0aGlzLnVwZGF0ZVJ0cFNlbmRlckVuY29kaW5ncyhyLG4uc2VuZGVyKX19Y2F0Y2goZSl7UXkuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIEFwcGx5IFJUUFNlbmRFbmNvZGluZ3MgZmFpbGVkLlwiKSl9fW11bmdTZW5kT2ZmZXJTRFAoZSx0LGkpe2NvbnN0IG49Q00ucGFyc2UoZSk7cmV0dXJuIHQuZm9yRWFjaCgoKGUsdCk9Pntjb25zdCByPWlbdF0sbz1uLm1lZGlhRGVzY3JpcHRpb25zLmZpbmQoKGU9PmUuYXR0cmlidXRlcy5taWQ9PT1yKSk7byYmKFBNKG8sZSkseE0obyxlLHRoaXMuc3RvcmUuY29kZWMpKX0pKSxDTS5wcmludChuKX1iaW5kU3RhdHNFdmVudHMoKXt0aGlzLnN0YXRzRmlsdGVyLm9uRmlyc3RBdWRpb1JlY2VpdmVkPWU9Pnt2YXIgdDtudWxsPT09KHQ9dGhpcy5vbkZpcnN0QXVkaW9SZWNlaXZlZCl8fHZvaWQgMD09PXR8fHQuY2FsbCh0aGlzLGUpfSx0aGlzLnN0YXRzRmlsdGVyLm9uRmlyc3RWaWRlb1JlY2VpdmVkPWU9Pnt2YXIgdDtudWxsPT09KHQ9dGhpcy5vbkZpcnN0VmlkZW9SZWNlaXZlZCl8fHZvaWQgMD09PXR8fHQuY2FsbCh0aGlzLGUpfSx0aGlzLnN0YXRzRmlsdGVyLm9uRmlyc3RBdWRpb0RlY29kZWQ9ZT0+e3ZhciB0O251bGw9PT0odD10aGlzLm9uRmlyc3RBdWRpb0RlY29kZWQpfHx2b2lkIDA9PT10fHx0LmNhbGwodGhpcyxlKX0sdGhpcy5zdGF0c0ZpbHRlci5vbkZpcnN0VmlkZW9EZWNvZGVkPShlLHQsaSk9Pnt2YXIgbjtudWxsPT09KG49dGhpcy5vbkZpcnN0VmlkZW9EZWNvZGVkKXx8dm9pZCAwPT09bnx8bi5jYWxsKHRoaXMsZSx0LGkpfSx0aGlzLnN0YXRzRmlsdGVyLm9uU2VsZWN0ZWRMb2NhbENhbmRpZGF0ZUNoYW5nZWQ9KGUsdCk9Pnt2YXIgaTtudWxsPT09KGk9dGhpcy5vblNlbGVjdGVkTG9jYWxDYW5kaWRhdGVDaGFuZ2VkKXx8dm9pZCAwPT09aXx8aS5jYWxsKHRoaXMsZSx0KX0sdGhpcy5zdGF0c0ZpbHRlci5vblNlbGVjdGVkUmVtb3RlQ2FuZGlkYXRlQ2hhbmdlZD0oZSx0KT0+e3ZhciBpO251bGw9PT0oaT10aGlzLm9uU2VsZWN0ZWRSZW1vdGVDYW5kaWRhdGVDaGFuZ2VkKXx8dm9pZCAwPT09aXx8aS5jYWxsKHRoaXMsZSx0KX0sdGhpcy5zdGF0c0ZpbHRlci5vbkZpcnN0VmlkZW9EZWNvZGVkVGltZW91dD1lPT57dmFyIHQ7bnVsbD09PSh0PXRoaXMub25GaXJzdFZpZGVvRGVjb2RlZFRpbWVvdXQpfHx2b2lkIDA9PT10fHx0LmNhbGwodGhpcyxlKX19dW5iaW5kU3RhdHNFdmVudHMoKXt0aGlzLnN0YXRzRmlsdGVyLm9uRmlyc3RBdWRpb1JlY2VpdmVkPXZvaWQgMCx0aGlzLnN0YXRzRmlsdGVyLm9uRmlyc3RWaWRlb1JlY2VpdmVkPXZvaWQgMCx0aGlzLnN0YXRzRmlsdGVyLm9uRmlyc3RBdWRpb0RlY29kZWQ9dm9pZCAwLHRoaXMuc3RhdHNGaWx0ZXIub25GaXJzdFZpZGVvRGVjb2RlZD12b2lkIDAsdGhpcy5zdGF0c0ZpbHRlci5vblNlbGVjdGVkTG9jYWxDYW5kaWRhdGVDaGFuZ2VkPXZvaWQgMCx0aGlzLnN0YXRzRmlsdGVyLm9uU2VsZWN0ZWRSZW1vdGVDYW5kaWRhdGVDaGFuZ2VkPXZvaWQgMCx0aGlzLnN0YXRzRmlsdGVyLm9uRmlyc3RWaWRlb0RlY29kZWRUaW1lb3V0PXZvaWQgMH1hc3luYyBhcHBseVNpbXVsY2FzdEZvckZpcmVmb3goZSx0KXtpZihlLmxlbmd0aD09PXQubGVuZ3RoKWZvcihsZXQgYT0wO2E8ZS5sZW5ndGg7YSsrKXt2YXIgaSxuLHIsbyxzO2NvbnN0IGM9ZVthXSxkPXRbYV07aWYoZCBpbnN0YW5jZW9mIEhrJiYhRG4oaT1kLl9oaW50cykuY2FsbChpLGVQLkxPV19TVFJFQU0pJiZudWxsIT09KG49ZC5fZW5jb2RlckNvbmZpZykmJnZvaWQgMCE9PW4mJm4uYml0cmF0ZU1heCYmKG51bGw9PT0ocj1kLl9lbmNvZGVyQ29uZmlnKXx8dm9pZCAwPT09cj92b2lkIDA6ci5iaXRyYXRlTWF4KT4yMDAmJm51bGwhPT0obz1kLl9zY2FsYWJpbGl0eU1vZGUpJiZ2b2lkIDAhPT1vJiZvLm51bVNwYXRpYWxMYXllcnMmJihudWxsPT09KHM9ZC5fc2NhbGFiaWxpdHlNb2RlKXx8dm9pZCAwPT09cz92b2lkIDA6cy5udW1TcGF0aWFsTGF5ZXJzKT4xJiZcInZwOFwiPT09dGhpcy5zdG9yZS5jb2RlYyl7Y29uc3QgZT17fSx0PXtoaWdoOjFlMyooZC5fZW5jb2RlckNvbmZpZy5iaXRyYXRlTWF4LTUwKSxtZWRpdW06NWU0fTtlLmVuY29kaW5ncz1be3JpZDpcIm1cIixhY3RpdmU6ITAsbWF4Qml0cmF0ZTp0Lm1lZGl1bSxzY2FsZVJlc29sdXRpb25Eb3duQnk6NH0se3JpZDpcImhcIixhY3RpdmU6ITAsbWF4Qml0cmF0ZTp0LmhpZ2h9XTtjb25zdCBpPWMuc2VuZGVyLmdldFBhcmFtZXRlcnMoKTthd2FpdCBjLnNlbmRlci5zZXRQYXJhbWV0ZXJzKE9iamVjdC5hc3NpZ24oaSxlKSl9fX1hc3luYyBhcHBseVNpbXVsY2FzdEVuY29kaW5ncyhlLHQpe2lmKCFrSSgpJiZlLmxlbmd0aD09PXQubGVuZ3RoKWZvcihsZXQgaT0wO2k8ZS5sZW5ndGg7aSsrKXtjb25zdCBuPXRbaV07aWYobiBpbnN0YW5jZW9mIEhrJiZ0aGlzLmlzVlA4U2ltdWxjYXN0KG4pKXtjb25zdCB0PWVbaV0scj17fSxvPXtoaWdoOjFlMyoobi5fZW5jb2RlckNvbmZpZy5iaXRyYXRlTWF4LTUwKSxtZWRpdW06NWU0fTtyLmVuY29kaW5ncz1be2FjdGl2ZTohMCxhZGFwdGl2ZVB0aW1lOiExLG5ldHdvcmtQcmlvcml0eTpcImhpZ2hcIixwcmlvcml0eTpcImhpZ2hcIixtYXhCaXRyYXRlOm8uaGlnaH0se2FjdGl2ZTohMCxhZGFwdGl2ZVB0aW1lOiExLG5ldHdvcmtQcmlvcml0eTpcImxvd1wiLHByaW9yaXR5OlwibG93XCIsbWF4Qml0cmF0ZTpvLm1lZGl1bSxzY2FsZVJlc29sdXRpb25Eb3duQnk6NH1dO2NvbnN0IHM9dC5zZW5kZXIuZ2V0UGFyYW1ldGVycygpO2F3YWl0IHQuc2VuZGVyLnNldFBhcmFtZXRlcnMoT2JqZWN0LmFzc2lnbihzLHIpKX19fWlzVlA4U2ltdWxjYXN0KGUpe3ZhciB0LGksbixyLG87cmV0dXJuISEoZSBpbnN0YW5jZW9mIEhrJiZEeShcIlNJTVVMQ0FTVFwiKSYmXCJ2cDhcIj09PXRoaXMuc3RvcmUuY29kZWMmJiFEbih0PWUuX2hpbnRzKS5jYWxsKHQsZVAuTE9XX1NUUkVBTSkmJm51bGwhPT0oaT1lLl9lbmNvZGVyQ29uZmlnKSYmdm9pZCAwIT09aSYmaS5iaXRyYXRlTWF4JiYobnVsbD09PShuPWUuX2VuY29kZXJDb25maWcpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLmJpdHJhdGVNYXgpPjIwMCYmbnVsbCE9PShyPWUuX3NjYWxhYmlsaXR5TW9kZSkmJnZvaWQgMCE9PXImJnIubnVtU3BhdGlhbExheWVycyYmKG51bGw9PT0obz1lLl9zY2FsYWJpbGl0eU1vZGUpfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLm51bVNwYXRpYWxMYXllcnMpPjEpfWxvZ1NEUEV4Y2hhbmdlKGUsdCxpLG4pe2lmKER5KFwiU0RQX0xPR0dJTkdcIikpcmV0dXJuIFF5LnVwbG9hZChcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gZXhjaGFuZ2luZyBcIikuY29uY2F0KGksXCIgXCIpLmNvbmNhdCh0LFwiIFNEUCBkdXJpbmcgUDJQQ29ubmVjdGlvbi5cIikuY29uY2F0KG4sXCJcXG5cIiksZSksXCJvZmZlclwiPT09dD9lPT57dGhpcy5sb2dTRFBFeGNoYW5nZShlLFwiYW5zd2VyXCIsXCJsb2NhbFwiPT09aT9cInJlbW90ZVwiOlwibG9jYWxcIixuKX06dm9pZCAwfWFzeW5jIGdldFJlbW90ZVNTUkMoZSl7aWYoIXRoaXMucmVtb3RlU0RQKXJldHVybjtjb25zdCB0PXRoaXMucmVtb3RlU0RQLmdldFNTUkMoZSk7cmV0dXJuIHQmJjAhPT10Lmxlbmd0aD90WzBdLnNzcmNJZDp2b2lkIDB9c2V0Q29uZmlndXJhdGlvbih0KXtpZihNRCgpLnN1cHBvcnRQQ1NldENvbmZpZ3VyYXRpb24pe2NvbnN0IGk9ZS5yZXNvbHZlUENDb25maWd1cmF0aW9uKHQpO3RoaXMucGVlckNvbm5lY3Rpb24uc2V0Q29uZmlndXJhdGlvbihpKX19fSxyYihpRi5wcm90b3R5cGUsXCJ1cGRhdGVSZW1vdGVSVFBDYXBhYmlsaXRpZXNcIixbc0ZdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaUYucHJvdG90eXBlLFwidXBkYXRlUmVtb3RlUlRQQ2FwYWJpbGl0aWVzXCIpLGlGLnByb3RvdHlwZSkscmIoaUYucHJvdG90eXBlLFwiY29ubmVjdFwiLFtzRl0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpRi5wcm90b3R5cGUsXCJjb25uZWN0XCIpLGlGLnByb3RvdHlwZSkscmIoaUYucHJvdG90eXBlLFwidXBkYXRlUmVtb3RlQ29ubmVjdFwiLFtzRl0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpRi5wcm90b3R5cGUsXCJ1cGRhdGVSZW1vdGVDb25uZWN0XCIpLGlGLnByb3RvdHlwZSkscmIoaUYucHJvdG90eXBlLFwiY3JlYXRlRGF0YUNoYW5uZWxzXCIsW3NGXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGlGLnByb3RvdHlwZSxcImNyZWF0ZURhdGFDaGFubmVsc1wiKSxpRi5wcm90b3R5cGUpLHJiKGlGLnByb3RvdHlwZSxcInJlY2VpdmVcIixbc0ZdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaUYucHJvdG90eXBlLFwicmVjZWl2ZVwiKSxpRi5wcm90b3R5cGUpLHJiKGlGLnByb3RvdHlwZSxcImJhdGNoUmVjZWl2ZVwiLFtzRl0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpRi5wcm90b3R5cGUsXCJiYXRjaFJlY2VpdmVcIiksaUYucHJvdG90eXBlKSxyYihpRi5wcm90b3R5cGUsXCJzdG9wUmVjZWl2aW5nXCIsW3NGXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGlGLnByb3RvdHlwZSxcInN0b3BSZWNlaXZpbmdcIiksaUYucHJvdG90eXBlKSxyYihpRi5wcm90b3R5cGUsXCJtdXRlUmVtb3RlXCIsW3NGXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGlGLnByb3RvdHlwZSxcIm11dGVSZW1vdGVcIiksaUYucHJvdG90eXBlKSxyYihpRi5wcm90b3R5cGUsXCJ1bm11dGVSZW1vdGVcIixbc0ZdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaUYucHJvdG90eXBlLFwidW5tdXRlUmVtb3RlXCIpLGlGLnByb3RvdHlwZSkscmIoaUYucHJvdG90eXBlLFwibXV0ZUxvY2FsXCIsW3NGXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGlGLnByb3RvdHlwZSxcIm11dGVMb2NhbFwiKSxpRi5wcm90b3R5cGUpLHJiKGlGLnByb3RvdHlwZSxcInVubXV0ZUxvY2FsXCIsW3NGXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGlGLnByb3RvdHlwZSxcInVubXV0ZUxvY2FsXCIpLGlGLnByb3RvdHlwZSkscmIoaUYucHJvdG90eXBlLFwiY2xvc2VcIixbc0ZdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaUYucHJvdG90eXBlLFwiY2xvc2VcIiksaUYucHJvdG90eXBlKSxyYihpRi5wcm90b3R5cGUsXCJ1cGRhdGVFbmNvZGVyQ29uZmlnXCIsW3NGXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGlGLnByb3RvdHlwZSxcInVwZGF0ZUVuY29kZXJDb25maWdcIiksaUYucHJvdG90eXBlKSxyYihpRi5wcm90b3R5cGUsXCJ1cGRhdGVTZW5kUGFyYW1ldGVyc1wiLFtzRl0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpRi5wcm90b3R5cGUsXCJ1cGRhdGVTZW5kUGFyYW1ldGVyc1wiKSxpRi5wcm90b3R5cGUpLHJiKGlGLnByb3RvdHlwZSxcInJlcGxhY2VUcmFja1wiLFtzRl0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpRi5wcm90b3R5cGUsXCJyZXBsYWNlVHJhY2tcIiksaUYucHJvdG90eXBlKSxyYihpRi5wcm90b3R5cGUsXCJ1cGRhdGVBZGFwdGF0aW9uXCIsW3NGXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGlGLnByb3RvdHlwZSxcInVwZGF0ZUFkYXB0YXRpb25cIiksaUYucHJvdG90eXBlKSxyYihpRi5wcm90b3R5cGUsXCJnZXRSZW1vdGVTU1JDXCIsW3NGXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGlGLnByb3RvdHlwZSxcImdldFJlbW90ZVNTUkNcIiksaUYucHJvdG90eXBlKSxpRik7ZnVuY3Rpb24gc0YoZSx0LGkpe2NvbnN0IG49ZVt0XTtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBuKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCB1c2UgbXV0ZXggb24gb2JqZWN0IHByb3BlcnR5LlwiKTtyZXR1cm4gaS52YWx1ZT1hc3luYyBmdW5jdGlvbigpe2NvbnN0IGU9dGhpcy5tdXRleCxpPWF3YWl0IGUubG9jayhcIkZyb20gUDJQQ29ubmVjdGlvbi5cIi5jb25jYXQodCkpO3RyeXtmb3IodmFyIHI9YXJndW1lbnRzLmxlbmd0aCxvPW5ldyBBcnJheShyKSxzPTA7czxyO3MrKylvW3NdPWFyZ3VtZW50c1tzXTtyZXR1cm4gYXdhaXQgbi5hcHBseSh0aGlzLG8pfWZpbmFsbHl7aSgpfX0saX12YXIgYUY7ZnVuY3Rpb24gY0YoZSx0KXt2YXIgaT1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihuPW4uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLGkucHVzaC5hcHBseShpLG4pfXJldHVybiBpfWZ1bmN0aW9uIGRGKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBpPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP2NGKE9iamVjdChpKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7b2coZSx0LGlbdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoaSkpOmNGKE9iamVjdChpKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGksdCkpfSkpfXJldHVybiBlfWZ1bmN0aW9uIGxGKGUpe3ZhciB0LGksbixyPTI7Zm9yKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJihpPU9WLG49U3ltYm9sLml0ZXJhdG9yKTtyLS07KXtpZihpJiZudWxsIT0odD1lW2ldKSlyZXR1cm4gdC5jYWxsKGUpO2lmKG4mJm51bGwhPSh0PWVbbl0pKXJldHVybiBuZXcgdUYodC5jYWxsKGUpKTtpPVwiQEBhc3luY0l0ZXJhdG9yXCIsbj1cIkBAaXRlcmF0b3JcIn10aHJvdyBuZXcgVHlwZUVycm9yKFwiT2JqZWN0IGlzIG5vdCBhc3luYyBpdGVyYWJsZVwiKX1mdW5jdGlvbiB1RihlKXtmdW5jdGlvbiB0KGUpe2lmKE9iamVjdChlKSE9PWUpcmV0dXJuIEdoLnJlamVjdChuZXcgVHlwZUVycm9yKGUrXCIgaXMgbm90IGFuIG9iamVjdC5cIikpO3ZhciB0PWUuZG9uZTtyZXR1cm4gR2gucmVzb2x2ZShlLnZhbHVlKS50aGVuKChmdW5jdGlvbihlKXtyZXR1cm57dmFsdWU6ZSxkb25lOnR9fSkpfXJldHVybiB1Rj1mdW5jdGlvbihlKXt0aGlzLnM9ZSx0aGlzLm49ZS5uZXh0fSx1Ri5wcm90b3R5cGU9e3M6bnVsbCxuOm51bGwsbmV4dDpmdW5jdGlvbigpe3JldHVybiB0KHRoaXMubi5hcHBseSh0aGlzLnMsYXJndW1lbnRzKSl9LHJldHVybjpmdW5jdGlvbihlKXt2YXIgaT10aGlzLnMucmV0dXJuO3JldHVybiB2b2lkIDA9PT1pP0doLnJlc29sdmUoe3ZhbHVlOmUsZG9uZTohMH0pOnQoaS5hcHBseSh0aGlzLnMsYXJndW1lbnRzKSl9LHRocm93OmZ1bmN0aW9uKGUpe3ZhciBpPXRoaXMucy5yZXR1cm47cmV0dXJuIHZvaWQgMD09PWk/R2gucmVqZWN0KGUpOnQoaS5hcHBseSh0aGlzLnMsYXJndW1lbnRzKSl9fSxuZXcgdUYoZSl9bGV0IGhGPShhRj1jbGFzcyBleHRlbmRzIFN2e2dldCBzdGF0ZSgpe3JldHVybiB0aGlzLl9zdGF0ZX1zZXQgc3RhdGUoZSl7Y29uc3QgdD10aGlzLl9zdGF0ZTt0aGlzLl9zdGF0ZT1lLHRoaXMuZW1pdChRYi5TdGF0ZUNoYW5nZSx0LHRoaXMuX3N0YXRlKX1jb25zdHJ1Y3RvcihlLHQpe3N1cGVyKCksb2codGhpcyxcImlzUGxhbkJcIix2b2lkIDApLG9nKHRoaXMsXCJzdG9yZVwiLHZvaWQgMCksb2codGhpcyxcInN0YXRzVXBsb2FkZXJcIix2b2lkIDApLG9nKHRoaXMsXCJjb25uZWN0aW9uXCIsdm9pZCAwKSxvZyh0aGlzLFwibG9jYWxUcmFja01hcFwiLG5ldyBNYXApLG9nKHRoaXMsXCJyZW1vdGVVc2VyTWFwXCIsbmV3IE1hcCksb2codGhpcyxcImxvY2FsRGF0YUNoYW5uZWxzXCIsW10pLG9nKHRoaXMsXCJyZW1vdGVEYXRhQ2hhbm5lbE1hcFwiLG5ldyBNYXApLG9nKHRoaXMsXCJwZW5kaW5nTG9jYWxUcmFja3NcIixbXSksb2codGhpcyxcInBlbmRpbmdSZW1vdGVUcmFja3NcIixbXSksb2codGhpcyxcInBlbmRpbmdMb2NhbERhdGFDaGFubmVsc1wiLFtdKSxvZyh0aGlzLFwicGVuZGluZ1JlbW90ZURhdGFDaGFubmVsc1wiLFtdKSxvZyh0aGlzLFwic3RhdHNDb2xsZWN0b3JcIix2b2lkIDApLG9nKHRoaXMsXCJzaG91bGRGb3J3YXJkUDJQQ3JlYXRpb25cIix2b2lkIDApLG9nKHRoaXMsXCJpY2VGYWlsZWRDb3VudFwiLDApLG9nKHRoaXMsXCJkdGxzRmFpbGVkQ291bnRcIiwwKSxvZyh0aGlzLFwibXV0ZXhcIixuZXcgaHkoXCJQMlBDaGFubmVsLW11dGV4XCIpKSxvZyh0aGlzLFwiX3N0YXRlXCIsWGIuRGlzY29ubmVjdGVkKSxvZyh0aGlzLFwiX3BjU3RhdHNVcGxvYWRUeXBlXCIsRHkoXCJORVdfSUNFX1JFU1RBUlRcIik/emIuRklSU1RfQ09OTkVDVElPTjp6Yi5PTERfRklSU1RfQ09OTkVDVElPTiksb2codGhpcyxcIl9pc0luUmVzdGFydEljZVwiLCExKSxvZyh0aGlzLFwiX2lzU3RhcnRSZXN0YXJ0SWNlXCIsITEpLG9nKHRoaXMsXCJfcmVzdGFydFN0YXRlc1wiLFtcImRpc2Nvbm5lY3RlZFwiLFwiZmFpbGVkXCJdKSxvZyh0aGlzLFwiX3Jlc3RhcnRUaW1lclwiLHZvaWQgMCksb2codGhpcyxcIl9pc0ZpcnN0Q29ubmVjdGVkXCIsITApLG9nKHRoaXMsXCJoYW5kbGVNdXRlTG9jYWxUcmFja1wiLChhc3luYyhlLHQsaSk9Pntjb25zdCBuPWF3YWl0IHRoaXMubXV0ZXgubG9jayhcIkxvY2tpbmcgZnJvbSBQMlBDaGFubmVsLmhhbmRsZU11dGVMb2NhbFRyYWNrXCIpO3RyeXtpZighdGhpcy5jb25uZWN0aW9ufHx0aGlzLnN0YXRlIT09WGIuQ29ubmVjdGVkKXJldHVybiB2b2lkIGkobmV3IHJ2KG52LklOVkFMSURfT1BFUkFUSU9OLFwiQ2Fubm90IGNhbGwgUDJQQ2hhbm5lbC5oYW5kbGVNdXRlTG9jYWxUcmFjayBiZWZvcmUgY29ubmVjdGlvbiBlc3RhYmxpc2hlZC5cIikpO2NvbnN0IHI9dGhpcy5maWx0ZXJUb2JlTXV0ZWRUcmFja3MoZSk7aWYoMD09PXIubGVuZ3RoKXJldHVybiB2b2lkIHQoKTtjb25zdCBvPXIuZmluZCgoZT0+XCJ2aWRlb0xvd1RyYWNrXCI9PT1lWzBdKSk7aWYobyl7b1sxXS50cmFjay5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjay5zdG9wKCl9YXdhaXQgdGhpcy5jb25uZWN0aW9uLm11dGVMb2NhbChyLm1hcCgoZT0+e2xldFsse2lkOnR9XT1lO3JldHVybiB0fSkpKTtjb25zdCBzPXRoaXMuY3JlYXRlTXV0ZU1lc3NhZ2Uocik7YXdhaXQgTXYodGhpcyxRYi5SZXF1ZXN0TXV0ZUxvY2FsLHMpLHQoKX1jYXRjaChlKXtpKGUpfWZpbmFsbHl7bigpfX0pKSxvZyh0aGlzLFwiaGFuZGxlVW5tdXRlTG9jYWxUcmFja1wiLChhc3luYyhlLHQsaSk9Pntjb25zdCBuPWF3YWl0IHRoaXMubXV0ZXgubG9jayhcIkxvY2tpbmcgZnJvbSBQMlBDaGFubmVsLmhhbmRsZVVubXV0ZUxvY2FsVHJhY2tcIik7dHJ5e2lmKCF0aGlzLmNvbm5lY3Rpb258fHRoaXMuc3RhdGUhPT1YYi5Db25uZWN0ZWQpcmV0dXJuIHZvaWQgaShuZXcgcnYobnYuSU5WQUxJRF9PUEVSQVRJT04sXCJDYW5ub3QgY2FsbCBQMlBDaGFubmVsLmhhbmRsZVVubXV0ZUxvY2FsVHJhY2sgYmVmb3JlIGNvbm5lY3Rpb24gZXN0YWJsaXNoZWQuXCIpKTtjb25zdCByPXRoaXMuZmlsdGVyVG9iZVVubXV0ZWRUcmFja3MoZSk7aWYoMD09PXIubGVuZ3RoKXJldHVybiB2b2lkIHQoKTtjb25zdCBvPXIuZmluZCgoZT0+XCJ2aWRlb0xvd1RyYWNrXCI9PT1lWzBdKSk7aWYobyl7Y29uc3QgdD1vWzFdO2lmKHQudHJhY2suX29yaWdpbk1lZGlhU3RyZWFtVHJhY2suc3RvcCgpLCFEeShcIkRJU0FCTEVfRFVBTF9TVFJFQU1fVVNFX0VOQ09ESU5HXCIpJiZNRCgpLnN1cHBvcnREdWFsU3RyZWFtRW5jb2Rpbmcpe2NvbnN0IGk9ZS5fbWVkaWFTdHJlYW1UcmFjay5jbG9uZSgpO3QudHJhY2suX21lZGlhU3RyZWFtVHJhY2s9aSx0LnRyYWNrLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrPWl9ZWxzZXtjb25zdCBpPUZ4KGUseHYodGhpcyxRYi5SZXF1ZXN0TG93U3RyZWFtUGFyYW1ldGVyKSk7dC50cmFjay5fbWVkaWFTdHJlYW1UcmFjaz1pLHQudHJhY2suX29yaWdpbk1lZGlhU3RyZWFtVHJhY2s9aX1hd2FpdCBuZXcgR2goKChlLGkpPT57dGhpcy5oYW5kbGVSZXBsYWNlVHJhY2sodC50cmFjayxlLGksITApfSkpfWF3YWl0IHRoaXMuY29ubmVjdGlvbi51bm11dGVMb2NhbChyLm1hcCgoZT0+e2xldFsse2lkOnR9XT1lO3JldHVybiB0fSkpKTtjb25zdCBzPXRoaXMuY3JlYXRlVW5tdXRlTWVzc2FnZShyKTthd2FpdCBNdih0aGlzLFFiLlJlcXVlc3RVbm11dGVMb2NhbCxzKSx0KCl9Y2F0Y2goZSl7aShlKX1maW5hbGx5e24oKX19KSksb2codGhpcyxcImhhbmRsZVVwZGF0ZVZpZGVvRW5jb2RlclwiLChhc3luYyhlLHQsaSk9Pntjb25zdCBuPWF3YWl0IHRoaXMubXV0ZXgubG9jayhcIkxvY2tpbmcgZnJvbSBQMlBDaGFubmVsLmhhbmRsZVNldFZpZGVvRW5jb2RlclwiKTt0cnl7Y29uc3QgaT10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KEpiLkxvY2FsVmlkZW9UcmFjayk7aWYoIXRoaXMuY29ubmVjdGlvbnx8IWl8fGkudHJhY2shPT1lfHx0aGlzLnN0YXRlIT09WGIuQ29ubmVjdGVkKXJldHVybiB2b2lkIHQoKTtjb25zdHtpZDpyLHRyYWNrOm99PWk7YXdhaXQgdGhpcy5jb25uZWN0aW9uLnVwZGF0ZVNlbmRQYXJhbWV0ZXJzKHIsbyksYXdhaXQgdGhpcy5jb25uZWN0aW9uLnVwZGF0ZUVuY29kZXJDb25maWcocixvKSx0aGlzLmVtaXQoUWIuVXBkYXRlVmlkZW9FbmNvZGVyLG8pLHQoKX1jYXRjaChlKXtpKGUpfWZpbmFsbHl7bigpfX0pKSxvZyh0aGlzLFwiaGFuZGxlVXBkYXRlVmlkZW9TZW5kUGFyYW1ldGVyc1wiLChhc3luYyhlLHQsaSk9Pntjb25zdCBuPWF3YWl0IHRoaXMubXV0ZXgubG9jayhcIkxvY2tpbmcgZnJvbSBQMlBDaGFubmVsLmhhbmRsZVVwZGF0ZVZpZGVvU2VuZFBhcmFtZXRlcnNcIik7dHJ5e2NvbnN0IGk9dGhpcy5sb2NhbFRyYWNrTWFwLmdldChKYi5Mb2NhbFZpZGVvVHJhY2spO2lmKCF0aGlzLmNvbm5lY3Rpb258fCFpfHxpLnRyYWNrIT09ZXx8dGhpcy5zdGF0ZSE9PVhiLkNvbm5lY3RlZClyZXR1cm4gdm9pZCB0KCk7Y29uc3R7aWQ6cix0cmFjazpvfT1pO2F3YWl0IHRoaXMuY29ubmVjdGlvbi51cGRhdGVTZW5kUGFyYW1ldGVycyhyLG8pLHQoKX1jYXRjaChlKXtpKGUpfWZpbmFsbHl7bigpfX0pKSxvZyh0aGlzLFwiaGFuZGxlUmVwbGFjZU1peGluZ1RyYWNrXCIsKGFzeW5jKGUsdCxpLG4pPT57aWYoIXRoaXMuY29ubmVjdGlvbnx8dGhpcy5zdGF0ZSE9PVhiLkNvbm5lY3RlZClyZXR1cm4gdm9pZCB0KCk7Y29uc3Qgcj1zVihbZV0pO2xldCBvO1F5LmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbcDJwSWQ6IFwiKS5jb25jYXQodGhpcy5zdG9yZS5wMnBJZCxcIl06IFAyUENvbm5lY3Rpb24gd2lsbCByZXBsYWNlIGF1ZGlvVHJhY2sgW1wiKS5jb25jYXQoci5nZXRUcmFja0lkKCksXCJdXCIpKSxcImJvb2xlYW5cIj09dHlwZW9mIG4mJm58fChvPWF3YWl0IHRoaXMubXV0ZXgubG9jayhcIkZyb20gUDJQQ2hhbm5lbC5oYW5kbGVSZXBsYWNlTWl4aW5nVHJhY2tcIikpO3RyeXthd2FpdCB0aGlzLnJlcGxhY2VUcmFjayhlLHIpLHQoKX1jYXRjaChlKXtpKGUpfWZpbmFsbHl7dmFyIHM7bnVsbD09PShzPW8pfHx2b2lkIDA9PT1zfHxzKCl9fSkpLG9nKHRoaXMsXCJoYW5kbGVSZXBsYWNlVHJhY2tcIiwoYXN5bmMoZSx0LGksbik9PntsZXQgcjtReS5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gUDJQQ2hhbm5lbCBoYW5kbGVSZXBsYWNlVHJhY2sgZm9yIFt0cmFjay1pZC1cIikuY29uY2F0KGUuZ2V0VHJhY2tJZCgpLFwiXVwiKSksXCJib29sZWFuXCI9PXR5cGVvZiBuJiZufHwocj1hd2FpdCB0aGlzLm11dGV4LmxvY2soXCJGcm9tIFAyUENoYW5uZWwuaGFuZGxlUmVwbGFjZVRyYWNrXCIpKTt0cnl7dmFyIG87Y29uc3QgaT1BcnJheS5mcm9tKHRoaXMubG9jYWxUcmFja01hcC5lbnRyaWVzKCkpLmZpbmQoKHQ9PntsZXRbLHt0cmFjazppfV09dDtyZXR1cm4gZT09PWl9KSk7aWYoIXRoaXMuY29ubmVjdGlvbnx8IWl8fHRoaXMuc3RhdGUhPT1YYi5Db25uZWN0ZWQpcmV0dXJuIHZvaWQgdCgpO2lmKGF3YWl0KG51bGw9PT0obz10aGlzLmNvbm5lY3Rpb24pfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLnJlcGxhY2VUcmFjayhlLGlbMV0uaWQpKSx0aGlzLmlzUGxhbkIpe2NvbnN0IHQ9aVsxXTt0LmlkPWUuX21lZGlhU3RyZWFtVHJhY2suaWQsdGhpcy5sb2NhbFRyYWNrTWFwLnNldChpWzBdLHQpfWlmKGlbMF09PT1KYi5Mb2NhbFZpZGVvVHJhY2smJiFEeShcIkRJU0FCTEVfRFVBTF9TVFJFQU1fVVNFX0VOQ09ESU5HXCIpJiZNRCgpLnN1cHBvcnREdWFsU3RyZWFtRW5jb2Rpbmcpe2NvbnN0IHQ9dGhpcy5sb2NhbFRyYWNrTWFwLmdldChKYi5Mb2NhbFZpZGVvTG93VHJhY2spO2lmKHQpe2NvbnN0IGk9ZS5fbWVkaWFTdHJlYW1UcmFjay5jbG9uZSgpO3QudHJhY2suX29yaWdpbk1lZGlhU3RyZWFtVHJhY2suc3RvcCgpLHQudHJhY2suX21lZGlhU3RyZWFtVHJhY2s9aSx0LnRyYWNrLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrPWksYXdhaXQgbmV3IEdoKCgoZSxpKT0+e3RoaXMuaGFuZGxlUmVwbGFjZVRyYWNrKHQudHJhY2ssZSxpLCEwKX0pKX19dCgpfWNhdGNoKGUpe2koZSl9ZmluYWxseXt2YXIgcztudWxsPT09KHM9cil8fHZvaWQgMD09PXN8fHMoKX19KSksb2codGhpcyxcImhhbmRsZUdldFJUQ1N0YXRzXCIsKGU9PntlKHRoaXMuc3RhdHNDb2xsZWN0b3IuZ2V0UlRDU3RhdHMoKSl9KSksb2codGhpcyxcImhhbmRsZUdldExvY2FsVmlkZW9TdGF0c1wiLChlPT57ZSh0aGlzLnN0YXRzQ29sbGVjdG9yLmdldExvY2FsVmlkZW9UcmFja1N0YXRzKCkpfSkpLG9nKHRoaXMsXCJoYW5kbGVHZXRMb2NhbEF1ZGlvU3RhdHNcIiwoZT0+e2UodGhpcy5zdGF0c0NvbGxlY3Rvci5nZXRMb2NhbEF1ZGlvVHJhY2tTdGF0cygpKX0pKSxvZyh0aGlzLFwiaGFuZGxlR2V0UmVtb3RlVmlkZW9TdGF0c1wiLChlPT50aGlzLnN0YXRzQ29sbGVjdG9yLmdldFJlbW90ZVZpZGVvVHJhY2tTdGF0cyhlLnVpZClbZS51aWRdKSksb2codGhpcyxcImhhbmRsZUdldFJlbW90ZUF1ZGlvU3RhdHNcIiwoZT0+dGhpcy5zdGF0c0NvbGxlY3Rvci5nZXRSZW1vdGVBdWRpb1RyYWNrU3RhdHMoZS51aWQpW2UudWlkXSkpLHRoaXMuc3RvcmU9ZSx0aGlzLnN0YXRzQ29sbGVjdG9yPXQsdGhpcy5zdGF0c0NvbGxlY3Rvci5hZGRQMlBDaGFubmVsKHRoaXMpLHRoaXMuc3RhdHNVcGxvYWRlcj1uZXcgdFYodGhpcy5zdG9yZSksdGhpcy5iaW5kU3RhdHNVcGxvYWRlckV2ZW50cygpLHRoaXMuaXNQbGFuQj0hTUQoKS5zdXBwb3J0VW5pZmllZFBsYW58fER5KFwiQ0hST01FX0ZPUkNFX1BMQU5fQlwiKSYmUUkoKSx0aGlzLnNob3VsZEZvcndhcmRQMlBDcmVhdGlvbj1EeShcIkZPUldBUkRfUDJQX0NSRUFUSU9OXCIpJiZNRCgpLnN1cHBvcnRQQ1NldENvbmZpZ3VyYXRpb24mJlhJKCksdGhpcy5zaG91bGRGb3J3YXJkUDJQQ3JlYXRpb24mJih0aGlzLmNvbm5lY3Rpb249dGhpcy5pc1BsYW5CP25ldyBNVih7fSx0aGlzLnN0b3JlKTpuZXcgb0Yoe30sdGhpcy5zdG9yZSksdGhpcy5iaW5kQ29ubmVjdGlvbkV2ZW50cyh0aGlzLmNvbm5lY3Rpb24pKX1hc3luYyBzdGFydFAyUENvbm5lY3Rpb24oZSl7dmFyIHQ7dGhpcy5zdGF0ZT1YYi5OZXc7Y29uc3QgaT10aGlzLnNob3VsZEZvcndhcmRQMlBDcmVhdGlvbiYmXCJjbG9zZWRcIj09PShudWxsPT09KHQ9dGhpcy5jb25uZWN0aW9uKXx8dm9pZCAwPT09dD92b2lkIDA6dC5wZWVyQ29ubmVjdGlvblN0YXRlKTtpZih0aGlzLnNob3VsZEZvcndhcmRQMlBDcmVhdGlvbiYmIWl8fChpJiZ0aGlzLmNvbm5lY3Rpb24mJihReS53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBQMlBDaGFubmVsLnN0YXJ0UDJQQ29ubmVjdGlvbiBGb3J3YXJkUDJQIGNsb3NlZC5cIikpLHRoaXMuY29ubmVjdGlvbi5jbG9zZSgpLHRoaXMudW5iaW5kQ29ubmVjdGlvbkV2ZW50cyh0aGlzLmNvbm5lY3Rpb24pKSx0aGlzLmNvbm5lY3Rpb249dGhpcy5pc1BsYW5CP25ldyBNVihlLHRoaXMuc3RvcmUpOm5ldyBvRihlLHRoaXMuc3RvcmUpLHRoaXMuYmluZENvbm5lY3Rpb25FdmVudHModGhpcy5jb25uZWN0aW9uKSksIXRoaXMuY29ubmVjdGlvbil0aHJvdyBuZXcgcnYobnYuVU5FWFBFQ1RFRF9FUlJPUixcIkNhbm5vdCBQMlBDaGFubmVsLnN0YXJ0Q29ubmVjdGlvbiBiZWZvcmUgUDJQQ29ubmVjdGlvbiBpbml0aWFsaXphdGlvbiAuXCIpO3JldHVybiB0aGlzLl9wY1N0YXRzVXBsb2FkVHlwZT1EeShcIk5FV19JQ0VfUkVTVEFSVFwiKT96Yi5GSVJTVF9DT05ORUNUSU9OOnpiLk9MRF9GSVJTVF9DT05ORUNUSU9OLHRoaXMuX2lzRmlyc3RDb25uZWN0ZWQ9ITAsdGhpcy5faXNJblJlc3RhcnRJY2U9ITEsdGhpcy5faXNTdGFydFJlc3RhcnRJY2U9ITEsdGhpcy5jb25uZWN0aW9uLnNldENvbmZpZ3VyYXRpb24oZSksdGhpcy5jb25uZWN0aW9uLmVzdGFibGlzaFByb21pc2V9YXN5bmMgY29ubmVjdChlKXtpZighdGhpcy5jb25uZWN0aW9uKXRocm93IG5ldyBydihudi5VTkVYUEVDVEVEX0VSUk9SLFwiQ2Fubm90IFAyUENoYW5uZWwuY29ubmVjdCBiZWZvcmUgUDJQQ2hhbm5lbC5zdGFydFAyUENvbm5lY3Rpb24gLlwiKTtEeShcIkVOQUJMRV9QUkVBTExPQ19QQ1wiKSYmdGhpcy5zdGF0ZT09PVhiLkNvbm5lY3RlZD9hd2FpdCB0aGlzLmNvbm5lY3Rpb24udXBkYXRlUmVtb3RlQ29ubmVjdChlKToodGhpcy5zdG9yZS5wZWVyQ29ubmVjdGlvblN0YXJ0KCksYXdhaXQgdGhpcy5jb25uZWN0aW9uLmNvbm5lY3QoZSksdGhpcy5zdGF0c1VwbG9hZGVyLnN0YXJ0VXBsb2FkVHJhbnNwb3J0U3RhdHMoKSx0aGlzLnN0YXRzVXBsb2FkZXIuc3RhcnRVcGxvYWRFeHRlbnNpb25Vc2FnZVN0YXRzKCksdGhpcy5zdGF0ZT1YYi5Db25uZWN0ZWQpfXVwZGF0ZVJlbW90ZVJUUENhcGFiaWxpdGllcyhlKXtjb25zdCB0PUFycmF5LmZyb20odGhpcy5sb2NhbFRyYWNrTWFwLmVudHJpZXMoKSkuZmlsdGVyKChlPT57dmFyIHQ7bGV0W2ldPWU7cmV0dXJuIERuKHQ9W0piLkxvY2FsVmlkZW9Mb3dUcmFjayxKYi5Mb2NhbFZpZGVvVHJhY2tdKS5jYWxsKHQsaSl9KSksaT10Lm1hcCgoZT0+e2xldFsse2lkOnR9XT1lO3JldHVybiB0fSkpLG49dC5tYXAoKGU9PntsZXRbdF09ZTtyZXR1cm4gdH0pKTtpZih0aGlzLmNvbm5lY3Rpb24gaW5zdGFuY2VvZiBvRil7aWYoc0EudXBkYXRlUmVtb3RlUlRQQ2FwYWJpbGl0aWVzKHRoaXMuc3RvcmUuc2Vzc2lvbklkLHt0cmFja1R5cGVzOkpTT04uc3RyaW5naWZ5KG4pLGxvY2FsQ29kZWNzOkpTT04uc3RyaW5naWZ5KHRoaXMuY29ubmVjdGlvbi5sb2NhbENvZGVjcykscmVtb3RlQ29kZWNzOkpTT04uc3RyaW5naWZ5KGUpfSksIURuKGUpLmNhbGwoZSx0aGlzLnN0b3JlLmNvZGVjKSl7Y29uc3QgdD1bXCJ2cDlcIixcInZwOFwiLFwiaDI2NFwiXS5maW5kKCh0PT5EbihlKS5jYWxsKGUsdCkpKTt0JiYodGhpcy5zdG9yZS5jb2RlYz10LFF5LmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbXCIpLmNvbmNhdCh0aGlzLnN0b3JlLnAycElkLFwiIHVwZGF0ZVJlbW90ZVJUUENhcGFiaWxpdGllc10gZGVmYXVsdCBjb2RlYyBpcyBub3QgYXZhaWxhYmxlLCBoZW5jZSB0aGUgZmFsbGJhY2sgdG8gXCIpLmNvbmNhdCh0LFwiLlwiKSkpfXRoaXMuY29ubmVjdGlvbi51cGRhdGVSZW1vdGVSVFBDYXBhYmlsaXRpZXMoaSxlKX19YXN5bmMgZ2V0RXN0YWJsaXNoUGFyYW1zKCl7dmFyIGU7aWYodGhpcy5jb25uZWN0aW9uIGluc3RhbmNlb2Ygb0YmJlwiY2xvc2VkXCIhPT10aGlzLmNvbm5lY3Rpb24ucGVlckNvbm5lY3Rpb25TdGF0ZSYmRG4oZT1bWGIuTmV3LFhiLkNvbm5lY3RlZF0pLmNhbGwoZSx0aGlzLnN0YXRlKSlyZXR1cm4gdGhpcy5jb25uZWN0aW9uLmVzdGFibGlzaFByb21pc2V9YXN5bmMgcHVibGlzaERhdGFDaGFubmVsKGUpe2lmKCF0aGlzLmNvbm5lY3Rpb258fHRoaXMuc3RhdGUhPT1YYi5Db25uZWN0ZWQpe2lmKHRoaXMuc3RhdGU9PT1YYi5EaXNjb25uZWN0ZWQpdGhyb3cgbmV3IHJ2KG52LlVORVhQRUNURURfRVJST1IsXCJQZWVyQ29ubmVjdGlvbiBhbHJlYWR5IGRpc2Nvbm5lY3RlZC5cIik7cmV0dXJuIGUuZm9yRWFjaCgoZT0+e3ZhciB0O0RuKHQ9dGhpcy5wZW5kaW5nTG9jYWxEYXRhQ2hhbm5lbHMpLmNhbGwodCxlKXx8dGhpcy5wZW5kaW5nTG9jYWxEYXRhQ2hhbm5lbHMucHVzaChlKX0pKSxbXX1jb25zdCB0PXRoaXMuZmlsdGVyVG9iZVB1Ymxpc2hlZERhdGFDaGFubmVscyhlKTtyZXR1cm4gMD09PXQubGVuZ3RoP1tdOih0LmZvckVhY2goKGU9Pntjb25zdCB0PURhdGUubm93KCk7dGhpcy5zdG9yZS5wdWJsaXNoKGUuaWQudG9TdHJpbmcoKSxcImRhdGFjaGFubmVsXCIsdCl9KSksYXdhaXQgdGhpcy5jb25uZWN0aW9uLmNyZWF0ZURhdGFDaGFubmVscyh0aGlzLnN0b3JlLnVpZCx0KSx0LmZvckVhY2goKGU9Pnt0aGlzLmxvY2FsRGF0YUNoYW5uZWxzLnB1c2goZSk7Y29uc3QgdD1EYXRlLm5vdygpO3RoaXMuc3RvcmUucHVibGlzaChlLmlkK1wiXCIsXCJkYXRhY2hhbm5lbFwiLHZvaWQgMCx0KX0pKSxlLm1hcCgoZT0+KHtzdHJlYW1JZDplLmlkLG9yZGVyZWQ6ZS5vcmRlcmVkLG1heFJldHJhbnNtaXRzOmUubWF4UmV0cmFuc21pdHMsbWV0YWRhdGE6ZS5tZXRhZGF0YSxjaGFubmVsSWQ6ZS5fb3JpZ2luRGF0YUNoYW5uZWxJZH0pKSkpfXB1Ymxpc2goZSx0LGkpe3ZhciBuPXRoaXM7cmV0dXJuIFpVKChmdW5jdGlvbiooKXtjb25zdCByPXlpZWxkIFdVKG4ubXV0ZXgubG9jayhcIkZyb20gUDJQQ2hhbm5lbC5wdWJsaXNoXCIpKTt0cnl7aWYoIW4uY29ubmVjdGlvbnx8bi5zdGF0ZSE9PVhiLkNvbm5lY3RlZCl7aWYobi5zdGF0ZT09PVhiLkRpc2Nvbm5lY3RlZCl0aHJvdyBuZXcgcnYobnYuVU5FWFBFQ1RFRF9FUlJPUixcIlBlZXJDb25uZWN0aW9uIGFscmVhZHkgZGlzY29ubmVjdGVkLlwiKTtuLnRocm93SWZUcmFja1R5cGVOb3RNYXRjaChlKTtjb25zdCB0PWUuZmlsdGVyKChlPT4tMT09PW4ucGVuZGluZ0xvY2FsVHJhY2tzLmluZGV4T2YoZSkpKTtyZXR1cm4gdm9pZChuLnBlbmRpbmdMb2NhbFRyYWNrcz1uLnBlbmRpbmdMb2NhbFRyYWNrcy5jb25jYXQodCkpfW4uc3RvcmUucHViSWQ9bi5zdG9yZS5wdWJJZCsxLGpVLm1hcmtQdWJsaXNoU3RhcnQobi5zdG9yZS5jbGllbnRJZCxuLnN0b3JlLnB1YklkKTtjb25zdCBvPW4uZmlsdGVyVG9iZVB1Ymxpc2hlZFRyYWNrcyhlLHQsaSk7aWYoMD09PW8ubGVuZ3RoKXJldHVybiB2b2lkKHlpZWxkIFdVKG4udHJ5VG9Vbm11dGVBdWRpbyhlKSkpO3lpZWxkKndWKGxGKG4uZG9QdWJsaXNoKG4uY29ubmVjdGlvbixvKSkpfWZpbmFsbHl7cigpfX0pKSgpfWRvUHVibGlzaChlLHQpe3ZhciBpPXRoaXM7cmV0dXJuIFpVKChmdW5jdGlvbiooKXt0LmZvckVhY2goKGU9PntsZXR7dHJhY2s6dCx0eXBlOm59PWU7Y29uc3Qgcj1EYXRlLm5vdygpO2kuc3RvcmUucHVibGlzaCh0LmdldFRyYWNrSWQoKSxuPT09SmIuTG9jYWxBdWRpb1RyYWNrP1wiYXVkaW9cIjpcInZpZGVvXCIscil9KSksaS5iaW5kTG9jYWxUcmFja0V2ZW50cyh0KTtjb25zdCBuPXQubWFwKChlPT57bGV0e3RyYWNrOnR9PWU7cmV0dXJuIHR9KSkscj15aWVsZCBXVShlLnNlbmQodC5tYXAoKGU9PntsZXR7dHJhY2s6dH09ZTtyZXR1cm4gdH0pKSxpLnN0b3JlLmNvZGVjLGkuc3RvcmUuYXVkaW9Db2RlYykpLG89KHlpZWxkIFdVKHIubmV4dCgpKSkudmFsdWUscz1pLmNyZWF0ZUdhdGV3YXlQdWJsaXNoTWVzc2FnZSh0LG8pO2xldCBhO3RyeXthPXlpZWxkIHN9Y2F0Y2goZSl7dGhyb3cgci50aHJvdyhlKSwobnVsbD09ZT92b2lkIDA6ZS5jb2RlKT09PW52LldTX0FCT1JUJiZ0LmZvckVhY2goKGU9PntsZXR7dHJhY2s6dH09ZTstMT09PWkucGVuZGluZ0xvY2FsVHJhY2tzLmluZGV4T2YodCkmJmkucGVuZGluZ0xvY2FsVHJhY2tzLnB1c2godCl9KSksaS51bmJpbmRMb2NhbFRyYWNrRXZlbnRzKHQpLGV9Y29uc3QgYz1pLm1hcFB1YlJlc1RvUmVtb3RlQ29uZmlnKHMsYSksZD0oeWllbGQgV1Uoci5uZXh0KGMpKSkudmFsdWUsbD1EeShcIkVOQUJMRV9WSURFT19TRUlcIik7bi5mb3JFYWNoKChhc3luYyBlPT57Y29uc3QgdD1lLmdldFJUQ1J0cFRyYW5zY2VpdmVyKCk7dCYmbCYmKGUudHJhY2tNZWRpYVR5cGU9PT1ZYi5WSURFTz9hd2FpdCBmTSh0LnNlbmRlcixlKTplLnRyYWNrTWVkaWFUeXBlPT09WWIuQVVESU8mJmF3YWl0IGFzeW5jIGZ1bmN0aW9uKGUpe2lmKCFNRCgpLnN1cHBvcnRXZWJSVENFbmNvZGVkVHJhbnNmb3JtKXJldHVybiB2b2lkIFF5Lndhcm5pbmcoXCJicm93c2VyIG5vdCBzdXBwb3J0IGF1ZGlvIGVuY29kZWQgdHJhbnNmb3JtXCIpO2lmKHBNLmhhcyhlKSlyZXR1cm47aWYoIWUudHJhY2spcmV0dXJuO2NvbnN0IHQ9e3RyYWNrOmUudHJhY2t9O2lmKERJKCkpe2lmKCFlLmNyZWF0ZUVuY29kZWRTdHJlYW1zKXJldHVybiB2b2lkIFF5Lndhcm5pbmcoXCJicm93c2VyIG5vdCBzdXBwb3J0IGNyZWF0ZUVuY29kZWRTdHJlYW1zKCkgQVBJXCIpO2xldCBuPW51bGw7dHJ5e249ZS5jcmVhdGVFbmNvZGVkU3RyZWFtcygpfWNhdGNoKGUpe3JldHVybiB2b2lkIFF5LmVycm9yKFwiY3JlYXRlIGF1ZGlvLWVuY29kZWQtc3RyZWFtcyBlcnJvclwiLGUmJmUubWVzc2FnZSl9Y29uc3Qgcj1uZXcgVHJhbnNmb3JtU3RyZWFtKHt0cmFuc2Zvcm0obixyKXt0LmNvbnRyb2xsZXJ8fCh0LmNvbnRyb2xsZXI9ciksZS50cmFjayYmZS50cmFjay5pZCE9PXQudHJhY2suaWQmJihReS5kZWJ1ZyhcImF1ZGlvIHRyYWNrIGNoYW5nZWQ6IFwiLmNvbmNhdCh0LnRyYWNrLmlkLFwiID0+IFwiKS5jb25jYXQoZS50cmFjay5pZCkpLHQudHJhY2sucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImVuZGVkXCIsaSksdC50cmFjaz1lLnRyYWNrLHQudHJhY2suYWRkRXZlbnRMaXN0ZW5lcihcImVuZGVkXCIsaSkpLHIuZW5xdWV1ZShuKX19KTtuLnJlYWRhYmxlLnBpcGVUaHJvdWdoKHIpLnBpcGVUbyhuLndyaXRhYmxlKX1lbHNlIGlmKFBJKCkpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSVENSdHBTY3JpcHRUcmFuc2Zvcm0pcmV0dXJuIHZvaWQgUXkud2FybmluZyhcImJyb3dzZXIgbm90IHN1cHBvcnQgUlRDUnRwU2NyaXB0VHJhbnNmb3JtXCIpO2NvbnN0IG49aE0oKSxyPW5ldyBNZXNzYWdlQ2hhbm5lbDthd2FpdCBuZXcgR2goKGU9Pm4ub25tZXNzYWdlPXQ9PntcInJlZ2lzdGVyZWRcIj09PXQuZGF0YSYmZSh2b2lkIDApfSkpO2NvbnN0IG89bmV3IFJUQ1J0cFNjcmlwdFRyYW5zZm9ybShuLHtuYW1lOlwidHhcIixwb3J0OnIucG9ydDJ9LFtyLnBvcnQyXSk7ZS50cmFuc2Zvcm09byxhd2FpdCBuZXcgR2goKGU9Pm4ub25tZXNzYWdlPXQ9PntcInN0YXJ0ZWRcIj09PXQuZGF0YSYmZSh2b2lkIDApfSkpLHIucG9ydDEub25tZXNzYWdlPW49Pnt2YXIgcjtuLmRhdGEudHJhbnNmb3JtZWQmJmUudHJhY2smJihudWxsPT09KHI9ZS50cmFjayl8fHZvaWQgMD09PXI/dm9pZCAwOnIuaWQpIT09dC50cmFjay5pZCYmKFF5LmRlYnVnKFwiYXVkaW8gdHJhY2sgY2hhbmdlZDogXCIuY29uY2F0KHQudHJhY2suaWQsXCIgPT4gXCIpLmNvbmNhdChlLnRyYWNrLmlkKSksdC50cmFjay5yZW1vdmVFdmVudExpc3RlbmVyKFwiZW5kZWRcIixpKSx0LnRyYWNrPWUudHJhY2ssdC50cmFjay5hZGRFdmVudExpc3RlbmVyKFwiZW5kZWRcIixpKSl9LHQud29ya2VyPW59ZnVuY3Rpb24gaSgpe2lmKGUudHJhY2spe2lmKHRoaXMuaWQhPT1lLnRyYWNrLmlkKXJldHVybjtlLnRyYWNrLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJlbmRlZFwiLGkpfWNvbnN0IHQ9cE0uZ2V0KGUpO2lmKHQpe3BNLmRlbGV0ZShlKTt0cnl7dmFyIG4scjtudWxsPT09KG49dC5jb250cm9sbGVyKXx8dm9pZCAwPT09bnx8bi50ZXJtaW5hdGUoKSxudWxsPT09KHI9dC53b3JrZXIpfHx2b2lkIDA9PT1yfHxyLnRlcm1pbmF0ZSgpfWNhdGNoKGUpe1F5Lndhcm5pbmcoZSYmZS5tZXNzYWdlKX19fXBNLnNldChlLHQpLGUudHJhY2suYWRkRXZlbnRMaXN0ZW5lcihcImVuZGVkXCIsaSl9KHQuc2VuZGVyKSl9KSksdC5mb3JFYWNoKChlPT57bGV0e3R5cGU6dH09ZTtpLnN0YXRzQ29sbGVjdG9yLmFkZExvY2FsU3RhdHModCl9KSksaS5hc3NpZ25Mb2NhbFRyYWNrcyh0LGQpLGkuc3RhdHNVcGxvYWRlci5zdGFydFVwbG9hZE91dGJvdW5kU3RhdHMoKSx0LmZvckVhY2goKGU9PntsZXR7dHJhY2s6dCx0eXBlOm59PWU7Y29uc3Qgcj1EYXRlLm5vdygpO2kuc3RvcmUucHVibGlzaCh0LmdldFRyYWNrSWQoKSxuPT09SmIuTG9jYWxBdWRpb1RyYWNrP1wiYXVkaW9cIjpcInZpZGVvXCIsdm9pZCAwLHIpfSkpfSkpKCl9YXN5bmMgdXBkYXRlVmlkZW9TdHJlYW1QYXJhbWV0ZXIoZSx0KXtjb25zdCBpPXRoaXMubG9jYWxUcmFja01hcC5nZXQodCk7aWYoIWkpcmV0dXJuO2lmKCEoaS50cmFjayBpbnN0YW5jZW9mIEhrKSlyZXR1cm4gUXkud2FybihcIlt1cGRhdGVWaWRlb1N0cmVhbVBhcmFtZXRlcl06IHRyYWNrIGlzIG5vdCBhbiBpbnN0YW5jZSBvZiBMb2NhbFZpZGVvVHJhY2tcIik7aWYoISh0aGlzLmNvbm5lY3Rpb24gaW5zdGFuY2VvZiBvRnx8dGhpcy5jb25uZWN0aW9uIGluc3RhbmNlb2YgTVYpKXJldHVybiBReS53YXJuKFwiW3VwZGF0ZVZpZGVvU3RyZWFtUGFyYW1ldGVyXTogY29ubmVjdGlvbiBpcyBub3QgUDJQQ29ubmVjdGlvbiBvciBQMlBDb25uZWN0aW9uUGxhbkJcIik7Y29uc3R7dHJhY2s6bn09aSxyPWZ1bmN0aW9uKGUsdCl7Y29uc3QgaT17fTtyZXR1cm4gZS5oZWlnaHQmJmUud2lkdGgmJihpLnNjYWxlUmVzb2x1dGlvbkRvd25CeT1GdyhlLHQpKSxpLm1heEZyYW1lcmF0ZT1lLmZyYW1lcmF0ZT9rdyhlLmZyYW1lcmF0ZSk6dm9pZCAwLGkubWF4Qml0cmF0ZT1lLmJpdHJhdGU/MWUzKmUuYml0cmF0ZTp2b2lkIDAsaX0oZSxuKTtpZihuLl9lbmNvZGVyQ29uZmlnfHwobi5fZW5jb2RlckNvbmZpZz17fSksdCE9PUpiLkxvY2FsVmlkZW9Mb3dUcmFja3x8IUR5KFwiRElTQUJMRV9EVUFMX1NUUkVBTV9VU0VfRU5DT0RJTkdcIikmJk1EKCkuc3VwcG9ydER1YWxTdHJlYW1FbmNvZGluZyludWxsIT1yLnNjYWxlUmVzb2x1dGlvbkRvd25CeSYmKG4uX2VuY29kZXJDb25maWcuc2NhbGVSZXNvbHV0aW9uRG93bkJ5PXIuc2NhbGVSZXNvbHV0aW9uRG93bkJ5KTtlbHNle2NvbnN0IHQ9bi5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjaztpZighdC5jYW52YXMpcmV0dXJuIFF5Lndhcm4oXCJbXCIuY29uY2F0KG4uZ2V0VHJhY2tJZCgpLFwiXSBubyBjYW52YXMgb24gdHJhY2tcIikpOyFmdW5jdGlvbihlLHQpe2NvbnN0IGk9ZS5jYW52YXM7dC53aWR0aCYmKGkud2lkdGg9a3codC53aWR0aCkpLHQuaGVpZ2h0JiYoaS5oZWlnaHQ9a3codC5oZWlnaHQpKSx0LmZyYW1lcmF0ZSYmKGkuc3RvcENhcHR1cmUmJmkuc3RvcENhcHR1cmUoKSxpLnN0b3BDYXB0dXJlPWtQKCgoKT0+eyFpLnN0YXJ0Q2FwdHVyZSYmaS5zdG9wQ2FwdHVyZSYmaS5zdG9wQ2FwdHVyZSgpLGkuc3RhcnRDYXB0dXJlJiZpLnN0YXJ0Q2FwdHVyZSgpfSksa3codC5mcmFtZXJhdGUpKSl9KHQsZSl9bnVsbCE9ci5tYXhCaXRyYXRlJiYobi5fZW5jb2RlckNvbmZpZy5iaXRyYXRlTWF4PXIubWF4Qml0cmF0ZS8xZTMpLG51bGwhPXIubWF4RnJhbWVyYXRlJiYobi5fZW5jb2RlckNvbmZpZy5mcmFtZVJhdGUmJlwib2JqZWN0XCI9PXR5cGVvZiBuLl9lbmNvZGVyQ29uZmlnLmZyYW1lUmF0ZT9uLl9lbmNvZGVyQ29uZmlnLmZyYW1lUmF0ZS5tYXg9ci5tYXhGcmFtZXJhdGU6bi5fZW5jb2RlckNvbmZpZy5mcmFtZVJhdGU9e21heDpyLm1heEZyYW1lcmF0ZX0pLFF5LmRlYnVnKFwiW1wiLmNvbmNhdChuLmdldFRyYWNrSWQoKSxcIl0gTG93U3RyZWFtRW5jb2RlckNvbmZpZzogLCBcIikuY29uY2F0KEpTT04uc3RyaW5naWZ5KG4uX2VuY29kZXJDb25maWcpKSksYXdhaXQgdGhpcy5jb25uZWN0aW9uLnVwZGF0ZVJ0cFNlbmRlckVuY29kaW5ncyhuKX1wdWJsaXNoTG93U3RyZWFtKGUpe3ZhciB0PXRoaXM7cmV0dXJuIFpVKChmdW5jdGlvbiooKXtpZighdC5jb25uZWN0aW9ufHx0LnN0YXRlIT09WGIuQ29ubmVjdGVkKXJldHVybjtjb25zdCBpPXlpZWxkIFdVKHQubXV0ZXgubG9jayhcIkxvY2tpbmcgZnJvbSBQMlBDaGFubmVsLnB1Ymxpc2hMb3dTdHJlYW1cIikpO3RyeXtjb25zdCByPXQubG9jYWxUcmFja01hcC5nZXQoSmIuTG9jYWxWaWRlb1RyYWNrKTtpZighcil0aHJvdyBuZXcgcnYobnYuVU5FWFBFQ1RFRF9FUlJPUixcIkNvdWxkIG5vdCBmaW5kIGhpZ2ggc3RyZWFtXCIpO2lmKHQubG9jYWxUcmFja01hcC5oYXMoSmIuTG9jYWxWaWRlb0xvd1RyYWNrKSl0aHJvdyBuZXcgcnYobnYuVU5FWFBFQ1RFRF9FUlJPUixcIltcIi5jb25jYXQodC5zdG9yZS5jbGllbnRJZCxcIl0gQ2FuJ3QgcHVibGlzaCBsb3cgc3RyZWFtIHdoZW4gc3RyZWFtIGFscmVhZHkgcHVibGlzaFwiKSk7Y29uc3Qgbz1be3RyYWNrOnQuZ2V0TG93VmlkZW9UcmFjayhyLnRyYWNrLGUpLHR5cGU6SmIuTG9jYWxWaWRlb0xvd1RyYWNrfV07aWYoeWllbGQqd1YobEYodC5kb1B1Ymxpc2godC5jb25uZWN0aW9uLG8pKSksci50cmFjay5tdXRlZHx8IXIudHJhY2suZW5hYmxlZCl7dmFyIG47Y29uc3QgZT1udWxsPT09KG49dC5sb2NhbFRyYWNrTWFwLmdldChKYi5Mb2NhbFZpZGVvTG93VHJhY2spKXx8dm9pZCAwPT09bj92b2lkIDA6bi5pZDt2b2lkIDAhPT1lJiYoeWllbGQgV1UodC5jb25uZWN0aW9uLm11dGVMb2NhbChbZV0pKSl9fWZpbmFsbHl7aSgpfX0pKSgpfWFzeW5jIHJlcHVibGlzaCgpe3RoaXMucGVuZGluZ0xvY2FsVHJhY2tzLmxlbmd0aD4wJiYoUXkuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIEVtaXQgUDJQQ2hhbm5lbEV2ZW50cy5SZXF1ZXN0UmVQdWJsaXNoIHRvIHJlcHVibGlzaCB0cmFja3MuXCIpKSxhd2FpdCBrdih0aGlzLFFiLlJlcXVlc3RSZVB1Ymxpc2gsdGhpcy5wZW5kaW5nTG9jYWxUcmFja3MpLHRoaXMuZW1pdChRYi5NZWRpYVJlY29ubmVjdEVuZCx0aGlzLnN0b3JlLnVpZCksdGhpcy5wZW5kaW5nTG9jYWxUcmFja3M9W10pLHRoaXMucGVuZGluZ0xvY2FsRGF0YUNoYW5uZWxzLmxlbmd0aD4wJiYoUXkuZGVidWcoXCJFbWl0IFAyUENoYW5uZWxFdmVudHMuUmVxdWVzdFJlUHVibGlzaERhdGFDaGFubmVsIHRvIHJlcHVibGlzaCBkYXRhY2hhbm5lbHMuXCIpLGF3YWl0IGt2KHRoaXMsUWIuUmVxdWVzdFJlUHVibGlzaERhdGFDaGFubmVsLHRoaXMucGVuZGluZ0xvY2FsRGF0YUNoYW5uZWxzKSx0aGlzLnBlbmRpbmdMb2NhbERhdGFDaGFubmVscz1bXSl9YXN5bmMgcmVTdWJzY3JpYmUoZSl7Zm9yKGxldCBlPXRoaXMucGVuZGluZ1JlbW90ZVRyYWNrcy5sZW5ndGgtMTtlPj0wO2UtLSl7Y29uc3R7dXNlcjp0LGtpbmQ6aX09dGhpcy5wZW5kaW5nUmVtb3RlVHJhY2tzW2VdOyhpIT09WWIuQVVESU98fHQuX2F1ZGlvX2FkZGVkXyYmdC5fYXVkaW9TU1JDKSYmKGkhPT1ZYi5WSURFT3x8dC5fdmlkZW9fYWRkZWRfJiZ0Ll92aWRlb1NTUkMpfHx0aGlzLnBlbmRpbmdSZW1vdGVUcmFja3Muc3BsaWNlKGUsMSl9aWYoZSlhd2FpdCBrdih0aGlzLFFiLlJlcXVlc3RSZVN1YnNjcmliZSx0aGlzLnBlbmRpbmdSZW1vdGVUcmFja3MpO2Vsc2UgZm9yKGNvbnN0e3VzZXI6ZSxraW5kOnR9b2YgdGhpcy5wZW5kaW5nUmVtb3RlVHJhY2tzKWF3YWl0IHRoaXMuc3Vic2NyaWJlKGUsdCx0PT09WWIuVklERU8/ZS5fdmlkZW9TU1JDOmUuX2F1ZGlvU1NSQyk7dGhpcy5wZW5kaW5nUmVtb3RlVHJhY2tzLmZvckVhY2goKGU9PntsZXR7dXNlcjp0fT1lO3RoaXMuZW1pdChRYi5NZWRpYVJlY29ubmVjdEVuZCx0LnVpZCl9KSksdGhpcy5wZW5kaW5nUmVtb3RlVHJhY2tzPVtdfWFzeW5jIHVucHVibGlzaChlKXtpZighdGhpcy5jb25uZWN0aW9ufHx0aGlzLnN0YXRlIT09WGIuQ29ubmVjdGVkKXJldHVybiB2b2lkIGUuZm9yRWFjaCgoZT0+e2NvbnN0IHQ9dGhpcy5wZW5kaW5nTG9jYWxUcmFja3MuaW5kZXhPZihlKTstMSE9PXQmJnRoaXMucGVuZGluZ0xvY2FsVHJhY2tzLnNwbGljZSh0LDEpfSkpO2NvbnN0IHQ9dGhpcy5maWx0ZXJUb2JlVW5wdWJsaXNoZWRUcmFja3MoZSk7aWYoMD09PXQubGVuZ3RoKXJldHVybjtjb25zdCBpPXQuZmluZCgoZT0+XCJ2aWRlb0xvd1RyYWNrXCI9PT1lWzBdKSk7aWYoaSl7aVsxXS50cmFjay5jbG9zZSgpfXJldHVybiB0aGlzLmRvVW5wdWJsaXNoKHRoaXMuY29ubmVjdGlvbix0KX1hc3luYyB1bnB1Ymxpc2hEYXRhQ2hhbm5lbChlKXtpZighdGhpcy5jb25uZWN0aW9ufHx0aGlzLnN0YXRlIT09WGIuQ29ubmVjdGVkKXJldHVybiB2b2lkIGUuZm9yRWFjaCgoZT0+e2NvbnN0IHQ9dGhpcy5wZW5kaW5nTG9jYWxEYXRhQ2hhbm5lbHMuaW5kZXhPZihlKTstMSE9PXQmJnRoaXMucGVuZGluZ0xvY2FsRGF0YUNoYW5uZWxzLnNwbGljZSh0LDEpfSkpO2NvbnN0IHQ9dGhpcy5maWx0ZXJUb2JlVW5wdWJsaXNoZWREYXRhQ2hhbm5lbHMoZSk7cmV0dXJuIDAhPT10Lmxlbmd0aD8odC5mb3JFYWNoKChlPT57Y29uc3QgdD10aGlzLmxvY2FsRGF0YUNoYW5uZWxzLmluZGV4T2YoZSk7LTEhPT10JiZ0aGlzLmxvY2FsRGF0YUNoYW5uZWxzLnNwbGljZSh0LDEpfSkpLDA9PT10aGlzLmxvY2FsRGF0YUNoYW5uZWxzLmxlbmd0aCYmYXdhaXQgdGhpcy5jb25uZWN0aW9uLnN0b3BEYXRhQ2hhbm5lbHModGhpcy5zdG9yZS51aWQpLHQubWFwKChlPT5lLmlkKSkpOnZvaWQgMH1hc3luYyB1bnB1Ymxpc2hMb3dTdHJlYW0oKXtpZighdGhpcy5jb25uZWN0aW9ufHx0aGlzLnN0YXRlIT09WGIuQ29ubmVjdGVkKXJldHVybjtjb25zdCBlPXRoaXMubG9jYWxUcmFja01hcC5nZXQoSmIuTG9jYWxWaWRlb0xvd1RyYWNrKTtpZighZSlyZXR1cm47ZS50cmFjay5jbG9zZSgpO2NvbnN0IHQ9W1tKYi5Mb2NhbFZpZGVvTG93VHJhY2ssZV1dO3JldHVybiB0aGlzLmRvVW5wdWJsaXNoKHRoaXMuY29ubmVjdGlvbix0KX1hc3luYyBkb1VucHVibGlzaChlLHQpe2NvbnN0IGk9dGhpcy5jcmVhdGVHYXRld2F5VW5wdWJsaXNoTWVzc2FnZSh0KTtyZXR1cm4gYXdhaXQgZS5zdG9wU2VuZGluZyh0Lm1hcCgoZT0+e2xldFsse2lkOnR9XT1lO3JldHVybiB0fSkpKSx0aGlzLndpdGhkcmF3TG9jYWxUcmFja3ModCksdGhpcy51bmJpbmRMb2NhbFRyYWNrRXZlbnRzKHQubWFwKChlPT57bGV0W3Qse3RyYWNrOml9XT1lO3JldHVybnt0eXBlOnQsdHJhY2s6aX19KSkpLHQuZm9yRWFjaCgoZT0+e2xldFt0XT1lO3RoaXMuc3RhdHNDb2xsZWN0b3IucmVtb3ZlTG9jYWxTdGF0cyh0KX0pKSwwPT09dGhpcy5sb2NhbFRyYWNrTWFwLnNpemUmJnRoaXMuc3RhdHNVcGxvYWRlci5zdG9wVXBsb2FkT3V0Ym91bmRTdGF0cygpLGl9YXN5bmMgc3Vic2NyaWJlRGF0YUNoYW5uZWwoZSx0KXtpZighdGhpcy5jb25uZWN0aW9ufHx0aGlzLnN0YXRlIT09WGIuQ29ubmVjdGVkKXRocm93IG5ldyBydihudi5JTlZBTElEX09QRVJBVElPTixcIkNhbm5vdCBzdWJzY3JpYmUgcmVtb3RlIHVzZXIgd2hlbiBwZWVyQ29ubmVjdGlvbiBkaXNjb25uZWN0ZWQuXCIpO2NvbnN0IGk9dC5maWx0ZXIoKHQ9Pnt2YXIgaTtyZXR1cm4hKG51bGwhPT0oaT10aGlzLnJlbW90ZURhdGFDaGFubmVsTWFwLmdldChlKSkmJnZvaWQgMCE9PWkmJmkuZ2V0KHQuaWQpKX0pKTtpZigwIT09aS5sZW5ndGgpcmV0dXJuIGF3YWl0IHRoaXMuY29ubmVjdGlvbi5jcmVhdGVEYXRhQ2hhbm5lbHMoZS51aWQsaSksaS5mb3JFYWNoKCh0PT57dmFyIGk7dGhpcy5yZW1vdGVEYXRhQ2hhbm5lbE1hcC5oYXMoZSk/bnVsbD09PShpPXRoaXMucmVtb3RlRGF0YUNoYW5uZWxNYXAuZ2V0KGUpKXx8dm9pZCAwPT09aXx8aS5zZXQodC5pZCx0KTp0aGlzLnJlbW90ZURhdGFDaGFubmVsTWFwLnNldChlLG5ldyBNYXAoW1t0LmlkLHRdXSkpO2NvbnN0IG49dGhpcy5wZW5kaW5nUmVtb3RlRGF0YUNoYW5uZWxzLmZpbmRJbmRleCgoaT0+e2xldHt1c2VyOm4saWQ6cn09aTtyZXR1cm4gbi51aWQ9PT1lLnVpZCYmcj09PXQuaWR9KSk7LTEhPT1uJiZ0aGlzLnBlbmRpbmdSZW1vdGVEYXRhQ2hhbm5lbHMuc3BsaWNlKG4sMSl9KSksaS5tYXAoKGU9PmUuaWQpKX1hc3luYyBzdWJzY3JpYmUoZSx0LGksbixyKXt2YXIgbztpZighdGhpcy5jb25uZWN0aW9ufHx0aGlzLnN0YXRlIT09WGIuQ29ubmVjdGVkKXRocm93IG5ldyBydihudi5JTlZBTElEX09QRVJBVElPTixcIkNhbm5vdCBzdWJzY3JpYmUgcmVtb3RlIHVzZXIgd2hlbiBwZWVyQ29ubmVjdGlvbiBkaXNjb25uZWN0ZWQuXCIpO2lmKG51bGwhPT0obz10aGlzLnJlbW90ZVVzZXJNYXAuZ2V0KGUpKSYmdm9pZCAwIT09byYmby5oYXModCkpcmV0dXJuO2xldCBzLGEsYztjb25zdCBkPXRoaXMuY29ubmVjdGlvbi5nZXRQcmVNZWRpYShpKTtpZihkKVF5LmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbXCIpLmNvbmNhdCh0aGlzLnN0b3JlLnAycElkLFwiXSBwcmVTU1JDTWFwIGhhcyBzc3JjSWQ6IFwiKS5jb25jYXQoaSxcIiwgbm8gbmVlZCB0byBzZW5kIHN1YiB0byBnYXRld2F5LlwiKSksYz1kLnRyYW5zY2VpdmVyLHM9ZC50cmFjayxhPWQuaWQ7ZWxzZSBpZihyKXtjb25zdCBpPXIuZmluZCgoZT0+e2xldHtzdHJlYW1fdHlwZTppfT1lO3JldHVybiBpPT09dH0pKTtpZighaSl0aHJvdyBuZXcgcnYobnYuVU5FWFBFQ1RFRF9FUlJPUixcIkNhbm5vdCBzdWJzY3JpYmUgdG8gcmVtb3RlIFwiLmNvbmNhdCh0LFwiIGZvciB1c2VyOiBcIikuY29uY2F0KGUudWlkLFwiIGJlY2F1c2Ugc3Vic2NyaWJlIGFuc3dlciBmcm9tIGdhdGV3YXkgZG9lcyBub3QgY29udGFpbiBzdHJlYW1fdHlwZTogXCIpLmNvbmNhdCh0LFwiLlwiKSk7Y29uc3Qgbj1hd2FpdCB0aGlzLmNvbm5lY3Rpb24ucmVjZWl2ZSh0LGkuc3NyY3MsU3RyaW5nKGUuX3VpbnRpZCksaS5hdHRyaWJ1dGVzKTt0aGlzLmNvbm5lY3Rpb24gaW5zdGFuY2VvZiBvRiYmKGM9bi50cmFuc2NlaXZlcikscz1uLnRyYWNrLGE9bi5pZH1lbHNle2NvbnN0IHI9YXdhaXQgdGhpcy5jb25uZWN0aW9uLnJlY2VpdmUodCxbe3NzcmNJZDppLHJ0eDpufV0sU3RyaW5nKGUuX3VpbnRpZCksdm9pZCAwKTt0aGlzLmNvbm5lY3Rpb24gaW5zdGFuY2VvZiBvRiYmKGM9ci50cmFuc2NlaXZlcikscz1yLnRyYWNrLGE9ci5pZH10PT09WWIuQVVESU8/KGUuX2F1ZGlvVHJhY2s/ZS5fYXVkaW9UcmFjay5fdXBkYXRlT3JpZ2luTWVkaWFTdHJlYW1UcmFjayhzKTooZS5fYXVkaW9UcmFjaz1uZXcgYU0ocyxlLnVpZCxlLl91aW50aWQsdGhpcy5zdG9yZSksUXkuaW5mbyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW1wiKS5jb25jYXQodGhpcy5zdG9yZS5wMnBJZCxcIl0gY3JlYXRlIHJlbW90ZSBhdWRpbyB0cmFjazogXCIpLmNvbmNhdChlLl9hdWRpb1RyYWNrLmdldFRyYWNrSWQoKSkpKSxjJiZlLl9hdWRpb1RyYWNrLl91cGRhdGVSdHBUcmFuc2NlaXZlcihjKSx0aGlzLmJpbmRSZW1vdGVUcmFja0V2ZW50cyhlLGUuX2F1ZGlvVHJhY2spKTooZS5fdmlkZW9UcmFjaz9lLl92aWRlb1RyYWNrLl91cGRhdGVPcmlnaW5NZWRpYVN0cmVhbVRyYWNrKHMpOihlLl92aWRlb1RyYWNrPW5ldyBzTShzLGUudWlkLGUuX3VpbnRpZCx0aGlzLnN0b3JlKSxReS5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbXCIpLmNvbmNhdCh0aGlzLnN0b3JlLnAycElkLFwiXSBjcmVhdGUgcmVtb3RlIHZpZGVvIHRyYWNrOiBcIikuY29uY2F0KGUuX3ZpZGVvVHJhY2suZ2V0VHJhY2tJZCgpKSkpLGMmJmUuX3ZpZGVvVHJhY2suX3VwZGF0ZVJ0cFRyYW5zY2VpdmVyKGMpLHRoaXMuYmluZFJlbW90ZVRyYWNrRXZlbnRzKGUsZS5fdmlkZW9UcmFjaykpLER5KFwiRU5BQkxFX1ZJREVPX1NFSVwiKSYmYyYmKHQ9PVliLlZJREVPP2F3YWl0IGFzeW5jIGZ1bmN0aW9uKGUpe2xldCB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTtpZighTUQoKS5zdXBwb3J0V2ViUlRDRW5jb2RlZFRyYW5zZm9ybSlyZXR1cm4gdm9pZCBReS53YXJuaW5nKFwiYnJvd3NlciBub3Qgc3VwcG9ydCB2aWRlbyBlbmNvZGVkIHRyYW5zZm9ybVwiKTtpZighZS50cmFjaylyZXR1cm47aWYoVE0uaGFzKGUpKXtjb25zdCBpPVRNLmdldChlKTtyZXR1cm4gdm9pZChpJiYoaS5vblNlaT10Lm9uU2VpKSl9Y29uc3QgaT17dHJhY2s6ZS50cmFjayxvblNlaTp0Lm9uU2VpfTtpZihESSgpKXtpZighZS5jcmVhdGVFbmNvZGVkU3RyZWFtcylyZXR1cm4gdm9pZCBReS53YXJuaW5nKFwiYnJvd3NlciBub3Qgc3VwcG9ydCBjcmVhdGVFbmNvZGVkU3RyZWFtcygpIEFQSVwiKTtsZXQgdD1udWxsO3RyeXt0PWUuY3JlYXRlRW5jb2RlZFN0cmVhbXMoKX1jYXRjaChlKXtyZXR1cm4gdm9pZCBReS5lcnJvcihcImNyZWF0ZSB2aWRlby1lbmNvZGVkLXN0cmVhbXMgZXJyb3JcIixlJiZlLm1lc3NhZ2UpfWNvbnN0IHI9bmV3IFRyYW5zZm9ybVN0cmVhbSh7dHJhbnNmb3JtKHQscil7aS5jb250cm9sbGVyfHwoaS5jb250cm9sbGVyPXIpLGUudHJhY2smJmUudHJhY2suaWQhPT1pLnRyYWNrLmlkJiYoUXkuZGVidWcoXCJ2aWRlbyB0cmFjayBjaGFuZ2VkOiBcIi5jb25jYXQoaS50cmFjay5pZCxcIiA9PiBcIikuY29uY2F0KGUudHJhY2suaWQpKSxpLnRyYWNrLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJlbmRlZFwiLG4pLGkudHJhY2s9ZS50cmFjayxpLnRyYWNrLmFkZEV2ZW50TGlzdGVuZXIoXCJlbmRlZFwiLG4pKTtjb25zdCBvPWZ1bmN0aW9uKGUpe2NvbnN0IHQ9bmV3IERhdGFWaWV3KGUuZGF0YSk7bGV0IGk9MDtmb3IoO2krNDxlLmRhdGEuYnl0ZUxlbmd0aDspe2lmKDA9PT10LmdldFVpbnQ4KGkrMCkmJjA9PT10LmdldFVpbnQ4KGkrMSkmJjA9PT10LmdldFVpbnQ4KGkrMikmJjE9PT10LmdldFVpbnQ4KGkrMykmJjY9PT10LmdldFVpbnQ4KGkrNCkpe2xldCBuPWkrNixyPTAsbz0wO2Zvcig7MjU1PT09KG89dC5nZXRVaW50OChuKyspKTspcis9MjU1O3IrPW87Y29uc3Qgcz1FTShlLmRhdGEsbixyKTtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkocyl9aSsrfXJldHVybiBudWxsfSh0KTtvJiZpLm9uU2VpJiZpLm9uU2VpKG8pLHIuZW5xdWV1ZSh0KX19KTt0LnJlYWRhYmxlLnBpcGVUaHJvdWdoKHIpLnBpcGVUbyh0LndyaXRhYmxlKX1lbHNlIGlmKFBJKCkpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSVENSdHBTY3JpcHRUcmFuc2Zvcm0pcmV0dXJuIHZvaWQgUXkud2FybmluZyhcImJyb3dzZXIgbm90IHN1cHBvcnQgUlRDUnRwU2NyaXB0VHJhbnNmb3JtXCIpO2NvbnN0IHQ9aE0oKSxyPW5ldyBNZXNzYWdlQ2hhbm5lbDthd2FpdCBuZXcgR2goKGU9PnQub25tZXNzYWdlPXQ9PntcInJlZ2lzdGVyZWRcIj09PXQuZGF0YSYmZSh2b2lkIDApfSkpO2NvbnN0IG89bmV3IFJUQ1J0cFNjcmlwdFRyYW5zZm9ybSh0LHtuYW1lOlwicnhcIixwb3J0OnIucG9ydDJ9LFtyLnBvcnQyXSk7ZS50cmFuc2Zvcm09byxhd2FpdCBuZXcgR2goKGU9PnQub25tZXNzYWdlPXQ9PntcInN0YXJ0ZWRcIj09PXQuZGF0YSYmZSh2b2lkIDApfSkpLHIucG9ydDEub25tZXNzYWdlPXQ9Pnt2YXIgcjt0LmRhdGEudHJhbnNmb3JtZWQmJmUudHJhY2smJihudWxsPT09KHI9ZS50cmFjayl8fHZvaWQgMD09PXI/dm9pZCAwOnIuaWQpIT09aS50cmFjay5pZD8oUXkuZGVidWcoXCJ2aWRlbyB0cmFjayBjaGFuZ2VkOiBcIi5jb25jYXQoaS50cmFjay5pZCxcIiA9PiBcIikuY29uY2F0KGUudHJhY2suaWQpKSxpLnRyYWNrLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJlbmRlZFwiLG4pLGkudHJhY2s9ZS50cmFjayxpLnRyYWNrLmFkZEV2ZW50TGlzdGVuZXIoXCJlbmRlZFwiLG4pKTp0LmRhdGEuc2VpJiZpLm9uU2VpJiZpLm9uU2VpKHQuZGF0YS5zZWkpfSxpLndvcmtlcj10fWZ1bmN0aW9uIG4oKXtpZihlLnRyYWNrKXtpZih0aGlzLmlkIT09ZS50cmFjay5pZClyZXR1cm47ZS50cmFjay5yZW1vdmVFdmVudExpc3RlbmVyKFwiZW5kZWRcIixuKX0hZnVuY3Rpb24oZSl7Y29uc3QgdD1UTS5nZXQoZSk7aWYodCl7VE0uZGVsZXRlKGUpO3RyeXt2YXIgaSxuO251bGw9PT0oaT10LmNvbnRyb2xsZXIpfHx2b2lkIDA9PT1pfHxpLnRlcm1pbmF0ZSgpLG51bGw9PT0obj10Lndvcmtlcil8fHZvaWQgMD09PW58fG4udGVybWluYXRlKCl9Y2F0Y2goZSl7UXkud2FybmluZyhlJiZlLm1lc3NhZ2UpfX19KGUpfVRNLnNldChlLGkpLGUudHJhY2suYWRkRXZlbnRMaXN0ZW5lcihcImVuZGVkXCIsbil9KGMucmVjZWl2ZXIse29uU2VpOnQ9Pnt2YXIgaTtudWxsPT09KGk9ZS5fdmlkZW9UcmFjayl8fHZvaWQgMD09PWl8fGkuX29uU2VpKHQpfX0pOnQ9PVliLkFVRElPJiZhd2FpdCBhc3luYyBmdW5jdGlvbihlKXtpZighTUQoKS5zdXBwb3J0V2ViUlRDRW5jb2RlZFRyYW5zZm9ybSlyZXR1cm4gdm9pZCBReS53YXJuaW5nKFwiYnJvd3NlciBub3Qgc3VwcG9ydCBhdWRpbyBlbmNvZGVkIHRyYW5zZm9ybVwiKTtpZihfTS5oYXMoZSkpcmV0dXJuO2NvbnN0IHQ9e3RyYWNrOmUudHJhY2t9O2lmKERJKCkpe2lmKCFlLmNyZWF0ZUVuY29kZWRTdHJlYW1zKXJldHVybiB2b2lkIFF5Lndhcm5pbmcoXCJicm93c2VyIG5vdCBzdXBwb3J0IGNyZWF0ZUVuY29kZWRTdHJlYW1zKCkgQVBJXCIpO2xldCBuPW51bGw7dHJ5e249ZS5jcmVhdGVFbmNvZGVkU3RyZWFtcygpfWNhdGNoKGUpe3JldHVybiB2b2lkIFF5LmVycm9yKFwiY3JlYXRlIGF1ZGlvLWVuY29kZWQtc3RyZWFtcyBlcnJvclwiLGUmJmUubWVzc2FnZSl9Y29uc3Qgcj1uZXcgVHJhbnNmb3JtU3RyZWFtKHt0cmFuc2Zvcm0obixyKXt0LmNvbnRyb2xsZXJ8fCh0LmNvbnRyb2xsZXI9ciksZS50cmFjayYmZS50cmFjay5pZCE9PXQudHJhY2suaWQmJihReS5kZWJ1ZyhcImF1ZGlvIHRyYWNrIGNoYW5nZWQ6IFwiLmNvbmNhdCh0LnRyYWNrLmlkLFwiID0+IFwiKS5jb25jYXQoZS50cmFjay5pZCkpLHQudHJhY2sucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImVuZGVkXCIsaSksdC50cmFjaz1lLnRyYWNrLHQudHJhY2suYWRkRXZlbnRMaXN0ZW5lcihcImVuZGVkXCIsaSkpLHIuZW5xdWV1ZShuKX19KTtuLnJlYWRhYmxlLnBpcGVUaHJvdWdoKHIpLnBpcGVUbyhuLndyaXRhYmxlKX1lbHNlIGlmKFBJKCkpe2lmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBSVENSdHBTY3JpcHRUcmFuc2Zvcm0pcmV0dXJuIHZvaWQgUXkud2FybmluZyhcImJyb3dzZXIgbm90IHN1cHBvcnQgUlRDUnRwU2NyaXB0VHJhbnNmb3JtXCIpO2NvbnN0IG49aE0oKSxyPW5ldyBNZXNzYWdlQ2hhbm5lbDthd2FpdCBuZXcgR2goKGU9Pm4ub25tZXNzYWdlPXQ9PntcInJlZ2lzdGVyZWRcIj09PXQuZGF0YSYmZSh2b2lkIDApfSkpO2NvbnN0IG89bmV3IFJUQ1J0cFNjcmlwdFRyYW5zZm9ybShuLHtuYW1lOlwicnhcIixwb3J0OnIucG9ydDJ9LFtyLnBvcnQyXSk7ZS50cmFuc2Zvcm09byxhd2FpdCBuZXcgR2goKGU9Pm4ub25tZXNzYWdlPXQ9PntcInN0YXJ0ZWRcIj09PXQuZGF0YSYmZSh2b2lkIDApfSkpLHIucG9ydDEub25tZXNzYWdlPW49Pnt2YXIgcjtuLmRhdGEudHJhbnNmb3JtZWQmJmUudHJhY2smJihudWxsPT09KHI9ZS50cmFjayl8fHZvaWQgMD09PXI/dm9pZCAwOnIuaWQpIT09dC50cmFjay5pZCYmKFF5LmRlYnVnKFwiYXVkaW8gdHJhY2sgY2hhbmdlZDogXCIuY29uY2F0KHQudHJhY2suaWQsXCIgPT4gXCIpLmNvbmNhdChlLnRyYWNrLmlkKSksdC50cmFjay5yZW1vdmVFdmVudExpc3RlbmVyKFwiZW5kZWRcIixpKSx0LnRyYWNrPWUudHJhY2ssdC50cmFjay5hZGRFdmVudExpc3RlbmVyKFwiZW5kZWRcIixpKSl9LHQud29ya2VyPW59ZnVuY3Rpb24gaSgpe2UudHJhY2sucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImVuZGVkXCIsaSksZnVuY3Rpb24oZSl7Y29uc3QgdD1fTS5nZXQoZSk7aWYodCl7X00uZGVsZXRlKGUpO3RyeXt2YXIgaSxuO251bGw9PT0oaT10LmNvbnRyb2xsZXIpfHx2b2lkIDA9PT1pfHxpLnRlcm1pbmF0ZSgpLG51bGw9PT0obj10Lndvcmtlcil8fHZvaWQgMD09PW58fG4udGVybWluYXRlKCl9Y2F0Y2goZSl7UXkud2FybmluZyhlJiZlLm1lc3NhZ2UpfX19KGUpfV9NLnNldChlLHQpLGUudHJhY2suYWRkRXZlbnRMaXN0ZW5lcihcImVuZGVkXCIsaSl9KGMucmVjZWl2ZXIpKTtjb25zdCBsPXRoaXMucmVtb3RlVXNlck1hcC5nZXQoZSk7bD9sLnNldCh0LGEpOnRoaXMucmVtb3RlVXNlck1hcC5zZXQoZSxuZXcgTWFwKFtbdCxhXV0pKSx0aGlzLnN0YXRzQ29sbGVjdG9yLmFkZFJlbW90ZVN0YXRzKGUudWlkKSx0aGlzLnN0YXRzVXBsb2FkZXIuc3RhcnRVcGxvYWRJbmJvdW5kU3RhdHMoKTtjb25zdCB1PXRoaXMucGVuZGluZ1JlbW90ZVRyYWNrcy5maW5kSW5kZXgoKGk9PntsZXR7dXNlcjpuLGtpbmQ6cn09aTtyZXR1cm4gbi51aWQ9PT1lLnVpZCYmdD09PXJ9KSk7LTEhPT11JiYodGhpcy5wZW5kaW5nUmVtb3RlVHJhY2tzLnNwbGljZSh1LDEpLHRoaXMuZW1pdChRYi5NZWRpYVJlY29ubmVjdEVuZCxlLnVpZCkpfWFzeW5jIG1hc3NTdWJzY3JpYmUoZSl7cmV0dXJuIHRoaXMubWFzc1N1YnNjcmliZU5vTG9jayhlKX1hc3luYyBtYXNzU3Vic2NyaWJlTm9Mb2NrKGUpe2lmKCF0aGlzLmNvbm5lY3Rpb258fHRoaXMuc3RhdGUhPT1YYi5Db25uZWN0ZWQpdGhyb3cgbmV3IHJ2KG52LklOVkFMSURfT1BFUkFUSU9OLFwiQ2Fubm90IHN1YnNjcmliZUFsbCByZW1vdGUgdXNlcnMgd2hlbiBwZWVyQ29ubmVjdGlvbiBkaXNjb25uZWN0ZWQuXCIpO2U9ZS5maWx0ZXIoKGU9Pnt2YXIgdDtsZXR7dXNlcjppLG1lZGlhVHlwZTpufT1lO3JldHVybiEobnVsbCE9PSh0PXRoaXMucmVtb3RlVXNlck1hcC5nZXQoaSkpJiZ2b2lkIDAhPT10JiZ0LmhhcyhuKSl9KSk7Y29uc3QgdD1bXSxpPW5ldyBNYXA7ZS5mb3JFYWNoKChlPT57aWYoIXRoaXMuY29ubmVjdGlvbilyZXR1cm47Y29uc3Qgbj10aGlzLmNvbm5lY3Rpb24uZ2V0UHJlTWVkaWEoZS5zc3JjSWQpO24/aS5zZXQoZS5zc3JjSWQsbik6dC5wdXNoKGUpfSkpO2NvbnN0IG49YXdhaXQgdGhpcy5jb25uZWN0aW9uLmJhdGNoUmVjZWl2ZSh0Lm1hcCgoZT0+e2xldHt1c2VyOnQsbWVkaWFUeXBlOmksc3NyY0lkOm4scnR4U3NyY0lkOnJ9PWU7cmV0dXJue2tpbmQ6aSxzc3JjTXNnOlt7c3NyY0lkOm4scnR4OnJ9XSxtc2xhYmVsOlN0cmluZyh0Ll91aW50aWQpfX0pKSk7dC5mb3JFYWNoKCgoZSx0KT0+e2kuc2V0KGUuc3NyY0lkLG5bdF0pfSkpLGUuZm9yRWFjaCgoZT0+e2xldHt1c2VyOnQsbWVkaWFUeXBlOm4sc3NyY0lkOnJ9PWU7Y29uc3Qgbz1pLmdldChyKTtpZighbylyZXR1cm4gdm9pZCBReS5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW1wiKS5jb25jYXQodGhpcy5zdG9yZS5wMnBJZCxcIl0gY2Fubm90IGZpbmQgXCIpLmNvbmNhdCh0LnVpZCxcIiBzdWJzY3JpYmUgZGF0YSxcIikuY29uY2F0KG4sXCIsIFwiKS5jb25jYXQocikpO2NvbnN0e3RyYWNrOnMsaWQ6YSx0cmFuc2NlaXZlcjpjfT1vO249PT1ZYi5BVURJTz8odC5fYXVkaW9UcmFjaz90Ll9hdWRpb1RyYWNrLl91cGRhdGVPcmlnaW5NZWRpYVN0cmVhbVRyYWNrKHMpOih0Ll9hdWRpb1RyYWNrPW5ldyBhTShzLHQudWlkLHQuX3VpbnRpZCx0aGlzLnN0b3JlKSxReS5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbXCIpLmNvbmNhdCh0aGlzLnN0b3JlLnAycElkLFwiXSBjcmVhdGUgcmVtb3RlIGF1ZGlvIHRyYWNrOiBcIikuY29uY2F0KHQuX2F1ZGlvVHJhY2suZ2V0VHJhY2tJZCgpKSkpLGMmJnQuX2F1ZGlvVHJhY2suX3VwZGF0ZVJ0cFRyYW5zY2VpdmVyKGMpLHRoaXMuYmluZFJlbW90ZVRyYWNrRXZlbnRzKHQsdC5fYXVkaW9UcmFjaykpOih0Ll92aWRlb1RyYWNrP3QuX3ZpZGVvVHJhY2suX3VwZGF0ZU9yaWdpbk1lZGlhU3RyZWFtVHJhY2socyk6KHQuX3ZpZGVvVHJhY2s9bmV3IHNNKHMsdC51aWQsdC5fdWludGlkLHRoaXMuc3RvcmUpLFF5LmluZm8oXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFtcIikuY29uY2F0KHRoaXMuc3RvcmUucDJwSWQsXCJdIGNyZWF0ZSByZW1vdGUgdmlkZW8gdHJhY2s6IFwiKS5jb25jYXQodC5fdmlkZW9UcmFjay5nZXRUcmFja0lkKCkpKSksYyYmdC5fdmlkZW9UcmFjay5fdXBkYXRlUnRwVHJhbnNjZWl2ZXIoYyksdGhpcy5iaW5kUmVtb3RlVHJhY2tFdmVudHModCx0Ll92aWRlb1RyYWNrKSk7Y29uc3QgZD10aGlzLnJlbW90ZVVzZXJNYXAuZ2V0KHQpO2Q/ZC5zZXQobixhKTp0aGlzLnJlbW90ZVVzZXJNYXAuc2V0KHQsbmV3IE1hcChbW24sYV1dKSksdGhpcy5zdGF0c0NvbGxlY3Rvci5hZGRSZW1vdGVTdGF0cyh0LnVpZCksdGhpcy5zdGF0c1VwbG9hZGVyLnN0YXJ0VXBsb2FkSW5ib3VuZFN0YXRzKCk7Y29uc3QgbD10aGlzLnBlbmRpbmdSZW1vdGVUcmFja3MuZmluZEluZGV4KChlPT57bGV0e3VzZXI6aSxraW5kOnJ9PWU7cmV0dXJuIGkudWlkPT09dC51aWQmJm49PT1yfSkpOy0xIT09bCYmKHRoaXMucGVuZGluZ1JlbW90ZVRyYWNrcy5zcGxpY2UobCwxKSx0aGlzLmVtaXQoUWIuTWVkaWFSZWNvbm5lY3RFbmQsdC51aWQpKX0pKX1hc3luYyB1bnN1YnNjcmliZShlLHQsaSl7Y29uc3Qgbj10aGlzLnBlbmRpbmdSZW1vdGVUcmFja3MuZmlsdGVyKChpPT57bGV0e3VzZXI6bixraW5kOnJ9PWk7cmV0dXJuIHZvaWQgMCE9PXQ/bi51aWQ9PT1lLnVpZCYmdD09PXI6bi51aWQ9PT1lLnVpZH0pKTtpZihuLmZvckVhY2goKGU9Pntjb25zdCB0PXRoaXMucGVuZGluZ1JlbW90ZVRyYWNrcy5pbmRleE9mKGUpO3RoaXMucGVuZGluZ1JlbW90ZVRyYWNrcy5zcGxpY2UodCwxKX0pKSx0aGlzLmNvbm5lY3Rpb24mJnRoaXMuc3RhdGU9PT1YYi5Db25uZWN0ZWR8fGl8fG4uZm9yRWFjaCgodD0+e2xldHtraW5kOml9PXQ7dmFyIG47aWYoaT09PVliLkFVRElPKW51bGw9PT0obj1lLl9hdWRpb1RyYWNrKXx8dm9pZCAwPT09bnx8bi5fZGVzdHJveSgpLGUuX2F1ZGlvVHJhY2s9dm9pZCAwO2Vsc2UgaWYoaT09PVliLlZJREVPKXt2YXIgcjtudWxsPT09KHI9ZS5fdmlkZW9UcmFjayl8fHZvaWQgMD09PXJ8fHIuX2Rlc3Ryb3koKSxlLl92aWRlb1RyYWNrPXZvaWQgMH19KSksIXRoaXMuY29ubmVjdGlvbnx8dGhpcy5zdGF0ZSE9PVhiLkNvbm5lY3RlZClyZXR1cm47Y29uc3Qgcj10aGlzLmZpbHRlclRvYmVVblN1YnNjcmliZWRUcmFja3MoZSx0KTtpZigwPT09ci5sZW5ndGgpcmV0dXJuO2F3YWl0IHRoaXMuY29ubmVjdGlvbi5zdG9wUmVjZWl2aW5nKHIubWFwKChlPT57bGV0Wyx7aWQ6dH1dPWU7cmV0dXJuIHR9KSkpO2NvbnN0IG89dGhpcy5jcmVhdGVVbnN1YnNjcmliZU1lc3NhZ2Uocik7cmV0dXJuIHRoaXMud2l0aGRyYXdSZW1vdGVUcmFja3MociksMD09PXRoaXMucmVtb3RlVXNlck1hcC5zaXplJiZ0aGlzLnN0YXRzVXBsb2FkZXIuc3RvcFVwbG9hZEluYm91bmRTdGF0cygpLHIuZm9yRWFjaCgoZT0+e2xldFt0LHtraW5kOm59XT1lO3ZhciByLG87bj09PVliLlZJREVPJiZ0Ll92aWRlb1NTUkMmJihudWxsPT09KHI9dGhpcy5jb25uZWN0aW9uKXx8dm9pZCAwPT09cnx8ci5zZXRTdGF0c1JlbW90ZVZpZGVvSXNSZWFkeSh0Ll92aWRlb1NTUkMsITEpKTtpZihuPT09WWIuVklERU8pdGhpcy51bmJpbmRSZW1vdGVUcmFja0V2ZW50cyh0Ll92aWRlb1RyYWNrKSxpfHwobnVsbD09PShvPXQuX3ZpZGVvVHJhY2spfHx2b2lkIDA9PT1vfHxvLl9kZXN0cm95KCksdC5fdmlkZW9UcmFjaz12b2lkIDApO2Vsc2UgaWYobj09PVliLkFVRElPKXt2YXIgcztpZih0aGlzLnVuYmluZFJlbW90ZVRyYWNrRXZlbnRzKHQuX2F1ZGlvVHJhY2spLCFpKW51bGw9PT0ocz10Ll9hdWRpb1RyYWNrKXx8dm9pZCAwPT09c3x8cy5fZGVzdHJveSgpLHQuX2F1ZGlvVHJhY2s9dm9pZCAwfX0pKSxvfWFzeW5jIHVuc3Vic2NyaWJlRGF0YUNoYW5uZWwoZSx0KXtpZih0LmZvckVhY2goKGU9Pntjb25zdCB0PXRoaXMucGVuZGluZ1JlbW90ZURhdGFDaGFubmVscy5maW5kSW5kZXgoKHQ9PnQuaWQ9PT1lLmlkKSk7LTEhPT10JiZ0aGlzLnBlbmRpbmdSZW1vdGVEYXRhQ2hhbm5lbHMuc3BsaWNlKHQsMSl9KSksIXRoaXMuY29ubmVjdGlvbilyZXR1cm47Y29uc3QgaT10aGlzLmZpbHRlclRvYmVVblN1YnNjcmliZWREYXRhQ2hhbm5lbHMoZSx0KTtpZigwPT09aS5sZW5ndGgpcmV0dXJuO3QuZm9yRWFjaCgoZT0+e2UuX2Nsb3NlKCl9KSk7Y29uc3Qgbj10aGlzLnJlbW90ZURhdGFDaGFubmVsTWFwLmdldChlKTtyZXR1cm4gaS5mb3JFYWNoKChlPT57biYmbi5kZWxldGUoZS5pZCl9KSksbiYmMD09PW4uc2l6ZSYmKHRoaXMucmVtb3RlRGF0YUNoYW5uZWxNYXAuZGVsZXRlKGUpLGF3YWl0IHRoaXMuY29ubmVjdGlvbi5zdG9wRGF0YUNoYW5uZWxzKGUudWlkKSksaS5tYXAoKGU9PmUuaWQpKX1hc3luYyBtYXNzVW5zdWJzY3JpYmUoZSl7cmV0dXJuIHRoaXMubWFzc1Vuc3Vic2NyaWJlTm9Mb2NrKGUpfWFzeW5jIG1hc3NVbnN1YnNjcmliZU5vTG9jayhlKXtsZXQgdD1bXTtmb3IoY29uc3R7dXNlcjppLG1lZGlhVHlwZTpufW9mIGUpe2NvbnN0IGU9dGhpcy5wZW5kaW5nUmVtb3RlVHJhY2tzLmZpbHRlcigoZT0+e2xldHt1c2VyOnQsa2luZDpyfT1lO3JldHVybiB2b2lkIDAhPT1uP3QudWlkPT09aS51aWQmJm49PT1yOnQudWlkPT09aS51aWR9KSk7ZS5mb3JFYWNoKChlPT57Y29uc3QgdD10aGlzLnBlbmRpbmdSZW1vdGVUcmFja3MuaW5kZXhPZihlKTt0aGlzLnBlbmRpbmdSZW1vdGVUcmFja3Muc3BsaWNlKHQsMSl9KSksdD10LmNvbmNhdChlKX1pZighdGhpcy5jb25uZWN0aW9ufHx0aGlzLnN0YXRlIT09WGIuQ29ubmVjdGVkKXJldHVybiB2b2lkIHQuZm9yRWFjaCgoZT0+e2xldHt1c2VyOnQsa2luZDppfT1lO3ZhciBuO2lmKGk9PT1ZYi5BVURJTyludWxsPT09KG49dC5fYXVkaW9UcmFjayl8fHZvaWQgMD09PW58fG4uX2Rlc3Ryb3koKSx0Ll9hdWRpb1RyYWNrPXZvaWQgMDtlbHNlIGlmKGk9PT1ZYi5WSURFTyl7dmFyIHI7bnVsbD09PShyPXQuX3ZpZGVvVHJhY2spfHx2b2lkIDA9PT1yfHxyLl9kZXN0cm95KCksdC5fdmlkZW9UcmFjaz12b2lkIDB9fSkpO2NvbnN0IGk9Sm4oZSkuY2FsbChlLCgoZSx0KT0+e2xldHt1c2VyOmksbWVkaWFUeXBlOm59PXQ7Y29uc3Qgcj10aGlzLmZpbHRlclRvYmVVblN1YnNjcmliZWRUcmFja3MoaSxuKTtyZXR1cm4gZS5jb25jYXQocil9KSxbXSk7aWYoMD09PWkubGVuZ3RoKXJldHVybjthd2FpdCB0aGlzLmNvbm5lY3Rpb24uc3RvcFJlY2VpdmluZyhpLm1hcCgoZT0+e2xldFsse2lkOnR9XT1lO3JldHVybiB0fSkpKTtjb25zdCBuPXRoaXMuY3JlYXRlVW5zdWJzY3JpYmVBbGxNZXNzYWdlKGkpO3JldHVybiB0aGlzLndpdGhkcmF3UmVtb3RlVHJhY2tzKGkpLDA9PT10aGlzLnJlbW90ZVVzZXJNYXAuc2l6ZSYmdGhpcy5zdGF0c1VwbG9hZGVyLnN0b3BVcGxvYWRJbmJvdW5kU3RhdHMoKSxpLmZvckVhY2goKGU9PntsZXRbdCx7a2luZDppfV09ZTt2YXIgbixyO2k9PT1ZYi5WSURFTyYmdC5fdmlkZW9TU1JDJiYobnVsbD09PShuPXRoaXMuY29ubmVjdGlvbil8fHZvaWQgMD09PW58fG4uc2V0U3RhdHNSZW1vdGVWaWRlb0lzUmVhZHkodC5fdmlkZW9TU1JDLCExKSk7aWYoaT09PVliLlZJREVPKXRoaXMudW5iaW5kUmVtb3RlVHJhY2tFdmVudHModC5fdmlkZW9UcmFjayksbnVsbD09PShyPXQuX3ZpZGVvVHJhY2spfHx2b2lkIDA9PT1yfHxyLl9kZXN0cm95KCksdC5fdmlkZW9UcmFjaz12b2lkIDA7ZWxzZSBpZihpPT09WWIuQVVESU8pe3ZhciBvO3RoaXMudW5iaW5kUmVtb3RlVHJhY2tFdmVudHModC5fYXVkaW9UcmFjayksbnVsbD09PShvPXQuX2F1ZGlvVHJhY2spfHx2b2lkIDA9PT1vfHxvLl9kZXN0cm95KCksdC5fYXVkaW9UcmFjaz12b2lkIDB9fSkpLG59aXNQcmVTdWJTY3JpYmUoZSl7aWYoIXRoaXMuY29ubmVjdGlvbnx8dGhpcy5zdGF0ZSE9PVhiLkNvbm5lY3RlZClyZXR1cm4hMTtyZXR1cm4hIXRoaXMuY29ubmVjdGlvbi5nZXRQcmVNZWRpYShlKX1hc3luYyBtdXRlUmVtb3RlKGUsdCl7aWYoIXRoaXMuY29ubmVjdGlvbilyZXR1cm47Y29uc3QgaT10aGlzLnJlbW90ZVVzZXJNYXAuZ2V0KGUpO2lmKCFpKXJldHVybiB2b2lkIFF5Lndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFAyUENoYW5uZWwubXV0ZVJlbW90ZSBoYXMgbm8gcmVtb3RlIHVzZXIgXCIpLmNvbmNhdChlLnVpZCxcIi5cIikpO2lmKCFpLmdldCh0KSlyZXR1cm4gdm9pZCBReS53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBQMlBDaGFubmVsLm11dGVSZW1vdGUgaGFzIG5vIHJlbW90ZSB1c2VyIFwiKS5jb25jYXQoZS51aWQsXCIgbWVkaWEgdHlwZSBcIikuY29uY2F0KHQsXCIuXCIpKTtjb25zdCBuPXQ9PT1ZYi5WSURFTz9lLl92aWRlb1NTUkM6ZS5fYXVkaW9TU1JDO3ZvaWQgMCE9PW4mJnRoaXMuY29ubmVjdGlvbi5zZXRTdGF0c1JlbW90ZVZpZGVvSXNSZWFkeShuLCExKX1hc3luYyB1bm11dGVSZW1vdGUoZSx0KXtyZXR1cm4gdGhpcy51bm11dGVSZW1vdGVOb0xvY2soZSx0KX1hc3luYyB1bm11dGVSZW1vdGVOb0xvY2soZSx0KXtpZighdGhpcy5jb25uZWN0aW9uKXJldHVybjtjb25zdCBpPXRoaXMucmVtb3RlVXNlck1hcC5nZXQoZSk7aWYoIWkpcmV0dXJuIHZvaWQgUXkud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gUDJQQ2hhbm5lbC51bm11dGVSZW1vdGUgaGFzIG5vIHJlbW90ZSB1c2VyIFwiKS5jb25jYXQoZS51aWQsXCIuXCIpKTtpLmdldCh0KXx8UXkud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gUDJQQ2hhbm5lbC51bm11dGVSZW1vdGUgaGFzIG5vIHJlbW90ZSB1c2VyIFwiKS5jb25jYXQoZS51aWQsXCIgbWVkaWEgdHlwZSBcIikuY29uY2F0KHQsXCIuXCIpKX1nZXRBbGxUcmFja3MoZSl7Y29uc3QgdD10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KEpiLkxvY2FsQXVkaW9UcmFjayk7aWYoKG51bGw9PXQ/dm9pZCAwOnQudHJhY2spaW5zdGFuY2VvZiByayl7Y29uc3QgaT10LnRyYWNrO3JldHVybiBBcnJheS5mcm9tKHRoaXMubG9jYWxUcmFja01hcC5lbnRyaWVzKCkpLmZpbHRlcigoZT0+e2xldFt0XT1lO3JldHVybiB0IT09SmIuTG9jYWxBdWRpb1RyYWNrfSkpLmZpbHRlcigodD0+e2xldFtpXT10O3JldHVybiEoZSYmaT09PUpiLkxvY2FsVmlkZW9Mb3dUcmFjayl9KSkubWFwKChlPT57bGV0Wyx7dHJhY2s6dH1dPWU7cmV0dXJuIHR9KSkuY29uY2F0KGkudHJhY2tMaXN0KX1yZXR1cm4gQXJyYXkuZnJvbSh0aGlzLmxvY2FsVHJhY2tNYXAuZW50cmllcygpKS5maWx0ZXIoKHQ9PntsZXRbaV09dDtyZXR1cm4hKGUmJmk9PT1KYi5Mb2NhbFZpZGVvTG93VHJhY2spfSkpLm1hcCgoZT0+e2xldFsse3RyYWNrOnR9XT1lO3JldHVybiB0fSkpfWdldEFsbERhdGFDaGFubmVscygpe3JldHVybiB0aGlzLmxvY2FsRGF0YUNoYW5uZWxzfXJlcG9ydFB1Ymxpc2hFdmVudChlLHQsaSxuLHIpe2lmKGUpe2NvbnN0IGk9dGhpcy5sb2NhbFRyYWNrTWFwLmdldChKYi5Mb2NhbEF1ZGlvVHJhY2spLG89bj90aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KEpiLkxvY2FsVmlkZW9Mb3dUcmFjayk6dGhpcy5sb2NhbFRyYWNrTWFwLmdldChKYi5Mb2NhbFZpZGVvVHJhY2spO3NBLnB1Ymxpc2godGhpcy5zdG9yZS5zZXNzaW9uSWQse2V2ZW50RWxhcHNlOmpVLm1lYXN1cmVGcm9tUHVibGlzaFN0YXJ0KHRoaXMuc3RvcmUuY2xpZW50SWQsdGhpcy5zdG9yZS5wdWJJZCksc3VjYzplLGVjOnQsYXVkaW9OYW1lOm51bGw9PWk/dm9pZCAwOmkudHJhY2suZ2V0VHJhY2tMYWJlbCgpLHZpZGVvTmFtZTpudWxsPT1vP3ZvaWQgMDpvLnRyYWNrLmdldFRyYWNrTGFiZWwoKSxzY3JlZW5zaGFyZTotMSE9PShudWxsPT1vP3ZvaWQgMDpvLnRyYWNrLl9oaW50cy5pbmRleE9mKGVQLlNDUkVFTl9UUkFDSykpLGF1ZGlvOiEhaSx2aWRlbzohIW8scDJwaWQ6dGhpcy5zdG9yZS5wMnBJZCxwdWJsaXNoUmVxdWVzdGlkOnRoaXMuc3RvcmUucHViSWQsZXh0ZW5kOnJ9KX1lbHNle3ZhciBvO2l8fChpPVtdKTtjb25zdCBzPWkuZmluZCgoZT0+ZSBpbnN0YW5jZW9mIHRrKSksYT1uP251bGw9PT0obz10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KEpiLkxvY2FsVmlkZW9UcmFjaykpfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLnRyYWNrOmkuZmluZCgoZT0+ZSBpbnN0YW5jZW9mIEhrKSk7c0EucHVibGlzaCh0aGlzLnN0b3JlLnNlc3Npb25JZCx7ZXZlbnRFbGFwc2U6alUubWVhc3VyZUZyb21QdWJsaXNoU3RhcnQodGhpcy5zdG9yZS5jbGllbnRJZCx0aGlzLnN0b3JlLnB1YklkKSxzdWNjOmUsZWM6dCxhdWRpb05hbWU6bnVsbD09cz92b2lkIDA6cy5nZXRUcmFja0xhYmVsKCksdmlkZW9OYW1lOm51bGw9PWE/dm9pZCAwOmEuZ2V0VHJhY2tMYWJlbCgpLHNjcmVlbnNoYXJlOi0xIT09KG51bGw9PWE/dm9pZCAwOmEuX2hpbnRzLmluZGV4T2YoZVAuU0NSRUVOX1RSQUNLKSksYXVkaW86ISFzLHZpZGVvOiEhYSxwMnBpZDp0aGlzLnN0b3JlLnAycElkLHB1Ymxpc2hSZXF1ZXN0aWQ6dGhpcy5zdG9yZS5wdWJJZCxleHRlbmQ6cn0pfX1yZXBvcnRTdWJzY3JpYmVFdmVudChlLHQsaSxuKXtjb25zdCByPW49PT1ZYi5WSURFTz9pLl92aWRlb1NTUkM6aS5fYXVkaW9TU1JDO3ImJnNBLnN1YnNjcmliZSh0aGlzLnN0b3JlLnNlc3Npb25JZCx7c3VjYzplLGVjOnQsdmlkZW86bj09PVliLlZJREVPLGF1ZGlvOm49PT1ZYi5BVURJTyxwZWVyaWQ6aS51aWQsc3Vic2NyaWJlUmVxdWVzdGlkOnIscDJwaWQ6dGhpcy5zdG9yZS5wMnBJZCxldmVudEVsYXBzZTpqVS5tZWFzdXJlRnJvbVN1YnNjcmliZVN0YXJ0KHRoaXMuc3RvcmUuY2xpZW50SWQscikscHJlU3NyYzp0aGlzLmlzUHJlU3ViU2NyaWJlKHIpfSl9cmVzZXQoKXtReS5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gUDJQQ2hhbm5lbC5yZXNldFwiKSksdGhpcy5tdXRleD1uZXcgaHkoXCJQMlBDaGFubmVsLW11dGV4XCIpLHRoaXMuY29ubmVjdGlvbiYmKHRoaXMuY29ubmVjdGlvbi5jbG9zZSgpLHRoaXMudW5iaW5kQ29ubmVjdGlvbkV2ZW50cyh0aGlzLmNvbm5lY3Rpb24pLHRoaXMuY29ubmVjdGlvbj12b2lkIDApLHRoaXMuc2hvdWxkRm9yd2FyZFAyUENyZWF0aW9uJiYodGhpcy5jb25uZWN0aW9uPXRoaXMuaXNQbGFuQj9uZXcgTVYoe30sdGhpcy5zdG9yZSk6bmV3IG9GKHt9LHRoaXMuc3RvcmUpLHRoaXMuYmluZENvbm5lY3Rpb25FdmVudHModGhpcy5jb25uZWN0aW9uKSksdGhpcy5zdGF0c1VwbG9hZGVyLnN0b3BVcGxvYWRPdXRib3VuZFN0YXRzKCksdGhpcy5zdGF0c1VwbG9hZGVyLnN0b3BVcGxvYWRJbmJvdW5kU3RhdHMoKSx0aGlzLnN0YXRzVXBsb2FkZXIuc3RvcFVwbG9hZFRyYW5zcG9ydFN0YXRzKCksdGhpcy5zdGF0c1VwbG9hZGVyLnN0b3BVcGxvYWRFeHRlbnNpb25Vc2FnZVN0YXRzKCksdGhpcy51bmJpbmRMb2NhbFRyYWNrRXZlbnRzKCksdGhpcy51bmJpbmRBbGxSZW1vdGVUcmFja0V2ZW50cygpLHRoaXMudW5iaW5kUnRwVHJhbnNjZWl2ZXIoKTtjb25zdCBlPXRoaXMubG9jYWxUcmFja01hcC5nZXQoSmIuTG9jYWxBdWRpb1RyYWNrKTtpZigobnVsbD09ZT92b2lkIDA6ZS50cmFjaylpbnN0YW5jZW9mIHJrKXtpZihlLnRyYWNrLnRyYWNrTGlzdC5sZW5ndGg+MCl7Y29uc3QgdD1lLnRyYWNrO2UudHJhY2sudHJhY2tMaXN0LmZvckVhY2goKGU9Pnt0LnJlbW92ZUF1ZGlvVHJhY2soZSl9KSl9ZS50cmFjay5jbG9zZSgpfXRoaXMubG9jYWxUcmFja01hcC5jbGVhcigpLHRoaXMucmVtb3RlVXNlck1hcC5jbGVhcigpLHRoaXMuc3RhdHNDb2xsZWN0b3IucmVtb3ZlUmVtb3RlU3RhdHMoKSx0aGlzLnN0YXRzQ29sbGVjdG9yLnJlbW92ZUxvY2FsU3RhdHMoKSx0aGlzLmljZUZhaWxlZENvdW50PTAsdGhpcy5kdGxzRmFpbGVkQ291bnQ9MCx0aGlzLnBlbmRpbmdMb2NhbFRyYWNrcz1bXSx0aGlzLnBlbmRpbmdSZW1vdGVUcmFja3M9W10sdGhpcy5sb2NhbERhdGFDaGFubmVscz1bXSx0aGlzLnJlbW90ZURhdGFDaGFubmVsTWFwLmNsZWFyKCksdGhpcy5wZW5kaW5nTG9jYWxEYXRhQ2hhbm5lbHM9W10sdGhpcy5wZW5kaW5nUmVtb3RlRGF0YUNoYW5uZWxzPVtdLHRoaXMuc3RhdGU9WGIuRGlzY29ubmVjdGVkfWdldFN0YXRzKCl7dmFyIGU7cmV0dXJuIG51bGw9PT0oZT10aGlzLmNvbm5lY3Rpb24pfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmdldFN0YXRzKCl9Z2V0UmVtb3RlVmlkZW9Jc1JlYWR5KGUpe3ZhciB0O3JldHVybihudWxsPT09KHQ9dGhpcy5jb25uZWN0aW9uKXx8dm9pZCAwPT09dD92b2lkIDA6dC5nZXRSZW1vdGVWaWRlb0lzUmVhZHkoZSkpfHwhMX1nZXRMb2NhbEF1ZGlvVm9sdW1lKCl7Y29uc3QgZT10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KEpiLkxvY2FsQXVkaW9UcmFjayk7aWYoZSlyZXR1cm4gZS50cmFjay5nZXRWb2x1bWVMZXZlbCgpfWdldExvY2FsVmlkZW9TaXplKCl7Y29uc3QgZT10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KEpiLkxvY2FsVmlkZW9UcmFjayk7aWYoZSlyZXR1cm57d2lkdGg6ZS50cmFjay52aWRlb1dpZHRofHwwLGhlaWdodDplLnRyYWNrLnZpZGVvSGVpZ2h0fHwwfX1nZXRFbmNvZGVyQ29uZmlnKGUpe2NvbnN0IHQ9dGhpcy5sb2NhbFRyYWNrTWFwLmdldChlKTtyZXR1cm4gdCYmdC50cmFjayBpbnN0YW5jZW9mIEhrfHx0JiZ0LnRyYWNrIGluc3RhbmNlb2YgdGs/dC50cmFjay5fZW5jb2RlckNvbmZpZzp2b2lkIDB9Z2V0TG9jYWxNZWRpYShlKXtyZXR1cm4gdGhpcy5sb2NhbFRyYWNrTWFwLmdldChlKX1oYXNMb2NhbE1lZGlhKCl7cmV0dXJuIHRoaXMubG9jYWxUcmFja01hcC5zaXplPjB9aGFzUmVtb3RlTWVkaWEoZSx0KXtpZighZSlyZXR1cm4gdGhpcy5yZW1vdGVVc2VyTWFwLnNpemU+MDtjb25zdCBpPXRoaXMucmVtb3RlVXNlck1hcC5nZXQoZSk7cmV0dXJuISFpJiYoIXR8fGkuaGFzKHQpKX1hc3luYyBoYXNSZW1vdGVNZWRpYVdpdGhMb2NrKGUsdCl7aWYoIWUpcmV0dXJuIHRoaXMucmVtb3RlVXNlck1hcC5zaXplPjA7Y29uc3QgaT10aGlzLnJlbW90ZVVzZXJNYXAuZ2V0KGUpO3JldHVybiEhaSYmKCF0fHxpLmhhcyh0KSl9Z2V0UmVtb3RlTWVkaWEoZSl7dmFyIHQ7Y29uc3QgaT1BcnJheS5mcm9tKGRfKHQ9dGhpcy5yZW1vdGVVc2VyTWFwKS5jYWxsKHQpKS5maW5kKCh0PT50LnVpZD09PWUpKTtyZXR1cm4gaT97YXVkaW9UcmFjazppLmF1ZGlvVHJhY2ssYXVkaW9TU1JDOmkuX2F1ZGlvU1NSQyx2aWRlb1RyYWNrOmkudmlkZW9UcmFjayx2aWRlb1NTUkM6aS5fdmlkZW9TU1JDfTp7fX1nZXRBdWRpb0xldmVscygpe2xldCBlPUFycmF5LmZyb20odGhpcy5yZW1vdGVVc2VyTWFwLmVudHJpZXMoKSkubWFwKChlPT57bGV0W3RdPWU7cmV0dXJue3VpZDp0LnVpZCxsZXZlbDp0LmF1ZGlvVHJhY2s/MTAwKnQuYXVkaW9UcmFjay5fc291cmNlLmdldEFjY3VyYXRlVm9sdW1lTGV2ZWwoKTowfX0pKTtjb25zdCB0PXRoaXMubG9jYWxUcmFja01hcC5nZXQoSmIuTG9jYWxBdWRpb1RyYWNrKTtyZXR1cm4gdCYmZS5wdXNoKHtsZXZlbDoxMDAqdC50cmFjay5fc291cmNlLmdldEFjY3VyYXRlVm9sdW1lTGV2ZWwoKSx1aWQ6dGhpcy5zdG9yZS51aWR9KSxlPWFFKGUpLmNhbGwoZSwoKGUsdCk9PmUubGV2ZWwtdC5sZXZlbCkpLGV9YXN5bmMgZGlzY29ubmVjdEZvclJlY29ubmVjdCgpe3RoaXMuY29ubmVjdGlvbiYmKFF5LmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBQMlBDaGFubmVsLmRpc2Nvbm5lY3RGb3JSZWNvbm5lY3QgY2xvc2luZyBQMlBDb25uZWN0aW9uXCIpKSx0aGlzLnN0YXRlPVhiLlJlY29ubmVjdGluZyxEeShcIktFRVBfTEFTVF9GUkFNRVwiKSYmMCE9PXRoaXMucmVtb3RlVXNlck1hcC5zaXplJiZBcnJheS5mcm9tKHRoaXMucmVtb3RlVXNlck1hcC5lbnRyaWVzKCkpLmZvckVhY2goKGU9PntsZXRbdF09ZTt2YXIgaTt0Ll92aWRlb1RyYWNrJiZ0Ll92aWRlb1RyYWNrLl9wbGF5ZXImJihudWxsPT09KGk9dC5fdmlkZW9UcmFjay5fcGxheWVyLmdldFZpZGVvRWxlbWVudCgpKXx8dm9pZCAwPT09aXx8aS5wYXVzZSgpLHQuX3ZpZGVvVHJhY2suX3BsYXllci5pc0tlZXBMYXN0RnJhbWU9ITAsdC5fdmlkZW9UcmFjay5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjay5zdG9wKCkpfSkpLHRoaXMuY29ubmVjdGlvbi5jbG9zZSgpLHRoaXMudW5iaW5kQ29ubmVjdGlvbkV2ZW50cyh0aGlzLmNvbm5lY3Rpb24pLHRoaXMuY29ubmVjdGlvbj12b2lkIDAsdGhpcy5zaG91bGRGb3J3YXJkUDJQQ3JlYXRpb24mJih0aGlzLmNvbm5lY3Rpb249dGhpcy5pc1BsYW5CP25ldyBNVih7fSx0aGlzLnN0b3JlKTpuZXcgb0Yoe30sdGhpcy5zdG9yZSksdGhpcy5iaW5kQ29ubmVjdGlvbkV2ZW50cyh0aGlzLmNvbm5lY3Rpb24pKSwwIT09dGhpcy5sb2NhbFRyYWNrTWFwLnNpemUmJihBcnJheS5mcm9tKHRoaXMubG9jYWxUcmFja01hcC5lbnRyaWVzKCkpLmZvckVhY2goKGU9Pnt2YXIgdDtsZXRbaSx7dHJhY2s6bn1dPWU7c3dpdGNoKGkpe2Nhc2UgSmIuTG9jYWxWaWRlb1RyYWNrOkRuKHQ9bi5faGludHMpLmNhbGwodCxlUC5MT1dfU1RSRUFNKT9uLmNsb3NlKCk6dGhpcy5wZW5kaW5nTG9jYWxUcmFja3MucHVzaChuKTticmVhaztjYXNlIEpiLkxvY2FsQXVkaW9UcmFjazpuIGluc3RhbmNlb2Ygcms/dGhpcy5wZW5kaW5nTG9jYWxUcmFja3M9dGhpcy5wZW5kaW5nTG9jYWxUcmFja3MuY29uY2F0KG4udHJhY2tMaXN0KTp0aGlzLnBlbmRpbmdMb2NhbFRyYWNrcy5wdXNoKG4pO2Nhc2UgSmIuTG9jYWxWaWRlb0xvd1RyYWNrOn19KSksdGhpcy5lbWl0KFFiLk1lZGlhUmVjb25uZWN0U3RhcnQsdGhpcy5zdG9yZS51aWQpKSx0aGlzLnVuYmluZExvY2FsVHJhY2tFdmVudHMoKSx0aGlzLmxvY2FsVHJhY2tNYXAuY2xlYXIoKSwwIT09dGhpcy5yZW1vdGVVc2VyTWFwLnNpemUmJkFycmF5LmZyb20odGhpcy5yZW1vdGVVc2VyTWFwLmVudHJpZXMoKSkuZm9yRWFjaCgoZT0+e2xldFt0LGldPWU7QXJyYXkuZnJvbShkXyhpKS5jYWxsKGkpKS5mb3JFYWNoKChlPT57dGhpcy5zZXRQZW5kaW5nUmVtb3RlTWVkaWEodCxlKX0pKSx0aGlzLmVtaXQoUWIuTWVkaWFSZWNvbm5lY3RTdGFydCx0LnVpZCl9KSksdGhpcy51bmJpbmRBbGxSZW1vdGVUcmFja0V2ZW50cygpLHRoaXMucmVtb3RlVXNlck1hcC5jbGVhcigpLDAhPT10aGlzLmxvY2FsRGF0YUNoYW5uZWxzLmxlbmd0aCYmKHRoaXMubG9jYWxEYXRhQ2hhbm5lbHMuZm9yRWFjaCgoZT0+e3RoaXMucGVuZGluZ0xvY2FsRGF0YUNoYW5uZWxzLnB1c2goZSl9KSksdGhpcy5sb2NhbERhdGFDaGFubmVscy5sZW5ndGg9MCksMCE9PXRoaXMucmVtb3RlRGF0YUNoYW5uZWxNYXAuc2l6ZSYmKEFycmF5LmZyb20odGhpcy5yZW1vdGVEYXRhQ2hhbm5lbE1hcC5lbnRyaWVzKCkpLmZvckVhY2goKGU9PntsZXRbdCxpXT1lO0FycmF5LmZyb20oZF8oaSkuY2FsbChpKSkuZm9yRWFjaCgoZT0+e3RoaXMuc2V0UGVuZGluZ1JlbW90ZURhdGFDaGFubmVsKHQsZSl9KSl9KSksdGhpcy5yZW1vdGVEYXRhQ2hhbm5lbE1hcC5jbGVhcigpKSx0aGlzLnN0YXRzVXBsb2FkZXIuc3RvcFVwbG9hZE91dGJvdW5kU3RhdHMoKSx0aGlzLnN0YXRzVXBsb2FkZXIuc3RvcFVwbG9hZEluYm91bmRTdGF0cygpLHRoaXMuc3RhdHNVcGxvYWRlci5zdG9wVXBsb2FkVHJhbnNwb3J0U3RhdHMoKSxReS5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gUDJQQ2hhbm5lbCBkaXNjb25uZWN0ZWQsIHdhaXRpbmcgdG8gcmVjb25uZWN0LlwiKSkpfWhhc1BlbmRpbmdSZW1vdGVEYXRhQ2hhbm5lbChlLHQpe2Zvcihjb25zdCBpIG9mIHRoaXMucGVuZGluZ1JlbW90ZURhdGFDaGFubmVscyl7Y29uc3R7dXNlcjpuLGlkOnJ9PWk7aWYoKGUgaW5zdGFuY2VvZiBpVj9lLnVpZDplKT09PW4udWlkJiZyPT09dClyZXR1cm4hMH1yZXR1cm4hMX1zZXRQZW5kaW5nUmVtb3RlRGF0YUNoYW5uZWwoZSx0KXt0aGlzLmhhc1BlbmRpbmdSZW1vdGVEYXRhQ2hhbm5lbChlLHQpfHx0aGlzLnBlbmRpbmdSZW1vdGVEYXRhQ2hhbm5lbHMucHVzaCh7dXNlcjplLGlkOnR9KX1oYXNQZW5kaW5nUmVtb3RlTWVkaWEoZSx0KXtmb3IoY29uc3QgaSBvZiB0aGlzLnBlbmRpbmdSZW1vdGVUcmFja3Mpe2NvbnN0e3VzZXI6bixraW5kOnJ9PWk7aWYoKGUgaW5zdGFuY2VvZiBpVj9lLnVpZDplKT09PW4udWlkJiZ0PT09cilyZXR1cm4hMH1yZXR1cm4hMX1zZXRQZW5kaW5nUmVtb3RlTWVkaWEoZSx0KXt0aGlzLmhhc1BlbmRpbmdSZW1vdGVNZWRpYShlLHQpfHx0aGlzLnBlbmRpbmdSZW1vdGVUcmFja3MucHVzaCh7dXNlcjplLGtpbmQ6dH0pfXJlc3RhcnRJQ0UoZSl7dmFyIHQ9dGhpcztyZXR1cm4gWlUoKGZ1bmN0aW9uKigpe2lmKCF0LmNvbm5lY3Rpb258fHQuc3RhdGUhPT1YYi5Db25uZWN0ZWQpcmV0dXJuO2NvbnN0IGk9eWllbGQgV1UodC5tdXRleC5sb2NrKFwiRnJvbSBQMlBDaGFubmVsLnJlc3RhcnRJQ0VcIikpO2xldCBuO3RyeXtuPXlpZWxkIFdVKHQuY29ubmVjdGlvbi5yZXN0YXJ0SUNFKGUpKTtjb25zdCByPXlpZWxkIFdVKG4ubmV4dCgpKTtpZihyLmRvbmUpcmV0dXJuO2NvbnN0IG89ci52YWx1ZSxzPXlpZWxkIG87c3dpdGNoKHQucmVwb3J0UENEaXNjb25uZWN0ZWRPckZhaWxlZChlKSxlKXtjYXNlIHFiLlRDUDp0Ll9wY1N0YXRzVXBsb2FkVHlwZT16Yi5UQ1BfUkVTVEFSVDticmVhaztjYXNlIHFiLlJFTEFZOnQuX3BjU3RhdHNVcGxvYWRUeXBlPXpiLlJFTEFZX1JFU1RBUlQ7YnJlYWs7ZGVmYXVsdDp0Ll9wY1N0YXRzVXBsb2FkVHlwZT16Yi5PTERfUkVTVEFSVH10Ll9pc0luUmVzdGFydEljZT0hMCxuLm5leHQocyl9Y2F0Y2goZSl7dmFyIHI7bnVsbD09PShyPW4pfHx2b2lkIDA9PT1yfHxyLnRocm93KGUpfWZpbmFsbHl7aSgpfX0pKSgpfWdldFVwbGlua05ldHdvcmtRdWFsaXR5KCl7aWYoIXRoaXMuY29ubmVjdGlvbilyZXR1cm4gMDtjb25zdCBlPXRoaXMuY29ubmVjdGlvbi5nZXRTdGF0cygpLHQ9dGhpcy5sb2NhbFRyYWNrTWFwLmdldChKYi5Mb2NhbFZpZGVvVHJhY2spLGk9dGhpcy5sb2NhbFRyYWNrTWFwLmdldChKYi5Mb2NhbEF1ZGlvVHJhY2spLG49ZS52aWRlb1NlbmQuZmluZCgoZT0+ZS5zc3JjPT09KG51bGw9PXQ/dm9pZCAwOnQuc3NyY3NbMF0uc3NyY0lkKSkpLHI9ZS5hdWRpb1NlbmQuZmluZCgoZT0+ZS5zc3JjPT09KG51bGw9PWk/dm9pZCAwOmkuc3NyY3NbMF0uc3NyY0lkKSkpO2lmKCFufHwhcilyZXR1cm4gMTtjb25zdCBvPVV2KHRoaXMsUWIuTmVlZFNpZ25hbFJUVCkscz1uP24ucnR0TXM6dm9pZCAwLGE9cj9yLnJ0dE1zOnZvaWQgMCxjPXMmJmE/KHMrYSkvMjpzfHxhLGQ9KGMmJm8/KGMrbykvMjpjfHxvKXx8MCxsPTEwMCplLnNlbmRQYWNrZXRMb3NzUmF0ZSouNy81MCsuMypkLzE1MDAsdT1sPC4xNz8xOmw8LjM2PzI6bDwuNTk/MzpsPC4xPzQ6NSxoPW51bGw9PXQ/dm9pZCAwOnQudHJhY2s7aWYoaCYmaC5fZW5jb2RlckNvbmZpZyYmLTE9PT1oLl9oaW50cy5pbmRleE9mKGVQLlNDUkVFTl9UUkFDSykpe2NvbnN0IHQ9aC5fZW5jb2RlckNvbmZpZy5iaXRyYXRlTWF4LGk9ZS5iaXRyYXRlLmFjdHVhbEVuY29kZWQ7aWYodCYmaSl7Y29uc3QgZT0oMWUzKnQtaSkvKDFlMyp0KTtyZXR1cm4gZEFbZTwuMTU/MDplPC4zPzE6ZTwuNDU/MjplPC42PzM6NF1bdV19fXJldHVybiB1fWdldERvd25saW5rTmV0d29ya1F1YWxpdHkoKXtpZighdGhpcy5jb25uZWN0aW9uKXJldHVybiAwO2NvbnN0IGU9dGhpcy5jb25uZWN0aW9uLmdldFN0YXRzKCk7bGV0IHQ9MDtyZXR1cm4gQXJyYXkuZnJvbSh0aGlzLnJlbW90ZVVzZXJNYXAuZW50cmllcygpKS5mb3JFYWNoKChpPT57bGV0W25dPWk7Y29uc3Qgcj1uLl9hdWRpb1NTUkMsbz1uLl92aWRlb1NTUkMscz1lLmF1ZGlvUmVjdi5maW5kKChlPT5lLnNzcmM9PT1yKSksYT1lLnZpZGVvUmVjdi5maW5kKChlPT5lLnNzcmM9PT1vKSk7aWYoIXMmJiFhKXJldHVybiB2b2lkKHQrPTEpO2NvbnN0IGM9VXYodGhpcyxRYi5OZWVkU2lnbmFsUlRUKSxkPWUucnR0LGw9KGQmJmM/KGQrYykvMjpkfHxjKXx8MCx1PXM/cy5qaXR0ZXJNczp2b2lkIDAsaD1lLnJlY3ZQYWNrZXRMb3NzUmF0ZTtsZXQgcD0uNypoKjEwMC81MCsuMypsLzE1MDA7dSYmKHA9LjYqaCoxMDAvNTArLjIqbC8xNTAwKy4yKnUvNDAwKTt0Kz1wPC4xPzE6cDwuMTc/MjpwPC4zNj8zOnA8LjU5PzQ6NX0pKSx0aGlzLnJlbW90ZVVzZXJNYXAuc2l6ZT4wP01hdGgucm91bmQodC90aGlzLnJlbW90ZVVzZXJNYXAuc2l6ZSk6dH1hc3luYyBtdXRlTG9jYWxUcmFjayhlKXtyZXR1cm4gbmV3IEdoKCgodCxpKT0+e3RoaXMuaGFuZGxlTXV0ZUxvY2FsVHJhY2soZSx0LGkpfSkpfWFzeW5jIHJlcGxhY2VUcmFjayhlLHQpe3ZhciBpO2lmKFF5LmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBQMlBDaGFubmVsIHJlcGxhY2VUcmFjayBmcm9tIFtcIikuY29uY2F0KGUuZ2V0VHJhY2tJZCgpLFwiXSB0byBbXCIpLmNvbmNhdCh0LmdldFRyYWNrSWQoKSxcIl1cIikpLCF0aGlzLmNvbm5lY3Rpb258fHRoaXMuc3RhdGUhPT1YYi5Db25uZWN0ZWQpcmV0dXJuO2NvbnN0IG49QXJyYXkuZnJvbSh0aGlzLmxvY2FsVHJhY2tNYXAuZW50cmllcygpKS5maW5kKCh0PT57bGV0Wyx7dHJhY2s6aX1dPXQ7cmV0dXJuIGU9PT1pfSkpO2lmKCFuKXJldHVybjtjb25zdCByPW5bMF07aWYoZSE9PXQmJih0aGlzLnVuYmluZExvY2FsVHJhY2tFdmVudHMoW3t0cmFjazplLHR5cGU6cn1dKSx0aGlzLmJpbmRMb2NhbFRyYWNrRXZlbnRzKFt7dHJhY2s6dCx0eXBlOnJ9XSksblsxXS50cmFjaz10KSxhd2FpdChudWxsPT09KGk9dGhpcy5jb25uZWN0aW9uKXx8dm9pZCAwPT09aT92b2lkIDA6aS5yZXBsYWNlVHJhY2sodCxuWzFdLmlkKSksdGhpcy5pc1BsYW5CKXtjb25zdCBlPW5bMV07ZS5pZD10Ll9tZWRpYVN0cmVhbVRyYWNrLmlkLHRoaXMubG9jYWxUcmFja01hcC5zZXQocixlKX1pZihyPT09SmIuTG9jYWxWaWRlb1RyYWNrJiYhRHkoXCJESVNBQkxFX0RVQUxfU1RSRUFNX1VTRV9FTkNPRElOR1wiKSYmTUQoKS5zdXBwb3J0RHVhbFN0cmVhbUVuY29kaW5nKXtjb25zdCB0PXRoaXMubG9jYWxUcmFja01hcC5nZXQoSmIuTG9jYWxWaWRlb0xvd1RyYWNrKTtpZih0KXtjb25zdCBpPWUuX21lZGlhU3RyZWFtVHJhY2suY2xvbmUoKTt0LnRyYWNrLl9vcmlnaW5NZWRpYVN0cmVhbVRyYWNrLnN0b3AoKSx0LnRyYWNrLl9tZWRpYVN0cmVhbVRyYWNrPWksdC50cmFjay5fb3JpZ2luTWVkaWFTdHJlYW1UcmFjaz1pLGF3YWl0IG5ldyBHaCgoKGUsaSk9Pnt0aGlzLmhhbmRsZVJlcGxhY2VUcmFjayh0LnRyYWNrLGUsaSwhMCl9KSl9fX1maWx0ZXJUb2JlUHVibGlzaGVkVHJhY2tzKGUsdCxpKXtjb25zdCBuPVtdLHI9dGhpcy5nZXRBbGxUcmFja3MoKTtlPUJ2KGU9ZS5maWx0ZXIoKGU9Pi0xPT09ci5pbmRleE9mKGUpKSkpO2xldCBvLHM9ITE7Y29uc3QgYT10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KEpiLkxvY2FsQXVkaW9UcmFjayk7Zm9yKGNvbnN0IHIgb2YgZSl7aWYociBpbnN0YW5jZW9mIEhrJiYodGhpcy5sb2NhbFRyYWNrTWFwLmhhcyhKYi5Mb2NhbFZpZGVvVHJhY2spfHxzP25ldyBydihudi5DQU5fTk9UX1BVQkxJU0hfTVVMVElQTEVfVklERU9fVFJBQ0tTKS50aHJvdygpOihuLnB1c2goe3RyYWNrOnIsdHlwZTpKYi5Mb2NhbFZpZGVvVHJhY2t9KSxzPSEwKSx0KSl7Y29uc3QgZT10aGlzLmdldExvd1ZpZGVvVHJhY2socixpKTtuLnB1c2goe3RyYWNrOmUsdHlwZTpKYi5Mb2NhbFZpZGVvTG93VHJhY2t9KX1pZihyIGluc3RhbmNlb2YgdGspaWYoYSl7Y29uc3QgZT1hLnRyYWNrO2lmKGUgaW5zdGFuY2VvZiByaylvVihbcl0pLGUuYWRkQXVkaW9UcmFjayhyKSx0aGlzLmJpbmRMb2NhbEF1ZGlvVHJhY2tFdmVudHMociwhMCk7ZWxzZXtjb25zdCB0PXNWKFtlLHJdKTtReS5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW3AycElkOiBcIikuY29uY2F0KHRoaXMuc3RvcmUucDJwSWQsXCJdOiBQMlBDb25uZWN0aW9uIHdpbGwgcmVwbGFjZSBhdWRpb1RyYWNrIFtcIikuY29uY2F0KHQuZ2V0VHJhY2tJZCgpLFwiXVwiKSksdGhpcy5yZXBsYWNlVHJhY2soZSx0KX19ZWxzZSBpZihvIGluc3RhbmNlb2Ygcmspb1YoW3JdKSxvLmFkZEF1ZGlvVHJhY2socik7ZWxzZSBpZihvfHwhci5fdXNlQXVkaW9FbGVtZW50JiZNRCgpLndlYkF1ZGlvTWVkaWFTdHJlYW1EZXN0JiYhci5fYnlwYXNzV2ViQXVkaW8pe289c1Yobz9bcixvXTpbcl0pfWVsc2Ugbz1yfXJldHVybiBvJiYoUXkuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFtwMnBJZDogXCIpLmNvbmNhdCh0aGlzLnN0b3JlLnAycElkLFwiXTogUDJQQ29ubmVjdGlvbiB3aWxsIHNlbmQgYXVkaW9UcmFjayBbXCIpLmNvbmNhdChvLmdldFRyYWNrSWQoKSxcIl1cIikpLG4ucHVzaCh7dHJhY2s6byx0eXBlOkpiLkxvY2FsQXVkaW9UcmFja30pKSxufWZpbHRlclRvYmVVbnB1Ymxpc2hlZFRyYWNrcyhlKXtjb25zdCB0PVtdLGk9dGhpcy5nZXRBbGxUcmFja3MoKTtlPUJ2KGU9ZS5maWx0ZXIoKGU9Pi0xIT09aS5pbmRleE9mKGUpKSkpO2Zvcihjb25zdCBpIG9mIGUpe2lmKGkgaW5zdGFuY2VvZiB0ayl7Y29uc3QgZT10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KEpiLkxvY2FsQXVkaW9UcmFjayk7aWYoIWUpY29udGludWU7ZS50cmFjayBpbnN0YW5jZW9mIHJrPyhlLnRyYWNrLnJlbW92ZUF1ZGlvVHJhY2soaSksdGhpcy51bmJpbmRMb2NhbEF1ZGlvVHJhY2tFdmVudHMoaSksMD09PWUudHJhY2sudHJhY2tMaXN0Lmxlbmd0aCYmKHQucHVzaChbSmIuTG9jYWxBdWRpb1RyYWNrLGVdKSxlLnRyYWNrLmNsb3NlKCkpKTp0LnB1c2goW0piLkxvY2FsQXVkaW9UcmFjayxlXSl9aWYoaSBpbnN0YW5jZW9mIEhrKXtjb25zdCBlPXRoaXMubG9jYWxUcmFja01hcC5nZXQoSmIuTG9jYWxWaWRlb1RyYWNrKTtpZighZSljb250aW51ZTt0LnB1c2goW0piLkxvY2FsVmlkZW9UcmFjayxlXSk7Y29uc3QgaT10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KEpiLkxvY2FsVmlkZW9Mb3dUcmFjayk7aSYmdC5wdXNoKFtKYi5Mb2NhbFZpZGVvTG93VHJhY2ssaV0pfX1yZXR1cm4gdH1maWx0ZXJUb2JlUHVibGlzaGVkRGF0YUNoYW5uZWxzKGUpe3JldHVybiBlPShlPUJ2KGUpKS5maWx0ZXIoKGU9Pi0xPT09dGhpcy5sb2NhbERhdGFDaGFubmVscy5maW5kSW5kZXgoKHQ9PnQuaWQ9PT1lLmlkKSkpKX1maWx0ZXJUb2JlVW5wdWJsaXNoZWREYXRhQ2hhbm5lbHMoZSl7cmV0dXJuIGU9KGU9KGU9QnYoZSkpLmZpbHRlcigoZT0+LTEhPT10aGlzLmxvY2FsRGF0YUNoYW5uZWxzLmluZGV4T2YoZSkpKSkuZmlsdGVyKChlPT5lLl9vcmlnaW5EYXRhQ2hhbm5lbCkpfWJpbmRMb2NhbFRyYWNrRXZlbnRzKGUpe2UuZm9yRWFjaCgoZT0+e2xldHt0cmFjazp0LHR5cGU6aX09ZTtzd2l0Y2goaSl7Y2FzZSBKYi5Mb2NhbFZpZGVvVHJhY2s6dC5hZGRMaXN0ZW5lcigkRC5HRVRfU1RBVFMsdGhpcy5oYW5kbGVHZXRMb2NhbFZpZGVvU3RhdHMpLHQuYWRkTGlzdGVuZXIoJEQuR0VUX1JUQ19TVEFUUyx0aGlzLmhhbmRsZUdldFJUQ1N0YXRzKSx0LmFkZExpc3RlbmVyKCRELk5FRURfRElTQUJMRV9UUkFDSyx0aGlzLmhhbmRsZU11dGVMb2NhbFRyYWNrKSx0LmFkZExpc3RlbmVyKCRELk5FRURfRU5BQkxFX1RSQUNLLHRoaXMuaGFuZGxlVW5tdXRlTG9jYWxUcmFjayksdC5hZGRMaXN0ZW5lcigkRC5ORUVEX1VQREFURV9WSURFT19FTkNPREVSLHRoaXMuaGFuZGxlVXBkYXRlVmlkZW9FbmNvZGVyKSx0LmFkZExpc3RlbmVyKCRELk5FRURfVVBEQVRFX1ZJREVPX1NFTkRfUEFSQU1FVEVSUyx0aGlzLmhhbmRsZVVwZGF0ZVZpZGVvU2VuZFBhcmFtZXRlcnMpLHQuYWRkTGlzdGVuZXIoJEQuTkVFRF9SRVBMQUNFX1RSQUNLLHRoaXMuaGFuZGxlUmVwbGFjZVRyYWNrKSx0LmFkZExpc3RlbmVyKCRELk5FRURfTVVURV9UUkFDSyx0aGlzLmhhbmRsZU11dGVMb2NhbFRyYWNrKSx0LmFkZExpc3RlbmVyKCRELk5FRURfVU5NVVRFX1RSQUNLLHRoaXMuaGFuZGxlVW5tdXRlTG9jYWxUcmFjayk7YnJlYWs7Y2FzZSBKYi5Mb2NhbEF1ZGlvVHJhY2s6dGhpcy5iaW5kTG9jYWxBdWRpb1RyYWNrRXZlbnRzKHQpO2Nhc2UgSmIuTG9jYWxWaWRlb0xvd1RyYWNrOn19KSl9YmluZExvY2FsQXVkaW9UcmFja0V2ZW50cyhlLHQpe2UgaW5zdGFuY2VvZiByaz9lLnRyYWNrTGlzdC5mb3JFYWNoKChlPT57ZS5hZGRMaXN0ZW5lcigkRC5ORUVEX0RJU0FCTEVfVFJBQ0ssdGhpcy5oYW5kbGVNdXRlTG9jYWxUcmFjayksZS5hZGRMaXN0ZW5lcigkRC5ORUVEX0VOQUJMRV9UUkFDSyx0aGlzLmhhbmRsZVVubXV0ZUxvY2FsVHJhY2spLGUuYWRkTGlzdGVuZXIoJEQuR0VUX1NUQVRTLHRoaXMuaGFuZGxlR2V0TG9jYWxBdWRpb1N0YXRzKSxlLmFkZExpc3RlbmVyKCRELk5FRURfTVVURV9UUkFDSyx0aGlzLmhhbmRsZU11dGVMb2NhbFRyYWNrKSxlLmFkZExpc3RlbmVyKCRELk5FRURfVU5NVVRFX1RSQUNLLHRoaXMuaGFuZGxlVW5tdXRlTG9jYWxUcmFjayl9KSk6KGUuYWRkTGlzdGVuZXIoJEQuR0VUX1NUQVRTLHRoaXMuaGFuZGxlR2V0TG9jYWxBdWRpb1N0YXRzKSxlLmFkZExpc3RlbmVyKCRELk5FRURfRElTQUJMRV9UUkFDSyx0aGlzLmhhbmRsZU11dGVMb2NhbFRyYWNrKSxlLmFkZExpc3RlbmVyKCRELk5FRURfRU5BQkxFX1RSQUNLLHRoaXMuaGFuZGxlVW5tdXRlTG9jYWxUcmFjayksZS5hZGRMaXN0ZW5lcigkRC5ORUVEX01VVEVfVFJBQ0ssdGhpcy5oYW5kbGVNdXRlTG9jYWxUcmFjayksZS5hZGRMaXN0ZW5lcigkRC5ORUVEX1VOTVVURV9UUkFDSyx0aGlzLmhhbmRsZVVubXV0ZUxvY2FsVHJhY2spLHR8fChlLmFkZExpc3RlbmVyKCRELk5FRURfUkVQTEFDRV9UUkFDSyx0aGlzLmhhbmRsZVJlcGxhY2VUcmFjayksZS5hZGRMaXN0ZW5lcigkRC5ORUVEX1JFUExBQ0VfTUlYSU5HX1RSQUNLLHRoaXMuaGFuZGxlUmVwbGFjZU1peGluZ1RyYWNrKSkpfXVuYmluZExvY2FsVHJhY2tFdmVudHMoZSl7ZXx8KGU9QXJyYXkuZnJvbSh0aGlzLmxvY2FsVHJhY2tNYXAuZW50cmllcygpKS5tYXAoKGU9PntsZXRbdCx7dHJhY2s6aX1dPWU7cmV0dXJue3RyYWNrOmksdHlwZTp0fX0pKSksZS5mb3JFYWNoKChlPT57bGV0e3RyYWNrOnQsdHlwZTppfT1lO3N3aXRjaChpKXtjYXNlIEpiLkxvY2FsVmlkZW9UcmFjazp0Lm9mZigkRC5HRVRfU1RBVFMsdGhpcy5oYW5kbGVHZXRMb2NhbFZpZGVvU3RhdHMpLHQub2ZmKCRELkdFVF9SVENfU1RBVFMsdGhpcy5oYW5kbGVHZXRSVENTdGF0cyksdC5vZmYoJEQuTkVFRF9ESVNBQkxFX1RSQUNLLHRoaXMuaGFuZGxlTXV0ZUxvY2FsVHJhY2spLHQub2ZmKCRELk5FRURfRU5BQkxFX1RSQUNLLHRoaXMuaGFuZGxlVW5tdXRlTG9jYWxUcmFjayksdC5vZmYoJEQuTkVFRF9VUERBVEVfVklERU9fRU5DT0RFUix0aGlzLmhhbmRsZVVwZGF0ZVZpZGVvRW5jb2RlciksdC5vZmYoJEQuTkVFRF9VUERBVEVfVklERU9fU0VORF9QQVJBTUVURVJTLHRoaXMuaGFuZGxlVXBkYXRlVmlkZW9TZW5kUGFyYW1ldGVycyksdC5vZmYoJEQuTkVFRF9SRVBMQUNFX1RSQUNLLHRoaXMuaGFuZGxlUmVwbGFjZVRyYWNrKSx0Lm9mZigkRC5ORUVEX01VVEVfVFJBQ0ssdGhpcy5oYW5kbGVNdXRlTG9jYWxUcmFjayksdC5vZmYoJEQuTkVFRF9VTk1VVEVfVFJBQ0ssdGhpcy5oYW5kbGVVbm11dGVMb2NhbFRyYWNrKTticmVhaztjYXNlIEpiLkxvY2FsQXVkaW9UcmFjazp0aGlzLnVuYmluZExvY2FsQXVkaW9UcmFja0V2ZW50cyh0KTtjYXNlIEpiLkxvY2FsVmlkZW9Mb3dUcmFjazp9fSkpfXVuYmluZExvY2FsQXVkaW9UcmFja0V2ZW50cyhlKXtlIGluc3RhbmNlb2Ygcms/ZS50cmFja0xpc3QuZm9yRWFjaCgoZT0+e2Uub2ZmKCRELk5FRURfRElTQUJMRV9UUkFDSyx0aGlzLmhhbmRsZU11dGVMb2NhbFRyYWNrKSxlLm9mZigkRC5ORUVEX0VOQUJMRV9UUkFDSyx0aGlzLmhhbmRsZVVubXV0ZUxvY2FsVHJhY2spLGUub2ZmKCRELkdFVF9TVEFUUyx0aGlzLmhhbmRsZUdldExvY2FsQXVkaW9TdGF0cyksZS5vZmYoJEQuTkVFRF9NVVRFX1RSQUNLLHRoaXMuaGFuZGxlTXV0ZUxvY2FsVHJhY2spLGUub2ZmKCRELk5FRURfVU5NVVRFX1RSQUNLLHRoaXMuaGFuZGxlVW5tdXRlTG9jYWxUcmFjayl9KSk6KGUub2ZmKCRELkdFVF9TVEFUUyx0aGlzLmhhbmRsZUdldExvY2FsQXVkaW9TdGF0cyksZS5vZmYoJEQuTkVFRF9ESVNBQkxFX1RSQUNLLHRoaXMuaGFuZGxlTXV0ZUxvY2FsVHJhY2spLGUub2ZmKCRELk5FRURfRU5BQkxFX1RSQUNLLHRoaXMuaGFuZGxlVW5tdXRlTG9jYWxUcmFjayksZS5vZmYoJEQuTkVFRF9SRVBMQUNFX1RSQUNLLHRoaXMuaGFuZGxlUmVwbGFjZVRyYWNrKSxlLm9mZigkRC5ORUVEX1JFUExBQ0VfTUlYSU5HX1RSQUNLLHRoaXMuaGFuZGxlUmVwbGFjZU1peGluZ1RyYWNrKSxlLm9mZigkRC5ORUVEX01VVEVfVFJBQ0ssdGhpcy5oYW5kbGVNdXRlTG9jYWxUcmFjayksZS5vZmYoJEQuTkVFRF9VTk1VVEVfVFJBQ0ssdGhpcy5oYW5kbGVVbm11dGVMb2NhbFRyYWNrKSl9YmluZFJlbW90ZVRyYWNrRXZlbnRzKGUsdCl7dCBpbnN0YW5jZW9mIHNNJiZ0LmFkZExpc3RlbmVyKCRELkdFVF9TVEFUUywodD0+e3QodGhpcy5oYW5kbGVHZXRSZW1vdGVWaWRlb1N0YXRzKGUpKX0pKSx0IGluc3RhbmNlb2YgYU0mJnQuYWRkTGlzdGVuZXIoJEQuR0VUX1NUQVRTLCh0PT57dCh0aGlzLmhhbmRsZUdldFJlbW90ZUF1ZGlvU3RhdHMoZSkpfSkpfXVuYmluZFJlbW90ZVRyYWNrRXZlbnRzKGUpe2UmJmUucmVtb3ZlQWxsTGlzdGVuZXJzKCRELkdFVF9TVEFUUyl9dW5iaW5kQWxsUmVtb3RlVHJhY2tFdmVudHMoKXtBcnJheS5mcm9tKHRoaXMucmVtb3RlVXNlck1hcC5lbnRyaWVzKCkpLmZvckVhY2goKGU9PntsZXRbdCxpXT1lO2kuaGFzKFliLkFVRElPKSYmdGhpcy51bmJpbmRSZW1vdGVUcmFja0V2ZW50cyh0Ll9hdWRpb1RyYWNrKSxpLmhhcyhZYi5WSURFTykmJnRoaXMudW5iaW5kUmVtb3RlVHJhY2tFdmVudHModC5fdmlkZW9UcmFjayl9KSl9Y3JlYXRlR2F0ZXdheVB1Ymxpc2hNZXNzYWdlKGUsdCl7cmV0dXJuIGUubWFwKCgoZSxpKT0+e3ZhciBuO2xldCByLG8se3RyYWNrOnMsdHlwZTphfT1lO3N3aXRjaChhKXtjYXNlIEpiLkxvY2FsQXVkaW9UcmFjazpyPU1iLkF1ZGlvLG89e2R0eDpzIGluc3RhbmNlb2YgaWsmJnMuX2NvbmZpZy5EVFgsaHE6ITEsbHE6ITEsc3RlcmVvOiExLHNwZWVjaDohMX07YnJlYWs7Y2FzZSBKYi5Mb2NhbFZpZGVvVHJhY2s6cj1EbihuPXMuX2hpbnRzKS5jYWxsKG4sZVAuU0NSRUVOX1RSQUNLKT9NYi5TY3JlZW46TWIuSGlnaCxvPWRGKGRGKHt9LE13KHMpKSx7fSx7Y29kZWM6dGhpcy5zdG9yZS5jb2RlYyxzdmNfbW9kZTpJTSgpfSk7YnJlYWs7Y2FzZSBKYi5Mb2NhbFZpZGVvTG93VHJhY2s6cj1NYi5Mb3csbz1kRihkRih7fSxNdyhzKSkse30se2NvZGVjOnRoaXMuc3RvcmUuY29kZWMsc3ZjX21vZGU6SU0oKX0pfXJldHVybntzdHJlYW1fdHlwZTpyLGF0dHJpYnV0ZXM6byxzc3Jjczp0W2ldfX0pKX1jcmVhdGVHYXRld2F5VW5wdWJsaXNoTWVzc2FnZShlKXtyZXR1cm4gZS5tYXAoKGU9Pnt2YXIgdDtsZXQgaSxbbix7dHJhY2s6cixzc3JjczpvLGlkOnN9XT1lO3N3aXRjaChuKXtjYXNlIEpiLkxvY2FsVmlkZW9UcmFjazppPURuKHQ9ci5faGludHMpLmNhbGwodCxlUC5TQ1JFRU5fVFJBQ0spP01iLlNjcmVlbjpNYi5IaWdoO2JyZWFrO2Nhc2UgSmIuTG9jYWxBdWRpb1RyYWNrOmk9TWIuQXVkaW87YnJlYWs7Y2FzZSBKYi5Mb2NhbFZpZGVvTG93VHJhY2s6aT1NYi5Mb3d9cmV0dXJue3N0cmVhbV90eXBlOmksc3NyY3M6byxtaWQ6c319KSl9YXNzaWduTG9jYWxUcmFja3MoZSx0KXtlLmZvckVhY2goKChlLGkpPT57bGV0e3RyYWNrOm4sdHlwZTpyfT1lO3RoaXMubG9jYWxUcmFja01hcC5zZXQocix7dHJhY2s6bixpZDp0W2ldLmlkLHNzcmNzOnRbaV0ubG9jYWxTU1JDfSl9KSl9d2l0aGRyYXdMb2NhbFRyYWNrcyhlKXtlLmZvckVhY2goKGU9PntsZXRbdF09ZTt0aGlzLmxvY2FsVHJhY2tNYXAuZGVsZXRlKHQpfSkpfWJpbmRDb25uZWN0aW9uRXZlbnRzKGUpe2Uub25Db25uZWN0aW9uU3RhdGVDaGFuZ2U9YXN5bmMgdD0+e2lmKFF5LmluZm8oXCJbXCIuY29uY2F0KHRoaXMuc3RvcmUuY2xpZW50SWQsXCJdIFtwMnBJZDogXCIpLmNvbmNhdCh0aGlzLnN0b3JlLnAycElkLFwiXTogUDJQQ29ubmVjdGlvbi5vbkNvbm5lY3Rpb25TdGF0ZUNoYW5nZShcIikuY29uY2F0KHQsXCIpXCIpKSx0aGlzLmVtaXQoUWIuUGVlckNvbm5lY3Rpb25TdGF0ZUNoYW5nZSx0KSxcImNvbm5lY3RlZFwiIT09dHx8dGhpcy5zdG9yZS5rZXlNZXRyaWNzLnBlZXJDb25uZWN0aW9uRW5kfHx0aGlzLnN0b3JlLnBlZXJDb25uZWN0aW9uRW5kKCksXCJjb25uZWN0ZWRcIj09PXQmJih0aGlzLl9yZXN0YXJ0VGltZXImJihjbGVhclRpbWVvdXQodGhpcy5fcmVzdGFydFRpbWVyKSx0aGlzLl9yZXN0YXJ0VGltZXI9dm9pZCAwKSwodGhpcy5faXNGaXJzdENvbm5lY3RlZHx8dGhpcy5faXNJblJlc3RhcnRJY2UpJiZ0aGlzLnJlcG9ydFBDU3RhdHMoRGF0ZS5ub3coKSwhMCx0aGlzLl9wY1N0YXRzVXBsb2FkVHlwZSksdGhpcy5faXNJblJlc3RhcnRJY2U9ITEsdGhpcy5faXNGaXJzdENvbm5lY3RlZD0hMSx0aGlzLl9pc1N0YXJ0UmVzdGFydEljZT0hMSksRHkoXCJORVdfSUNFX1JFU1RBUlRcIikpe3ZhciBpO2lmKERuKGk9dGhpcy5fcmVzdGFydFN0YXRlcykuY2FsbChpLHQpKXtpZih0aGlzLl9pc1N0YXJ0UmVzdGFydEljZSlyZXR1cm47dGhpcy5faXNTdGFydFJlc3RhcnRJY2U9ITA7Y29uc3QgdD10PT57aWYoXCJkaXNjb25uZWN0ZWRcIj09PWUuaWNlQ29ubmVjdGlvblN0YXRlfHxcImNoZWNraW5nXCI9PT1lLmljZUNvbm5lY3Rpb25TdGF0ZXx8XCJmYWlsZWRcIj09PWUuaWNlQ29ubmVjdGlvblN0YXRlKXtReS5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW1AyUENoYW5uZWxdIHN0YXJ0IHVzZSByZXN0YXJ0SUNFLCB0eXBlIGlzIFwiKS5jb25jYXQodCkpO1wiQ09OTkVDVEVEXCI9PT1Vdih0aGlzLFFiLlF1ZXJ5Q2xpZW50Q29ubmVjdGlvblN0YXRlKSYmdGhpcy5lbWl0KFFiLlJlcXVlc3RSZXN0YXJ0SUNFLHQpfX0saT0oKT0+e1wiZGlzY29ubmVjdGVkXCIhPT1lLmljZUNvbm5lY3Rpb25TdGF0ZSYmXCJjaGVja2luZ1wiIT09ZS5pY2VDb25uZWN0aW9uU3RhdGUmJlwiZmFpbGVkXCIhPT1lLmljZUNvbm5lY3Rpb25TdGF0ZXx8KHRoaXMucmVwb3J0UENTdGF0cyhEYXRlLm5vdygpLCExLHRoaXMuX3BjU3RhdHNVcGxvYWRUeXBlKSxReS5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gUDJQQ29ubmVjdGlvbiBkaXNjb25uZWN0ZWQgdGltZW91dCwgZm9yY2UgcmVjb25uZWN0XCIpKSxzZXRUaW1lb3V0KCgoKT0+dGhpcy5lbWl0KFFiLlAyUExvc3QpKSwwKSx0aGlzLmljZUZhaWxlZENvdW50Kz0xLHRoaXMucmVxdWVzdFJlY29ubmVjdCgpKX0sbj1EeShcIklDRV9SRVNUQVJUX0lOVEVSVkFMXCIpO3JldHVybiB2b2lkKHRoaXMuX3Jlc3RhcnRUaW1lcj13aW5kb3cuc2V0VGltZW91dCgoKCk9PntpZihEeShcIkpPSU5fV0lUSF9GQUxMQkFDS19NRURJQV9QUk9YWV9GT1JDRVwiKSYmTUQoKS5zdXBwb3J0UENTZXRDb25maWd1cmF0aW9uKXQocWIuUkVMQVkpLHRoaXMuX3Jlc3RhcnRUaW1lcj13aW5kb3cuc2V0VGltZW91dChpLG4pO2Vsc2UgaWYoa0koKSl0KHFiLlVEUCksdGhpcy5fcmVzdGFydFRpbWVyPXdpbmRvdy5zZXRUaW1lb3V0KGksNGUzKTtlbHNle2lmKHQocWIuVENQKSxNRCgpLnN1cHBvcnRQQ1NldENvbmZpZ3VyYXRpb24pcmV0dXJuIHZvaWQodGhpcy5fcmVzdGFydFRpbWVyPXdpbmRvdy5zZXRUaW1lb3V0KCgoKT0+e3QocWIuUkVMQVkpLHRoaXMuX3Jlc3RhcnRUaW1lcj13aW5kb3cuc2V0VGltZW91dChpLG4pfSksbikpO3RoaXMuX3Jlc3RhcnRUaW1lcj13aW5kb3cuc2V0VGltZW91dChpLG4pfX0pLDgwMCkpfX1lbHNle2lmKFwiZGlzY29ubmVjdGVkXCI9PT10JiZcImRpc2Nvbm5lY3RlZFwiPT09ZS5pY2VDb25uZWN0aW9uU3RhdGUpcmV0dXJuIHNldFRpbWVvdXQoKCgpPT57aWYoXCJkaXNjb25uZWN0ZWRcIj09PWUuaWNlQ29ubmVjdGlvblN0YXRlJiZEeShcIklDRV9SRVNUQVJUXCIpKXtcIkNPTk5FQ1RFRFwiPT09VXYodGhpcyxRYi5RdWVyeUNsaWVudENvbm5lY3Rpb25TdGF0ZSkmJnRoaXMuZW1pdChRYi5SZXF1ZXN0UmVzdGFydElDRSl9fSksODAwKSx2b2lkIHNldFRpbWVvdXQoKCgpPT57XCJkaXNjb25uZWN0ZWRcIj09PWUucGVlckNvbm5lY3Rpb25TdGF0ZSYmKFF5LmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbcDJwSWQ6IFwiKS5jb25jYXQodGhpcy5zdG9yZS5wMnBJZCxcIl06IFAyUENvbm5lY3Rpb24gZGlzY29ubmVjdGVkIHRpbWVvdXQgNDAwMG1zLCBmb3JjZSByZWNvbm5lY3RcIikpLHRoaXMucmVwb3J0UENTdGF0cyhEYXRlLm5vdygpLCExLHRoaXMuX3BjU3RhdHNVcGxvYWRUeXBlKSx0aGlzLl9pc0luUmVzdGFydEljZT0hMSxzZXRUaW1lb3V0KCgoKT0+dGhpcy5lbWl0KFFiLlAyUExvc3QpKSwwKSx0aGlzLmljZUZhaWxlZENvdW50Kz0xLHRoaXMucmVxdWVzdFJlY29ubmVjdCgpKX0pLDRlMyk7XCJmYWlsZWRcIj09PXQmJihReS5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW3AycElkOiBcIikuY29uY2F0KHRoaXMuc3RvcmUucDJwSWQsXCJdOiBQMlBDb25uZWN0aW9uIHN0YXRlIGZhaWxlZCwgZm9yY2UgcmVjb25uZWN0XCIpKSx0aGlzLnJlcG9ydFBDRGlzY29ubmVjdGVkT3JGYWlsZWQoKSxzZXRUaW1lb3V0KCgoKT0+dGhpcy5lbWl0KFFiLlAyUExvc3QpKSwwKSx0aGlzLmljZUZhaWxlZENvdW50Kz0xLGF3YWl0IHRoaXMucmVxdWVzdFJlY29ubmVjdCgpKX19LGUub25JQ0VDb25uZWN0aW9uU3RhdGVDaGFuZ2U9ZT0+e1wiY29ubmVjdGVkXCIhPT1lfHx0aGlzLnN0b3JlLmtleU1ldHJpY3MuaWNlQ29ubmVjdGlvbkVuZHx8dGhpcy5zdG9yZS5pY2VDb25uZWN0aW9uRW5kKCksUXkuaW5mbyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW3AycElkOiBcIikuY29uY2F0KHRoaXMuc3RvcmUucDJwSWQsXCJdOiBQMlBDb25uZWN0aW9uLm9uSUNFQ29ubmVjdGlvblN0YXRlQ2hhbmdlKFwiKS5jb25jYXQoZSxcIilcIikpLHNBLnJlcG9ydEFwaUludm9rZSh0aGlzLnN0b3JlLnNlc3Npb25JZCx7bmFtZTpcIklDRUNvbm5lY3Rpb25TdGF0ZUNoYW5nZVwiLG9wdGlvbnM6ZSx0YWc6SXYuVFJBQ0VSfSkub25TdWNjZXNzKCksdGhpcy5lbWl0KFFiLkljZUNvbm5lY3Rpb25TdGF0ZUNoYW5nZSxlKX0sZS5vbklDRVRyYW5zcG9ydFN0YXRlQ2hhbmdlPWU9PntReS5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbcDJwSWQ6IFwiKS5jb25jYXQodGhpcy5zdG9yZS5wMnBJZCxcIl06IFAyUENvbm5lY3Rpb24ub25JQ0VUcmFuc3BvcnRTdGF0ZUNoYW5nZShcIikuY29uY2F0KGUsXCIpXCIpKX0sZS5vbkRUTFNUcmFuc3BvcnRTdGF0ZUNoYW5nZT1lPT57UXkuaW5mbyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW3AycElkOiBcIikuY29uY2F0KHRoaXMuc3RvcmUucDJwSWQsXCJdOiBQMlBDb25uZWN0aW9uLm9uRFRMU1RyYW5zcG9ydFN0YXRlQ2hhbmdlKFwiKS5jb25jYXQoZSxcIilcIikpfSxlLm9uRFRMU1RyYW5zcG9ydEVycm9yPWU9PntReS5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbcDJwSWQ6IFwiKS5jb25jYXQodGhpcy5zdG9yZS5wMnBJZCxcIl06IFAyUENvbm5lY3Rpb24ub25EVExTVHJhbnNwb3J0RXJyb3IoXCIpLmNvbmNhdChlLFwiKVwiKSl9LGUub25GaXJzdEF1ZGlvRGVjb2RlZD1lPT57dmFyIHQ7Y29uc3QgaT1BcnJheS5mcm9tKGRfKHQ9dGhpcy5yZW1vdGVVc2VyTWFwKS5jYWxsKHQpKS5maW5kKCh0PT50Ll9hdWRpb1NTUkM9PT1lKSk7dmFyIG47aSYmKHRoaXMuc3RvcmUuc3Vic2NyaWJlKGkudWlkLFwiYXVkaW9cIix2b2lkIDAsdm9pZCAwLHZvaWQgMCxEYXRlLm5vdygpKSxudWxsPT09KG49aS5hdWRpb1RyYWNrKXx8dm9pZCAwPT09bnx8bi5lbWl0KHNQLkZJUlNUX0ZSQU1FX0RFQ09ERUQpLHNBLmZpcnN0UmVtb3RlRnJhbWUodGhpcy5zdG9yZS5zZXNzaW9uSWQsdEEuRklSU1RfQVVESU9fREVDT0RFLGlBLkZJUlNUX0FVRElPX0RFQ09ERSx7cGVlcjppLl91aW50aWQsc3Vic2NyaWJlRWxhcHNlOmpVLm1lYXN1cmVGcm9tU3Vic2NyaWJlU3RhcnQodGhpcy5zdG9yZS5jbGllbnRJZCxlKSxzdWJzY3JpYmVSZXF1ZXN0aWQ6ZSxwMnBpZDp0aGlzLnN0b3JlLnAycElkfSkpfSxlLm9uRmlyc3RBdWRpb1JlY2VpdmVkPWU9Pnt2YXIgdDtjb25zdCBpPUFycmF5LmZyb20oZF8odD10aGlzLnJlbW90ZVVzZXJNYXApLmNhbGwodCkpLmZpbmQoKHQ9PnQuX2F1ZGlvU1NSQz09PWUpKTtpJiZzQS5maXJzdFJlbW90ZUZyYW1lKHRoaXMuc3RvcmUuc2Vzc2lvbklkLHRBLkZJUlNUX0FVRElPX1JFQ0VJVkVELGlBLkZJUlNUX0FVRElPX1JFQ0VJVkVELHtwZWVyOmkuX3VpbnRpZCxzdWJzY3JpYmVFbGFwc2U6alUubWVhc3VyZUZyb21TdWJzY3JpYmVTdGFydCh0aGlzLnN0b3JlLmNsaWVudElkLGUpLHN1YnNjcmliZVJlcXVlc3RpZDplLHAycGlkOnRoaXMuc3RvcmUucDJwSWR9KX0sZS5vbkZpcnN0VmlkZW9EZWNvZGVkPShlLHQsaSk9Pnt0aGlzLnJlcG9ydFZpZGVvRmlyc3RGcmFtZURlY29kZWQoZSx0LGkpfSxlLm9uRmlyc3RWaWRlb1JlY2VpdmVkPWU9Pnt2YXIgdDtjb25zdCBpPUFycmF5LmZyb20oZF8odD10aGlzLnJlbW90ZVVzZXJNYXApLmNhbGwodCkpLmZpbmQoKHQ9PnQuX3ZpZGVvU1NSQz09PWUpKTtpJiZzQS5maXJzdFJlbW90ZUZyYW1lKHRoaXMuc3RvcmUuc2Vzc2lvbklkLHRBLkZJUlNUX1ZJREVPX1JFQ0VJVkVELGlBLkZJUlNUX1ZJREVPX1JFQ0VJVkVELHtwZWVyOmkuX3VpbnRpZCxzdWJzY3JpYmVFbGFwc2U6alUubWVhc3VyZUZyb21TdWJzY3JpYmVTdGFydCh0aGlzLnN0b3JlLmNsaWVudElkLGUpLHN1YnNjcmliZVJlcXVlc3RpZDplLHAycGlkOnRoaXMuc3RvcmUucDJwSWR9KX0sZS5vblNlbGVjdGVkTG9jYWxDYW5kaWRhdGVDaGFuZ2VkPShlLHQpPT57Y29uc3QgaT1cInJlbGF5XCI9PT1lLmNhbmRpZGF0ZVR5cGUsbj1cInJlbGF5XCI9PT10LmNhbmRpZGF0ZVR5cGU7XCJ1bmtub3duXCIhPT10LmNhbmRpZGF0ZVR5cGUmJmk9PT1ufHx0aGlzLmVtaXQoUWIuQ29ubmVjdGlvblR5cGVDaGFuZ2UsaSksUXkuaW5mbyhcIltcIi5jb25jYXQodGhpcy5zdG9yZS5jbGllbnRJZCxcIl0gW3AycElkOiBcIikuY29uY2F0KHRoaXMuc3RvcmUucDJwSWQsXCJdOiBQMlBDb25uZWN0aW9uLlNlbGVjdGVkTG9jYWxDYW5kaWRhdGVDaGFuZ2VkKFwiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkoQncodCkpLFwiIC0+IFwiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkoQncoZSkpLFwiKVwiKSl9LGUub25TZWxlY3RlZFJlbW90ZUNhbmRpZGF0ZUNoYW5nZWQ9KGUsdCk9PntReS5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLnN0b3JlLmNsaWVudElkLFwiXSBbcDJwSWQ6IFwiKS5jb25jYXQodGhpcy5zdG9yZS5wMnBJZCxcIl06IFAyUENvbm5lY3Rpb24uU2VsZWN0ZWRSZW1vdGVDYW5kaWRhdGVDaGFuZ2VkKFwiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkoQncodCkpLFwiIC0+IFwiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkoQncoZSkpLFwiKVwiKSl9LGUub25GaXJzdFZpZGVvRGVjb2RlZFRpbWVvdXQ9ZT0+e3RoaXMucmVwb3J0VmlkZW9GaXJzdEZyYW1lRGVjb2RlZChlLHZvaWQgMCx2b2lkIDAsITApfSxlLmdldExvY2FsVmlkZW9TdGF0cz0oKT0+e2NvbnN0IGU9dGhpcy5zdGF0c0NvbGxlY3Rvci5nZXRMb2NhbFZpZGVvVHJhY2tTdGF0cygpLHQ9dGhpcy5zdGF0c0NvbGxlY3Rvci5nZXRSVENTdGF0cygpO3JldHVybiBkRihkRih7fSxlKSx0KX19dW5iaW5kQ29ubmVjdGlvbkV2ZW50cyhlKXtlLm9uQ29ubmVjdGlvblN0YXRlQ2hhbmdlPXZvaWQgMCxlLm9uSUNFQ29ubmVjdGlvblN0YXRlQ2hhbmdlPXZvaWQgMCxlLm9uSUNFVHJhbnNwb3J0U3RhdGVDaGFuZ2U9dm9pZCAwLGUub25EVExTVHJhbnNwb3J0U3RhdGVDaGFuZ2U9dm9pZCAwLGUub25EVExTVHJhbnNwb3J0RXJyb3I9dm9pZCAwLGUub25GaXJzdEF1ZGlvRGVjb2RlZD12b2lkIDAsZS5vbkZpcnN0QXVkaW9SZWNlaXZlZD12b2lkIDAsZS5vbkZpcnN0VmlkZW9EZWNvZGVkPXZvaWQgMCxlLm9uRmlyc3RWaWRlb1JlY2VpdmVkPXZvaWQgMCxlLm9uU2VsZWN0ZWRMb2NhbENhbmRpZGF0ZUNoYW5nZWQ9dm9pZCAwLGUub25TZWxlY3RlZFJlbW90ZUNhbmRpZGF0ZUNoYW5nZWQ9dm9pZCAwLGUub25GaXJzdFZpZGVvRGVjb2RlZFRpbWVvdXQ9dm9pZCAwLGUuZ2V0TG9jYWxWaWRlb1N0YXRzPXZvaWQgMH1maWx0ZXJUb2JlTXV0ZWRUcmFja3MoZSl7Y29uc3QgdD1bXTtpZigtMT09PXRoaXMuZ2V0QWxsVHJhY2tzKCkuaW5kZXhPZihlKSlyZXR1cm4gdDtjb25zdCBpPXRoaXMubG9jYWxUcmFja01hcC5nZXQoSmIuTG9jYWxBdWRpb1RyYWNrKTtpZihlIGluc3RhbmNlb2YgdGsmJihudWxsPT1pP3ZvaWQgMDppLnRyYWNrKWluc3RhbmNlb2YgcmspcmV0dXJuIGkudHJhY2suaXNBY3RpdmV8fHQucHVzaChbSmIuTG9jYWxBdWRpb1RyYWNrLGldKSx0O2NvbnN0IG49QXJyYXkuZnJvbSh0aGlzLmxvY2FsVHJhY2tNYXAuZW50cmllcygpKS5maW5kKCh0PT57bGV0Wyx7dHJhY2s6aX1dPXQ7cmV0dXJuIGU9PT1pfSkpO2lmKG4mJih0LnB1c2gobiksblswXT09PUpiLkxvY2FsVmlkZW9UcmFjaykpe2NvbnN0IGU9dGhpcy5sb2NhbFRyYWNrTWFwLmdldChKYi5Mb2NhbFZpZGVvTG93VHJhY2spO2UmJnQucHVzaChbSmIuTG9jYWxWaWRlb0xvd1RyYWNrLGVdKX1yZXR1cm4gdH1maWx0ZXJUb2JlVW5tdXRlZFRyYWNrcyhlKXtjb25zdCB0PVtdLGk9dGhpcy5sb2NhbFRyYWNrTWFwLmdldChKYi5Mb2NhbEF1ZGlvVHJhY2spO2lmKGUgaW5zdGFuY2VvZiB0ayYmKG51bGw9PWk/dm9pZCAwOmkudHJhY2spaW5zdGFuY2VvZiByaylyZXR1cm4gaS50cmFjay5pc0FjdGl2ZSYmdC5wdXNoKFtKYi5Mb2NhbEF1ZGlvVHJhY2ssaV0pLHQ7Y29uc3Qgbj1BcnJheS5mcm9tKHRoaXMubG9jYWxUcmFja01hcC5lbnRyaWVzKCkpLmZpbmQoKHQ9PntsZXRbLHt0cmFjazppfV09dDtyZXR1cm4gZT09PWl9KSk7aWYobilpZihuWzBdPT09SmIuTG9jYWxWaWRlb1RyYWNrKXt0LnB1c2gobik7Y29uc3QgZT10aGlzLmxvY2FsVHJhY2tNYXAuZ2V0KEpiLkxvY2FsVmlkZW9Mb3dUcmFjayk7ZSYmdC5wdXNoKFtKYi5Mb2NhbFZpZGVvTG93VHJhY2ssZV0pfWVsc2UgdC5wdXNoKG4pO3JldHVybiB0fWNyZWF0ZU11dGVNZXNzYWdlKGUpe3JldHVybiBlLm1hcCgoZT0+e3ZhciB0O2xldCBpLFtuLHt0cmFjazpyLHNzcmNzOm8saWQ6c31dPWU7c3dpdGNoKG4pe2Nhc2UgSmIuTG9jYWxBdWRpb1RyYWNrOmk9TWIuQXVkaW87YnJlYWs7Y2FzZSBKYi5Mb2NhbFZpZGVvVHJhY2s6aT1Ebih0PXIuX2hpbnRzKS5jYWxsKHQsZVAuU0NSRUVOX1RSQUNLKT9NYi5TY3JlZW46TWIuSGlnaDticmVhaztjYXNlIEpiLkxvY2FsVmlkZW9Mb3dUcmFjazppPU1iLkxvd31yZXR1cm57c3RyZWFtX3R5cGU6aSxzc3JjczpvLG1pZDpzfX0pKX1jcmVhdGVVbm11dGVNZXNzYWdlKGUpe3JldHVybiBlLm1hcCgoZT0+e3ZhciB0O2xldCBpLFtuLHt0cmFjazpyLHNzcmNzOm8saWQ6c31dPWU7c3dpdGNoKG4pe2Nhc2UgSmIuTG9jYWxBdWRpb1RyYWNrOmk9TWIuQXVkaW87YnJlYWs7Y2FzZSBKYi5Mb2NhbFZpZGVvVHJhY2s6aT1Ebih0PXIuX2hpbnRzKS5jYWxsKHQsZVAuU0NSRUVOX1RSQUNLKT9NYi5TY3JlZW46TWIuSGlnaDticmVhaztjYXNlIEpiLkxvY2FsVmlkZW9Mb3dUcmFjazppPU1iLkxvd31yZXR1cm57c3RyZWFtX3R5cGU6aSxzc3JjczpvLG1pZDpzfX0pKX1maWx0ZXJUb2JlVW5TdWJzY3JpYmVkVHJhY2tzKGUsdCl7Y29uc3QgaT1bXSxuPXRoaXMucmVtb3RlVXNlck1hcC5nZXQoZSk7aWYoIW4pcmV0dXJuIGk7aWYodCl7Y29uc3Qgcj1uLmdldCh0KTtpZighcilyZXR1cm4gaTtpLnB1c2goW2Use2tpbmQ6dCxpZDpyfV0pfWVsc2UgQXJyYXkuZnJvbShuLmVudHJpZXMoKSkuZm9yRWFjaCgodD0+e2xldFtuLHJdPXQ7aS5wdXNoKFtlLHtraW5kOm4saWQ6cn1dKX0pKTtyZXR1cm4gaX1maWx0ZXJUb2JlVW5TdWJzY3JpYmVkRGF0YUNoYW5uZWxzKGUsdCl7Y29uc3QgaT1bXTtyZXR1cm4gdC5mb3JFYWNoKCh0PT57dmFyIG47bnVsbCE9PShuPXRoaXMucmVtb3RlRGF0YUNoYW5uZWxNYXAuZ2V0KGUpKSYmdm9pZCAwIT09biYmbi5oYXModC5pZCkmJmkucHVzaCh0KX0pKSxpfWNyZWF0ZVVuc3Vic2NyaWJlTWVzc2FnZShlKXtjb25zdCB0PVtdO3JldHVybiBlLmZvckVhY2goKGU9PntsZXRbaSx7a2luZDpuLGlkOnJ9XT1lO3N3aXRjaChuKXtjYXNlIFliLlZJREVPOnJldHVybiB2b2lkKGkuX3ZpZGVvU1NSQyYmdC5wdXNoKHtzdHJlYW1fdHlwZTpZYi5WSURFTyxzc3JjSWQ6aS5fdmlkZW9TU1JDfSkpO2Nhc2UgWWIuQVVESU86cmV0dXJuIHZvaWQoaS5fYXVkaW9TU1JDJiZ0LnB1c2goe3N0cmVhbV90eXBlOlliLkFVRElPLHNzcmNJZDppLl9hdWRpb1NTUkN9KSl9fSkpLHR9Y3JlYXRlVW5zdWJzY3JpYmVBbGxNZXNzYWdlKGUpe2NvbnN0IHQ9bmV3IE1hcDtyZXR1cm4gZS5mb3JFYWNoKChlPT57bGV0W2kse2tpbmQ6bn1dPWU7aWYodC5oYXMoaSkpe2xldCBlPXQuZ2V0KGkpO249PT1ZYi5WSURFTz9lfD1WYi5WaWRlbzplfD1WYi5BdWRpbyx0LnNldChpLGUpfWVsc2Ugbj09PVliLlZJREVPP3Quc2V0KGksVmIuVmlkZW8pOnQuc2V0KGksVmIuQXVkaW8pfSkpLHt1c2VyczpBcnJheS5mcm9tKHQuZW50cmllcygpKS5tYXAoKGU9PntsZXRbdCxpXT1lO3JldHVybntzdHJlYW1faWQ6dC51aWQsc3RyZWFtX3R5cGU6aX19KSl9fXdpdGhkcmF3UmVtb3RlVHJhY2tzKGUpe2UuZm9yRWFjaCgoZT0+e2xldFt0LHtraW5kOml9XT1lO2NvbnN0IG49dGhpcy5yZW1vdGVVc2VyTWFwLmdldCh0KTtuJiYobi5kZWxldGUoaSksMD09PUFycmF5LmZyb20obi5lbnRyaWVzKCkpLmxlbmd0aCYmdGhpcy5yZW1vdGVVc2VyTWFwLmRlbGV0ZSh0KSl9KSl9YXN5bmMgdXBkYXRlQml0cmF0ZUxpbWl0KGUpe2NvbnN0IHQ9dGhpcy5sb2NhbFRyYWNrTWFwLmdldChKYi5Mb2NhbFZpZGVvVHJhY2spLGk9dGhpcy5sb2NhbFRyYWNrTWFwLmdldChKYi5Mb2NhbFZpZGVvTG93VHJhY2spO3QmJmF3YWl0IHQudHJhY2suc2V0Qml0cmF0ZUxpbWl0KGUudXBsaW5rKSxpJiZlLmxvd19zdHJlYW1fdXBsaW5rJiZhd2FpdCBpLnRyYWNrLnNldEJpdHJhdGVMaW1pdCh7bWF4X2JpdHJhdGU6ZS5sb3dfc3RyZWFtX3VwbGluay5iaXRyYXRlLG1pbl9iaXRyYXRlOmUubG93X3N0cmVhbV91cGxpbmsuYml0cmF0ZXx8MH0pfWlzUDJQRGlzY29ubmVjdGVkKCl7aWYodGhpcy5jb25uZWN0aW9uKXtyZXR1cm5cImNvbm5lY3RlZFwiIT09dGhpcy5jb25uZWN0aW9uLnBlZXJDb25uZWN0aW9uU3RhdGV9cmV0dXJuITB9bWFwUHViUmVzVG9SZW1vdGVDb25maWcoZSx0KXtyZXR1cm4gZS5tYXAoKChlLGkpPT57dmFyIG47bGV0e3N0cmVhbV90eXBlOnJ9PWU7cmV0dXJuIG51bGw9PT0obj10LmZpbmQoKGU9PntsZXR7c3RyZWFtX3R5cGU6dH09ZTtyZXR1cm4gcj09PXR9KSkpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLmF0dHJpYnV0ZXN9KSl9YXN5bmMgdHJ5VG9Vbm11dGVBdWRpbyhlKXtmb3IobGV0IGk9MDtpPGUubGVuZ3RoO2krKylpZihlW2ldaW5zdGFuY2VvZiB0ayl7dmFyIHQ7Y29uc3Qgbj10aGlzLmZpbHRlclRvYmVVbm11dGVkVHJhY2tzKGVbaV0pO2lmKDA9PT1uLmxlbmd0aCljb250aW51ZTthd2FpdChudWxsPT09KHQ9dGhpcy5jb25uZWN0aW9uKXx8dm9pZCAwPT09dD92b2lkIDA6dC51bm11dGVMb2NhbChuLm1hcCgoZT0+e2xldFsse2lkOnR9XT1lO3JldHVybiB0fSkpKSk7Y29uc3Qgcj10aGlzLmNyZWF0ZVVubXV0ZU1lc3NhZ2Uobik7cmV0dXJuIHZvaWQgYXdhaXQgTXYodGhpcyxRYi5SZXF1ZXN0VW5tdXRlTG9jYWwscil9fWJpbmRTdGF0c1VwbG9hZGVyRXZlbnRzKCl7dGhpcy5zdGF0c1VwbG9hZGVyLnJlcXVlc3RTdGF0cz0oKT0+dGhpcy5nZXRTdGF0cygpLHRoaXMuc3RhdHNVcGxvYWRlci5yZXF1ZXN0TG9jYWxNZWRpYT0oKT0+QXJyYXkuZnJvbSh0aGlzLmxvY2FsVHJhY2tNYXAuZW50cmllcygpKSx0aGlzLnN0YXRzVXBsb2FkZXIucmVxdWVzdFJlbW90ZU1lZGlhPSgpPT5BcnJheS5mcm9tKHRoaXMucmVtb3RlVXNlck1hcC5lbnRyaWVzKCkpLHRoaXMuc3RhdHNVcGxvYWRlci5yZXF1ZXN0VmlkZW9Jc1JlYWR5PWU9Pnt2YXIgdDtyZXR1cm4hKG51bGw9PT0odD10aGlzLmNvbm5lY3Rpb24pfHx2b2lkIDA9PT10fHwhdC5nZXRSZW1vdGVWaWRlb0lzUmVhZHkoZSkpfSx0aGlzLnN0YXRzVXBsb2FkZXIucmVxdWVzdFVwbG9hZD0oZSx0KT0+dGhpcy5lbWl0KFFiLlJlcXVlc3RVcGxvYWQsZSx0KSx0aGlzLnN0YXRzVXBsb2FkZXIucmVxdWVzdFVwbG9hZFN0YXRzPWU9PnRoaXMuZW1pdChRYi5SZXF1ZXN0VXBsb2FkU3RhdHMsZSksdGhpcy5zdGF0c1VwbG9hZGVyLnJlcXVlc3RBbGxUcmFja3M9KCk9PnRoaXMuZ2V0QWxsVHJhY2tzKCl9dW5iaW5kU3RhdHNVcGxvYWRlckV2ZW50cygpe3RoaXMuc3RhdHNVcGxvYWRlci5yZXF1ZXN0U3RhdHM9dm9pZCAwLHRoaXMuc3RhdHNVcGxvYWRlci5yZXF1ZXN0TG9jYWxNZWRpYT12b2lkIDAsdGhpcy5zdGF0c1VwbG9hZGVyLnJlcXVlc3RSZW1vdGVNZWRpYT12b2lkIDAsdGhpcy5zdGF0c1VwbG9hZGVyLnJlcXVlc3RWaWRlb0lzUmVhZHk9dm9pZCAwfWFzeW5jIHJlcXVlc3RSZWNvbm5lY3QoKXt0aGlzLmR0bHNGYWlsZWRDb3VudCs9MSxhd2FpdCAkdihFeSh0aGlzLmR0bHNGYWlsZWRDb3VudCxfeSkpLHRoaXMuZW1pdChRYi5SZXF1ZXN0UmVjb25uZWN0KX1hc3luYyByZWNvbm5lY3RQMlAoKXtjb25zdCBlPUFycmF5LmZyb20odGhpcy5sb2NhbFRyYWNrTWFwLmVudHJpZXMoKSksdD10aGlzLmNyZWF0ZUdhdGV3YXlVbnB1Ymxpc2hNZXNzYWdlKGUpO0FycmF5LmZyb20odGhpcy5yZW1vdGVVc2VyTWFwLmVudHJpZXMoKSksdC5sZW5ndGg+MCYmYXdhaXQga3YodGhpcyxRYi5SZXF1ZXN0VW5wdWJsaXNoRm9yUmVjb25uZWN0UEMsdCksdGhpcy5kaXNjb25uZWN0Rm9yUmVjb25uZWN0KCksdGhpcy5lbWl0KFFiLlJlcXVlc3RSZWNvbm5lY3RQQyl9Y2FuUHVibGlzaExvd1N0cmVhbSgpe3JldHVybiB0aGlzLmxvY2FsVHJhY2tNYXAuaGFzKEpiLkxvY2FsVmlkZW9UcmFjayl8fHRoaXMucGVuZGluZ0xvY2FsVHJhY2tzLnNvbWUoKGU9PmUgaW5zdGFuY2VvZiBIaykpfXRocm93SWZUcmFja1R5cGVOb3RNYXRjaChlKXtpZihlLmZpbHRlcigoZT0+ZSBpbnN0YW5jZW9mIEhrKSkubGVuZ3RoPjEpdGhyb3cgbmV3IHJ2KG52LkNBTl9OT1RfUFVCTElTSF9NVUxUSVBMRV9WSURFT19UUkFDS1MpO2lmKGUuZmlsdGVyKChlPT5lIGluc3RhbmNlb2YgdGspKS5sZW5ndGg+MSYmKGUuc29tZSgoZT0+ZSBpbnN0YW5jZW9mIHRrJiZlLl9ieXBhc3NXZWJBdWRpbykpfHwhTUQoKS53ZWJBdWRpb01lZGlhU3RyZWFtRGVzdCkpdGhyb3cgbmV3IHJ2KG52Lk5PVF9TVVBQT1JURUQsXCJjYW5ub3QgcHVibGlzaCBtdWx0aXBsZSB0cmFja3Mgd2hpY2ggb25lIG9mIHRoZW0gY29uZmlndXJlZCB3aXRoIGJ5cGFzc1dlYkF1ZGlvIG9yIHlvdXIgYnJvd3NlciBkb2Vzbid0IHN1cHBvcnQgTWVkaWFTdHJlYW1EZXN0Tm9kZVwiKTtmb3IoY29uc3QgdCBvZiBlKXtpZih0IGluc3RhbmNlb2YgSGsmJnRoaXMucGVuZGluZ0xvY2FsVHJhY2tzLnNvbWUoKGU9PmUgaW5zdGFuY2VvZiBIaykpKXRocm93IG5ldyBydihudi5DQU5fTk9UX1BVQkxJU0hfTVVMVElQTEVfVklERU9fVFJBQ0tTKTtpZih0IGluc3RhbmNlb2YgdGsmJnRoaXMucGVuZGluZ0xvY2FsVHJhY2tzLnNvbWUoKGU9PmUgaW5zdGFuY2VvZiB0aykpJiYoIU1EKCkud2ViQXVkaW9NZWRpYVN0cmVhbURlc3R8fHQuX2J5cGFzc1dlYkF1ZGlvfHx0aGlzLnBlbmRpbmdMb2NhbFRyYWNrcy5zb21lKChlPT5lIGluc3RhbmNlb2YgdGsmJmUuX2J5cGFzc1dlYkF1ZGlvKSkpKXRocm93IG5ldyBydihudi5OT1RfU1VQUE9SVEVELFwiY2Fubm90IHB1Ymxpc2ggbXVsdGlwbGUgdHJhY2tzIHdoaWNoIG9uZSBvZiB0aGVtIGNvbmZpZ3VyZWQgd2l0aCBieXBhc3NXZWJBdWRpbyBvciB5b3VyIGJyb3dzZXIgZG9lc24ndCBzdXBwb3J0IE1lZGlhU3RyZWFtRGVzdE5vZGVcIil9fWdldExvd1ZpZGVvVHJhY2soZSx0KXtjb25zdCBpPSFEeShcIkRJU0FCTEVfRFVBTF9TVFJFQU1fVVNFX0VOQ09ESU5HXCIpJiZNRCgpLnN1cHBvcnREdWFsU3RyZWFtRW5jb2Rpbmcsbj1kRihkRih7fSx7d2lkdGg6MTYwLGhlaWdodDoxMjAsZnJhbWVyYXRlOjE1LGJpdHJhdGU6NTB9KSx0KTtsZXQgcjtyPWk/ZS5fbWVkaWFTdHJlYW1UcmFjay5jbG9uZSgpOkZ4KGUsbik7Y29uc3Qgbz1leSg4LFwidHJhY2stbG93LVwiKSxzPW5ldyBIayhyLGRGKGRGKHt9LGkmJntzY2FsZVJlc29sdXRpb25Eb3duQnk6RncobixlKX0pLHt9LHtmcmFtZVJhdGU6bi5mcmFtZXJhdGUsYml0cmF0ZU1heDpuLmJpdHJhdGUsYml0cmF0ZU1pbjpuLmJpdHJhdGV9KSx2b2lkIDAsdm9pZCAwLG8pO3JldHVybiBzLm9uKHJQLlRSQU5TQ0VJVkVSX1VQREFURUQsKHQ9PntlLl91cGRhdGVSdHBUcmFuc2NlaXZlcih0LHRQLkxPV19TVFJFQU0pfSkpLHMuX2hpbnRzLnB1c2goZVAuTE9XX1NUUkVBTSksZS5vbihcInNlaS10by1zZW5kXCIsKGU9PntzLmVtaXQoXCJzZWktdG8tc2VuZFwiLGUpfSkpLGUuYWRkTGlzdGVuZXIoJEQuTkVFRF9DTE9TRSwoKCk9PntzLmNsb3NlKCl9KSksc31hc3luYyBnbG9iYWxMb2NrKCl7cmV0dXJuIHRoaXMubXV0ZXgubG9jayhcIkZyb20gUDJQQ2hhbm5lbC5nbG9iYWxMb2NrXCIpfWFzeW5jIHJlcG9ydFBDU3RhdHMoZSx0LGkpe2xldCBuPWFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdP2FyZ3VtZW50c1szXTpudWxsO2lmKHRoaXMuY29ubmVjdGlvbiYmdGhpcy5jb25uZWN0aW9uIGluc3RhbmNlb2Ygb0Ype3ZhciByLG8scyxhO2NvbnN0IGM9dGhpcy5zdG9yZS5rZXlNZXRyaWNzLmRlc2NyaXB0aW9uU3RhcnR8fDAse2ljZUNvbm5lY3Rpb25TdGF0ZTpkLGR0bHNUcmFuc3BvcnRTdGF0ZTpsLHBlZXJDb25uZWN0aW9uU3RhdGU6dX09dGhpcy5jb25uZWN0aW9uLHtsb2NhbDpoLHJlbW90ZTpwfT1hd2FpdCB0aGlzLmNvbm5lY3Rpb24uZ2V0U2VsZWN0ZWRDYW5kaWRhdGVQYWlyKCk7c0EucGNTdGF0cyh0aGlzLnN0b3JlLnNlc3Npb25JZCx7c3RhcnRUaW1lOmMsZXZlbnRFbGFwc2U6ZS1jfHwwLGljZWNvbm5lY3Rpb25zYXRlOmQsZHRsc3N0YXRlOmwsY29ubmVjdGlvbnN0YXRlOnUsaW50U3VjYzp0PzE6MixlcnJvcjpuLHNlbGVjdGVkTG9jYWxDYW5kaWRhdGVQcm90b2NvbDpudWxsIT09KHI9bnVsbD09aD92b2lkIDA6aC5wcm90b2NvbCkmJnZvaWQgMCE9PXI/cjpcIlwiLHNlbGVjdGVkTG9jYWxDYW5kaWRhdGVUeXBlOm51bGwhPT0obz1oLmNhbmRpZGF0ZVR5cGUpJiZ2b2lkIDAhPT1vP286XCJcIixzZWxlY3RlZExvY2FsQ2FuZGlkYXRlQWRkcmVzczpcIlwiLmNvbmNhdChoLmFkZHJlc3MsXCI6XCIpLmNvbmNhdChoLnBvcnQpLHNlbGVjdGVkUmVtb3RlQ2FuZGlkYXRlUHJvdG9jb2w6bnVsbCE9PShzPXAucHJvdG9jb2wpJiZ2b2lkIDAhPT1zP3M6XCJcIixzZWxlY3RlZFJlbW90ZUNhbmRpZGF0ZVR5cGU6bnVsbCE9PShhPXAuY2FuZGlkYXRlVHlwZSkmJnZvaWQgMCE9PWE/YTpcIlwiLHNlbGVjdGVkUmVtb3RlQ2FuZGlkYXRlQWRkcmVzczpcIlwiLmNvbmNhdChwLmFkZHJlc3MsXCI6XCIpLmNvbmNhdChwLnBvcnQpLHJlc3RhcnRDbnQ6aSxwcmVhbGxvY2F0aW9uOnRoaXMuY29ubmVjdGlvbi5pc1ByZWFsbG9jYXRpb259KX19cmVwb3J0VmlkZW9GaXJzdEZyYW1lRGVjb2RlZChlLHQsaSxuKXt2YXIgcjtjb25zdCBvPUFycmF5LmZyb20oZF8ocj10aGlzLnJlbW90ZVVzZXJNYXApLmNhbGwocikpLmZpbmQoKHQ9PnQuX3ZpZGVvU1NSQz09PWUpKTtpZihvKXtufHx0aGlzLnN0b3JlLnN1YnNjcmliZShvLnVpZCxcInZpZGVvXCIsdm9pZCAwLHZvaWQgMCx2b2lkIDAsdm9pZCAwLERhdGUubm93KCkpO2NvbnN0IHI9dGhpcy5zdG9yZS5rZXlNZXRyaWNzLHM9ci5zdWJzY3JpYmUuZmluZCgoZT0+ZS51c2VySWQ9PT1vLnVpZCYmXCJ2aWRlb1wiPT09ZS50eXBlKSk7c0EuZmlyc3RSZW1vdGVWaWRlb0RlY29kZSh0aGlzLnN0b3JlLnNlc3Npb25JZCx0QS5GSVJTVF9WSURFT19ERUNPREUsaUEuRklSU1RfVklERU9fREVDT0RFLHtwZWVyOm8uX3VpbnRpZCx2aWRlb3dpZHRoOnQsdmlkZW9oZWlnaHQ6aSxzdWJzY3JpYmVFbGFwc2U6alUubWVhc3VyZUZyb21TdWJzY3JpYmVTdGFydCh0aGlzLnN0b3JlLmNsaWVudElkLGUpLHN1YnNjcmliZVJlcXVlc3RpZDplLHAycGlkOnRoaXMuc3RvcmUucDJwSWQsYXBFbmQ6ci5yZXF1ZXN0QVBFbmR8fDAsYXBTdGFydDpyLnJlcXVlc3RBUFN0YXJ0fHwwLGpvaW5Hd0VuZDpyLmpvaW5HYXRld2F5RW5kfHwwLGpvaW5Hd1N0YXJ0OnIuam9pbkdhdGV3YXlTdGFydHx8MCxwY0VuZDpyLnBlZXJDb25uZWN0aW9uRW5kfHwwLHBjU3RhcnQ6ci5wZWVyQ29ubmVjdGlvblN0YXJ0fHwwLHN1YnNjcmliZXJFbmQ6KG51bGw9PXM/dm9pZCAwOnMuc3Vic2NyaWJlRW5kKXx8MCxzdWJzY3JpYmVyU3RhcnQ6KG51bGw9PXM/dm9pZCAwOnMuc3Vic2NyaWJlU3RhcnQpfHwwLHZpZGVvQWRkTm90aWZ5OihudWxsPT1zP3ZvaWQgMDpzLnN0cmVhbUFkZGVkKXx8MCxzdGF0ZTpuPzE6MCxmaXJzdEZyYW1lOihudWxsPT1zP3ZvaWQgMDpzLmZpcnN0RnJhbWUpfHwwfSl9fWFzeW5jIHJlbW90ZU1lZGlhU3NyY0NoYW5nZWQoZSx0LGkpe2lmKCF0aGlzLmNvbm5lY3Rpb24pcmV0dXJuITE7Y29uc3Qgbj10aGlzLnJlbW90ZVVzZXJNYXAuZ2V0KGUpO2lmKCFuKXJldHVybiExO2NvbnN0IHI9bi5nZXQodCk7aWYoIXIpcmV0dXJuITE7Y29uc3Qgbz1hd2FpdCB0aGlzLmNvbm5lY3Rpb24uZ2V0UmVtb3RlU1NSQyhyKTtyZXR1cm4gdm9pZCAwIT09byYmbyE9PWl9dW5iaW5kUnRwVHJhbnNjZWl2ZXIoKXswIT09dGhpcy5sb2NhbFRyYWNrTWFwLnNpemUmJkFycmF5LmZyb20odGhpcy5sb2NhbFRyYWNrTWFwLmVudHJpZXMoKSkuZm9yRWFjaCgoZT0+e2xldFt0LHt0cmFjazppfV09ZTt0PT09SmIuTG9jYWxWaWRlb0xvd1RyYWNrP2kuX3VwZGF0ZVJ0cFRyYW5zY2VpdmVyKHZvaWQgMCx0UC5MT1dfU1RSRUFNKTppLl91cGRhdGVSdHBUcmFuc2NlaXZlcih2b2lkIDApfSkpfXJlcG9ydFBDRGlzY29ubmVjdGVkT3JGYWlsZWQoZSl7dGhpcy5jb25uZWN0aW9uJiZ0aGlzLmNvbm5lY3Rpb24gaW5zdGFuY2VvZiBvRiYmKFwiZGlzY29ubmVjdGVkXCIhPT10aGlzLmNvbm5lY3Rpb24uaWNlQ29ubmVjdGlvblN0YXRlJiZcImNoZWNraW5nXCIhPT10aGlzLmNvbm5lY3Rpb24uaWNlQ29ubmVjdGlvblN0YXRlJiZcImZhaWxlZFwiIT09dGhpcy5jb25uZWN0aW9uLmljZUNvbm5lY3Rpb25TdGF0ZXx8KHRoaXMuX2lzRmlyc3RDb25uZWN0ZWQ/KHRoaXMucmVwb3J0UENTdGF0cyhEYXRlLm5vdygpLCExLHRoaXMuX3BjU3RhdHNVcGxvYWRUeXBlKSx0aGlzLl9pc0ZpcnN0Q29ubmVjdGVkPSExKTp0aGlzLl9wY1N0YXRzVXBsb2FkVHlwZT09PXpiLlRDUF9SRVNUQVJUJiZlPT09cWIuUkVMQVk/dGhpcy5yZXBvcnRQQ1N0YXRzKERhdGUubm93KCksITEsdGhpcy5fcGNTdGF0c1VwbG9hZFR5cGUpOnRoaXMucmVwb3J0UENTdGF0cyhEYXRlLm5vdygpLCExLHpiLkRJU0NPTk5FQ1RFRF9PUl9GQUlMRUQpKSl9fSxyYihhRi5wcm90b3R5cGUsXCJzdGFydFAyUENvbm5lY3Rpb25cIixbcEZdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYUYucHJvdG90eXBlLFwic3RhcnRQMlBDb25uZWN0aW9uXCIpLGFGLnByb3RvdHlwZSkscmIoYUYucHJvdG90eXBlLFwiY29ubmVjdFwiLFtwRl0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihhRi5wcm90b3R5cGUsXCJjb25uZWN0XCIpLGFGLnByb3RvdHlwZSkscmIoYUYucHJvdG90eXBlLFwidXBkYXRlUmVtb3RlUlRQQ2FwYWJpbGl0aWVzXCIsW3BGXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGFGLnByb3RvdHlwZSxcInVwZGF0ZVJlbW90ZVJUUENhcGFiaWxpdGllc1wiKSxhRi5wcm90b3R5cGUpLHJiKGFGLnByb3RvdHlwZSxcInB1Ymxpc2hEYXRhQ2hhbm5lbFwiLFtwRl0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihhRi5wcm90b3R5cGUsXCJwdWJsaXNoRGF0YUNoYW5uZWxcIiksYUYucHJvdG90eXBlKSxyYihhRi5wcm90b3R5cGUsXCJ1bnB1Ymxpc2hcIixbcEZdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYUYucHJvdG90eXBlLFwidW5wdWJsaXNoXCIpLGFGLnByb3RvdHlwZSkscmIoYUYucHJvdG90eXBlLFwidW5wdWJsaXNoRGF0YUNoYW5uZWxcIixbcEZdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYUYucHJvdG90eXBlLFwidW5wdWJsaXNoRGF0YUNoYW5uZWxcIiksYUYucHJvdG90eXBlKSxyYihhRi5wcm90b3R5cGUsXCJ1bnB1Ymxpc2hMb3dTdHJlYW1cIixbcEZdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYUYucHJvdG90eXBlLFwidW5wdWJsaXNoTG93U3RyZWFtXCIpLGFGLnByb3RvdHlwZSkscmIoYUYucHJvdG90eXBlLFwic3Vic2NyaWJlRGF0YUNoYW5uZWxcIixbcEZdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYUYucHJvdG90eXBlLFwic3Vic2NyaWJlRGF0YUNoYW5uZWxcIiksYUYucHJvdG90eXBlKSxyYihhRi5wcm90b3R5cGUsXCJzdWJzY3JpYmVcIixbcEZdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYUYucHJvdG90eXBlLFwic3Vic2NyaWJlXCIpLGFGLnByb3RvdHlwZSkscmIoYUYucHJvdG90eXBlLFwibWFzc1N1YnNjcmliZVwiLFtwRl0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihhRi5wcm90b3R5cGUsXCJtYXNzU3Vic2NyaWJlXCIpLGFGLnByb3RvdHlwZSkscmIoYUYucHJvdG90eXBlLFwidW5zdWJzY3JpYmVcIixbcEZdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYUYucHJvdG90eXBlLFwidW5zdWJzY3JpYmVcIiksYUYucHJvdG90eXBlKSxyYihhRi5wcm90b3R5cGUsXCJ1bnN1YnNjcmliZURhdGFDaGFubmVsXCIsW3BGXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGFGLnByb3RvdHlwZSxcInVuc3Vic2NyaWJlRGF0YUNoYW5uZWxcIiksYUYucHJvdG90eXBlKSxyYihhRi5wcm90b3R5cGUsXCJtYXNzVW5zdWJzY3JpYmVcIixbcEZdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYUYucHJvdG90eXBlLFwibWFzc1Vuc3Vic2NyaWJlXCIpLGFGLnByb3RvdHlwZSkscmIoYUYucHJvdG90eXBlLFwibXV0ZVJlbW90ZVwiLFtwRl0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihhRi5wcm90b3R5cGUsXCJtdXRlUmVtb3RlXCIpLGFGLnByb3RvdHlwZSkscmIoYUYucHJvdG90eXBlLFwidW5tdXRlUmVtb3RlXCIsW3BGXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGFGLnByb3RvdHlwZSxcInVubXV0ZVJlbW90ZVwiKSxhRi5wcm90b3R5cGUpLHJiKGFGLnByb3RvdHlwZSxcImhhc1JlbW90ZU1lZGlhV2l0aExvY2tcIixbcEZdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYUYucHJvdG90eXBlLFwiaGFzUmVtb3RlTWVkaWFXaXRoTG9ja1wiKSxhRi5wcm90b3R5cGUpLHJiKGFGLnByb3RvdHlwZSxcImRpc2Nvbm5lY3RGb3JSZWNvbm5lY3RcIixbcEZdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYUYucHJvdG90eXBlLFwiZGlzY29ubmVjdEZvclJlY29ubmVjdFwiKSxhRi5wcm90b3R5cGUpLHJiKGFGLnByb3RvdHlwZSxcInVwZGF0ZUJpdHJhdGVMaW1pdFwiLFtwRl0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihhRi5wcm90b3R5cGUsXCJ1cGRhdGVCaXRyYXRlTGltaXRcIiksYUYucHJvdG90eXBlKSxyYihhRi5wcm90b3R5cGUsXCJyZW1vdGVNZWRpYVNzcmNDaGFuZ2VkXCIsW3BGXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGFGLnByb3RvdHlwZSxcInJlbW90ZU1lZGlhU3NyY0NoYW5nZWRcIiksYUYucHJvdG90eXBlKSxhRik7ZnVuY3Rpb24gcEYoZSx0LGkpe2NvbnN0IG49ZVt0XTtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBuKXRocm93IG5ldyBFcnJvcihcIkNhbm5vdCB1c2UgbXV0ZXggb24gb2JqZWN0IHByb3BlcnR5LlwiKTtyZXR1cm4gaS52YWx1ZT1hc3luYyBmdW5jdGlvbigpe2NvbnN0IGU9dGhpcy5tdXRleCxpPWF3YWl0IGUubG9jayhcIkZyb20gUDJQQ2hhbm5lbC5cIi5jb25jYXQodCkpO3RyeXtmb3IodmFyIHI9YXJndW1lbnRzLmxlbmd0aCxvPW5ldyBBcnJheShyKSxzPTA7czxyO3MrKylvW3NdPWFyZ3VtZW50c1tzXTtyZXR1cm4gYXdhaXQgbi5hcHBseSh0aGlzLG8pfWZpbmFsbHl7aSgpfX0saX1jb25zdCBfRj17fTtmdW5jdGlvbiBFRihlKXsoIShhcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSl8fGFyZ3VtZW50c1sxXSkmJlF5LmRlYnVnKFwiaW5zdGFsbCBzZXJ2aWNlIFwiLmNvbmNhdChlLm5hbWUpKSxfRltlLm5hbWVdPWV9ZnVuY3Rpb24gbUYoZSl7Y29uc3QgdD1fRltlXTtpZighdCl0aHJvdyBuZXcgcnYobnYuSU5WQUxJRF9PUEVSQVRJT04sXCJcIi5jb25jYXQoZSxcIiBub3QgZm91bmQsIHBsZWFzZSB1c2UgQWdvcmFSVEMudXNlKFwiKS5jb25jYXQoZSxcIlNlcnZpY2UpIHRvIGxvYWQgaXQgZmlyc3RcIikpO3JldHVybiB0fWZ1bmN0aW9uIGZGKGUsdCl7cmV0dXJuIG1GKFwiRGF0YVN0cmVhbVwiKS5jcmVhdGUoZSx0KX1mdW5jdGlvbiBURihlLHQpe3ZhciBpPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKG49bi5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksaS5wdXNoLmFwcGx5KGksbil9cmV0dXJuIGl9ZnVuY3Rpb24gU0YoZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIGk9bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/VEYoT2JqZWN0KGkpLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtvZyhlLHQsaVt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhpKSk6VEYoT2JqZWN0KGkpKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaSx0KSl9KSl9cmV0dXJuIGV9Y29uc3QgZ0Y9RGF0ZS5ub3coKSxSRj0yMCxDRj1uZXcgTWFwLElGPW5ldyBNYXA7YXN5bmMgZnVuY3Rpb24gdkYoZSl7Y29uc3QgdD1DRi5nZXQoZSksaT1BcnJheS5pc0FycmF5KHQpJiZ0W3QubGVuZ3RoLTFdLG49SUYuZ2V0KGUpO2lmKCFpKXJldHVybiB2b2lkKG4uaXNTeW5jaW5nPSExKTtjb25zdCByPXt1aWQ6aS51aWQscGF5bG9hZDppLnBheWxvYWR9OzA9PT1uLmZpcnN0UmVjdlRzJiYobi5maXJzdFJlY3ZUcz1pLnJlY3ZUcyxuLmZpcnN0U2VuZFRzPWkuc2VuZFRzKTtjb25zdCBvPWkuc2VuZFRzLW4uZmlyc3RTZW5kVHMscz1vLShEYXRlLm5vdygpLW4uZmlyc3RSZWN2VHMpO3M+MCYmKG4uZmlyc3RSZWN2VHM9RGF0ZS5ub3coKS1vKTtsZXQgYT1pLm1lZGlhRGVsYXkrczthPD0wPyh0LnBvcCgpLHlGKGkuY29udGV4dCxyKSxhPTApOmE9TWF0aC5taW4oYSxSRiksc2V0VGltZW91dCgoKCk9PnQubGVuZ3RoJiZ2RihlKSksYSl9ZnVuY3Rpb24geUYoZSx0KXtlLnNhZmVFbWl0KE52LlNUUkVBTV9NRVNTQUdFLHQudWlkLHQucGF5bG9hZCksZS5vblN0cmVhbU1lc3NhZ2UmJmUub25TdHJlYW1NZXNzYWdlKHQpfWZ1bmN0aW9uIEFGKGUpe2xldCB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTowLGk9YXJndW1lbnRzLmxlbmd0aD4yP2FyZ3VtZW50c1syXTp2b2lkIDA7aWYoIWUuc3luY1dpdGhBdWRpbylyZXR1cm4geUYoaSx7dWlkOmUudWlkLHBheWxvYWQ6ZS5wYXlsb2FkfSk7Y29uc3Qgbj1cIlwiLmNvbmNhdChpLmlkLFwiLVwiKS5jb25jYXQoZS51aWQpLHI9Q0YuZ2V0KG4pfHxbXSxvPXIuZmluZEluZGV4KCh0PT5lLnNlbmRUcz49dC5zZW5kVHMpKSxzPVNGKFNGKHt9LGUpLHt9LHtjb250ZXh0OmksbWVkaWFEZWxheTp0LHJlY3ZUczpEYXRlLm5vdygpfSk7LTE9PT1vP3IucHVzaChzKTpyLnNwbGljZShvLDAscyksQ0Yuc2V0KG4scik7bGV0IGE9ITE7dmFyIGM7SUYuaGFzKG4pP2E9IShudWxsPT09KGM9SUYuZ2V0KG4pKXx8dm9pZCAwPT09Y3x8IWMuaXNTeW5jaW5nKTpJRi5zZXQobix7aXNTeW5jaW5nOmEsZmlyc3RSZWN2VHM6MCxmaXJzdFNlbmRUczowfSk7YXx8dkYobil9Y29uc3QgYkY9QUkoKS5uYW1lO2Z1bmN0aW9uIHdGKGUsdCl7dmFyIGk9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYobj1uLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxpLnB1c2guYXBwbHkoaSxuKX1yZXR1cm4gaX1mdW5jdGlvbiBPRihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgaT1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj93RihPYmplY3QoaSksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe29nKGUsdCxpW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKGkpKTp3RihPYmplY3QoaSkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpLHQpKX0pKX1yZXR1cm4gZX1jb25zdCBORj1cIndlYnNka19uZ19jYWNoZV9wYXJhbWV0ZXJcIixERj1EeShcIk1BWF9QUkVMT0FEX0FTWU5DX0xFTkdUSFwiKSxQRj0xZTQsTEY9bmV3IE1hcCxrRj1bXTtsZXQgTUY9bnVsbCxVRj0wLHhGPTA7Y29uc3QgVkY9bmV3IE1hcCxGRj1mdW5jdGlvbihlLHQpe2NvbnN0IGk9W107bGV0IG49MDtjb25zdCByPWFzeW5jKCk9Pntjb25zdCBlPWkuc2hpZnQoKTtlJiZhd2FpdCBlKCksaS5sZW5ndGg+MCYmbjx0P3IoKTpuLS19O3JldHVybiBhc3luYyBmdW5jdGlvbigpe2Zvcih2YXIgbz1hcmd1bWVudHMubGVuZ3RoLHM9bmV3IEFycmF5KG8pLGE9MDthPG87YSsrKXNbYV09YXJndW1lbnRzW2FdO3JldHVybiBuZXcgR2goKGFzeW5jKG8sYSk9PntpLnB1c2goKGFzeW5jKCk9Pnt0cnl7Y29uc3QgdD1hd2FpdCBlKC4uLnMpO28odCl9Y2F0Y2goZSl7YShlKX19KSksbjx0JiYobisrLHIoKSl9KSl9fShqRixERiksQkY9RUkuQ2FuY2VsVG9rZW4uc291cmNlKCk7YXN5bmMgZnVuY3Rpb24gakYoZSx0LGksbixyLG8pe3RyeXtpZighRHkoXCJFTkFCTEVfUFJFTE9BRFwiKSlyZXR1cm47aWYoIU1EKCkuc3VwcG9ydFdlYkNyeXB0bylyZXR1cm4gdm9pZCBLdigoKCk9PntReS53YXJuKFwiWW91ciBicm93c2VyIGRvZXMgbm90IHN1cHBvcnQgcHJlbG9hZGluZywgdGhpcyBmZWF0dXJlICBiZSBydW4gaW4gYSBzZWN1cmUgZW52aXJvbm1lbnRcIil9KSxcInByZWxvYWRfd2ViY3J5cHRvX25vdF9zdXBwb3J0ZWRcIik7aWYoIWkmJm51bGwhPT1pKXRocm93IG5ldyBydihudi5JTlZBTElEX1BBUkFNUyxcIkludmFsaWQgdG9rZW46IFwiLmNvbmNhdChpLFwiLiBJZiB5b3UgZG9uIG5vdCB1c2UgdG9rZW4sIHNldCBpdCB0byBudWxsXCIpKTtpJiZkdihpLFwidG9rZW5cIiwxLDIwNDcpLGR2KGUsXCJhcHBpZFwiLDEsMjA0NyksZ2IodCksbiYmUmIobik7Y29uc3Qgcz10eSgpO1F5LmRlYnVnKFwicHJlbG9hZCBjaGFubmVsIFwiLmNvbmNhdCh0LFwiLCB1aWQgaXMgXCIpLmNvbmNhdChuKSk7Y29uc3QgYT17YXBwSWQ6ZSxjbmFtZTp0LHRva2VuOml8fGUsdWlkOlwic3RyaW5nXCIhPXR5cGVvZiBuP246bnVsbCxzaWQ6cyxwcm94eVNlcnZlcjpyfTtsZXQgYyxkO1wic3RyaW5nXCI9PXR5cGVvZiBuPyhhLnN0cmluZ1VpZD1uLFtkLGNdPWF3YWl0IEdoLmFsbChbTlUobix7c2lkOnMsYXBwSWQ6ZX0sQkYudG9rZW4pLFBVKE9GKE9GKHt9LGEpLHt9LHt0b2tlbjppfHxlLHVpZDowfSksQkYudG9rZW4pXSksYS51aWQ9ZC51aWQsYy5nYXRld2F5SW5mby51aWQ9YS51aWQsYy5nYXRld2F5SW5mby5yZXMudWlkPWEudWlkKToobyYmKGEuc3RyaW5nVWlkPW8pLGM9YXdhaXQgUFUoYSxCRi50b2tlbikpO2NvbnN0IGw9e3NpZDpzLGFwcElkOmUsY25hbWU6dCx0b2tlbjppfHxlLHVpZDphLnN0cmluZ1VpZHx8bixpbnRVaWQ6YS51aWR8fGMuZ2F0ZXdheUluZm8udWlkLHN0cmluZ1VpZDphLnN0cmluZ1VpZCx0czpEYXRlLm5vdygpLHN1YTpkLGFwOmN9O2F3YWl0IGFzeW5jIGZ1bmN0aW9uKGUpe2xldCB0O3RyeXtlLnVpZCYmV0Yoe2FwcElkOmUuYXBwSWQsY25hbWU6ZS5jbmFtZSx0b2tlbjplLnRva2VuLHVpZDplLnVpZCxzdHJpbmdVaWQ6ZS5zdHJpbmdVaWR9KTtjb25zdCBpPUpGKGUpLG49YXdhaXQgYXN5bmMgZnVuY3Rpb24oZSx0KXt0cnl7Y29uc3QgaT1hd2FpdCB3aW5kb3cuY3J5cHRvLnN1YnRsZS5pbXBvcnRLZXkoXCJyYXdcIix6dih0KSxcIkFFUy1HQ01cIiwhMSxbXCJlbmNyeXB0XCJdKSxuPWF3YWl0IHdpbmRvdy5jcnlwdG8uc3VidGxlLmVuY3J5cHQoe25hbWU6XCJBRVMtR0NNXCIsaXY6bmV3IFVpbnQ4QXJyYXkoMSl9LGksWXYod2luZG93LmJ0b2EoSlNPTi5zdHJpbmdpZnkoZSkpKSk7cmV0dXJuIHF2KG5ldyBVaW50OEFycmF5KG4pKX1jYXRjaChlKXtyZXR1cm59fShlLGUudG9rZW58fGUuYXBwSWQpO2lmKCFuKXJldHVybjt0PXFGKE5GKTtjb25zdCByPXQ/SlNPTi5wYXJzZSh0KTpbXTtyLnB1c2goe1tpXTpufSksci5sZW5ndGg+RHkoXCJBUF9DQUNIRV9OVU1cIikmJnIuc2hpZnQoKSx6RihORixKU09OLnN0cmluZ2lmeShyKSl9Y2F0Y2goZSl7UXkud2FybihcIkVycm9yIGNhY2hpbmcgc2VydmVyIHBhcmFtZXRlcnM6XCIsZS5tZXNzYWdlKSx6RihORixcIlwiKX19KGwpLFVGKyt9Y2F0Y2goZSl7dGhyb3cgeEYrKyxmdW5jdGlvbihlKXtNRnx8KE1GPXdpbmRvdy5zZXRUaW1lb3V0KCgoKT0+e2xldCB0PVwiXCI7VkYuZm9yRWFjaCgoKGUsaSk9Pnt0Kz1cIlwiLmNvbmNhdChpLFwiOiBcIikuY29uY2F0KGUsXCIgO1wiKX0pKSxzQS5yZXBvcnRBcGlJbnZva2UobnVsbCx7bmFtZTpDdi5QUkVMT0FELG9wdGlvbnM6e3N1Y2Nlc3M6VUYsZmFpbGVkOnhGLGVycjp0fX0pLm9uRXJyb3IoZSksVUY9MCx4Rj0wLFZGLmNsZWFyKCksTUY9bnVsbH0pLFBGKSk7Y29uc3QgdD1WRi5nZXQoZS5jb2RlKXx8MDtWRi5zZXQoZS5jb2RlLHQrMSl9KGUpLGV9fWFzeW5jIGZ1bmN0aW9uIEdGKGUpe3RyeXtjb25zdCB0PVdGKGUpO2lmKCF0fHxcImRpc2FibGVkXCIhPT1lLmNsb3VkUHJveHlTZXJ2ZXIpcmV0dXJuO2NvbnN0IGk9YXdhaXQgYXN5bmMgZnVuY3Rpb24oZSx0KXt0cnl7Y29uc3QgaT1hd2FpdCB3aW5kb3cuY3J5cHRvLnN1YnRsZS5pbXBvcnRLZXkoXCJyYXdcIix6dih0KSxcIkFFUy1HQ01cIiwhMSxbXCJkZWNyeXB0XCJdKSxuPWF3YWl0IHdpbmRvdy5jcnlwdG8uc3VidGxlLmRlY3J5cHQoe25hbWU6XCJBRVMtR0NNXCIsaXY6bmV3IFVpbnQ4QXJyYXkoMSl9LGksWXYoZSkpO3JldHVybiBKU09OLnBhcnNlKHdpbmRvdy5hdG9iKHF2KG5ldyBVaW50OEFycmF5KG4pKSkpfWNhdGNoKGUpe3JldHVybn19KHQsZS50b2tlbnx8ZS5hcHBJZCk7aWYoIWkpcmV0dXJuO2lmKCFmdW5jdGlvbihlLHQpe2NvbnN0IGk9ZS5jbmFtZT09PXQuY25hbWUmJmUuYXBwSWQ9PT10LmFwcElkJiZlLnRva2VuPT09dC50b2tlbjtpZighaSlyZXR1cm4hMTtyZXR1cm4gdC5zdHJpbmdVaWQ/ZS5zdHJpbmdVaWQ9PT10LnN0cmluZ1VpZDpcIm51bWJlclwiPT10eXBlb2YgdC51aWQ/ZS51aWQ9PT10LnVpZDplLnVpZD09dC51aWR9KGksZSkpcmV0dXJuO2lmKGkmJkRhdGUubm93KCktaS50czxEeShcIkFQX0NBQ0hFX0xJRkVUSU1FXCIpKXJldHVybiBpfWNhdGNoKGUpe1F5Lndhcm4oXCJFcnJvciBnZXQgcHJlbG9hZEluZm9cIixlLm1lc3NhZ2UpfX1mdW5jdGlvbiBXRihlKXtsZXQgdDt0cnl7aWYodD1xRihORiksIXQpcmV0dXJuO2NvbnN0IGk9SlNPTi5wYXJzZSh0KSxuPUpGKGUpLHI9ZnVuY3Rpb24oZSx0KXtmb3IobGV0IGk9ZS5sZW5ndGgtMTtpPj0wO2ktLSlpZih0KGVbaV0pKXJldHVybiBpO3JldHVybi0xfShpLChlPT5uIGluIGUpKTtpZigtMT09PXIpcmV0dXJuO2NvbnN0IG89aS5zcGxpY2UociwxKVswXTtyZXR1cm4gekYoTkYsSlNPTi5zdHJpbmdpZnkoaSkpLG9bbl19Y2F0Y2goZSl7UXkud2FybihcIkVycm9yIGRlbGV0ZSBwcmVsb2FkIGluZm86IFwiLmNvbmNhdCh0KSxlLm1lc3NhZ2UpLHpGKE5GLFwiXCIpfX1mdW5jdGlvbiBIRihlKXtpZihlKXtsZXQgdD1MRi5nZXQoZSk7dCYmKHdpbmRvdy5jbGVhclRpbWVvdXQodCksdD1udWxsLExGLmRlbGV0ZShlKSksRG4oa0YpLmNhbGwoa0YsZSl8fFwiZGlzYWJsZWRcIiE9PWUuY2xvdWRQcm94eVNlcnZlcnx8a0YucHVzaChlKX1pZihMRi5zaXplPER5KFwiQVBfQ0FDSEVfTlVNXCIpJiZrRi5sZW5ndGg+MCl7Y29uc3QgZT1rRi5zaGlmdCgpO0xGLnNldChlLHdpbmRvdy5zZXRUaW1lb3V0KChhc3luYygpPT57Y29uc3R7YXBwSWQ6dCxjbmFtZTppLHRva2VuOm4sc3RyaW5nVWlkOnIsdWlkOm8scHJveHlTZXJ2ZXI6c309ZTt0cnl7YXdhaXQgRkYodCxpLG4sbyxzLHIpLExGLmhhcyhlKSYmSEYoZSl9Y2F0Y2godCl7UXkud2FybihcInVwZGF0ZSBwcmVsb2FkIGZhaWxlZFwiLHQubWVzc2FnZSksS0YoZSl9fSksRHkoXCJBUF9VUERBVEVfSU5URVJWQUxcIikpKX19ZnVuY3Rpb24gS0YoZSl7Y29uc3QgdD1rRi5pbmRleE9mKGUpOy0xIT09dCYma0Yuc3BsaWNlKHQsMSk7bGV0IGk9TEYuZ2V0KGUpO2kmJih3aW5kb3cuY2xlYXJUaW1lb3V0KGkpLGk9bnVsbCxMRi5kZWxldGUoZSksSEYoKSl9ZnVuY3Rpb24gWUYoZSx0KXtjb25zdCBpPWUuc3VhLG49ZS5hcDt0JiZpJiZzQS5yZXFVc2VyQWNjb3VudChlLnNpZCx7bHRzOmkucmVxdWVzdFRpbWUsZWxhcHNlOmkuZWxhcHNlLHN1Y2Nlc3M6ITAsc2VydmVyQWRkcjppLnVybCxzdHJpbmdVaWQ6dCx1aWQ6ZS5pbnRVaWQsZXJyb3JDb2RlOm51bGwsZXh0ZW5kOmkucmVxfSksc0EucmVwb3J0UmVzb3VyY2VUaW1pbmcoZS5hcC51cmwsZS5zaWQpLHNBLmpvaW5XZWJQcm94eUFQKGUuc2lkLHtsdHM6bi5yZXF1ZXN0VGltZSxlbGFwc2U6bi5lbGFwc2Usc3VjZXNzOjEsYXBTZXJ2ZXJBZGRyOm4udXJsLHR1cm5TZXJ2ZXJBZGRyTGlzdDpuLnByb3h5SW5mby5hZGRyZXNzZXMubWFwKChlPT5lLmlwKSkuam9pbihcIixcIiksZXZlbnRUeXBlOlwiZGlzYWJsZWRcIix1bmlsYnNTZXJ2ZXJJZHM6W093LkNIT09TRV9TRVJWRVIsT3cuQ0xPVURfUFJPWFlfRkFMTEJBQ0tdLnRvU3RyaW5nKCl9KSxzQS5qb2luQ2hvb3NlU2VydmVyKGUuc2lkLHtsdHM6bi5yZXF1ZXN0VGltZSxlbGFwc2U6bi5lbGFwc2Usc3VjYzohMCxjc0FkZHI6bi51cmwsb3BpZDpuLm9waWQsc2VydmVyTGlzdDpuLmdhdGV3YXlJbmZvLmdhdGV3YXlBZGRycy5tYXAoKGU9PmUuYWRkcmVzcykpLGVjOm51bGwsY2lkOm4uZ2F0ZXdheUluZm8uY2lkLnRvU3RyaW5nKCksdWlkOm4uZ2F0ZXdheUluZm8udWlkLnRvU3RyaW5nKCksY3NJcDpuLmdhdGV3YXlJbmZvLmNzSXAsdW5pbGJzU2VydmVySWRzOltPdy5DSE9PU0VfU0VSVkVSXS50b1N0cmluZygpLGlzSHR0cDM6bi5pc0h0dHAzfSl9ZnVuY3Rpb24gcUYoZSl7cmV0dXJuIHdpbmRvdy5hdG9iKHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShlKXx8XCJcIil9ZnVuY3Rpb24gekYoZSx0KXt3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oZSx3aW5kb3cuYnRvYSh0KSl9ZnVuY3Rpb24gSkYoZSl7bGV0IHQ9XCJcIi5jb25jYXQoZS5hcHBJZCxcIl9cIikuY29uY2F0KGUuY25hbWUpO3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlLnVpZCYmKHQrPVwiX3NfXCIuY29uY2F0KGUudWlkKSksXCJudW1iZXJcIj09dHlwZW9mIGUudWlkJiYodCs9XCJfXCIuY29uY2F0KGUudWlkKSksZS50b2tlbiYmKHQrPVwiX1wiLmNvbmNhdChlLnRva2VuKSksZHkodCl9ZnVuY3Rpb24gWEYoZSl7bGV0IHQ9ZnVuY3Rpb24oKXtjb25zdCBlPWVCLnBvcCgpO3JldHVybiBlPyhlLm9mZnNldD1lLmxpbWl0PTAsZSk6e2J5dGVzOm5ldyBVaW50OEFycmF5KDY0KSxvZmZzZXQ6MCxsaW1pdDowfX0oKTtyZXR1cm4gZnVuY3Rpb24oZSx0KXtsZXQgaT1lLmFwcElkO3ZvaWQgMCE9PWkmJih1Qih0LDEwKSxhQih0LGkpKTtsZXQgbj1lLmNpZDt2b2lkIDAhPT1uJiYodUIodCwxNiksdUIodCxuKSk7bGV0IHI9ZS5jbmFtZTt2b2lkIDAhPT1yJiYodUIodCwyNiksYUIodCxyKSk7bGV0IG89ZS5kZXZpY2VJZDt2b2lkIDAhPT1vJiYodUIodCwzNCksYUIodCxvKSk7bGV0IHM9ZS5lbGFwc2U7dm9pZCAwIT09cyYmKHVCKHQsNDApLHBCKHQscykpO2xldCBhPWUuZmlsZVNpemU7dm9pZCAwIT09YSYmKHVCKHQsNDgpLHBCKHQsJEYoYSkpKTtsZXQgYz1lLmhlaWdodDt2b2lkIDAhPT1jJiYodUIodCw1NikscEIodCwkRihjKSkpO2xldCBkPWUuanBnO3ZvaWQgMCE9PWQmJih1Qih0LDY2KSx1Qih0LGQubGVuZ3RoKSxvQih0LGQpKTtsZXQgbD1lLm5ldHdvcmtUeXBlO3ZvaWQgMCE9PWwmJih1Qih0LDcyKSxwQih0LCRGKGwpKSk7bGV0IHU9ZS5vc1R5cGU7dm9pZCAwIT09dSYmKHVCKHQsODApLHBCKHQsJEYodSkpKTtsZXQgaD1lLnJlcXVlc3RJZDt2b2lkIDAhPT1oJiYodUIodCw5MCksYUIodCxoKSk7bGV0IHA9ZS5zZGtWZXJzaW9uO3ZvaWQgMCE9PXAmJih1Qih0LDk4KSxhQih0LHApKTtsZXQgXz1lLnNlcXVlbmNlO3ZvaWQgMCE9PV8mJih1Qih0LDEwNCkscEIodCwkRihfKSkpO2xldCBFPWUuc2lkO3ZvaWQgMCE9PUUmJih1Qih0LDExNCksYUIodCxFKSk7bGV0IG09ZS50aW1lc3RhbXA7dm9pZCAwIT09bSYmKHVCKHQsMTIwKSxwQih0LG0pKTtsZXQgZj1lLnVpZDt2b2lkIDAhPT1mJiYodUIodCwxMjgpLHVCKHQsZikpO2xldCBUPWUudmlkO3ZvaWQgMCE9PVQmJih1Qih0LDEzNiksdUIodCxUKSk7bGV0IFM9ZS53aWR0aDt2b2lkIDAhPT1TJiYodUIodCwxNDQpLHBCKHQsJEYoUykpKTtsZXQgZz1lLnNlcnZpY2U7dm9pZCAwIT09ZyYmKHVCKHQsMTUyKSx1Qih0LGcpKTtsZXQgUj1lLmNhbGxiYWNrRGF0YTt2b2lkIDAhPT1SJiYodUIodCwxNjIpLHVCKHQsUi5sZW5ndGgpLG9CKHQsUikpO2xldCBDPWUudGlja2V0O3ZvaWQgMCE9PUMmJih1Qih0LDE3MCksYUIodCxDKSk7bGV0IEk9ZS52ZW5kb3JDb25maWdzO3ZvaWQgMCE9PUkmJih1Qih0LDE3OCksYUIodCxJKSl9KGUsdCksZnVuY3Rpb24oZSl7bGV0IHQ9ZS5ieXRlcyxpPWUubGltaXQ7cmV0dXJuIHQubGVuZ3RoPT09aT90OnQuc3ViYXJyYXkoMCxpKX0odCl9ZnVuY3Rpb24gUUYoZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe2xldCB0PXt9O2U6Zm9yKDshaUIoZSk7KXtsZXQgaT1sQihlKTtzd2l0Y2goaT4+PjMpe2Nhc2UgMDpicmVhayBlO2Nhc2UgMTp0LmNvZGU9bEIoZSk7YnJlYWs7Y2FzZSAyOnQubXNnPXNCKGUsbEIoZSkpO2JyZWFrO2Nhc2UgMzp0LnJlcXVlc3RJZD1zQihlLGxCKGUpKTticmVhaztjYXNlIDQ6dC50aW1lc3RhbXA9aEIoZSwhMSk7YnJlYWs7ZGVmYXVsdDpaRihlLDcmaSl9fXJldHVybiB0fSh7Ynl0ZXM6dD1lLG9mZnNldDowLGxpbWl0OnQubGVuZ3RofSk7dmFyIHR9ZnVuY3Rpb24gWkYoZSx0KXtzd2l0Y2godCl7Y2FzZSAwOmZvcig7MTI4JmNCKGUpOyk7YnJlYWs7Y2FzZSAyOnRCKGUsbEIoZSkpO2JyZWFrO2Nhc2UgNTp0QihlLDQpO2JyZWFrO2Nhc2UgMTp0QihlLDgpO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwiVW5pbXBsZW1lbnRlZCB0eXBlOiBcIit0KX19ZnVuY3Rpb24gJEYoZSl7cmV0dXJue2xvdzplfD0wLGhpZ2g6ZT4+MzEsdW5zaWduZWQ6ZT49MH19bGV0IGVCPVtdO2Z1bmN0aW9uIHRCKGUsdCl7aWYoZS5vZmZzZXQrdD5lLmxpbWl0KXRocm93IG5ldyBFcnJvcihcIlNraXAgcGFzdCBsaW1pdFwiKTtlLm9mZnNldCs9dH1mdW5jdGlvbiBpQihlKXtyZXR1cm4gZS5vZmZzZXQ+PWUubGltaXR9ZnVuY3Rpb24gbkIoZSx0KXtsZXQgaT1lLmJ5dGVzLG49ZS5vZmZzZXQscj1lLmxpbWl0LG89bit0O2lmKG8+aS5sZW5ndGgpe2xldCB0PW5ldyBVaW50OEFycmF5KDIqbyk7dC5zZXQoaSksZS5ieXRlcz10fXJldHVybiBlLm9mZnNldD1vLG8+ciYmKGUubGltaXQ9byksbn1mdW5jdGlvbiByQihlLHQpe2xldCBpPWUub2Zmc2V0O2lmKGkrdD5lLmxpbWl0KXRocm93IG5ldyBFcnJvcihcIlJlYWQgcGFzdCBsaW1pdFwiKTtyZXR1cm4gZS5vZmZzZXQrPXQsaX1mdW5jdGlvbiBvQihlLHQpe2xldCBpPW5CKGUsdC5sZW5ndGgpO2UuYnl0ZXMuc2V0KHQsaSl9ZnVuY3Rpb24gc0IoZSx0KXtsZXQgaT1yQihlLHQpLG49U3RyaW5nLmZyb21DaGFyQ29kZSxyPWUuYnl0ZXMsbz1cIu+/vVwiLHM9XCJcIjtmb3IobGV0IGU9MDtlPHQ7ZSsrKXtsZXQgYSxjLGQsbCx1PXJbZStpXTswPT0oMTI4JnUpP3MrPW4odSk6MTkyPT0oMjI0JnUpP2UrMT49dD9zKz1vOihhPXJbZStpKzFdLDEyOCE9KDE5MiZhKT9zKz1vOihsPSgzMSZ1KTw8Nnw2MyZhLGw8MTI4P3MrPW86KHMrPW4obCksZSsrKSkpOjIyND09KDI0MCZ1KT9lKzI+PXQ/cys9bzooYT1yW2UraSsxXSxjPXJbZStpKzJdLDMyODk2IT0oNDkzNDQmKGF8Yzw8OCkpP3MrPW86KGw9KDE1JnUpPDwxMnwoNjMmYSk8PDZ8NjMmYyxsPDIwNDh8fGw+PTU1Mjk2JiZsPD01NzM0Mz9zKz1vOihzKz1uKGwpLGUrPTIpKSk6MjQwPT0oMjQ4JnUpP2UrMz49dD9zKz1vOihhPXJbZStpKzFdLGM9cltlK2krMl0sZD1yW2UraSszXSw4NDIxNTA0IT0oMTI2MzIyNTYmKGF8Yzw8OHxkPDwxNikpP3MrPW86KGw9KDcmdSk8PDE4fCg2MyZhKTw8MTJ8KDYzJmMpPDw2fDYzJmQsbDw2NTUzNnx8bD4xMTE0MTExP3MrPW86KGwtPTY1NTM2LHMrPW4oNTUyOTYrKGw+PjEwKSw1NjMyMCsoMTAyMyZsKSksZSs9MykpKTpzKz1vfXJldHVybiBzfWZ1bmN0aW9uIGFCKGUsdCl7bGV0IGk9dC5sZW5ndGgsbj0wO2ZvcihsZXQgZT0wO2U8aTtlKyspe2xldCByPXQuY2hhckNvZGVBdChlKTtyPj01NTI5NiYmcjw9NTYzMTkmJmUrMTxpJiYocj0ocjw8MTApK3QuY2hhckNvZGVBdCgrK2UpLTU2NjEzODg4KSxuKz1yPDEyOD8xOnI8MjA0OD8yOnI8NjU1MzY/Mzo0fXVCKGUsbik7bGV0IHI9bkIoZSxuKSxvPWUuYnl0ZXM7Zm9yKGxldCBlPTA7ZTxpO2UrKyl7bGV0IG49dC5jaGFyQ29kZUF0KGUpO24+PTU1Mjk2JiZuPD01NjMxOSYmZSsxPGkmJihuPShuPDwxMCkrdC5jaGFyQ29kZUF0KCsrZSktNTY2MTM4ODgpLG48MTI4P29bcisrXT1uOihuPDIwNDg/b1tyKytdPW4+PjYmMzF8MTkyOihuPDY1NTM2P29bcisrXT1uPj4xMiYxNXwyMjQ6KG9bcisrXT1uPj4xOCY3fDI0MCxvW3IrK109bj4+MTImNjN8MTI4KSxvW3IrK109bj4+NiY2M3wxMjgpLG9bcisrXT02MyZufDEyOCl9fWZ1bmN0aW9uIGNCKGUpe3JldHVybiBlLmJ5dGVzW3JCKGUsMSldfWZ1bmN0aW9uIGRCKGUsdCl7bGV0IGk9bkIoZSwxKTtlLmJ5dGVzW2ldPXR9ZnVuY3Rpb24gbEIoZSl7bGV0IHQsaT0wLG49MDtkb3t0PWNCKGUpLGk8MzImJihufD0oMTI3JnQpPDxpKSxpKz03fXdoaWxlKDEyOCZ0KTtyZXR1cm4gbn1mdW5jdGlvbiB1QihlLHQpe2Zvcih0Pj4+PTA7dD49MTI4OylkQihlLDEyNyZ0fDEyOCksdD4+Pj03O2RCKGUsdCl9ZnVuY3Rpb24gaEIoZSx0KXtsZXQgaSxuPTAscj0wLG89MDtyZXR1cm4gaT1jQihlKSxuPTEyNyZpLDEyOCZpJiYoaT1jQihlKSxufD0oMTI3JmkpPDw3LDEyOCZpJiYoaT1jQihlKSxufD0oMTI3JmkpPDwxNCwxMjgmaSYmKGk9Y0IoZSksbnw9KDEyNyZpKTw8MjEsMTI4JmkmJihpPWNCKGUpLHI9MTI3JmksMTI4JmkmJihpPWNCKGUpLHJ8PSgxMjcmaSk8PDcsMTI4JmkmJihpPWNCKGUpLHJ8PSgxMjcmaSk8PDE0LDEyOCZpJiYoaT1jQihlKSxyfD0oMTI3JmkpPDwyMSwxMjgmaSYmKGk9Y0IoZSksbz0xMjcmaSwxMjgmaSYmKGk9Y0IoZSksb3w9KDEyNyZpKTw8NykpKSkpKSkpKSx7bG93Om58cjw8MjgsaGlnaDpyPj4+NHxvPDwyNCx1bnNpZ25lZDp0fX1mdW5jdGlvbiBwQihlLHQpe2xldCBpPXQubG93Pj4+MCxuPSh0Lmxvdz4+PjI4fHQuaGlnaDw8NCk+Pj4wLHI9dC5oaWdoPj4+MjQsbz0wPT09cj8wPT09bj9pPDE2Mzg0P2k8MTI4PzE6MjppPDE8PDIxPzM6NDpuPDE2Mzg0P248MTI4PzU6NjpuPDE8PDIxPzc6ODpyPDEyOD85OjEwLHM9bkIoZSxvKSxhPWUuYnl0ZXM7c3dpdGNoKG8pe2Nhc2UgMTA6YVtzKzldPXI+Pj43JjE7Y2FzZSA5OmFbcys4XT05IT09bz8xMjh8cjoxMjcmcjtjYXNlIDg6YVtzKzddPTghPT1vP24+Pj4yMXwxMjg6bj4+PjIxJjEyNztjYXNlIDc6YVtzKzZdPTchPT1vP24+Pj4xNHwxMjg6bj4+PjE0JjEyNztjYXNlIDY6YVtzKzVdPTYhPT1vP24+Pj43fDEyODpuPj4+NyYxMjc7Y2FzZSA1OmFbcys0XT01IT09bz8xMjh8bjoxMjcmbjtjYXNlIDQ6YVtzKzNdPTQhPT1vP2k+Pj4yMXwxMjg6aT4+PjIxJjEyNztjYXNlIDM6YVtzKzJdPTMhPT1vP2k+Pj4xNHwxMjg6aT4+PjE0JjEyNztjYXNlIDI6YVtzKzFdPTIhPT1vP2k+Pj43fDEyODppPj4+NyYxMjc7Y2FzZSAxOmFbc109MSE9PW8/MTI4fGk6MTI3Jml9fWNvbnN0IF9CPXt9LEVCPXt9LG1CPTQyOTQ5NjcyOTYsZkI9bUIqbUIsVEI9ZkIvMixTQj12QigwLCEwKSxnQj12QigwKSxSQj15QigwLC0yMTQ3NDgzNjQ4LCExKSxDQj15QigtMSwyMTQ3NDgzNjQ3LCExKSxJQj15QigtMSwtMSwhMCk7ZnVuY3Rpb24gdkIoZSx0KXtsZXQgaSxuLHI7cmV0dXJuIHQ/KHI9MDw9KGU+Pj49MCkmJmU8MjU2KSYmKG49RUJbZV0sbik/bjooaT15QihlLDAsITApLHImJihFQltlXT1pKSxpKToocj0tMTI4PD0oZXw9MCkmJmU8MTI4KSYmKG49X0JbZV0sbik/bjooaT15QihlLGU8MD8tMTowLCExKSxyJiYoX0JbZV09aSksaSl9ZnVuY3Rpb24geUIoZSx0LGkpe3JldHVybntsb3c6MHxlLGhpZ2g6MHx0LHVuc2lnbmVkOiEhaX19ZnVuY3Rpb24gQUIoZSx0KXtpZihpc05hTihlKSlyZXR1cm4gdD9TQjpnQjtpZih0KXtpZihlPDApcmV0dXJuIFNCO2lmKGU+PWZCKXJldHVybiBJQn1lbHNle2lmKGU8PS1UQilyZXR1cm4gUkI7aWYoZSsxPj1UQilyZXR1cm4gQ0J9cmV0dXJuIGU8MD90P1NCOmdCOnlCKGUlbUJ8MCxlL21CfDAsdCl9ZnVuY3Rpb24gYkIoZSx0KXt2YXIgaT1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihuPW4uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLGkucHVzaC5hcHBseShpLG4pfXJldHVybiBpfWNsYXNzIHdCIGV4dGVuZHMgU3Z7Z2V0IGNvbm5lY3Rpb25TdGF0ZSgpe3JldHVybiB0aGlzLl9jb25uZWN0aW9uU3RhdGV9c2V0IGNvbm5lY3Rpb25TdGF0ZShlKXtpZih0aGlzLl9jb25uZWN0aW9uU3RhdGU9PT1lKXJldHVybjtjb25zdCB0PXRoaXMuX2Nvbm5lY3Rpb25TdGF0ZTt0aGlzLl9jb25uZWN0aW9uU3RhdGU9ZSx0aGlzLmVtaXQocncuQ09OTkVDVElPTl9TVEFURV9DSEFOR0UsZSx0KX1nZXQgcXVhbGl0eSgpe3JldHVybiB0aGlzLl9xdWFsaXR5fXNldCBxdWFsaXR5KGUpe3RoaXMuX3F1YWxpdHk9ZT4xPzE6ZTwuMT8uMTplLHRoaXMuX3F1YWxpdHlUaW1lciYmKHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5fcXVhbGl0eVRpbWVyKSx0aGlzLl9xdWFsaXR5VGltZXI9bnVsbCksdGhpcy5fcXVhbGl0eT49MXx8KHRoaXMuX3F1YWxpdHlUaW1lcj13aW5kb3cuc2V0VGltZW91dCgoKCk9Pnt0aGlzLnF1YWxpdHk9dGhpcy5fcXVhbGl0eS90aGlzLl9xdWFsaXR5UmF0aW99KSw2ZTQpKX1jb25zdHJ1Y3RvcihlKXt2YXIgdDtzdXBlcigpLG9nKHRoaXMsXCJuYW1lXCIsXCJBZ29yYVJUQ0ltYWdlTW9kZXJhdGlvblwiKSxvZyh0aGlzLFwiX2Nvbm5lY3Rpb25TdGF0ZVwiLG53LkNPTk5FQ1RJTkcpLG9nKHRoaXMsXCJfc2VxdWVuY2VcIiwwKSxvZyh0aGlzLFwiX21vZGVyYXRpb25TdGFydFRpbWVcIix2b2lkIDApLG9nKHRoaXMsXCJfd29ya2VyQ29ubmVjdGlvblwiLHZvaWQgMCksb2codGhpcyxcIl93b3JrZXJNZXNzYWdlTGVuZ3RoTGltaXRcIix2b2lkIDApLG9nKHRoaXMsXCJfcXVhbGl0eVJhdGlvXCIsdm9pZCAwKSxvZyh0aGlzLFwiX2Nvbm5lY3RJbmZvXCIsdm9pZCAwKSxvZyh0aGlzLFwiX2NhbmNlbFRva2VuU291cmNlXCIsRUkuQ2FuY2VsVG9rZW4uc291cmNlKCkpLG9nKHRoaXMsXCJfcmV0cnlDb25maWdcIix2b2lkIDApLG9nKHRoaXMsXCJfbW9kZXJhdGlvbkludGVydmFsXCIsdm9pZCAwKSxvZyh0aGlzLFwiX21vZGVyYXRpb25UaW1lclwiLG51bGwpLG9nKHRoaXMsXCJfbW9kZXJhdGlvbk1vZGVcIiwxKSxvZyh0aGlzLFwiX3F1YWxpdHlcIiwxKSxvZyh0aGlzLFwiX3F1YWxpdHlUaW1lclwiLG51bGwpLG9nKHRoaXMsXCJfdGlja2V0XCIsdm9pZCAwKSxvZyh0aGlzLFwiX21vZGVyYXRpb25JbnRlcnZhbE1pbmltdW1cIix2b2lkIDApLG9nKHRoaXMsXCJfdXBsb2FkRmFpbGVkTnVtXCIsMCksb2codGhpcyxcIl91cGxvYWROdW1cIiwwKSxvZyh0aGlzLFwiX3VwbG9hZFRpbWVyXCIsbnVsbCksb2codGhpcyxcIl9leHRyYUluZm9cIix2b2lkIDApLG9nKHRoaXMsXCJfdmVuZG9yXCIsXCJcIiksb2codGhpcyxcIl9lbmNvZGVyXCIsbmV3IFRleHRFbmNvZGVyKSxvZyh0aGlzLFwiX21vZGVyYXRpb25JZFwiLHZvaWQgMCksb2codGhpcyxcImluc3BlY3RJbWFnZVwiLCgoKT0+e2lmKHRoaXMuY29ubmVjdGlvblN0YXRlIT09bncuQ09OTkVDVEVEKXRocm93IG5ldyBTYihudi5PUEVSQVRJT05fQUJPUlRFRCxcImltYWdlIG1vZGVyYXRpb24gc2VydmljZSBjb25uZWN0aW9uIHN0YXR1cyBpcyBcIi5jb25jYXQodGhpcy5jb25uZWN0aW9uU3RhdGUpKTt0aGlzLl9tb2RlcmF0aW9uVGltZXImJih3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLl9tb2RlcmF0aW9uVGltZXIpLHRoaXMuX21vZGVyYXRpb25UaW1lcj1udWxsKSx0aGlzLl9tb2RlcmF0aW9uVGltZXI9d2luZG93LnNldEludGVydmFsKCgoKT0+e3RoaXMuY29ubmVjdGlvblN0YXRlPT09bncuQ09OTkVDVEVEP3RoaXMucmVxdWVzdFRvSW5zcGVjdEltYWdlKCk6UXkuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX21vZGVyYXRpb25JZCxcIl0gTW9kZXJhdGlvbiBTdGF0ZSBpcyBub3QgY29ubmVjdGVkICwgXCIpLHRoaXMuY29ubmVjdGlvblN0YXRlKX0pLHRoaXMuX21vZGVyYXRpb25JbnRlcnZhbDx0aGlzLl9tb2RlcmF0aW9uSW50ZXJ2YWxNaW5pbXVtP3RoaXMuX21vZGVyYXRpb25JbnRlcnZhbE1pbmltdW06dGhpcy5fbW9kZXJhdGlvbkludGVydmFsKSx0aGlzLnJlcXVlc3RUb0luc3BlY3RJbWFnZSgpfSkpLHRoaXMuX21vZGVyYXRpb25JZD1leSg1LFwiaW1hZ2UtbW9kZXJhdGlvbi1cIiksdGhpcy5fd29ya2VyTWVzc2FnZUxlbmd0aExpbWl0PUR5KFwiSU1BR0VfTU9ERVJBVElPTl9XT1JLRVJfTUVTU0FHRV9MRU5HVEhfTElNSVRcIiksdGhpcy5fbW9kZXJhdGlvbkludGVydmFsTWluaW11bT1EeShcIklNQUdFX01PREVSQVRJT05fSU5URVJWQUxfTUlOSU1VTVwiKSx0aGlzLl9tb2RlcmF0aW9uSW50ZXJ2YWw9bnVsbCE9PSh0PWUuaW50ZXJ2YWwpJiZ2b2lkIDAhPT10P3Q6MWUzLGUuZXh0cmFJbmZvJiYodGhpcy5fZXh0cmFJbmZvPXRoaXMuX2VuY29kZXIuZW5jb2RlKGUuZXh0cmFJbmZvKSksZS52ZW5kb3ImJih0aGlzLl92ZW5kb3I9ZS52ZW5kb3IpLHRoaXMuX3F1YWxpdHlSYXRpbz1EeShcIklNQUdFX01PREVSQVRJT05fUVVBTElUWV9SQVRJT1wiKSx0aGlzLl9tb2RlcmF0aW9uU3RhcnRUaW1lPU51bWJlcihEYXRlLm5vdygpKSx0aGlzLl93b3JrZXJDb25uZWN0aW9uPW5ldyBidyhcIndvcmtlci1cIit0aGlzLl9tb2RlcmF0aW9uSWQsX3kpLHRoaXMub24ocncuU1RBVEVfQ0hBTkdFLCgoZSx0KT0+e1F5LmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9tb2RlcmF0aW9uSWQsXCJdIE1vZGVyYXRpb24gb3BlcmF0aW9uIDpcIikuY29uY2F0KG93W2VdLFwiIFwiKS5jb25jYXQodHx8XCJcIikpfSkpLHRoaXMuaGFuZGxlV29ya2VyRXZlbnRzKCl9YXN5bmMgaW5pdChlLHQpe3RoaXMuZW1pdChydy5TVEFURV9DSEFOR0Usb3cuQ09OTkVDVF9BUCksdGhpcy5fY29ubmVjdEluZm89ZTtjb25zdCBpPXRoaXMuX2NhbmNlbFRva2VuU291cmNlLnRva2VuO3JldHVybiB0aGlzLl9yZXRyeUNvbmZpZz10LG5ldyBHaCgoKG4scik9Pnt0aGlzLm9uKHJ3LkNPTk5FQ1RJT05fU1RBVEVfQ0hBTkdFLCgoZSx0KT0+e2U9PT1udy5DT05ORUNURUQmJm4oKX0pKSx0aGlzLnJlcXVlc3RBUChlLGksdCkudGhlbigoZT0+e3RoaXMuY29ubmVjdFdvcmtlcihlKX0pKS5jYXRjaCgoZT0+e3IoZSl9KSl9KSl9dXBkYXRlQ29uZmlnKGUpe3ZhciB0O3RoaXMuX21vZGVyYXRpb25JbnRlcnZhbD1udWxsIT09KHQ9ZS5pbnRlcnZhbCkmJnZvaWQgMCE9PXQ/dDoxZTMsZS5leHRyYUluZm8mJih0aGlzLl9leHRyYUluZm89dGhpcy5fZW5jb2Rlci5lbmNvZGUoZS5leHRyYUluZm8pKSxlLnZlbmRvciYmKHRoaXMuX3ZlbmRvcj1lLnZlbmRvciksUXkuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX21vZGVyYXRpb25JZCxcIl0gdXBkYXRlQ29uZmlnOiBcIikuY29uY2F0KEpTT04uc3RyaW5naWZ5KGUpKSksdGhpcy5jb25uZWN0aW9uU3RhdGU9PT1udy5DT05ORUNURUQmJnRoaXMuaW5zcGVjdEltYWdlKCl9YXN5bmMgcmVxdWVzdEFQKGUsdCxpKXtjb25zdCBuPUR5KFwiV0VCQ1NfRE9NQUlOXCIpLm1hcCgoZT0+XCJodHRwczovL1wiLmNvbmNhdChlLFwiL2FwaS92MVwiKSkpLHI9YXdhaXQgZnVuY3Rpb24oZSx0LGksbil7bGV0e2FwcElkOnIsYXJlYUNvZGU6byxjbmFtZTpzLHNpZDphLHRva2VuOmMsdWlkOmR9PXQ7SVUrKztjb25zdCBsPVwibW9kZXJhdGlvbl9wbHVnaW5cIix1PXtzZXJ2aWNlX25hbWU6bCxqc29uX2JvZHk6SlNPTi5zdHJpbmdpZnkoe2FwcElkOnIsYXJlYUNvZGU6byxjbmFtZTpzLGNvbW1hbmQ6XCJhbGxvY2F0ZUVkZ2VcIixyZXF1ZXN0SWQ6SVUsc2VxOklVLHNpZDphLGFwcFRva2VuOmMsdHM6RGF0ZS5ub3coKSx1aWQ6ZCtcIlwifSl9O2xldCBoLHAsXz1lWzBdO3JldHVybiBteSgoYXN5bmMoKT0+e2g9RGF0ZS5ub3coKTtjb25zdCBlPWF3YWl0IHRVKF8se2RhdGE6dSxjYW5jZWxUb2tlbjppLGhlYWRlcnM6e1wiWC1QYWNrZXQtU2VydmljZS1UeXBlXCI6XCIwXCIsXCJYLVBhY2tldC1VUklcIjpcIjYxXCJ9LHBhcmFtczp7YWN0aW9uOlwid3J0Y19nYXRld2F5XCJ9fSk7aWYocD1EYXRlLm5vdygpLWgsMCE9PWUuY29kZSl7Y29uc3QgdD1uZXcgU2IobnYuVU5FWFBFQ1RFRF9SRVNQT05TRSxcIm1vZGVyYXRpb24gcGx1Z2luIGFwIGVycm9yLCBjb2RlXCIrZS5jb2RlLHtyZXRyeTohMCxyZXNwb25zZVRpbWU6cH0pO3Rocm93IFF5LmVycm9yKHQudG9TdHJpbmcoKSksdH1jb25zdCB0PUpTT04ucGFyc2UoZS5qc29uX2JvZHkpO2lmKDIwMCE9PXQuY29kZSl7Y29uc3QgZT1uZXcgU2IobnYuVU5FWFBFQ1RFRF9SRVNQT05TRSxcIm1vZGVyYXRpb24gcGx1Z2luIGFwIGVycm9yLCBjb2RlOiBcIi5jb25jYXQodC5jb2RlLFwiLCByZWFzb246IFwiKS5jb25jYXQodC5yZWFzb24pLHtjb2RlOnQuY29kZSxyZXNwb25zZVRpbWU6cH0pO3Rocm93IFF5LmVycm9yKGUudG9TdHJpbmcoKSksZX1pZighdC5zZXJ2ZXJzfHwhQXJyYXkuaXNBcnJheSh0LnNlcnZlcnMpfHwwPT09dC5zZXJ2ZXJzLmxlbmd0aCl7Y29uc3QgZT1uZXcgU2IobnYuVU5FWFBFQ1RFRF9SRVNQT05TRSxcIm1vZGVyYXRpb24gcGx1Z2luIGFwIGVtcHR5IHNlcnZlclwiLHtjb2RlOnQuY29kZSxyZXNwb25zZVRpbWU6cH0pO3Rocm93IFF5LmVycm9yKGUudG9TdHJpbmcoKSksZX1pZighdC5zZXJ2ZXJzLnNvbWUoKGU9PiEhZS53c3MpKSl7Y29uc3QgZT1uZXcgU2IobnYuVU5FWFBFQ1RFRF9SRVNQT05TRSxcIm1vZGVyYXRpb24gcGx1Z2luIGFwIGVtcHR5IHBvcnRcIix7Y29kZTp0LmNvZGUscmVzcG9uc2VUaW1lOnB9KTt0aHJvdyBReS5lcnJvcihlLnRvU3RyaW5nKCkpLGV9Y29uc3Qgbj1EeShcIklNQUdFX01PREVSQVRJT05fV09SS0VSX0hPU1RcIik7cmV0dXJue2FkZHJlc3NMaXN0OnQuc2VydmVycy5tYXAoKGU9PntsZXR7YWRkcmVzczp0LHdzczppfT1lO2lmKHQmJmkpcmV0dXJuXCJ3c3M6Ly9cIi5jb25jYXQodC5yZXBsYWNlKC9cXC4vZyxcIi1cIiksXCIuXCIpLmNvbmNhdChuLFwiOlwiKS5jb25jYXQoaSxcIi9tb2RlcmF0aW9uXCIpfSkpLmZpbHRlcigoZT0+ISFlKSksd29ya2VyVG9rZW46dC53b3JrZXJUb2tlbix2aWQ6dC52aWQsdGlja2V0OnQuYXBwVGlja2V0LHJlc3BvbnNlVGltZTpwfX0pLCgodCxpKT0+KHNBLmFwd29ya2VyRXZlbnQoYSx7c3VjY2VzczohMCxzYzoyMDAsc2VydmljZU5hbWU6bCxyZXNwb25zZURldGFpbDpKU09OLnN0cmluZ2lmeSh0LmFkZHJlc3NMaXN0KSxmaXJzdFN1Y2Nlc3M6MD09PWkscmVzcG9uc2VUaW1lOnAsc2VydmVySXA6ZVtpJWUubGVuZ3RoXX0pLCExKSksKCh0LGkpPT4oc0EuYXB3b3JrZXJFdmVudChhLHtzdWNjZXNzOiExLHNjOnQuZGF0YSYmdC5kYXRhLmNvZGV8fDIwMCxzZXJ2aWNlTmFtZTpsLHJlc3BvbnNlVGltZTpwLHNlcnZlcklwOmVbaSVlLmxlbmd0aF19KSwhISh0LmNvZGUhPT1udi5PUEVSQVRJT05fQUJPUlRFRCYmdC5jb2RlIT09bnYuVU5FWFBFQ1RFRF9SRVNQT05TRXx8dC5kYXRhJiZ0LmRhdGEucmV0cnkpJiYoXz1lWyhpKzEpJWUubGVuZ3RoXSwhMCkpKSxuKX0obixlLHQsaSk7dGhpcy5lbWl0KHJ3LlNUQVRFX0NIQU5HRSxvdy5BUF9DT05ORUNURUQpO2NvbnN0e2FkZHJlc3NMaXN0Om8sdGlja2V0OnN9PXI7cmV0dXJuIHRoaXMuX3RpY2tldD1zLG99YXN5bmMgY29ubmVjdFdvcmtlcihlKXt0aGlzLmVtaXQocncuU1RBVEVfQ0hBTkdFLG93LkNPTk5FQ1RfV09SS0VSKSxhd2FpdCB0aGlzLl93b3JrZXJDb25uZWN0aW9uLmluaXQoZSwxZTQpfWhhbmRsZVdvcmtlckV2ZW50cygpe3RoaXMuX3dvcmtlckNvbm5lY3Rpb24ub24oVGIuQ09OTkVDVEVELChhc3luYygpPT57dGhpcy5lbWl0KHJ3LlNUQVRFX0NIQU5HRSxvdy5XT1JLRVJfQ09OTkVDVEVELHRoaXMuX3dvcmtlckNvbm5lY3Rpb24udXJsKSx0aGlzLmNvbm5lY3Rpb25TdGF0ZT1udy5DT05ORUNURUR9KSksdGhpcy5fd29ya2VyQ29ubmVjdGlvbi5vbihUYi5DTE9TRUQsKCgpPT57dGhpcy5jb25uZWN0aW9uU3RhdGU9bncuQ0xPU0VEfSkpLHRoaXMuX3dvcmtlckNvbm5lY3Rpb24ub24oVGIuRkFJTEVELCgoKT0+e3RoaXMuY29ubmVjdGlvblN0YXRlPW53LkNMT1NFRH0pKSx0aGlzLl93b3JrZXJDb25uZWN0aW9uLm9uKFRiLlJFQ09OTkVDVElORywoKCk9Pnt0aGlzLmNvbm5lY3Rpb25TdGF0ZT10aGlzLmNvbm5lY3Rpb25TdGF0ZT09PW53LkNPTk5FQ1RFRD9udy5SRUNPTk5FQ1RJTkc6bncuQ09OTkVDVElOR30pKSx0aGlzLl93b3JrZXJDb25uZWN0aW9uLm9uKFRiLk9OX01FU1NBR0UsKGFzeW5jIGU9PntpZihlLmRhdGEgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcil7Y29uc3QgdD1RRihuZXcgVWludDhBcnJheShlLmRhdGEpKTtEeShcIlNIT1dfSU1BR0VfTU9ERVJBVElPTl9XT1JLRVJfTUVTU0FHRVwiKSYmUXkuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX21vZGVyYXRpb25JZCxcIl0gUmVzcG9uc2UgbWVzc2FnZSBmb3Igd29ya2VyIG9mIGltYWdlIG1vZGVyYXRpb24gXCIpLEpTT04uc3RyaW5naWZ5KHQpKSx0aGlzLl91cGxvYWROdW0rKyx2b2lkIDA9PT10LmNvZGV8fDA9PT10LmNvZGV8fCh0aGlzLl91cGxvYWRGYWlsZWROdW0rKyxReS5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fbW9kZXJhdGlvbklkLFwiXSBFcnJvciByZXNwb25zZSBmcm9tIHdvcmtlLCBjb2RlIGlzIFwiKS5jb25jYXQodC5jb2RlLFwiLCBtc2cgaXMgXCIpLmNvbmNhdCh0Lm1zZykpLHRoaXMuX3VwbG9hZFRpbWVyfHwodGhpcy5fdXBsb2FkVGltZXI9d2luZG93LnNldFRpbWVvdXQoKCgpPT57c0EucmVwb3J0QXBpSW52b2tlKHRoaXMuX2Nvbm5lY3RJbmZvLnNpZHx8bnVsbCx7bmFtZTpDdi5JTUFHRV9NT0RFUkFUSU9OX1VQTE9BRCxvcHRpb25zOlt0aGlzLl91cGxvYWRGYWlsZWROdW0sdGhpcy5fdXBsb2FkTnVtLHQuY29kZV0sdGFnOkl2LlRSQUNFUn0pLm9uRXJyb3IobmV3IFNiKG52LklNQUdFX01PREVSQVRJT05fVVBMT0FEX0ZBSUxFRCx0Lm1zZykpLHRoaXMuX3VwbG9hZFRpbWVyPW51bGx9KSxEeShcIklNQUdFX01PREVSQVRJT05fVVBMT0FEX1JFUE9SVF9JTlRFUlZBTFwiKSkpKX1lbHNlIFF5LmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9tb2RlcmF0aW9uSWQsXCJdIFVuZXhwZWN0ZWQgbWVzc2FnZSB0eXBlIGZyb20gd29ya2VyXCIpKX0pKSx0aGlzLl93b3JrZXJDb25uZWN0aW9uLm9uKFRiLldJTExfUkVDT05ORUNULCgoZSx0LGkpPT57XCJyZWNvdmVyXCI9PT1lJiZpKGUpLGkoXCJ0cnlOZXh0XCIpfSkpLHRoaXMuX3dvcmtlckNvbm5lY3Rpb24ub24oVGIuUkVRVUVTVF9ORVdfVVJMUywoKGUsdCk9Pnt0aGlzLnJlcXVlc3RBUCh0aGlzLl9jb25uZWN0SW5mbyx0aGlzLl9jYW5jZWxUb2tlblNvdXJjZS50b2tlbix0aGlzLl9yZXRyeUNvbmZpZykudGhlbihlKS5jYXRjaCh0KX0pKX1zdGF0aWMgaW50VG9Mb25nKGUpe3JldHVybntsb3c6ZXw9MCxoaWdoOmU+PjMxLHVuc2lnbmVkOmU+PTB9fWFzeW5jIHJlcXVlc3RUb0luc3BlY3RJbWFnZSgpe2NvbnN0IGU9VXYodGhpcyxydy5DTElFTlRfTE9DQUxfVklERU9fVFJBQ0spLHQ9e2FwcElkOnRoaXMuX2Nvbm5lY3RJbmZvLmFwcElkLGNuYW1lOnRoaXMuX2Nvbm5lY3RJbmZvLmNuYW1lLGNpZDp0aGlzLl9jb25uZWN0SW5mby5jaWQsc2lkOnRoaXMuX2Nvbm5lY3RJbmZvLnNpZCx1aWQ6dGhpcy5fY29ubmVjdEluZm8udWlkLHZpZDp0aGlzLl9jb25uZWN0SW5mby52aWR9O2lmKGUpe2lmKCFlLmlzUGxheWluZylyZXR1cm4gdm9pZChEeShcIlNIT1dfSU1BR0VfTU9ERVJBVElPTl9XT1JLRVJfTUVTU0FHRVwiKSYmUXkuZGVidWcoXCJPbmx5IHRoZSB0cmFjayBiZWluZyBwbGF5ZWQgY2FuIGJlIGluc3BlY3RlZFwiKSk7dGhpcy5fc2VxdWVuY2UrKztjb25zdCBpPWF3YWl0IHRoaXMuZ2VuZXJhdGVSZXF1ZXN0RGF0YShlLHQpO3RoaXMuX3dvcmtlckNvbm5lY3Rpb24uc2VuZE1lc3NhZ2UoaSwhMCwhMCl9ZWxzZSBEeShcIlNIT1dfSU1BR0VfTU9ERVJBVElPTl9XT1JLRVJfTUVTU0FHRVwiKSYmUXkuZGVidWcoXCJPbmx5IHRoZSB0cmFjayBiZWluZyBwdWJsaXNoZWQgY2FuIGJlIGluc3BlY3RlZFwiKX1hc3luYyBnZW5lcmF0ZVJlcXVlc3REYXRhKGUsdCl7bGV0e2FwcElkOmksY25hbWU6bixjaWQ6cix2aWQ6byxzaWQ6cyx1aWQ6YX09dDtjb25zdCBjPURhdGUubm93KCksZD1hd2FpdCBlLmdldEN1cnJlbnRGcmFtZUltYWdlKFwiaW1hZ2UvanBlZ1wiLHRoaXMucXVhbGl0eSksbD1hd2FpdCBoTChkLGksbiksdT10aGlzLl9zZXF1ZW5jZStcIi1cIityK1wiLVwiK2ErXCItXCIrYytcIi1cIitleSgxMixcIlwiKSxoPXthcHBJZDppLGNpZDpyLGNuYW1lOm4sZGV2aWNlSWQ6XCJcIixlbGFwc2U6d0IuaW50VG9Mb25nKE51bWJlcihjLXRoaXMuX21vZGVyYXRpb25TdGFydFRpbWUpKSxmaWxlU2l6ZTpkLmJ1ZmZlci5ieXRlTGVuZ3RoLGhlaWdodDpkLmhlaWdodCx3aWR0aDpkLndpZHRoLGpwZzpsLG5ldHdvcmtUeXBlOjYsb3NUeXBlOjcscmVxdWVzdElkOnUsc2RrVmVyc2lvbjpcIjQuMjIuMFwiLHNlcXVlbmNlOnRoaXMuX3NlcXVlbmNlLHNpZDpzLHRpbWVzdGFtcDpBQihjKSx1aWQ6YSx2aWQ6byxzZXJ2aWNlOnRoaXMuX21vZGVyYXRpb25Nb2RlLHRpY2tldDp0aGlzLl90aWNrZXQsY2FsbGJhY2tEYXRhOnRoaXMuX2V4dHJhSW5mbyx2ZW5kb3JDb25maWdzOnRoaXMuX3ZlbmRvcn07dm9pZCAwPT09dGhpcy5fZXh0cmFJbmZvJiZkZWxldGUgaC5jYWxsYmFja0RhdGE7Y29uc3QgcD1YRihoKTtpZihwLmJ5dGVMZW5ndGg8dGhpcy5fd29ya2VyTWVzc2FnZUxlbmd0aExpbWl0KXtpZihEeShcIlNIT1dfSU1BR0VfTU9ERVJBVElPTl9XT1JLRVJfTUVTU0FHRVwiKSl7Y29uc3QgZT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgaT1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9iQihPYmplY3QoaSksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe29nKGUsdCxpW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKGkpKTpiQihPYmplY3QoaSkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpLHQpKX0pKX1yZXR1cm4gZX0oe30saCk7ZGVsZXRlIGUuanBnLFF5LmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9tb2RlcmF0aW9uSWQsXCJdIFJlcXVlc3QgbWVzc2FnZSBmb3Igd29ya2VyIG9mIGltYWdlIG1vZGVyYXRpb24gc2VydmljZTogXCIpLEpTT04uc3RyaW5naWZ5KGUpKX1yZXR1cm4gcH17Y29uc3QgdD10aGlzLnF1YWxpdHkqdGhpcy5fcXVhbGl0eVJhdGlvO3JldHVybiB0aGlzLnF1YWxpdHk9dCxhd2FpdCB0aGlzLmdlbmVyYXRlUmVxdWVzdERhdGEoZSx7YXBwSWQ6aSxjbmFtZTpuLGNpZDpyLHZpZDpvLHNpZDpzLHVpZDphfSl9fWNsb3NlKCl7dGhpcy5fY2FuY2VsVG9rZW5Tb3VyY2UuY2FuY2VsKCksdGhpcy5fY2FuY2VsVG9rZW5Tb3VyY2U9RUkuQ2FuY2VsVG9rZW4uc291cmNlKCksdGhpcy5fd29ya2VyQ29ubmVjdGlvbiYmdGhpcy5fd29ya2VyQ29ubmVjdGlvbi5jbG9zZSgpLHRoaXMuX21vZGVyYXRpb25UaW1lciYmd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5fbW9kZXJhdGlvblRpbWVyKSx0aGlzLl9tb2RlcmF0aW9uVGltZXI9bnVsbCx0aGlzLl91cGxvYWRUaW1lciYmd2luZG93LmNsZWFyVGltZW91dCh0aGlzLl91cGxvYWRUaW1lciksdGhpcy5fdXBsb2FkVGltZXI9bnVsbCx0aGlzLmNvbm5lY3Rpb25TdGF0ZT1udy5DTE9TRUQsdGhpcy5lbWl0KHJ3LlNUQVRFX0NIQU5HRSxvdy5DTE9TRUQpfX1mdW5jdGlvbiBPQihlKXtpZihhdihlLmludGVydmFsLFwiaW50ZXJ2YWxcIiwxZTMsMS8wKSxlJiZlLmV4dHJhSW5mbyYmZS5leHRyYUluZm8ubGVuZ3RoPjEwMjQpdGhyb3cgbmV3IFNiKG52LklOVkFMSURfUEFSQU1TLFwiY29uZmlnLmV4dHJhSW5mbyBsZW5ndGggY2Fubm90IGV4Y2VlZCAxMDI0IGJ5dGVzXCIpO2lmKGUmJmUudmVuZG9yJiZlLnZlbmRvci5sZW5ndGg+MTAyNCl0aHJvdyBuZXcgU2IobnYuSU5WQUxJRF9QQVJBTVMsXCJjb25maWcudmVuZG9yIGxlbmd0aCBjYW5ub3QgZXhjZWVkIDEwMjQgYnl0ZXNcIil9Y29uc3QgTkI9e25hbWU6XCJJbWFnZU1vZGVyYXRpb25cIixjcmVhdGU6ZnVuY3Rpb24oZSl7bGV0e2NvbmZpZzp0fT1lO3JldHVybiBPQih0KSxuZXcgd0IodCl9fTt2YXIgREIsUEIsTEIsa0IsTUIsVUIseEIsVkIsRkIsQkIsakIsR0IsV0IsSEIsS0IsWUIscUIsekIsSkIsWEIsUUIsWkIsJEIsZWosdGosaWosbmoscmosb2osc2osYWosY2osZGosbGosdWosaGoscGosX2osRWosbWosZmo7ZnVuY3Rpb24gVGooZSx0KXt2YXIgaT1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihuPW4uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLGkucHVzaC5hcHBseShpLG4pfXJldHVybiBpfWZ1bmN0aW9uIFNqKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBpPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP1RqKE9iamVjdChpKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7b2coZSx0LGlbdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoaSkpOlRqKE9iamVjdChpKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGksdCkpfSkpfXJldHVybiBlfWh5LnNldExvZ2dlcihReSk7bGV0IGdqPShEQj1vQSgpLFBCPW9BKHthcmdzTWFwOihlLHQpPT57aWYoIUFycmF5LmlzQXJyYXkodCkpe2lmKCEodCBpbnN0YW5jZW9mIGJQKSlyZXR1cm5bdF07dD1bdF19cmV0dXJuIHQubWFwKChlPT5lP09iamVjdChlKS50b1N0cmluZygpOlwibnVsbFwiKSl9fSksTEI9b0Eoe2FyZ3NNYXA6KGUsdCk9Pih0fHwodD1bXSksQXJyYXkuaXNBcnJheSh0KXx8dC50cmFja01lZGlhVHlwZSE9PWFQLkRBVEE/KEFycmF5LmlzQXJyYXkodCl8fCh0PVt0XSksdC5tYXAoKGU9PmUuZ2V0VHJhY2tJZCgpKSkpOlt0LmdldENoYW5uZWxJZCgpXSl9KSxrQj1vQSh7YXJnc01hcDooZSx0LGksbik9PltcIm9iamVjdFwiPT10eXBlb2YgdD90LnVpZDp0LGksbl19KSxNQj1vQSh7YXJnc01hcDooZSx0LGkpPT5bdCxpXX0pLFVCPW9BKHthcmdzTWFwOihlLHQpPT50Lm1hcCgoZT0+e2xldHt1c2VyOnQsbWVkaWFUeXBlOml9PWU7cmV0dXJuW251bGw9PXQ/dm9pZCAwOnQudWlkLGldfSkpfSkseEI9b0Eoe2FyZ3NNYXA6KGUsdCxpLG4pPT5bXCJvYmplY3RcIj09dHlwZW9mIHQ/dC51aWQ6dCxpLG5dfSksVkI9b0Eoe2FyZ3NNYXA6KGUsdCk9PnQubWFwKChlPT57bGV0e3VzZXI6dCxtZWRpYVR5cGU6aX09ZTtyZXR1cm57dWlkOm51bGw9PXQ/dm9pZCAwOnQudWlkLG1lZGlhVHlwZTppfX0pKX0pLEZCPW9BKCksQkI9b0EoKSxqQj1vQSgpLEdCPW9BKCksV0I9b0EoKSxIQj1vQSgpLEtCPW9BKCksWUI9b0EoKSxxQj1vQSgpLHpCPW9BKCksSkI9b0EoKSxYQj1vQSgpLFFCPW9BKCksWkI9b0EoKSwkQj1vQSh7YXJnc01hcDooZSx0KT0+W3RdfSksZWo9b0EoKSx0aj1vQSgpLGlqPW9BKCksbmo9b0EoKSxyaj1vQSgpLG9qPW9BKCksc2o9b0EoKSxhaj1vQSgpLGNqPW9BKHthcmdzTWFwOihlLHQpPT4oQXJyYXkuaXNBcnJheSh0KXx8KHQ9W3RdKSxbSlNPTi5zdHJpbmdpZnkodCldKX0pLGRqPW9BKCksbGo9b0EoKSx1aj1vQSgpLGhqPW9BKCkscGo9b0EoKSxfaj1vQSgpLEVqPW9BKHtyZXBvcnRSZXN1bHQ6ITB9KSxtaj1vQSgpLGZqPWNsYXNzIGV4dGVuZHMgU3Z7Z2V0IGNvbm5lY3Rpb25TdGF0ZSgpe3JldHVybiB0aGlzLl9nYXRld2F5LnN0YXRlfWdldCByZW1vdGVVc2Vycygpe3JldHVybiB0aGlzLl91c2Vyc31nZXQgbG9jYWxUcmFja3MoKXtyZXR1cm4gdGhpcy5fcDJwQ2hhbm5lbC5nZXRBbGxUcmFja3MoITApfWdldCB1aWQoKXtyZXR1cm4gdGhpcy5fdWlkfWdldCBjaGFubmVsTmFtZSgpe3JldHVybiB0aGlzLl9jaGFubmVsTmFtZX1nZXQgbG9jYWxEYXRhQ2hhbm5lbHMoKXtyZXR1cm4gdGhpcy5fcDJwQ2hhbm5lbC5nZXRBbGxEYXRhQ2hhbm5lbHMoKX1nZXQgbW9kZSgpe3JldHVybiB0aGlzLl9jb25maWcubW9kZX1nZXQgcm9sZSgpe3ZhciBlO3JldHVybihudWxsPT09KGU9dGhpcy5fY29uZmlnKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5yb2xlKXx8XCJhdWRpZW5jZVwifWdldCBjb2RlYygpe3JldHVybiB0aGlzLl9jb25maWcuY29kZWN9Z2V0IGF1ZGlvQ29kZWMoKXtyZXR1cm4gdGhpcy5fY29uZmlnLmF1ZGlvQ29kZWN8fFwib3B1c1wifWdldCBpc1N0cmluZ1VJRCgpe3JldHVybiEhdGhpcy5fam9pbkluZm8mJiEhdGhpcy5fam9pbkluZm8uc3RyaW5nVWlkfWdldCBfX2NsYXNzTmFtZV9fKCl7cmV0dXJuXCJDbGllbnRcIn1jb25zdHJ1Y3RvcihlKXtsZXQgdDtpZihzdXBlcigpLG9nKHRoaXMsXCJzdG9yZVwiLHZvaWQgMCksb2codGhpcyxcIl91aWRcIix2b2lkIDApLG9nKHRoaXMsXCJfY2hhbm5lbE5hbWVcIix2b2lkIDApLG9nKHRoaXMsXCJfdWludFVpZFwiLHZvaWQgMCksb2codGhpcyxcIl91c2Vyc1wiLFtdKSxvZyh0aGlzLFwiX2NvbmZpZ1wiLHZvaWQgMCksb2codGhpcyxcIl9jbGllbnRJZFwiLHZvaWQgMCksb2codGhpcyxcIl9hcHBJZFwiLHZvaWQgMCksb2codGhpcyxcIl9zZXNzaW9uSWRcIixudWxsKSxvZyh0aGlzLFwiX2tleVwiLHZvaWQgMCksb2codGhpcyxcIl9ydG1Db25maWdcIix7fSksb2codGhpcyxcIl9qb2luSW5mb1wiLHZvaWQgMCksb2codGhpcyxcIl9nYXRld2F5XCIsdm9pZCAwKSxvZyh0aGlzLFwiX3N0YXRzQ29sbGVjdG9yXCIsdm9pZCAwKSxvZyh0aGlzLFwiX2NvbmZpZ0Rpc3RyaWJ1dGVcIix2b2lkIDApLG9nKHRoaXMsXCJfbGVhdmVNdXRleFwiLG5ldyBoeShcImNsaWVudC1sZWF2ZVwiKSksb2codGhpcyxcIl9wdWJsaXNoTXV0ZXhcIixuZXcgaHkoXCJjbGllbnQtcHVibGlzaFwiKSksb2codGhpcyxcIl9yZW5ld1Rva2VuTXV0ZXhcIixuZXcgaHkoXCJjbGllbnQtcmVuZXd0b2tlblwiKSksb2codGhpcyxcIl9zdWJzY3JpYmVNdXRleFwiLG5ldyBoeShcImNsaWVudC1zdWJzY3JpYmVcIikpLG9nKHRoaXMsXCJfZW5jcnlwdGlvbk1vZGVcIixcIm5vbmVcIiksb2codGhpcyxcIl9lbmNyeXB0aW9uU2VjcmV0XCIsbnVsbCksb2codGhpcyxcIl9lbmNyeXB0aW9uU2FsdFwiLG51bGwpLG9nKHRoaXMsXCJfZW5jcnlwdERhdGFTdHJlYW1cIiwhMSksb2codGhpcyxcIl9lbmNyeXB0RGF0YVN0cmVhbUtleVwiLG51bGwpLG9nKHRoaXMsXCJfZW5jcnlwdERhdGFTdHJlYW1JdlwiLG51bGwpLG9nKHRoaXMsXCJfcHJveHlTZXJ2ZXJcIix2b2lkIDApLG9nKHRoaXMsXCJfdHVyblNlcnZlclwiLHtzZXJ2ZXJzOltdLG1vZGU6XCJhdXRvXCJ9KSxvZyh0aGlzLFwiX2Nsb3VkUHJveHlTZXJ2ZXJNb2RlXCIsXCJkaXNhYmxlZFwiKSxvZyh0aGlzLFwiX2lzRHVhbFN0cmVhbUVuYWJsZWRcIiwhMSksb2codGhpcyxcIl9kZWZhdWx0U3RyZWFtRmFsbGJhY2tUeXBlXCIsdm9pZCAwKSxvZyh0aGlzLFwiX2xvd1N0cmVhbVBhcmFtZXRlclwiLHZvaWQgMCksb2codGhpcyxcIl9zdHJlYW1GYWxsYmFja1R5cGVDYWNoZU1hcFwiLG5ldyBNYXApLG9nKHRoaXMsXCJfcmVtb3RlU3RyZWFtVHlwZUNhY2hlTWFwXCIsbmV3IE1hcCksb2codGhpcyxcIl9heGlvc0NhbmNlbFNvdXJjZVwiLEVJLkNhbmNlbFRva2VuLnNvdXJjZSgpKSxvZyh0aGlzLFwiX2F1ZGlvVm9sdW1lSW5kaWNhdGlvbkludGVydmFsXCIsdm9pZCAwKSxvZyh0aGlzLFwiX25ldHdvcmtRdWFsaXR5SW50ZXJ2YWxcIix2b2lkIDApLG9nKHRoaXMsXCJfdXNlck9mZmxpbmVUaW1lb3V0XCIsdm9pZCAwKSxvZyh0aGlzLFwiX3N0cmVhbVJlbW92ZWRUaW1lb3V0XCIsdm9pZCAwKSxvZyh0aGlzLFwiX2xpdmVUcmFuc2NvZGVTdHJlYW1pbmdDbGllbnRcIix2b2lkIDApLG9nKHRoaXMsXCJfbGl2ZVJhd1N0cmVhbWluZ0NsaWVudFwiLHZvaWQgMCksb2codGhpcyxcIl9jaGFubmVsTWVkaWFSZWxheUNsaWVudFwiLHZvaWQgMCksb2codGhpcyxcIl9uZXR3b3JrUXVhbGl0eVNlbnNpdGl2aXR5XCIsXCJub3JtYWxcIiksb2codGhpcyxcIl9wMnBDaGFubmVsXCIsdm9pZCAwKSxvZyh0aGlzLFwiX3VzZUxvY2FsQWNjZXNzUG9pbnRcIiwhMSksb2codGhpcyxcIl9zZXRMb2NhbEFQVmVyc2lvblwiLHZvaWQgMCksb2codGhpcyxcIl9qb2luQW5kTm90TGVhdmVZZXRcIiwhMSksb2codGhpcyxcIl9udW1iZXJPZkpvaW5Db3VudFwiLDApLG9nKHRoaXMsXCJfcmVtb3RlRGVmYXVsdFZpZGVvU3RyZWFtVHlwZVwiLHZvaWQgMCksb2codGhpcyxcIl9pbnNwZWN0XCIsdm9pZCAwKSxvZyh0aGlzLFwiX21vZGVyYXRpb25cIix2b2lkIDApLG9nKHRoaXMsXCJfbGljZW5zZVwiLHZvaWQgMCksb2codGhpcyxcIl9wZW5kaW5nUHVibGlzaGVkVXNlcnNcIixbXSksb2codGhpcyxcIm50cEFsaWduRXJyb3JDb3VudFwiLDApLG9nKHRoaXMsXCJyZW1vdGVJbmJvdW5kT2Zmc2V0XCIsMCksb2codGhpcyxcIl9oYW5kbGVMb2NhbFRyYWNrRW5hYmxlXCIsKChlLHQsaSk9Pnt0aGlzLnB1Ymxpc2goZSwhMSkudGhlbih0KS5jYXRjaChpKX0pKSxvZyh0aGlzLFwiX2hhbmRsZUxvY2FsVHJhY2tEaXNhYmxlXCIsKChlLHQsaSk9Pnt0aGlzLnVucHVibGlzaChlKS50aGVuKHQpLmNhdGNoKGkpfSkpLG9nKHRoaXMsXCJfaGFuZGxlVXNlck9ubGluZVwiLChlPT57aWYoRHkoXCJCTE9DS19MT0NBTF9DTElFTlRcIikmJnVBKGUudWlkLHRoaXMuY2hhbm5lbE5hbWUpKXJldHVybiB2b2lkIFF5LmRlYnVnKFwiW1wiLmNvbmNhdChlLnVpZCxcIl0gd2lsbCBiZSBpZ25vcmVkIGluIGxvY2FsXCIpKTt0aGlzLmlzU3RyaW5nVUlEJiZcInN0cmluZ1wiIT10eXBlb2YgZS51aWQmJlF5LmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gU3RyaW5nVUlEIGlzIE1peGVkIHdpdGggVWludFVJRFwiKSk7Y29uc3QgdD10aGlzLl91c2Vycy5maW5kKCh0PT50LnVpZD09PWUudWlkKSk7aWYodCl0Ll90cnVzdF9pbl9yb29tXz0hMCx0Ll9pc19wcmVfY3JlYXRlZCYmKHQuX2lzX3ByZV9jcmVhdGVkPSExLHRoaXMuc2FmZUVtaXQoTnYuVVNFUl9KT0lORUQsdCkpO2Vsc2V7Y29uc3QgdD1uZXcgaVYoZS51aWQsZS51aW50X2lkfHxlLnVpZCk7dGhpcy5fdXNlcnMucHVzaCh0KSxReS5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHVzZXIgb25saW5lXCIpLGUudWlkKSx0aGlzLnNhZmVFbWl0KE52LlVTRVJfSk9JTkVELHQpfX0pKSxvZyh0aGlzLFwiX2hhbmRsZVVzZXJPZmZsaW5lXCIsKGU9PntpZihEeShcIkJMT0NLX0xPQ0FMX0NMSUVOVFwiKSYmdUEoZS51aWQsdGhpcy5jaGFubmVsTmFtZSkpcmV0dXJuO2NvbnN0IHQ9dGhpcy5fdXNlcnMuZmluZCgodD0+dC51aWQ9PT1lLnVpZCkpO3QmJih0aGlzLl9oYW5kbGVSZW1vdmVTdHJlYW0oZSksdGhpcy5faGFuZGxlUmVtb3ZlRGF0YUNoYW5uZWxzKGUpLHQuX2F1ZGlvX3ByZV9zdWJzY3JpYmVkfHx0Ll92aWRlb19wcmVfc3Vic2NyaWJlZD90Ll9pc19wcmVfY3JlYXRlZD0hMDpGdih0aGlzLl91c2Vycyx0KSx0aGlzLl9yZW1vdGVTdHJlYW1UeXBlQ2FjaGVNYXAuZGVsZXRlKHQudWlkKSx0aGlzLl9zdHJlYW1GYWxsYmFja1R5cGVDYWNoZU1hcC5kZWxldGUodC51aWQpLFF5LmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gdXNlciBvZmZsaW5lXCIpLGUudWlkLFwicmVhc29uOlwiLGUucmVhc29uKSx0aGlzLnNhZmVFbWl0KE52LlVTRVJfTEVBVkVELHQsZS5yZWFzb24pKX0pKSxvZyh0aGlzLFwiX2hhbmRsZUFkZEF1ZGlvT3JWaWRlb1N0cmVhbVwiLCgoZSx0LGksbixyLG8scyk9PntpZihEeShcIkJMT0NLX0xPQ0FMX0NMSUVOVFwiKSYmdUEodCx0aGlzLmNoYW5uZWxOYW1lKSlyZXR1cm47Y29uc3QgYT10aGlzLl91c2Vycy5maW5kKChlPT5lLnVpZD09PXQpKTtpZighYSlyZXR1cm4gdm9pZCBReS5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGNhbiBub3QgZmluZCB0YXJnZXQgdXNlciEob25fYWRkX3N0cmVhbSlcIikpO1F5LmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gc3RyZWFtIGFkZGVkIHdpdGggdWlkIFwiKS5jb25jYXQodCxcIiwgdHlwZSBcIikuY29uY2F0KGUpKSx0aGlzLnN0b3JlLnN1YnNjcmliZShhLnVpZCxlLHZvaWQgMCx2b2lkIDAsdm9pZCAwLERhdGUubm93KCkpO2NvbnN0IGM9XCJhdWRpb1wiPT09ZT9hLmhhc0F1ZGlvOmEuaGFzVmlkZW87YS5fdWludGlkfHwoYS5fdWludGlkPXJ8fHQpLFwiYXVkaW9cIj09PWU/YS5fdHJ1c3RfYXVkaW9fc3RyZWFtX2FkZGVkX3N0YXRlXz0hMDphLl90cnVzdF92aWRlb19zdHJlYW1fYWRkZWRfc3RhdGVfPSEwLFwiYXVkaW9cIj09PWU/KGEuX2F1ZGlvX2FkZGVkXz0hMCx2b2lkIDAhPT1pJiYoYS5fYXVkaW9TU1JDPWkpLHZvaWQgMCE9PW4mJihhLl9jbmFtZT1uKSxvJiYoYS5fYXVkaW9PcnRjPW8pKTooYS5fdmlkZW9fYWRkZWRfPSEwLHZvaWQgMCE9PWkmJihhLl92aWRlb1NTUkM9aSksdm9pZCAwIT09biYmKGEuX2NuYW1lPW4pLHZvaWQgMCE9PXMmJihhLl9ydHhTc3JjSWQ9cyksbyYmKGEuX3ZpZGVvT3J0Yz1vKSksKFwiYXVkaW9cIj09PWU/YS5oYXNBdWRpbzphLmhhc1ZpZGVvKSYmIWMmJihReS5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gcmVtb3RlIHVzZXIgXCIpLmNvbmNhdChhLnVpZCxcIiBwdWJsaXNoZWQgXCIpLmNvbmNhdChlKSksdGhpcy5zYWZlRW1pdChOdi5VU0VSX1BVQkxJU0hFRCxhLGUpKSxcInZpZGVvXCI9PT1lP3NBLm9uR2F0ZXdheVN0cmVhbSh0aGlzLl9zZXNzaW9uSWQsdEEuT05fQUREX1ZJREVPX1NUUkVBTSxpQS5PTl9BRERfVklERU9fU1RSRUFNLHtwZWVyOnJ8fHQsc3NyYzphLl92aWRlb1NTUkN9KTpzQS5vbkdhdGV3YXlTdHJlYW0odGhpcy5fc2Vzc2lvbklkLHRBLk9OX0FERF9BVURJT19TVFJFQU0saUEuT05fQUREX0FVRElPX1NUUkVBTSx7cGVlcjpyfHx0LHNzcmM6YS5fYXVkaW9TU1JDfSksdGhpcy5fcDJwQ2hhbm5lbC5yZW1vdGVNZWRpYVNzcmNDaGFuZ2VkKGEsZSxpKS50aGVuKCh0PT57aWYodCYmKFF5LmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gcmVzdWJzY3JpYmUgXCIpLmNvbmNhdChlLFwiIGZvciB1c2VyIFwiKS5jb25jYXQoYS51aWQsXCIgYWZ0ZXIgcmVqb2luIGJlY2F1c2UgU1NSQyBpZCBjaGFuZ2VkLlwiKSksdGhpcy5fcDJwQ2hhbm5lbCBpbnN0YW5jZW9mIGhGKSlyZXR1cm4gdGhpcy5fcDJwQ2hhbm5lbC51bnN1YnNjcmliZShhLGUsITApLnRoZW4oKCgpPT50aGlzLl9zdWJzY3JpYmUoYSxlLCEwKS5jYXRjaCgoZT0+e1F5LmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gcmVzdWJzY3JpYmUgZXJyb3JcIiksZS50b1N0cmluZygpKX0pKSkpfSkpLHRoaXMuX3AycENoYW5uZWwuaGFzUGVuZGluZ1JlbW90ZU1lZGlhKGEsZSkmJihReS5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHJlc3Vic2NyaWJlIFwiKS5jb25jYXQoZSxcIiBmb3IgdXNlciBcIikuY29uY2F0KGEudWlkLFwiIGFmdGVyIHJlY29ubmVjdC5cIikpLHRoaXMuX3N1YnNjcmliZShhLGUsITApLmNhdGNoKChlPT57UXkuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSByZXN1YnNjcmliZSBlcnJvclwiKSxlLnRvU3RyaW5nKCkpfSkpKX0pKSxvZyh0aGlzLFwiX2hhbmRsZVJlbW92ZVN0cmVhbVwiLChlPT57aWYoRHkoXCJCTE9DS19MT0NBTF9DTElFTlRcIikmJnVBKGUudWlkLHRoaXMuY2hhbm5lbE5hbWUpKXJldHVybjtjb25zdCB0PXRoaXMuX3VzZXJzLmZpbmQoKHQ9PnQudWlkPT09ZS51aWQpKTtpZighdClyZXR1cm4gdm9pZCBReS53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gY2FuIG5vdCBmaW5kIHRhcmdldCB1c2VyIShvbl9yZW1vdmVfc3RyZWFtKVwiKSk7UXkuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBzdHJlYW0gcmVtb3ZlZCB3aXRoIHVpZCBcIikuY29uY2F0KGUudWlkKSk7bGV0IGk9KCk9Pnt9O3QuaGFzQXVkaW8mJnQuaGFzVmlkZW8/aT0oKT0+e1F5LmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSByZW1vdGUgdXNlciBcIikuY29uY2F0KHQudWlkLFwiIHVucHVibGlzaGVkIGF1ZGlvIHRyYWNrXCIpKSx0aGlzLnNhZmVFbWl0KE52LlVTRVJfVU5QVUJMSVNIRUQsdCxcImF1ZGlvXCIpLFF5LmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSByZW1vdGUgdXNlciBcIikuY29uY2F0KHQudWlkLFwiIHVucHVibGlzaGVkIHZpZGVvIHRyYWNrXCIpKSx0aGlzLnNhZmVFbWl0KE52LlVTRVJfVU5QVUJMSVNIRUQsdCxcInZpZGVvXCIpfTp0Lmhhc1ZpZGVvP2k9KCk9PntReS5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gcmVtb3RlIHVzZXIgXCIpLmNvbmNhdCh0LnVpZCxcIiB1bnB1Ymxpc2hlZCB2aWRlbyB0cmFja1wiKSksdGhpcy5zYWZlRW1pdChOdi5VU0VSX1VOUFVCTElTSEVELHQsXCJ2aWRlb1wiKX06dC5oYXNBdWRpbyYmKGk9KCk9PntReS5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gcmVtb3RlIHVzZXIgXCIpLmNvbmNhdCh0LnVpZCxcIiB1bnB1Ymxpc2hlZCBhdWRpbyB0cmFja1wiKSksdGhpcy5zYWZlRW1pdChOdi5VU0VSX1VOUFVCTElTSEVELHQsXCJhdWRpb1wiKX0pLHQuX3ZpZGVvX3ByZV9zdWJzY3JpYmVkfHx0Ll9hdWRpb19wcmVfc3Vic2NyaWJlZHx8KHQuX3RydXN0X2F1ZGlvX3N0cmVhbV9hZGRlZF9zdGF0ZV89ITAsdC5fdHJ1c3RfdmlkZW9fc3RyZWFtX2FkZGVkX3N0YXRlXz0hMCx0Ll9hdWRpb19hZGRlZF89ITEsdC5fdmlkZW9fYWRkZWRfPSExLHRoaXMuX3AycENoYW5uZWwgaW5zdGFuY2VvZiBoRiYmdGhpcy5fcDJwQ2hhbm5lbC51bnN1YnNjcmliZSh0KS50aGVuKChlPT57aWYoZSlyZXR1cm4gdGhpcy5fZ2F0ZXdheS51bnN1YnNjcmliZShlLHQudWlkKX0pKSx0Ll9hdWRpb1NTUkM9dm9pZCAwLHQuX3ZpZGVvU1NSQz12b2lkIDAsdC5fYXVkaW9PcnRjPXZvaWQgMCx0Ll92aWRlb09ydGM9dm9pZCAwLHQuX3J0eFNzcmNJZD12b2lkIDApLHNBLm9uR2F0ZXdheVN0cmVhbSh0aGlzLl9zZXNzaW9uSWQsdEEuT05fUkVNT1ZFX1NUUkVBTSxpQS5PTl9SRU1PVkVfU1RSRUFNLHtwZWVyOmUudWludF9pZHx8ZS51aWR9KSxpKCl9KSksb2codGhpcyxcIl9oYW5kbGVTZXRTdHJlYW1Mb2NhbEVuYWJsZVwiLCgoZSx0LGkpPT57aWYoRHkoXCJCTE9DS19MT0NBTF9DTElFTlRcIikmJnVBKHQsdGhpcy5jaGFubmVsTmFtZSkpcmV0dXJuO2NvbnN0IG49dGhpcy5fdXNlcnMuZmluZCgoZT0+ZS51aWQ9PT10KSk7aWYoIW4pcmV0dXJuIHZvaWQgUXkuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBjYW4gbm90IGZpbmQgdGFyZ2V0IHVzZXIhKGRpc2FibGVfbG9jYWwpXCIpKTtReS5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGxvY2FsIFwiKS5jb25jYXQoZSxcIiBcIikuY29uY2F0KGk/XCJlbmFibGVkXCI6XCJkaXNhYmxlZFwiLFwiIHdpdGggdWlkIFwiKS5jb25jYXQodCkpO2NvbnN0IHI9XCJhdWRpb1wiPT09ZT9uLmhhc0F1ZGlvOm4uaGFzVmlkZW87aWYoXCJhdWRpb1wiPT09ZSl7bi5fdHJ1c3RfYXVkaW9fZW5hYmxlZF9zdGF0ZV89ITA7Y29uc3QgZT1uLl9hdWRpb19lbmFibGVkXztpZihuLl9hdWRpb19lbmFibGVkXz1pLG4uX2F1ZGlvX2VuYWJsZWRfPT09ZSlyZXR1cm47e2NvbnN0IGU9bi5fYXVkaW9fZW5hYmxlZF8/XCJlbmFibGUtbG9jYWwtYXVkaW9cIjpcImRpc2FibGUtbG9jYWwtYXVkaW9cIjtReS5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHVzZXItaW5mby11cGRhdGVkLCB1aWQ6IFwiKS5jb25jYXQodCxcIiwgbXNnOiBcIikuY29uY2F0KGUpKSx0aGlzLnNhZmVFbWl0KE52LlVTRVJfSU5GT19VUERBVEVELHQsZSl9fWVsc2V7bi5fdHJ1c3RfdmlkZW9fZW5hYmxlZF9zdGF0ZV89ITA7Y29uc3QgZT1uLl92aWRlb19lbmFibGVkXztpZihuLl92aWRlb19lbmFibGVkXz1pLG4uX3ZpZGVvX2VuYWJsZWRfPT09ZSlyZXR1cm47e2NvbnN0IGU9bi5fdmlkZW9fZW5hYmxlZF8/XCJlbmFibGUtbG9jYWwtdmlkZW9cIjpcImRpc2FibGUtbG9jYWwtdmlkZW9cIjtReS5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHVzZXItaW5mby11cGRhdGUsIHVpZDogXCIpLmNvbmNhdCh0LFwiLCBtc2c6IFwiKS5jb25jYXQoZSkpLHRoaXMuc2FmZUVtaXQoTnYuVVNFUl9JTkZPX1VQREFURUQsdCxlKX19Y29uc3Qgbz1cImF1ZGlvXCI9PT1lP24uaGFzQXVkaW86bi5oYXNWaWRlbztyZXR1cm4gciE9PW8/IXImJm8/KFF5LmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSByZW1vdGUgdXNlciBcIikuY29uY2F0KHQsXCIgcHVibGlzaGVkIFwiKS5jb25jYXQoZSkpLHZvaWQgdGhpcy5zYWZlRW1pdChOdi5VU0VSX1BVQkxJU0hFRCxuLGUpKTooXCJ2aWRlb1wiPT09ZSYmbi5fdmlkZW9UcmFjayYmbi5fdmlkZW9UcmFjay5fZGVzdHJveSgpLFwiYXVkaW9cIj09PWUmJm4uX2F1ZGlvVHJhY2ssdGhpcy5fcDJwQ2hhbm5lbC5tdXRlUmVtb3RlKG4sZSksUXkuaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHJlbW90ZSB1c2VyIFwiKS5jb25jYXQodCxcIiB1bnB1Ymxpc2hlZCBcIikuY29uY2F0KGUpKSx2b2lkIHRoaXMuc2FmZUVtaXQoTnYuVVNFUl9VTlBVQkxJU0hFRCxuLGUpKTp2b2lkIDB9KSksb2codGhpcyxcIl9oYW5kbGVNdXRlU3RyZWFtXCIsKChlLHQsaSk9PntpZihEeShcIkJMT0NLX0xPQ0FMX0NMSUVOVFwiKSYmdUEoZSx0aGlzLmNoYW5uZWxOYW1lKSlyZXR1cm47UXkuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSByZWNlaXZlIG11dGUgbWVzc2FnZVwiKSxlLHQsaSk7Y29uc3Qgbj10aGlzLl91c2Vycy5maW5kKCh0PT50LnVpZD09PWUpKTtpZighbilyZXR1cm4gdm9pZCBReS53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gY2FuIG5vdCBmaW5kIHJlbW90ZSB1c2VyLCBpZ25vcmUgbXV0ZSBldmVudCwgdWlkOiBcIikuY29uY2F0KGUpKTtjb25zdCByPVwiYXVkaW9cIj09PXQ/bi5oYXNBdWRpbzpuLmhhc1ZpZGVvO2lmKFwiYXVkaW9cIj09PXQpe24uX3RydXN0X2F1ZGlvX211dGVfc3RhdGVfPSEwO2NvbnN0IHQ9bi5fYXVkaW9fbXV0ZWRfO2lmKG4uX2F1ZGlvX211dGVkXz1pLG4uX2F1ZGlvX211dGVkXz09PXQpcmV0dXJuO3tjb25zdCB0PW4uX2F1ZGlvX211dGVkXz9cIm11dGUtYXVkaW9cIjpcInVubXV0ZS1hdWRpb1wiO1F5LmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gdXNlci1pbmZvLXVwZGF0ZSwgdWlkOiBcIikuY29uY2F0KGUsXCIsIG1zZzogXCIpLmNvbmNhdCh0KSksdGhpcy5zYWZlRW1pdChOdi5VU0VSX0lORk9fVVBEQVRFRCxlLHQpfX1lbHNle24uX3RydXN0X3ZpZGVvX211dGVfc3RhdGVfPSEwO2NvbnN0IHQ9bi5fdmlkZW9fbXV0ZWRfO2lmKG4uX3ZpZGVvX211dGVkXz1pLG4uX3ZpZGVvX211dGVkXz09PXQpcmV0dXJuO3tjb25zdCB0PW4uX3ZpZGVvX211dGVkXz9cIm11dGUtdmlkZW9cIjpcInVubXV0ZS12aWRlb1wiO1F5LmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gdXNlci1pbmZvLXVwZGF0ZSwgdWlkOiBcIikuY29uY2F0KGUsXCIsIG1zZzogXCIpLmNvbmNhdCh0KSksdGhpcy5zYWZlRW1pdChOdi5VU0VSX0lORk9fVVBEQVRFRCxlLHQpfX1jb25zdCBvPVwiYXVkaW9cIj09PXQ/bi5oYXNBdWRpbzpuLmhhc1ZpZGVvO2lmKHIhPT1vKXtpZighciYmbyl7cmV0dXJuKFwiYXVkaW9cIj09PXQ/bi5fYXVkaW9TU1JDOm4uX3ZpZGVvU1NSQyk/KFF5LmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSByZW1vdGUgdXNlciBcIikuY29uY2F0KGUsXCIgcHVibGlzaGVkIFwiKS5jb25jYXQodCkpLHZvaWQgdGhpcy5zYWZlRW1pdChOdi5VU0VSX1BVQkxJU0hFRCxuLHQpKTp2b2lkIFF5Lndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSByZW1vdGUgdXNlciBcIikuY29uY2F0KGUsXCIgcmVjZWl2ZSBcIikuY29uY2F0KHQsXCIgdW5tdXRlIG1lc3NhZ2UgIGJlZm9yZSBhZGQgc3RyZWFtIG1lc3NhZ2UsIFwiKS5jb25jYXQodCxcIiBTU1JDIGRvZXNuJ3QgZXhpc3QgeWV0LlwiKSl9XCJ2aWRlb1wiPT09dCYmbi5fdmlkZW9UcmFjayYmIW4uX3ZpZGVvX3ByZV9zdWJzY3JpYmVkJiZuLl92aWRlb1RyYWNrLl9kZXN0cm95KCksXCJhdWRpb1wiPT09dCYmbi5fYXVkaW9UcmFjayx0aGlzLl9wMnBDaGFubmVsLm11dGVSZW1vdGUobix0KSxReS5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gcmVtb3RlIHVzZXIgXCIpLmNvbmNhdChlLFwiIHVucHVibGlzaGVkIFwiKS5jb25jYXQodCkpLHRoaXMuc2FmZUVtaXQoTnYuVVNFUl9VTlBVQkxJU0hFRCxuLHQpfX0pKSxvZyh0aGlzLFwiX2hhbmRsZVAyUExvc3RcIiwoYXN5bmMgZT0+e1F5LmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gcmVjZWl2ZSBwMnAgbG9zdFwiKSxlKSxwYXJzZUludChlLnAycGlkLDEwKT09PXRoaXMuc3RvcmUucDJwSWQ/YXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC5yZXF1ZXN0UmVjb25uZWN0KCk6UXkud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIFAyUExvc3Qgc3RyZWFtIG5vdCBmb3VuZFwiKSxlKX0pKSxvZyh0aGlzLFwiX2hhbmRsZVRva2VuV2lsbEV4cGlyZVwiLCgoKT0+e1F5LmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gcmVjZWl2ZWQgbWVzc2FnZSBvblRva2VuUHJpdmlsZWdlV2lsbEV4cGlyZVwiKSksdGhpcy5zYWZlRW1pdChOdi5PTl9UT0tFTl9QUklWSUxFR0VfV0lMTF9FWFBJUkUpfSkpLG9nKHRoaXMsXCJfaGFuZGxlQmVmb3JlVW5sb2FkXCIsKGU9PntcImJlZm9yZXVubG9hZFwiPT09ZS50eXBlJiZ2b2lkIDAhPT1lLnJldHVyblZhbHVlJiZcIlwiIT09ZS5yZXR1cm5WYWx1ZXx8KHRoaXMubGVhdmUoKSxReS5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gYXV0byBsZWF2ZSBvbmJlZm9yZXVubG9hZCBvciBwYWdlaGlkZVwiKSkpfSkpLG9nKHRoaXMsXCJfaGFuZGxlVXBkYXRlTmV0d29ya1F1YWxpdHlcIiwoKCk9PntpZihcIm5vcm1hbFwiPT09dGhpcy5fbmV0d29ya1F1YWxpdHlTZW5zaXRpdml0eSlyZXR1cm47aWYobmF2aWdhdG9yJiZ2b2lkIDAhPT1uYXZpZ2F0b3Iub25MaW5lJiYhbmF2aWdhdG9yLm9uTGluZSlyZXR1cm4gdm9pZCB0aGlzLnNhZmVFbWl0KE52Lk5FVFdPUktfUVVBTElUWSx7ZG93bmxpbmtOZXR3b3JrUXVhbGl0eTo2LHVwbGlua05ldHdvcmtRdWFsaXR5OjZ9KTtjb25zdCBlPXtkb3dubGlua05ldHdvcmtRdWFsaXR5OjAsdXBsaW5rTmV0d29ya1F1YWxpdHk6MH07ZS51cGxpbmtOZXR3b3JrUXVhbGl0eT10aGlzLl9wMnBDaGFubmVsLmdldFVwbGlua05ldHdvcmtRdWFsaXR5KCksZS5kb3dubGlua05ldHdvcmtRdWFsaXR5PXRoaXMuX3AycENoYW5uZWwuZ2V0RG93bmxpbmtOZXR3b3JrUXVhbGl0eSgpLHRoaXMuc2FmZUVtaXQoTnYuTkVUV09SS19RVUFMSVRZLGUpfSkpLG9nKHRoaXMsXCJfaGFuZGxlUDJQQWRkQXVkaW9PclZpZGVvU3RyZWFtXCIsKChlLHQsaSxuKT0+e2NvbnN0IHI9dGhpcy5fdXNlcnMuZmluZCgoZT0+ZS51aWQ9PT10KSk7aWYoIXIpcmV0dXJuIHZvaWQgUXkuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBjYW4gbm90IGZpbmQgdGFyZ2V0IHVzZXIhKG9uX2FkZF9zdHJlYW0pXCIpKTtReS5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHN0cmVhbSBhZGRlZCB3aXRoIHVpZCBcIikuY29uY2F0KHQsXCIsIHR5cGUgXCIpLmNvbmNhdChlKSksdGhpcy5zdG9yZS5zdWJzY3JpYmUoci51aWQsZSx2b2lkIDAsdm9pZCAwLHZvaWQgMCxEYXRlLm5vdygpKTtjb25zdCBvPVwiYXVkaW9cIj09PWU/ci5oYXNBdWRpbzpyLmhhc1ZpZGVvO1wiYXVkaW9cIj09PWU/ci5fdHJ1c3RfYXVkaW9fc3RyZWFtX2FkZGVkX3N0YXRlXz0hMDpyLl90cnVzdF92aWRlb19zdHJlYW1fYWRkZWRfc3RhdGVfPSEwLFwiYXVkaW9cIj09PWU/KHIuX2F1ZGlvX2FkZGVkXz0hMCx2b2lkIDAhPT1pJiYoci5fYXVkaW9TU1JDPWkpLHZvaWQgMCE9PW4mJihyLl9hdWRpb01pZD1uKSk6KHIuX3ZpZGVvX2FkZGVkXz0hMCx2b2lkIDAhPT1pJiYoci5fdmlkZW9TU1JDPWkpLHZvaWQgMCE9PW4mJihyLl92aWRlb01pZD1uKSksKFwiYXVkaW9cIj09PWU/ci5oYXNBdWRpbzpyLmhhc1ZpZGVvKSYmIW8mJihReS5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gcmVtb3RlIHVzZXIgXCIpLmNvbmNhdChyLnVpZCxcIiBwdWJsaXNoZWQgXCIpLmNvbmNhdChlKSksdGhpcy5zYWZlRW1pdChOdi5VU0VSX1BVQkxJU0hFRCxyLGUpKSx0aGlzLl9wMnBDaGFubmVsLmhhc1BlbmRpbmdSZW1vdGVNZWRpYShyLGUpJiYoUXkuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSByZXN1YnNjcmliZSBcIikuY29uY2F0KGUsXCIgZm9yIHVzZXIgXCIpLmNvbmNhdChyLnVpZCxcIiBhZnRlciByZWNvbm5lY3QuXCIpKSx0aGlzLl9zdWJzY3JpYmUocixlLCEwKS5jYXRjaCgoZT0+e1F5LmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gcmVzdWJzY3JpYmUgZXJyb3JcIiksZS50b1N0cmluZygpKX0pKSl9KSksdGhpcy5fY29uZmlnPWUsdGhpcy5fY2xpZW50SWQ9ZXkoNSxcImNsaWVudC1cIiksdGhpcy5zdG9yZT1uZXcga3koZS5jb2RlYyxlLmF1ZGlvQ29kZWMsZS5tb2RlLHRoaXMuX2NsaWVudElkKSx0aGlzLnN0b3JlLmNsaWVudENyZWF0ZWQoKSxlLnByb3h5U2VydmVyJiZ0aGlzLnNldFByb3h5U2VydmVyKGUucHJveHlTZXJ2ZXIsITApLGUudHVyblNlcnZlciYmdGhpcy5zZXRUdXJuU2VydmVyKGUudHVyblNlcnZlciwhMCksUXkuaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIEluaXRpYWxpemluZyBBZ29yYVJUQyBjbGllbnQgdlwiKS5jb25jYXQodnksXCIgYnVpbGQ6IFwiKS5jb25jYXQod3ksXCIsIG1vZGU6IFwiKS5jb25jYXQodGhpcy5tb2RlLFwiLCBjb2RlYzogXCIpLmNvbmNhdCh0aGlzLmNvZGVjKSksZS5jbGllbnRSb2xlT3B0aW9ucyl0cnl7T3YoZS5jbGllbnRSb2xlT3B0aW9ucyksdD1PYmplY3QuYXNzaWduKHt9LGUuY2xpZW50Um9sZU9wdGlvbnMpfWNhdGNoKGUpe1F5Lndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBcIikuY29uY2F0KGUudG9TdHJpbmcoKSkpfXRoaXMuX3N0YXRzQ29sbGVjdG9yPW5ldyB5Vih0aGlzLnN0b3JlKSx0aGlzLl9zdGF0c0NvbGxlY3Rvci5vblN0YXRzRXhjZXB0aW9uPShlLHQsaSk9PntReS5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHJlY2VpdmUgZXhjZXB0aW9uIG1zZywgY29kZTogXCIpLmNvbmNhdChlLFwiLCBtc2c6IFwiKS5jb25jYXQodCxcIiwgdWlkOiBcIikuY29uY2F0KGkpKSx0aGlzLnNhZmVFbWl0KE52LkVYQ0VQVElPTix7Y29kZTplLG1zZzp0LHVpZDppfSl9LHRoaXMuX3N0YXRzQ29sbGVjdG9yLm9uVXBsb2FkUHVibGlzaER1cmF0aW9uPShlLHQsaSxuKT0+e2NvbnN0IHI9dGhpcy5fdXNlcnMuZmluZCgodD0+dC51aWQ9PT1lKSk7ciYmc0EucGVlclB1Ymxpc2hTdGF0dXModGhpcy5fc2Vzc2lvbklkLHtzdWJzY3JpYmVFbGFwc2U6bixhdWRpb1B1Ymxpc2hEdXJhdGlvbjp0LHZpZGVvUHVibGlzaER1cmF0aW9uOmkscGVlcjpyLl91aW50aWR9KX0sdGhpcy5zdG9yZS51c2VQMlA9XCJwMnBcIj09PWUubW9kZSx0aGlzLl9nYXRld2F5PW5ldyBaTSh0aGlzLnN0b3JlLHtjbGllbnRJZDp0aGlzLl9jbGllbnRJZCxtb2RlOnRoaXMubW9kZSxjb2RlYzp0aGlzLmNvZGVjLHdlYnNvY2tldFJldHJ5Q29uZmlnOmUud2Vic29ja2V0UmV0cnlDb25maWd8fF95LGh0dHBSZXRyeUNvbmZpZzplLmh0dHBSZXRyeUNvbmZpZ3x8X3ksZm9yY2VXYWl0R2F0ZXdheVJlc3BvbnNlOnZvaWQgMD09PWUuZm9yY2VXYWl0R2F0ZXdheVJlc3BvbnNlfHxlLmZvcmNlV2FpdEdhdGV3YXlSZXNwb25zZSxzdGF0c0NvbGxlY3Rvcjp0aGlzLl9zdGF0c0NvbGxlY3Rvcixyb2xlOmUucm9sZSxjbGllbnRSb2xlT3B0aW9uczp0fSksdGhpcy5fY29uZmlnRGlzdHJpYnV0ZT1uZXcgVlUsdGhpcy5zdG9yZS51c2VQMlA/KHRoaXMuX3AycENoYW5uZWw9bmV3IFJWKHRoaXMuc3RvcmUsdGhpcy5fc3RhdHNDb2xsZWN0b3IpLHRoaXMuX2hhbmRsZVAyUEV2ZW50cygpKTp0aGlzLl9wMnBDaGFubmVsPW5ldyBoRih0aGlzLnN0b3JlLHRoaXMuX3N0YXRzQ29sbGVjdG9yKSx0aGlzLl9oYW5kbGVQMlBDaGFubmVsRXZlbnRzKCksdGhpcy5faGFuZGxlR2F0ZXdheUV2ZW50cygpLHRoaXMuX2hhbmRsZUdhdGV3YXlTaWduYWxFdmVudHMoKX1hc3luYyBqb2luTWV0YShlLHQsaSxuLHIpe2xldCBvPSEoYXJndW1lbnRzLmxlbmd0aD41JiZ2b2lkIDAhPT1hcmd1bWVudHNbNV0pfHxhcmd1bWVudHNbNV0scz1hcmd1bWVudHMubGVuZ3RoPjYmJnZvaWQgMCE9PWFyZ3VtZW50c1s2XSYmYXJndW1lbnRzWzZdO055KFwiSk9JTl9HQVRFV0FZX1VTRV80NDNQT1JUX09OTFlcIixvKSxOeShcIkpPSU5fR0FURVdBWV9VU0VfRFVBTF9ET01BSU5cIixzKTtjb25zdCBhPXRoaXMuX2dhdGV3YXkuc2lnbmFsLndlYnNvY2tldDtyZXR1cm4gYSBpbnN0YW5jZW9mIEF3JiYoYS51c2U0NDNQb3J0T25seT1vLGEudHJ5RG91YmxlRG9tYWluPXMpLGFzeW5jIGZ1bmN0aW9uKGUsdCxpKXtUSS5nZXQoZSl8fFRJLnNldChlLFtdKSxTSS5nZXQoZSl8fFNJLnNldChlLHQpLGdJLmdldChlKXx8Z0kuc2V0KGUsMCk7Y29uc3Qgbj1USS5nZXQoZSkscj1TSS5nZXQoZSk7aWYoIW58fCFyKXRocm93IG5ldyBFcnJvcihcImNvbmN1cnJlbnQ6IGRlZmVyUXVldWUgb3IgbWF4Q29uY3VycmVuY3kgaXMgbnVsbFwiKTtpZihnSS5nZXQoZSk9PT1yKXtjb25zdCBlPWZJKCk7bi5wdXNoKGUpLGF3YWl0IGUucHJvbWlzZX1nSS5zZXQoZSxnSS5nZXQoZSkrMSk7Zm9yKHZhciBvPWFyZ3VtZW50cy5sZW5ndGgscz1uZXcgQXJyYXkobz4zP28tMzowKSxhPTM7YTxvO2ErKylzW2EtM109YXJndW1lbnRzW2FdO2NvbnN0IGM9YXdhaXQgaSguLi5zKTtyZXR1cm4gZ0kuc2V0KGUsZ0kuZ2V0KGUpLTEpLGdJLmdldChlKT09PXItMSYmbi5sZW5ndGg+MCYmKG5bMF0ucmVzb2x2ZSgpLG4uc2hpZnQoKSksMD09PWdJLmdldChlKSYmKFRJLnNldChlLFtdKSxTSS5zZXQoZSwwKSxnSS5zZXQoZSwwKSksY30oXCJjbGllbnQuam9pblwiLER5KFwiSk9JTl9NQVhfQ09OQ1VSUkVOQ1lcIiksdGhpcy5qb2luLmJpbmQodGhpcyksZSx0LGksbixyKX1hc3luYyBqb2luKGUsdCxpLG4scil7Y29uc3Qgbz0rK3RoaXMuX251bWJlck9mSm9pbkNvdW50O3RoaXMuc3RvcmUuam9pblN0YXJ0KCksbiYmKHRoaXMuc3RvcmUudWlkPW4pO2NvbnN0IHM9XCJIVFRQU1wiPT09KFR5fHxUeXx8KFR5PSh3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wuc3BsaXQoXCI6XCIpWzBdfHxcIlwiKS50b1VwcGVyQ2FzZSgpLFR5KSksYT1JeSgpP3dpbmRvdy5pc1NlY3VyZUNvbnRleHQ6XCJCcm93c2VyIE5vdCBTdXBwb3J0XCI7aWYoIUl5KCkmJiFzfHwhd2luZG93LmlzU2VjdXJlQ29udGV4dCl7Y29uc3QgZT1cIlRoZSB3ZWJzaXRlIG11c3QgYmUgcnVubmluZyBpbiBhIHNlY3VyZSBjb250ZXh0IChBYm91dCBzZWN1cmUgY29udGV4dDogaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvU2VjdXJpdHkvU2VjdXJlX0NvbnRleHRzICksIG90aGVyd2lzZSB0aGUgbWVkaWEgY29sbGVjdGlvbiB3aWxsIGJlIHJlc3RyaWN0ZWQgYnkgdGhlIGJyb3dzZXJcIjtReS53YXJuaW5nKGUpfVwiRElTQ09OTkVDVEVEXCI9PT10aGlzLmNvbm5lY3Rpb25TdGF0ZSYmKHRoaXMuc3RvcmUuYXZvaWRKb2luU3RhcnQ9TWF0aC5yb3VuZChEYXRlLm5vdygpKSxReS5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHNldCBhdm9pZEpvaW5TdGFydCB0byBcIikuY29uY2F0KHRoaXMuc3RvcmUuYXZvaWRKb2luU3RhcnQpKSksc0Euc2V0QXBwSWQoZSk7dHJ5e2lmKCFpJiZudWxsIT09aSl0aHJvdyBuZXcgU2IobnYuSU5WQUxJRF9QQVJBTVMsXCJJbnZhbGlkIHRva2VuOiBcIi5jb25jYXQoaSxcIi4gSWYgeW91IGRvbiBub3QgdXNlIHRva2VuLCBzZXQgaXQgdG8gbnVsbFwiKSk7aSYmZHYoaSxcInRva2VuXCIsMSwyMDQ3KSxkdihlLFwiYXBwaWRcIiwxLDIwNDcpLGdiKHQpLG4mJlJiKG4pLHImJmR2KHIsXCJvcHRpb25hbEluZm9cIiwxLDIwNDcpfWNhdGNoKHIpe3Rocm93IHNBLnJlcG9ydEFwaUludm9rZSh0eSgpLHtuYW1lOkN2LkpPSU4sb3B0aW9uczpbZSx0LGksbl0sc3RhdGVzOntpc0h0dHBzOnMsaXNTZWN1cmVDb250ZXh0OmF9LHRhZzpJdi5UUkFDRVJ9KS5vbkVycm9yKHIpLHJ9aWYodGhpcy5fbGVhdmVNdXRleC5pc0xvY2tlZCl7UXkuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBqb2luOiB3YWl0aW5nIGxlYXZlIG9wZXJhdGlvblwiKSk7KGF3YWl0IHRoaXMuX2xlYXZlTXV0ZXgubG9jaygpKSgpLFF5LmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gam9pbjogY29udGludWVcIikpfWlmKHRoaXMuX2pvaW5BbmROb3RMZWF2ZVlldD0hMCxcIkRJU0NPTk5FQ1RFRFwiIT09dGhpcy5jb25uZWN0aW9uU3RhdGUpe2NvbnN0IHI9bmV3IFNiKG52LklOVkFMSURfT1BFUkFUSU9OLFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gQ2xpZW50IGFscmVhZHkgaW4gY29ubmVjdGluZy9jb25uZWN0ZWQgc3RhdGVcIikpO3Rocm93IHNBLnJlcG9ydEFwaUludm9rZSh0eSgpLHtuYW1lOkN2LkpPSU4sb3B0aW9uczpbZSx0LGksbl0sc3RhdGVzOntpc0h0dHBzOnMsaXNTZWN1cmVDb250ZXh0OmF9LHRhZzpJdi5UUkFDRVJ9KS5vbkVycm9yKHIpLHJ9dGhpcy5fZ2F0ZXdheS5zdGF0ZT1cIkNPTk5FQ1RJTkdcIjtjb25zdCBjPWF3YWl0IEdGKHthcHBJZDplLGNuYW1lOnQsdWlkOm4sc3RyaW5nVWlkOlwic3RyaW5nXCI9PXR5cGVvZiBuP246dm9pZCAwLHRva2VuOml8fGUsY2xvdWRQcm94eVNlcnZlcjp0aGlzLl9jbG91ZFByb3h5U2VydmVyTW9kZX0pO2lmKCF0aGlzLl9qb2luQW5kTm90TGVhdmVZZXQpdGhyb3cgbmV3IFNiKG52LklOVkFMSURfT1BFUkFUSU9OLFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gQ2xpZW50IGFscmVhZHkgbGVmdFwiKSk7Y29uc3QgZD0obnVsbD09Yz92b2lkIDA6Yy5zaWQpfHx0eSgpO1F5LmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBzdGFydCBqb2luIGNoYW5uZWwgXCIpLmNvbmNhdCh0LFwiLCBqb2luIG51bWJlcjogXCIpLmNvbmNhdChvKSksdGhpcy5fc2Vzc2lvbklkfHwodGhpcy5fc2Vzc2lvbklkPWQsdGhpcy5zdG9yZS5zZXNzaW9uSWQ9dGhpcy5fc2Vzc2lvbklkKTtjb25zdCBsPXNBLnJlcG9ydEFwaUludm9rZShkLHtuYW1lOkN2LkpPSU4sb3B0aW9uczpbZSx0LGksbl0sc3RhdGVzOntpc0h0dHBzOnMsaXNTZWN1cmVDb250ZXh0OmF9LHRhZzpJdi5UUkFDRVJ9KSx1PVNqKFNqKHt9LHRoaXMuX3J0bUNvbmZpZykse30se2NsaWVudElkOnRoaXMuX2NsaWVudElkLGFwcElkOmUsc2lkOnRoaXMuX3Nlc3Npb25JZCxjbmFtZTp0LHVpZDpcInN0cmluZ1wiIT10eXBlb2Ygbj9uOm51bGwsdHVyblNlcnZlcjp0aGlzLl90dXJuU2VydmVyLHByb3h5U2VydmVyOnRoaXMuX3Byb3h5U2VydmVyLHRva2VuOml8fGUsY2xvdWRQcm94eVNlcnZlcjp0aGlzLl9jbG91ZFByb3h5U2VydmVyTW9kZSxvcHRpb25hbEluZm86cixsaWNlbnNlOnRoaXMuX2xpY2Vuc2UsdXNlTG9jYWxBY2Nlc3NQb2ludDp0aGlzLl91c2VMb2NhbEFjY2Vzc1BvaW50LHByZWxvYWQ6ISFjfSx2b2lkIDAhPT10aGlzLl9yZW1vdGVEZWZhdWx0VmlkZW9TdHJlYW1UeXBlJiZ7ZGVmYXVsdFZpZGVvU3RyZWFtOnRoaXMuX3JlbW90ZURlZmF1bHRWaWRlb1N0cmVhbVR5cGV9KTtpZih0aGlzLl91c2VMb2NhbEFjY2Vzc1BvaW50JiYodS5zZXRMb2NhbEFQVmVyc2lvbj10aGlzLl9zZXRMb2NhbEFQVmVyc2lvbiksXCJzdHJpbmdcIj09dHlwZW9mIG4mJih1LnN0cmluZ1VpZD1uLHRoaXMuX3VpbnRVaWQ/KHUudWlkPXRoaXMuX3VpbnRVaWQsdGhpcy5fdWludFVpZD12b2lkIDApOnUudWlkPTApLFwibm9uZVwiIT09dGhpcy5fZW5jcnlwdGlvbk1vZGUmJnRoaXMuX2VuY3J5cHRpb25TZWNyZXQpe2lmKHUuYWVzbW9kZT10aGlzLl9lbmNyeXB0aW9uTW9kZSx1LmFlc3Bhc3N3b3JkPWF3YWl0KGFzeW5jIGU9Pntjb25zdCB0PWZ1bmN0aW9uKGUpe2NvbnN0IHQ9d2luZG93LmF0b2IoXCJNSUdmTUEwR0NTcUdTSWIzRFFFQkFRVUFBNEdOQURDQmlRS0JnUURDTW5YQUhrS0lHQU0reDROMjJnQ0krV3l1XFxuU1RNOXp0a1QzdVlzbFRUMlB1S21aZlB6aEg2a1ZkTzdQVGpHQ09abkFzeWIzb1R0V2F0MEtjeFE0anh2cVFWK1xcbkh2WWwzaUkxWWQ0dmwyYzNxUk1KUEx0UkRmTnhhMk1jeGdxN2U5YUVVaWJ6ZGQwc3QrT0pBeTN0T2ovWTBhVnlcXG54UWlZRHozdnFhNmJQMjlhZHdJREFRQUJcIiksaT1uZXcgVWludDhBcnJheShuZXcgQXJyYXlCdWZmZXIodC5sZW5ndGgpKTtmb3IobGV0IGU9MDtlPHQubGVuZ3RoO2UrPTEpaVtlXT10LmNoYXJDb2RlQXQoZSk7cmV0dXJuIGl9KCksaT1hd2FpdCB3aW5kb3cuY3J5cHRvLnN1YnRsZS5pbXBvcnRLZXkoXCJzcGtpXCIsdCx7bmFtZTpcIlJTQS1PQUVQXCIsaGFzaDpcIlNIQS0yNTZcIn0sITAsW1wiZW5jcnlwdFwiXSksbj1tdihlKSxyPWF3YWl0IHdpbmRvdy5jcnlwdG8uc3VidGxlLmVuY3J5cHQoe25hbWU6XCJSU0EtT0FFUFwifSxpLG4pO3JldHVybiBmdW5jdGlvbihlKXtsZXQgdD1cIlwiO2ZvcihsZXQgaT0wO2k8ZS5sZW5ndGg7aSs9MSl0Kz1TdHJpbmcuZnJvbUNoYXJDb2RlKGVbaV0pO3JldHVybiB3aW5kb3cuYnRvYSh0KX0obmV3IFVpbnQ4QXJyYXkocikpfSkodGhpcy5fZW5jcnlwdGlvblNlY3JldCksIXRoaXMuX2pvaW5BbmROb3RMZWF2ZVlldCl0aHJvdyBuZXcgU2IobnYuSU5WQUxJRF9PUEVSQVRJT04sXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBDbGllbnQgYWxyZWFkeSBsZWZ0XCIpKTt0aGlzLl9lbmNyeXB0aW9uU2FsdCYmKHUuYWVzc2FsdD10aGlzLl9lbmNyeXB0aW9uU2FsdCl9aWYodGhpcy5fZW5jcnlwdERhdGFTdHJlYW0mJihcImFlcy0xMjgtZ2NtMlwiPT09dGhpcy5fZW5jcnlwdGlvbk1vZGV8fFwiYWVzLTI1Ni1nY20yXCI9PT10aGlzLl9lbmNyeXB0aW9uTW9kZSkpaWYodGhpcy5fZW5jcnlwdGlvblNhbHQmJnRoaXMuX2VuY3J5cHRpb25TZWNyZXQpaWYod2luZG93LmNyeXB0by5zdWJ0bGUpe2NvbnN0IGU9bmV3IFRleHRFbmNvZGVyLHQ9RHkoXCJVU0VfUFVSRV9FTkNSWVBUSU9OX01BU1RFUl9LRVlcIik/ZS5lbmNvZGUodS5hcHBJZCt0aGlzLl9lbmNyeXB0aW9uU2VjcmV0K3RoaXMuX2VuY3J5cHRpb25TZWNyZXQpOmUuZW5jb2RlKHUuYXBwSWQrdS5jbmFtZSt0aGlzLl9lbmNyeXB0aW9uU2VjcmV0KTt0aGlzLl9lbmNyeXB0RGF0YVN0cmVhbUl2PWF3YWl0IGFzeW5jIGZ1bmN0aW9uKGUsdCxpKXtjb25zdCBuPWF3YWl0IHdpbmRvdy5jcnlwdG8uc3VidGxlLmltcG9ydEtleShcInJhd1wiLHQsXCJQQktERjJcIiwhMSxbXCJkZXJpdmVCaXRzXCIsXCJkZXJpdmVLZXlcIl0pLHI9XCJhZXMtMTI4LWdjbTJcIj09PWU/MTI4OjI1NixvPWF3YWl0IHdpbmRvdy5jcnlwdG8uc3VidGxlLmRlcml2ZUJpdHMoe25hbWU6XCJQQktERjJcIixpdGVyYXRpb25zOlZ5LGhhc2g6XCJTSEEtMjU2XCIsc2FsdDppfSxuLHIreHkpO3JldHVybiBuZXcgVWludDhBcnJheShvKS5zdWJhcnJheShyLzgpfSh0aGlzLl9lbmNyeXB0aW9uTW9kZSx0LFl2KHRoaXMuX2VuY3J5cHRpb25TYWx0KSksdGhpcy5fZW5jcnlwdERhdGFTdHJlYW1LZXk9YXdhaXQgYXN5bmMgZnVuY3Rpb24oZSx0LGkpe2NvbnN0IG49YXdhaXQgd2luZG93LmNyeXB0by5zdWJ0bGUuaW1wb3J0S2V5KFwicmF3XCIsdCxcIlBCS0RGMlwiLCExLFtcImRlcml2ZUJpdHNcIixcImRlcml2ZUtleVwiXSkscj1cImFlcy0xMjgtZ2NtMlwiPT09ZT8xMjg6MjU2O3JldHVybiBhd2FpdCB3aW5kb3cuY3J5cHRvLnN1YnRsZS5kZXJpdmVLZXkoe25hbWU6XCJQQktERjJcIixpdGVyYXRpb25zOlZ5LGhhc2g6XCJTSEEtMjU2XCIsc2FsdDppfSxuLHtuYW1lOlwiQUVTLUdDTVwiLGxlbmd0aDpyfSwhMCxbXCJlbmNyeXB0XCIsXCJkZWNyeXB0XCJdKX0odGhpcy5fZW5jcnlwdGlvbk1vZGUsdCxZdih0aGlzLl9lbmNyeXB0aW9uU2FsdCkpfWVsc2UgYT9ReS53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gZW5jcnlwdCBkYXRhc3RyZWFtIG11c3QgYmUgcnVubmluZyBpbiBhIHNlY3VyZSBjb250ZXh0LCBmYWxsYmFjayB0byBwbGFpbiBkYXRhIHN0cmVhbVwiKSk6UXkud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGN1cnJlbnQgYnJvd3NlciBkbyBub3Qgc3VwcG9ydCBXZWJDcnlwdG8gLGZhbGxiYWNrIHRvIHBsYWluIGRhdGEgc3RyZWFtXCIpKSx0aGlzLl9lbmNyeXB0RGF0YVN0cmVhbT0hMTtlbHNlIHRoaXMuX2VuY3J5cHREYXRhU3RyZWFtPSExLFF5LmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gbm8gc2FsdCAvIHNlY3JldCwgY2Fubm90IHN1cHBvcnQgZW5jcnlwdCBkYXRhIHN0cmVhbSwgZmFsbGJhY2sgdG8gcGxhaW4gZGF0YSBzdHJlYW1cIikpO3RoaXMuX3N0YXJ0U2Vzc2lvbih0aGlzLl9zZXNzaW9uSWQse2NoYW5uZWw6dCxhcHBJZDplLHN0cmluZ1VpZDp1LnN0cmluZ1VpZH0pO2NvbnN0IGg9dGhpcy5fc2Vzc2lvbklkO3NldFRpbWVvdXQoKCgpPT57XCJDT05ORUNUSU5HXCI9PT10aGlzLmNvbm5lY3Rpb25TdGF0ZSYmaD09PXRoaXMuX3Nlc3Npb25JZCYmc0Euam9pbkNoYW5uZWxUaW1lb3V0KHRoaXMuX3Nlc3Npb25JZCw1KX0pLDVlMyk7dHJ5e3ZhciBwO2xldCBuO2NvbnN0IHI9dS5jbG91ZFByb3h5U2VydmVyO2lmKERuKHA9W1wicHJveHkzXCIsXCJwcm94eTRcIixcInByb3h5NVwiXSkuY2FsbChwLHIpKXtjb25zdCBlPUR5KFwiUFJPWFlfU0VSVkVSX1RZUEUzXCIpO0FycmF5LmlzQXJyYXkoZSk/dS5wcm94eVNlcnZlcj1lWzBdOnUucHJveHlTZXJ2ZXI9ZX1pZihzQS5zZXRQcm94eVNlcnZlcih1LnByb3h5U2VydmVyKSxReS5zZXRQcm94eVNlcnZlcih1LnByb3h5U2VydmVyKSx0aGlzLnN0b3JlLnJlcXVlc3RBUFN0YXJ0KCksYyl7aWYoUXkuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBnZXQgc2VydmVySW5mbyBTdWNjZXNzIGZyb20gUHJlbG9hZCBDYWNoZSBcIikuY29uY2F0KHUuc3RyaW5nVWlkP1wiLCBcIi5jb25jYXQodS5zdHJpbmdVaWQsXCIgPT4gXCIpLmNvbmNhdChjLmludFVpZCk6XCJcIixcIiBcIikpLHUuc3RyaW5nVWlkJiYhdS51aWQmJih1LnVpZD1jLmludFVpZCksbj17Z2F0ZXdheUluZm86Yy5hcC5nYXRld2F5SW5mb30sRHkoXCJKT0lOX1dJVEhfRkFMTEJBQ0tfTUVESUFfUFJPWFlcIikmJlwiYXV0b1wiPT09dS50dXJuU2VydmVyLm1vZGUpaWYoMD09PWMuYXAucHJveHlJbmZvLmFkZHJlc3Nlcy5sZW5ndGgpUXkud2FybmluZyhcIm5vIGVkZ2Ugc2VydmljZXMgaW4gYXAgcmVzcG9uc2Ugb2YgcHJveHkgZmFsbGJhY2ssIHdpbGwgbm90IHNldCBwcm94eSBpbiBpY2VTZXJ2ZXJzXCIpO2Vsc2V7Y29uc3QgZT0oYXdhaXQgVncoYy5hcC5wcm94eUluZm8sYy5hcC5nYXRld2F5SW5mby51aWQpKS5tYXAoKGU9Pih7dHVyblNlcnZlclVSTDplLmFkZHJlc3MsdGNwcG9ydDplLnRjcHBvcnR8fGNBLnRjcHBvcnQsdWRwcG9ydDplLnVkcHBvcnR8fGNBLnVkcHBvcnQsdXNlcm5hbWU6ZS51c2VybmFtZXx8Y0EudXNlcm5hbWUscGFzc3dvcmQ6ZS5wYXNzd29yZHx8Y0EucGFzc3dvcmQsZm9yY2V0dXJuOiExLHNlY3VyaXR5OiEwfSkpKTt1LnR1cm5TZXJ2ZXI9e21vZGU6XCJtYW51YWxcIixzZXJ2ZXJzOmV9fVlGKGMsdS5zdHJpbmdVaWQpfWVsc2V7aWYodS5zdHJpbmdVaWQmJiF1LnVpZCl7bGV0IGU7W2Usbl09YXdhaXQgR2guYWxsKFtPVSh1LnN0cmluZ1VpZCx1LHRoaXMuX2F4aW9zQ2FuY2VsU291cmNlLnRva2VuLHRoaXMuX2NvbmZpZy5odHRwUmV0cnlDb25maWd8fF95LHRoaXMuc3RvcmUpLHdVKHUsdGhpcy5fYXhpb3NDYW5jZWxTb3VyY2UudG9rZW4sdGhpcy5fY29uZmlnLmh0dHBSZXRyeUNvbmZpZ3x8X3ksITAsdGhpcy5zdG9yZSldKSxReS5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGdldFVzZXJBY2NvdW50IFN1Y2Nlc3MgXCIpLmNvbmNhdCh1LnN0cmluZ1VpZCxcIiA9PiBcIikuY29uY2F0KGUpKSx1LnVpZD1lLG4uZ2F0ZXdheUluZm8udWlkPWUsbi5nYXRld2F5SW5mby5yZXMudWlkPWV9ZWxzZSBuPWF3YWl0IHdVKHUsdGhpcy5fYXhpb3NDYW5jZWxTb3VyY2UudG9rZW4sdGhpcy5fY29uZmlnLmh0dHBSZXRyeUNvbmZpZ3x8X3ksITAsdGhpcy5zdG9yZSk7aWYoIXRoaXMuX2pvaW5BbmROb3RMZWF2ZVlldCl0aHJvdyBuZXcgU2IobnYuSU5WQUxJRF9PUEVSQVRJT04sXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBDbGllbnQgYWxyZWFkeSBsZWZ0XCIpKX10aGlzLnN0b3JlLnJlcXVlc3RBUEVuZCgpLHNldFRpbWVvdXQoKCgpPT57dGhpcy5fY29uZmlnRGlzdHJpYnV0ZS5zdGFydEdldENvbmZpZ0Rpc3RyaWJ1dGUodSx0aGlzLl9heGlvc0NhbmNlbFNvdXJjZS50b2tlbiksdGhpcy5fY29uZmlnRGlzdHJpYnV0ZS5vbihXYi5VUERBVEVfQklUUkFURV9MSU1JVCwoZT0+e3RoaXMuX3AycENoYW5uZWwudXBkYXRlQml0cmF0ZUxpbWl0KGUpfSkpfSksMCksdGhpcy5fa2V5PWl8fGU7Y29uc3Qgbz1uLmdhdGV3YXlJbmZvLHM9dS51aWQ/dS51aWQ6by51aWQ7dGhpcy5fam9pbkluZm89U2ooU2ooe30sdSkse30se2NpZDpvLmNpZCx1aWQ6cyx2aWQ6by52aWQsYXBSZXNwb25zZTpvLnJlcyxhcEdhdGV3YXlBZGRyZXNzOm8uYXBHYXRld2F5QWRkcmVzcyx1bmlfbGJzX2lwOm8udW5pX2xic19pcCxnYXRld2F5QWRkcnM6by5nYXRld2F5QWRkcnN9KSx0aGlzLnN0b3JlLmludFVpZD1zO2NvbnN0IGE9YXdhaXQgdGhpcy5fam9pbkdhdGV3YXkoKTtpZighdGhpcy5fam9pbkFuZE5vdExlYXZlWWV0KXRocm93IG5ldyBTYihudi5JTlZBTElEX09QRVJBVElPTixcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIENsaWVudCBhbHJlYWR5IGxlZnRcIikpO2wub25TdWNjZXNzKGEpLHRoaXMuX2FwcElkPWUsdGhpcy5fY2hhbm5lbE5hbWU9dS5jbmFtZSx0aGlzLl91aWQ9YSx0aGlzLnN0b3JlLnVpZD1hLHNldFRpbWVvdXQoKCgpPT57dGhpcy5fbmV0d29ya1F1YWxpdHlJbnRlcnZhbCYmd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5fbmV0d29ya1F1YWxpdHlJbnRlcnZhbCksdGhpcy5fbmV0d29ya1F1YWxpdHlJbnRlcnZhbD13aW5kb3cuc2V0SW50ZXJ2YWwodGhpcy5faGFuZGxlVXBkYXRlTmV0d29ya1F1YWxpdHksMmUzKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihQSSgpP1wiYmVmb3JldW5sb2FkXCI6XCJwYWdlaGlkZVwiLHRoaXMuX2hhbmRsZUJlZm9yZVVubG9hZCksdGhpcy5fc3RhdHNDb2xsZWN0b3Iuc3RhcnRVcGRhdGVTdGF0cygpfSksMCk7Y29uc3QgZD11LnN0cmluZ1VpZD9cInN0cmluZyB1aWQ6IFwiLmNvbmNhdCh1LnN0cmluZ1VpZCxcIix1aWQ6IFwiKS5jb25jYXQodS51aWQpOlwidWlkOiBcIi5jb25jYXQodGhpcy5fdWlkKTtyZXR1cm4gUXkuaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIEpvaW5pbmcgY2hhbm5lbCBzdWNjZXNzOiBjaGFubmVsOiBcIikuY29uY2F0KHQsXCIsXCIpLmNvbmNhdChkKSksc2V0VGltZW91dCgoKCk9PntReS5zdGFydFVwbG9hZCgpfSksNWUzKSx0aGlzLnN0b3JlLmpvaW5FbmQoKSxfPXRoaXMsRG4obEEpLmNhbGwobEEsXyl8fGxBLnB1c2goXyksXCJkaXNhYmxlZFwiPT09dGhpcy5fY2xvdWRQcm94eVNlcnZlck1vZGUmJk1EKCkuc3VwcG9ydFdlYkNyeXB0byYmRHkoXCJFTkFCTEVfUFJFTE9BRFwiKSYmSEYodGhpcy5fam9pbkluZm8pLGF9Y2F0Y2goZSl7Y29uc3QgdD1BcnJheS5pc0FycmF5KGUpP2VbMF06ZTt0aHJvdyB0JiZ0LmNvZGU9PT1udi5PUEVSQVRJT05fQUJPUlRFRD9ReS53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gam9pbiBudW1iZXI6IFwiKS5jb25jYXQobyxcIiwgSm9pbmluZyBjaGFubmVsIGZhaWxlZCwgcm9sbGJhY2tcIiksdCk6UXkuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBqb2luIG51bWJlcjogXCIpLmNvbmNhdChvLFwiLCBKb2luaW5nIGNoYW5uZWwgZmFpbGVkLCByb2xsYmFja1wiKSx0KSx0LmNvZGUhPT1udi5PUEVSQVRJT05fQUJPUlRFRCYmdGhpcy5fbnVtYmVyT2ZKb2luQ291bnQ9PT1vJiYodGhpcy5fZ2F0ZXdheS5zdGF0ZT1cIkRJU0NPTk5FQ1RFRFwiLHRoaXMuX3Jlc2V0KCkpLGwub25FcnJvcih0KSx0fXZhciBffV9qb2luR2F0ZXdheSgpe2lmKCF0aGlzLl9qb2luSW5mb3x8IXRoaXMuX2tleSl0aHJvdyBuZXcgU2IobnYuSU5WQUxJRF9PUEVSQVRJT04pO3JldHVybiB0aGlzLl9nYXRld2F5LmpvaW4odGhpcy5fam9pbkluZm8sdGhpcy5fa2V5LCEoXCJkaXNhYmxlZFwiIT09dGhpcy5fam9pbkluZm8uY2xvdWRQcm94eVNlcnZlcnx8dGhpcy5fam9pbkluZm8ucHJveHlTZXJ2ZXJ8fCFEeShcIkpPSU5fV0lUSF9GQUxMQkFDS19TSUdOQUxfUFJPWFlcIikpKX1hc3luYyBsZWF2ZSgpe1F5LmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBMZWF2aW5nIGNoYW5uZWxcIikpLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFBJKCk/XCJiZWZvcmV1bmxvYWRcIjpcInBhZ2VoaWRlXCIsdGhpcy5faGFuZGxlQmVmb3JlVW5sb2FkKSx0aGlzLl9yZXNldCgpLGZ1bmN0aW9uKGUpe2NvbnN0IHQ9bEEuaW5kZXhPZihlKTstMSE9PXQmJmxBLnNwbGljZSh0LDEpfSh0aGlzKSx0aGlzLl9zdGF0c0NvbGxlY3Rvci5zdG9wVXBkYXRlU3RhdHMoKTtjb25zdCBlPWF3YWl0IHRoaXMuX2xlYXZlTXV0ZXgubG9jaygpO2lmKFwiRElTQ09OTkVDVEVEXCI9PT10aGlzLmNvbm5lY3Rpb25TdGF0ZSlyZXR1cm4gUXkuaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIExlYXZpbmcgY2hhbm5lbCByZXBlYXRlZCwgc3VjY2Vzc1wiKSksdm9pZCBlKCk7YXdhaXQgdGhpcy5fZ2F0ZXdheS5sZWF2ZShcIkNPTk5FQ1RFRFwiIT09dGhpcy5jb25uZWN0aW9uU3RhdGUpLFF5LmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBMZWF2aW5nIGNoYW5uZWwgc3VjY2Vzc1wiKSksdGhpcy5fam9pbkFuZE5vdExlYXZlWWV0PSExLHRoaXMuc3RvcmUucmVzZXRKb2luQ2hhbm5lbFNlcnZpY2VSZWNvcmRzKCksZSgpfWFzeW5jIHB1Ymxpc2goZSl7bGV0IHQ9IShhcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSl8fGFyZ3VtZW50c1sxXTtpZighQXJyYXkuaXNBcnJheShlKSl7aWYoIShlIGluc3RhbmNlb2YgYlApKXJldHVybiB0aGlzLl9wdWJsaXNoRGF0YUNoYW5uZWwoZSk7ZT1bZV19aWYoMD09PWUubGVuZ3RoKXRocm93IG5ldyBTYihudi5JTlZBTElEX1BBUkFNUyxcInBhcmFtIGxpc3QgaXMgZW1wdHlcIik7Y29uc3QgaT1lO2lmKFwiYXVkaWVuY2VcIj09PXRoaXMuX2dhdGV3YXkucm9sZSl0aHJvdyBuZXcgU2IobnYuSU5WQUxJRF9PUEVSQVRJT04sXCJhdWRpZW5jZSBjYW4gbm90IHB1Ymxpc2ggc3RyZWFtXCIpO2Zvcihjb25zdCBlIG9mIGkpe2lmKCEoZSBpbnN0YW5jZW9mIGJQKSl0aHJvdyBuZXcgU2IobnYuSU5WQUxJRF9QQVJBTVMsXCJwYXJhbWV0ZXIgaXMgbm90IGxvY2FsIHRyYWNrXCIpO2lmKCFlLl9lbmFibGVkJiZ0KXRocm93IG5ldyBTYihudi5UUkFDS19JU19ESVNBQkxFRCxcImNhbiBub3QgcHVibGlzaCBhIGRpc2FibGVkIHRyYWNrOiBcIi5jb25jYXQoZS5nZXRUcmFja0lkKCkpKX1ReS5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gUHVibGlzaGluZyB0cmFja3MsIGlkIFwiKS5jb25jYXQoaS5tYXAoKGU9PlwiXCIuY29uY2F0KGUuZ2V0VHJhY2tJZCgpLFwiIFwiKSkpKSk7Y29uc3Qgbj1hd2FpdCB0aGlzLl9wdWJsaXNoTXV0ZXgubG9jaygpO2F3YWl0IHRoaXMuX2NvbmZpZ0Rpc3RyaWJ1dGUuYXdhaXRDb25maWdEaXN0cmlidXRlQ29tcGxldGUoKSx0JiZpLmZvckVhY2goKGU9Pntjb25zdCB0PXRoaXMuX2NvbmZpZ0Rpc3RyaWJ1dGUuZ2V0Qml0cmF0ZUxpbWl0KCk7ZSBpbnN0YW5jZW9mIEhrJiZ0JiZlLnNldEJpdHJhdGVMaW1pdCh0LnVwbGluayl9KSk7dHJ5e2F3YWl0IHRoaXMuX3B1Ymxpc2hIaWdoU3RyZWFtKGkpLFF5LmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBQdWJsaXNoIHN1Y2Nlc3MsIGlkIFwiKS5jb25jYXQoaS5tYXAoKGU9PlwiXCIuY29uY2F0KGUuZ2V0VHJhY2tJZCgpLFwiIFwiKSkpKSl9Y2F0Y2goZSl7dGhyb3cgUXkuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBwdWJsaXNoIGVycm9yXCIpLGUudG9TdHJpbmcoKSksZX1maW5hbGx5e24oKX19YXN5bmMgX3B1Ymxpc2hEYXRhQ2hhbm5lbChlKXthdihlLmlkLFwiaWRcIiwwLDY1NTM1LCEwKSxvdihlLm9yZGVyZWQsXCJvcmRlcmVkXCIpLGR2KGUubWV0YWRhdGEsXCJtZXRhZGF0YVwiLDAsNTEyKSxReS5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gUHVibGlzaGluZyBkYXRhY2hhbm5lbHMsIGlkIFwiKS5jb25jYXQoZS5pZCkpO2NvbnN0IHQ9YXdhaXQgdGhpcy5fcHVibGlzaE11dGV4LmxvY2soKTt0cnl7aWYoLTEhPT10aGlzLl9wMnBDaGFubmVsLmdldEFsbERhdGFDaGFubmVscygpLmZpbmRJbmRleCgodD0+dC5pZD09PWUuaWQpKSl0aHJvdyBuZXcgU2IobnYuSU5WQUxJRF9QQVJBTVMsXCJJbnZhbGlkIGlkOiBcIi5jb25jYXQoZS5pZCxcIi4gSWYgeW91IHdhbnQgdG8gcmVwdWJsaXNoIHRoZSBkYXRhY2hhbm5lbCwgdW5wdWJsaXNoIGZpcnN0XCIpKTtpZighdGhpcy5fam9pbkluZm98fHZvaWQgMD09PXRoaXMuX3VpZCl0aHJvdyBuZXcgU2IobnYuSU5WQUxJRF9PUEVSQVRJT04sXCJDYW4ndCBwdWJsaXNoIGRhdGFjaGFubmVsLCBoYXZlbid0IGpvaW5lZCB5ZXQhXCIpO2lmKFwiQ09OTkVDVEVEXCIhPT10aGlzLmNvbm5lY3Rpb25TdGF0ZSYmXCJSRUNPTk5FQ1RJTkdcIiE9PXRoaXMuY29ubmVjdGlvblN0YXRlKXRocm93IG5ldyBTYihudi5JTlZBTElEX09QRVJBVElPTixcImNhbiBub3QgcHVibGlzaCBkYXRhY2hhbm5lbCBpbiBcIi5jb25jYXQodGhpcy5jb25uZWN0aW9uU3RhdGUsXCIgc3RhdGVcIikpO2lmKFwiYXV0b1wiPT09dGhpcy5fdHVyblNlcnZlci5tb2RlJiZEeShcIkZPUkNFX1RVUk5cIikmJiFEeShcIlRVUk5fRU5BQkxFX1RDUFwiKSYmIUR5KFwiVFVSTl9FTkFCTEVfVURQXCIpKXRocm93IG5ldyBTYihudi5VTkVYUEVDVEVEX0VSUk9SLFwiZm9yY2UgVFVSTiBXaXRoIE5vIFRVUk4gQ29uZmlndXJhdGlvblwiKTtjb25zdCBpPWZ1bmN0aW9uKGUpe3JldHVybiBmRihlLCExKX0oZSksbj1hd2FpdCB0aGlzLl9wMnBDaGFubmVsLnB1Ymxpc2hEYXRhQ2hhbm5lbChbaV0pO2lmKG4ubGVuZ3RoPjApe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBpLl9vcmlnaW5EYXRhQ2hhbm5lbElkKXRocm93IFF5LmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gY2FuIG5vdCBwdWJsaXNoIHdpdGggbWVkaWFUeXBlIGRhdGFjaGFubmVsLCBjYW5ub3QgZ2V0IFJUQ0RhdGFjaGFubmVsIGlkXCIpKSxuZXcgU2IobnYuQ1JFQVRFX0RBVEFDSEFOTkVMX0VSUk9SKTt0cnl7YXdhaXQgR2guYWxsKG4ubWFwKChlPT50aGlzLl91aWQmJnRoaXMuX2dhdGV3YXkucHVibGlzaERhdGFDaGFubmVsKHRoaXMuX3VpZCxlLCEwKSkpKSxhd2FpdCBpLl93YWl0VGlsbE9wZW4oKX1jYXRjaChlKXtpZihlLmNvZGUhPT1udi5ESVNDT05ORUNUX1AyUCl0aHJvdyBlfX1yZXR1cm4gUXkuaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIFB1Ymxpc2ggZGF0YUNoYW5uZWxzIHN1Y2Nlc3MsIGlkIFwiKS5jb25jYXQoaS5pZCkpLGl9Y2F0Y2goZSl7dGhyb3cgUXkuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBwdWJsaXNoIGRhdGFjaGFubmVscyBlcnJvclwiKSxlLnRvU3RyaW5nKCkpLGV9ZmluYWxseXt0KCl9fWFzeW5jIHVucHVibGlzaChlKXtpZighdGhpcy5fam9pbkluZm98fHZvaWQgMD09PXRoaXMuX3VpZCl0aHJvdyBuZXcgU2IobnYuSU5WQUxJRF9PUEVSQVRJT04sXCJDYW4ndCB1bnB1Ymxpc2ggc3RyZWFtLCBoYXZlbid0IGpvaW5lZCB5ZXQhXCIpO2xldCB0PVtdO2lmKGUpaWYoQXJyYXkuaXNBcnJheShlKSl0PWU7ZWxzZXtpZighKGUgaW5zdGFuY2VvZiBiUCkpcmV0dXJuIHRoaXMuX3VucHVibGlzaERhdGFDaGFubmVsKFtlXSk7dD1bZV19ZWxzZSB0aGlzLnN0b3JlLnVzZVAyUHx8YXdhaXQgdGhpcy5fdW5wdWJsaXNoRGF0YUNoYW5uZWwoKSx0PXRoaXMuX3AycENoYW5uZWwuZ2V0QWxsVHJhY2tzKCEwKTtReS5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gVW5wdWJsaXNoIHRyYWNrcywgdHJhY2tzIFwiKS5jb25jYXQodC5tYXAoKGU9PlwiXCIuY29uY2F0KGUuZ2V0VHJhY2tJZCgpLFwiIFwiKSkpLFwiIFwiKSk7Y29uc3QgaT1hd2FpdCB0aGlzLl9wdWJsaXNoTXV0ZXgubG9jaygpO3RyeXtpZih0aGlzLl9wMnBDaGFubmVsIGluc3RhbmNlb2YgUlYpe2NvbnN0IGU9YXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC51bnB1Ymxpc2godCk7ZSYmYXdhaXQgdGhpcy5fZ2F0ZXdheS5zZW5kRXh0ZW5zaW9uTWVzc2FnZShzdy5VTlBVQkxJU0gse3VucHViTXNnOmV9LCEwKX1lbHNle2NvbnN0IGU9YXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC51bnB1Ymxpc2godCk7ZSYmYXdhaXQgdGhpcy5fZ2F0ZXdheS51bnB1Ymxpc2goZSx0aGlzLl91aWQpLFF5LmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBVbnB1Ymxpc2ggc3VjY2Vzcyx0cmFja3MgXCIpLmNvbmNhdCh0Lm1hcCgoZT0+XCJcIi5jb25jYXQoZS5nZXRUcmFja0lkKCkpKSkpKX19Y2F0Y2goZSl7dGhyb3cgUXkuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSB1bnB1Ymxpc2ggZXJyb3JcIiksZS50b1N0cmluZygpKSxlfWZpbmFsbHl7aSYmaSgpfX1hc3luYyBfdW5wdWJsaXNoRGF0YUNoYW5uZWwoZSl7dm9pZCAwIT09ZSYmMCE9PWUubGVuZ3RofHwoZT10aGlzLl9wMnBDaGFubmVsLmdldEFsbERhdGFDaGFubmVscygpKSxReS5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gVW5wdWJsaXNoIGRhdGFjaGFubmVscywgZGF0YWNoYW5uZWxzIFwiKS5jb25jYXQoZS5tYXAoKGU9PlwiXCIuY29uY2F0KGUuaWQsXCIgXCIpKSksXCIgXCIpKTtjb25zdCB0PWF3YWl0IHRoaXMuX3B1Ymxpc2hNdXRleC5sb2NrKCk7dHJ5e2NvbnN0IGk9YXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC51bnB1Ymxpc2hEYXRhQ2hhbm5lbChlKTtpJiZhd2FpdCB0aGlzLl9nYXRld2F5LnVucHVibGlzaERhdGFDaGFubmVsKGkpLFF5LmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBVbnB1Ymxpc2ggZGF0YUNoYW5uZWwgc3VjY2VzcyxkYXRhQ2hhbm5lbCBcIikuY29uY2F0KGUubWFwKChlPT5cIlwiLmNvbmNhdChlLmlkKSkpKSl9Y2F0Y2goZSl7dGhyb3cgUXkuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSB1bnB1Ymxpc2ggZGF0YUNoYW5uZWwgZXJyb3JcIiksZS50b1N0cmluZygpKSxlfWZpbmFsbHl7dCYmdCgpfX1hc3luYyBzdWJzY3JpYmUoZSx0LGkpe2lmKCEoZSBpbnN0YW5jZW9mIGlWKSl7Y29uc3QgdD10aGlzLnJlbW90ZVVzZXJzLmZpbmQoKHQ9PnQudWlkPT09ZSkpO2lmKCF0KXRocm93IG5ldyBTYihudi5JTlZBTElEX1JFTU9URV9VU0VSLFwidXNlciBpcyBub3QgaW4gdGhlIGNoYW5uZWxcIik7ZT10fXJldHVyblwiZGF0YWNoYW5uZWxcIj09PXQ/dGhpcy5fc3Vic2NyaWJlRGF0YUNoYW5uZWwoZSxpKTp0aGlzLl9zdWJzY3JpYmUoZSx0KX1hc3luYyBwcmVzdWJzY3JpYmUoZSx0KXtpZihzdih0LFwibWVkaWFUeXBlXCIsW1wiYXVkaW9cIixcInZpZGVvXCJdKSx0aGlzLl9wMnBDaGFubmVsIGluc3RhbmNlb2YgUlYpdGhyb3cgbmV3IFNiKG52LklOVkFMSURfT1BFUkFUSU9OLFwiY2FuJ3QgcHJlc3ViIGF0IHAycCBtb2RlXCIpO2lmKCF0aGlzLl9qb2luSW5mbyl0aHJvdyBuZXcgU2IobnYuSU5WQUxJRF9PUEVSQVRJT04sXCJjYW4ndCBwcmVzdWIgd2hlbiBub3Qgam9pblwiKTtpZihcIkNPTk5FQ1RFRFwiIT09dGhpcy5jb25uZWN0aW9uU3RhdGUmJlwiUkVDT05ORUNUSU5HXCIhPT10aGlzLmNvbm5lY3Rpb25TdGF0ZSl0aHJvdyBuZXcgU2IobnYuSU5WQUxJRF9PUEVSQVRJT04sXCJjYW4ndCBwcmVzdWIgaW4gXCIuY29uY2F0KHRoaXMuY29ubmVjdGlvblN0YXRlLFwiIHN0YXRlXCIpKTtjb25zdCBpPXQ9PT1ZYi5BVURJTyxuPXQ9PT1ZYi5WSURFTyxyPWF3YWl0IHRoaXMuX3N1YnNjcmliZU11dGV4LmxvY2soKTt0cnl7Y29uc3R7c3NyY0lkOm8sb3J0YzpzLHJ0eFNzcmNJZDphLGNuYW1lOmMsdWludF9pZDpkfT1hd2FpdCB0aGlzLl9nYXRld2F5LnByZXN1YnNjcmliZShlLHQsITApO2lmKG51bGw9PW8pdGhyb3cgbmV3IFNiKG52LlVORVhQRUNURURfUkVTUE9OU0UsXCJubyBzc3JjIGlkXCIpO2xldCBsPXRoaXMuX3VzZXJzLmZpbmQoKHQ9PnQudWlkPT09ZSkpO2x8fChsPW5ldyBpVihlLGR8fGUpLGwuX2lzX3ByZV9jcmVhdGVkPSEwLHRoaXMuX3VzZXJzLnB1c2gobCkpLGMmJihsLl9jbmFtZT1jKSxsLl91aW50aWR8fChsLl91aW50aWQ9ZHx8ZSksaSYmKGwuX2F1ZGlvU1NSQz1vLGwuX2F1ZGlvX3ByZV9zdWJzY3JpYmVkPSEwLHMmJihsLl9hdWRpb09ydGM9cykpLG4mJihsLl92aWRlb1NTUkM9byxsLl92aWRlb19wcmVfc3Vic2NyaWJlZD0hMCxzJiYobC5fdmlkZW9PcnRjPXMpLG51bGwhPWEmJihsLl9ydHhTc3JjSWQ9YSkpLFF5LmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBwcmVzdWIgc3VjY2VlZCBzc3JjOiBcIikuY29uY2F0KG8pKSxhd2FpdCB0aGlzLl9wMnBDaGFubmVsLnN1YnNjcmliZShsLHQsbyxhLHMpO2NvbnN0IHU9aT9sLl9hdWRpb1RyYWNrOmwuX3ZpZGVvVHJhY2s7aWYoIXUpdGhyb3cgbmV3IFNiKG52LlVORVhQRUNURURfRVJST1IsXCJjYW4gbm90IGZpbmQgcmVtb3RlIHRyYWNrIGluIHVzZXJcIik7cmV0dXJuIGkmJihsLl90cnVzdF9hdWRpb19zdHJlYW1fYWRkZWRfc3RhdGVfPSEwLGwuX2F1ZGlvX2FkZGVkXz0hMCksbiYmKGwuX3RydXN0X3ZpZGVvX3N0cmVhbV9hZGRlZF9zdGF0ZV89ITAsbC5fdmlkZW9fYWRkZWRfPSEwKSx1fWNhdGNoKHQpe3Rocm93IFF5LmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gcHJlc3ViIHVzZXIgXCIpLmNvbmNhdChlLFwiIGVycm9yXCIpLHQpLHR9ZmluYWxseXtyKCl9fWFzeW5jIF9zdWJzY3JpYmVEYXRhQ2hhbm5lbChlLHQpe3ZhciBpO2lmKGF2KHQsXCJjaGFubmVsSWRcIiwwLDY1NTM1LCEwKSwhdGhpcy5fam9pbkluZm8pdGhyb3cgbmV3IFNiKG52LklOVkFMSURfT1BFUkFUSU9OLFwiQ2FuJ3Qgc3Vic2NyaWJlIGRhdGFjaGFubmVsLCBub3Qgam9pbmVkXCIpO2lmKFwiQ09OTkVDVEVEXCIhPT10aGlzLmNvbm5lY3Rpb25TdGF0ZSYmXCJSRUNPTk5FQ1RJTkdcIiE9PXRoaXMuY29ubmVjdGlvblN0YXRlKXRocm93IG5ldyBTYihudi5JTlZBTElEX09QRVJBVElPTixcIkNhbid0IHN1YnNjcmliZSBkYXRhY2hhbm5lbCBpbiBcIi5jb25jYXQodGhpcy5jb25uZWN0aW9uU3RhdGUsXCIgc3RhdGVcIikpO2NvbnN0IG49dGhpcy5fdXNlcnMuZmluZCgodD0+dD09PWUpKTtpZighbil0aHJvdyBReS5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGNhbiBub3Qgc3Vic2NyaWJlIFwiKS5jb25jYXQoZS51aWQsXCIsIHRoaXMgdXNlciBpcyBub3QgaW4gdGhlIGNoYW5uZWxcIikpLG5ldyBTYihudi5JTlZBTElEX1JFTU9URV9VU0VSLFwidXNlciBpcyBub3QgaW4gdGhlIGNoYW5uZWxcIik7aWYoIWUuaGFzQXVkaW8mJiFlLmhhc1ZpZGVvJiYwPT09ZS5fZGF0YUNoYW5uZWxzLmxlbmd0aCl0aHJvdyBReS5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGNhbiBub3Qgc3Vic2NyaWJlIFwiKS5jb25jYXQoZS51aWQsXCIsIHVzZXIgaXMgbm90IHB1Ymxpc2hlZFwiKSksbmV3IFNiKG52LklOVkFMSURfUkVNT1RFX1VTRVIsXCJ1c2VyIGlzIG5vdCBwdWJsaXNoZWRcIik7Y29uc3Qgcj1udWxsPT09KGk9ZS5fZGF0YUNoYW5uZWxzKXx8dm9pZCAwPT09aT92b2lkIDA6aS5maW5kKChlPT5lLmlkPT09dCkpO2lmKCFyKXRocm93IFF5LmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gY2FuIG5vdCBzdWJzY3JpYmUgXCIpLmNvbmNhdChlLnVpZCxcIiB3aXRoIG1lZGlhVHlwZSBkYXRhY2hhbm5lbCwgcmVtb3RlIGRhdGFjaGFubmVsIGlzIG5vdCBwdWJsaXNoZWRcIikpLG5ldyBTYihudi5SRU1PVEVfVVNFUl9JU19OT1RfUFVCTElTSEVEKTtjb25zdCBvPWF3YWl0IHRoaXMuX3N1YnNjcmliZU11dGV4LmxvY2soKTtReS5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gc3Vic2NyaWJlIHVzZXIgXCIpLmNvbmNhdChlLnVpZCxcIiwgbWVkaWFUeXBlOiBkYXRhY2hhbm5lbFwiKSk7dHJ5e2NvbnN0IHQ9YXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC5zdWJzY3JpYmVEYXRhQ2hhbm5lbChlLFtyXSk7aWYodCYmRG4odCkuY2FsbCh0LHIuaWQpKXRyeXt2YXIgcztpZihcIm51bWJlclwiIT10eXBlb2Ygci5fb3JpZ2luRGF0YUNoYW5uZWxJZCl0aHJvdyBReS5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGNhbiBub3Qgc3Vic2NyaWJlIFwiKS5jb25jYXQoZS51aWQsXCIgd2l0aCBtZWRpYVR5cGUgZGF0YWNoYW5uZWwsIGNhbm5vdCBnZXQgUlRDRGF0YWNoYW5uZWxcIikpLG5ldyBTYihudi5DUkVBVEVfREFUQUNIQU5ORUxfRVJST1IpO2NvbnN0IHQ9e2lkOnIuaWQsZGF0YWNoYW5uZWxJZDpyLl9vcmlnaW5EYXRhQ2hhbm5lbElkLG9yZGVyZWQ6ci5vcmRlcmVkLG1heFJldHJhbnNtaXRzOnIubWF4UmV0cmFuc21pdHMsbWV0YWRhdGE6bnVsbCE9PShzPXIubWV0YWRhdGEpJiZ2b2lkIDAhPT1zP3M6XCJcIn07YXdhaXQgdGhpcy5fZ2F0ZXdheS5zdWJzY3JpYmVEYXRhQ2hhbm5lbChlLnVpZCx0LCEwKSxhd2FpdCByLl93YWl0VGlsbE9wZW4oKX1jYXRjaCh0KXtpZigobnVsbD09dD92b2lkIDA6dC5jb2RlKSE9PW52LldTX0FCT1JUKXRocm93IGF3YWl0IHRoaXMuX3AycENoYW5uZWwudW5zdWJzY3JpYmVEYXRhQ2hhbm5lbChlLFtyXSksdDthd2FpdCB0aGlzLl9wMnBDaGFubmVsLnVuc3Vic2NyaWJlRGF0YUNoYW5uZWwoZSxbcl0pLHRoaXMuX3AycENoYW5uZWwuc2V0UGVuZGluZ1JlbW90ZURhdGFDaGFubmVsKGUsci5pZCl9cmV0dXJuIFF5LmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBzdWJzY3JpYmUgc3VjY2VzcyB1c2VyIFwiKS5jb25jYXQoZS51aWQsXCIsIG1lZGlhVHlwZTogZGF0YWNoYW5uZWxcIikpLHJ9ZmluYWxseXtvKCl9fWFzeW5jIF9wMnBTdWJzY3JpYmUoZSx0LGkpe2lmKHN2KHQsXCJtZWRpYVR5cGVcIixbXCJhdWRpb1wiLFwidmlkZW9cIl0pLCF0aGlzLl9qb2luSW5mbyl0aHJvdyBuZXcgU2IobnYuSU5WQUxJRF9PUEVSQVRJT04sXCJDYW4ndCBzdWJzY3JpYmUgc3RyZWFtLCBub3Qgam9pbmVkXCIpO2lmKFwiQ09OTkVDVEVEXCIhPT10aGlzLmNvbm5lY3Rpb25TdGF0ZSYmXCJSRUNPTk5FQ1RJTkdcIiE9PXRoaXMuY29ubmVjdGlvblN0YXRlKXRocm93IG5ldyBTYihudi5JTlZBTElEX09QRVJBVElPTixcIkNhbid0IHN1YnNjcmliZSBzdHJlYW0gaW4gXCIuY29uY2F0KHRoaXMuY29ubmVjdGlvblN0YXRlLFwiIHN0YXRlXCIpKTtjb25zdCBuPXRoaXMuX3VzZXJzLmZpbmQoKHQ9PnQ9PT1lKSk7aWYoIW4pe2NvbnN0IHQ9bmV3IFNiKG52LklOVkFMSURfUkVNT1RFX1VTRVIsXCJ1c2VyIGlzIG5vdCBpbiB0aGUgY2hhbm5lbFwiKTt0aHJvdyBReS5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGNhbiBub3Qgc3Vic2NyaWJlIFwiKS5jb25jYXQoZS51aWQsXCIsIHRoaXMgdXNlciBpcyBub3QgaW4gdGhlIGNoYW5uZWxcIikpLHR9aWYoIWUuaGFzQXVkaW8mJiFlLmhhc1ZpZGVvKXtjb25zdCB0PW5ldyBTYihudi5JTlZBTElEX1JFTU9URV9VU0VSLFwidXNlciBpcyBub3QgcHVibGlzaGVkXCIpO3Rocm93IFF5LmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gY2FuIG5vdCBzdWJzY3JpYmUgXCIpLmNvbmNhdChlLnVpZCxcIiwgdXNlciBpcyBub3QgcHVibGlzaGVkXCIpKSx0fWlmKCFpJiYoXCJhdWRpb1wiPT09dCYmIWUuaGFzQXVkaW98fFwidmlkZW9cIj09PXQmJiFlLmhhc1ZpZGVvKSl7Y29uc3QgaT1uZXcgU2IobnYuUkVNT1RFX1VTRVJfSVNfTk9UX1BVQkxJU0hFRCk7dGhyb3cgUXkuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBjYW4gbm90IHN1YnNjcmliZSBcIikuY29uY2F0KGUudWlkLFwiIHdpdGggbWVkaWFUeXBlIFwiKS5jb25jYXQodCxcIiwgcmVtb3RlIHRyYWNrIGlzIG5vdCBwdWJsaXNoZWRcIikpLGl9Y29uc3Qgcj1hd2FpdCB0aGlzLl9zdWJzY3JpYmVNdXRleC5sb2NrKCk7UXkuaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHN1YnNjcmliZSB1c2VyIFwiKS5jb25jYXQoZS51aWQsXCIsIG1lZGlhVHlwZTogXCIpLmNvbmNhdCh0KSk7dHJ5e2lmKGF3YWl0IHRoaXMuX3AycENoYW5uZWwuaGFzUmVtb3RlTWVkaWFXaXRoTG9jayhlLHQpKWF3YWl0IHRoaXMuX3AycENoYW5uZWwudW5tdXRlUmVtb3RlKGUsdCk7ZWxzZSB0cnl7Y29uc3QgaT1cImF1ZGlvXCI9PT10P2UuX2F1ZGlvU1NSQzplLl92aWRlb1NTUkMsbj1cImF1ZGlvXCI9PT10P2UuX2F1ZGlvTWlkOmUuX3ZpZGVvTWlkO3RoaXMuc3RvcmUuc3Vic2NyaWJlKGUudWlkLHQsRGF0ZS5ub3coKSksdGhpcy5fcDJwQ2hhbm5lbCBpbnN0YW5jZW9mIFJWJiZhd2FpdCB0aGlzLl9wMnBDaGFubmVsLnN1YnNjcmliZShlLHQsaSxuKX1jYXRjaChlKXt0aHJvdyBlfVF5LmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBzdWJzY3JpYmUgc3VjY2VzcyB1c2VyIFwiKS5jb25jYXQoZS51aWQsXCIsIG1lZGlhVHlwZTogXCIpLmNvbmNhdCh0KSksdGhpcy5fZGVmYXVsdFN0cmVhbUZhbGxiYWNrVHlwZSYmdGhpcy5zZXRTdHJlYW1GYWxsYmFja09wdGlvbihlLnVpZCx0aGlzLl9kZWZhdWx0U3RyZWFtRmFsbGJhY2tUeXBlKS5jYXRjaCgoZT0+e1F5Lndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBhdXRvIHNldCBmYWxsYmFjayBmYWlsZWRcIiksZSl9KSk7Y29uc3QgaT1cImF1ZGlvXCI9PT10P2UuX2F1ZGlvVHJhY2s6ZS5fdmlkZW9UcmFjaztpZighaSl0aHJvdyBuZXcgU2IobnYuVU5FWFBFQ1RFRF9FUlJPUixcImNhbiBub3QgZmluZCByZW1vdGUgdHJhY2sgaW4gdXNlciBvYmplY3RcIik7cmV0dXJuIGl9Y2F0Y2godCl7dGhyb3cgUXkuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBzdWJzY3JpYmUgdXNlciBcIikuY29uY2F0KGUudWlkLFwiIGVycm9yXCIpLHQpLHR9ZmluYWxseXtyKCl9fWFzeW5jIF9zdWJzY3JpYmUoZSx0LGkpe2lmKHRoaXMuX3AycENoYW5uZWwgaW5zdGFuY2VvZiBSVilyZXR1cm4gdGhpcy5fcDJwU3Vic2NyaWJlKGUsdCk7aWYoc3YodCxcIm1lZGlhVHlwZVwiLFtcImF1ZGlvXCIsXCJ2aWRlb1wiXSksIXRoaXMuX2pvaW5JbmZvKXRocm93IG5ldyBTYihudi5JTlZBTElEX09QRVJBVElPTixcIkNhbid0IHN1YnNjcmliZSBzdHJlYW0sIG5vdCBqb2luZWRcIik7aWYoXCJDT05ORUNURURcIiE9PXRoaXMuY29ubmVjdGlvblN0YXRlJiZcIlJFQ09OTkVDVElOR1wiIT09dGhpcy5jb25uZWN0aW9uU3RhdGUpdGhyb3cgbmV3IFNiKG52LklOVkFMSURfT1BFUkFUSU9OLFwiQ2FuJ3Qgc3Vic2NyaWJlIHN0cmVhbSBpbiBcIi5jb25jYXQodGhpcy5jb25uZWN0aW9uU3RhdGUsXCIgc3RhdGVcIikpO2NvbnN0IG49dGhpcy5fdXNlcnMuZmluZCgodD0+dD09PWUpKTtpZighbil7Y29uc3QgdD1uZXcgU2IobnYuSU5WQUxJRF9SRU1PVEVfVVNFUixcInVzZXIgaXMgbm90IGluIHRoZSBjaGFubmVsXCIpO3Rocm93IFF5LmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gY2FuIG5vdCBzdWJzY3JpYmUgXCIpLmNvbmNhdChlLnVpZCxcIiwgdGhpcyB1c2VyIGlzIG5vdCBpbiB0aGUgY2hhbm5lbFwiKSksdH1pZighZS5oYXNBdWRpbyYmIWUuaGFzVmlkZW8pe2NvbnN0IHQ9bmV3IFNiKG52LklOVkFMSURfUkVNT1RFX1VTRVIsXCJ1c2VyIGlzIG5vdCBwdWJsaXNoZWRcIik7dGhyb3cgUXkuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBjYW4gbm90IHN1YnNjcmliZSBcIikuY29uY2F0KGUudWlkLFwiLCB1c2VyIGlzIG5vdCBwdWJsaXNoZWRcIikpLHR9aWYoIShpfHwoXCJhdWRpb1wiIT09dHx8ZS5oYXNBdWRpbyYmdm9pZCAwIT09ZS5fYXVkaW9TU1JDKSYmKFwidmlkZW9cIiE9PXR8fGUuaGFzVmlkZW8mJnZvaWQgMCE9PWUuX3ZpZGVvU1NSQykpKXtjb25zdCBpPW5ldyBTYihudi5SRU1PVEVfVVNFUl9JU19OT1RfUFVCTElTSEVEKTt0aHJvdyBReS5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGNhbiBub3Qgc3Vic2NyaWJlIFwiKS5jb25jYXQoZS51aWQsXCIgd2l0aCBtZWRpYVR5cGUgXCIpLmNvbmNhdCh0LFwiLCByZW1vdGUgdHJhY2sgaXMgbm90IHB1Ymxpc2hlZFwiKSksaX1sZXQgcj1cImF1ZGlvXCI9PT10P2UuX2F1ZGlvU1NSQzplLl92aWRlb1NTUkMsbz1cImF1ZGlvXCI9PT10P2UuX2F1ZGlvT3J0YzplLl92aWRlb09ydGMscz1cInZpZGVvXCI9PT10P2UuX3J0eFNzcmNJZDp2b2lkIDAsYT17c3RyZWFtX3R5cGU6XCJhdWRpb1wiPT09dD9ZYi5BVURJTzpZYi5WSURFTyxzc3JjSWQ6cn07Y29uc3QgYz1hd2FpdCB0aGlzLl9zdWJzY3JpYmVNdXRleC5sb2NrKCk7UXkuaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHN1YnNjcmliZSB1c2VyIFwiKS5jb25jYXQoZS51aWQsXCIsIG1lZGlhVHlwZTogXCIpLmNvbmNhdCh0KSk7dHJ5e2lmKGF3YWl0IHRoaXMuX3AycENoYW5uZWwuaGFzUmVtb3RlTWVkaWFXaXRoTG9jayhlLHQpKWF3YWl0IHRoaXMuX3AycENoYW5uZWwudW5tdXRlUmVtb3RlKGUsdCk7ZWxzZSB0cnl7Y29uc3QgaT1cImF1ZGlvXCI9PT10P2UuX2F1ZGlvU1NSQzplLl92aWRlb1NTUkM7dm9pZCAwIT09aSYmaSE9PXImJihyPWksbz1cImF1ZGlvXCI9PT10P2UuX2F1ZGlvT3J0YzplLl92aWRlb09ydGMscz1cInZpZGVvXCI9PT10P2UuX3J0eFNzcmNJZDp2b2lkIDAsYT17c3RyZWFtX3R5cGU6XCJhdWRpb1wiPT09dD9ZYi5BVURJTzpZYi5WSURFTyxzc3JjSWQ6cn0pLGpVLm1hcmtTdWJzY3JpYmVTdGFydCh0aGlzLnN0b3JlLmNsaWVudElkLHIpLHRoaXMuc3RvcmUuc3Vic2NyaWJlKGUudWlkLHQsRGF0ZS5ub3coKSksYXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC5zdWJzY3JpYmUoZSx0LHIscyxvKTt0cnl7dGhpcy5fcDJwQ2hhbm5lbC5pc1ByZVN1YlNjcmliZShyKXx8YXdhaXQgdGhpcy5fZ2F0ZXdheS5zdWJzY3JpYmUoZS51aWQsYSwhMCl9Y2F0Y2goaSl7aWYoKG51bGw9PWk/dm9pZCAwOmkuY29kZSkhPT1udi5XU19BQk9SVCl0aHJvdyBhd2FpdCB0aGlzLl9wMnBDaGFubmVsLnVuc3Vic2NyaWJlKGUsdCksaTthd2FpdCB0aGlzLl9wMnBDaGFubmVsLnVuc3Vic2NyaWJlKGUsdCwhMCksdGhpcy5fcDJwQ2hhbm5lbC5zZXRQZW5kaW5nUmVtb3RlTWVkaWEoZSx0KX10aGlzLnN0b3JlLnN1YnNjcmliZShlLnVpZCx0LHZvaWQgMCxEYXRlLm5vdygpKSx0aGlzLl9wMnBDaGFubmVsLnJlcG9ydFN1YnNjcmliZUV2ZW50KCEwLG51bGwsZSx0KX1jYXRjaChpKXt0aHJvdyB0aGlzLl9wMnBDaGFubmVsLnJlcG9ydFN1YnNjcmliZUV2ZW50KCExLG51bGw9PWk/dm9pZCAwOmkuY29kZSxlLHQpLGl9UXkuaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHN1YnNjcmliZSBzdWNjZXNzIHVzZXIgXCIpLmNvbmNhdChlLnVpZCxcIiwgbWVkaWFUeXBlOiBcIikuY29uY2F0KHQpKSx0aGlzLl9kZWZhdWx0U3RyZWFtRmFsbGJhY2tUeXBlJiZ0aGlzLnNldFN0cmVhbUZhbGxiYWNrT3B0aW9uKGUudWlkLHRoaXMuX2RlZmF1bHRTdHJlYW1GYWxsYmFja1R5cGUpLmNhdGNoKChlPT57UXkud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGF1dG8gc2V0IGZhbGxiYWNrIGZhaWxlZFwiKSxlKX0pKTtjb25zdCBpPVwiYXVkaW9cIj09PXQ/ZS5fYXVkaW9UcmFjazplLl92aWRlb1RyYWNrO2lmKCFpKXRocm93IG5ldyBTYihudi5VTkVYUEVDVEVEX0VSUk9SLFwiY2FuIG5vdCBmaW5kIHJlbW90ZSB0cmFjayBpbiB1c2VyIG9iamVjdFwiKTtyZXR1cm4gaX1jYXRjaCh0KXt0aHJvdyBReS5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHN1YnNjcmliZSB1c2VyIFwiKS5jb25jYXQoZS51aWQsXCIgZXJyb3JcIiksdCksdH1maW5hbGx5e2MoKX19YXN5bmMgbWFzc1N1YnNjcmliZShlKXtpZihsdihlLFwic3Vic2NyaWJlTGlzdFwiKSwhdGhpcy5fam9pbkluZm8pdGhyb3cgbmV3IFNiKG52LklOVkFMSURfT1BFUkFUSU9OLFwiQ2FuJ3Qgc3Vic2NyaWJlIHN0cmVhbSwgbm90IGpvaW5lZFwiKTtpZihcIkNPTk5FQ1RFRFwiIT09dGhpcy5jb25uZWN0aW9uU3RhdGUmJlwiUkVDT05ORUNUSU5HXCIhPT10aGlzLmNvbm5lY3Rpb25TdGF0ZSl0aHJvdyBuZXcgU2IobnYuSU5WQUxJRF9PUEVSQVRJT04sXCJDYW4ndCBzdWJzY3JpYmUgc3RyZWFtIGluIFwiLmNvbmNhdCh0aGlzLmNvbm5lY3Rpb25TdGF0ZSxcIiBzdGF0ZVwiKSk7Y29uc3QgdD1EYXRlLm5vdygpLGk9bmV3IE1hcCxuPWF3YWl0IHRoaXMuX3N1YnNjcmliZU11dGV4LmxvY2soKTtReS5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl1zdGFydCBtYXNzU3Vic2NyaWJlIHVzZXIgXCIpLmNvbmNhdChlLm1hcCgoZT0+e2xldHt1c2VyOnQsbWVkaWFUeXBlOml9PWU7cmV0dXJuXCJ1c2VyOiBcIi5jb25jYXQobnVsbD09dD92b2lkIDA6dC51aWQsXCIsIG1lZGlhVHlwZTogXCIpLmNvbmNhdChpKX0pKS5qb2luKFwiOyBcIikpKTtjb25zdCByPShlPVsuLi5lXSkubWFwKChlPT57bGV0e3VzZXI6dCxtZWRpYVR5cGU6aX09ZTtyZXR1cm57dXNlcjp0LG1lZGlhVHlwZTppfX0pKSxvPWF3YWl0IHRoaXMuX3AycENoYW5uZWwuZ2xvYmFsTG9jaygpO3RyeXt2YXIgcztmb3IobGV0IHQ9ZS5sZW5ndGgtMTt0Pj0wO3QtLSl7Y29uc3Qgbj1lW3RdLHt1c2VyOm8sbWVkaWFUeXBlOnN9PW47aWYoc3YocyxcIm1lZGlhVHlwZVwiLFtcImF1ZGlvXCIsXCJ2aWRlb1wiXSksIW8pe2NvbnN0IGU9bmV3IFNiKG52LklOVkFMSURfUEFSQU1TLFwidXNlciBwcm9wZXJ0eSBkb2VzIG5vdCBleGlzdCBpbiBzdWJzY3JpYmVMaXN0IGl0ZW1cIik7dGhyb3cgUXkuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSB1c2VyIHByb3BlcnR5IGRvZXMgbm90IGV4aXN0IGluIHN1YnNjcmliZUxpc3QgaXRlbVwiKSksZX1jb25zdCBhPXRoaXMuX3VzZXJzLmZpbmQoKGU9PmU9PT1vKSk7aWYoIWEpe2NvbnN0IGk9bmV3IFNiKG52LklOVkFMSURfUkVNT1RFX1VTRVIsXCJ1c2VyIGlzIG5vdCBpbiB0aGUgY2hhbm5lbFwiKTtReS5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGNhbiBub3QgbWFzc1N1YnNjcmliZSBcIikuY29uY2F0KG8udWlkLFwiLCB0aGlzIHVzZXIgaXMgbm90IGluIHRoZSBjaGFubmVsXCIpKSxyW3RdLmVycm9yPWksZS5zcGxpY2UodCwxKTtjb250aW51ZX1pZihcImF1ZGlvXCI9PT1zJiYoIW8uaGFzQXVkaW98fHZvaWQgMD09PW8uX2F1ZGlvU1NSQyl8fFwidmlkZW9cIj09PXMmJighby5oYXNWaWRlb3x8dm9pZCAwPT09by5fdmlkZW9TU1JDKSl7Y29uc3QgaT1uZXcgU2IobnYuUkVNT1RFX1VTRVJfSVNfTk9UX1BVQkxJU0hFRCk7UXkuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBjYW4gbm90IHN1YnNjcmliZSBcIikuY29uY2F0KG8udWlkLFwiIHdpdGggbWVkaWFUeXBlIFwiKS5jb25jYXQocyxcIiwgcmVtb3RlIHVzZXIgaXMgbm90IHB1Ymxpc2hlZFwiKSksclt0XS5lcnJvcj1pLGUuc3BsaWNlKHQsMSk7Y29udGludWV9Y29uc3QgYz1WYi5WaWRlb3xWYi5Md29WaWRlbyxkPWkuZ2V0KG8pO2lmKGQpe2lmKFwidmlkZW9cIj09PXM/ZCZjOmQmVmIuQXVkaW8pe2Uuc3BsaWNlKHQsMSksUXkud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHJlcGVhdCBtYXNzU3Vic2NyaWJlIHVzZXI6XCIpLmNvbmNhdChvLnVpZCxcIiwgbWVkaWFUeXBlOlwiKS5jb25jYXQocyxcIiB0d2ljZVwiKSk7Y29udGludWV9aS5zZXQobyxkfChcInZpZGVvXCI9PT1zP2M6VmIuQXVkaW8pKX1lbHNlIGkuc2V0KG8sXCJ2aWRlb1wiPT09cz9jOlZiLkF1ZGlvKX1mb3IobGV0IHQ9ZS5sZW5ndGgtMTt0Pj0wO3QtLSl7Y29uc3Qgbj1lW3RdLHt1c2VyOnIsbWVkaWFUeXBlOm99PW4scz1WYi5WaWRlb3xWYi5Md29WaWRlbztpZih0aGlzLl9wMnBDaGFubmVsLmhhc1JlbW90ZU1lZGlhKHIsbykpe2F3YWl0IHRoaXMuX3AycENoYW5uZWwudW5tdXRlUmVtb3RlTm9Mb2NrKHIsbyk7Y29uc3Qgbj1pLmdldChyKTtpLnNldChyLFwidmlkZW9cIj09PW8/bl5zOm5eVmIuQXVkaW8pLGUuc3BsaWNlKHQsMSl9fXRoaXMuc3RvcmUubWFzc1N1YnNjcmliZShlLm1hcCgoZT0+KHt1c2VySWQ6ZS51c2VyLnVpZCx0eXBlOmUubWVkaWFUeXBlfSkpKSx0KTtsZXQgYT1KbihzPUFycmF5LmZyb20oaS5lbnRyaWVzKCkpKS5jYWxsKHMsKChlLHQpPT57bGV0W2ksbl09dDtpZigwPT09bilyZXR1cm4gZTtjb25zdCByPXtzdHJlYW1faWQ6aS51aWQsc3RyZWFtX3R5cGU6bn07cmV0dXJuIG4mVmIuQXVkaW8mJihyLmF1ZGlvX3NzcmM9aS5fYXVkaW9TU1JDKSxuJlZiLlZpZGVvJiYoci52aWRlb19zc3JjPWkuX3ZpZGVvU1NSQyksZS5wdXNoKHIpLGV9KSxbXSk7dHJ5e2UubGVuZ3RoPjAmJmF3YWl0IHRoaXMuX3AycENoYW5uZWwubWFzc1N1YnNjcmliZU5vTG9jayhlLm1hcCgoZT0+e2xldHt1c2VyOnQsbWVkaWFUeXBlOml9PWU7cmV0dXJue3VzZXI6dCxtZWRpYVR5cGU6aSxzc3JjSWQ6aT09PVliLlZJREVPP3QuX3ZpZGVvU1NSQzp0Ll9hdWRpb1NTUkMscnR4U3NyY0lkOmk9PT1ZYi5WSURFTz90Ll9ydHhTc3JjSWQ6dm9pZCAwfX0pKSk7Y29uc3QgaT1uZXcgTWFwO2lmKGE9YS5maWx0ZXIoKGU9PmUudmlkZW9fc3NyYyYmIXRoaXMuX3AycENoYW5uZWwuaXNQcmVTdWJTY3JpYmUoZS52aWRlb19zc3JjKXx8ZS5hdWRpb19zc3JjJiYhdGhpcy5fcDJwQ2hhbm5lbC5pc1ByZVN1YlNjcmliZShlLmF1ZGlvX3NzcmMpfHwhZS52aWRlb19zc3JjJiYhZS5hdWRpb19zc3JjKSksYS5sZW5ndGg+MCl7Y29uc3QgZT1hd2FpdCB0aGlzLl9nYXRld2F5LnN1YnNjcmliZUFsbChhLCEwKTsoKG51bGw9PWU/dm9pZCAwOmUudXNlcnMpfHxbXSkuZm9yRWFjaCgoZT0+e2xldHtzdHJlYW1faWQ6dCx2aWRlb19lcnJvcl9jb2RlOm4sYXVkaW9fZXJyb3JfY29kZTpyLGVycm9yX2NvZGU6b309ZTsobnx8cnx8bykmJmkuc2V0KHQse3ZpZGVvX2Vycm9yX2NvZGU6bixhdWRpb19lcnJvcl9jb2RlOnIsZXJyb3JfY29kZTpvfSl9KSl9aWYoQXJyYXkuZnJvbShpLmVudHJpZXMoKSkubGVuZ3RoPjApe2NvbnN0IGU9W107QXJyYXkuZnJvbShpLmVudHJpZXMoKSkuZm9yRWFjaCgodD0+e2xldFtpLG5dPXQ7Y29uc3Qgcj10aGlzLnJlbW90ZVVzZXJzLmZpbmQoKGU9PmUudWlkPT09aSkpO2lmKHIpe2xldCB0O24uZXJyb3JfY29kZXx8bi52aWRlb19lcnJvcl9jb2RlJiZuLmF1ZGlvX2Vycm9yX2NvZGU/dD12b2lkIDA6bi52aWRlb19lcnJvcl9jb2RlP3Q9WWIuVklERU86bi5hdWRpb19lcnJvcl9jb2RlJiYodD1ZYi5BVURJTyksZS5wdXNoKHt1c2VyOnIsbWVkaWFUeXBlOnR9KX19KSksZS5sZW5ndGg+MCYmYXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC5tYXNzVW5zdWJzY3JpYmVOb0xvY2soZSl9Zm9yKGNvbnN0IGUgb2Ygcil7Y29uc3QgdD1pLmdldChlLnVzZXIudWlkKTtpZih0KXtjb25zdCBpPXQuZXJyb3JfY29kZXx8XCJhdWRpb1wiPT09ZS5tZWRpYVR5cGUmJnQuYXVkaW9fZXJyb3JfY29kZXx8XCJ2aWRlb1wiPT09ZS5tZWRpYVR5cGUmJnQudmlkZW9fZXJyb3JfY29kZTtpZihpKXtjb25zdCB0PXB3KGkpO1F5LmVycm9yKFwidXNlcjpcIi5jb25jYXQoZS51c2VyLnVpZCxcIiBtZWRpYVR5cGU6XCIpLmNvbmNhdChlLm1lZGlhVHlwZSxcIiBoYXMgbWFzc1N1YnNjcmliZSBlcnJvciBcIikuY29uY2F0KHQuZGVzYykpLGUuZXJyb3I9bmV3IFNiKG52LlNVQlNDUklCRV9GQUlMRUQsXCJjb2RlIFwiLmNvbmNhdChpLFwiOiBcIikuY29uY2F0KHQuZGVzYykpfX1lLmVycm9yfHwoXCJ2aWRlb1wiPT09ZS5tZWRpYVR5cGU/ZS50cmFjaz1lLnVzZXIudmlkZW9UcmFjazplLnRyYWNrPWUudXNlci5hdWRpb1RyYWNrKX1yZXR1cm4gdGhpcy5zdG9yZS5tYXNzU3Vic2NyaWJlKHIuZmlsdGVyKChlPT4hZS5lcnJvcikpLm1hcCgoZT0+KHt1c2VySWQ6ZS51c2VyLnVpZCx0eXBlOmUubWVkaWFUeXBlfSkpKSx2b2lkIDAsRGF0ZS5ub3coKSksci5mb3JFYWNoKChlPT57dmFyIGk7c0Euc3Vic2NyaWJlKHRoaXMuc3RvcmUuc2Vzc2lvbklkLHtzdWNjOiEhZS5lcnJvcixlYzoobnVsbD09PShpPWUuZXJyb3IpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLmNvZGUpfHxudWxsLHZpZGVvOmUubWVkaWFUeXBlPT09WWIuVklERU8sYXVkaW86ZS5tZWRpYVR5cGU9PT1ZYi5BVURJTyxwZWVyaWQ6ZS51c2VyLnVpZCxzdWJzY3JpYmVSZXF1ZXN0aWQ6ZS5tZWRpYVR5cGU9PT1ZYi5WSURFTz9lLnVzZXIuX3ZpZGVvU1NSQzplLnVzZXIuX2F1ZGlvU1NSQyxwMnBpZDp0aGlzLnN0b3JlLnAycElkLGV2ZW50RWxhcHNlOk1hdGguZmxvb3IocGVyZm9ybWFuY2Uubm93KCktdCkscHJlU3NyYzp0aGlzLl9wMnBDaGFubmVsLmlzUHJlU3ViU2NyaWJlKGUudXNlci5fdmlkZW9TU1JDKX0sITApfSkpLFF5LmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBtYXNzU3Vic2NyaWJlIHN1Y2Nlc3MgXCIpLmNvbmNhdChlLm1hcCgoZT0+e2xldHt1c2VyOnQsbWVkaWFUeXBlOml9PWU7cmV0dXJuXCJ1c2VyOiBcIi5jb25jYXQobnVsbD09dD92b2lkIDA6dC51aWQsXCIsIG1lZGlhVHlwZTogXCIpLmNvbmNhdChpKX0pKS5qb2luKFwiOyBcIikpKSxyfWNhdGNoKHQpe3Rocm93IGF3YWl0IHRoaXMuX3AycENoYW5uZWwubWFzc1Vuc3Vic2NyaWJlTm9Mb2NrKGUpLHR9fWZpbmFsbHl7bygpLG4oKX19YXN5bmMgdW5zdWJzY3JpYmUoZSx0LGkpe2lmKCEoZSBpbnN0YW5jZW9mIGlWKSl7Y29uc3QgdD10aGlzLnJlbW90ZVVzZXJzLmZpbmQoKHQ9PnQudWlkPT09ZSkpO2lmKCF0KXRocm93IG5ldyBTYihudi5JTlZBTElEX1JFTU9URV9VU0VSLFwidXNlciBpcyBub3QgaW4gdGhlIGNoYW5uZWxcIik7ZT10fWlmKHR8fHRoaXMuc3RvcmUudXNlUDJQKXtpZihcImRhdGFjaGFubmVsXCI9PT10KXJldHVybiB0aGlzLl91bnN1YnNjcmliZURhdGFDaGFubmVsKGUsaSl9ZWxzZSBhd2FpdCB0aGlzLl91bnN1YnNjcmliZURhdGFDaGFubmVsKGUsaSk7aWYodCYmc3YodCxcIm1lZGlhVHlwZVwiLFtcImF1ZGlvXCIsXCJ2aWRlb1wiXSksIXRoaXMuX2pvaW5JbmZvKXRocm93IG5ldyBTYihudi5JTlZBTElEX09QRVJBVElPTixcIkNhbid0IHVuc3Vic2NyaWJlIHN0cmVhbSwgaGF2ZW4ndCBqb2luZWQgeWV0IVwiKTtjb25zdCBuPXRoaXMuX3VzZXJzLmZpbmQoKHQ9PnQ9PT1lKSk7aWYoIW4pe2NvbnN0IHQ9bmV3IFNiKG52LklOVkFMSURfUkVNT1RFX1VTRVIsXCJ1c2VyIGlzIG5vdCBpbiB0aGUgY2hhbm5lbFwiKTt0aHJvdyBReS5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGNhbiBub3QgdW5zdWJzY3JpYmUgXCIpLmNvbmNhdChlLnVpZCxcIiwgdXNlciBpcyBub3QgaW4gdGhlIGNoYW5uZWxcIikpLHR9UXkuaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHVuc3Vic2NyaWJlIHVpZDogXCIpLmNvbmNhdChlLnVpZCxcIiwgbWVkaWFUeXBlOiBcIikuY29uY2F0KHQpKTtjb25zdCByPWF3YWl0IHRoaXMuX3N1YnNjcmliZU11dGV4LmxvY2soKTt0cnl7aWYodGhpcy5fcDJwQ2hhbm5lbCBpbnN0YW5jZW9mIFJWKWF3YWl0IHRoaXMuX3AycENoYW5uZWwudW5zdWJzY3JpYmUoZSx0KTtlbHNle2NvbnN0IGk9YXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC51bnN1YnNjcmliZShlLHQpO2kmJmF3YWl0IHRoaXMuX2dhdGV3YXkudW5zdWJzY3JpYmUoaSxlLnVpZCksdCYmXCJhdWRpb1wiIT09dHx8KGUuX2F1ZGlvX3ByZV9zdWJzY3JpYmVkPSExKSx0JiZcInZpZGVvXCIhPT10fHwoZS5fdmlkZW9fcHJlX3N1YnNjcmliZWQ9ITEpLGUuX2lzX3ByZV9jcmVhdGVkJiZGdih0aGlzLl91c2VycyxlKSxReS5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gdW5zdWJzY3JpYmUgc3VjY2VzcyB1aWQ6IFwiKS5jb25jYXQoZS51aWQsXCIsIG1lZGlhVHlwZTogXCIpLmNvbmNhdCh0KSl9fWNhdGNoKHQpe2lmKHQuY29kZT09PW52LkRJU0NPTk5FQ1RfUDJQKXJldHVybiB2b2lkIFF5Lndhcm5pbmcoXCJkaXNjb25uZWN0aW5nIHAycCwgYWJvcnQgdW5zdWJzY3JpYmUgcmVxdWVzdC5cIik7dGhyb3cgUXkuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSB1bnN1YnNjcmliZSB1c2VyIFwiKS5jb25jYXQoZS51aWQsXCIgZXJyb3JcIiksdC50b1N0cmluZygpKSx0fWZpbmFsbHl7cigpfX1hc3luYyBfdW5zdWJzY3JpYmVEYXRhQ2hhbm5lbChlLHQpe2lmKHQmJmF2KHQsXCJpZFwiLDAsNjU1MzUsITApLCF0aGlzLl9qb2luSW5mbyl0aHJvdyBuZXcgU2IobnYuSU5WQUxJRF9PUEVSQVRJT04sXCJDYW4ndCB1bnN1YnNjcmliZSBkYXRhY2hhbm5lbCwgaGF2ZW4ndCBqb2luZWQgeWV0IVwiKTtjb25zdCBpPXRoaXMuX3VzZXJzLmZpbmQoKHQ9PnQ9PT1lKSk7aWYoIWkpe2NvbnN0IHQ9bmV3IFNiKG52LklOVkFMSURfUkVNT1RFX1VTRVIsXCJ1c2VyIGlzIG5vdCBpbiB0aGUgY2hhbm5lbFwiKTt0aHJvdyBReS5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGNhbiBub3QgdW5zdWJzY3JpYmUgXCIpLmNvbmNhdChlLnVpZCxcIiwgdXNlciBpcyBub3QgaW4gdGhlIGNoYW5uZWxcIikpLHR9bGV0IG47aWYoXCJudW1iZXJcIj09dHlwZW9mIHQpe2NvbnN0IGk9ZS5fZGF0YUNoYW5uZWxzLmZpbmQoKGU9PmUuaWQ9PT10KSk7aSYmKG49W2ldKX1lbHNlIG49ZS5fZGF0YUNoYW5uZWxzO2lmKHZvaWQgMD09PW4pe2NvbnN0IGk9bmV3IFNiKG52LlJFTU9URV9VU0VSX0lTX05PVF9QVUJMSVNIRUQpO3Rocm93IFF5LmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gY2FuIG5vdCB1bnN1YnNjcmliZSBcIikuY29uY2F0KGUudWlkLFwiIHdpdGggY2hhbm5lbElkIFwiKS5jb25jYXQodCxcIiwgcmVtb3RlIGRhdGFjaGFubmVsIGlzIG5vdCBwdWJsaXNoZWRcIikpLGl9UXkuaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHVuc3Vic2NyaWJlIHVpZDogXCIpLmNvbmNhdChlLnVpZCxcIiwgbWVkaWFUeXBlOiBkYXRhY2hhbm5lbCwgaWRzOiBcIikuY29uY2F0KG4ubWFwKChlPT5lLmlkKSkpKTt0cnl7Y29uc3QgdD1hd2FpdCB0aGlzLl9wMnBDaGFubmVsLnVuc3Vic2NyaWJlRGF0YUNoYW5uZWwoZSxuKTt0JiZhd2FpdCB0aGlzLl9nYXRld2F5LnVuc3Vic2NyaWJlRGF0YUNoYW5uZWwodCxlLnVpZCksUXkuaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHVuc3Vic2NyaWJlIGRhdGFjaGFubmVsIHN1Y2Nlc3MgdWlkOiBcIikuY29uY2F0KGUudWlkLFwiLCBtZWRpYVR5cGU6IGRhdGFjaGFubmVsLCBpZHM6IFwiKS5jb25jYXQodCkpfWNhdGNoKHQpe2lmKHQuY29kZT09PW52LkRJU0NPTk5FQ1RfUDJQKXJldHVybiB2b2lkIFF5Lndhcm5pbmcoXCJkaXNjb25uZWN0aW5nIHAycCwgYWJvcnQgdW5zdWJzY3JpYmUgcmVxdWVzdC5cIik7dGhyb3cgUXkuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSB1bnN1YnNjcmliZSB1c2VyIFwiKS5jb25jYXQoZS51aWQsXCIgZXJyb3JcIiksdC50b1N0cmluZygpKSx0fX1hc3luYyBtYXNzVW5zdWJzY3JpYmUoZSl7aWYobHYoZSxcInVuc3Vic2NyaWJlTGlzdFwiKSwhdGhpcy5fam9pbkluZm8pdGhyb3cgbmV3IFNiKG52LklOVkFMSURfT1BFUkFUSU9OLFwiQ2FuJ3QgdW5zdWJzY3JpYmVBbGwgc3RyZWFtLCBoYXZlbid0IGpvaW5lZCB5ZXQhXCIpO1F5LmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBzdGFydCBtYXNzVW5zdWJzY3JpYmUgXCIpLmNvbmNhdChlLm1hcCgoZT0+e2xldHt1c2VyOnQsbWVkaWFUeXBlOml9PWU7cmV0dXJuXCJ1c2VyOiBcIi5jb25jYXQobnVsbD09dD92b2lkIDA6dC51aWQsXCIsIG1lZGlhVHlwZTogXCIpLmNvbmNhdChpLFwiO1wiKX0pKS5qb2luKCkpKSxlPVsuLi5lXTtjb25zdCB0PW5ldyBNYXA7Zm9yKGxldCBpPWUubGVuZ3RoLTE7aT49MDtpLS0pe2NvbnN0e3VzZXI6bixtZWRpYVR5cGU6cn09ZVtpXTtpZighbil7Y29uc3QgZT1uZXcgU2IobnYuSU5WQUxJRF9QQVJBTVMsXCJ1c2VyIHByb3BlcnR5IGRvZXMgbm90IGV4aXN0IGluIHVuc3Vic2NyaWJlTGlzdCBpdGVtXCIpO3Rocm93IFF5LmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gdXNlciBwcm9wZXJ0eSBkb2VzIG5vdCBleGlzdCBpbiB1bnN1YnNjcmliZUxpc3QgaXRlbVwiKSksZX1zdihyLFwibWVkaWFUeXBlXCIsW1widmlkZW9cIixcImF1ZGlvXCIsdm9pZCAwXSk7Y29uc3Qgbz10aGlzLl91c2Vycy5maW5kKChlPT5lPT09bikpO2lmKCFvKXtReS53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gY2FuIG5vdCB1bnN1YnNjcmliZSBcIikuY29uY2F0KG4udWlkLFwiLCB1c2VyIGlzIG5vdCBpbiB0aGUgY2hhbm5lbFwiKSksZS5zcGxpY2UoaSwxKTtjb250aW51ZX1jb25zdCBzPVZiLlZpZGVvfFZiLkx3b1ZpZGVvO2lmKHQuaGFzKG4pKXtjb25zdCBvPXQuZ2V0KG4pO2xldCBhO3N3aXRjaChyKXtjYXNlXCJ2aWRlb1wiOmE9byZzO2JyZWFrO2Nhc2VcImF1ZGlvXCI6YT1vJlZiLkF1ZGlvO2JyZWFrO2RlZmF1bHQ6YT1vJihWYi5BdWRpb3xzKX1pZihhKXtReS53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gcmVwZWF0IG1hc3NVbnN1YnNjcmliZSB1c2VyOlwiKS5jb25jYXQobi51aWQsXCIsbWVkaWFUeXBlOlwiKS5jb25jYXQocixcIiB0d2ljZS5cIikpLGUuc3BsaWNlKGksMSk7Y29udGludWV9cj9cImF1ZGlvXCI9PT1yP3Quc2V0KG4sb3xWYi5BdWRpbyk6XCJ2aWRlb1wiPT09ciYmdC5zZXQobixvfHMpOnQuc2V0KG4sb3xWYi5BdWRpb3xzKX1lbHNlIHI/XCJhdWRpb1wiPT09cj90LnNldChuLFZiLkF1ZGlvKTpcInZpZGVvXCI9PT1yJiZ0LnNldChuLHMpOnQuc2V0KG4sVmIuQXVkaW98cyl9dHJ5e2NvbnN0IHQ9YXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC5tYXNzVW5zdWJzY3JpYmUoZSk7dCYmYXdhaXQgdGhpcy5fZ2F0ZXdheS5tYXNzVW5zdWJzY3JpYmUodCksUXkuaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIG1hc3NVbnN1YnNjcmliZSBzdWNjZXNzIFwiKS5jb25jYXQoZS5tYXAoKGU9PntsZXR7dXNlcjp0LG1lZGlhVHlwZTppfT1lO3JldHVyblwidXNlcjogXCIuY29uY2F0KG51bGw9PXQ/dm9pZCAwOnQudWlkLFwiLCBtZWRpYVR5cGU6IFwiKS5jb25jYXQoaSxcIjtcIil9KSkuam9pbigpKSl9Y2F0Y2goZSl7aWYoZS5jb2RlPT09bnYuRElTQ09OTkVDVF9QMlApcmV0dXJuIHZvaWQgUXkud2FybmluZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGRpc2Nvbm5lY3RpbmcgcDJwLCBhYm9ydCB1bnN1YnNjcmliZSByZXF1ZXN0LlwiKSk7dGhyb3cgUXkuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBtYXNzVW5zdWJzY3JpYmUgZXJyb3JcIiksZS50b1N0cmluZygpKSxlfX1hc3luYyBzZXRMb3dTdHJlYW1QYXJhbWV0ZXIoZSl7IWZ1bmN0aW9uKGUpe2lmKCFlKXRocm93IG5ldyBydihudi5JTlZBTElEX1BBUkFNUyk7dXYoZS53aWR0aCl8fGN2KGUud2lkdGgsXCJzdHJlYW1QYXJhbWV0ZXIud2lkdGhcIiksdXYoZS5oZWlnaHQpfHxjdihlLmhlaWdodCxcInN0cmVhbVBhcmFtZXRlci5oZWlnaHRcIiksdXYoZS5mcmFtZXJhdGUpfHxjdihlLmZyYW1lcmF0ZSxcInN0cmVhbVBhcmFtZXRlci5mcmFtZXJhdGVcIiksdXYoZS5iaXRyYXRlKXx8YXYoZS5iaXRyYXRlLFwic3RyZWFtUGFyYW1ldGVyLmJpdHJhdGVcIil9KGUpLCghZS53aWR0aCYmZS5oZWlnaHR8fGUud2lkdGgmJiFlLmhlaWdodCkmJlF5Lndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBUaGUgd2lkdGggYW5kIGhlaWdodCBwYXJhbWV0ZXJzIHRha2UgZWZmZWN0IG9ubHkgd2hlbiBib3RoIGFyZSBzZXRcIikpLFF5LmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBzZXQgbG93IHN0cmVhbSBwYXJhbWV0ZXIgdG9cIiksSlNPTi5zdHJpbmdpZnkoZSkpO2NvbnN0IHQ9dGhpcy5fY29uZmlnRGlzdHJpYnV0ZS5nZXRMb3dTdHJlYW1Db25maWdEaXN0cmlidXRlKCk7aWYodCYmdC5iaXRyYXRlJiZlLmJpdHJhdGUmJnQuYml0cmF0ZTxlLmJpdHJhdGUmJihlLmJpdHJhdGU9dC5iaXRyYXRlKSx0aGlzLl9sb3dTdHJlYW1QYXJhbWV0ZXI9ZSx0aGlzLl9pc0R1YWxTdHJlYW1FbmFibGVkKXJldHVybiB0aGlzLl9wMnBDaGFubmVsLnVwZGF0ZVZpZGVvU3RyZWFtUGFyYW1ldGVyKGUsSmIuTG9jYWxWaWRlb0xvd1RyYWNrKX1hc3luYyBlbmFibGVEdWFsU3RyZWFtKCl7aWYoIU1EKCkuc3VwcG9ydER1YWxTdHJlYW0pdGhyb3cgc0Euc3RyZWFtU3dpdGNoKHRoaXMuX3Nlc3Npb25JZCx7bHRzOkRhdGUubm93KCksaXNkdWFsOiEwLHN1Y2M6ITF9KSxuZXcgU2IobnYuTk9UX1NVUFBPUlRFRCxcIllvdXIgYnJvd3NlciBpcyBub3Qgc3VwcG9ydCBkdWFsIHN0cmVhbVwiKTtpZih0aGlzLl9pc0R1YWxTdHJlYW1FbmFibGVkKXRocm93IG5ldyBTYihudi5JTlZBTElEX09QRVJBVElPTixcIkR1YWwgc3RyZWFtIGlzIGFscmVhZHkgZW5hYmxlZFwiKTtpZih0aGlzLl9wMnBDaGFubmVsLmNhblB1Ymxpc2hMb3dTdHJlYW0oKSl0cnl7YXdhaXQgdGhpcy5fcHVibGlzaExvd1N0cmVhbSgpfWNhdGNoKGUpe3Rocm93IHNBLnN0cmVhbVN3aXRjaCh0aGlzLl9zZXNzaW9uSWQse2x0czpEYXRlLm5vdygpLGlzZHVhbDohMCxzdWNjOiExfSksZX10aGlzLl9pc0R1YWxTdHJlYW1FbmFibGVkPSEwLHNBLnN0cmVhbVN3aXRjaCh0aGlzLl9zZXNzaW9uSWQse2x0czpEYXRlLm5vdygpLGlzZHVhbDohMCxzdWNjOiEwfSksUXkuaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGVuYWJsZSBkdWFsIHN0cmVhbVwiKSl9YXN5bmMgZGlzYWJsZUR1YWxTdHJlYW0oKXtpZih0aGlzLl9pc0R1YWxTdHJlYW1FbmFibGVkKXtpZighdGhpcy5fam9pbkluZm8pdGhyb3cgbmV3IFNiKG52LklOVkFMSURfT1BFUkFUSU9OLFwiQ2FuJ3QgcHVibGlzaCBzdHJlYW0sIGhhdmVuJ3Qgam9pbmVkIHlldCFcIik7aWYodGhpcy5fcDJwQ2hhbm5lbC5nZXRMb2NhbE1lZGlhKEpiLkxvY2FsVmlkZW9Mb3dUcmFjaykpdHJ5e2NvbnN0IGU9YXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC51bnB1Ymxpc2hMb3dTdHJlYW0oKTtlJiZhd2FpdCB0aGlzLl9nYXRld2F5LnVucHVibGlzaChlLHRoaXMuX2pvaW5JbmZvLnN0cmluZ1VpZHx8dGhpcy5fam9pbkluZm8udWlkKX1jYXRjaChlKXt0aHJvdyBzQS5zdHJlYW1Td2l0Y2godGhpcy5fc2Vzc2lvbklkLHtsdHM6RGF0ZS5ub3coKSxpc2R1YWw6ITEsc3VjYzohMX0pLGV9dGhpcy5faXNEdWFsU3RyZWFtRW5hYmxlZD0hMSxzQS5zdHJlYW1Td2l0Y2godGhpcy5fc2Vzc2lvbklkLHtsdHM6RGF0ZS5ub3coKSxpc2R1YWw6ITEsc3VjYzohMH0pLFF5LmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBkaXNhYmxlIGR1YWwgc3RyZWFtXCIpKX19YXN5bmMgc2V0Q2xpZW50Um9sZShlLHQpe2lmKGZ1bmN0aW9uKGUpe3N2KGUsXCJyb2xlXCIsW1wiYXVkaWVuY2VcIixcImhvc3RcIl0pfShlKSx0JiZPdih0KSxcInJ0Y1wiPT09dGhpcy5tb2RlfHxcInAycFwiPT09dGhpcy5tb2RlKXRocm93IFF5Lndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXVwiKS5jb25jYXQodGhpcy5tb2RlLFwiIG1vZGUgY2FuIG5vdCB1c2Ugc2V0Q2xpZW50Um9sZVwiKSksbmV3IFNiKG52LklOVkFMSURfT1BFUkFUSU9OLFwiXCIuY29uY2F0KHRoaXMubW9kZSxcIiBtb2RlIGNhbiBub3QgdXNlIHNldENsaWVudFJvbGVcIikpO2lmKHQmJnQubGV2ZWwmJlwiaG9zdFwiPT09ZSl0aHJvdyBuZXcgU2IobnYuSU5WQUxJRF9PUEVSQVRJT04sXCJob3N0IG1vZGUgY2FuIG5vdCBzZXQgYXVkaWVuY2UgbGF0ZW5jeSBsZXZlbFwiKTtpZihcImF1ZGllbmNlXCI9PT1lJiZ0aGlzLl9wMnBDaGFubmVsLmhhc0xvY2FsTWVkaWEoKSl0aHJvdyBuZXcgU2IobnYuSU5WQUxJRF9PUEVSQVRJT04sXCJjYW4gbm90IHNldCBjbGllbnQgcm9sZSB0byBhdWRpZW5jZSB3aGVuIHB1Ymxpc2hpbmcgc3RyZWFtXCIpO2F3YWl0IHRoaXMuX2dhdGV3YXkuc2V0Q2xpZW50Um9sZShlLHQpLHRoaXMuX2NvbmZpZy5yb2xlPWUsUXkuaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHNldCBjbGllbnQgcm9sZSB0byBcIikuY29uY2F0KGUsXCIsIGxldmVsOiBcIikuY29uY2F0KHQmJnQubGV2ZWwpKX1nZXRSZW1vdGVJbmJvdW5kT2Zmc2V0KCl7dmFyIGU7Y29uc3QgdD1udWxsPT09KGU9dGhpcy5fcDJwQ2hhbm5lbC5nZXRTdGF0cygpKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5hdWRpb1NlbmRbMF07aWYoIXR8fCF0LnRpbWVzdGFtcClyZXR1cm4gMDtjb25zdCBpPXQudGltZXN0YW1wLURhdGUubm93KCk7cmV0dXJuIE1hdGguYWJzKGkpPjFlMyt0LnJ0dE1zKzEwMD90aGlzLm50cEFsaWduRXJyb3JDb3VudCs9MTp0aGlzLm50cEFsaWduRXJyb3JDb3VudD0wLHRoaXMubnRwQWxpZ25FcnJvckNvdW50Pj0zP2k6MH1nZXROdHBXYWxsVGltZUluTXMoKXtyZXR1cm5cInZpc2libGVcIj09PWRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSYmKHRoaXMucmVtb3RlSW5ib3VuZE9mZnNldD10aGlzLmdldFJlbW90ZUluYm91bmRPZmZzZXQoKSksdGhpcy5yZW1vdGVJbmJvdW5kT2Zmc2V0K0RhdGUubm93KCkrdGhpcy5fZ2F0ZXdheS5udHBPZmZzZXR9c2V0UHJveHlTZXJ2ZXIoZSx0KXtpZihkdihlLFwicHJveHlTZXJ2ZXJcIiksIXQpe2lmKFwiRElTQ09OTkVDVEVEXCIhPT10aGlzLmNvbm5lY3Rpb25TdGF0ZSl0aHJvdyBuZXcgU2IobnYuSU5WQUxJRF9PUEVSQVRJT04sXCJTZXQgcHJveHkgc2VydmVyIGJlZm9yZSBqb2luIGNoYW5uZWxcIik7aWYoXCJkaXNhYmxlZFwiIT09dGhpcy5fY2xvdWRQcm94eVNlcnZlck1vZGV8fHRoaXMuX3VzZUxvY2FsQWNjZXNzUG9pbnQpdGhyb3cgbmV3IFNiKG52LklOVkFMSURfT1BFUkFUSU9OLFwiWW91IGhhdmUgYWxyZWFkeSBzZXQgdGhlIHByb3h5XCIpfXRoaXMuX3Byb3h5U2VydmVyPWUsc0Euc2V0UHJveHlTZXJ2ZXIodGhpcy5fcHJveHlTZXJ2ZXIpLFF5LnNldFByb3h5U2VydmVyKHRoaXMuX3Byb3h5U2VydmVyKSxReS5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gU2V0IHByb3h5IHNlcnZlciBcIikuY29uY2F0KHQ/XCJieSBpbml0aWFsaXplIGNhbGxcIjpcIlwiLFwiIHN1Y2Nlc3MuXCIpKX1zZXRUdXJuU2VydmVyKGUsdCl7aWYoQXJyYXkuaXNBcnJheShlKXx8KGU9W2VdKSwhdCl7aWYoXCJESVNDT05ORUNURURcIiE9PXRoaXMuY29ubmVjdGlvblN0YXRlKXRocm93IG5ldyBTYihudi5JTlZBTElEX09QRVJBVElPTixcIlNldCB0dXJuIHNlcnZlciBiZWZvcmUgam9pbiBjaGFubmVsXCIpO2lmKFwiZGlzYWJsZWRcIiE9PXRoaXMuX2Nsb3VkUHJveHlTZXJ2ZXJNb2RlfHx0aGlzLl91c2VMb2NhbEFjY2Vzc1BvaW50KXRocm93IG5ldyBTYihudi5JTlZBTElEX09QRVJBVElPTixcIllvdSBoYXZlIGFscmVhZHkgc2V0IHRoZSBwcm94eVwiKX1pZihidihlKSlyZXR1cm4gdGhpcy5fdHVyblNlcnZlcj17c2VydmVyczplLG1vZGU6XCJvcmlnaW5hbC1tYW51YWxcIn0sdm9pZCBReS5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gU2V0IG9yaWdpbmFsIHR1cm5zZXJ2ZXIgXCIpLmNvbmNhdCh0P1wiYnkgaW5pdGlhbGl6ZSBjYWxsXCI6XCJcIixcIiBzdWNjZXNzOiBcIikuY29uY2F0KGUubWFwKChlPT5lLnVybHMpKS5qb2luKFwiLFwiKSxcIi5cIikpO2UuZm9yRWFjaCgoZT0+d3YoZSkpKSx0aGlzLl90dXJuU2VydmVyPXtzZXJ2ZXJzOmUsbW9kZTpcIm1hbnVhbFwifSxReS5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gU2V0IHR1cm5zZXJ2ZXIgXCIpLmNvbmNhdCh0P1wiYnkgaW5pdGlhbGl6ZSBjYWxsXCI6XCJcIixcIiBzdWNjZXNzLlwiKSl9c2V0TGljZW5zZShlKXtpZihcIkRJU0NPTk5FQ1RFRFwiIT09dGhpcy5jb25uZWN0aW9uU3RhdGUpe3Rocm93IG5ldyBTYihudi5JTlZBTElEX09QRVJBVElPTixcInlvdSBzaG91bGQgc2V0IGxpY2Vuc2UgYmVmb3JlIGpvaW4gY2hhbm5lbFwiKX1pZihkdihlLFwibGljZW5zZVwiLDMyLDMyKSwhL15bQS1aYS16XFxkXSskLy50ZXN0KGUpKXRocm93IG5ldyBTYihudi5JTlZBTElEX1BBUkFNUyxcImxpY2Vuc2Ugc2hvdWxkIG9ubHkgY29udGFpbnMgY2hhcmFjdGVycyBmcm9tIEEtWiBhLXogMC05XCIpO3RoaXMuX2xpY2Vuc2U9ZSxReS5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gc2V0IGxpY2Vuc2Ugc3VjY2Vzc1wiKSxlKX1zdGFydFByb3h5U2VydmVyKGUpe2lmKFwiRElTQ09OTkVDVEVEXCIhPT10aGlzLmNvbm5lY3Rpb25TdGF0ZSl0aHJvdyBuZXcgU2IobnYuSU5WQUxJRF9PUEVSQVRJT04sXCJTdGFydCBwcm94eSBzZXJ2ZXIgYmVmb3JlIGpvaW4gY2hhbm5lbFwiKTtpZih0aGlzLl9wcm94eVNlcnZlcnx8XCJtYW51YWxcIj09PXRoaXMuX3R1cm5TZXJ2ZXIubW9kZXx8dGhpcy5fdXNlTG9jYWxBY2Nlc3NQb2ludCl0aHJvdyBuZXcgU2IobnYuSU5WQUxJRF9PUEVSQVRJT04sXCJZb3UgaGF2ZSBhbHJlYWR5IHNldCB0aGUgcHJveHlcIik7Y29uc3QgdD1bMyw0LDVdO2xldCBpO3N3aXRjaCh2b2lkIDA9PT1lJiYoZT0zKSxlKXtjYXNlIDE6Y2FzZSAyOnRocm93IG5ldyBTYihudi5OT1RfU1VQUE9SVEVELFwicHJveHkgbW9kZSAxLzIgaGFzIGJlZW4gZGVwcmVjYXRlZCBhbmQgbm90IHN1cHBvcnRlZC5cIik7Y2FzZSAzOmk9XCJwcm94eTNcIjticmVhaztjYXNlIDQ6aT1cInByb3h5NFwiO2JyZWFrO2Nhc2UgNTppPVwicHJveHk1XCI7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgU2IobnYuSU5WQUxJRF9QQVJBTVMsXCJwcm94eSBzZXJ2ZXIgbW9kZSBtdXN0IGJlIFwiLmNvbmNhdCh0LmpvaW4oXCJ8XCIpKSl9dGhpcy5fY2xvdWRQcm94eVNlcnZlck1vZGU9aSx0aGlzLnN0b3JlLmNsb3VkUHJveHlTZXJ2ZXJNb2RlPWksUXkuaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHNldCBjbG91ZCBwcm94eSBzZXJ2ZXIgbW9kZSB0b1wiKSx0aGlzLl9jbG91ZFByb3h5U2VydmVyTW9kZSl9c3RvcFByb3h5U2VydmVyKCl7aWYoXCJESVNDT05ORUNURURcIiE9PXRoaXMuY29ubmVjdGlvblN0YXRlKXRocm93IG5ldyBTYihudi5JTlZBTElEX09QRVJBVElPTixcIlN0b3AgcHJveHkgc2VydmVyIGFmdGVyIGxlYXZlIGNoYW5uZWxcIik7c0Euc2V0UHJveHlTZXJ2ZXIoKSxReS5zZXRQcm94eVNlcnZlcigpLHRoaXMuX2Nsb3VkUHJveHlTZXJ2ZXJNb2RlPVwiZGlzYWJsZWRcIix0aGlzLnN0b3JlLmNsb3VkUHJveHlTZXJ2ZXJNb2RlPVwiZGlzYWJsZWRcIixReS5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gc2V0IGNsb3VkIHByb3h5IHNlcnZlciBtb2RlIHRvXCIpLHRoaXMuX2Nsb3VkUHJveHlTZXJ2ZXJNb2RlKSx0aGlzLl9wcm94eVNlcnZlcj12b2lkIDAsdGhpcy5fdHVyblNlcnZlcj17bW9kZTpcImF1dG9cIixzZXJ2ZXJzOltdfX1zZXRMb2NhbEFjY2Vzc1BvaW50c1YyKGUpe2lmKCFlLmFjY2Vzc1BvaW50cyl0aHJvdyBuZXcgU2IobnYuSU5WQUxJRF9QQVJBTVMsXCJhY2Nlc3NQb2ludHMgaXMgcmVxdWlyZWQuXCIpO2x2KGUuYWNjZXNzUG9pbnRzLnNlcnZlckxpc3QsXCJhY2Nlc3NQb2ludHMuc2VydmVyTGlzdFwiKSxkdihlLmFjY2Vzc1BvaW50cy5kb21haW4sXCJhY2Nlc3NQb2ludHMuZG9tYWluXCIpO2NvbnN0IHQ9KGUsdCk9PnthdihlLHQsMCw2NTUzNSwhMCl9O2xldCBpPTQ0MztpZihlLmFjY2Vzc1BvaW50cy5wb3J0JiYodChlLmFjY2Vzc1BvaW50cy5wb3J0LFwiYWNjZXNzUG9pbnRzLnBvcnRcIiksaT1lLmFjY2Vzc1BvaW50cy5wb3J0KSx0aGlzLl9wcm94eVNlcnZlcnx8XCJkaXNhYmxlZFwiIT09dGhpcy5fY2xvdWRQcm94eVNlcnZlck1vZGUpdGhyb3cgbmV3IFNiKG52LklOVkFMSURfT1BFUkFUSU9OLFwic2V0IGxvY2FsIGFjY2VzcyBwb2ludCBmYWlsZWQsIFlvdSBoYXZlIGFscmVhZHkgc2V0IHRoZSBjbG91ZCBwcm94eVwiKTtEeShcIkNMT1NFX0FGQl9GT1JfTE9DQUxfQVBcIikmJihOeShcIkpPSU5fV0lUSF9GQUxMQkFDS19TSUdOQUxfUFJPWFlcIiwhMSksTnkoXCJKT0lOX1dJVEhfRkFMTEJBQ0tfTUVESUFfUFJPWFlcIiwhMSkpO2NvbnN0IG49L14oKFxcZHsxLDJ9fDFcXGRcXGR8MlswLTRdXFxkfDI1WzAtNV0pXFwuKXszfShcXGR7MSwyfXwxXFxkXFxkfDJbMC00XVxcZHwyNVswLTVdKSQvLHI9ZS5hY2Nlc3NQb2ludHMuZG9tYWluLG89ZS5hY2Nlc3NQb2ludHMuc2VydmVyTGlzdC5tYXAoKGU9Pm4udGVzdChlKT9cIlwiLmNvbmNhdChlLnJlcGxhY2UoL1xcLi9nLFwiLVwiKSxcIi5cIikuY29uY2F0KHIpOmUpKSxzPW8ubWFwKChlPT5cIlwiLmNvbmNhdChlLFwiOlwiKS5jb25jYXQoaSkpKTt0aGlzLl91c2VMb2NhbEFjY2Vzc1BvaW50PSEwLHRoaXMuX3NldExvY2FsQVBWZXJzaW9uPTIsTnkoXCJXRUJDU19ET01BSU5cIixzKSxOeShcIldFQkNTX0RPTUFJTl9CQUNLVVBfTElTVFwiLHMpLE55KFwiR0FURVdBWV9ET01BSU5TXCIsW3JdKSxlLnJlcG9ydCYmZS5yZXBvcnQuaG9zdG5hbWUmJkFycmF5LmlzQXJyYXkoZS5yZXBvcnQuaG9zdG5hbWUpJiZlLnJlcG9ydC5ob3N0bmFtZS5sZW5ndGg/KGx2KGUucmVwb3J0Lmhvc3RuYW1lLFwicmVwb3J0Lmhvc3RuYW1lXCIpLE55KFwiRVZFTlRfUkVQT1JUX0RPTUFJTlwiLGUucmVwb3J0Lmhvc3RuYW1lWzBdKSxOeShcIkVWRU5UX1JFUE9SVF9CQUNLVVBfRE9NQUlOXCIsZS5yZXBvcnQuaG9zdG5hbWVbMV18fGUucmVwb3J0Lmhvc3RuYW1lWzBdKSk6KE55KFwiRVZFTlRfUkVQT1JUX0RPTUFJTlwiLG9bMF0pLE55KFwiRVZFTlRfUkVQT1JUX0JBQ0tVUF9ET01BSU5cIixvWzFdfHxvWzBdKSk7bGV0IGE9NjQ0MztlLnJlcG9ydCYmZS5yZXBvcnQucG9ydCYmKHQoZS5yZXBvcnQucG9ydCxcInJlcG9ydC5wb3J0XCIpLGE9ZS5yZXBvcnQucG9ydCksTnkoXCJTVEFUU19DT0xMRUNUT1JfUE9SVFwiLGEpLGUucmVwb3J0P055KFwiRU5BQkxFX0VWRU5UX1JFUE9SVFwiLCEwKTpOeShcIkVOQUJMRV9FVkVOVF9SRVBPUlRcIiwhMSk7bGV0IGM9XCJcIjtlLmxvZyYmZS5sb2cuaG9zdG5hbWUmJkFycmF5LmlzQXJyYXkoZS5sb2cuaG9zdG5hbWUpJiZlLmxvZy5ob3N0bmFtZS5sZW5ndGg/KGx2KGUubG9nLmhvc3RuYW1lLFwibG9nLmhvc3RuYW1lXCIpLGM9ZS5sb2cuaG9zdG5hbWVbMF0pOmM9b1swXTtsZXQgZD02NDQ0O2UubG9nJiZlLmxvZy5wb3J0JiYodChlLmxvZy5wb3J0LFwibG9nLnBvcnRcIiksZD1lLmxvZy5wb3J0KSxOeShcIkxPR19VUExPQURfU0VSVkVSXCIsXCJcIi5jb25jYXQoYyxcIjpcIikuY29uY2F0KGQpKTtsZXQgbD1bXTtlLmNkcyYmZS5jZHMuaG9zdG5hbWUmJkFycmF5LmlzQXJyYXkoZS5jZHMuaG9zdG5hbWUpJiZlLmNkcy5ob3N0bmFtZS5sZW5ndGg/KGx2KGUuY2RzLmhvc3RuYW1lLFwiY2RzLmhvc3RuYW1lXCIpLGw9ZS5jZHMuaG9zdG5hbWUpOmw9bztsZXQgdT00NDM7ZS5jZHMmJmUuY2RzLnBvcnQmJih0KGUuY2RzLnBvcnQsXCJjZHMucG9ydFwiKSx1PWUuY2RzLnBvcnQpLE55KFwiQ0RTX0FQXCIsbC5tYXAoKGU9PlwiXCIuY29uY2F0KGUsXCI6XCIpLmNvbmNhdCh1KSkpKSxlLmNkcz9OeShcIkVOQUJMRV9DT05GSUdfRElTVFJJQlVURVwiLCEwKTpOeShcIkVOQUJMRV9DT05GSUdfRElTVFJJQlVURVwiLCExKSxReS5pbmZvKFwic2V0IGxvY2FsIGFjY2VzcyBwb2ludCB2MiBzdWNjZXNzXCIpfXNldExvY2FsQWNjZXNzUG9pbnRzKGUsdCl7aWYobHYoZSxcInNlcnZlckxpc3RcIiksZHYodCxcImRvbWFpblwiKSx0aGlzLl9wcm94eVNlcnZlcnx8XCJkaXNhYmxlZFwiIT09dGhpcy5fY2xvdWRQcm94eVNlcnZlck1vZGUpdGhyb3cgbmV3IFNiKG52LklOVkFMSURfT1BFUkFUSU9OLFwic2V0IGxvY2FsIGFjY2VzcyBwb2ludCBmYWlsZWQsIFlvdSBoYXZlIGFscmVhZHkgc2V0IHRoZSBjbG91ZCBwcm94eVwiKTtjb25zdCBpPS9eKFxcZHsxLDJ9fDFcXGRcXGR8MlswLTRdXFxkfDI1WzAtNV0pXFwuKFxcZHsxLDJ9fDFcXGRcXGR8MlswLTRdXFxkfDI1WzAtNV0pXFwuKFxcZHsxLDJ9fDFcXGRcXGR8MlswLTRdXFxkfDI1WzAtNV0pXFwuKFxcZHsxLDJ9fDFcXGRcXGR8MlswLTRdXFxkfDI1WzAtNV0pJC87ZT1lLm1hcCgoZT0+aS50ZXN0KGUpP1wiXCIuY29uY2F0KGUucmVwbGFjZSgvXFwuL2csXCItXCIpLFwiLlwiKS5jb25jYXQodCk6ZSkpLHRoaXMuX3VzZUxvY2FsQWNjZXNzUG9pbnQ9ITAsdGhpcy5fc2V0TG9jYWxBUFZlcnNpb249MSxOeShcIldFQkNTX0RPTUFJTlwiLGUpLE55KFwiV0VCQ1NfRE9NQUlOX0JBQ0tVUF9MSVNUXCIsZSksTnkoXCJHQVRFV0FZX0RPTUFJTlNcIixbdF0pLE55KFwiRVZFTlRfUkVQT1JUX0RPTUFJTlwiLGVbMF0pLE55KFwiRVZFTlRfUkVQT1JUX0JBQ0tVUF9ET01BSU5cIixlWzFdfHxlWzBdKSxOeShcIkxPR19VUExPQURfU0VSVkVSXCIsXCJcIi5jb25jYXQoZVswXSxcIjo2NDQ0XCIpKSxReS5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gc2V0IGxvY2FsIGFjY2VzcyBwb2ludCBzdWNjZXNzXCIpKX1hc3luYyBzZXRSZW1vdGVEZWZhdWx0VmlkZW9TdHJlYW1UeXBlKGUpe2lmKHN2KGUsXCJzdHJlYW1UeXBlXCIsWzAsMV0pLHRoaXMuX3JlbW90ZURlZmF1bHRWaWRlb1N0cmVhbVR5cGU9ZSx0aGlzLl9qb2luSW5mbyl0cnl7YXdhaXQgdGhpcy5fZ2F0ZXdheS5zZXREZWZhdWx0UmVtb3RlVmlkZW9TdHJlYW1UeXBlKGUpLHRoaXMuX2pvaW5JbmZvLmRlZmF1bHRWaWRlb1N0cmVhbT10aGlzLl9yZW1vdGVEZWZhdWx0VmlkZW9TdHJlYW1UeXBlfWNhdGNoKGUpe3Rocm93IFF5LmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gc2V0IGRlZmF1bHQgcmVtb3RlIHZpZGVvIHN0cmVhbSB0eXBlIGVycm9yXCIpLGUudG9TdHJpbmcoKSksZX1lbHNlIFF5LmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gaGF2ZW4ndCBqb2luZWQgeWV0LCBjYWNoZSByZW1vdGVEZWZhdWx0VmlkZW9TdHJlYW1UeXBlIFwiKS5jb25jYXQoZSkpfWFzeW5jIHNldFJlbW90ZVZpZGVvU3RyZWFtVHlwZShlLHQpe3N2KHQsXCJzdHJlYW1UeXBlXCIsWzAsMV0pO3RyeXthd2FpdCB0aGlzLl9nYXRld2F5LnNldFJlbW90ZVZpZGVvU3RyZWFtVHlwZShlLHQpLHNldFRpbWVvdXQoKCgpPT57Y29uc3QgdD10aGlzLl91c2Vycy5maW5kKCh0PT50LnVpZD09PWUpKTt0JiZ0LnZpZGVvVHJhY2smJnQudmlkZW9UcmFjay51cGRhdGVNZWRpYVN0cmVhbVRyYWNrUmVzb2x1dGlvbigpfSksMmUzKX1jYXRjaChlKXt0aHJvdyBReS5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHNldCByZW1vdGUgdmlkZW8gc3RyZWFtIHR5cGUgZXJyb3JcIiksZS50b1N0cmluZygpKSxlfVF5LmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBzZXQgcmVtb3RlIFwiKS5jb25jYXQoZSxcIiB2aWRlbyBzdHJlYW0gdHlwZSB0byBcIikuY29uY2F0KHQpKSx0aGlzLl9yZW1vdGVTdHJlYW1UeXBlQ2FjaGVNYXAuc2V0KGUsdCl9YXN5bmMgc2V0U3RyZWFtRmFsbGJhY2tPcHRpb24oZSx0KXtzdih0LFwiZmFsbGJhY2tUeXBlXCIsWzAsMSwyXSk7dHJ5e2F3YWl0IHRoaXMuX2dhdGV3YXkuc2V0U3RyZWFtRmFsbGJhY2tPcHRpb24oZSx0KX1jYXRjaChlKXt0aHJvdyBReS5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHNldCBzdHJlYW0gZmFsbGJhY2sgb3B0aW9uXCIpLGUudG9TdHJpbmcoKSksZX1ReS5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gc2V0IHJlbW90ZSBcIikuY29uY2F0KGUsXCIgc3RyZWFtIGZhbGxiYWNrIHR5cGUgdG8gXCIpLmNvbmNhdCh0KSksdGhpcy5fc3RyZWFtRmFsbGJhY2tUeXBlQ2FjaGVNYXAuc2V0KGUsdCl9c2V0RW5jcnlwdGlvbkNvbmZpZyhlLHQsaSxuKXshZnVuY3Rpb24oZSl7c3YoZSxcImVuY3J5cHRpb25Nb2RlXCIsW1wiYWVzLTEyOC14dHNcIixcImFlcy0yNTYteHRzXCIsXCJhZXMtMTI4LWVjYlwiLFwic200LTEyOC1lY2JcIixcImFlcy0xMjgtZ2NtXCIsXCJhZXMtMjU2LWdjbVwiLFwiYWVzLTEyOC1nY20yXCIsXCJhZXMtMjU2LWdjbTJcIixcIm5vbmVcIl0pfShlKSxkdih0LFwic2VjcmV0XCIpO2NvbnN0IHI9W1wiYWVzLTEyOC1nY20yXCIsXCJhZXMtMjU2LWdjbTJcIl07aWYoRG4ocikuY2FsbChyLGUpKXtpZighaXx8IShpIGluc3RhbmNlb2YgVWludDhBcnJheSYmMzI9PT1pLmxlbmd0aCkpdGhyb3cgbmV3IFNiKG52LklOVkFMSURfUEFSQU1TLFwic2FsdCBtdXN0IGJlIGFuIFVpbnQ4QXJyYXkgYW5kIGV4YWN0bHkgZXF1YWwgdG8gMzIgYnl0ZXNcIil9ZWxzZSBpZihpKXRocm93IG5ldyBTYihudi5JTlZBTElEX1BBUkFNUyxcImN1cnJlbnQgZW5jcnlwdCBtb2RlIGRvZXMgbm90IG5lZWQgc2FsdFwiKTtpZihuKXtpZihvdihuLFwiZW5jcnlwdERhdGFTdHJlYW1cIiksIURuKHIpLmNhbGwocixlKSl0aHJvdyBuZXcgU2IobnYuSU5WQUxJRF9QQVJBTVMsXCJjdXJyZW50IGVuY3J5cHQgbW9kZSBkb2VzIG5vdCBzdXBwb3J0IGRhdGEgc3RyZWFtXCIpO3RoaXMuX2VuY3J5cHREYXRhU3RyZWFtPSEwfW5ldyBSZWdFeHAoXCJeKD89LipbYS16XSkoPz0uKltBLVpdKSg/PS4qWzAtOV0pKD89LipbIUAjJCVeJiosLjw+Py86OydcXFwifHt9XFxcXFtcXFxcXV0pKD89Lns4LH0pXCIpLnRlc3QodCl8fFF5Lndhcm5pbmcoXCJUaGUgc2VjcmV0IGlzIG5vdCBzdHJvbmc6XFxuICAgICAgVGhlIHNlY3JldCBtdXN0IGNvbnRhaW4gYXQgbGVhc3QgMSBsb3dlcmNhc2UgYWxwaGFiZXRpY2FsIGNoYXJhY3RlcixcXG4gICAgICBUaGUgc2VjcmV0IG11c3QgY29udGFpbiBhdCBsZWFzdCAxIHVwcGVyY2FzZSBhbHBoYWJldGljYWwgY2hhcmFjdGVyLFxcbiAgICAgIFRoZSBzZWNyZXQgbXVzdCBjb250YWluIGF0IGxlYXN0IDEgbnVtZXJpYyBjaGFyYWN0ZXIsXFxuICAgICAgVGhlIHNlY3JldCBtdXN0IGNvbnRhaW4gYXQgbGVhc3Qgb25lIHNwZWNpYWwgY2hhcmFjdGVyLFxcbiAgICAgIFRoZSBzZWNyZXQgbXVzdCBiZSBlaWdodCBjaGFyYWN0ZXJzIG9yIGxvbmdlci5cXG4gICAgICBcIiksdGhpcy5fZW5jcnlwdGlvbk1vZGU9ZSx0aGlzLl9lbmNyeXB0aW9uU2VjcmV0PXQsaSYmKHRoaXMuX2VuY3J5cHRpb25TYWx0PXF2KGkpKX1hc3luYyByZW5ld1Rva2VuKGUpe2lmKGR2KGUsXCJ0b2tlblwiLDEsMjA0NyksIXRoaXMuX2tleXx8IXRoaXMuX2pvaW5JbmZvKXRocm93IG5ldyBTYihudi5JTlZBTElEX09QRVJBVElPTixcInJlbmV3VG9rZW4gc2hvdWxkIG5vdCBiZSBjYWxsZWQgYmVmb3JlIHVzZXIgam9pblwiKTtjb25zdCB0PXRoaXMuX2tleTt0aGlzLl9rZXk9ZSx0aGlzLl9qb2luSW5mbyYmKHRoaXMuX2pvaW5JbmZvLnRva2VuPWUpO2NvbnN0IGk9YXdhaXQgdGhpcy5fcmVuZXdUb2tlbk11dGV4LmxvY2soKTt0cnl7aWYoRHkoXCJVU0VfTkVXX1RPS0VOXCIpKXtReS5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHN0YXJ0IHJlbmV3IHRva2VuIHdpdGggdGlja2V0IGZyb20gdW5pbGJzXCIpKTtjb25zdCB0PWF3YWl0IE1VKHRoaXMuX2pvaW5JbmZvLHRoaXMuX2F4aW9zQ2FuY2VsU291cmNlLnRva2VuLHRoaXMuX2NvbmZpZy5odHRwUmV0cnlDb25maWd8fF95KTtReS5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGdldCB0aWNrZXQgZnJvbSB1bmlsYnMgc3VjY2Vzc1wiKSksYXdhaXQgdGhpcy5fZ2F0ZXdheS5yZW5ld1Rva2VuKHt0b2tlbjplLHRpY2tldDp0fSl9ZWxzZSBReS5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHN0YXJ0IHJlbmV3IHRva2VuIHdpdGhvdXQgdGlja2V0XCIpKSxhd2FpdCB0aGlzLl9nYXRld2F5LnJlbmV3VG9rZW4oe3Rva2VuOmV9KTtReS5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHJlbmV3VG9rZW4gc3VjY2Vzc1wiKSl9Y2F0Y2goZSl7dGhyb3cgdGhpcy5fa2V5PXQsdGhpcy5fam9pbkluZm8udG9rZW49dCxReS5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHJlbmV3VG9rZW4gZmFpbGVkXCIpLGUudG9TdHJpbmcoKSksZX1maW5hbGx5e2koKX19ZW5hYmxlQXVkaW9Wb2x1bWVJbmRpY2F0b3IoKXt0aGlzLl9hdWRpb1ZvbHVtZUluZGljYXRpb25JbnRlcnZhbD9ReS53YXJuaW5nKFwieW91IGhhdmUgYWxyZWFkeSBlbmFibGVkIGF1ZGlvIHZvbHVtZSBpbmRpY2F0b3IhXCIpOnRoaXMuX2F1ZGlvVm9sdW1lSW5kaWNhdGlvbkludGVydmFsPXdpbmRvdy5zZXRJbnRlcnZhbCgoKCk9Pntjb25zdCBlPXRoaXMuX3AycENoYW5uZWwuZ2V0QXVkaW9MZXZlbHMoKTt0aGlzLnNhZmVFbWl0KE52LlZPTFVNRV9JTkRJQ0FUT1IsZSl9KSxEeShcIkFVRElPX1ZPTFVNRV9JTkRJQ0FUSU9OX0lOVEVSVkFMXCIpfHwyZTMpfWdldFJUQ1N0YXRzKCl7Y29uc3QgZT10aGlzLl9zdGF0c0NvbGxlY3Rvci5nZXRSVENTdGF0cygpLHQ9dGhpcy5fZ2F0ZXdheS5nZXRJbkNoYW5uZWxJbmZvKCk7cmV0dXJuIGUuRHVyYXRpb249TWF0aC5yb3VuZCh0LmR1cmF0aW9uLzFlMyksZX1hc3luYyBzdGFydExpdmVTdHJlYW1pbmcoZSx0KXtpZighdCl7aWYoXCJoMjY0XCIhPT10aGlzLmNvZGVjKXRocm93IG5ldyBTYihudi5MSVZFX1NUUkVBTUlOR19JTlZBTElEX1JBV19TVFJFQU0sXCJyYXcgc3RyZWFtaW5nIGlzIG9ubHkgc3VwcG9ydCBoMjY0XCIpO2lmKCF0aGlzLl9wMnBDaGFubmVsLmhhc0xvY2FsTWVkaWEoKSl0aHJvdyBuZXcgU2IobnYuTElWRV9TVFJFQU1JTkdfSU5WQUxJRF9SQVdfU1RSRUFNLFwiY2FuIG5vdCBmaW5kIHN0cmVhbSB0byByYXcgc3RyZWFtaW5nXCIpfWlmKHRoaXMuX2xpdmVSYXdTdHJlYW1pbmdDbGllbnQmJnRoaXMuX2xpdmVSYXdTdHJlYW1pbmdDbGllbnQuaGFzVXJsKGUpfHx0aGlzLl9saXZlVHJhbnNjb2RlU3RyZWFtaW5nQ2xpZW50JiZ0aGlzLl9saXZlVHJhbnNjb2RlU3RyZWFtaW5nQ2xpZW50Lmhhc1VybChlKSl0aHJvdyBuZXcgU2IobnYuTElWRV9TVFJFQU1JTkdfVEFTS19DT05GTElDVCk7Y29uc3QgaT10P0NiLlRSQU5TQ09ERTpDYi5SQVc7cmV0dXJuIHRoaXMuX2NyZWF0ZUxpdmVTdHJlYW1pbmdDbGllbnQoaSkuc3RhcnRMaXZlU3RyZWFtaW5nVGFzayhlLGkpfXNldExpdmVUcmFuc2NvZGluZyhlKXtyZXR1cm4gdGhpcy5fY3JlYXRlTGl2ZVN0cmVhbWluZ0NsaWVudChDYi5UUkFOU0NPREUpLnNldFRyYW5zY29kaW5nQ29uZmlnKGUpfWFzeW5jIHN0b3BMaXZlU3RyZWFtaW5nKGUpe2NvbnN0IHQ9W3RoaXMuX2xpdmVSYXdTdHJlYW1pbmdDbGllbnQsdGhpcy5fbGl2ZVRyYW5zY29kZVN0cmVhbWluZ0NsaWVudF0uZmlsdGVyKCh0PT50JiZ0Lmhhc1VybChlKSkpO2lmKCF0Lmxlbmd0aCl0aHJvdyBuZXcgU2IobnYuSU5WQUxJRF9QQVJBTVMsXCJjYW4gbm90IGZpbmQgbGl2ZSBzdHJlYW1pbmcgdXJsIHRvIHN0b3BcIik7YXdhaXQgR2guYWxsKHQubWFwKCh0PT50JiZ0LnN0b3BMaXZlU3RyZWFtaW5nVGFzayhlKSkpKX1hc3luYyBzdGFydENoYW5uZWxNZWRpYVJlbGF5KGUpe2JWKGUpO2NvbnN0IHQ9dGhpcy5fY3JlYXRlQ2hhbm5lbE1lZGlhUmVsYXlDbGllbnQoKTthd2FpdCB0LnN0YXJ0Q2hhbm5lbE1lZGlhUmVsYXkoZSl9YXN5bmMgdXBkYXRlQ2hhbm5lbE1lZGlhUmVsYXkoZSl7YlYoZSk7Y29uc3QgdD10aGlzLl9jcmVhdGVDaGFubmVsTWVkaWFSZWxheUNsaWVudCgpO2F3YWl0IHQudXBkYXRlQ2hhbm5lbE1lZGlhUmVsYXkoZSl9YXN5bmMgc3RvcENoYW5uZWxNZWRpYVJlbGF5KCl7Y29uc3QgZT10aGlzLl9jcmVhdGVDaGFubmVsTWVkaWFSZWxheUNsaWVudCgpO2F3YWl0IGUuc3RvcENoYW5uZWxNZWRpYVJlbGF5KCksdGhpcy5fc3RhdHNDb2xsZWN0b3Iub25TdGF0c0NoYW5nZWQmJih0aGlzLl9zdGF0c0NvbGxlY3Rvci5vblN0YXRzQ2hhbmdlZD12b2lkIDApfWFzeW5jIHNlbmRTdHJlYW1NZXNzYWdlKGUpe3ZhciB0O2xldCBpPSEoYXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0pfHxhcmd1bWVudHNbMV07aWYoIXRoaXMuX2pvaW5JbmZvKXRocm93IG5ldyBTYihudi5JTlZBTElEX09QRVJBVElPTixcImNhbiBub3Qgc2VuZCBkYXRhIHN0cmVhbSwgbm90IGpvaW5lZFwiKTtpZigoXCJzdHJpbmdcIj09dHlwZW9mIGV8fGUgaW5zdGFuY2VvZiBVaW50OEFycmF5KSYmKGU9e3BheWxvYWQ6ZX0pLFwic3RyaW5nXCI9PXR5cGVvZiBlLnBheWxvYWQpe2NvbnN0IHQ9bmV3IFRleHRFbmNvZGVyO2UucGF5bG9hZD10LmVuY29kZShlLnBheWxvYWQpfWxldCBuPSExO3RoaXMuX2VuY3J5cHREYXRhU3RyZWFtJiZ0aGlzLl9lbmNyeXB0RGF0YVN0cmVhbUl2JiZ0aGlzLl9lbmNyeXB0RGF0YVN0cmVhbUtleSYmd2luZG93LmNyeXB0by5zdWJ0bGUmJkRuKHQ9W1wiYWVzLTEyOC1nY20yXCIsXCJhZXMtMjU2LWdjbTJcIl0pLmNhbGwodCx0aGlzLl9lbmNyeXB0aW9uTW9kZSkmJihuPSEwLGUucGF5bG9hZD1hd2FpdCBhc3luYyBmdW5jdGlvbihlLHQsaSl7dmFyIG47Y29uc3Qgcj1KbihuPUFycmF5LmZyb20oaSkpLmNhbGwobiwoKGUsdCk9PmUrdCksMCksbz17c2VydmVyVHM6MCxzZXE6QnkrKyxsZW5ndGg6aS5sZW5ndGgsY2hlY2tTdW06cn0scz1uZXcgVWludDhBcnJheShheShyLDIpKSxhPW5ldyBBcnJheUJ1ZmZlcihGeSksYz1uZXcgRGF0YVZpZXcoYSk7Yy5zZXRVaW50MzIoMCxvLnNlcnZlclRzKSxjLnNldFVpbnQxNig0LG8uc2VxKSxjLnNldFVpbnQxNig2LG8ubGVuZ3RoKSxjLnNldFVpbnQxNig4LG8uY2hlY2tTdW0pO2NvbnN0IGQ9MTYtaS5sZW5ndGglMTY7aT1KdihpLG5ldyBVaW50OEFycmF5KGQpKTtjb25zdCBsPWF3YWl0IHdpbmRvdy5jcnlwdG8uc3VidGxlLmVuY3J5cHQoe25hbWU6XCJBRVMtR0NNXCIsaXY6ZSx0YWdMZW5ndGg6VXksYWRkaXRpb25hbERhdGE6c30sdCxpKTtyZXR1cm4gSnYobmV3IFVpbnQ4QXJyYXkoYSksbmV3IFVpbnQ4QXJyYXkobCkpfSh0aGlzLl9lbmNyeXB0RGF0YVN0cmVhbUl2LHRoaXMuX2VuY3J5cHREYXRhU3RyZWFtS2V5LGUucGF5bG9hZCkpO2lmKG5ldyBCbG9iKFtlLnBheWxvYWRdKS5zaXplPjEwMjQpdGhyb3cgbmV3IFNiKG52LklOVkFMSURfUEFSQU1TLG4/XCJlbmNyeXB0ZWQgc3RyZWFtIG1lc3NhZ2Ugb3V0IG9mIHJhbmdlLlwiOlwic3RyZWFtIG1lc3NhZ2Ugb3V0IG9mIHJhbmdlLlwiKTtyZXR1cm4gdGhpcy5fZ2F0ZXdheS5zaWduYWwucmVxdWVzdChfYi5EQVRBX1NUUkVBTSx7cGF5bG9hZDpxdihlLnBheWxvYWQpLHN5bmNXaXRoQXVkaW86ZS5zeW5jV2l0aEF1ZGlvLHNlbmRUczpEYXRlLm5vdygpLWdGfSwhaSl9c2VuZE1ldGFkYXRhKGUpe2lmKCF0aGlzLl9qb2luSW5mbyl0aHJvdyBuZXcgU2IobnYuSU5WQUxJRF9PUEVSQVRJT04sXCJjYW4gbm90IHNlbmQgbWV0YWRhdGEsIG5vdCBqb2luZWRcIik7aWYobmV3IEJsb2IoW2VdKS5zaXplPjEwMjQpdGhyb3cgbmV3IFNiKG52Lk1FVEFEQVRBX09VVF9PRl9SQU5HRSk7cmV0dXJuIHRoaXMuX2dhdGV3YXkuc2lnbmFsLnJlcXVlc3QoX2IuU0VORF9NRVRBREFUQSx7c2Vzc2lvbl9pZDp0aGlzLl9qb2luSW5mby5zaWQsbWV0YWRhdGE6cXYoZSl9KX1hc3luYyBzZW5kQ3VzdG9tUmVwb3J0TWVzc2FnZShlKXtpZihBcnJheS5pc0FycmF5KGUpfHwoZT1bZV0pLGUuZm9yRWFjaCgkeSksIXRoaXMuX2pvaW5JbmZvKXRocm93IG5ldyBTYihudi5JTlZBTElEX09QRVJBVElPTixcImNhbiBub3Qgc2VuZCBjdXN0b20gcmVwb3J0LCBub3Qgam9pbmVkXCIpO2F3YWl0IHNBLnNlbmRDdXN0b21SZXBvcnRNZXNzYWdlKHRoaXMuX2pvaW5JbmZvLnNpZCxlKX1nZXRMb2NhbEF1ZGlvU3RhdHMoKXtyZXR1cm4gdGhpcy5fc3RhdHNDb2xsZWN0b3IuZ2V0TG9jYWxBdWRpb1RyYWNrU3RhdHMoKX1nZXRSZW1vdGVBdWRpb1N0YXRzKCl7cmV0dXJuIHRoaXMuX3N0YXRzQ29sbGVjdG9yLmdldFJlbW90ZUF1ZGlvVHJhY2tTdGF0cygpfWdldExvY2FsVmlkZW9TdGF0cygpe3JldHVybiB0aGlzLl9zdGF0c0NvbGxlY3Rvci5nZXRMb2NhbFZpZGVvVHJhY2tTdGF0cygpfWdldFJlbW90ZVZpZGVvU3RhdHMoKXtyZXR1cm4gdGhpcy5fc3RhdHNDb2xsZWN0b3IuZ2V0UmVtb3RlVmlkZW9UcmFja1N0YXRzKCl9Z2V0UmVtb3RlTmV0d29ya1F1YWxpdHkoKXtyZXR1cm4gdGhpcy5fc3RhdHNDb2xsZWN0b3IuZ2V0UmVtb3RlTmV0d29ya1F1YWxpdHlTdGF0cygpfWFzeW5jIHBpY2tTVkNMYXllcihlLHQpe3N2KHQuc3BhdGlhbExheWVyLFwic3BhdGlhbExheWVyXCIsWzAsMSwyLDNdKSxzdih0LnRlbXBvcmFsTGF5ZXIsXCJ0ZW1wb3JhbExheWVyXCIsWzAsMSwyLDNdKTt0cnl7YXdhaXQgdGhpcy5fZ2F0ZXdheS5waWNrU1ZDTGF5ZXIoZSx0KX1jYXRjaChlKXt0aHJvdyBReS5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHBpY2sgU1ZDIGxheWVyIGZhaWxlZFwiKSxlLnRvU3RyaW5nKCkpLGV9fWFzeW5jIHNldFJUTUNvbmZpZyhlKXtjb25zdHthcFJUTTp0PSExLHJ0bUZsYWc6aX09ZTtpZihvdih0LFwiYXBSVE1cIiksYXYoaSxcInJ0bUZsYWdcIiwwKSx0aGlzLl9ydG1Db25maWcuYXBSVE09dCx0aGlzLl9ydG1Db25maWcucnRtRmxhZz1pLFF5LmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gc2V0UlRNY29uZmlnIFwiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkoZSksXCIgaW4gXCIpLmNvbmNhdCh0aGlzLmNvbm5lY3Rpb25TdGF0ZSxcIiBzdGF0ZVwiKSksKFwiQ09OTkVDVEVEXCI9PT10aGlzLmNvbm5lY3Rpb25TdGF0ZXx8XCJSRUNPTk5FQ1RJTkdcIj09PXRoaXMuY29ubmVjdGlvblN0YXRlKSYmdGhpcy5fam9pbkluZm8pcmV0dXJuIHRoaXMuX2pvaW5JbmZvLmFwUlRNPXQsdGhpcy5fam9pbkluZm8ucnRtRmxhZz1pLHRoaXMuX2dhdGV3YXkuc2V0UlRNMkZsYWcoaSl9X3Jlc2V0KCl7aWYoUXkuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSByZXNldCBjbGllbnRcIikpLHRoaXMuX2F4aW9zQ2FuY2VsU291cmNlLmNhbmNlbCgpLHRoaXMuX2F4aW9zQ2FuY2VsU291cmNlPUVJLkNhbmNlbFRva2VuLnNvdXJjZSgpLHRoaXMuX3N0cmVhbUZhbGxiYWNrVHlwZUNhY2hlTWFwPW5ldyBNYXAsdGhpcy5fcmVtb3RlU3RyZWFtVHlwZUNhY2hlTWFwPW5ldyBNYXAsdGhpcy5fY29uZmlnRGlzdHJpYnV0ZS5zdG9wR2V0Q29uZmlnRGlzdHJpYnV0ZSgpLHRoaXMuX2pvaW5JbmZvJiZLRih0aGlzLl9qb2luSW5mbyksdGhpcy5fam9pbkluZm89dm9pZCAwLHRoaXMuX3Byb3h5U2VydmVyPXZvaWQgMCx0aGlzLl9kZWZhdWx0U3RyZWFtRmFsbGJhY2tUeXBlPXZvaWQgMCx0aGlzLl9zZXNzaW9uSWQ9bnVsbCx0aGlzLnN0b3JlLnNlc3Npb25JZD1udWxsLHRoaXMuX3N0YXRzQ29sbGVjdG9yLnJlc2V0KCksdGhpcy5fa2V5PXZvaWQgMCx0aGlzLl9hcHBJZD12b2lkIDAsdGhpcy5fdWlkPXZvaWQgMCx0aGlzLnN0b3JlLnVpZD12b2lkIDAsdGhpcy5fY2hhbm5lbE5hbWU9dm9pZCAwLHRoaXMuX2VuY3J5cHRpb25Nb2RlPVwibm9uZVwiLHRoaXMuX2VuY3J5cHRpb25TZWNyZXQ9bnVsbCx0aGlzLl9lbmNyeXB0aW9uU2FsdD1udWxsLHRoaXMuX2VuY3J5cHREYXRhU3RyZWFtS2V5PW51bGwsdGhpcy5fZW5jcnlwdERhdGFTdHJlYW1Jdj1udWxsLHRoaXMuX3BlbmRpbmdQdWJsaXNoZWRVc2Vycz1bXSx0aGlzLl91c2Vycy5mb3JFYWNoKChlPT57ZS5fYXVkaW9UcmFjayYmZS5fYXVkaW9UcmFjay5fZGVzdHJveSgpLGUuX3ZpZGVvVHJhY2smJmUuX3ZpZGVvVHJhY2suX2Rlc3Ryb3koKSxlLl9kYXRhQ2hhbm5lbHMmJihlLl9kYXRhQ2hhbm5lbHMuZm9yRWFjaCgoZT0+ZS5fY2xvc2UoKSkpLGUuX2RhdGFDaGFubmVscy5sZW5ndGg9MCl9KSksdGhpcy5fdXNlcnM9W10sdGhpcy5fYXVkaW9Wb2x1bWVJbmRpY2F0aW9uSW50ZXJ2YWwmJih3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLl9hdWRpb1ZvbHVtZUluZGljYXRpb25JbnRlcnZhbCksdGhpcy5fYXVkaW9Wb2x1bWVJbmRpY2F0aW9uSW50ZXJ2YWw9dm9pZCAwKSxcImZhbGxiYWNrXCI9PT10aGlzLl9jbG91ZFByb3h5U2VydmVyTW9kZSYmKHRoaXMuX2Nsb3VkUHJveHlTZXJ2ZXJNb2RlPVwiZGlzYWJsZWRcIix0aGlzLnN0b3JlLmNsb3VkUHJveHlTZXJ2ZXJNb2RlPVwiZGlzYWJsZWRcIiksdGhpcy5fcDJwQ2hhbm5lbC5yZXNldCgpLHRoaXMuX3B1Ymxpc2hNdXRleD1uZXcgaHkoXCJjbGllbnQtcHVibGlzaFwiKSx0aGlzLl9zdWJzY3JpYmVNdXRleD1uZXcgaHkoXCJjbGllbnQtc3Vic2NyaWJlXCIpLHRoaXMuX25ldHdvcmtRdWFsaXR5SW50ZXJ2YWwmJih3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLl9uZXR3b3JrUXVhbGl0eUludGVydmFsKSx0aGlzLl9uZXR3b3JrUXVhbGl0eUludGVydmFsPXZvaWQgMCksdGhpcy5fbGl2ZVJhd1N0cmVhbWluZ0NsaWVudCYmKHRoaXMuX2xpdmVSYXdTdHJlYW1pbmdDbGllbnQudGVybWluYXRlKCksdGhpcy5fbGl2ZVJhd1N0cmVhbWluZ0NsaWVudC5yZW1vdmVBbGxMaXN0ZW5lcnMoKSx0aGlzLl9saXZlUmF3U3RyZWFtaW5nQ2xpZW50PXZvaWQgMCksdGhpcy5fbGl2ZVRyYW5zY29kZVN0cmVhbWluZ0NsaWVudCYmKHRoaXMuX2xpdmVUcmFuc2NvZGVTdHJlYW1pbmdDbGllbnQudGVybWluYXRlKCksdGhpcy5fbGl2ZVRyYW5zY29kZVN0cmVhbWluZ0NsaWVudC5yZW1vdmVBbGxMaXN0ZW5lcnMoKSx0aGlzLl9saXZlVHJhbnNjb2RlU3RyZWFtaW5nQ2xpZW50PXZvaWQgMCksdGhpcy5fY2hhbm5lbE1lZGlhUmVsYXlDbGllbnQmJih0aGlzLl9jaGFubmVsTWVkaWFSZWxheUNsaWVudC5kaXNwb3NlKCksdGhpcy5fY2hhbm5lbE1lZGlhUmVsYXlDbGllbnQ9dm9pZCAwKSx0aGlzLl9pbnNwZWN0KXRyeXt0aGlzLl9pbnNwZWN0LmNsb3NlKCksdGhpcy5faW5zcGVjdD12b2lkIDB9Y2F0Y2goZSl7fWlmKHRoaXMuX21vZGVyYXRpb24pdHJ5e3RoaXMuc2V0SW1hZ2VNb2RlcmF0aW9uKCExKX1jYXRjaChlKXt9fV9zdGFydFNlc3Npb24oZSx0KXt2YXIgaTtjb25zdCBuPWV8fHR5KCk7ZT9ReS5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIG5ldyBTZXNzaW9uIFwiKS5jb25jYXQobikpOlF5LmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gcmVuZXdTZXNzaW9uIFwiKS5jb25jYXQodGhpcy5fc2Vzc2lvbklkLFwiID0+IFwiKS5jb25jYXQobikpO2NvbnN0IHI9ZT9cIlwiOnRoaXMuX3Nlc3Npb25JZHx8XCJcIjt0aGlzLl9zZXNzaW9uSWQ9bix0aGlzLnN0b3JlLnNlc3Npb25JZD1uO2NvbnN0IG89e2x0czoobmV3IERhdGUpLmdldFRpbWUoKSxtb2RlOnRoaXMubW9kZSxidWlsZEZvcm1hdDoyLHN0cmluZ1VpZDoobnVsbD09dD92b2lkIDA6dC5zdHJpbmdVaWQpfHwobnVsbD09PShpPXRoaXMuX2pvaW5JbmZvKXx8dm9pZCAwPT09aT92b2lkIDA6aS5zdHJpbmdVaWQpLGNoYW5uZWxQcm9maWxlOlwibGl2ZVwiPT09dGhpcy5tb2RlPzE6MCxjaGFubmVsTW9kZTowLGlzQUJUZXN0U3VjY2VzczpOdW1iZXIodGhpcy5fY29uZmlnRGlzdHJpYnV0ZS5pc1N1Y2Nlc3MpLGxzaWQ6cixjbGllbnRSb2xlOlwiYXVkaWVuY2VcIj09PXRoaXMucm9sZT8yOjF9O3NBLnNlc3Npb25Jbml0KHRoaXMuX3Nlc3Npb25JZCxTaih7Y25hbWU6dC5jaGFubmVsLGFwcGlkOnQuYXBwSWR9LG8pKSx0aGlzLl9qb2luSW5mbyYmKHRoaXMuX2pvaW5JbmZvLnNpZD1uKSx0aGlzLl9nYXRld2F5LmpvaW5JbmZvJiYodGhpcy5fZ2F0ZXdheS5qb2luSW5mby5zaWQ9bil9YXN5bmMgX3B1Ymxpc2hIaWdoU3RyZWFtKGUpe2lmKCF0aGlzLl9qb2luSW5mb3x8dm9pZCAwPT09dGhpcy5fdWlkKXRocm93IG5ldyBTYihudi5JTlZBTElEX09QRVJBVElPTixcIkNhbid0IHB1Ymxpc2ggc3RyZWFtLCBoYXZlbid0IGpvaW5lZCB5ZXQhXCIpO2lmKFwiQ09OTkVDVEVEXCIhPT10aGlzLmNvbm5lY3Rpb25TdGF0ZSYmXCJSRUNPTk5FQ1RJTkdcIiE9PXRoaXMuY29ubmVjdGlvblN0YXRlKXRocm93IG5ldyBTYihudi5JTlZBTElEX09QRVJBVElPTixcImNhbiBub3QgcHVibGlzaCBzdHJlYW0gaW4gXCIuY29uY2F0KHRoaXMuY29ubmVjdGlvblN0YXRlLFwiIHN0YXRlXCIpKTtpZihcImF1dG9cIj09PXRoaXMuX3R1cm5TZXJ2ZXIubW9kZSYmRHkoXCJGT1JDRV9UVVJOXCIpJiYhRHkoXCJUVVJOX0VOQUJMRV9UQ1BcIikmJiFEeShcIlRVUk5fRU5BQkxFX1VEUFwiKSl0aHJvdyBuZXcgU2IobnYuVU5FWFBFQ1RFRF9FUlJPUixcImZvcmNlIFRVUk4gV2l0aCBObyBUVVJOIENvbmZpZ3VyYXRpb25cIik7UXkuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBwdWJsaXNoIGhpZ2ggc3RyZWFtXCIpKTt0cnl7Y29uc3QgaT1hd2FpdCB0aGlzLl9wMnBDaGFubmVsLnB1Ymxpc2goZSx0aGlzLl9pc0R1YWxTdHJlYW1FbmFibGVkLHRoaXMuX2xvd1N0cmVhbVBhcmFtZXRlcik7aWYodGhpcy5fcDJwQ2hhbm5lbCBpbnN0YW5jZW9mIFJWKXtjb25zdCBlPShhd2FpdCBpLm5leHQoKSkudmFsdWU7aWYoZSl7dHJ5e2F3YWl0IHRoaXMuX2dhdGV3YXkuc2VuZEV4dGVuc2lvbk1lc3NhZ2Uoc3cuUFVCTElTSCxlLCEwKX1jYXRjaChlKXt0aHJvdyBpLnRocm93KGUpLGV9YXdhaXQgaS5uZXh0KCl9dGhpcy5fcDJwQ2hhbm5lbC5yZXBvcnRQdWJsaXNoRXZlbnQoITAsbnVsbCl9ZWxzZXtjb25zdCBuPShhd2FpdCBpLm5leHQoKSkudmFsdWU7aWYobil7dmFyIHQ7bGV0IGU7dHJ5e2U9YXdhaXQgdGhpcy5fZ2F0ZXdheS5wdWJsaXNoKHRoaXMuX3VpZCxuLCEwKX1jYXRjaChlKXtpZihlLmNvZGUhPT1udi5ESVNDT05ORUNUX1AyUCl0aHJvdyBpLnRocm93KGUpLGV9YXdhaXQgaS5uZXh0KChudWxsPT09KHQ9ZSl8fHZvaWQgMD09PXQ/dm9pZCAwOnQub3J0Yyl8fFtdKX10aGlzLl9wMnBDaGFubmVsLnJlcG9ydFB1Ymxpc2hFdmVudCghMCxudWxsKTtmb3IoY29uc3QgdCBvZiBlKXQgaW5zdGFuY2VvZiBIayYmdC5fZW5jb2RlckNvbmZpZyYmdGhpcy5fZ2F0ZXdheS5zZXRWaWRlb1Byb2ZpbGUodC5fZW5jb2RlckNvbmZpZyksIXQubXV0ZWQmJnQuZW5hYmxlZHx8YXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC5tdXRlTG9jYWxUcmFjayh0KX19Y2F0Y2godCl7aWYodGhpcy5fcDJwQ2hhbm5lbC5yZXBvcnRQdWJsaXNoRXZlbnQoITEsbnVsbD09dD92b2lkIDA6dC5jb2RlLGUpLChudWxsPT10P3ZvaWQgMDp0LmNvZGUpPT09bnYuV1NfQUJPUlQpcmV0dXJuO3Rocm93IHR9fWFzeW5jIF9wdWJsaXNoTG93U3RyZWFtKCl7aWYoIXRoaXMuX2pvaW5JbmZvfHx2b2lkIDA9PT10aGlzLl91aWQpdGhyb3cgbmV3IFNiKG52LklOVkFMSURfT1BFUkFUSU9OLFwiQ2FuJ3QgcHVibGlzaCBzdHJlYW0sIGhhdmVuJ3Qgam9pbmVkIHlldCFcIik7aWYoXCJDT05ORUNURURcIiE9PXRoaXMuY29ubmVjdGlvblN0YXRlJiZcIlJFQ09OTkVDVElOR1wiIT09dGhpcy5jb25uZWN0aW9uU3RhdGUpdGhyb3cgbmV3IFNiKG52LklOVkFMSURfT1BFUkFUSU9OLFwiY2FuIG5vdCBwdWJsaXNoIHN0cmVhbSBpbiBcIi5jb25jYXQodGhpcy5jb25uZWN0aW9uU3RhdGUsXCIgc3RhdGVcIikpO1F5LmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gcHVibGlzaCBsb3cgc3RyZWFtXCIpKTtjb25zdCBlPXRoaXMuX2NvbmZpZ0Rpc3RyaWJ1dGUuZ2V0TG93U3RyZWFtQ29uZmlnRGlzdHJpYnV0ZSgpO2UmJmUuYml0cmF0ZSYmKHRoaXMuX2xvd1N0cmVhbVBhcmFtZXRlcnx8KHRoaXMuX2xvd1N0cmVhbVBhcmFtZXRlcj17d2lkdGg6MTYwLGhlaWdodDoxMjAsZnJhbWVyYXRlOjE1LGJpdHJhdGU6NTB9KSx0aGlzLl9sb3dTdHJlYW1QYXJhbWV0ZXImJnRoaXMuX2xvd1N0cmVhbVBhcmFtZXRlci5iaXRyYXRlJiZlLmJpdHJhdGU8dGhpcy5fbG93U3RyZWFtUGFyYW1ldGVyLmJpdHJhdGUmJih0aGlzLl9sb3dTdHJlYW1QYXJhbWV0ZXIuYml0cmF0ZT1lLmJpdHJhdGUpKTt0cnl7Y29uc3QgZT1hd2FpdCB0aGlzLl9wMnBDaGFubmVsLnB1Ymxpc2hMb3dTdHJlYW0odGhpcy5fbG93U3RyZWFtUGFyYW1ldGVyKSxpPShhd2FpdCBlLm5leHQoKSkudmFsdWU7aWYoaSl7dmFyIHQ7bGV0IG47dHJ5e249YXdhaXQgdGhpcy5fZ2F0ZXdheS5wdWJsaXNoKHRoaXMuX3VpZCxpLCEwKX1jYXRjaCh0KXtpZih0LmNvZGUhPT1udi5ESVNDT05ORUNUX1AyUCl0aHJvdyBlLnRocm93KHQpLHR9ZS5uZXh0KChudWxsPT09KHQ9bil8fHZvaWQgMD09PXQ/dm9pZCAwOnQub3J0Yyl8fFtdKSx0aGlzLl9wMnBDaGFubmVsLnJlcG9ydFB1Ymxpc2hFdmVudCghMCxudWxsLHZvaWQgMCwhMCl9fWNhdGNoKGUpe2lmKHRoaXMuX3AycENoYW5uZWwucmVwb3J0UHVibGlzaEV2ZW50KCExLG51bGw9PWU/dm9pZCAwOmUuY29kZSx2b2lkIDAsITApLChudWxsPT1lP3ZvaWQgMDplLmNvZGUpPT09bnYuV1NfQUJPUlQpcmV0dXJuO3Rocm93IGV9fV9jcmVhdGVMaXZlU3RyZWFtaW5nQ2xpZW50KGUpe2NvbnN0IHQ9KCk9PntpZighdGhpcy5fam9pbkluZm98fCF0aGlzLl9hcHBJZCl7cmV0dXJuIG5ldyBTYihudi5JTlZBTElEX09QRVJBVElPTixcImNhbiBub3QgY3JlYXRlIGxpdmUgc3RyZWFtaW5nIGNsaWVudCwgcGxlYXNlIGpvaW4gY2hhbm5lbCBmaXJzdFwiKS50aHJvdygpfWNvbnN0IGU9KHQ9e2pvaW5JbmZvOnRoaXMuX2pvaW5JbmZvLGFwcElkOnRoaXMuX2FwcElkLHdlYnNvY2tldFJldHJ5Q29uZmlnOnRoaXMuX2NvbmZpZy53ZWJzb2NrZXRSZXRyeUNvbmZpZyxodHRwUmV0cnlDb25maWc6dGhpcy5fY29uZmlnLmh0dHBSZXRyeUNvbmZpZ30sbUYoXCJMaXZlU3RyZWFtaW5nXCIpLmNyZWF0ZSh0KSk7dmFyIHQ7cmV0dXJuIGUub25MaXZlU3RyZWFtRXJyb3I9KGUsdCk9PntzQS5yZXBvcnRBcGlJbnZva2UodGhpcy5fc2Vzc2lvbklkLHtuYW1lOkN2Lk9OX0xJVkVfU1RSRUFNX0VSUk9SLG9wdGlvbnM6W2UsdF0sdGFnOkl2LlRSQUNFUn0pLm9uU3VjY2VzcygpLHRoaXMuc2FmZUVtaXQoTnYuTElWRV9TVFJFQU1JTkdfRVJST1IsZSx0KX0sZS5vbkxpdmVTdHJlYW1XYXJuaW5nPShlLHQpPT57c0EucmVwb3J0QXBpSW52b2tlKHRoaXMuX3Nlc3Npb25JZCx7bmFtZTpDdi5PTl9MSVZFX1NUUkVBTV9XQVJOSU5HLG9wdGlvbnM6W2UsdF0sdGFnOkl2LlRSQUNFUn0pLm9uU3VjY2VzcygpLHRoaXMuc2FmZUVtaXQoTnYuTElWRV9TVFJFQU1JTkdfV0FSTklORyxlLHQpfSxlLm9uKHdiLlJFUVVFU1RfV09SS0VSX01BTkFHRVJfTElTVCwoKGUsdCxpKT0+e2lmKCF0aGlzLl9qb2luSW5mbylyZXR1cm4gaShuZXcgU2IobnYuSU5WQUxJRF9PUEVSQVRJT04sXCJjYW4gbm90IGZpbmQgam9pbiBpbmZvIHRvIGdldCB3b3JrZXIgbWFuYWdlclwiKSk7KGFzeW5jIGZ1bmN0aW9uKGUsdCxpLG4pe2NvbnN0IHI9RHkoXCJVQVBfQVBcIikuc2xpY2UoMCxEeShcIkFKQVhfUkVRVUVTVF9DT05DVVJSRU5UXCIpKS5tYXAoKGU9PnQucHJveHlTZXJ2ZXI/XCJodHRwczovL1wiLmNvbmNhdCh0LnByb3h5U2VydmVyLFwiL2FwLz91cmw9XCIpLmNvbmNhdChlK1wiL2FwaS92MT9hY3Rpb249dWFwXCIpOlwiaHR0cHM6Ly9cIi5jb25jYXQoZSxcIi9hcGkvdjE/YWN0aW9uPXVhcFwiKSkpO3JldHVybiBhd2FpdCBfVShyLGUsdCxpLG4pfSkoZSx0aGlzLl9qb2luSW5mbyx0aGlzLl9heGlvc0NhbmNlbFNvdXJjZS50b2tlbixfeSkudGhlbih0KS5jYXRjaChpKX0pKSxlfTtyZXR1cm4gZT09PUNiLlJBVz8odGhpcy5fbGl2ZVJhd1N0cmVhbWluZ0NsaWVudD10aGlzLl9saXZlUmF3U3RyZWFtaW5nQ2xpZW50fHx0KCksdGhpcy5fbGl2ZVJhd1N0cmVhbWluZ0NsaWVudCk6KHRoaXMuX2xpdmVUcmFuc2NvZGVTdHJlYW1pbmdDbGllbnQ9dGhpcy5fbGl2ZVRyYW5zY29kZVN0cmVhbWluZ0NsaWVudHx8dCgpLHRoaXMuX2xpdmVUcmFuc2NvZGVTdHJlYW1pbmdDbGllbnQpfV9jcmVhdGVDaGFubmVsTWVkaWFSZWxheUNsaWVudCgpe2lmKCF0aGlzLl9qb2luSW5mbyl7cmV0dXJuIG5ldyBTYihudi5JTlZBTElEX09QRVJBVElPTixcImNhbiBub3QgY3JlYXRlIGNoYW5uZWwgbWVkaWEgcmVsYXkgY2xpZW50LCBwbGVhc2Ugam9pbiBjaGFubmVsIGZpcnN0XCIpLnRocm93KCl9aWYoIXRoaXMuX2NoYW5uZWxNZWRpYVJlbGF5Q2xpZW50KXtjb25zdHtzZW5kUmVzb2x1dGlvbldpZHRoOnQsc2VuZFJlc29sdXRpb25IZWlnaHQ6aX09dGhpcy5nZXRMb2NhbFZpZGVvU3RhdHMoKSxuPShlPXtqb2luSW5mbzp0aGlzLl9qb2luSW5mbyxjbGllbnRJZDp0aGlzLl9jbGllbnRJZCx3ZWJzb2NrZXRSZXRyeUNvbmZpZzp0aGlzLl9jb25maWcud2Vic29ja2V0UmV0cnlDb25maWcsaHR0cFJldHJ5Q29uZmlnOnRoaXMuX2NvbmZpZy5odHRwUmV0cnlDb25maWcscmVzb2x1dGlvbjp7d2lkdGg6dCxoZWlnaHQ6aX19LG1GKFwiQ2hhbm5lbE1lZGlhUmVsYXlcIikuY3JlYXRlKGUpKTtuLm9uKFwic3RhdGVcIiwoZT0+e2U9PT1MYi5SRUxBWV9TVEFURV9GQUlMVVJFJiZuJiZuLmRpc3Bvc2UoKSx0aGlzLnNhZmVFbWl0KE52LkNIQU5ORUxfTUVESUFfUkVMQVlfU1RBVEUsZSl9KSksbi5vbihcImV2ZW50XCIsKGU9Pnt0aGlzLnNhZmVFbWl0KE52LkNIQU5ORUxfTUVESUFfUkVMQVlfRVZFTlQsZSl9KSksdGhpcy5fY2hhbm5lbE1lZGlhUmVsYXlDbGllbnQ9bix0aGlzLl9zdGF0c0NvbGxlY3Rvci5vblN0YXRzQ2hhbmdlZD0oZSx0KT0+e3ZhciBpO1wicmVzb2x1dGlvblwiPT09ZSYmKG51bGw9PT0oaT10aGlzLl9jaGFubmVsTWVkaWFSZWxheUNsaWVudCl8fHZvaWQgMD09PWl8fGkuc2V0VmlkZW9Qcm9maWxlKHQpKX19dmFyIGU7cmV0dXJuIHRoaXMuX2NoYW5uZWxNZWRpYVJlbGF5Q2xpZW50fV9oYW5kbGVVcGRhdGVEYXRhQ2hhbm5lbChlLHQpe2NvbnN0e2FkZGVkOmksZGVsZXRlZDpufT1lLHI9W107aWYodCl7Y29uc3QgZT1bXTt0aGlzLl91c2Vycy5mb3JFYWNoKCh0PT57dC5fZGF0YUNoYW5uZWxzLmZvckVhY2goKG49PntpLmV2ZXJ5KChlPT5lLnVpZCE9PXQuX3VpbnRpZHx8ZS5zdHJlYW1faWQhPT1uLmlkKSkmJmUucHVzaCh7dWlkOnQuX3VpbnRpZCxzdHJlYW1faWQ6bi5pZCxvcmRlcmVkOm4ub3JkZXJlZCxtYXhfcmV0cmFuc190aW1lczpuLm1heFJldHJhbnNtaXRzLG1ldGFkYXRhOm4ubWV0YWRhdGF9KX0pKX0pKSxlLmxlbmd0aD4wJiZ0aGlzLl9oYW5kbGVVcGRhdGVEYXRhQ2hhbm5lbCh7YWRkZWQ6W10sZGVsZXRlZDplfSl9QXJyYXkuaXNBcnJheShpKSYmaS5sZW5ndGg+MCYmaS5mb3JFYWNoKChlPT57Y29uc3R7dWlkOmksc3RyZWFtX2lkOm4sb3JkZXJlZDpvLG1heF9yZXRyYW5zX3RpbWVzOnMsbWV0YWRhdGE6YX09ZSxjPXRoaXMuX3VzZXJzLmZpbmQoKGU9PmUuX3VpbnRpZD09PWkpKTtpZighYylyZXR1cm4gdm9pZCBReS5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGNhbiBub3QgZmluZCB0YXJnZXQgdXNlciEob25fYWRkX2RhdGFfY2hhbm5lbClcIikpO1F5LmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gZGF0YV9jaGFubmVsIGFkZGVkIHdpdGggdWlkIFwiKS5jb25jYXQoaSkpLERuKHIpLmNhbGwocixjKXx8ci5wdXNoKGMpLGMuX3VpbnRpZHx8KGMuX3VpbnRpZD1pKTtpZighKC0xIT09Yy5fZGF0YUNoYW5uZWxzLmZpbmRJbmRleCgodD0+dC5pZD09PWUuc3RyZWFtX2lkKSkpKXtjb25zdCBlPXtpZDpuLG9yZGVyZWQ6ISFvLG1heFJldHJhbnNtaXRzOnMsbWV0YWRhdGE6YX0saT1mdW5jdGlvbihlKXtyZXR1cm4gZkYoZSwhMCl9KGUpO2MuX2RhdGFDaGFubmVscy5wdXNoKGkpLFF5LmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSByZW1vdGUgdXNlciBcIikuY29uY2F0KGMudWlkLFwiIHB1Ymxpc2hlZCBkYXRhY2hhbm5lbFwiKSksdHx8dGhpcy5zYWZlRW1pdChOdi5VU0VSX1BVQkxJU0hFRCxjLFwiZGF0YWNoYW5uZWxcIixlKX10aGlzLl9wMnBDaGFubmVsLmhhc1BlbmRpbmdSZW1vdGVEYXRhQ2hhbm5lbChjLGUuc3RyZWFtX2lkKSYmKFF5LmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gcmVzdWJzY3JpYmUgZGF0YWNoYW5uZWwgZm9yIHVzZXIgXCIpLmNvbmNhdChjLnVpZCxcIiBhZnRlciByZWNvbm5lY3QuXCIpKSx0aGlzLl9zdWJzY3JpYmVEYXRhQ2hhbm5lbChjLGUuc3RyZWFtX2lkKS5jYXRjaCgoZT0+e1F5LmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gcmVzdWJzY3JpYmUgZGF0YWNoYW5uZWwgZXJyb3JcIiksZS50b1N0cmluZygpKX0pKSl9KSksdCYmKHRoaXMuc2FmZUVtaXQoTnYuUFVCTElTSEVEX1VTRVJfTElTVCx0aGlzLl9wZW5kaW5nUHVibGlzaGVkVXNlcnMpLHRoaXMuX3BlbmRpbmdQdWJsaXNoZWRVc2Vycz1bXSksQXJyYXkuaXNBcnJheShuKSYmbi5sZW5ndGg+MCYmbi5mb3JFYWNoKChlPT57Y29uc3R7dWlkOnQsc3RyZWFtX2lkOml9PWUsbj10aGlzLl91c2Vycy5maW5kKChlPT5lLl91aW50aWQ9PT10KSk7aWYoIW4pcmV0dXJuIHZvaWQgUXkuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBjYW4gbm90IGZpbmQgdGFyZ2V0IHVzZXIhKG9uX2RlbGV0ZV9kYXRhX2NoYW5uZWwpXCIpKTtjb25zdCByPW4uX2RhdGFDaGFubmVscy5maW5kKCh0PT50LmlkPT09ZS5zdHJlYW1faWQpKTtyJiYoUXkuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBkYXRhX3N0cmVhbSBkZWxldGUgd2l0aCB1aWQgXCIpLmNvbmNhdCh0KSksdGhpcy5fcDJwQ2hhbm5lbC51bnN1YnNjcmliZURhdGFDaGFubmVsKG4sW3JdKS50aGVuKChlPT57aWYobi5fZGF0YUNoYW5uZWxzPW4uX2RhdGFDaGFubmVscy5maWx0ZXIoKGU9PmUhPT1yKSksZSlyZXR1cm4gdGhpcy5fZ2F0ZXdheS51bnN1YnNjcmliZURhdGFDaGFubmVsKGUsbi51aWQpfSkpLFF5LmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSByZW1vdGUgdXNlciBcIikuY29uY2F0KHQsXCIgdW5wdWJsaXNoZWQgZGF0YWNoYW5uZWwgLGlkOlwiKS5jb25jYXQoci5pZCkpLHRoaXMuc2FmZUVtaXQoTnYuVVNFUl9VTlBVQkxJU0hFRCxuLFwiZGF0YWNoYW5uZWxcIixyLl9jb25maWcpKX0pKX1faGFuZGxlUmVtb3ZlRGF0YUNoYW5uZWxzKGUpe2NvbnN0IHQ9dGhpcy5fdXNlcnMuZmluZCgodD0+dC51aWQ9PT1lLnVpZCkpO2lmKHQpe2lmKHZvaWQgMCE9PXQuX2RhdGFDaGFubmVscyYmdC5fZGF0YUNoYW5uZWxzLmxlbmd0aD4wKXtReS5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGRhdGFjaGFubmVsIHJlbW92ZWQgd2l0aCB1aWQgXCIpLmNvbmNhdChlLnVpZCkpO2NvbnN0IGk9KCk9PntReS5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gcmVtb3RlIHVzZXIgXCIpLmNvbmNhdCh0LnVpZCxcIiB1bnB1Ymxpc2hlZCBkYXRhY2hhbm5lbFwiKSksdC5fZGF0YUNoYW5uZWxzLmZvckVhY2goKGU9Pnt0aGlzLnNhZmVFbWl0KE52LlVTRVJfVU5QVUJMSVNIRUQsdCxcImRhdGFjaGFubmVsXCIsZS5fY29uZmlnKX0pKX07dGhpcy5fcDJwQ2hhbm5lbC51bnN1YnNjcmliZURhdGFDaGFubmVsKHQsdC5fZGF0YUNoYW5uZWxzKS50aGVuKChlPT57aWYoZSlyZXR1cm4gdGhpcy5fZ2F0ZXdheS51bnN1YnNjcmliZURhdGFDaGFubmVsKGUsdC51aWQpfSkpLGkoKX19ZWxzZSBReS53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gY2FuIG5vdCBmaW5kIHRhcmdldCB1c2VyIShvbl9yZW1vdmVfZGF0YWNoYW5uZWwpXCIpKX1faGFuZGxlR2F0ZXdheUV2ZW50cygpe3RoaXMuX2dhdGV3YXkub24oVWIuRElTQ09OTkVDVF9QMlAsKGFzeW5jKCk9Pnthd2FpdCB0aGlzLl9wMnBDaGFubmVsLmRpc2Nvbm5lY3RGb3JSZWNvbm5lY3QoKX0pKSx0aGlzLl9nYXRld2F5Lm9uKFViLkNPTk5FQ1RJT05fU1RBVEVfQ0hBTkdFLCgoZSx0LGkpPT57dmFyIG47aWYoaT09PUF2LkZBTExCQUNLKXJldHVybjtjb25zdCByPSgpPT57dGhpcy5zYWZlRW1pdChOdi5DT05ORUNUSU9OX1NUQVRFX0NIQU5HRSxlLHQsaSl9O2lmKHNBLnJlcG9ydEFwaUludm9rZSh0aGlzLl9zZXNzaW9uSWR8fChudWxsPT09KG49dGhpcy5fZ2F0ZXdheS5qb2luSW5mbyl8fHZvaWQgMD09PW4/dm9pZCAwOm4uc2lkKXx8bnVsbCx7bmFtZTpDdi5DT05ORUNUSU9OX1NUQVRFX0NIQU5HRSxvcHRpb25zOltlLHQsaV0sdGFnOkl2LlRSQUNFUn0pLm9uU3VjY2VzcyhKU09OLnN0cmluZ2lmeSh7Y3VyOmUscHJldjp0LHJlYXNvbjppfSkpLFF5LmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBjb25uZWN0aW9uIHN0YXRlIGNoYW5nZTogXCIpLmNvbmNhdCh0LFwiIC0+IFwiKS5jb25jYXQoZSkpLFwiRElTQ09OTkVDVEVEXCI9PT1lKXJldHVybiB0aGlzLl9yZXNldCgpLHZvaWQgcigpO2lmKFwiUkVDT05ORUNUSU5HXCI9PT1lKXRoaXMuX3VzZXJzLmZvckVhY2goKGU9PntlLl90cnVzdF9pbl9yb29tXz0hMSxlLl90cnVzdF9hdWRpb19lbmFibGVkX3N0YXRlXz0hMSxlLl90cnVzdF92aWRlb19lbmFibGVkX3N0YXRlXz0hMSxlLl90cnVzdF9hdWRpb19tdXRlX3N0YXRlXz0hMSxlLl90cnVzdF92aWRlb19tdXRlX3N0YXRlXz0hMSxlLl90cnVzdF9hdWRpb19zdHJlYW1fYWRkZWRfc3RhdGVfPSExLGUuX3RydXN0X3ZpZGVvX3N0cmVhbV9hZGRlZF9zdGF0ZV89ITEsZS5faXNfcHJlX2NyZWF0ZWR8fChlLl9hdWRpb19wcmVfc3Vic2NyaWJlZHx8KGUuX2F1ZGlvU1NSQz12b2lkIDAsZS5fYXVkaW9PcnRjPXZvaWQgMCksZS5fdmlkZW9fcHJlX3N1YnNjcmliZWR8fChlLl92aWRlb1NTUkM9dm9pZCAwLGUuX3ZpZGVvT3J0Yz12b2lkIDAsZS5fcnR4U3NyY0lkPXZvaWQgMCksZS5fY25hbWU9dm9pZCAwKX0pKSx0aGlzLl91c2VyT2ZmbGluZVRpbWVvdXQmJndpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5fdXNlck9mZmxpbmVUaW1lb3V0KSx0aGlzLl9zdHJlYW1SZW1vdmVkVGltZW91dCYmd2luZG93LmNsZWFyVGltZW91dCh0aGlzLl9zdHJlYW1SZW1vdmVkVGltZW91dCksdGhpcy5fdXNlck9mZmxpbmVUaW1lb3V0PXZvaWQgMCx0aGlzLl9zdHJlYW1SZW1vdmVkVGltZW91dD12b2lkIDA7ZWxzZSBpZihcIkNPTk5FQ1RFRFwiPT09ZSl7dmFyIG87dGhpcy5fc3RyZWFtRmFsbGJhY2tUeXBlQ2FjaGVNYXAuZm9yRWFjaCgoKGUsdCk9Pnt0aGlzLl9nYXRld2F5LnNldFN0cmVhbUZhbGxiYWNrT3B0aW9uKHQsZSkuY2F0Y2goKGU9PntReS53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gYXV0byBzZXQgc3RyZWFtIGZhbGxiYWNrIG9wdGlvbiBmYWlsZWRcIiksZSl9KSl9KSksdGhpcy5fcmVtb3RlU3RyZWFtVHlwZUNhY2hlTWFwLmZvckVhY2goKChlLHQpPT57dGhpcy5fZ2F0ZXdheS5zZXRSZW1vdGVWaWRlb1N0cmVhbVR5cGUodCxlKS5jYXRjaCgoZT0+e1F5Lndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBhdXRvIHNldCByZW1vdGUgc3RyZWFtIHR5cGUgZmFpbGVkXCIpLGUpfSkpfSkpLHZvaWQgMCE9PXRoaXMuX3JlbW90ZURlZmF1bHRWaWRlb1N0cmVhbVR5cGUmJnZvaWQgMD09PShudWxsPT09KG89dGhpcy5fam9pbkluZm8pfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLmRlZmF1bHRWaWRlb1N0cmVhbSkmJnRoaXMuc2V0UmVtb3RlRGVmYXVsdFZpZGVvU3RyZWFtVHlwZSh0aGlzLl9yZW1vdGVEZWZhdWx0VmlkZW9TdHJlYW1UeXBlKS50aGVuKCgoKT0+e1F5LmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gc2V0UmVtb3RlRGVmYXVsdFZpZGVvU3RyZWFtVHlwZSBhZnRlciBnYXRld2F5IGNvbm5lY3RlZFwiKSl9KSkuY2F0Y2goKGU9PntReS5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHNldFJlbW90ZURlZmF1bHRWaWRlb1N0cmVhbVR5cGUgYWZ0ZXIgZ2F0ZXdheSBmYWlsZWQsIFwiKS5jb25jYXQoZSkpfSkpLHRoaXMuc3RvcmUudXNlUDJQfHwodGhpcy5fcDJwQ2hhbm5lbC5yZXB1Ymxpc2goKSx0aGlzLl91c2VyT2ZmbGluZVRpbWVvdXQ9d2luZG93LnNldFRpbWVvdXQoKCgpPT57aWYoXCJDT05ORUNURURcIiE9PXRoaXMuY29ubmVjdGlvblN0YXRlKXJldHVybjt0aGlzLl91c2VyT2ZmbGluZVRpbWVvdXQ9dm9pZCAwO3RoaXMuX3VzZXJzLmZpbHRlcigoZT0+IWUuX3RydXN0X2luX3Jvb21fKSkuZm9yRWFjaCgoZT0+e1F5LmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gdXNlciBvZmZsaW5lIHRpbWVvdXQsIGVtaXQgdXNlciBvZmZsaW5lIFwiKS5jb25jYXQoZS51aWQpKSx0aGlzLl9oYW5kbGVVc2VyT2ZmbGluZSh7dWlkOmUudWlkfSl9KSl9KSwzZTMpLHRoaXMuX3N0cmVhbVJlbW92ZWRUaW1lb3V0PXdpbmRvdy5zZXRUaW1lb3V0KCgoKT0+e1wiQ09OTkVDVEVEXCI9PT10aGlzLmNvbm5lY3Rpb25TdGF0ZSYmKHRoaXMuX3N0cmVhbVJlbW92ZWRUaW1lb3V0PXZvaWQgMCx0aGlzLl91c2Vycy5mb3JFYWNoKChlPT57ZS5fdHJ1c3RfYXVkaW9fbXV0ZV9zdGF0ZV98fChReS5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGF1dG8gZGlzcGF0Y2ggYXVkaW8gdW5tdXRlIGV2ZW50IFwiKS5jb25jYXQoZS51aWQpKSx0aGlzLl9oYW5kbGVNdXRlU3RyZWFtKGUudWlkLFliLkFVRElPLCExKSksZS5fdHJ1c3RfdmlkZW9fbXV0ZV9zdGF0ZV98fChReS5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGF1dG8gZGlzcGF0Y2ggdmlkZW8gdW5tdXRlIGV2ZW50IFwiKS5jb25jYXQoZS51aWQpKSx0aGlzLl9oYW5kbGVNdXRlU3RyZWFtKGUudWlkLFliLlZJREVPLCExKSksZS5fdHJ1c3RfYXVkaW9fZW5hYmxlZF9zdGF0ZV98fChReS5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGF1dG8gZGlzcGF0Y2ggZW5hYmxlIGxvY2FsIGF1ZGlvIFwiKS5jb25jYXQoZS51aWQpKSx0aGlzLl9oYW5kbGVTZXRTdHJlYW1Mb2NhbEVuYWJsZShcImF1ZGlvXCIsZS51aWQsITApKSxlLl90cnVzdF92aWRlb19lbmFibGVkX3N0YXRlX3x8KFF5LmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gYXV0byBkaXNwYXRjaCBlbmFibGUgbG9jYWwgdmlkZW8gXCIpLmNvbmNhdChlLnVpZCkpLHRoaXMuX2hhbmRsZVNldFN0cmVhbUxvY2FsRW5hYmxlKFwidmlkZW9cIixlLnVpZCwhMCkpLGUuX3RydXN0X3ZpZGVvX3N0cmVhbV9hZGRlZF9zdGF0ZV98fChReS5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGF1dG8gZGlzcGF0Y2ggcmVzZXQgdmlkZW8gc3RyZWFtIGFkZGVkIFwiKS5jb25jYXQoZS51aWQpKSx0aGlzLl9oYW5kbGVSZXNldEFkZFN0cmVhbShlLFwidmlkZW9cIikpLGUuX3RydXN0X2F1ZGlvX3N0cmVhbV9hZGRlZF9zdGF0ZV98fChReS5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIGF1dG8gZGlzcGF0Y2ggcmVzZXQgYXVkaW8gc3RyZWFtIGFkZGVkIFwiKS5jb25jYXQoZS51aWQpKSx0aGlzLl9oYW5kbGVSZXNldEFkZFN0cmVhbShlLFwiYXVkaW9cIikpLGUuX3ZpZGVvX2FkZGVkX3x8ZS5fYXVkaW9fYWRkZWRffHwoUXkuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBhdXRvIGRpc3BhdGNoIHN0cmVhbSByZW1vdmUgXCIpLmNvbmNhdChlLnVpZCkpLHRoaXMuX2hhbmRsZVJlbW92ZVN0cmVhbSh7dWlkOmUudWlkLHVpbnRfaWQ6ZS5fdWludGlkfSkpfSkpKX0pLDFlMykpfXIoKX0pKSx0aGlzLl9nYXRld2F5Lm9uKFViLlJFUVVFU1RfTkVXX0dBVEVXQVlfTElTVCwoYXN5bmMoZSx0KT0+e2lmKCF0aGlzLl9qb2luSW5mbylyZXR1cm4gdChuZXcgU2IobnYuVU5FWFBFQ1RFRF9FUlJPUixcImNhbiBub3QgcmVjb3Zlciwgbm8gam9pbiBpbmZvXCIpKTt0cnl7bGV0IHQ7Y29uc3QgaT1hd2FpdCBHRihTaihTaih7fSx0aGlzLl9qb2luSW5mbykse30se3VpZDp0aGlzLl9qb2luSW5mby51aWQsc3RyaW5nVWlkOnZvaWQgMH0pKTtpPyh0PWkuYXAsWUYoaSksdGhpcy5fam9pbkluZm8ucHJlbG9hZD0hMCk6KHQ9YXdhaXQgYlUodGhpcy5fam9pbkluZm8sdGhpcy5fYXhpb3NDYW5jZWxTb3VyY2UudG9rZW4sdGhpcy5fY29uZmlnLmh0dHBSZXRyeUNvbmZpZ3x8X3ksdGhpcy5zdG9yZSksdGhpcy5fam9pbkluZm8ucHJlbG9hZD0hMSksdGhpcy5fam9pbkluZm8mJih0aGlzLl9qb2luSW5mby5hcFJlc3BvbnNlPXQuZ2F0ZXdheUluZm8ucmVzLHRoaXMuX2pvaW5JbmZvLmdhdGV3YXlBZGRycz10LmdhdGV3YXlJbmZvLmdhdGV3YXlBZGRycyx0aGlzLl9qb2luSW5mby51bmlfbGJzX2lwPXQuZ2F0ZXdheUluZm8udW5pX2xic19pcCk7Y29uc3Qgbj1bXTt0LmdhdGV3YXlJbmZvLmdhdGV3YXlBZGRycy5mb3JFYWNoKChlPT57bGV0e2FkZHJlc3M6dH09ZTtjb25zdFtpLHJdPXQuc3BsaXQoXCI6XCIpO3RoaXMuX2pvaW5JbmZvJiZ0aGlzLl9qb2luSW5mby5wcm94eVNlcnZlcj9uLnB1c2goe3Byb3h5OnRoaXMuX2pvaW5JbmZvLnByb3h5U2VydmVyLGhvc3Q6aSxwb3J0OnJ9KTpuLnB1c2goe2hvc3Q6aSxwb3J0OnJ9KX0pKSxlKG4pfWNhdGNoKGUpe3QoZSl9fSkpLHRoaXMuX2dhdGV3YXkub24oVWIuTkVUV09SS19RVUFMSVRZLChlPT57XCJub3JtYWxcIj09PXRoaXMuX25ldHdvcmtRdWFsaXR5U2Vuc2l0aXZpdHkmJnRoaXMuc2FmZUVtaXQoTnYuTkVUV09SS19RVUFMSVRZLGUpfSkpLHRoaXMuX2dhdGV3YXkub24oVWIuU1RSRUFNX1RZUEVfQ0hBTkdFLCgoZSx0KT0+e3RoaXMuc2FmZUVtaXQoTnYuU1RSRUFNX1RZUEVfQ0hBTkdFRCxlLHQpO3NBLnJlcG9ydEFwaUludm9rZSh0aGlzLl9zZXNzaW9uSWQse25hbWU6Q3YuU1RSRUFNX1RZUEVfQ0hBTkdFLG9wdGlvbnM6W2UsdF0sdGFnOkl2LlRSQUNFUn0pLm9uU3VjY2VzcyhKU09OLnN0cmluZ2lmeSh7dWlkOmUsc3RyZWFtVHlwZTp0fSkpfSkpLHRoaXMuX2dhdGV3YXkub24oVWIuSVNfUDJQX0RJU0NPTk5FQ1RFRCwoZT0+e3RoaXMuX3AycENoYW5uZWwuaXNQMlBEaXNjb25uZWN0ZWQoKT9lKCEwKTp0aGlzLl9wMnBDaGFubmVsLmhhc0xvY2FsTWVkaWEoKXx8dGhpcy5fcDJwQ2hhbm5lbC5oYXNSZW1vdGVNZWRpYSgpP2UoITEpOmUoITApfSkpLHRoaXMuX2dhdGV3YXkub24oVWIuUkVRVUVTVF9QMlBfQ09OTkVDVElPTl9QQVJBTVMsKGFzeW5jKGUsdCxpKT0+e3RyeXtsZXQgaT1hd2FpdCB0aGlzLl9wMnBDaGFubmVsLmdldEVzdGFibGlzaFBhcmFtcygpO0R5KFwiRU5BQkxFX1BSRUFMTE9DX1BDXCIpJiZpfHwoaT1hd2FpdCB0aGlzLl9wMnBDaGFubmVsLnN0YXJ0UDJQQ29ubmVjdGlvbihlKSksdChpKX1jYXRjaChlKXtpKGUpfX0pKSx0aGlzLl9nYXRld2F5Lm9uKFViLkpPSU5fUkVTUE9OU0UsKChlLHQpPT57aWYodGhpcy5zdG9yZS51c2VQMlApcmV0dXJuO2NvbnN0IGk9T00oZS5vcnRjLHQsZS5hdHRyaWJ1dGVzLnVzZXJBdHRyaWJ1dGVzLnByZVN1YlNzcmNzKTt0aGlzLl9wMnBDaGFubmVsLmNvbm5lY3QoaSl9KSksdGhpcy5fZ2F0ZXdheS5vbihVYi5QUkVfQ09OTkVDVF9QQywoYXN5bmMgZT0+e2NvbnN0e2NhbmRpZGF0ZXM6dCxmaW5nZXJwcmludDppfT1lO2lmKHRoaXMuX2pvaW5JbmZvJiZ0Lmxlbmd0aD4wJiYhdGhpcy5fcDJwQ2hhbm5lbC5pc1BsYW5CKXt2YXIgbjthd2FpdCB0aGlzLl9wMnBDaGFubmVsLnN0YXJ0UDJQQ29ubmVjdGlvbih7dHVyblNlcnZlcjp0aGlzLl9qb2luSW5mby50dXJuU2VydmVyfSk7Y29uc3R7Y2VydDplLGNpZDpyfT10aGlzLl9qb2luSW5mby5hcFJlc3BvbnNlO2F3YWl0IHRoaXMuX3AycENoYW5uZWwuY29ubmVjdCh7aWNlUGFyYW1ldGVyczp7aWNlVWZyYWc6XCJcIi5jb25jYXQocixcIl9cIikuY29uY2F0KGUpLGljZVB3ZDpcIlwiLmNvbmNhdChyLFwiX1wiKS5jb25jYXQoZSl9LGR0bHNQYXJhbWV0ZXJzOntmaW5nZXJwcmludHM6W3toYXNoRnVuY3Rpb246XCJzaGEtMjU2XCIsZmluZ2VycHJpbnQ6bnVsbCE9PShuPUR5KFwiRklOR0VSUFJJTlRcIikpJiZ2b2lkIDAhPT1uP246aX1dfSxjYW5kaWRhdGVzOnQscnRwQ2FwYWJpbGl0aWVzOntzZW5kOnthdWRpb0NvZGVjczpbXSx2aWRlb0NvZGVjczpbXSxhdWRpb0V4dGVuc2lvbnM6W10sdmlkZW9FeHRlbnNpb25zOltdfSxyZWN2OnthdWRpb0NvZGVjczpbXSx2aWRlb0NvZGVjczpbXSxhdWRpb0V4dGVuc2lvbnM6W10sdmlkZW9FeHRlbnNpb25zOltdfX0sc2V0dXA6XCJhY3RpdmVcIixjbmFtZTpcIm8vaTE0dTlwSnJ4UktBc3VcIixwcmVhbGxvY2F0aW9uOiEwfSl9fSkpfV9oYW5kbGVHYXRld2F5U2lnbmFsRXZlbnRzKCl7dGhpcy5fZ2F0ZXdheS5zaWduYWwub24obWIuT05fVVNFUl9PTkxJTkUsdGhpcy5faGFuZGxlVXNlck9ubGluZSksdGhpcy5fZ2F0ZXdheS5zaWduYWwub24obWIuT05fVVNFUl9PRkZMSU5FLHRoaXMuX2hhbmRsZVVzZXJPZmZsaW5lKSx0aGlzLl9nYXRld2F5LnNpZ25hbC5vbihtYi5PTl9BRERfQVVESU9fU1RSRUFNLChlPT50aGlzLl9oYW5kbGVBZGRBdWRpb09yVmlkZW9TdHJlYW0oXCJhdWRpb1wiLGUudWlkLGUuc3NyY0lkLGUuY25hbWUsZS51aW50X2lkLGUub3J0YykpKSx0aGlzLl9nYXRld2F5LnNpZ25hbC5vbihtYi5PTl9BRERfVklERU9fU1RSRUFNLChlPT50aGlzLl9oYW5kbGVBZGRBdWRpb09yVmlkZW9TdHJlYW0oXCJ2aWRlb1wiLGUudWlkLGUuc3NyY0lkLGUuY25hbWUsZS51aW50X2lkLGUub3J0YyxlLnJ0eFNzcmNJZCkpKSx0aGlzLl9nYXRld2F5LnNpZ25hbC5vbihtYi5PTl9SRU1PVEVfREFUQVNUUkVBTV9VUERBVEUsKGU9Pnt0aGlzLl9oYW5kbGVVcGRhdGVEYXRhQ2hhbm5lbChlKX0pKSx0aGlzLl9nYXRld2F5LnNpZ25hbC5vbihtYi5PTl9SRU1PVEVfRlVMTF9EQVRBU1RSRUFNX0lORk8sKGU9Pnt0aGlzLl9oYW5kbGVVcGRhdGVEYXRhQ2hhbm5lbCh7YWRkZWQ6ZS5kYXRhc3RyZWFtc3x8W10sZGVsZXRlZDpbXX0sITApfSkpLHRoaXMuX2dhdGV3YXkuc2lnbmFsLm9uKG1iLk9OX1JFTU9WRV9TVFJFQU0sdGhpcy5faGFuZGxlUmVtb3ZlU3RyZWFtKSx0aGlzLl9nYXRld2F5LnNpZ25hbC5vbihtYi5PTl9QMlBfTE9TVCx0aGlzLl9oYW5kbGVQMlBMb3N0KSx0aGlzLl9nYXRld2F5LnNpZ25hbC5vbihtYi5NVVRFX0FVRElPLChlPT50aGlzLl9oYW5kbGVNdXRlU3RyZWFtKGUudWlkLFliLkFVRElPLCEwKSkpLHRoaXMuX2dhdGV3YXkuc2lnbmFsLm9uKG1iLlVOTVVURV9BVURJTywoZT0+dGhpcy5faGFuZGxlTXV0ZVN0cmVhbShlLnVpZCxZYi5BVURJTywhMSkpKSx0aGlzLl9nYXRld2F5LnNpZ25hbC5vbihtYi5NVVRFX1ZJREVPLChlPT50aGlzLl9oYW5kbGVNdXRlU3RyZWFtKGUudWlkLFliLlZJREVPLCEwKSkpLHRoaXMuX2dhdGV3YXkuc2lnbmFsLm9uKG1iLlVOTVVURV9WSURFTywoZT0+dGhpcy5faGFuZGxlTXV0ZVN0cmVhbShlLnVpZCxZYi5WSURFTywhMSkpKSx0aGlzLl9nYXRld2F5LnNpZ25hbC5vbihtYi5SRUNFSVZFX01FVEFEQVRBLChlPT57Y29uc3QgdD1ZdihlLm1ldGFkYXRhKTt0aGlzLnNhZmVFbWl0KE52LlJFQ0VJVkVfTUVUQURBVEEsZS51aWQsdCl9KSksdGhpcy5fZ2F0ZXdheS5zaWduYWwub24obWIuT05fREFUQV9TVFJFQU0sKGFzeW5jIGU9Pnt2YXIgdDtpZighZSlyZXR1cm47bGV0IGk9WXYoZS5wYXlsb2FkKTtpZih0aGlzLl9lbmNyeXB0RGF0YVN0cmVhbSYmdGhpcy5fZW5jcnlwdERhdGFTdHJlYW1JdiYmdGhpcy5fZW5jcnlwdERhdGFTdHJlYW1LZXkmJndpbmRvdy5jcnlwdG8uc3VidGxlJiZEbih0PVtcImFlcy0xMjgtZ2NtMlwiLFwiYWVzLTI1Ni1nY20yXCJdKS5jYWxsKHQsdGhpcy5fZW5jcnlwdGlvbk1vZGUpKXtpZihlLnBheWxvYWQubGVuZ3RoPEZ5KXRocm93IG5ldyBTYihudi5VTkVYUEVDVEVEX1JFU1BPTlNFLFwicGF5bG9hZCBsZW5ndGggXCIuY29uY2F0KGUucGF5bG9hZC5sZW5ndGgsXCIgaXMgbGVzcyB0aGFuIGhlYWRlciBsZW5ndGggXCIpLmNvbmNhdChGeSkpO2NvbnN0IHQ9YXdhaXQgYXN5bmMgZnVuY3Rpb24oZSx0LGkpe2NvbnN0IG49aS5zdWJhcnJheSgwLEZ5KSxyPW4uc2xpY2UoOCxGeSksbz0oclswXTw8OCkrclsxXSxzPShuWzZdPDw4KStuWzddLGE9YXdhaXQgd2luZG93LmNyeXB0by5zdWJ0bGUuZGVjcnlwdCh7bmFtZTpcIkFFUy1HQ01cIixpdjplLHRhZ0xlbmd0aDpVeSxhZGRpdGlvbmFsRGF0YTpuZXcgVWludDhBcnJheShheShvLDIpKX0sdCxpLnN1YmFycmF5KEZ5KSk7cmV0dXJuIG5ldyBVaW50OEFycmF5KGEpLnN1YmFycmF5KDAscyl9KHRoaXMuX2VuY3J5cHREYXRhU3RyZWFtSXYsdGhpcy5fZW5jcnlwdERhdGFTdHJlYW1LZXksaSk7aT10fWxldCBuPTA7aWYoZS5vcmRlcmVkfHxlLnN5bmNXaXRoQXVkaW8pe2NvbnN0IHQ9dGhpcy5fcDJwQ2hhbm5lbC5nZXRTdGF0cygpLGk9dGhpcy5yZW1vdGVVc2Vycy5maW5kKCh0PT50LnVpZD09PWUudWlkKSkscj1udWxsPT10P3ZvaWQgMDp0LmF1ZGlvUmVjdi5maW5kKChlPT5lLnNzcmM9PT0obnVsbD09aT92b2lkIDA6aS5fYXVkaW9TU1JDKSkpO249bnVsbD09cj92b2lkIDA6ci5qaXR0ZXJCdWZmZXJNc31udWxsPT1uJiYobj0wKSxBRihTaihTaih7fSxlKSx7fSx7cGF5bG9hZDppfSksbix7aWQ6dGhpcy5fY2xpZW50SWQsb25TdHJlYW1NZXNzYWdlOlwiZnVuY3Rpb25cIj09dHlwZW9mIHRoaXMub25TdHJlYW1NZXNzYWdlP3RoaXMub25TdHJlYW1NZXNzYWdlLmJpbmQodGhpcyk6dm9pZCAwLHNhZmVFbWl0OnRoaXMuc2FmZUVtaXQuYmluZCh0aGlzKX0pfSkpLHRoaXMuX2dhdGV3YXkuc2lnbmFsLm9uKG1iLk9OX0NSWVBUX0VSUk9SLCgoKT0+e0t2KCgoKT0+e1F5Lndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBvbiBjcnlwdCBlcnJvclwiKSksdGhpcy5zYWZlRW1pdChOdi5DUllQVF9FUlJPUil9KSx0aGlzLl9zZXNzaW9uSWQpfSkpLHRoaXMuX2dhdGV3YXkuc2lnbmFsLm9uKG1iLk9OX1RPS0VOX1BSSVZJTEVHRV9XSUxMX0VYUElSRSx0aGlzLl9oYW5kbGVUb2tlbldpbGxFeHBpcmUpLHRoaXMuX2dhdGV3YXkuc2lnbmFsLm9uKG1iLk9OX1RPS0VOX1BSSVZJTEVHRV9ESURfRVhQSVJFLCgoKT0+e1F5Lndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSByZWNlaXZlZCBtZXNzYWdlIG9uVG9rZW5Qcml2aWxlZ2VEaWRFeHBpcmUsIHBsZWFzZSBnZXQgbmV3IHRva2VuIGFuZCBqb2luIGFnYWluXCIpKSx0aGlzLl9nYXRld2F5LmxlYXZlKCEwLEF2LlRPS0VOX0VYUElSRSksdGhpcy5zYWZlRW1pdChOdi5PTl9UT0tFTl9QUklWSUxFR0VfRElEX0VYUElSRSksdGhpcy5fcmVzZXQoKX0pKSx0aGlzLl9nYXRld2F5LnNpZ25hbC5vbihtYi5PTl9TVFJFQU1fRkFMTEJBQ0tfVVBEQVRFLChlPT57UXkuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBzdHJlYW0gZmFsbGJhY2sgcGVlcklkOiBcIikuY29uY2F0KGUuc3RyZWFtX2lkLFwiLCBhdHRyOiBcIikuY29uY2F0KGUuc3RyZWFtX3R5cGUpKSx0aGlzLnNhZmVFbWl0KE52LlNUUkVBTV9GQUxMQkFDSyxlLnN0cmVhbV9pZCwxPT09ZS5zdHJlYW1fdHlwZT9cImZhbGxiYWNrXCI6XCJyZWNvdmVyXCIpfSkpLHRoaXMuX2dhdGV3YXkuc2lnbmFsLm9uKG1iLk9OX1BVQkxJU0hfU1RSRUFNLChlPT57dGhpcy51aWQ9PT10aGlzLl91aWQmJih0aGlzLl9wMnBDaGFubmVsLnJlcG9ydFB1Ymxpc2hFdmVudCghMCxudWxsLHZvaWQgMCwhMSxKU09OLnN0cmluZ2lmeSh7cHJveHk6ZS5wcm94eX0pKSxReS5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gb24gcHVibGlzaCBzdHJlYW0sIFwiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkoZSkpKSl9KSksdGhpcy5fZ2F0ZXdheS5zaWduYWwub24obWIuRU5BQkxFX0xPQ0FMX1ZJREVPLChlPT57dGhpcy5faGFuZGxlU2V0U3RyZWFtTG9jYWxFbmFibGUoXCJ2aWRlb1wiLGUudWlkLCEwKX0pKSx0aGlzLl9nYXRld2F5LnNpZ25hbC5vbihtYi5ESVNBQkxFX0xPQ0FMX1ZJREVPLChlPT57dGhpcy5faGFuZGxlU2V0U3RyZWFtTG9jYWxFbmFibGUoXCJ2aWRlb1wiLGUudWlkLCExKX0pKSx0aGlzLl9nYXRld2F5LnNpZ25hbC5vbihwYi5SRVFVRVNUX1RJTUVPVVQsKChlLHQpPT57aWYodGhpcy5fam9pbkluZm8pc3dpdGNoKGUpe2Nhc2UgX2IuUFVCTElTSDp7aWYoIXQpcmV0dXJuO2NvbnN0IGU9dC5vcnRjO2lmKGUpe3ZhciBpLG47Y29uc3Qgcj1lLnNvbWUoKGU9PntsZXR7c3RyZWFtX3R5cGU6dH09ZTtyZXR1cm4gdD09PU1iLkF1ZGlvfSkpLG89ZS5zb21lKChlPT57bGV0e3N0cmVhbV90eXBlOnR9PWU7cmV0dXJuIHQhPT1NYi5BdWRpb30pKSxzPWUuc29tZSgoZT0+e2xldHtzdHJlYW1fdHlwZTp0fT1lO3JldHVybiB0PT09TWIuU2NyZWVufHx0PT09TWIuU2NyZWVuTG93fSkpO1wib2ZmZXJcIj09PXQuc3RhdGUmJnNBLnB1Ymxpc2godGhpcy5fam9pbkluZm8uc2lkLHtldmVudEVsYXBzZTpqVS5tZWFzdXJlRnJvbVB1Ymxpc2hTdGFydCh0aGlzLnN0b3JlLmNsaWVudElkLHRoaXMuc3RvcmUucHViSWQpLHN1Y2M6ITEsZWM6bnYuVElNRU9VVCxhdWRpbzpyLHZpZGVvOm8scDJwaWQ6dC5wMnBfaWQscHVibGlzaFJlcXVlc3RpZDp0aGlzLnN0b3JlLnB1YklkLHNjcmVlbnNoYXJlOnMsYXVkaW9OYW1lOnI/bnVsbD09PShpPWUuZmluZCgoZT0+e2xldHtzdHJlYW1fdHlwZTp0fT1lO3JldHVybiB0PT09TWIuQXVkaW99KSkpfHx2b2lkIDA9PT1pfHxudWxsPT09KGk9aS5zc3Jjc1swXSl8fHZvaWQgMD09PWk/dm9pZCAwOmkuc3NyY0lkLnRvU3RyaW5nKCk6dm9pZCAwLHZpZGVvTmFtZTpvP251bGw9PT0obj1lLmZpbmQoKGU9PntsZXR7c3RyZWFtX3R5cGU6dH09ZTtyZXR1cm4gdCE9PU1iLkF1ZGlvfSkpKXx8dm9pZCAwPT09bnx8bnVsbD09PShuPW4uc3NyY3NbMF0pfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLnNzcmNJZC50b1N0cmluZygpOnZvaWQgMH0pfWJyZWFrfWNhc2UgX2IuU1VCU0NSSUJFOnQmJnNBLnN1YnNjcmliZSh0aGlzLl9qb2luSW5mby5zaWQse3N1Y2M6ITEsZWM6bnYuVElNRU9VVCxhdWRpbzp0LnN0cmVhbV90eXBlPT09WWIuQVVESU8sdmlkZW86dC5zdHJlYW1fdHlwZT09PVliLlZJREVPLHBlZXJpZDp0LnN0cmVhbV9pZCxzdWJzY3JpYmVSZXF1ZXN0aWQ6dC5zc3JjSWQscDJwaWQ6dGhpcy5zdG9yZS5wMnBJZCxldmVudEVsYXBzZTpqVS5tZWFzdXJlRnJvbVN1YnNjcmliZVN0YXJ0KHRoaXMuc3RvcmUuY2xpZW50SWQsdC5zc3JjSWQpLHByZVNzcmM6dGhpcy5fcDJwQ2hhbm5lbC5pc1ByZVN1YlNjcmliZSh0LnNzcmNJZCl9KX19KSksdGhpcy5fZ2F0ZXdheS5zaWduYWwub24obWIuT05fUDJQX09LLChlPT57dGhpcy51aWQsdGhpcy5fdWlkfSkpLHRoaXMuX2dhdGV3YXkuc2lnbmFsLm9uKG1iLk9OX1BVQkxJU0hFRF9VU0VSX0xJU1QsKGU9PntpZihudWxsPT1lfHwhZS51c2VycylyZXR1cm47RHkoXCJCTE9DS19MT0NBTF9DTElFTlRcIikmJihlLnVzZXJzPWUudXNlcnMuZmlsdGVyKChlPT4hdUEoZS5zdHJpbmdfaWR8fGUuc3RyZWFtX2lkLHRoaXMuY2hhbm5lbE5hbWUpKSkpO2NvbnN0IHQ9W10saT1bXTtmb3IoY29uc3QgbiBvZiBlLnVzZXJzKXtsZXQgZT10aGlzLl91c2Vycy5maW5kKChlPT5lLl91aW50aWQ9PT1uLnN0cmVhbV9pZCkpO2U/ZS5fdHJ1c3RfaW5fcm9vbV89ITA6KGU9bmV3IGlWKG4uc3RyaW5nX2lkfHxuLnN0cmVhbV9pZCxuLnN0cmVhbV9pZCksdGhpcy5fdXNlcnMucHVzaChlKSwwPT09dGhpcy5nZXRMaXN0ZW5lcnMoTnYuUFVCTElTSEVEX1VTRVJfTElTVCkubGVuZ3RoJiYoUXkuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSB1c2VyIG9ubGluZVwiKSxuLnN0cmVhbV9pZCksdGhpcy5zYWZlRW1pdChOdi5VU0VSX0pPSU5FRCxlKSkpO2NvbnN0IHI9VmIuQXVkaW8mbi5zdHJlYW1fdHlwZSxvPShWYi5WaWRlb3xWYi5Md29WaWRlbykmbi5zdHJlYW1fdHlwZSxzPTAhPSg2NTI4MCZuLnN0cmVhbV90eXBlKSxhPXImJmUuaGFzQXVkaW8sYz1vJiZlLmhhc1ZpZGVvO28mJihlLl90cnVzdF92aWRlb19zdHJlYW1fYWRkZWRfc3RhdGVfPSEwLGUuX3ZpZGVvX2FkZGVkXz0hMCxlLl92aWRlb1NTUkM9bi52aWRlb19zc3JjLGUuX3J0eFNzcmNJZD1uLnZpZGVvX3J0eCksciYmKGUuX3RydXN0X2F1ZGlvX3N0cmVhbV9hZGRlZF9zdGF0ZV89ITAsZS5fYXVkaW9fYWRkZWRfPSEwLGUuX2F1ZGlvU1NSQz1uLmF1ZGlvX3NzcmMpLHImJiFhJiYwPT09dGhpcy5nZXRMaXN0ZW5lcnMoTnYuUFVCTElTSEVEX1VTRVJfTElTVCkubGVuZ3RoJiYoUXkuaW5mbyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIHJlbW90ZSB1c2VyIFwiKS5jb25jYXQoZS51aWQsXCIgcHVibGlzaGVkIGF1ZGlvXCIpKSx0aGlzLnNhZmVFbWl0KE52LlVTRVJfUFVCTElTSEVELGUsXCJhdWRpb1wiKSksbyYmIWMmJjA9PT10aGlzLmdldExpc3RlbmVycyhOdi5QVUJMSVNIRURfVVNFUl9MSVNUKS5sZW5ndGgmJihReS5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gcmVtb3RlIHVzZXIgXCIpLmNvbmNhdChlLnVpZCxcIiBwdWJsaXNoZWQgdmlkZW9cIikpLHRoaXMuc2FmZUVtaXQoTnYuVVNFUl9QVUJMSVNIRUQsZSxcInZpZGVvXCIpKSwociYmIWF8fG8mJiFjfHxzKSYmdC5wdXNoKGUpLG8mJnRoaXMuX3AycENoYW5uZWwuaGFzUGVuZGluZ1JlbW90ZU1lZGlhKGUsXCJ2aWRlb1wiKSYmaS5wdXNoKHt1c2VyOmUsbWVkaWFUeXBlOlwidmlkZW9cIn0pLHImJnRoaXMuX3AycENoYW5uZWwuaGFzUGVuZGluZ1JlbW90ZU1lZGlhKGUsXCJhdWRpb1wiKSYmaS5wdXNoKHt1c2VyOmUsbWVkaWFUeXBlOlwiYXVkaW9cIn0pfWkubGVuZ3RoPjAmJihReS5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIFJFIG1hc3NTdWJzY3JpYmUgYWZ0ZXIgcmVjb25uZWN0IFwiKS5jb25jYXQoaS5tYXAoKGU9PlwidXNlcjogXCIuY29uY2F0KGUudXNlci51aWQsXCIsIG1lZGlhVHlwZTogXCIpLmNvbmNhdChlLm1lZGlhVHlwZSkpKS5qb2luKFwiOyBcIiksXCIgXCIpKSx0aGlzLm1hc3NTdWJzY3JpYmUoaSkuY2F0Y2goKGU9PntReS5lcnJvcihcIltcIi5jb25jYXQodGhpcy5fY2xpZW50SWQsXCJdIG1hc3MgcmVzdWJzY3JpYmUgZXJyb3JcIiksZS50b1N0cmluZygpKX0pKSksdGhpcy5nZXRMaXN0ZW5lcnMoTnYuUFVCTElTSEVEX1VTRVJfTElTVCkubGVuZ3RoPjA/RHkoXCJFTkFCTEVfREFUQVNUUkVBTV8yXCIpP3RoaXMuX3BlbmRpbmdQdWJsaXNoZWRVc2Vycz10OihReS5pbmZvKFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gY2xpZW50IGVtaXQgdXNlci1saXN0IGV2ZW50LCB1c2VyczogXCIpLmNvbmNhdCh0Lm1hcCgoZT0+ZS51aWQpKS5qb2luKFwiLCBcIikpKSx0aGlzLnNhZmVFbWl0KE52LlBVQkxJU0hFRF9VU0VSX0xJU1QsdCkpOlF5LmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBjbGllbnQgbm90IGVtaXQgdXNlci1saXN0IGV2ZW50IGNhc2UgdGhlcmUgaXMgbm8gdXNlci1saXN0IGxpc3RlbmVyLCB1c2VyczogXCIpLmNvbmNhdCh0Lm1hcCgoZT0+ZS51aWQpKS5qb2luKFwiLCBcIikpKX0pKSx0aGlzLl9nYXRld2F5LnNpZ25hbC5vbihtYi5PTl9SVFBfQ0FQQUJJTElUWV9DSEFOR0UsKGU9Pntjb25zdHt2aWRlb19jb2RlYzp0fT1lO3RoaXMuX3AycENoYW5uZWwgaW5zdGFuY2VvZiBoRiYmdGhpcy5fcDJwQ2hhbm5lbC51cGRhdGVSZW1vdGVSVFBDYXBhYmlsaXRpZXModC5tYXAoKGU9PmUudG9Mb3dlckNhc2UoKSkpLmZpbHRlcigoZT0+e3ZhciB0O3JldHVybiBEbih0PU9iamVjdC5rZXlzKE15KSkuY2FsbCh0LGUpfSkpKX0pKX1faGFuZGxlUDJQRXZlbnRzKCl7dGhpcy5fZ2F0ZXdheS5zaWduYWwub24obWIuT05fVVNFUl9PRkZMSU5FLCgoKT0+e3RoaXMuX3AycENoYW5uZWwuZGlzY29ubmVjdEZvclJlY29ubmVjdCgpfSkpLHRoaXMuX2dhdGV3YXkuc2lnbmFsLm9uKHN3LlBVQkxJU0gsKChlLHQsaSk9Pntjb25zdHt1aWQ6bn09ZTtlLmZvckVhY2goKGU9Pntjb25zdHtraW5kOnIsc3NyY3M6byxtaWQ6cyxpc011dGVkOmF9PWU7dGhpcy5faGFuZGxlUDJQQWRkQXVkaW9PclZpZGVvU3RyZWFtKHIsbixvWzBdLnNzcmNJZCxzKTtjb25zdCBjPXRoaXMuX3VzZXJzLmZpbmQoKGU9PmUudWlkPT09bikpO3JldHVybiBjJiZ0aGlzLl9wMnBDaGFubmVsIGluc3RhbmNlb2YgUlY/dGhpcy5fcDJwQ2hhbm5lbC5tb2NrU3Vic2NyaWJlKGMscixvWzBdLnNzcmNJZCxzKS50aGVuKCgoKT0+e3QoKX0pKS5jYXRjaChpKTp0KCksdGhpcy5faGFuZGxlTXV0ZVN0cmVhbShuLHIsISFhKX0pKX0pKSx0aGlzLl9nYXRld2F5LnNpZ25hbC5vbihzdy5DQUxMLChhc3luYyhlLHQsaSk9PntpZih0aGlzLl9wMnBDaGFubmVsIGluc3RhbmNlb2YgUlYpdHJ5e3ZhciBuO3QoYXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC5zdGFydFAyUCh7dHVyblNlcnZlcjpudWxsPT09KG49dGhpcy5fam9pbkluZm8pfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLnR1cm5TZXJ2ZXJ9LGUpKX1jYXRjaChlKXtpKGUpfX0pKSx0aGlzLl9nYXRld2F5LnNpZ25hbC5vbihwYi5QMlBfQ09OTkVDVElPTiwoYXN5bmMgZT0+e3RoaXMuX3AycENoYW5uZWwgaW5zdGFuY2VvZiBSViYmYXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC5wMnBDb25uZWN0KGUpfSkpLHRoaXMuX2dhdGV3YXkuc2lnbmFsLm9uKHN3LlVOUFVCTElTSCwoYXN5bmMoZSx0LGkpPT57aWYodGhpcy5fcDJwQ2hhbm5lbCBpbnN0YW5jZW9mIFJWKXtjb25zdHt1bnB1Yk1zZzpuLHVpZDpyfT1lLG89dGhpcy5fdXNlcnMuZmluZCgoZT0+ZS51aWQ9PT1yKSk7aWYoIW8pcmV0dXJuIFF5Lndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBjYW4gbm90IGZpbmQgcmVtb3RlIHVzZXIsIGlnbm9yZSBtdXRlIGV2ZW50LCB1aWQ6IFwiKS5jb25jYXQocikpLHZvaWQgdCgpO3RyeXtuLmZvckVhY2goKGFzeW5jIGU9PntsZXR7c3RyZWFtX3R5cGU6dH09ZTtjb25zdCBpPXQ9PT1NYi5BdWRpbz9ZYi5BVURJTzpZYi5WSURFTzthd2FpdCB0aGlzLl9wMnBDaGFubmVsLnVuc3Vic2NyaWJlKG8saSksdGhpcy5faGFuZGxlTXV0ZVN0cmVhbShyLGksITApfSkpLHQoKX1jYXRjaChlKXtpKGUpfX19KSksdGhpcy5fZ2F0ZXdheS5zaWduYWwub24oc3cuQ09OVFJPTCwoYXN5bmMoZSx0KT0+e2NvbnN0e2FjdGlvbjppfT1lO3N3aXRjaChpKXtjYXNlIGN3Lk1VVEVfTE9DQUxfVklERU86dGhpcy5faGFuZGxlTXV0ZVN0cmVhbSh0LFliLlZJREVPLCEwKTticmVhaztjYXNlIGN3Lk1VVEVfTE9DQUxfQVVESU86dGhpcy5faGFuZGxlTXV0ZVN0cmVhbSh0LFliLkFVRElPLCEwKTticmVhaztjYXNlIGN3LlVOTVVURV9MT0NBTF9WSURFTzp0aGlzLl9oYW5kbGVQMlBBZGRBdWRpb09yVmlkZW9TdHJlYW0oXCJ2aWRlb1wiLHQpLHRoaXMuX2hhbmRsZU11dGVTdHJlYW0odCxZYi5WSURFTywhMSk7YnJlYWs7Y2FzZSBjdy5VTk1VVEVfTE9DQUxfQVVESU86dGhpcy5faGFuZGxlUDJQQWRkQXVkaW9PclZpZGVvU3RyZWFtKFwiYXVkaW9cIix0KSx0aGlzLl9oYW5kbGVNdXRlU3RyZWFtKHQsWWIuQVVESU8sITEpfX0pKSx0aGlzLl9nYXRld2F5LnNpZ25hbC5vbihzdy5SRVNUQVJUX0lDRSwoYXN5bmMoZSx0LGkpPT57aWYodGhpcy5fcDJwQ2hhbm5lbCBpbnN0YW5jZW9mIFJWKXRyeXtjb25zdHtkaXJlY3Rpb246aSxpY2VQYXJhbWV0ZXI6bn09ZTtpZihpIT09ZmIuU0VORF9PTkxZfHxuKXt0KGF3YWl0IHRoaXMuX3AycENoYW5uZWwucmVzdGFydElDRShpLG4pKX1lbHNlIHRoaXMuX3AycENoYW5uZWwuaGFuZGxlRGlzY29ubmVjdChpKSx0KCl9Y2F0Y2goZSl7aShlKX19KSksdGhpcy5fZ2F0ZXdheS5zaWduYWwub24oc3cuQ0FORElEQVRFLChlPT57aWYodGhpcy5fcDJwQ2hhbm5lbCBpbnN0YW5jZW9mIFJWKXtjb25zdHtjYW5kaWRhdGU6dCxkaXJlY3Rpb246aX09ZTt0aGlzLl9wMnBDaGFubmVsLmFkZFJlbW90ZUNhbmRpZGF0ZSh0LGkpfX0pKSx0aGlzLl9wMnBDaGFubmVsLm9uKFFiLlJlcXVlc3RQMlBSZXN0YXJ0SUNFLChhc3luYyhlLHQsaSk9Pnt0cnl7Y29uc3R7ZGlyZWN0aW9uOml9PWU7dChhd2FpdCB0aGlzLl9nYXRld2F5LnNlbmRFeHRlbnNpb25NZXNzYWdlKHN3LlJFU1RBUlRfSUNFLGUsaT09PWZiLlNFTkRfT05MWSkpfWNhdGNoKGUpe2koZSl9fSkpLHRoaXMuX3AycENoYW5uZWwub24oUWIuTG9jYWxDYW5kaWRhdGUsKGU9Pnt0aGlzLl9nYXRld2F5LnNlbmRFeHRlbnNpb25NZXNzYWdlKHN3LkNBTkRJREFURSxKU09OLnN0cmluZ2lmeShlKSwhMCl9KSksdGhpcy5fcDJwQ2hhbm5lbC5vbihRYi5SZXF1ZXN0UDJQTXV0ZUxvY2FsLChhc3luYyhlLHQsaSk9Pnt0cnl7YXdhaXQgdGhpcy5fZ2F0ZXdheS5zZW5kRXh0ZW5zaW9uTWVzc2FnZShzdy5DT05UUk9MLGUsITApLHQoKX1jYXRjaChlKXtpKGUpfX0pKSx0aGlzLl9wMnBDaGFubmVsLm9uKFFiLlJlcXVlc3RQMlBVbm11dGVSZW1vdGUsKGFzeW5jKGUsdCxpKT0+e2lmKHRoaXMuX2pvaW5JbmZvKXRyeXthd2FpdCB0aGlzLl9nYXRld2F5LnVubXV0ZVJlbW90ZShlLHRoaXMuX2pvaW5JbmZvLnN0cmluZ1VpZHx8dGhpcy5fam9pbkluZm8udWlkKSx0KCl9Y2F0Y2goZSl7ZS5jb2RlPT09bnYuRElTQ09OTkVDVF9QMlA/dCgpOmkoZSl9ZWxzZSB0KCl9KSksdGhpcy5fcDJwQ2hhbm5lbC5vbihRYi5SZXF1ZXN0UDJQTXV0ZVJlbW90ZSwoYXN5bmMoZSx0LGkpPT57aWYodGhpcy5fam9pbkluZm8pdHJ5e2F3YWl0IHRoaXMuX2dhdGV3YXkubXV0ZVJlbW90ZShlLHRoaXMuX2pvaW5JbmZvLnN0cmluZ1VpZHx8dGhpcy5fam9pbkluZm8udWlkKSx0KCl9Y2F0Y2goZSl7ZS5jb2RlPT09bnYuRElTQ09OTkVDVF9QMlA/dCgpOmkoZSl9ZWxzZSB0KCl9KSksdGhpcy5fcDJwQ2hhbm5lbC5vbihRYi5TdGF0ZUNoYW5nZSwoKGUsdCk9Pnt0PT09WGIuQ29ubmVjdGVkJiZ0aGlzLl9wMnBDaGFubmVsLnJlcHVibGlzaCgpfSkpfV9oYW5kbGVQMlBDaGFubmVsRXZlbnRzKCl7dGhpcy5fcDJwQ2hhbm5lbC5vbihRYi5SZXF1ZXN0TXV0ZUxvY2FsLChhc3luYyhlLHQsaSk9PntpZih0aGlzLl9qb2luSW5mbyl0cnl7YXdhaXQgdGhpcy5fZ2F0ZXdheS5tdXRlTG9jYWwoZSx0aGlzLl9qb2luSW5mby5zdHJpbmdVaWR8fHRoaXMuX2pvaW5JbmZvLnVpZCksdCgpfWNhdGNoKGUpe2UuY29kZT09PW52LkRJU0NPTk5FQ1RfUDJQP3QoKTppKGUpfWVsc2UgdCgpfSkpLHRoaXMuX3AycENoYW5uZWwub24oUWIuUmVxdWVzdFVubXV0ZUxvY2FsLChhc3luYyhlLHQsaSk9PntpZih0aGlzLl9qb2luSW5mbyl0cnl7YXdhaXQgdGhpcy5fZ2F0ZXdheS51bm11dGVMb2NhbChlLHRoaXMuX2pvaW5JbmZvLnN0cmluZ1VpZHx8dGhpcy5fam9pbkluZm8udWlkKSx0KCl9Y2F0Y2goZSl7ZS5jb2RlPT09bnYuRElTQ09OTkVDVF9QMlA/dCgpOmkoZSl9ZWxzZSB0KCl9KSksdGhpcy5fcDJwQ2hhbm5lbC5vbihRYi5SZXF1ZXN0UmVQdWJsaXNoLCgoZSx0LGkpPT57dGhpcy5wdWJsaXNoKGUsITEpLnRoZW4odCkuY2F0Y2goaSl9KSksdGhpcy5fcDJwQ2hhbm5lbC5vbihRYi5SZXF1ZXN0UmVQdWJsaXNoRGF0YUNoYW5uZWwsKChlLHQsaSk9PntHaC5hbGwoZS5tYXAoKGFzeW5jIGU9Pntjb25zdCB0PWF3YWl0IHRoaXMuX3AycENoYW5uZWwucHVibGlzaERhdGFDaGFubmVsKFtlXSk7dHJ5e3QuZm9yRWFjaCgoZT0+e3RoaXMuX3VpZCYmdGhpcy5fZ2F0ZXdheS5wdWJsaXNoRGF0YUNoYW5uZWwodGhpcy5fdWlkLGUsITApfSkpfWNhdGNoKGUpe2lmKGUuY29kZSE9PW52LkRJU0NPTk5FQ1RfUDJQKXRocm93IGV9fSkpKS50aGVuKHQpLmNhdGNoKGkpfSkpLHRoaXMuX3AycENoYW5uZWwub24oUWIuUmVxdWVzdFJlU3Vic2NyaWJlLChhc3luYyhlLHQsaSk9Pnt0cnl7Zm9yKGNvbnN0e3VzZXI6dCxraW5kOml9b2YgZSlpPT09WWIuVklERU8/YXdhaXQgdGhpcy5zdWJzY3JpYmUodCxcInZpZGVvXCIpOmF3YWl0IHRoaXMuc3Vic2NyaWJlKHQsXCJhdWRpb1wiKTt0KCl9Y2F0Y2goZSl7aShlKX19KSksdGhpcy5fcDJwQ2hhbm5lbC5vbihRYi5SZXF1ZXN0VXBsb2FkLCgoZSx0KT0+e3RoaXMuX2dhdGV3YXkudXBsb2FkKGUsdCl9KSksdGhpcy5fcDJwQ2hhbm5lbC5vbihRYi5SZXF1ZXN0VXBsb2FkU3RhdHMsKGU9Pnt0aGlzLl9nYXRld2F5LnVwbG9hZFdSVENTdGF0cyhlKX0pKSx0aGlzLl9wMnBDaGFubmVsLm9uKFFiLk1lZGlhUmVjb25uZWN0U3RhcnQsKGU9Pnt0aGlzLnNhZmVFbWl0KE52Lk1FRElBX1JFQ09OTkVDVF9TVEFSVCxlKX0pKSx0aGlzLl9wMnBDaGFubmVsLm9uKFFiLk1lZGlhUmVjb25uZWN0RW5kLChlPT57dGhpcy5zYWZlRW1pdChOdi5NRURJQV9SRUNPTk5FQ1RfRU5ELGUpfSkpLHRoaXMuX3AycENoYW5uZWwub24oUWIuTmVlZFNpZ25hbFJUVCwoZT0+e2UodGhpcy5fZ2F0ZXdheS5nZXRTaWduYWxSVFQoKSl9KSksdGhpcy5fcDJwQ2hhbm5lbC5vbihRYi5SZXF1ZXN0UmVzdGFydElDRSwoYXN5bmMgZT0+e2lmKHRoaXMuX3AycENoYW5uZWwgaW5zdGFuY2VvZiBSVilyZXR1cm47Y29uc3QgdD1hd2FpdCB0aGlzLl9wMnBDaGFubmVsLnJlc3RhcnRJQ0UoZSksaT1hd2FpdCB0Lm5leHQoKTtpZihpLmRvbmUpcmV0dXJuO2NvbnN0IG49aS52YWx1ZTtsZXQgcjt0cnl7cj1hd2FpdCB0aGlzLl9nYXRld2F5LnJlc3RhcnRJQ0Uoe2ljZVBhcmFtZXRlcnM6bn0pfWNhdGNoKGUpe3JldHVybiB2b2lkIHQudGhyb3coZSl9Y29uc3R7aWNlUGFyYW1ldGVyczpvfT1mdW5jdGlvbihlKXtjb25zdCB0PWUuaWNlUGFyYW1ldGVycztyZXR1cm57aWNlUGFyYW1ldGVyczp7aWNlVWZyYWc6dC5pY2VVZnJhZyxpY2VQd2Q6dC5pY2VQd2R9fX0ocik7YXdhaXQgdC5uZXh0KHtyZW1vdGVJY2VQYXJhbWV0ZXJzOm99KX0pKSx0aGlzLl9wMnBDaGFubmVsLm9uKFFiLlJlcXVlc3RSZWNvbm5lY3QsKGFzeW5jKCk9Pnt0aGlzLl9nYXRld2F5LnJlY29ubmVjdCgpfSkpLHRoaXMuX3AycENoYW5uZWwub24oUWIuUmVxdWVzdFJlY29ubmVjdFBDLChhc3luYygpPT57dmFyIGU7Y29uc3R7aWNlUGFyYW1ldGVyczp0LGR0bHNQYXJhbWV0ZXJzOmkscnRwQ2FwYWJpbGl0aWVzOm59PWF3YWl0IHRoaXMuX3AycENoYW5uZWwuc3RhcnRQMlBDb25uZWN0aW9uKHt0dXJuU2VydmVyOm51bGw9PT0oZT10aGlzLl9qb2luSW5mbyl8fHZvaWQgMD09PWU/dm9pZCAwOmUudHVyblNlcnZlcn0pLHtnYXRld2F5RXN0YWJsaXNoUGFyYW1zOnIsZ2F0ZXdheUFkZHJlc3M6b309YXdhaXQgdGhpcy5fZ2F0ZXdheS5yZWNvbm5lY3RQQyh7aWNlUGFyYW1ldGVyczp0LGR0bHNQYXJhbWV0ZXJzOmkscnRwQ2FwYWJpbGl0aWVzOm59KSxzPU9NKHIsbyk7YXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC5jb25uZWN0KHMpLGF3YWl0IHRoaXMuX3AycENoYW5uZWwucmVwdWJsaXNoKCksYXdhaXQgdGhpcy5fcDJwQ2hhbm5lbC5yZVN1YnNjcmliZSgpfSkpLHRoaXMuX3AycENoYW5uZWwub24oUWIuUmVxdWVzdFVucHVibGlzaEZvclJlY29ubmVjdFBDLChhc3luYyhlLHQsaSk9Pnt0aGlzLl9qb2luSW5mbyYmdm9pZCAwIT09dGhpcy5fdWlkPyhhd2FpdCB0aGlzLl9nYXRld2F5LnVucHVibGlzaChlLHRoaXMuX3VpZCksdCgpKTppKCl9KSksdGhpcy5fcDJwQ2hhbm5lbC5vbihRYi5QMlBMb3N0LCgoKT0+e3RoaXMuc2FmZUVtaXQoTnYuUDJQX0xPU1QsdGhpcy5zdG9yZS51aWQpfSkpLHRoaXMuX3AycENoYW5uZWwub24oUWIuVXBkYXRlVmlkZW9FbmNvZGVyLChlPT57ZS5fZW5jb2RlckNvbmZpZyYmdGhpcy5fZ2F0ZXdheS5zZXRWaWRlb1Byb2ZpbGUoZS5fZW5jb2RlckNvbmZpZyl9KSksdGhpcy5fcDJwQ2hhbm5lbC5vbihRYi5Db25uZWN0aW9uVHlwZUNoYW5nZSwoZT0+e3RoaXMuc2FmZUVtaXQoTnYuSVNfVVNJTkdfQ0xPVURfUFJPWFksZSl9KSksdGhpcy5fcDJwQ2hhbm5lbC5vbihRYi5SZXF1ZXN0TG93U3RyZWFtUGFyYW1ldGVyLChlPT57ZSh0aGlzLl9sb3dTdHJlYW1QYXJhbWV0ZXJ8fHt3aWR0aDoxNjAsaGVpZ2h0OjEyMCxmcmFtZXJhdGU6MTUsYml0cmF0ZTo1MH0pfSkpLHRoaXMuX3AycENoYW5uZWwub24oUWIuUXVlcnlDbGllbnRDb25uZWN0aW9uU3RhdGUsKGU9PntlKHRoaXMuY29ubmVjdGlvblN0YXRlKX0pKX1nZXRLZXlNZXRyaWNzKCl7cmV0dXJuIHRoaXMuc3RvcmUua2V5TWV0cmljc31hc3luYyBlbmFibGVDb250ZW50SW5zcGVjdChlKXtpZighdGhpcy5fam9pbkluZm98fFwiQ09OTkVDVEVEXCIhPT10aGlzLmNvbm5lY3Rpb25TdGF0ZSl0aHJvdyBuZXcgU2IobnYuSU5WQUxJRF9PUEVSQVRJT04sXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBjYW4gbm90IGNyZWF0ZSBjb250ZW50IGluc3BlY3QsIHBsZWFzZSBqb2luIGNoYW5uZWwgZmlyc3RcIikpO2lmKHRoaXMuX2luc3BlY3QpdGhyb3cgbmV3IFNiKG52LklOVkFMSURfT1BFUkFUSU9OLFwiW1wiLmNvbmNhdCh0aGlzLl9jbGllbnRJZCxcIl0gSW5zcGVjdCBjb250ZW50IHNlcnZpY2UgYWxyZWFkeSBpbiBjb25uZWN0aW5nL2Nvbm5lY3RlZCBzdGF0ZVwiKSk7dHJ5e2NvbnN0IGk9KHQ9e2NvbmZpZzplfSxtRihcIkNvbnRlbnRJbnNwZWN0XCIpLmNyZWF0ZSh0KSk7dGhpcy5faW5zcGVjdD1pLHRoaXMuaGFuZGxlVmlkZW9JbnNwZWN0RXZlbnRzKGkpO2NvbnN0e2FwcElkOm4sY25hbWU6cixzaWQ6byx0b2tlbjpzLHVpZDphLGNpZDpjLHZpZDpkfT10aGlzLl9qb2luSW5mbzthd2FpdCBpLmluaXQoe2FwcElkOm4sYXJlYUNvZGU6XCJcIixjbmFtZTpyLHNpZDpvLHRva2VuOnMsdWlkOmEsY2lkOmMsdmlkOmQ/TnVtYmVyKGQpOjB9LF95KX1jYXRjaChlKXt0aHJvdyBBcnJheS5pc0FycmF5KGUpP2VbMF06ZX12YXIgdH1oYW5kbGVWaWRlb0luc3BlY3RFdmVudHMoZSl7ZS5vbihldy5DT05ORUNUSU9OX1NUQVRFX0NIQU5HRSwoKHQsaSk9PntpZih0aGlzLnNhZmVFbWl0KE52LkNPTlRFTlRfSU5TUEVDVF9DT05ORUNUSU9OX1NUQVRFX0NIQU5HRSx0LGkpLGk9PT1aYi5DT05ORUNURUQpe2lmKFwiQ09OTkVDVEVEXCIhPT10aGlzLmNvbm5lY3Rpb25TdGF0ZSlyZXR1cm4gdm9pZCB0aGlzLnNhZmVFbWl0KE52LkNPTlRFTlRfSU5TUEVDVF9FUlJPUixuZXcgU2IobnYuT1BFUkFUSU9OX0FCT1JURUQsXCJDb250ZW50IGluc3BlY3Qgd2FzIGNhbmNlbGxlZCBiZWNhdXNlIGl0IGxlZnQgdGhlIGNoYW5uZWxcIikpO2UuaW5zcGVjdEltYWdlKCl9fSkpLGUub24oZXcuSU5TUEVDVF9SRVNVTFQsKChlLHQpPT57dmFyIGk7aWYoKG51bGw9PXQ/dm9pZCAwOnQuY29kZSk9PT1udi5JTlZBTElEX09QRVJBVElPTiYmXCJESVNDT05ORUNURURcIj09PXRoaXMuY29ubmVjdGlvblN0YXRlKXJldHVybiBReS5kZWJ1ZyhcIlN0b3AgaW5zcGVjdCBjb250ZW50IGJlY2F1c2UgdGhhdCBoYXMgbGVmdCBjaGFubmVsXCIpLG51bGw9PXRoaXN8fG51bGw9PT0oaT10aGlzLl9pbnNwZWN0KXx8dm9pZCAwPT09aXx8aS5jbG9zZSgpLHZvaWQodGhpcy5faW5zcGVjdD12b2lkIDApO3RoaXMuc2FmZUVtaXQoTnYuQ09OVEVOVF9JTlNQRUNUX1JFU1VMVCxlLHQpfSkpLGUub24oZXcuQ0xJRU5UX0xPQ0FMX1ZJREVPX1RSQUNLLChlPT57ZSh0aGlzLmxvY2FsVHJhY2tzLmZpbHRlcigoZT0+XCJ2aWRlb1wiPT09ZS50cmFja01lZGlhVHlwZSkpWzBdKX0pKX1hc3luYyBkaXNhYmxlQ29udGVudEluc3BlY3QoKXtpZighdGhpcy5faW5zcGVjdCl0aHJvdyBuZXcgU2IobnYuSU5WQUxJRF9PUEVSQVRJT04sXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBpbnNwZWN0VmlkZW9Db250ZW50IG5vdCBzdGFydGVkXCIpKTt0cnl7dGhpcy5faW5zcGVjdC5jbG9zZSgpLHRoaXMuX2luc3BlY3Q9dm9pZCAwfWNhdGNoKGUpe3Rocm93IEFycmF5LmlzQXJyYXkoZSk/ZVswXTplfX1hc3luYyBzZXRJbWFnZU1vZGVyYXRpb24oZSx0KXtpZihvdihlLFwiZW5hYmxlZFwiKSxlKXtpZighdCl0aHJvdyBuZXcgU2IobnYuSU5WQUxJRF9QQVJBTVMsXCJjb25maWcgaXMgcmVxdWlyZWRcIik7aWYoT0IodCksIXRoaXMuX2pvaW5JbmZvKXRocm93IG5ldyBTYihudi5JTlZBTElEX09QRVJBVElPTixcImNhbiBub3QgY3JlYXRlIGltYWdlIG1vZGVyYXRpb24sIHBsZWFzZSBqb2luIGNoYW5uZWwgZmlyc3RcIik7dHJ5e2lmKHRoaXMuX21vZGVyYXRpb24pdGhpcy5fbW9kZXJhdGlvbi51cGRhdGVDb25maWcodCk7ZWxzZXtjb25zdCBlPShpPXtjb25maWc6dH0sbUYoXCJJbWFnZU1vZGVyYXRpb25cIikuY3JlYXRlKGkpKTt0aGlzLl9tb2RlcmF0aW9uPWUsdGhpcy5oYW5kbGVJbWFnZU1vZGVyYXRpb25FdmVudHMoZSk7Y29uc3R7YXBwSWQ6bixjbmFtZTpyLHNpZDpvLHRva2VuOnMsdWlkOmEsY2lkOmMsdmlkOmR9PXRoaXMuX2pvaW5JbmZvO2F3YWl0IGUuaW5pdCh7YXBwSWQ6bixhcmVhQ29kZTpcIlwiLGNuYW1lOnIsc2lkOm8sdG9rZW46cyx1aWQ6YSxjaWQ6Yyx2aWQ6ZD9OdW1iZXIoZCk6MH0sX3kpfX1jYXRjaChlKXt0aHJvdyBBcnJheS5pc0FycmF5KGUpP2VbMF06ZX19ZWxzZXt2YXIgaTtpZighdGhpcy5fbW9kZXJhdGlvbil0aHJvdyBuZXcgU2IobnYuSU5WQUxJRF9PUEVSQVRJT04sXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBpbWFnZSBtb2RlcmF0aW9uIG5vdCBzdGFydGVkXCIpKTt0cnl7dGhpcy5fbW9kZXJhdGlvbi5jbG9zZSgpLHRoaXMuX21vZGVyYXRpb24ucmVtb3ZlQWxsTGlzdGVuZXJzKCksdGhpcy5fbW9kZXJhdGlvbj12b2lkIDB9Y2F0Y2goZSl7dGhyb3cgQXJyYXkuaXNBcnJheShlKT9lWzBdOmV9fX1oYW5kbGVJbWFnZU1vZGVyYXRpb25FdmVudHMoZSl7ZS5vbihydy5DT05ORUNUSU9OX1NUQVRFX0NIQU5HRSwoKHQsaSk9PntpZih0aGlzLnNhZmVFbWl0KE52LklNQUdFX01PREVSQVRJT05fQ09OTkVDVElPTl9TVEFURV9DSEFOR0UsdCxpKSx0PT09bncuQ09OTkVDVEVEKXtpZihcIkNPTk5FQ1RFRFwiIT09dGhpcy5jb25uZWN0aW9uU3RhdGUpdGhyb3cgdGhpcy5zZXRJbWFnZU1vZGVyYXRpb24oITEpLG5ldyBTYihudi5PUEVSQVRJT05fQUJPUlRFRCxcIkltYWdlIG1vZGVyYXRpb24gd2FzIGNhbmNlbGxlZCBiZWNhdXNlIGl0IGxlZnQgdGhlIGNoYW5uZWxcIik7ZS5pbnNwZWN0SW1hZ2UoKX19KSksZS5vbihydy5DTElFTlRfTE9DQUxfVklERU9fVFJBQ0ssKGU9PntlKHRoaXMubG9jYWxUcmFja3MuZmlsdGVyKChlPT5cInZpZGVvXCI9PT1lLnRyYWNrTWVkaWFUeXBlKSlbMF0pfSkpfXNldFAyUFRyYW5zcG9ydChlKXtpZihmdW5jdGlvbihlKXtzdihlLFwidHJhbnNwb3J0XCIsW1wiZGVmYXVsdFwiLFwiYXV0b1wiLFwicmVsYXlcIixcInNkLXJ0blwiXSl9KGUpLFwicDJwXCIhPT10aGlzLm1vZGUpdGhyb3cgbmV3IFNiKG52LklOVkFMSURfT1BFUkFUSU9OLFwib25seSBwMnAgbW9kZSBjYW4gc2V0IHAycFRyYW5zcG9ydFwiKTt0aGlzLnN0b3JlLnAycFRyYW5zcG9ydD1lLFF5LmluZm8oXCJbXCIuY29uY2F0KHRoaXMuX2NsaWVudElkLFwiXSBzZXQgY2xpZW50IHAycFRyYW5zcG9ydCB0byBcIikuY29uY2F0KGUpKX1nZXRKb2luQ2hhbm5lbFNlcnZpY2VSZWNvcmRzKCl7cmV0dXJuIFF5LmRlYnVnKFwiZ2V0Sm9pbkNoYW5uZWxTZXJ2aWNlUmVjb3Jkc1wiKSx0aGlzLnN0b3JlLmpvaW5DaGFubmVsU2VydmljZVJlY29yZHN9YXN5bmMgc2V0UHVibGlzaEF1ZGlvRmlsdGVyRW5hYmxlZChlKXtvdihlLFwiZW5hYmxlZFwiKSxOeShcIkVOQUJMRV9QVUJMSVNIX0FVRElPX0ZJTFRFUlwiLGUpLHRoaXMuX2pvaW5JbmZvJiZhd2FpdCB0aGlzLl9nYXRld2F5LnNldFB1Ymxpc2hBdWRpb0ZpbHRlckVuYWJsZWQoZSl9X2hhbmRsZVJlc2V0QWRkU3RyZWFtKGUsdCl7c3dpdGNoKHQpe2Nhc2VcImF1ZGlvXCI6ZS5fYXVkaW9fYWRkZWRfPSExLGUuX3RydXN0X2F1ZGlvX3N0cmVhbV9hZGRlZF9zdGF0ZV89ITA7YnJlYWs7Y2FzZVwidmlkZW9cIjplLl92aWRlb19hZGRlZF89ITEsZS5fdHJ1c3RfdmlkZW9fc3RyZWFtX2FkZGVkX3N0YXRlXz0hMH19fSxyYihmai5wcm90b3R5cGUsXCJsZWF2ZVwiLFtEQl0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihmai5wcm90b3R5cGUsXCJsZWF2ZVwiKSxmai5wcm90b3R5cGUpLHJiKGZqLnByb3RvdHlwZSxcInB1Ymxpc2hcIixbUEJdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZmoucHJvdG90eXBlLFwicHVibGlzaFwiKSxmai5wcm90b3R5cGUpLHJiKGZqLnByb3RvdHlwZSxcInVucHVibGlzaFwiLFtMQl0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihmai5wcm90b3R5cGUsXCJ1bnB1Ymxpc2hcIiksZmoucHJvdG90eXBlKSxyYihmai5wcm90b3R5cGUsXCJzdWJzY3JpYmVcIixba0JdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZmoucHJvdG90eXBlLFwic3Vic2NyaWJlXCIpLGZqLnByb3RvdHlwZSkscmIoZmoucHJvdG90eXBlLFwicHJlc3Vic2NyaWJlXCIsW01CXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGZqLnByb3RvdHlwZSxcInByZXN1YnNjcmliZVwiKSxmai5wcm90b3R5cGUpLHJiKGZqLnByb3RvdHlwZSxcIm1hc3NTdWJzY3JpYmVcIixbVUJdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZmoucHJvdG90eXBlLFwibWFzc1N1YnNjcmliZVwiKSxmai5wcm90b3R5cGUpLHJiKGZqLnByb3RvdHlwZSxcInVuc3Vic2NyaWJlXCIsW3hCXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGZqLnByb3RvdHlwZSxcInVuc3Vic2NyaWJlXCIpLGZqLnByb3RvdHlwZSkscmIoZmoucHJvdG90eXBlLFwibWFzc1Vuc3Vic2NyaWJlXCIsW1ZCXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGZqLnByb3RvdHlwZSxcIm1hc3NVbnN1YnNjcmliZVwiKSxmai5wcm90b3R5cGUpLHJiKGZqLnByb3RvdHlwZSxcInNldExvd1N0cmVhbVBhcmFtZXRlclwiLFtGQl0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihmai5wcm90b3R5cGUsXCJzZXRMb3dTdHJlYW1QYXJhbWV0ZXJcIiksZmoucHJvdG90eXBlKSxyYihmai5wcm90b3R5cGUsXCJlbmFibGVEdWFsU3RyZWFtXCIsW0JCXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGZqLnByb3RvdHlwZSxcImVuYWJsZUR1YWxTdHJlYW1cIiksZmoucHJvdG90eXBlKSxyYihmai5wcm90b3R5cGUsXCJkaXNhYmxlRHVhbFN0cmVhbVwiLFtqQl0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihmai5wcm90b3R5cGUsXCJkaXNhYmxlRHVhbFN0cmVhbVwiKSxmai5wcm90b3R5cGUpLHJiKGZqLnByb3RvdHlwZSxcInNldENsaWVudFJvbGVcIixbR0JdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZmoucHJvdG90eXBlLFwic2V0Q2xpZW50Um9sZVwiKSxmai5wcm90b3R5cGUpLHJiKGZqLnByb3RvdHlwZSxcInNldFByb3h5U2VydmVyXCIsW1dCXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGZqLnByb3RvdHlwZSxcInNldFByb3h5U2VydmVyXCIpLGZqLnByb3RvdHlwZSkscmIoZmoucHJvdG90eXBlLFwic2V0VHVyblNlcnZlclwiLFtIQl0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihmai5wcm90b3R5cGUsXCJzZXRUdXJuU2VydmVyXCIpLGZqLnByb3RvdHlwZSkscmIoZmoucHJvdG90eXBlLFwic2V0TGljZW5zZVwiLFtLQl0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihmai5wcm90b3R5cGUsXCJzZXRMaWNlbnNlXCIpLGZqLnByb3RvdHlwZSkscmIoZmoucHJvdG90eXBlLFwic3RhcnRQcm94eVNlcnZlclwiLFtZQl0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihmai5wcm90b3R5cGUsXCJzdGFydFByb3h5U2VydmVyXCIpLGZqLnByb3RvdHlwZSkscmIoZmoucHJvdG90eXBlLFwic3RvcFByb3h5U2VydmVyXCIsW3FCXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGZqLnByb3RvdHlwZSxcInN0b3BQcm94eVNlcnZlclwiKSxmai5wcm90b3R5cGUpLHJiKGZqLnByb3RvdHlwZSxcInNldExvY2FsQWNjZXNzUG9pbnRzVjJcIixbekJdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZmoucHJvdG90eXBlLFwic2V0TG9jYWxBY2Nlc3NQb2ludHNWMlwiKSxmai5wcm90b3R5cGUpLHJiKGZqLnByb3RvdHlwZSxcInNldExvY2FsQWNjZXNzUG9pbnRzXCIsW0pCXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGZqLnByb3RvdHlwZSxcInNldExvY2FsQWNjZXNzUG9pbnRzXCIpLGZqLnByb3RvdHlwZSkscmIoZmoucHJvdG90eXBlLFwic2V0UmVtb3RlRGVmYXVsdFZpZGVvU3RyZWFtVHlwZVwiLFtYQl0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihmai5wcm90b3R5cGUsXCJzZXRSZW1vdGVEZWZhdWx0VmlkZW9TdHJlYW1UeXBlXCIpLGZqLnByb3RvdHlwZSkscmIoZmoucHJvdG90eXBlLFwic2V0UmVtb3RlVmlkZW9TdHJlYW1UeXBlXCIsW1FCXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGZqLnByb3RvdHlwZSxcInNldFJlbW90ZVZpZGVvU3RyZWFtVHlwZVwiKSxmai5wcm90b3R5cGUpLHJiKGZqLnByb3RvdHlwZSxcInNldFN0cmVhbUZhbGxiYWNrT3B0aW9uXCIsW1pCXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGZqLnByb3RvdHlwZSxcInNldFN0cmVhbUZhbGxiYWNrT3B0aW9uXCIpLGZqLnByb3RvdHlwZSkscmIoZmoucHJvdG90eXBlLFwic2V0RW5jcnlwdGlvbkNvbmZpZ1wiLFskQl0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihmai5wcm90b3R5cGUsXCJzZXRFbmNyeXB0aW9uQ29uZmlnXCIpLGZqLnByb3RvdHlwZSkscmIoZmoucHJvdG90eXBlLFwicmVuZXdUb2tlblwiLFtlal0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihmai5wcm90b3R5cGUsXCJyZW5ld1Rva2VuXCIpLGZqLnByb3RvdHlwZSkscmIoZmoucHJvdG90eXBlLFwiZW5hYmxlQXVkaW9Wb2x1bWVJbmRpY2F0b3JcIixbdGpdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZmoucHJvdG90eXBlLFwiZW5hYmxlQXVkaW9Wb2x1bWVJbmRpY2F0b3JcIiksZmoucHJvdG90eXBlKSxyYihmai5wcm90b3R5cGUsXCJzdGFydExpdmVTdHJlYW1pbmdcIixbaWpdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZmoucHJvdG90eXBlLFwic3RhcnRMaXZlU3RyZWFtaW5nXCIpLGZqLnByb3RvdHlwZSkscmIoZmoucHJvdG90eXBlLFwic2V0TGl2ZVRyYW5zY29kaW5nXCIsW25qXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGZqLnByb3RvdHlwZSxcInNldExpdmVUcmFuc2NvZGluZ1wiKSxmai5wcm90b3R5cGUpLHJiKGZqLnByb3RvdHlwZSxcInN0b3BMaXZlU3RyZWFtaW5nXCIsW3JqXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGZqLnByb3RvdHlwZSxcInN0b3BMaXZlU3RyZWFtaW5nXCIpLGZqLnByb3RvdHlwZSkscmIoZmoucHJvdG90eXBlLFwic3RhcnRDaGFubmVsTWVkaWFSZWxheVwiLFtval0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihmai5wcm90b3R5cGUsXCJzdGFydENoYW5uZWxNZWRpYVJlbGF5XCIpLGZqLnByb3RvdHlwZSkscmIoZmoucHJvdG90eXBlLFwidXBkYXRlQ2hhbm5lbE1lZGlhUmVsYXlcIixbc2pdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZmoucHJvdG90eXBlLFwidXBkYXRlQ2hhbm5lbE1lZGlhUmVsYXlcIiksZmoucHJvdG90eXBlKSxyYihmai5wcm90b3R5cGUsXCJzdG9wQ2hhbm5lbE1lZGlhUmVsYXlcIixbYWpdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZmoucHJvdG90eXBlLFwic3RvcENoYW5uZWxNZWRpYVJlbGF5XCIpLGZqLnByb3RvdHlwZSkscmIoZmoucHJvdG90eXBlLFwic2VuZEN1c3RvbVJlcG9ydE1lc3NhZ2VcIixbY2pdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZmoucHJvdG90eXBlLFwic2VuZEN1c3RvbVJlcG9ydE1lc3NhZ2VcIiksZmoucHJvdG90eXBlKSxyYihmai5wcm90b3R5cGUsXCJwaWNrU1ZDTGF5ZXJcIixbZGpdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZmoucHJvdG90eXBlLFwicGlja1NWQ0xheWVyXCIpLGZqLnByb3RvdHlwZSkscmIoZmoucHJvdG90eXBlLFwic2V0UlRNQ29uZmlnXCIsW2xqXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGZqLnByb3RvdHlwZSxcInNldFJUTUNvbmZpZ1wiKSxmai5wcm90b3R5cGUpLHJiKGZqLnByb3RvdHlwZSxcImVuYWJsZUNvbnRlbnRJbnNwZWN0XCIsW3VqXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGZqLnByb3RvdHlwZSxcImVuYWJsZUNvbnRlbnRJbnNwZWN0XCIpLGZqLnByb3RvdHlwZSkscmIoZmoucHJvdG90eXBlLFwiZGlzYWJsZUNvbnRlbnRJbnNwZWN0XCIsW2hqXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGZqLnByb3RvdHlwZSxcImRpc2FibGVDb250ZW50SW5zcGVjdFwiKSxmai5wcm90b3R5cGUpLHJiKGZqLnByb3RvdHlwZSxcInNldEltYWdlTW9kZXJhdGlvblwiLFtwal0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihmai5wcm90b3R5cGUsXCJzZXRJbWFnZU1vZGVyYXRpb25cIiksZmoucHJvdG90eXBlKSxyYihmai5wcm90b3R5cGUsXCJzZXRQMlBUcmFuc3BvcnRcIixbX2pdLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZmoucHJvdG90eXBlLFwic2V0UDJQVHJhbnNwb3J0XCIpLGZqLnByb3RvdHlwZSkscmIoZmoucHJvdG90eXBlLFwiZ2V0Sm9pbkNoYW5uZWxTZXJ2aWNlUmVjb3Jkc1wiLFtFal0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihmai5wcm90b3R5cGUsXCJnZXRKb2luQ2hhbm5lbFNlcnZpY2VSZWNvcmRzXCIpLGZqLnByb3RvdHlwZSkscmIoZmoucHJvdG90eXBlLFwic2V0UHVibGlzaEF1ZGlvRmlsdGVyRW5hYmxlZFwiLFttal0sT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihmai5wcm90b3R5cGUsXCJzZXRQdWJsaXNoQXVkaW9GaWx0ZXJFbmFibGVkXCIpLGZqLnByb3RvdHlwZSksZmopO2NsYXNzIFJqe2NvbnN0cnVjdG9yKGUsdCl7b2codGhpcyxcImlkXCIsMCksb2codGhpcyxcImVsZW1lbnRcIix2b2lkIDApLG9nKHRoaXMsXCJwZWVyUGFpclwiLHZvaWQgMCksb2codGhpcyxcImNvbnRleHRcIix2b2lkIDApLG9nKHRoaXMsXCJhdWRpb1BsYXllckVsZW1lbnRcIix2b2lkIDApLG9nKHRoaXMsXCJhdWRpb1RyYWNrXCIsdm9pZCAwKSxSai5jb3VudCs9MSx0aGlzLmlkPVJqLmNvdW50LHRoaXMuZWxlbWVudD1lLHRoaXMuY29udGV4dD10fWluaXRQZWVycygpe3RoaXMucGVlclBhaXI9W25ldyBSVENQZWVyQ29ubmVjdGlvbixuZXcgUlRDUGVlckNvbm5lY3Rpb25dLHRoaXMucGVlclBhaXJbMV0ub250cmFjaz1lPT57Y29uc3QgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYXVkaW9cIik7dC5zcmNPYmplY3Q9bmV3IE1lZGlhU3RyZWFtKFtlLnRyYWNrXSksdC5wbGF5KCksdGhpcy5hdWRpb1BsYXllckVsZW1lbnQ9dH19YXN5bmMgc3dpdGNoU2RwKCl7aWYoIXRoaXMucGVlclBhaXIpcmV0dXJuO2NvbnN0IGU9YXN5bmMoZSx0KT0+e2NvbnN0IGk9XCJvZmZlclwiPT09dD9hd2FpdCBlLmNyZWF0ZU9mZmVyKCk6YXdhaXQgZS5jcmVhdGVBbnN3ZXIoKTtyZXR1cm4gYXdhaXQgZS5zZXRMb2NhbERlc2NyaXB0aW9uKGkpLFwiY29tcGxldGVcIj09PWUuaWNlR2F0aGVyaW5nU3RhdGU/ZS5sb2NhbERlc2NyaXB0aW9uOm5ldyBHaCgodD0+e2Uub25pY2VnYXRoZXJpbmdzdGF0ZWNoYW5nZT0oKT0+e1wiY29tcGxldGVcIj09PWUuaWNlR2F0aGVyaW5nU3RhdGUmJnQoZS5sb2NhbERlc2NyaXB0aW9uKX19KSl9LHQ9YXN5bmMoZSx0KT0+YXdhaXQgZS5zZXRSZW1vdGVEZXNjcmlwdGlvbih0KTt0cnl7Y29uc3QgaT1hd2FpdCBlKHRoaXMucGVlclBhaXJbMF0sXCJvZmZlclwiKTthd2FpdCB0KHRoaXMucGVlclBhaXJbMV0saSk7Y29uc3Qgbj1hd2FpdCBlKHRoaXMucGVlclBhaXJbMV0sXCJhbnN3ZXJcIik7YXdhaXQgdCh0aGlzLnBlZXJQYWlyWzBdLG4pfWNhdGNoKGUpe3Rocm93IG5ldyBTYihudi5MT0NBTF9BRUNfRVJST1IsZS50b1N0cmluZygpKS5wcmludCgpfX1hc3luYyBnZXRUcmFja3NGcm9tTWVkaWFFbGVtZW50KGUpe2lmKHRoaXMuYXVkaW9UcmFjaylyZXR1cm4gdGhpcy5hdWRpb1RyYWNrO2xldCB0O3RyeXtlIGluc3RhbmNlb2YgSFRNTFZpZGVvRWxlbWVudCYmKGUuY2FwdHVyZVN0cmVhbT9lLmNhcHR1cmVTdHJlYW0oKTplLm1vekNhcHR1cmVTdHJlYW0oKSksdD10aGlzLmNvbnRleHQuY3JlYXRlTWVkaWFTdHJlYW1EZXN0aW5hdGlvbigpO3RoaXMuY29udGV4dC5jcmVhdGVNZWRpYUVsZW1lbnRTb3VyY2UoZSkuY29ubmVjdCh0KX1jYXRjaChlKXt0aHJvdyBuZXcgU2IobnYuTE9DQUxfQUVDX0VSUk9SLGUudG9TdHJpbmcoKSkucHJpbnQoKX1pZighdCl7dGhyb3cgbmV3IFNiKG52LkxPQ0FMX0FFQ19FUlJPUixcIm5vIGRlc3Qgbm9kZSB3aGVuIGxvY2FsIGFlY1wiKS5wcmludCgpfWNvbnN0IGk9dC5zdHJlYW0uZ2V0QXVkaW9UcmFja3MoKVswXTtyZXR1cm4gdGhpcy5hdWRpb1RyYWNrPWksaX1nZXRFbGVtZW50KCl7cmV0dXJuIHRoaXMuZWxlbWVudH1hc3luYyBzdGFydEVjaG9DYW5jZWxsYXRpb24oKXt0aGlzLmNvbnRleHQucmVzdW1lKCksdGhpcy5wZWVyUGFpciYmdGhpcy5jbG9zZSgpLHRoaXMuaW5pdFBlZXJzKCk7Y29uc3QgZT10aGlzLmVsZW1lbnQsdD1hd2FpdCB0aGlzLmdldFRyYWNrc0Zyb21NZWRpYUVsZW1lbnQoZSk7dGhpcy5wZWVyUGFpciYmdGhpcy5wZWVyUGFpclswXS5hZGRUcmFjayh0KSxhd2FpdCB0aGlzLnN3aXRjaFNkcCgpfWNsb3NlKCl7UXkuZGVidWcoXCJjbG9zZSBlY2hvIGNhbmNlbGxhdGlvbiB1bml0LCBpZCBpc1wiLHRoaXMuaWQpLHRoaXMuYXVkaW9QbGF5ZXJFbGVtZW50JiZ0aGlzLmF1ZGlvUGxheWVyRWxlbWVudC5wYXVzZSgpLHRoaXMucGVlclBhaXImJnRoaXMucGVlclBhaXIuZm9yRWFjaCgoZT0+e2UuY2xvc2UoKX0pKSx0aGlzLnBlZXJQYWlyPXZvaWQgMCx0aGlzLmF1ZGlvUGxheWVyRWxlbWVudD12b2lkIDB9fXZhciBDaixJajtvZyhSaixcImNvdW50XCIsMCk7Y29uc3Qgdmo9d2luZG93LkF1ZGlvQ29udGV4dHx8d2luZG93LndlYmtpdEF1ZGlvQ29udGV4dDtjb25zdCB5aj1uZXcoQ2o9b0Eoe3JlcG9ydDpzQX0pLHJiKChJaj1jbGFzc3tjb25zdHJ1Y3Rvcigpe29nKHRoaXMsXCJ1bml0c1wiLFtdKSxvZyh0aGlzLFwiY29udGV4dFwiLHZvaWQgMCl9cHJvY2Vzc0V4dGVybmFsTWVkaWFBRUMoZSl7aWYoIXRoaXMuX2RvZXNFbnZpcm9ubWVudE5lZWRBRUMoKSlyZXR1cm4gUXkuZGVidWcoXCJ0aGUgc3lzdGVtIGRvZXMgbm90IG5lZWQgdG8gcHJvY2VzcyBsb2NhbCBhZWNcIiksLTE7dGhpcy5jb250ZXh0fHwodGhpcy5jb250ZXh0PW5ldyB2aik7bGV0IHQ9dGhpcy51bml0cy5maW5kKCh0PT50JiZ0LmdldEVsZW1lbnQoKT09PWUpKTtyZXR1cm4gdHx8KHQ9bmV3IFJqKGUsdGhpcy5jb250ZXh0KSx0aGlzLnVuaXRzLnB1c2godCkpLHQuc3RhcnRFY2hvQ2FuY2VsbGF0aW9uKCksUXkuZGVidWcoXCJzdGFydCBwcm9jZXNzaW5nIGxvY2FsIGF1ZGlvIGVjaG8gY2FuY2VsbGF0aW9uLCBpZCBpc1wiLHQuaWQpLHQuaWR9X2RvZXNFbnZpcm9ubWVudE5lZWRBRUMoKXtyZXR1cm4gQUkoKS5uYW1lIT09Q0kuU0FGQVJJfX0pLnByb3RvdHlwZSxcInByb2Nlc3NFeHRlcm5hbE1lZGlhQUVDXCIsW0NqXSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKElqLnByb3RvdHlwZSxcInByb2Nlc3NFeHRlcm5hbE1lZGlhQUVDXCIpLElqLnByb3RvdHlwZSksSWopO2Z1bmN0aW9uIEFqKGUsdCl7dmFyIGk9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIG49T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYobj1uLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxpLnB1c2guYXBwbHkoaSxuKX1yZXR1cm4gaX1mdW5jdGlvbiBiaihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgaT1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9BaihPYmplY3QoaSksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe29nKGUsdCxpW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKGkpKTpBaihPYmplY3QoaSkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpLHQpKX0pKX1yZXR1cm4gZX1jb25zdCB3aj13aW5kb3d8fGRvY3VtZW50O2Z1bmN0aW9uIE9qKGUpe2xldCB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdJiZhcmd1bWVudHNbMV07aWYoIXdqKXJldHVybjtjb25zdCBpPSRLLl9jc3BFdmVudEhhbmRsZXJQb2ludGVyO2lmKGkmJnQpcmV0dXJuIHZvaWQgY29uc29sZS5lcnJvcihpLHQpO2NvbnN0IG49ZT0+e2lmKCEoZSYmZS5ibG9ja2VkVVJJJiYoJEsub25TZWN1cml0eVBvbGljeVZpb2xhdGlvbnx8JEsuZ2V0TGlzdGVuZXJzKGl3LlNFQ1VSSVRZX1BPTElDWV9WSU9MQVRJT04pLmxlbmd0aD4wKSkpcmV0dXJuO2NvbnN0IHQ9ZS5ibG9ja2VkVVJJO0R5KFwiQ1NQX0RFVEVDVEVEX0hPU1ROQU1FX0xJU1RcIikuc29tZSgoZT0+RG4odCkuY2FsbCh0LGUpKSkmJigkSy5vblNlY3VyaXR5UG9saWN5VmlvbGF0aW9uJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiAkSy5vblNlY3VyaXR5UG9saWN5VmlvbGF0aW9uJiYkSy5vblNlY3VyaXR5UG9saWN5VmlvbGF0aW9uKGUpLCRLLmdldExpc3RlbmVycyhpdy5TRUNVUklUWV9QT0xJQ1lfVklPTEFUSU9OKS5sZW5ndGg+MCYmJEsuc2FmZUVtaXQoaXcuU0VDVVJJVFlfUE9MSUNZX1ZJT0xBVElPTixlKSl9O2kmJndqLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzZWN1cml0eXBvbGljeXZpb2xhdGlvblwiLGkpLCh0fHxlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlfHwkSy5nZXRMaXN0ZW5lcnMoaXcuU0VDVVJJVFlfUE9MSUNZX1ZJT0xBVElPTikubGVuZ3RoPjApJiZ3ai5hZGRFdmVudExpc3RlbmVyKFwic2VjdXJpdHlwb2xpY3l2aW9sYXRpb25cIixuKSwkSy5fY3NwRXZlbnRIYW5kbGVyUG9pbnRlcj1ufXZhciBOaj1sLERqPUJSLFBqPVJlZ0V4cC5wcm90b3R5cGUsTGo9ZnVuY3Rpb24oZSl7cmV0dXJuIGU9PT1Qanx8TmooUGosZSk/RGooZSk6ZS5mbGFnc30sa2o9aShMaik7ZnVuY3Rpb24gTWooZSl7bGV0IHQ9ZS5sZW5ndGg7Zm9yKDstLXQ+PTA7KWVbdF09MH1jb25zdCBVaj0yNTYseGo9Mjg2LFZqPTMwLEZqPTE1LEJqPW5ldyBVaW50OEFycmF5KFswLDAsMCwwLDAsMCwwLDAsMSwxLDEsMSwyLDIsMiwyLDMsMywzLDMsNCw0LDQsNCw1LDUsNSw1LDBdKSxqaj1uZXcgVWludDhBcnJheShbMCwwLDAsMCwxLDEsMiwyLDMsMyw0LDQsNSw1LDYsNiw3LDcsOCw4LDksOSwxMCwxMCwxMSwxMSwxMiwxMiwxMywxM10pLEdqPW5ldyBVaW50OEFycmF5KFswLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDIsMyw3XSksV2o9bmV3IFVpbnQ4QXJyYXkoWzE2LDE3LDE4LDAsOCw3LDksNiwxMCw1LDExLDQsMTIsMywxMywyLDE0LDEsMTVdKSxIaj1uZXcgQXJyYXkoNTc2KTtNaihIaik7Y29uc3QgS2o9bmV3IEFycmF5KDYwKTtNaihLaik7Y29uc3QgWWo9bmV3IEFycmF5KDUxMik7TWooWWopO2NvbnN0IHFqPW5ldyBBcnJheSgyNTYpO01qKHFqKTtjb25zdCB6aj1uZXcgQXJyYXkoMjkpO01qKHpqKTtjb25zdCBKaj1uZXcgQXJyYXkoVmopO2Z1bmN0aW9uIFhqKGUsdCxpLG4scil7dGhpcy5zdGF0aWNfdHJlZT1lLHRoaXMuZXh0cmFfYml0cz10LHRoaXMuZXh0cmFfYmFzZT1pLHRoaXMuZWxlbXM9bix0aGlzLm1heF9sZW5ndGg9cix0aGlzLmhhc19zdHJlZT1lJiZlLmxlbmd0aH1sZXQgUWosWmosJGo7ZnVuY3Rpb24gZUcoZSx0KXt0aGlzLmR5bl90cmVlPWUsdGhpcy5tYXhfY29kZT0wLHRoaXMuc3RhdF9kZXNjPXR9TWooSmopO2NvbnN0IHRHPWU9PmU8MjU2P1lqW2VdOllqWzI1NisoZT4+PjcpXSxpRz0oZSx0KT0+e2UucGVuZGluZ19idWZbZS5wZW5kaW5nKytdPTI1NSZ0LGUucGVuZGluZ19idWZbZS5wZW5kaW5nKytdPXQ+Pj44JjI1NX0sbkc9KGUsdCxpKT0+e2UuYmlfdmFsaWQ+MTYtaT8oZS5iaV9idWZ8PXQ8PGUuYmlfdmFsaWQmNjU1MzUsaUcoZSxlLmJpX2J1ZiksZS5iaV9idWY9dD4+MTYtZS5iaV92YWxpZCxlLmJpX3ZhbGlkKz1pLTE2KTooZS5iaV9idWZ8PXQ8PGUuYmlfdmFsaWQmNjU1MzUsZS5iaV92YWxpZCs9aSl9LHJHPShlLHQsaSk9PntuRyhlLGlbMip0XSxpWzIqdCsxXSl9LG9HPShlLHQpPT57bGV0IGk9MDtkb3tpfD0xJmUsZT4+Pj0xLGk8PD0xfXdoaWxlKC0tdD4wKTtyZXR1cm4gaT4+PjF9LHNHPShlLHQsaSk9Pntjb25zdCBuPW5ldyBBcnJheSgxNik7bGV0IHIsbyxzPTA7Zm9yKHI9MTtyPD1GajtyKyspcz1zK2lbci0xXTw8MSxuW3JdPXM7Zm9yKG89MDtvPD10O28rKyl7bGV0IHQ9ZVsyKm8rMV07MCE9PXQmJihlWzIqb109b0coblt0XSsrLHQpKX19LGFHPWU9PntsZXQgdDtmb3IodD0wO3Q8eGo7dCsrKWUuZHluX2x0cmVlWzIqdF09MDtmb3IodD0wO3Q8Vmo7dCsrKWUuZHluX2R0cmVlWzIqdF09MDtmb3IodD0wO3Q8MTk7dCsrKWUuYmxfdHJlZVsyKnRdPTA7ZS5keW5fbHRyZWVbNTEyXT0xLGUub3B0X2xlbj1lLnN0YXRpY19sZW49MCxlLnN5bV9uZXh0PWUubWF0Y2hlcz0wfSxjRz1lPT57ZS5iaV92YWxpZD44P2lHKGUsZS5iaV9idWYpOmUuYmlfdmFsaWQ+MCYmKGUucGVuZGluZ19idWZbZS5wZW5kaW5nKytdPWUuYmlfYnVmKSxlLmJpX2J1Zj0wLGUuYmlfdmFsaWQ9MH0sZEc9KGUsdCxpLG4pPT57Y29uc3Qgcj0yKnQsbz0yKmk7cmV0dXJuIGVbcl08ZVtvXXx8ZVtyXT09PWVbb10mJm5bdF08PW5baV19LGxHPShlLHQsaSk9Pntjb25zdCBuPWUuaGVhcFtpXTtsZXQgcj1pPDwxO2Zvcig7cjw9ZS5oZWFwX2xlbiYmKHI8ZS5oZWFwX2xlbiYmZEcodCxlLmhlYXBbcisxXSxlLmhlYXBbcl0sZS5kZXB0aCkmJnIrKywhZEcodCxuLGUuaGVhcFtyXSxlLmRlcHRoKSk7KWUuaGVhcFtpXT1lLmhlYXBbcl0saT1yLHI8PD0xO2UuaGVhcFtpXT1ufSx1Rz0oZSx0LGkpPT57bGV0IG4scixvLHMsYT0wO2lmKDAhPT1lLnN5bV9uZXh0KWRve249MjU1JmUucGVuZGluZ19idWZbZS5zeW1fYnVmK2ErK10sbis9KDI1NSZlLnBlbmRpbmdfYnVmW2Uuc3ltX2J1ZithKytdKTw8OCxyPWUucGVuZGluZ19idWZbZS5zeW1fYnVmK2ErK10sMD09PW4/ckcoZSxyLHQpOihvPXFqW3JdLHJHKGUsbytVaisxLHQpLHM9Qmpbb10sMCE9PXMmJihyLT16altvXSxuRyhlLHIscykpLG4tLSxvPXRHKG4pLHJHKGUsbyxpKSxzPWpqW29dLDAhPT1zJiYobi09Smpbb10sbkcoZSxuLHMpKSl9d2hpbGUoYTxlLnN5bV9uZXh0KTtyRyhlLDI1Nix0KX0saEc9KGUsdCk9Pntjb25zdCBpPXQuZHluX3RyZWUsbj10LnN0YXRfZGVzYy5zdGF0aWNfdHJlZSxyPXQuc3RhdF9kZXNjLmhhc19zdHJlZSxvPXQuc3RhdF9kZXNjLmVsZW1zO2xldCBzLGEsYyxkPS0xO2ZvcihlLmhlYXBfbGVuPTAsZS5oZWFwX21heD01NzMscz0wO3M8bztzKyspMCE9PWlbMipzXT8oZS5oZWFwWysrZS5oZWFwX2xlbl09ZD1zLGUuZGVwdGhbc109MCk6aVsyKnMrMV09MDtmb3IoO2UuaGVhcF9sZW48MjspYz1lLmhlYXBbKytlLmhlYXBfbGVuXT1kPDI/KytkOjAsaVsyKmNdPTEsZS5kZXB0aFtjXT0wLGUub3B0X2xlbi0tLHImJihlLnN0YXRpY19sZW4tPW5bMipjKzFdKTtmb3IodC5tYXhfY29kZT1kLHM9ZS5oZWFwX2xlbj4+MTtzPj0xO3MtLSlsRyhlLGkscyk7Yz1vO2Rve3M9ZS5oZWFwWzFdLGUuaGVhcFsxXT1lLmhlYXBbZS5oZWFwX2xlbi0tXSxsRyhlLGksMSksYT1lLmhlYXBbMV0sZS5oZWFwWy0tZS5oZWFwX21heF09cyxlLmhlYXBbLS1lLmhlYXBfbWF4XT1hLGlbMipjXT1pWzIqc10raVsyKmFdLGUuZGVwdGhbY109KGUuZGVwdGhbc10+PWUuZGVwdGhbYV0/ZS5kZXB0aFtzXTplLmRlcHRoW2FdKSsxLGlbMipzKzFdPWlbMiphKzFdPWMsZS5oZWFwWzFdPWMrKyxsRyhlLGksMSl9d2hpbGUoZS5oZWFwX2xlbj49Mik7ZS5oZWFwWy0tZS5oZWFwX21heF09ZS5oZWFwWzFdLCgoZSx0KT0+e2NvbnN0IGk9dC5keW5fdHJlZSxuPXQubWF4X2NvZGUscj10LnN0YXRfZGVzYy5zdGF0aWNfdHJlZSxvPXQuc3RhdF9kZXNjLmhhc19zdHJlZSxzPXQuc3RhdF9kZXNjLmV4dHJhX2JpdHMsYT10LnN0YXRfZGVzYy5leHRyYV9iYXNlLGM9dC5zdGF0X2Rlc2MubWF4X2xlbmd0aDtsZXQgZCxsLHUsaCxwLF8sRT0wO2ZvcihoPTA7aDw9Rmo7aCsrKWUuYmxfY291bnRbaF09MDtmb3IoaVsyKmUuaGVhcFtlLmhlYXBfbWF4XSsxXT0wLGQ9ZS5oZWFwX21heCsxO2Q8NTczO2QrKylsPWUuaGVhcFtkXSxoPWlbMippWzIqbCsxXSsxXSsxLGg+YyYmKGg9YyxFKyspLGlbMipsKzFdPWgsbD5ufHwoZS5ibF9jb3VudFtoXSsrLHA9MCxsPj1hJiYocD1zW2wtYV0pLF89aVsyKmxdLGUub3B0X2xlbis9XyooaCtwKSxvJiYoZS5zdGF0aWNfbGVuKz1fKihyWzIqbCsxXStwKSkpO2lmKDAhPT1FKXtkb3tmb3IoaD1jLTE7MD09PWUuYmxfY291bnRbaF07KWgtLTtlLmJsX2NvdW50W2hdLS0sZS5ibF9jb3VudFtoKzFdKz0yLGUuYmxfY291bnRbY10tLSxFLT0yfXdoaWxlKEU+MCk7Zm9yKGg9YzswIT09aDtoLS0pZm9yKGw9ZS5ibF9jb3VudFtoXTswIT09bDspdT1lLmhlYXBbLS1kXSx1Pm58fChpWzIqdSsxXSE9PWgmJihlLm9wdF9sZW4rPShoLWlbMip1KzFdKSppWzIqdV0saVsyKnUrMV09aCksbC0tKX19KShlLHQpLHNHKGksZCxlLmJsX2NvdW50KX0scEc9KGUsdCxpKT0+e2xldCBuLHIsbz0tMSxzPXRbMV0sYT0wLGM9NyxkPTQ7Zm9yKDA9PT1zJiYoYz0xMzgsZD0zKSx0WzIqKGkrMSkrMV09NjU1MzUsbj0wO248PWk7bisrKXI9cyxzPXRbMioobisxKSsxXSwrK2E8YyYmcj09PXN8fChhPGQ/ZS5ibF90cmVlWzIqcl0rPWE6MCE9PXI/KHIhPT1vJiZlLmJsX3RyZWVbMipyXSsrLGUuYmxfdHJlZVszMl0rKyk6YTw9MTA/ZS5ibF90cmVlWzM0XSsrOmUuYmxfdHJlZVszNl0rKyxhPTAsbz1yLDA9PT1zPyhjPTEzOCxkPTMpOnI9PT1zPyhjPTYsZD0zKTooYz03LGQ9NCkpfSxfRz0oZSx0LGkpPT57bGV0IG4scixvPS0xLHM9dFsxXSxhPTAsYz03LGQ9NDtmb3IoMD09PXMmJihjPTEzOCxkPTMpLG49MDtuPD1pO24rKylpZihyPXMscz10WzIqKG4rMSkrMV0sISgrK2E8YyYmcj09PXMpKXtpZihhPGQpZG97ckcoZSxyLGUuYmxfdHJlZSl9d2hpbGUoMCE9LS1hKTtlbHNlIDAhPT1yPyhyIT09byYmKHJHKGUscixlLmJsX3RyZWUpLGEtLSksckcoZSwxNixlLmJsX3RyZWUpLG5HKGUsYS0zLDIpKTphPD0xMD8ockcoZSwxNyxlLmJsX3RyZWUpLG5HKGUsYS0zLDMpKToockcoZSwxOCxlLmJsX3RyZWUpLG5HKGUsYS0xMSw3KSk7YT0wLG89ciwwPT09cz8oYz0xMzgsZD0zKTpyPT09cz8oYz02LGQ9Myk6KGM9NyxkPTQpfX07bGV0IEVHPSExO2NvbnN0IG1HPShlLHQsaSxuKT0+e25HKGUsMCsobj8xOjApLDMpLGNHKGUpLGlHKGUsaSksaUcoZSx+aSksaSYmZS5wZW5kaW5nX2J1Zi5zZXQoZS53aW5kb3cuc3ViYXJyYXkodCx0K2kpLGUucGVuZGluZyksZS5wZW5kaW5nKz1pfTt2YXIgZkc9ZT0+e0VHfHwoKCgpPT57bGV0IGUsdCxpLG4scjtjb25zdCBvPW5ldyBBcnJheSgxNik7Zm9yKGk9MCxuPTA7bjwyODtuKyspZm9yKHpqW25dPWksZT0wO2U8MTw8Qmpbbl07ZSsrKXFqW2krK109bjtmb3IocWpbaS0xXT1uLHI9MCxuPTA7bjwxNjtuKyspZm9yKEpqW25dPXIsZT0wO2U8MTw8ampbbl07ZSsrKVlqW3IrK109bjtmb3Iocj4+PTc7bjxWajtuKyspZm9yKEpqW25dPXI8PDcsZT0wO2U8MTw8ampbbl0tNztlKyspWWpbMjU2K3IrK109bjtmb3IodD0wO3Q8PUZqO3QrKylvW3RdPTA7Zm9yKGU9MDtlPD0xNDM7KUhqWzIqZSsxXT04LGUrKyxvWzhdKys7Zm9yKDtlPD0yNTU7KUhqWzIqZSsxXT05LGUrKyxvWzldKys7Zm9yKDtlPD0yNzk7KUhqWzIqZSsxXT03LGUrKyxvWzddKys7Zm9yKDtlPD0yODc7KUhqWzIqZSsxXT04LGUrKyxvWzhdKys7Zm9yKHNHKEhqLDI4NyxvKSxlPTA7ZTxWajtlKyspS2pbMiplKzFdPTUsS2pbMiplXT1vRyhlLDUpO1FqPW5ldyBYaihIaixCaiwyNTcseGosRmopLFpqPW5ldyBYaihLaixqaiwwLFZqLEZqKSwkaj1uZXcgWGoobmV3IEFycmF5KDApLEdqLDAsMTksNyl9KSgpLEVHPSEwKSxlLmxfZGVzYz1uZXcgZUcoZS5keW5fbHRyZWUsUWopLGUuZF9kZXNjPW5ldyBlRyhlLmR5bl9kdHJlZSxaaiksZS5ibF9kZXNjPW5ldyBlRyhlLmJsX3RyZWUsJGopLGUuYmlfYnVmPTAsZS5iaV92YWxpZD0wLGFHKGUpfSxURz0oZSx0LGksbik9PntsZXQgcixvLHM9MDtlLmxldmVsPjA/KDI9PT1lLnN0cm0uZGF0YV90eXBlJiYoZS5zdHJtLmRhdGFfdHlwZT0oZT0+e2xldCB0LGk9NDA5MzYyNDQ0Nztmb3IodD0wO3Q8PTMxO3QrKyxpPj4+PTEpaWYoMSZpJiYwIT09ZS5keW5fbHRyZWVbMip0XSlyZXR1cm4gMDtpZigwIT09ZS5keW5fbHRyZWVbMThdfHwwIT09ZS5keW5fbHRyZWVbMjBdfHwwIT09ZS5keW5fbHRyZWVbMjZdKXJldHVybiAxO2Zvcih0PTMyO3Q8VWo7dCsrKWlmKDAhPT1lLmR5bl9sdHJlZVsyKnRdKXJldHVybiAxO3JldHVybiAwfSkoZSkpLGhHKGUsZS5sX2Rlc2MpLGhHKGUsZS5kX2Rlc2MpLHM9KGU9PntsZXQgdDtmb3IocEcoZSxlLmR5bl9sdHJlZSxlLmxfZGVzYy5tYXhfY29kZSkscEcoZSxlLmR5bl9kdHJlZSxlLmRfZGVzYy5tYXhfY29kZSksaEcoZSxlLmJsX2Rlc2MpLHQ9MTg7dD49MyYmMD09PWUuYmxfdHJlZVsyKldqW3RdKzFdO3QtLSk7cmV0dXJuIGUub3B0X2xlbis9MyoodCsxKSs1KzUrNCx0fSkoZSkscj1lLm9wdF9sZW4rMys3Pj4+MyxvPWUuc3RhdGljX2xlbiszKzc+Pj4zLG88PXImJihyPW8pKTpyPW89aSs1LGkrNDw9ciYmLTEhPT10P21HKGUsdCxpLG4pOjQ9PT1lLnN0cmF0ZWd5fHxvPT09cj8obkcoZSwyKyhuPzE6MCksMyksdUcoZSxIaixLaikpOihuRyhlLDQrKG4/MTowKSwzKSwoKGUsdCxpLG4pPT57bGV0IHI7Zm9yKG5HKGUsdC0yNTcsNSksbkcoZSxpLTEsNSksbkcoZSxuLTQsNCkscj0wO3I8bjtyKyspbkcoZSxlLmJsX3RyZWVbMipXaltyXSsxXSwzKTtfRyhlLGUuZHluX2x0cmVlLHQtMSksX0coZSxlLmR5bl9kdHJlZSxpLTEpfSkoZSxlLmxfZGVzYy5tYXhfY29kZSsxLGUuZF9kZXNjLm1heF9jb2RlKzEscysxKSx1RyhlLGUuZHluX2x0cmVlLGUuZHluX2R0cmVlKSksYUcoZSksbiYmY0coZSl9LFNHPShlLHQsaSk9PihlLnBlbmRpbmdfYnVmW2Uuc3ltX2J1ZitlLnN5bV9uZXh0KytdPXQsZS5wZW5kaW5nX2J1ZltlLnN5bV9idWYrZS5zeW1fbmV4dCsrXT10Pj44LGUucGVuZGluZ19idWZbZS5zeW1fYnVmK2Uuc3ltX25leHQrK109aSwwPT09dD9lLmR5bl9sdHJlZVsyKmldKys6KGUubWF0Y2hlcysrLHQtLSxlLmR5bl9sdHJlZVsyKihxaltpXStVaisxKV0rKyxlLmR5bl9kdHJlZVsyKnRHKHQpXSsrKSxlLnN5bV9uZXh0PT09ZS5zeW1fZW5kKSxnRz1lPT57bkcoZSwyLDMpLHJHKGUsMjU2LEhqKSwoZT0+ezE2PT09ZS5iaV92YWxpZD8oaUcoZSxlLmJpX2J1ZiksZS5iaV9idWY9MCxlLmJpX3ZhbGlkPTApOmUuYmlfdmFsaWQ+PTgmJihlLnBlbmRpbmdfYnVmW2UucGVuZGluZysrXT0yNTUmZS5iaV9idWYsZS5iaV9idWY+Pj04LGUuYmlfdmFsaWQtPTgpfSkoZSl9LFJHPXtfdHJfaW5pdDpmRyxfdHJfc3RvcmVkX2Jsb2NrOm1HLF90cl9mbHVzaF9ibG9jazpURyxfdHJfdGFsbHk6U0csX3RyX2FsaWduOmdHfTt2YXIgQ0c9KGUsdCxpLG4pPT57bGV0IHI9NjU1MzUmZXwwLG89ZT4+PjE2JjY1NTM1fDAscz0wO2Zvcig7MCE9PWk7KXtzPWk+MmUzPzJlMzppLGktPXM7ZG97cj1yK3RbbisrXXwwLG89bytyfDB9d2hpbGUoLS1zKTtyJT02NTUyMSxvJT02NTUyMX1yZXR1cm4gcnxvPDwxNnwwfTtjb25zdCBJRz1uZXcgVWludDMyQXJyYXkoKCgpPT57bGV0IGUsdD1bXTtmb3IodmFyIGk9MDtpPDI1NjtpKyspe2U9aTtmb3IodmFyIG49MDtuPDg7bisrKWU9MSZlPzM5ODgyOTIzODReZT4+PjE6ZT4+PjE7dFtpXT1lfXJldHVybiB0fSkoKSk7dmFyIHZHPShlLHQsaSxuKT0+e2NvbnN0IHI9SUcsbz1uK2k7ZV49LTE7Zm9yKGxldCBpPW47aTxvO2krKyllPWU+Pj44XnJbMjU1JihlXnRbaV0pXTtyZXR1cm4tMV5lfSx5Rz17MjpcIm5lZWQgZGljdGlvbmFyeVwiLDE6XCJzdHJlYW0gZW5kXCIsMDpcIlwiLFwiLTFcIjpcImZpbGUgZXJyb3JcIixcIi0yXCI6XCJzdHJlYW0gZXJyb3JcIixcIi0zXCI6XCJkYXRhIGVycm9yXCIsXCItNFwiOlwiaW5zdWZmaWNpZW50IG1lbW9yeVwiLFwiLTVcIjpcImJ1ZmZlciBlcnJvclwiLFwiLTZcIjpcImluY29tcGF0aWJsZSB2ZXJzaW9uXCJ9LEFHPXtaX05PX0ZMVVNIOjAsWl9QQVJUSUFMX0ZMVVNIOjEsWl9TWU5DX0ZMVVNIOjIsWl9GVUxMX0ZMVVNIOjMsWl9GSU5JU0g6NCxaX0JMT0NLOjUsWl9UUkVFUzo2LFpfT0s6MCxaX1NUUkVBTV9FTkQ6MSxaX05FRURfRElDVDoyLFpfRVJSTk86LTEsWl9TVFJFQU1fRVJST1I6LTIsWl9EQVRBX0VSUk9SOi0zLFpfTUVNX0VSUk9SOi00LFpfQlVGX0VSUk9SOi01LFpfTk9fQ09NUFJFU1NJT046MCxaX0JFU1RfU1BFRUQ6MSxaX0JFU1RfQ09NUFJFU1NJT046OSxaX0RFRkFVTFRfQ09NUFJFU1NJT046LTEsWl9GSUxURVJFRDoxLFpfSFVGRk1BTl9PTkxZOjIsWl9STEU6MyxaX0ZJWEVEOjQsWl9ERUZBVUxUX1NUUkFURUdZOjAsWl9CSU5BUlk6MCxaX1RFWFQ6MSxaX1VOS05PV046MixaX0RFRkxBVEVEOjh9O2NvbnN0e190cl9pbml0OmJHLF90cl9zdG9yZWRfYmxvY2s6d0csX3RyX2ZsdXNoX2Jsb2NrOk9HLF90cl90YWxseTpORyxfdHJfYWxpZ246REd9PVJHLHtaX05PX0ZMVVNIOlBHLFpfUEFSVElBTF9GTFVTSDpMRyxaX0ZVTExfRkxVU0g6a0csWl9GSU5JU0g6TUcsWl9CTE9DSzpVRyxaX09LOnhHLFpfU1RSRUFNX0VORDpWRyxaX1NUUkVBTV9FUlJPUjpGRyxaX0RBVEFfRVJST1I6QkcsWl9CVUZfRVJST1I6akcsWl9ERUZBVUxUX0NPTVBSRVNTSU9OOkdHLFpfRklMVEVSRUQ6V0csWl9IVUZGTUFOX09OTFk6SEcsWl9STEU6S0csWl9GSVhFRDpZRyxaX0RFRkFVTFRfU1RSQVRFR1k6cUcsWl9VTktOT1dOOnpHLFpfREVGTEFURUQ6Skd9PUFHLFhHPTI4NixRRz0zMCxaRz0xOSwkRz0yKlhHKzEsZVc9MTUsdFc9MjU4LGlXPTI2MixuVz00MixyVz0xMTMsb1c9NjY2LHNXPShlLHQpPT4oZS5tc2c9eUdbdF0sdCksYVc9ZT0+MiplLShlPjQ/OTowKSxjVz1lPT57bGV0IHQ9ZS5sZW5ndGg7Zm9yKDstLXQ+PTA7KWVbdF09MH0sZFc9ZT0+e2xldCB0LGksbixyPWUud19zaXplO3Q9ZS5oYXNoX3NpemUsbj10O2Rve2k9ZS5oZWFkWy0tbl0sZS5oZWFkW25dPWk+PXI/aS1yOjB9d2hpbGUoLS10KTt0PXIsbj10O2Rve2k9ZS5wcmV2Wy0tbl0sZS5wcmV2W25dPWk+PXI/aS1yOjB9d2hpbGUoLS10KX07bGV0IGxXPShlLHQsaSk9Pih0PDxlLmhhc2hfc2hpZnReaSkmZS5oYXNoX21hc2s7Y29uc3QgdVc9ZT0+e2NvbnN0IHQ9ZS5zdGF0ZTtsZXQgaT10LnBlbmRpbmc7aT5lLmF2YWlsX291dCYmKGk9ZS5hdmFpbF9vdXQpLDAhPT1pJiYoZS5vdXRwdXQuc2V0KHQucGVuZGluZ19idWYuc3ViYXJyYXkodC5wZW5kaW5nX291dCx0LnBlbmRpbmdfb3V0K2kpLGUubmV4dF9vdXQpLGUubmV4dF9vdXQrPWksdC5wZW5kaW5nX291dCs9aSxlLnRvdGFsX291dCs9aSxlLmF2YWlsX291dC09aSx0LnBlbmRpbmctPWksMD09PXQucGVuZGluZyYmKHQucGVuZGluZ19vdXQ9MCkpfSxoVz0oZSx0KT0+e09HKGUsZS5ibG9ja19zdGFydD49MD9lLmJsb2NrX3N0YXJ0Oi0xLGUuc3Ryc3RhcnQtZS5ibG9ja19zdGFydCx0KSxlLmJsb2NrX3N0YXJ0PWUuc3Ryc3RhcnQsdVcoZS5zdHJtKX0scFc9KGUsdCk9PntlLnBlbmRpbmdfYnVmW2UucGVuZGluZysrXT10fSxfVz0oZSx0KT0+e2UucGVuZGluZ19idWZbZS5wZW5kaW5nKytdPXQ+Pj44JjI1NSxlLnBlbmRpbmdfYnVmW2UucGVuZGluZysrXT0yNTUmdH0sRVc9KGUsdCxpLG4pPT57bGV0IHI9ZS5hdmFpbF9pbjtyZXR1cm4gcj5uJiYocj1uKSwwPT09cj8wOihlLmF2YWlsX2luLT1yLHQuc2V0KGUuaW5wdXQuc3ViYXJyYXkoZS5uZXh0X2luLGUubmV4dF9pbityKSxpKSwxPT09ZS5zdGF0ZS53cmFwP2UuYWRsZXI9Q0coZS5hZGxlcix0LHIsaSk6Mj09PWUuc3RhdGUud3JhcCYmKGUuYWRsZXI9dkcoZS5hZGxlcix0LHIsaSkpLGUubmV4dF9pbis9cixlLnRvdGFsX2luKz1yLHIpfSxtVz0oZSx0KT0+e2xldCBpLG4scj1lLm1heF9jaGFpbl9sZW5ndGgsbz1lLnN0cnN0YXJ0LHM9ZS5wcmV2X2xlbmd0aCxhPWUubmljZV9tYXRjaDtjb25zdCBjPWUuc3Ryc3RhcnQ+ZS53X3NpemUtaVc/ZS5zdHJzdGFydC0oZS53X3NpemUtaVcpOjAsZD1lLndpbmRvdyxsPWUud19tYXNrLHU9ZS5wcmV2LGg9ZS5zdHJzdGFydCt0VztsZXQgcD1kW28rcy0xXSxfPWRbbytzXTtlLnByZXZfbGVuZ3RoPj1lLmdvb2RfbWF0Y2gmJihyPj49MiksYT5lLmxvb2thaGVhZCYmKGE9ZS5sb29rYWhlYWQpO2Rve2lmKGk9dCxkW2krc109PT1fJiZkW2krcy0xXT09PXAmJmRbaV09PT1kW29dJiZkWysraV09PT1kW28rMV0pe28rPTIsaSsrO2Rve313aGlsZShkWysrb109PT1kWysraV0mJmRbKytvXT09PWRbKytpXSYmZFsrK29dPT09ZFsrK2ldJiZkWysrb109PT1kWysraV0mJmRbKytvXT09PWRbKytpXSYmZFsrK29dPT09ZFsrK2ldJiZkWysrb109PT1kWysraV0mJmRbKytvXT09PWRbKytpXSYmbzxoKTtpZihuPXRXLShoLW8pLG89aC10VyxuPnMpe2lmKGUubWF0Y2hfc3RhcnQ9dCxzPW4sbj49YSlicmVhaztwPWRbbytzLTFdLF89ZFtvK3NdfX19d2hpbGUoKHQ9dVt0JmxdKT5jJiYwIT0tLXIpO3JldHVybiBzPD1lLmxvb2thaGVhZD9zOmUubG9va2FoZWFkfSxmVz1lPT57Y29uc3QgdD1lLndfc2l6ZTtsZXQgaSxuLHI7ZG97aWYobj1lLndpbmRvd19zaXplLWUubG9va2FoZWFkLWUuc3Ryc3RhcnQsZS5zdHJzdGFydD49dCsodC1pVykmJihlLndpbmRvdy5zZXQoZS53aW5kb3cuc3ViYXJyYXkodCx0K3QtbiksMCksZS5tYXRjaF9zdGFydC09dCxlLnN0cnN0YXJ0LT10LGUuYmxvY2tfc3RhcnQtPXQsZS5pbnNlcnQ+ZS5zdHJzdGFydCYmKGUuaW5zZXJ0PWUuc3Ryc3RhcnQpLGRXKGUpLG4rPXQpLDA9PT1lLnN0cm0uYXZhaWxfaW4pYnJlYWs7aWYoaT1FVyhlLnN0cm0sZS53aW5kb3csZS5zdHJzdGFydCtlLmxvb2thaGVhZCxuKSxlLmxvb2thaGVhZCs9aSxlLmxvb2thaGVhZCtlLmluc2VydD49Mylmb3Iocj1lLnN0cnN0YXJ0LWUuaW5zZXJ0LGUuaW5zX2g9ZS53aW5kb3dbcl0sZS5pbnNfaD1sVyhlLGUuaW5zX2gsZS53aW5kb3dbcisxXSk7ZS5pbnNlcnQmJihlLmluc19oPWxXKGUsZS5pbnNfaCxlLndpbmRvd1tyKzMtMV0pLGUucHJldltyJmUud19tYXNrXT1lLmhlYWRbZS5pbnNfaF0sZS5oZWFkW2UuaW5zX2hdPXIscisrLGUuaW5zZXJ0LS0sIShlLmxvb2thaGVhZCtlLmluc2VydDwzKSk7KTt9d2hpbGUoZS5sb29rYWhlYWQ8aVcmJjAhPT1lLnN0cm0uYXZhaWxfaW4pfSxUVz0oZSx0KT0+e2xldCBpLG4scixvPWUucGVuZGluZ19idWZfc2l6ZS01PmUud19zaXplP2Uud19zaXplOmUucGVuZGluZ19idWZfc2l6ZS01LHM9MCxhPWUuc3RybS5hdmFpbF9pbjtkb3tpZihpPTY1NTM1LHI9ZS5iaV92YWxpZCs0Mj4+MyxlLnN0cm0uYXZhaWxfb3V0PHIpYnJlYWs7aWYocj1lLnN0cm0uYXZhaWxfb3V0LXIsbj1lLnN0cnN0YXJ0LWUuYmxvY2tfc3RhcnQsaT5uK2Uuc3RybS5hdmFpbF9pbiYmKGk9bitlLnN0cm0uYXZhaWxfaW4pLGk+ciYmKGk9ciksaTxvJiYoMD09PWkmJnQhPT1NR3x8dD09PVBHfHxpIT09bitlLnN0cm0uYXZhaWxfaW4pKWJyZWFrO3M9dD09PU1HJiZpPT09bitlLnN0cm0uYXZhaWxfaW4/MTowLHdHKGUsMCwwLHMpLGUucGVuZGluZ19idWZbZS5wZW5kaW5nLTRdPWksZS5wZW5kaW5nX2J1ZltlLnBlbmRpbmctM109aT4+OCxlLnBlbmRpbmdfYnVmW2UucGVuZGluZy0yXT1+aSxlLnBlbmRpbmdfYnVmW2UucGVuZGluZy0xXT1+aT4+OCx1VyhlLnN0cm0pLG4mJihuPmkmJihuPWkpLGUuc3RybS5vdXRwdXQuc2V0KGUud2luZG93LnN1YmFycmF5KGUuYmxvY2tfc3RhcnQsZS5ibG9ja19zdGFydCtuKSxlLnN0cm0ubmV4dF9vdXQpLGUuc3RybS5uZXh0X291dCs9bixlLnN0cm0uYXZhaWxfb3V0LT1uLGUuc3RybS50b3RhbF9vdXQrPW4sZS5ibG9ja19zdGFydCs9bixpLT1uKSxpJiYoRVcoZS5zdHJtLGUuc3RybS5vdXRwdXQsZS5zdHJtLm5leHRfb3V0LGkpLGUuc3RybS5uZXh0X291dCs9aSxlLnN0cm0uYXZhaWxfb3V0LT1pLGUuc3RybS50b3RhbF9vdXQrPWkpfXdoaWxlKDA9PT1zKTtyZXR1cm4gYS09ZS5zdHJtLmF2YWlsX2luLGEmJihhPj1lLndfc2l6ZT8oZS5tYXRjaGVzPTIsZS53aW5kb3cuc2V0KGUuc3RybS5pbnB1dC5zdWJhcnJheShlLnN0cm0ubmV4dF9pbi1lLndfc2l6ZSxlLnN0cm0ubmV4dF9pbiksMCksZS5zdHJzdGFydD1lLndfc2l6ZSxlLmluc2VydD1lLnN0cnN0YXJ0KTooZS53aW5kb3dfc2l6ZS1lLnN0cnN0YXJ0PD1hJiYoZS5zdHJzdGFydC09ZS53X3NpemUsZS53aW5kb3cuc2V0KGUud2luZG93LnN1YmFycmF5KGUud19zaXplLGUud19zaXplK2Uuc3Ryc3RhcnQpLDApLGUubWF0Y2hlczwyJiZlLm1hdGNoZXMrKyxlLmluc2VydD5lLnN0cnN0YXJ0JiYoZS5pbnNlcnQ9ZS5zdHJzdGFydCkpLGUud2luZG93LnNldChlLnN0cm0uaW5wdXQuc3ViYXJyYXkoZS5zdHJtLm5leHRfaW4tYSxlLnN0cm0ubmV4dF9pbiksZS5zdHJzdGFydCksZS5zdHJzdGFydCs9YSxlLmluc2VydCs9YT5lLndfc2l6ZS1lLmluc2VydD9lLndfc2l6ZS1lLmluc2VydDphKSxlLmJsb2NrX3N0YXJ0PWUuc3Ryc3RhcnQpLGUuaGlnaF93YXRlcjxlLnN0cnN0YXJ0JiYoZS5oaWdoX3dhdGVyPWUuc3Ryc3RhcnQpLHM/NDp0IT09UEcmJnQhPT1NRyYmMD09PWUuc3RybS5hdmFpbF9pbiYmZS5zdHJzdGFydD09PWUuYmxvY2tfc3RhcnQ/Mjoocj1lLndpbmRvd19zaXplLWUuc3Ryc3RhcnQsZS5zdHJtLmF2YWlsX2luPnImJmUuYmxvY2tfc3RhcnQ+PWUud19zaXplJiYoZS5ibG9ja19zdGFydC09ZS53X3NpemUsZS5zdHJzdGFydC09ZS53X3NpemUsZS53aW5kb3cuc2V0KGUud2luZG93LnN1YmFycmF5KGUud19zaXplLGUud19zaXplK2Uuc3Ryc3RhcnQpLDApLGUubWF0Y2hlczwyJiZlLm1hdGNoZXMrKyxyKz1lLndfc2l6ZSxlLmluc2VydD5lLnN0cnN0YXJ0JiYoZS5pbnNlcnQ9ZS5zdHJzdGFydCkpLHI+ZS5zdHJtLmF2YWlsX2luJiYocj1lLnN0cm0uYXZhaWxfaW4pLHImJihFVyhlLnN0cm0sZS53aW5kb3csZS5zdHJzdGFydCxyKSxlLnN0cnN0YXJ0Kz1yLGUuaW5zZXJ0Kz1yPmUud19zaXplLWUuaW5zZXJ0P2Uud19zaXplLWUuaW5zZXJ0OnIpLGUuaGlnaF93YXRlcjxlLnN0cnN0YXJ0JiYoZS5oaWdoX3dhdGVyPWUuc3Ryc3RhcnQpLHI9ZS5iaV92YWxpZCs0Mj4+MyxyPWUucGVuZGluZ19idWZfc2l6ZS1yPjY1NTM1PzY1NTM1OmUucGVuZGluZ19idWZfc2l6ZS1yLG89cj5lLndfc2l6ZT9lLndfc2l6ZTpyLG49ZS5zdHJzdGFydC1lLmJsb2NrX3N0YXJ0LChuPj1vfHwobnx8dD09PU1HKSYmdCE9PVBHJiYwPT09ZS5zdHJtLmF2YWlsX2luJiZuPD1yKSYmKGk9bj5yP3I6bixzPXQ9PT1NRyYmMD09PWUuc3RybS5hdmFpbF9pbiYmaT09PW4/MTowLHdHKGUsZS5ibG9ja19zdGFydCxpLHMpLGUuYmxvY2tfc3RhcnQrPWksdVcoZS5zdHJtKSkscz8zOjEpfSxTVz0oZSx0KT0+e2xldCBpLG47Zm9yKDs7KXtpZihlLmxvb2thaGVhZDxpVyl7aWYoZlcoZSksZS5sb29rYWhlYWQ8aVcmJnQ9PT1QRylyZXR1cm4gMTtpZigwPT09ZS5sb29rYWhlYWQpYnJlYWt9aWYoaT0wLGUubG9va2FoZWFkPj0zJiYoZS5pbnNfaD1sVyhlLGUuaW5zX2gsZS53aW5kb3dbZS5zdHJzdGFydCszLTFdKSxpPWUucHJldltlLnN0cnN0YXJ0JmUud19tYXNrXT1lLmhlYWRbZS5pbnNfaF0sZS5oZWFkW2UuaW5zX2hdPWUuc3Ryc3RhcnQpLDAhPT1pJiZlLnN0cnN0YXJ0LWk8PWUud19zaXplLWlXJiYoZS5tYXRjaF9sZW5ndGg9bVcoZSxpKSksZS5tYXRjaF9sZW5ndGg+PTMpaWYobj1ORyhlLGUuc3Ryc3RhcnQtZS5tYXRjaF9zdGFydCxlLm1hdGNoX2xlbmd0aC0zKSxlLmxvb2thaGVhZC09ZS5tYXRjaF9sZW5ndGgsZS5tYXRjaF9sZW5ndGg8PWUubWF4X2xhenlfbWF0Y2gmJmUubG9va2FoZWFkPj0zKXtlLm1hdGNoX2xlbmd0aC0tO2Rve2Uuc3Ryc3RhcnQrKyxlLmluc19oPWxXKGUsZS5pbnNfaCxlLndpbmRvd1tlLnN0cnN0YXJ0KzMtMV0pLGk9ZS5wcmV2W2Uuc3Ryc3RhcnQmZS53X21hc2tdPWUuaGVhZFtlLmluc19oXSxlLmhlYWRbZS5pbnNfaF09ZS5zdHJzdGFydH13aGlsZSgwIT0tLWUubWF0Y2hfbGVuZ3RoKTtlLnN0cnN0YXJ0Kyt9ZWxzZSBlLnN0cnN0YXJ0Kz1lLm1hdGNoX2xlbmd0aCxlLm1hdGNoX2xlbmd0aD0wLGUuaW5zX2g9ZS53aW5kb3dbZS5zdHJzdGFydF0sZS5pbnNfaD1sVyhlLGUuaW5zX2gsZS53aW5kb3dbZS5zdHJzdGFydCsxXSk7ZWxzZSBuPU5HKGUsMCxlLndpbmRvd1tlLnN0cnN0YXJ0XSksZS5sb29rYWhlYWQtLSxlLnN0cnN0YXJ0Kys7aWYobiYmKGhXKGUsITEpLDA9PT1lLnN0cm0uYXZhaWxfb3V0KSlyZXR1cm4gMX1yZXR1cm4gZS5pbnNlcnQ9ZS5zdHJzdGFydDwyP2Uuc3Ryc3RhcnQ6Mix0PT09TUc/KGhXKGUsITApLDA9PT1lLnN0cm0uYXZhaWxfb3V0PzM6NCk6ZS5zeW1fbmV4dCYmKGhXKGUsITEpLDA9PT1lLnN0cm0uYXZhaWxfb3V0KT8xOjJ9LGdXPShlLHQpPT57bGV0IGksbixyO2Zvcig7Oyl7aWYoZS5sb29rYWhlYWQ8aVcpe2lmKGZXKGUpLGUubG9va2FoZWFkPGlXJiZ0PT09UEcpcmV0dXJuIDE7aWYoMD09PWUubG9va2FoZWFkKWJyZWFrfWlmKGk9MCxlLmxvb2thaGVhZD49MyYmKGUuaW5zX2g9bFcoZSxlLmluc19oLGUud2luZG93W2Uuc3Ryc3RhcnQrMy0xXSksaT1lLnByZXZbZS5zdHJzdGFydCZlLndfbWFza109ZS5oZWFkW2UuaW5zX2hdLGUuaGVhZFtlLmluc19oXT1lLnN0cnN0YXJ0KSxlLnByZXZfbGVuZ3RoPWUubWF0Y2hfbGVuZ3RoLGUucHJldl9tYXRjaD1lLm1hdGNoX3N0YXJ0LGUubWF0Y2hfbGVuZ3RoPTIsMCE9PWkmJmUucHJldl9sZW5ndGg8ZS5tYXhfbGF6eV9tYXRjaCYmZS5zdHJzdGFydC1pPD1lLndfc2l6ZS1pVyYmKGUubWF0Y2hfbGVuZ3RoPW1XKGUsaSksZS5tYXRjaF9sZW5ndGg8PTUmJihlLnN0cmF0ZWd5PT09V0d8fDM9PT1lLm1hdGNoX2xlbmd0aCYmZS5zdHJzdGFydC1lLm1hdGNoX3N0YXJ0PjQwOTYpJiYoZS5tYXRjaF9sZW5ndGg9MikpLGUucHJldl9sZW5ndGg+PTMmJmUubWF0Y2hfbGVuZ3RoPD1lLnByZXZfbGVuZ3RoKXtyPWUuc3Ryc3RhcnQrZS5sb29rYWhlYWQtMyxuPU5HKGUsZS5zdHJzdGFydC0xLWUucHJldl9tYXRjaCxlLnByZXZfbGVuZ3RoLTMpLGUubG9va2FoZWFkLT1lLnByZXZfbGVuZ3RoLTEsZS5wcmV2X2xlbmd0aC09Mjtkb3srK2Uuc3Ryc3RhcnQ8PXImJihlLmluc19oPWxXKGUsZS5pbnNfaCxlLndpbmRvd1tlLnN0cnN0YXJ0KzMtMV0pLGk9ZS5wcmV2W2Uuc3Ryc3RhcnQmZS53X21hc2tdPWUuaGVhZFtlLmluc19oXSxlLmhlYWRbZS5pbnNfaF09ZS5zdHJzdGFydCl9d2hpbGUoMCE9LS1lLnByZXZfbGVuZ3RoKTtpZihlLm1hdGNoX2F2YWlsYWJsZT0wLGUubWF0Y2hfbGVuZ3RoPTIsZS5zdHJzdGFydCsrLG4mJihoVyhlLCExKSwwPT09ZS5zdHJtLmF2YWlsX291dCkpcmV0dXJuIDF9ZWxzZSBpZihlLm1hdGNoX2F2YWlsYWJsZSl7aWYobj1ORyhlLDAsZS53aW5kb3dbZS5zdHJzdGFydC0xXSksbiYmaFcoZSwhMSksZS5zdHJzdGFydCsrLGUubG9va2FoZWFkLS0sMD09PWUuc3RybS5hdmFpbF9vdXQpcmV0dXJuIDF9ZWxzZSBlLm1hdGNoX2F2YWlsYWJsZT0xLGUuc3Ryc3RhcnQrKyxlLmxvb2thaGVhZC0tfXJldHVybiBlLm1hdGNoX2F2YWlsYWJsZSYmKG49TkcoZSwwLGUud2luZG93W2Uuc3Ryc3RhcnQtMV0pLGUubWF0Y2hfYXZhaWxhYmxlPTApLGUuaW5zZXJ0PWUuc3Ryc3RhcnQ8Mj9lLnN0cnN0YXJ0OjIsdD09PU1HPyhoVyhlLCEwKSwwPT09ZS5zdHJtLmF2YWlsX291dD8zOjQpOmUuc3ltX25leHQmJihoVyhlLCExKSwwPT09ZS5zdHJtLmF2YWlsX291dCk/MToyfTtmdW5jdGlvbiBSVyhlLHQsaSxuLHIpe3RoaXMuZ29vZF9sZW5ndGg9ZSx0aGlzLm1heF9sYXp5PXQsdGhpcy5uaWNlX2xlbmd0aD1pLHRoaXMubWF4X2NoYWluPW4sdGhpcy5mdW5jPXJ9Y29uc3QgQ1c9W25ldyBSVygwLDAsMCwwLFRXKSxuZXcgUlcoNCw0LDgsNCxTVyksbmV3IFJXKDQsNSwxNiw4LFNXKSxuZXcgUlcoNCw2LDMyLDMyLFNXKSxuZXcgUlcoNCw0LDE2LDE2LGdXKSxuZXcgUlcoOCwxNiwzMiwzMixnVyksbmV3IFJXKDgsMTYsMTI4LDEyOCxnVyksbmV3IFJXKDgsMzIsMTI4LDI1NixnVyksbmV3IFJXKDMyLDEyOCwyNTgsMTAyNCxnVyksbmV3IFJXKDMyLDI1OCwyNTgsNDA5NixnVyldO2Z1bmN0aW9uIElXKCl7dGhpcy5zdHJtPW51bGwsdGhpcy5zdGF0dXM9MCx0aGlzLnBlbmRpbmdfYnVmPW51bGwsdGhpcy5wZW5kaW5nX2J1Zl9zaXplPTAsdGhpcy5wZW5kaW5nX291dD0wLHRoaXMucGVuZGluZz0wLHRoaXMud3JhcD0wLHRoaXMuZ3poZWFkPW51bGwsdGhpcy5nemluZGV4PTAsdGhpcy5tZXRob2Q9SkcsdGhpcy5sYXN0X2ZsdXNoPS0xLHRoaXMud19zaXplPTAsdGhpcy53X2JpdHM9MCx0aGlzLndfbWFzaz0wLHRoaXMud2luZG93PW51bGwsdGhpcy53aW5kb3dfc2l6ZT0wLHRoaXMucHJldj1udWxsLHRoaXMuaGVhZD1udWxsLHRoaXMuaW5zX2g9MCx0aGlzLmhhc2hfc2l6ZT0wLHRoaXMuaGFzaF9iaXRzPTAsdGhpcy5oYXNoX21hc2s9MCx0aGlzLmhhc2hfc2hpZnQ9MCx0aGlzLmJsb2NrX3N0YXJ0PTAsdGhpcy5tYXRjaF9sZW5ndGg9MCx0aGlzLnByZXZfbWF0Y2g9MCx0aGlzLm1hdGNoX2F2YWlsYWJsZT0wLHRoaXMuc3Ryc3RhcnQ9MCx0aGlzLm1hdGNoX3N0YXJ0PTAsdGhpcy5sb29rYWhlYWQ9MCx0aGlzLnByZXZfbGVuZ3RoPTAsdGhpcy5tYXhfY2hhaW5fbGVuZ3RoPTAsdGhpcy5tYXhfbGF6eV9tYXRjaD0wLHRoaXMubGV2ZWw9MCx0aGlzLnN0cmF0ZWd5PTAsdGhpcy5nb29kX21hdGNoPTAsdGhpcy5uaWNlX21hdGNoPTAsdGhpcy5keW5fbHRyZWU9bmV3IFVpbnQxNkFycmF5KDIqJEcpLHRoaXMuZHluX2R0cmVlPW5ldyBVaW50MTZBcnJheSgyKigyKlFHKzEpKSx0aGlzLmJsX3RyZWU9bmV3IFVpbnQxNkFycmF5KDIqKDIqWkcrMSkpLGNXKHRoaXMuZHluX2x0cmVlKSxjVyh0aGlzLmR5bl9kdHJlZSksY1codGhpcy5ibF90cmVlKSx0aGlzLmxfZGVzYz1udWxsLHRoaXMuZF9kZXNjPW51bGwsdGhpcy5ibF9kZXNjPW51bGwsdGhpcy5ibF9jb3VudD1uZXcgVWludDE2QXJyYXkoZVcrMSksdGhpcy5oZWFwPW5ldyBVaW50MTZBcnJheSgyKlhHKzEpLGNXKHRoaXMuaGVhcCksdGhpcy5oZWFwX2xlbj0wLHRoaXMuaGVhcF9tYXg9MCx0aGlzLmRlcHRoPW5ldyBVaW50MTZBcnJheSgyKlhHKzEpLGNXKHRoaXMuZGVwdGgpLHRoaXMuc3ltX2J1Zj0wLHRoaXMubGl0X2J1ZnNpemU9MCx0aGlzLnN5bV9uZXh0PTAsdGhpcy5zeW1fZW5kPTAsdGhpcy5vcHRfbGVuPTAsdGhpcy5zdGF0aWNfbGVuPTAsdGhpcy5tYXRjaGVzPTAsdGhpcy5pbnNlcnQ9MCx0aGlzLmJpX2J1Zj0wLHRoaXMuYmlfdmFsaWQ9MH1jb25zdCB2Vz1lPT57aWYoIWUpcmV0dXJuIDE7Y29uc3QgdD1lLnN0YXRlO3JldHVybiF0fHx0LnN0cm0hPT1lfHx0LnN0YXR1cyE9PW5XJiY1NyE9PXQuc3RhdHVzJiY2OSE9PXQuc3RhdHVzJiY3MyE9PXQuc3RhdHVzJiY5MSE9PXQuc3RhdHVzJiYxMDMhPT10LnN0YXR1cyYmdC5zdGF0dXMhPT1yVyYmdC5zdGF0dXMhPT1vVz8xOjB9LHlXPWU9PntpZih2VyhlKSlyZXR1cm4gc1coZSxGRyk7ZS50b3RhbF9pbj1lLnRvdGFsX291dD0wLGUuZGF0YV90eXBlPXpHO2NvbnN0IHQ9ZS5zdGF0ZTtyZXR1cm4gdC5wZW5kaW5nPTAsdC5wZW5kaW5nX291dD0wLHQud3JhcDwwJiYodC53cmFwPS10LndyYXApLHQuc3RhdHVzPTI9PT10LndyYXA/NTc6dC53cmFwP25XOnJXLGUuYWRsZXI9Mj09PXQud3JhcD8wOjEsdC5sYXN0X2ZsdXNoPS0yLGJHKHQpLHhHfSxBVz1lPT57Y29uc3QgdD15VyhlKTtyZXR1cm4gdD09PXhHJiYoZT0+e2Uud2luZG93X3NpemU9MiplLndfc2l6ZSxjVyhlLmhlYWQpLGUubWF4X2xhenlfbWF0Y2g9Q1dbZS5sZXZlbF0ubWF4X2xhenksZS5nb29kX21hdGNoPUNXW2UubGV2ZWxdLmdvb2RfbGVuZ3RoLGUubmljZV9tYXRjaD1DV1tlLmxldmVsXS5uaWNlX2xlbmd0aCxlLm1heF9jaGFpbl9sZW5ndGg9Q1dbZS5sZXZlbF0ubWF4X2NoYWluLGUuc3Ryc3RhcnQ9MCxlLmJsb2NrX3N0YXJ0PTAsZS5sb29rYWhlYWQ9MCxlLmluc2VydD0wLGUubWF0Y2hfbGVuZ3RoPWUucHJldl9sZW5ndGg9MixlLm1hdGNoX2F2YWlsYWJsZT0wLGUuaW5zX2g9MH0pKGUuc3RhdGUpLHR9LGJXPShlLHQsaSxuLHIsbyk9PntpZighZSlyZXR1cm4gRkc7bGV0IHM9MTtpZih0PT09R0cmJih0PTYpLG48MD8ocz0wLG49LW4pOm4+MTUmJihzPTIsbi09MTYpLHI8MXx8cj45fHxpIT09Skd8fG48OHx8bj4xNXx8dDwwfHx0Pjl8fG88MHx8bz5ZR3x8OD09PW4mJjEhPT1zKXJldHVybiBzVyhlLEZHKTs4PT09biYmKG49OSk7Y29uc3QgYT1uZXcgSVc7cmV0dXJuIGUuc3RhdGU9YSxhLnN0cm09ZSxhLnN0YXR1cz1uVyxhLndyYXA9cyxhLmd6aGVhZD1udWxsLGEud19iaXRzPW4sYS53X3NpemU9MTw8YS53X2JpdHMsYS53X21hc2s9YS53X3NpemUtMSxhLmhhc2hfYml0cz1yKzcsYS5oYXNoX3NpemU9MTw8YS5oYXNoX2JpdHMsYS5oYXNoX21hc2s9YS5oYXNoX3NpemUtMSxhLmhhc2hfc2hpZnQ9fn4oKGEuaGFzaF9iaXRzKzMtMSkvMyksYS53aW5kb3c9bmV3IFVpbnQ4QXJyYXkoMiphLndfc2l6ZSksYS5oZWFkPW5ldyBVaW50MTZBcnJheShhLmhhc2hfc2l6ZSksYS5wcmV2PW5ldyBVaW50MTZBcnJheShhLndfc2l6ZSksYS5saXRfYnVmc2l6ZT0xPDxyKzYsYS5wZW5kaW5nX2J1Zl9zaXplPTQqYS5saXRfYnVmc2l6ZSxhLnBlbmRpbmdfYnVmPW5ldyBVaW50OEFycmF5KGEucGVuZGluZ19idWZfc2l6ZSksYS5zeW1fYnVmPWEubGl0X2J1ZnNpemUsYS5zeW1fZW5kPTMqKGEubGl0X2J1ZnNpemUtMSksYS5sZXZlbD10LGEuc3RyYXRlZ3k9byxhLm1ldGhvZD1pLEFXKGUpfTt2YXIgd1c9KGUsdCk9PntpZih2VyhlKXx8dD5VR3x8dDwwKXJldHVybiBlP3NXKGUsRkcpOkZHO2NvbnN0IGk9ZS5zdGF0ZTtpZighZS5vdXRwdXR8fDAhPT1lLmF2YWlsX2luJiYhZS5pbnB1dHx8aS5zdGF0dXM9PT1vVyYmdCE9PU1HKXJldHVybiBzVyhlLDA9PT1lLmF2YWlsX291dD9qRzpGRyk7Y29uc3Qgbj1pLmxhc3RfZmx1c2g7aWYoaS5sYXN0X2ZsdXNoPXQsMCE9PWkucGVuZGluZyl7aWYodVcoZSksMD09PWUuYXZhaWxfb3V0KXJldHVybiBpLmxhc3RfZmx1c2g9LTEseEd9ZWxzZSBpZigwPT09ZS5hdmFpbF9pbiYmYVcodCk8PWFXKG4pJiZ0IT09TUcpcmV0dXJuIHNXKGUsakcpO2lmKGkuc3RhdHVzPT09b1cmJjAhPT1lLmF2YWlsX2luKXJldHVybiBzVyhlLGpHKTtpZihpLnN0YXR1cz09PW5XJiYwPT09aS53cmFwJiYoaS5zdGF0dXM9clcpLGkuc3RhdHVzPT09blcpe2xldCB0PUpHKyhpLndfYml0cy04PDw0KTw8OCxuPS0xO2lmKG49aS5zdHJhdGVneT49SEd8fGkubGV2ZWw8Mj8wOmkubGV2ZWw8Nj8xOjY9PT1pLmxldmVsPzI6Myx0fD1uPDw2LDAhPT1pLnN0cnN0YXJ0JiYodHw9MzIpLHQrPTMxLXQlMzEsX1coaSx0KSwwIT09aS5zdHJzdGFydCYmKF9XKGksZS5hZGxlcj4+PjE2KSxfVyhpLDY1NTM1JmUuYWRsZXIpKSxlLmFkbGVyPTEsaS5zdGF0dXM9clcsdVcoZSksMCE9PWkucGVuZGluZylyZXR1cm4gaS5sYXN0X2ZsdXNoPS0xLHhHfWlmKDU3PT09aS5zdGF0dXMpaWYoZS5hZGxlcj0wLHBXKGksMzEpLHBXKGksMTM5KSxwVyhpLDgpLGkuZ3poZWFkKXBXKGksKGkuZ3poZWFkLnRleHQ/MTowKSsoaS5nemhlYWQuaGNyYz8yOjApKyhpLmd6aGVhZC5leHRyYT80OjApKyhpLmd6aGVhZC5uYW1lPzg6MCkrKGkuZ3poZWFkLmNvbW1lbnQ/MTY6MCkpLHBXKGksMjU1JmkuZ3poZWFkLnRpbWUpLHBXKGksaS5nemhlYWQudGltZT4+OCYyNTUpLHBXKGksaS5nemhlYWQudGltZT4+MTYmMjU1KSxwVyhpLGkuZ3poZWFkLnRpbWU+PjI0JjI1NSkscFcoaSw5PT09aS5sZXZlbD8yOmkuc3RyYXRlZ3k+PUhHfHxpLmxldmVsPDI/NDowKSxwVyhpLDI1NSZpLmd6aGVhZC5vcyksaS5nemhlYWQuZXh0cmEmJmkuZ3poZWFkLmV4dHJhLmxlbmd0aCYmKHBXKGksMjU1JmkuZ3poZWFkLmV4dHJhLmxlbmd0aCkscFcoaSxpLmd6aGVhZC5leHRyYS5sZW5ndGg+PjgmMjU1KSksaS5nemhlYWQuaGNyYyYmKGUuYWRsZXI9dkcoZS5hZGxlcixpLnBlbmRpbmdfYnVmLGkucGVuZGluZywwKSksaS5nemluZGV4PTAsaS5zdGF0dXM9Njk7ZWxzZSBpZihwVyhpLDApLHBXKGksMCkscFcoaSwwKSxwVyhpLDApLHBXKGksMCkscFcoaSw5PT09aS5sZXZlbD8yOmkuc3RyYXRlZ3k+PUhHfHxpLmxldmVsPDI/NDowKSxwVyhpLDMpLGkuc3RhdHVzPXJXLHVXKGUpLDAhPT1pLnBlbmRpbmcpcmV0dXJuIGkubGFzdF9mbHVzaD0tMSx4RztpZig2OT09PWkuc3RhdHVzKXtpZihpLmd6aGVhZC5leHRyYSl7bGV0IHQ9aS5wZW5kaW5nLG49KDY1NTM1JmkuZ3poZWFkLmV4dHJhLmxlbmd0aCktaS5nemluZGV4O2Zvcig7aS5wZW5kaW5nK24+aS5wZW5kaW5nX2J1Zl9zaXplOyl7bGV0IHI9aS5wZW5kaW5nX2J1Zl9zaXplLWkucGVuZGluZztpZihpLnBlbmRpbmdfYnVmLnNldChpLmd6aGVhZC5leHRyYS5zdWJhcnJheShpLmd6aW5kZXgsaS5nemluZGV4K3IpLGkucGVuZGluZyksaS5wZW5kaW5nPWkucGVuZGluZ19idWZfc2l6ZSxpLmd6aGVhZC5oY3JjJiZpLnBlbmRpbmc+dCYmKGUuYWRsZXI9dkcoZS5hZGxlcixpLnBlbmRpbmdfYnVmLGkucGVuZGluZy10LHQpKSxpLmd6aW5kZXgrPXIsdVcoZSksMCE9PWkucGVuZGluZylyZXR1cm4gaS5sYXN0X2ZsdXNoPS0xLHhHO3Q9MCxuLT1yfWxldCByPW5ldyBVaW50OEFycmF5KGkuZ3poZWFkLmV4dHJhKTtpLnBlbmRpbmdfYnVmLnNldChyLnN1YmFycmF5KGkuZ3ppbmRleCxpLmd6aW5kZXgrbiksaS5wZW5kaW5nKSxpLnBlbmRpbmcrPW4saS5nemhlYWQuaGNyYyYmaS5wZW5kaW5nPnQmJihlLmFkbGVyPXZHKGUuYWRsZXIsaS5wZW5kaW5nX2J1ZixpLnBlbmRpbmctdCx0KSksaS5nemluZGV4PTB9aS5zdGF0dXM9NzN9aWYoNzM9PT1pLnN0YXR1cyl7aWYoaS5nemhlYWQubmFtZSl7bGV0IHQsbj1pLnBlbmRpbmc7ZG97aWYoaS5wZW5kaW5nPT09aS5wZW5kaW5nX2J1Zl9zaXplKXtpZihpLmd6aGVhZC5oY3JjJiZpLnBlbmRpbmc+biYmKGUuYWRsZXI9dkcoZS5hZGxlcixpLnBlbmRpbmdfYnVmLGkucGVuZGluZy1uLG4pKSx1VyhlKSwwIT09aS5wZW5kaW5nKXJldHVybiBpLmxhc3RfZmx1c2g9LTEseEc7bj0wfXQ9aS5nemluZGV4PGkuZ3poZWFkLm5hbWUubGVuZ3RoPzI1NSZpLmd6aGVhZC5uYW1lLmNoYXJDb2RlQXQoaS5nemluZGV4KyspOjAscFcoaSx0KX13aGlsZSgwIT09dCk7aS5nemhlYWQuaGNyYyYmaS5wZW5kaW5nPm4mJihlLmFkbGVyPXZHKGUuYWRsZXIsaS5wZW5kaW5nX2J1ZixpLnBlbmRpbmctbixuKSksaS5nemluZGV4PTB9aS5zdGF0dXM9OTF9aWYoOTE9PT1pLnN0YXR1cyl7aWYoaS5nemhlYWQuY29tbWVudCl7bGV0IHQsbj1pLnBlbmRpbmc7ZG97aWYoaS5wZW5kaW5nPT09aS5wZW5kaW5nX2J1Zl9zaXplKXtpZihpLmd6aGVhZC5oY3JjJiZpLnBlbmRpbmc+biYmKGUuYWRsZXI9dkcoZS5hZGxlcixpLnBlbmRpbmdfYnVmLGkucGVuZGluZy1uLG4pKSx1VyhlKSwwIT09aS5wZW5kaW5nKXJldHVybiBpLmxhc3RfZmx1c2g9LTEseEc7bj0wfXQ9aS5nemluZGV4PGkuZ3poZWFkLmNvbW1lbnQubGVuZ3RoPzI1NSZpLmd6aGVhZC5jb21tZW50LmNoYXJDb2RlQXQoaS5nemluZGV4KyspOjAscFcoaSx0KX13aGlsZSgwIT09dCk7aS5nemhlYWQuaGNyYyYmaS5wZW5kaW5nPm4mJihlLmFkbGVyPXZHKGUuYWRsZXIsaS5wZW5kaW5nX2J1ZixpLnBlbmRpbmctbixuKSl9aS5zdGF0dXM9MTAzfWlmKDEwMz09PWkuc3RhdHVzKXtpZihpLmd6aGVhZC5oY3JjKXtpZihpLnBlbmRpbmcrMj5pLnBlbmRpbmdfYnVmX3NpemUmJih1VyhlKSwwIT09aS5wZW5kaW5nKSlyZXR1cm4gaS5sYXN0X2ZsdXNoPS0xLHhHO3BXKGksMjU1JmUuYWRsZXIpLHBXKGksZS5hZGxlcj4+OCYyNTUpLGUuYWRsZXI9MH1pZihpLnN0YXR1cz1yVyx1VyhlKSwwIT09aS5wZW5kaW5nKXJldHVybiBpLmxhc3RfZmx1c2g9LTEseEd9aWYoMCE9PWUuYXZhaWxfaW58fDAhPT1pLmxvb2thaGVhZHx8dCE9PVBHJiZpLnN0YXR1cyE9PW9XKXtsZXQgbj0wPT09aS5sZXZlbD9UVyhpLHQpOmkuc3RyYXRlZ3k9PT1IRz8oKGUsdCk9PntsZXQgaTtmb3IoOzspe2lmKDA9PT1lLmxvb2thaGVhZCYmKGZXKGUpLDA9PT1lLmxvb2thaGVhZCkpe2lmKHQ9PT1QRylyZXR1cm4gMTticmVha31pZihlLm1hdGNoX2xlbmd0aD0wLGk9TkcoZSwwLGUud2luZG93W2Uuc3Ryc3RhcnRdKSxlLmxvb2thaGVhZC0tLGUuc3Ryc3RhcnQrKyxpJiYoaFcoZSwhMSksMD09PWUuc3RybS5hdmFpbF9vdXQpKXJldHVybiAxfXJldHVybiBlLmluc2VydD0wLHQ9PT1NRz8oaFcoZSwhMCksMD09PWUuc3RybS5hdmFpbF9vdXQ/Mzo0KTplLnN5bV9uZXh0JiYoaFcoZSwhMSksMD09PWUuc3RybS5hdmFpbF9vdXQpPzE6Mn0pKGksdCk6aS5zdHJhdGVneT09PUtHPygoZSx0KT0+e2xldCBpLG4scixvO2NvbnN0IHM9ZS53aW5kb3c7Zm9yKDs7KXtpZihlLmxvb2thaGVhZDw9dFcpe2lmKGZXKGUpLGUubG9va2FoZWFkPD10VyYmdD09PVBHKXJldHVybiAxO2lmKDA9PT1lLmxvb2thaGVhZClicmVha31pZihlLm1hdGNoX2xlbmd0aD0wLGUubG9va2FoZWFkPj0zJiZlLnN0cnN0YXJ0PjAmJihyPWUuc3Ryc3RhcnQtMSxuPXNbcl0sbj09PXNbKytyXSYmbj09PXNbKytyXSYmbj09PXNbKytyXSkpe289ZS5zdHJzdGFydCt0Vztkb3t9d2hpbGUobj09PXNbKytyXSYmbj09PXNbKytyXSYmbj09PXNbKytyXSYmbj09PXNbKytyXSYmbj09PXNbKytyXSYmbj09PXNbKytyXSYmbj09PXNbKytyXSYmbj09PXNbKytyXSYmcjxvKTtlLm1hdGNoX2xlbmd0aD10Vy0oby1yKSxlLm1hdGNoX2xlbmd0aD5lLmxvb2thaGVhZCYmKGUubWF0Y2hfbGVuZ3RoPWUubG9va2FoZWFkKX1pZihlLm1hdGNoX2xlbmd0aD49Mz8oaT1ORyhlLDEsZS5tYXRjaF9sZW5ndGgtMyksZS5sb29rYWhlYWQtPWUubWF0Y2hfbGVuZ3RoLGUuc3Ryc3RhcnQrPWUubWF0Y2hfbGVuZ3RoLGUubWF0Y2hfbGVuZ3RoPTApOihpPU5HKGUsMCxlLndpbmRvd1tlLnN0cnN0YXJ0XSksZS5sb29rYWhlYWQtLSxlLnN0cnN0YXJ0KyspLGkmJihoVyhlLCExKSwwPT09ZS5zdHJtLmF2YWlsX291dCkpcmV0dXJuIDF9cmV0dXJuIGUuaW5zZXJ0PTAsdD09PU1HPyhoVyhlLCEwKSwwPT09ZS5zdHJtLmF2YWlsX291dD8zOjQpOmUuc3ltX25leHQmJihoVyhlLCExKSwwPT09ZS5zdHJtLmF2YWlsX291dCk/MToyfSkoaSx0KTpDV1tpLmxldmVsXS5mdW5jKGksdCk7aWYoMyE9PW4mJjQhPT1ufHwoaS5zdGF0dXM9b1cpLDE9PT1ufHwzPT09bilyZXR1cm4gMD09PWUuYXZhaWxfb3V0JiYoaS5sYXN0X2ZsdXNoPS0xKSx4RztpZigyPT09biYmKHQ9PT1MRz9ERyhpKTp0IT09VUcmJih3RyhpLDAsMCwhMSksdD09PWtHJiYoY1coaS5oZWFkKSwwPT09aS5sb29rYWhlYWQmJihpLnN0cnN0YXJ0PTAsaS5ibG9ja19zdGFydD0wLGkuaW5zZXJ0PTApKSksdVcoZSksMD09PWUuYXZhaWxfb3V0KSlyZXR1cm4gaS5sYXN0X2ZsdXNoPS0xLHhHfXJldHVybiB0IT09TUc/eEc6aS53cmFwPD0wP1ZHOigyPT09aS53cmFwPyhwVyhpLDI1NSZlLmFkbGVyKSxwVyhpLGUuYWRsZXI+PjgmMjU1KSxwVyhpLGUuYWRsZXI+PjE2JjI1NSkscFcoaSxlLmFkbGVyPj4yNCYyNTUpLHBXKGksMjU1JmUudG90YWxfaW4pLHBXKGksZS50b3RhbF9pbj4+OCYyNTUpLHBXKGksZS50b3RhbF9pbj4+MTYmMjU1KSxwVyhpLGUudG90YWxfaW4+PjI0JjI1NSkpOihfVyhpLGUuYWRsZXI+Pj4xNiksX1coaSw2NTUzNSZlLmFkbGVyKSksdVcoZSksaS53cmFwPjAmJihpLndyYXA9LWkud3JhcCksMCE9PWkucGVuZGluZz94RzpWRyl9LE9XPShlLHQpPT57bGV0IGk9dC5sZW5ndGg7aWYodlcoZSkpcmV0dXJuIEZHO2NvbnN0IG49ZS5zdGF0ZSxyPW4ud3JhcDtpZigyPT09cnx8MT09PXImJm4uc3RhdHVzIT09bld8fG4ubG9va2FoZWFkKXJldHVybiBGRztpZigxPT09ciYmKGUuYWRsZXI9Q0coZS5hZGxlcix0LGksMCkpLG4ud3JhcD0wLGk+PW4ud19zaXplKXswPT09ciYmKGNXKG4uaGVhZCksbi5zdHJzdGFydD0wLG4uYmxvY2tfc3RhcnQ9MCxuLmluc2VydD0wKTtsZXQgZT1uZXcgVWludDhBcnJheShuLndfc2l6ZSk7ZS5zZXQodC5zdWJhcnJheShpLW4ud19zaXplLGkpLDApLHQ9ZSxpPW4ud19zaXplfWNvbnN0IG89ZS5hdmFpbF9pbixzPWUubmV4dF9pbixhPWUuaW5wdXQ7Zm9yKGUuYXZhaWxfaW49aSxlLm5leHRfaW49MCxlLmlucHV0PXQsZlcobik7bi5sb29rYWhlYWQ+PTM7KXtsZXQgZT1uLnN0cnN0YXJ0LHQ9bi5sb29rYWhlYWQtMjtkb3tuLmluc19oPWxXKG4sbi5pbnNfaCxuLndpbmRvd1tlKzMtMV0pLG4ucHJldltlJm4ud19tYXNrXT1uLmhlYWRbbi5pbnNfaF0sbi5oZWFkW24uaW5zX2hdPWUsZSsrfXdoaWxlKC0tdCk7bi5zdHJzdGFydD1lLG4ubG9va2FoZWFkPTIsZlcobil9cmV0dXJuIG4uc3Ryc3RhcnQrPW4ubG9va2FoZWFkLG4uYmxvY2tfc3RhcnQ9bi5zdHJzdGFydCxuLmluc2VydD1uLmxvb2thaGVhZCxuLmxvb2thaGVhZD0wLG4ubWF0Y2hfbGVuZ3RoPW4ucHJldl9sZW5ndGg9MixuLm1hdGNoX2F2YWlsYWJsZT0wLGUubmV4dF9pbj1zLGUuaW5wdXQ9YSxlLmF2YWlsX2luPW8sbi53cmFwPXIseEd9LE5XPXtkZWZsYXRlSW5pdDooZSx0KT0+YlcoZSx0LEpHLDE1LDgscUcpLGRlZmxhdGVJbml0MjpiVyxkZWZsYXRlUmVzZXQ6QVcsZGVmbGF0ZVJlc2V0S2VlcDp5VyxkZWZsYXRlU2V0SGVhZGVyOihlLHQpPT52VyhlKXx8MiE9PWUuc3RhdGUud3JhcD9GRzooZS5zdGF0ZS5nemhlYWQ9dCx4RyksZGVmbGF0ZTp3VyxkZWZsYXRlRW5kOmU9PntpZih2VyhlKSlyZXR1cm4gRkc7Y29uc3QgdD1lLnN0YXRlLnN0YXR1cztyZXR1cm4gZS5zdGF0ZT1udWxsLHQ9PT1yVz9zVyhlLEJHKTp4R30sZGVmbGF0ZVNldERpY3Rpb25hcnk6T1csZGVmbGF0ZUluZm86XCJwYWtvIGRlZmxhdGUgKGZyb20gTm9kZWNhIHByb2plY3QpXCJ9O2NvbnN0IERXPShlLHQpPT5PYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSx0KTt2YXIgUFc9e2Fzc2lnbjpmdW5jdGlvbihlKXtjb25zdCB0PUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtmb3IoO3QubGVuZ3RoOyl7Y29uc3QgaT10LnNoaWZ0KCk7aWYoaSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIGkpdGhyb3cgbmV3IFR5cGVFcnJvcihpK1wibXVzdCBiZSBub24tb2JqZWN0XCIpO2Zvcihjb25zdCB0IGluIGkpRFcoaSx0KSYmKGVbdF09aVt0XSl9fXJldHVybiBlfSxmbGF0dGVuQ2h1bmtzOmU9PntsZXQgdD0wO2ZvcihsZXQgaT0wLG49ZS5sZW5ndGg7aTxuO2krKyl0Kz1lW2ldLmxlbmd0aDtjb25zdCBpPW5ldyBVaW50OEFycmF5KHQpO2ZvcihsZXQgdD0wLG49MCxyPWUubGVuZ3RoO3Q8cjt0Kyspe2xldCByPWVbdF07aS5zZXQocixuKSxuKz1yLmxlbmd0aH1yZXR1cm4gaX19O2xldCBMVz0hMDt0cnl7U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLG5ldyBVaW50OEFycmF5KDEpKX1jYXRjaChlKXtMVz0hMX1jb25zdCBrVz1uZXcgVWludDhBcnJheSgyNTYpO2ZvcihsZXQgZT0wO2U8MjU2O2UrKylrV1tlXT1lPj0yNTI/NjplPj0yNDg/NTplPj0yNDA/NDplPj0yMjQ/MzplPj0xOTI/MjoxO2tXWzI1NF09a1dbMjU0XT0xO3ZhciBNVz17c3RyaW5nMmJ1ZjplPT57aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgVGV4dEVuY29kZXImJlRleHRFbmNvZGVyLnByb3RvdHlwZS5lbmNvZGUpcmV0dXJuKG5ldyBUZXh0RW5jb2RlcikuZW5jb2RlKGUpO2xldCB0LGksbixyLG8scz1lLmxlbmd0aCxhPTA7Zm9yKHI9MDtyPHM7cisrKWk9ZS5jaGFyQ29kZUF0KHIpLDU1Mjk2PT0oNjQ1MTImaSkmJnIrMTxzJiYobj1lLmNoYXJDb2RlQXQocisxKSw1NjMyMD09KDY0NTEyJm4pJiYoaT02NTUzNisoaS01NTI5Njw8MTApKyhuLTU2MzIwKSxyKyspKSxhKz1pPDEyOD8xOmk8MjA0OD8yOmk8NjU1MzY/Mzo0O2Zvcih0PW5ldyBVaW50OEFycmF5KGEpLG89MCxyPTA7bzxhO3IrKylpPWUuY2hhckNvZGVBdChyKSw1NTI5Nj09KDY0NTEyJmkpJiZyKzE8cyYmKG49ZS5jaGFyQ29kZUF0KHIrMSksNTYzMjA9PSg2NDUxMiZuKSYmKGk9NjU1MzYrKGktNTUyOTY8PDEwKSsobi01NjMyMCkscisrKSksaTwxMjg/dFtvKytdPWk6aTwyMDQ4Pyh0W28rK109MTkyfGk+Pj42LHRbbysrXT0xMjh8NjMmaSk6aTw2NTUzNj8odFtvKytdPTIyNHxpPj4+MTIsdFtvKytdPTEyOHxpPj4+NiY2Myx0W28rK109MTI4fDYzJmkpOih0W28rK109MjQwfGk+Pj4xOCx0W28rK109MTI4fGk+Pj4xMiY2Myx0W28rK109MTI4fGk+Pj42JjYzLHRbbysrXT0xMjh8NjMmaSk7cmV0dXJuIHR9LGJ1ZjJzdHJpbmc6KGUsdCk9Pntjb25zdCBpPXR8fGUubGVuZ3RoO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIFRleHREZWNvZGVyJiZUZXh0RGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlKXJldHVybihuZXcgVGV4dERlY29kZXIpLmRlY29kZShlLnN1YmFycmF5KDAsdCkpO2xldCBuLHI7Y29uc3Qgbz1uZXcgQXJyYXkoMippKTtmb3Iocj0wLG49MDtuPGk7KXtsZXQgdD1lW24rK107aWYodDwxMjgpe29bcisrXT10O2NvbnRpbnVlfWxldCBzPWtXW3RdO2lmKHM+NClvW3IrK109NjU1MzMsbis9cy0xO2Vsc2V7Zm9yKHQmPTI9PT1zPzMxOjM9PT1zPzE1Ojc7cz4xJiZuPGk7KXQ9dDw8Nnw2MyZlW24rK10scy0tO3M+MT9vW3IrK109NjU1MzM6dDw2NTUzNj9vW3IrK109dDoodC09NjU1MzYsb1tyKytdPTU1Mjk2fHQ+PjEwJjEwMjMsb1tyKytdPTU2MzIwfDEwMjMmdCl9fXJldHVybigoZSx0KT0+e2lmKHQ8NjU1MzQmJmUuc3ViYXJyYXkmJkxXKXJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsZS5sZW5ndGg9PT10P2U6ZS5zdWJhcnJheSgwLHQpKTtsZXQgaT1cIlwiO2ZvcihsZXQgbj0wO248dDtuKyspaSs9U3RyaW5nLmZyb21DaGFyQ29kZShlW25dKTtyZXR1cm4gaX0pKG8scil9LHV0Zjhib3JkZXI6KGUsdCk9PnsodD10fHxlLmxlbmd0aCk+ZS5sZW5ndGgmJih0PWUubGVuZ3RoKTtsZXQgaT10LTE7Zm9yKDtpPj0wJiYxMjg9PSgxOTImZVtpXSk7KWktLTtyZXR1cm4gaTwwfHwwPT09aT90Omkra1dbZVtpXV0+dD9pOnR9fTt2YXIgVVc9ZnVuY3Rpb24oKXt0aGlzLmlucHV0PW51bGwsdGhpcy5uZXh0X2luPTAsdGhpcy5hdmFpbF9pbj0wLHRoaXMudG90YWxfaW49MCx0aGlzLm91dHB1dD1udWxsLHRoaXMubmV4dF9vdXQ9MCx0aGlzLmF2YWlsX291dD0wLHRoaXMudG90YWxfb3V0PTAsdGhpcy5tc2c9XCJcIix0aGlzLnN0YXRlPW51bGwsdGhpcy5kYXRhX3R5cGU9Mix0aGlzLmFkbGVyPTB9O2NvbnN0IHhXPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcse1pfTk9fRkxVU0g6VlcsWl9TWU5DX0ZMVVNIOkZXLFpfRlVMTF9GTFVTSDpCVyxaX0ZJTklTSDpqVyxaX09LOkdXLFpfU1RSRUFNX0VORDpXVyxaX0RFRkFVTFRfQ09NUFJFU1NJT046SFcsWl9ERUZBVUxUX1NUUkFURUdZOktXLFpfREVGTEFURUQ6WVd9PUFHO2Z1bmN0aW9uIHFXKGUpe3RoaXMub3B0aW9ucz1QVy5hc3NpZ24oe2xldmVsOkhXLG1ldGhvZDpZVyxjaHVua1NpemU6MTYzODQsd2luZG93Qml0czoxNSxtZW1MZXZlbDo4LHN0cmF0ZWd5OktXfSxlfHx7fSk7bGV0IHQ9dGhpcy5vcHRpb25zO3QucmF3JiZ0LndpbmRvd0JpdHM+MD90LndpbmRvd0JpdHM9LXQud2luZG93Qml0czp0Lmd6aXAmJnQud2luZG93Qml0cz4wJiZ0LndpbmRvd0JpdHM8MTYmJih0LndpbmRvd0JpdHMrPTE2KSx0aGlzLmVycj0wLHRoaXMubXNnPVwiXCIsdGhpcy5lbmRlZD0hMSx0aGlzLmNodW5rcz1bXSx0aGlzLnN0cm09bmV3IFVXLHRoaXMuc3RybS5hdmFpbF9vdXQ9MDtsZXQgaT1OVy5kZWZsYXRlSW5pdDIodGhpcy5zdHJtLHQubGV2ZWwsdC5tZXRob2QsdC53aW5kb3dCaXRzLHQubWVtTGV2ZWwsdC5zdHJhdGVneSk7aWYoaSE9PUdXKXRocm93IG5ldyBFcnJvcih5R1tpXSk7aWYodC5oZWFkZXImJk5XLmRlZmxhdGVTZXRIZWFkZXIodGhpcy5zdHJtLHQuaGVhZGVyKSx0LmRpY3Rpb25hcnkpe2xldCBlO2lmKGU9XCJzdHJpbmdcIj09dHlwZW9mIHQuZGljdGlvbmFyeT9NVy5zdHJpbmcyYnVmKHQuZGljdGlvbmFyeSk6XCJbb2JqZWN0IEFycmF5QnVmZmVyXVwiPT09eFcuY2FsbCh0LmRpY3Rpb25hcnkpP25ldyBVaW50OEFycmF5KHQuZGljdGlvbmFyeSk6dC5kaWN0aW9uYXJ5LGk9TlcuZGVmbGF0ZVNldERpY3Rpb25hcnkodGhpcy5zdHJtLGUpLGkhPT1HVyl0aHJvdyBuZXcgRXJyb3IoeUdbaV0pO3RoaXMuX2RpY3Rfc2V0PSEwfX1mdW5jdGlvbiB6VyhlLHQpe2NvbnN0IGk9bmV3IHFXKHQpO2lmKGkucHVzaChlLCEwKSxpLmVycil0aHJvdyBpLm1zZ3x8eUdbaS5lcnJdO3JldHVybiBpLnJlc3VsdH1xVy5wcm90b3R5cGUucHVzaD1mdW5jdGlvbihlLHQpe2NvbnN0IGk9dGhpcy5zdHJtLG49dGhpcy5vcHRpb25zLmNodW5rU2l6ZTtsZXQgcixvO2lmKHRoaXMuZW5kZWQpcmV0dXJuITE7Zm9yKG89dD09PX5+dD90OiEwPT09dD9qVzpWVyxcInN0cmluZ1wiPT10eXBlb2YgZT9pLmlucHV0PU1XLnN0cmluZzJidWYoZSk6XCJbb2JqZWN0IEFycmF5QnVmZmVyXVwiPT09eFcuY2FsbChlKT9pLmlucHV0PW5ldyBVaW50OEFycmF5KGUpOmkuaW5wdXQ9ZSxpLm5leHRfaW49MCxpLmF2YWlsX2luPWkuaW5wdXQubGVuZ3RoOzspaWYoMD09PWkuYXZhaWxfb3V0JiYoaS5vdXRwdXQ9bmV3IFVpbnQ4QXJyYXkobiksaS5uZXh0X291dD0wLGkuYXZhaWxfb3V0PW4pLChvPT09Rld8fG89PT1CVykmJmkuYXZhaWxfb3V0PD02KXRoaXMub25EYXRhKGkub3V0cHV0LnN1YmFycmF5KDAsaS5uZXh0X291dCkpLGkuYXZhaWxfb3V0PTA7ZWxzZXtpZihyPU5XLmRlZmxhdGUoaSxvKSxyPT09V1cpcmV0dXJuIGkubmV4dF9vdXQ+MCYmdGhpcy5vbkRhdGEoaS5vdXRwdXQuc3ViYXJyYXkoMCxpLm5leHRfb3V0KSkscj1OVy5kZWZsYXRlRW5kKHRoaXMuc3RybSksdGhpcy5vbkVuZChyKSx0aGlzLmVuZGVkPSEwLHI9PT1HVztpZigwIT09aS5hdmFpbF9vdXQpe2lmKG8+MCYmaS5uZXh0X291dD4wKXRoaXMub25EYXRhKGkub3V0cHV0LnN1YmFycmF5KDAsaS5uZXh0X291dCkpLGkuYXZhaWxfb3V0PTA7ZWxzZSBpZigwPT09aS5hdmFpbF9pbilicmVha31lbHNlIHRoaXMub25EYXRhKGkub3V0cHV0KX1yZXR1cm4hMH0scVcucHJvdG90eXBlLm9uRGF0YT1mdW5jdGlvbihlKXt0aGlzLmNodW5rcy5wdXNoKGUpfSxxVy5wcm90b3R5cGUub25FbmQ9ZnVuY3Rpb24oZSl7ZT09PUdXJiYodGhpcy5yZXN1bHQ9UFcuZmxhdHRlbkNodW5rcyh0aGlzLmNodW5rcykpLHRoaXMuY2h1bmtzPVtdLHRoaXMuZXJyPWUsdGhpcy5tc2c9dGhpcy5zdHJtLm1zZ307dmFyIEpXPXtEZWZsYXRlOnFXLGRlZmxhdGU6elcsZGVmbGF0ZVJhdzpmdW5jdGlvbihlLHQpe3JldHVybih0PXR8fHt9KS5yYXc9ITAselcoZSx0KX0sZ3ppcDpmdW5jdGlvbihlLHQpe3JldHVybih0PXR8fHt9KS5nemlwPSEwLHpXKGUsdCl9LGNvbnN0YW50czpBR307Y29uc3QgWFc9MTYyMDk7dmFyIFFXPWZ1bmN0aW9uKGUsdCl7bGV0IGksbixyLG8scyxhLGMsZCxsLHUsaCxwLF8sRSxtLGYsVCxTLGcsUixDLEksdix5O2NvbnN0IEE9ZS5zdGF0ZTtpPWUubmV4dF9pbix2PWUuaW5wdXQsbj1pKyhlLmF2YWlsX2luLTUpLHI9ZS5uZXh0X291dCx5PWUub3V0cHV0LG89ci0odC1lLmF2YWlsX291dCkscz1yKyhlLmF2YWlsX291dC0yNTcpLGE9QS5kbWF4LGM9QS53c2l6ZSxkPUEud2hhdmUsbD1BLnduZXh0LHU9QS53aW5kb3csaD1BLmhvbGQscD1BLmJpdHMsXz1BLmxlbmNvZGUsRT1BLmRpc3Rjb2RlLG09KDE8PEEubGVuYml0cyktMSxmPSgxPDxBLmRpc3RiaXRzKS0xO2U6ZG97cDwxNSYmKGgrPXZbaSsrXTw8cCxwKz04LGgrPXZbaSsrXTw8cCxwKz04KSxUPV9baCZtXTt0OmZvcig7Oyl7aWYoUz1UPj4+MjQsaD4+Pj1TLHAtPVMsUz1UPj4+MTYmMjU1LDA9PT1TKXlbcisrXT02NTUzNSZUO2Vsc2V7aWYoISgxNiZTKSl7aWYoMD09KDY0JlMpKXtUPV9bKDY1NTM1JlQpKyhoJigxPDxTKS0xKV07Y29udGludWUgdH1pZigzMiZTKXtBLm1vZGU9MTYxOTE7YnJlYWsgZX1lLm1zZz1cImludmFsaWQgbGl0ZXJhbC9sZW5ndGggY29kZVwiLEEubW9kZT1YVzticmVhayBlfWc9NjU1MzUmVCxTJj0xNSxTJiYocDxTJiYoaCs9dltpKytdPDxwLHArPTgpLGcrPWgmKDE8PFMpLTEsaD4+Pj1TLHAtPVMpLHA8MTUmJihoKz12W2krK108PHAscCs9OCxoKz12W2krK108PHAscCs9OCksVD1FW2gmZl07aTpmb3IoOzspe2lmKFM9VD4+PjI0LGg+Pj49UyxwLT1TLFM9VD4+PjE2JjI1NSwhKDE2JlMpKXtpZigwPT0oNjQmUykpe1Q9RVsoNjU1MzUmVCkrKGgmKDE8PFMpLTEpXTtjb250aW51ZSBpfWUubXNnPVwiaW52YWxpZCBkaXN0YW5jZSBjb2RlXCIsQS5tb2RlPVhXO2JyZWFrIGV9aWYoUj02NTUzNSZULFMmPTE1LHA8UyYmKGgrPXZbaSsrXTw8cCxwKz04LHA8UyYmKGgrPXZbaSsrXTw8cCxwKz04KSksUis9aCYoMTw8UyktMSxSPmEpe2UubXNnPVwiaW52YWxpZCBkaXN0YW5jZSB0b28gZmFyIGJhY2tcIixBLm1vZGU9WFc7YnJlYWsgZX1pZihoPj4+PVMscC09UyxTPXItbyxSPlMpe2lmKFM9Ui1TLFM+ZCYmQS5zYW5lKXtlLm1zZz1cImludmFsaWQgZGlzdGFuY2UgdG9vIGZhciBiYWNrXCIsQS5tb2RlPVhXO2JyZWFrIGV9aWYoQz0wLEk9dSwwPT09bCl7aWYoQys9Yy1TLFM8Zyl7Zy09Uztkb3t5W3IrK109dVtDKytdfXdoaWxlKC0tUyk7Qz1yLVIsST15fX1lbHNlIGlmKGw8Uyl7aWYoQys9YytsLVMsUy09bCxTPGcpe2ctPVM7ZG97eVtyKytdPXVbQysrXX13aGlsZSgtLVMpO2lmKEM9MCxsPGcpe1M9bCxnLT1TO2Rve3lbcisrXT11W0MrK119d2hpbGUoLS1TKTtDPXItUixJPXl9fX1lbHNlIGlmKEMrPWwtUyxTPGcpe2ctPVM7ZG97eVtyKytdPXVbQysrXX13aGlsZSgtLVMpO0M9ci1SLEk9eX1mb3IoO2c+MjspeVtyKytdPUlbQysrXSx5W3IrK109SVtDKytdLHlbcisrXT1JW0MrK10sZy09MztnJiYoeVtyKytdPUlbQysrXSxnPjEmJih5W3IrK109SVtDKytdKSl9ZWxzZXtDPXItUjtkb3t5W3IrK109eVtDKytdLHlbcisrXT15W0MrK10seVtyKytdPXlbQysrXSxnLT0zfXdoaWxlKGc+Mik7ZyYmKHlbcisrXT15W0MrK10sZz4xJiYoeVtyKytdPXlbQysrXSkpfWJyZWFrfX1icmVha319d2hpbGUoaTxuJiZyPHMpO2c9cD4+MyxpLT1nLHAtPWc8PDMsaCY9KDE8PHApLTEsZS5uZXh0X2luPWksZS5uZXh0X291dD1yLGUuYXZhaWxfaW49aTxuP24taSs1OjUtKGktbiksZS5hdmFpbF9vdXQ9cjxzP3MtcisyNTc6MjU3LShyLXMpLEEuaG9sZD1oLEEuYml0cz1wfTtjb25zdCBaVz0xNSwkVz1uZXcgVWludDE2QXJyYXkoWzMsNCw1LDYsNyw4LDksMTAsMTEsMTMsMTUsMTcsMTksMjMsMjcsMzEsMzUsNDMsNTEsNTksNjcsODMsOTksMTE1LDEzMSwxNjMsMTk1LDIyNywyNTgsMCwwXSksZUg9bmV3IFVpbnQ4QXJyYXkoWzE2LDE2LDE2LDE2LDE2LDE2LDE2LDE2LDE3LDE3LDE3LDE3LDE4LDE4LDE4LDE4LDE5LDE5LDE5LDE5LDIwLDIwLDIwLDIwLDIxLDIxLDIxLDIxLDE2LDcyLDc4XSksdEg9bmV3IFVpbnQxNkFycmF5KFsxLDIsMyw0LDUsNyw5LDEzLDE3LDI1LDMzLDQ5LDY1LDk3LDEyOSwxOTMsMjU3LDM4NSw1MTMsNzY5LDEwMjUsMTUzNywyMDQ5LDMwNzMsNDA5Nyw2MTQ1LDgxOTMsMTIyODksMTYzODUsMjQ1NzcsMCwwXSksaUg9bmV3IFVpbnQ4QXJyYXkoWzE2LDE2LDE2LDE2LDE3LDE3LDE4LDE4LDE5LDE5LDIwLDIwLDIxLDIxLDIyLDIyLDIzLDIzLDI0LDI0LDI1LDI1LDI2LDI2LDI3LDI3LDI4LDI4LDI5LDI5LDY0LDY0XSk7dmFyIG5IPShlLHQsaSxuLHIsbyxzLGEpPT57Y29uc3QgYz1hLmJpdHM7bGV0IGQsbCx1LGgscCxfLEU9MCxtPTAsZj0wLFQ9MCxTPTAsZz0wLFI9MCxDPTAsST0wLHY9MCx5PW51bGw7Y29uc3QgQT1uZXcgVWludDE2QXJyYXkoMTYpLGI9bmV3IFVpbnQxNkFycmF5KDE2KTtsZXQgdyxPLE4sRD1udWxsO2ZvcihFPTA7RTw9Wlc7RSsrKUFbRV09MDtmb3IobT0wO208bjttKyspQVt0W2krbV1dKys7Zm9yKFM9YyxUPVpXO1Q+PTEmJjA9PT1BW1RdO1QtLSk7aWYoUz5UJiYoUz1UKSwwPT09VClyZXR1cm4gcltvKytdPTIwOTcxNTIwLHJbbysrXT0yMDk3MTUyMCxhLmJpdHM9MSwwO2ZvcihmPTE7ZjxUJiYwPT09QVtmXTtmKyspO2ZvcihTPGYmJihTPWYpLEM9MSxFPTE7RTw9Wlc7RSsrKWlmKEM8PD0xLEMtPUFbRV0sQzwwKXJldHVybi0xO2lmKEM+MCYmKDA9PT1lfHwxIT09VCkpcmV0dXJuLTE7Zm9yKGJbMV09MCxFPTE7RTxaVztFKyspYltFKzFdPWJbRV0rQVtFXTtmb3IobT0wO208bjttKyspMCE9PXRbaSttXSYmKHNbYlt0W2krbV1dKytdPW0pO2lmKDA9PT1lPyh5PUQ9cyxfPTIwKToxPT09ZT8oeT0kVyxEPWVILF89MjU3KTooeT10SCxEPWlILF89MCksdj0wLG09MCxFPWYscD1vLGc9UyxSPTAsdT0tMSxJPTE8PFMsaD1JLTEsMT09PWUmJkk+ODUyfHwyPT09ZSYmST41OTIpcmV0dXJuIDE7Zm9yKDs7KXt3PUUtUixzW21dKzE8Xz8oTz0wLE49c1ttXSk6c1ttXT49Xz8oTz1EW3NbbV0tX10sTj15W3NbbV0tX10pOihPPTk2LE49MCksZD0xPDxFLVIsbD0xPDxnLGY9bDtkb3tsLT1kLHJbcCsodj4+UikrbF09dzw8MjR8Tzw8MTZ8TnwwfXdoaWxlKDAhPT1sKTtmb3IoZD0xPDxFLTE7diZkOylkPj49MTtpZigwIT09ZD8odiY9ZC0xLHYrPWQpOnY9MCxtKyssMD09LS1BW0VdKXtpZihFPT09VClicmVhaztFPXRbaStzW21dXX1pZihFPlMmJih2JmgpIT09dSl7Zm9yKDA9PT1SJiYoUj1TKSxwKz1mLGc9RS1SLEM9MTw8ZztnK1I8VCYmKEMtPUFbZytSXSwhKEM8PTApKTspZysrLEM8PD0xO2lmKEkrPTE8PGcsMT09PWUmJkk+ODUyfHwyPT09ZSYmST41OTIpcmV0dXJuIDE7dT12Jmgsclt1XT1TPDwyNHxnPDwxNnxwLW98MH19cmV0dXJuIDAhPT12JiYocltwK3ZdPUUtUjw8MjR8NjQ8PDE2fDApLGEuYml0cz1TLDB9O2NvbnN0e1pfRklOSVNIOnJILFpfQkxPQ0s6b0gsWl9UUkVFUzpzSCxaX09LOmFILFpfU1RSRUFNX0VORDpjSCxaX05FRURfRElDVDpkSCxaX1NUUkVBTV9FUlJPUjpsSCxaX0RBVEFfRVJST1I6dUgsWl9NRU1fRVJST1I6aEgsWl9CVUZfRVJST1I6cEgsWl9ERUZMQVRFRDpfSH09QUcsRUg9MTYxODAsbUg9MTYxOTAsZkg9MTYxOTEsVEg9MTYxOTIsU0g9MTYxOTQsZ0g9MTYxOTksUkg9MTYyMDAsQ0g9MTYyMDYsSUg9MTYyMDksdkg9ZT0+KGU+Pj4yNCYyNTUpKyhlPj4+OCY2NTI4MCkrKCg2NTI4MCZlKTw8OCkrKCgyNTUmZSk8PDI0KTtmdW5jdGlvbiB5SCgpe3RoaXMuc3RybT1udWxsLHRoaXMubW9kZT0wLHRoaXMubGFzdD0hMSx0aGlzLndyYXA9MCx0aGlzLmhhdmVkaWN0PSExLHRoaXMuZmxhZ3M9MCx0aGlzLmRtYXg9MCx0aGlzLmNoZWNrPTAsdGhpcy50b3RhbD0wLHRoaXMuaGVhZD1udWxsLHRoaXMud2JpdHM9MCx0aGlzLndzaXplPTAsdGhpcy53aGF2ZT0wLHRoaXMud25leHQ9MCx0aGlzLndpbmRvdz1udWxsLHRoaXMuaG9sZD0wLHRoaXMuYml0cz0wLHRoaXMubGVuZ3RoPTAsdGhpcy5vZmZzZXQ9MCx0aGlzLmV4dHJhPTAsdGhpcy5sZW5jb2RlPW51bGwsdGhpcy5kaXN0Y29kZT1udWxsLHRoaXMubGVuYml0cz0wLHRoaXMuZGlzdGJpdHM9MCx0aGlzLm5jb2RlPTAsdGhpcy5ubGVuPTAsdGhpcy5uZGlzdD0wLHRoaXMuaGF2ZT0wLHRoaXMubmV4dD1udWxsLHRoaXMubGVucz1uZXcgVWludDE2QXJyYXkoMzIwKSx0aGlzLndvcms9bmV3IFVpbnQxNkFycmF5KDI4OCksdGhpcy5sZW5keW49bnVsbCx0aGlzLmRpc3RkeW49bnVsbCx0aGlzLnNhbmU9MCx0aGlzLmJhY2s9MCx0aGlzLndhcz0wfWNvbnN0IEFIPWU9PntpZighZSlyZXR1cm4gMTtjb25zdCB0PWUuc3RhdGU7cmV0dXJuIXR8fHQuc3RybSE9PWV8fHQubW9kZTxFSHx8dC5tb2RlPjE2MjExPzE6MH0sYkg9ZT0+e2lmKEFIKGUpKXJldHVybiBsSDtjb25zdCB0PWUuc3RhdGU7cmV0dXJuIGUudG90YWxfaW49ZS50b3RhbF9vdXQ9dC50b3RhbD0wLGUubXNnPVwiXCIsdC53cmFwJiYoZS5hZGxlcj0xJnQud3JhcCksdC5tb2RlPUVILHQubGFzdD0wLHQuaGF2ZWRpY3Q9MCx0LmZsYWdzPS0xLHQuZG1heD0zMjc2OCx0LmhlYWQ9bnVsbCx0LmhvbGQ9MCx0LmJpdHM9MCx0LmxlbmNvZGU9dC5sZW5keW49bmV3IEludDMyQXJyYXkoODUyKSx0LmRpc3Rjb2RlPXQuZGlzdGR5bj1uZXcgSW50MzJBcnJheSg1OTIpLHQuc2FuZT0xLHQuYmFjaz0tMSxhSH0sd0g9ZT0+e2lmKEFIKGUpKXJldHVybiBsSDtjb25zdCB0PWUuc3RhdGU7cmV0dXJuIHQud3NpemU9MCx0LndoYXZlPTAsdC53bmV4dD0wLGJIKGUpfSxPSD0oZSx0KT0+e2xldCBpO2lmKEFIKGUpKXJldHVybiBsSDtjb25zdCBuPWUuc3RhdGU7cmV0dXJuIHQ8MD8oaT0wLHQ9LXQpOihpPTUrKHQ+PjQpLHQ8NDgmJih0Jj0xNSkpLHQmJih0PDh8fHQ+MTUpP2xIOihudWxsIT09bi53aW5kb3cmJm4ud2JpdHMhPT10JiYobi53aW5kb3c9bnVsbCksbi53cmFwPWksbi53Yml0cz10LHdIKGUpKX0sTkg9KGUsdCk9PntpZighZSlyZXR1cm4gbEg7Y29uc3QgaT1uZXcgeUg7ZS5zdGF0ZT1pLGkuc3RybT1lLGkud2luZG93PW51bGwsaS5tb2RlPUVIO2NvbnN0IG49T0goZSx0KTtyZXR1cm4gbiE9PWFIJiYoZS5zdGF0ZT1udWxsKSxufTtsZXQgREgsUEgsTEg9ITA7Y29uc3Qga0g9ZT0+e2lmKExIKXtESD1uZXcgSW50MzJBcnJheSg1MTIpLFBIPW5ldyBJbnQzMkFycmF5KDMyKTtsZXQgdD0wO2Zvcig7dDwxNDQ7KWUubGVuc1t0KytdPTg7Zm9yKDt0PDI1NjspZS5sZW5zW3QrK109OTtmb3IoO3Q8MjgwOyllLmxlbnNbdCsrXT03O2Zvcig7dDwyODg7KWUubGVuc1t0KytdPTg7Zm9yKG5IKDEsZS5sZW5zLDAsMjg4LERILDAsZS53b3JrLHtiaXRzOjl9KSx0PTA7dDwzMjspZS5sZW5zW3QrK109NTtuSCgyLGUubGVucywwLDMyLFBILDAsZS53b3JrLHtiaXRzOjV9KSxMSD0hMX1lLmxlbmNvZGU9REgsZS5sZW5iaXRzPTksZS5kaXN0Y29kZT1QSCxlLmRpc3RiaXRzPTV9LE1IPShlLHQsaSxuKT0+e2xldCByO2NvbnN0IG89ZS5zdGF0ZTtyZXR1cm4gbnVsbD09PW8ud2luZG93JiYoby53c2l6ZT0xPDxvLndiaXRzLG8ud25leHQ9MCxvLndoYXZlPTAsby53aW5kb3c9bmV3IFVpbnQ4QXJyYXkoby53c2l6ZSkpLG4+PW8ud3NpemU/KG8ud2luZG93LnNldCh0LnN1YmFycmF5KGktby53c2l6ZSxpKSwwKSxvLnduZXh0PTAsby53aGF2ZT1vLndzaXplKToocj1vLndzaXplLW8ud25leHQscj5uJiYocj1uKSxvLndpbmRvdy5zZXQodC5zdWJhcnJheShpLW4saS1uK3IpLG8ud25leHQpLChuLT1yKT8oby53aW5kb3cuc2V0KHQuc3ViYXJyYXkoaS1uLGkpLDApLG8ud25leHQ9bixvLndoYXZlPW8ud3NpemUpOihvLnduZXh0Kz1yLG8ud25leHQ9PT1vLndzaXplJiYoby53bmV4dD0wKSxvLndoYXZlPG8ud3NpemUmJihvLndoYXZlKz1yKSkpLDB9O3ZhciBVSD0oZSx0KT0+e2xldCBpLG4scixvLHMsYSxjLGQsbCx1LGgscCxfLEUsbSxmLFQsUyxnLFIsQyxJLHY9MDtjb25zdCB5PW5ldyBVaW50OEFycmF5KDQpO2xldCBBLGI7Y29uc3Qgdz1uZXcgVWludDhBcnJheShbMTYsMTcsMTgsMCw4LDcsOSw2LDEwLDUsMTEsNCwxMiwzLDEzLDIsMTQsMSwxNV0pO2lmKEFIKGUpfHwhZS5vdXRwdXR8fCFlLmlucHV0JiYwIT09ZS5hdmFpbF9pbilyZXR1cm4gbEg7aT1lLnN0YXRlLGkubW9kZT09PWZIJiYoaS5tb2RlPVRIKSxzPWUubmV4dF9vdXQscj1lLm91dHB1dCxjPWUuYXZhaWxfb3V0LG89ZS5uZXh0X2luLG49ZS5pbnB1dCxhPWUuYXZhaWxfaW4sZD1pLmhvbGQsbD1pLmJpdHMsdT1hLGg9YyxJPWFIO2U6Zm9yKDs7KXN3aXRjaChpLm1vZGUpe2Nhc2UgRUg6aWYoMD09PWkud3JhcCl7aS5tb2RlPVRIO2JyZWFrfWZvcig7bDwxNjspe2lmKDA9PT1hKWJyZWFrIGU7YS0tLGQrPW5bbysrXTw8bCxsKz04fWlmKDImaS53cmFwJiYzNTYxNT09PWQpezA9PT1pLndiaXRzJiYoaS53Yml0cz0xNSksaS5jaGVjaz0wLHlbMF09MjU1JmQseVsxXT1kPj4+OCYyNTUsaS5jaGVjaz12RyhpLmNoZWNrLHksMiwwKSxkPTAsbD0wLGkubW9kZT0xNjE4MTticmVha31pZihpLmhlYWQmJihpLmhlYWQuZG9uZT0hMSksISgxJmkud3JhcCl8fCgoKDI1NSZkKTw8OCkrKGQ+PjgpKSUzMSl7ZS5tc2c9XCJpbmNvcnJlY3QgaGVhZGVyIGNoZWNrXCIsaS5tb2RlPUlIO2JyZWFrfWlmKCgxNSZkKSE9PV9IKXtlLm1zZz1cInVua25vd24gY29tcHJlc3Npb24gbWV0aG9kXCIsaS5tb2RlPUlIO2JyZWFrfWlmKGQ+Pj49NCxsLT00LEM9OCsoMTUmZCksMD09PWkud2JpdHMmJihpLndiaXRzPUMpLEM+MTV8fEM+aS53Yml0cyl7ZS5tc2c9XCJpbnZhbGlkIHdpbmRvdyBzaXplXCIsaS5tb2RlPUlIO2JyZWFrfWkuZG1heD0xPDxpLndiaXRzLGkuZmxhZ3M9MCxlLmFkbGVyPWkuY2hlY2s9MSxpLm1vZGU9NTEyJmQ/MTYxODk6ZkgsZD0wLGw9MDticmVhaztjYXNlIDE2MTgxOmZvcig7bDwxNjspe2lmKDA9PT1hKWJyZWFrIGU7YS0tLGQrPW5bbysrXTw8bCxsKz04fWlmKGkuZmxhZ3M9ZCwoMjU1JmtqKGkpKSE9PV9IKXtlLm1zZz1cInVua25vd24gY29tcHJlc3Npb24gbWV0aG9kXCIsaS5tb2RlPUlIO2JyZWFrfWlmKDU3MzQ0JmtqKGkpKXtlLm1zZz1cInVua25vd24gaGVhZGVyIGZsYWdzIHNldFwiLGkubW9kZT1JSDticmVha31pLmhlYWQmJihpLmhlYWQudGV4dD1kPj44JjEpLDUxMiZraihpKSYmNCZpLndyYXAmJih5WzBdPTI1NSZkLHlbMV09ZD4+PjgmMjU1LGkuY2hlY2s9dkcoaS5jaGVjayx5LDIsMCkpLGQ9MCxsPTAsaS5tb2RlPTE2MTgyO2Nhc2UgMTYxODI6Zm9yKDtsPDMyOyl7aWYoMD09PWEpYnJlYWsgZTthLS0sZCs9bltvKytdPDxsLGwrPTh9aS5oZWFkJiYoaS5oZWFkLnRpbWU9ZCksNTEyJmtqKGkpJiY0Jmkud3JhcCYmKHlbMF09MjU1JmQseVsxXT1kPj4+OCYyNTUseVsyXT1kPj4+MTYmMjU1LHlbM109ZD4+PjI0JjI1NSxpLmNoZWNrPXZHKGkuY2hlY2sseSw0LDApKSxkPTAsbD0wLGkubW9kZT0xNjE4MztjYXNlIDE2MTgzOmZvcig7bDwxNjspe2lmKDA9PT1hKWJyZWFrIGU7YS0tLGQrPW5bbysrXTw8bCxsKz04fWkuaGVhZCYmKGkuaGVhZC54ZmxhZ3M9MjU1JmQsaS5oZWFkLm9zPWQ+PjgpLDUxMiZraihpKSYmNCZpLndyYXAmJih5WzBdPTI1NSZkLHlbMV09ZD4+PjgmMjU1LGkuY2hlY2s9dkcoaS5jaGVjayx5LDIsMCkpLGQ9MCxsPTAsaS5tb2RlPTE2MTg0O2Nhc2UgMTYxODQ6aWYoMTAyNCZraihpKSl7Zm9yKDtsPDE2Oyl7aWYoMD09PWEpYnJlYWsgZTthLS0sZCs9bltvKytdPDxsLGwrPTh9aS5sZW5ndGg9ZCxpLmhlYWQmJihpLmhlYWQuZXh0cmFfbGVuPWQpLDUxMiZraihpKSYmNCZpLndyYXAmJih5WzBdPTI1NSZkLHlbMV09ZD4+PjgmMjU1LGkuY2hlY2s9dkcoaS5jaGVjayx5LDIsMCkpLGQ9MCxsPTB9ZWxzZSBpLmhlYWQmJihpLmhlYWQuZXh0cmE9bnVsbCk7aS5tb2RlPTE2MTg1O2Nhc2UgMTYxODU6aWYoMTAyNCZraihpKSYmKHA9aS5sZW5ndGgscD5hJiYocD1hKSxwJiYoaS5oZWFkJiYoQz1pLmhlYWQuZXh0cmFfbGVuLWkubGVuZ3RoLGkuaGVhZC5leHRyYXx8KGkuaGVhZC5leHRyYT1uZXcgVWludDhBcnJheShpLmhlYWQuZXh0cmFfbGVuKSksaS5oZWFkLmV4dHJhLnNldChuLnN1YmFycmF5KG8sbytwKSxDKSksNTEyJmtqKGkpJiY0Jmkud3JhcCYmKGkuY2hlY2s9dkcoaS5jaGVjayxuLHAsbykpLGEtPXAsbys9cCxpLmxlbmd0aC09cCksaS5sZW5ndGgpKWJyZWFrIGU7aS5sZW5ndGg9MCxpLm1vZGU9MTYxODY7Y2FzZSAxNjE4NjppZigyMDQ4JmtqKGkpKXtpZigwPT09YSlicmVhayBlO3A9MDtkb3tDPW5bbytwKytdLGkuaGVhZCYmQyYmaS5sZW5ndGg8NjU1MzYmJihpLmhlYWQubmFtZSs9U3RyaW5nLmZyb21DaGFyQ29kZShDKSl9d2hpbGUoQyYmcDxhKTtpZig1MTIma2ooaSkmJjQmaS53cmFwJiYoaS5jaGVjaz12RyhpLmNoZWNrLG4scCxvKSksYS09cCxvKz1wLEMpYnJlYWsgZX1lbHNlIGkuaGVhZCYmKGkuaGVhZC5uYW1lPW51bGwpO2kubGVuZ3RoPTAsaS5tb2RlPTE2MTg3O2Nhc2UgMTYxODc6aWYoNDA5NiZraihpKSl7aWYoMD09PWEpYnJlYWsgZTtwPTA7ZG97Qz1uW28rcCsrXSxpLmhlYWQmJkMmJmkubGVuZ3RoPDY1NTM2JiYoaS5oZWFkLmNvbW1lbnQrPVN0cmluZy5mcm9tQ2hhckNvZGUoQykpfXdoaWxlKEMmJnA8YSk7aWYoNTEyJmtqKGkpJiY0Jmkud3JhcCYmKGkuY2hlY2s9dkcoaS5jaGVjayxuLHAsbykpLGEtPXAsbys9cCxDKWJyZWFrIGV9ZWxzZSBpLmhlYWQmJihpLmhlYWQuY29tbWVudD1udWxsKTtpLm1vZGU9MTYxODg7Y2FzZSAxNjE4ODppZig1MTIma2ooaSkpe2Zvcig7bDwxNjspe2lmKDA9PT1hKWJyZWFrIGU7YS0tLGQrPW5bbysrXTw8bCxsKz04fWlmKDQmaS53cmFwJiZkIT09KDY1NTM1JmkuY2hlY2spKXtlLm1zZz1cImhlYWRlciBjcmMgbWlzbWF0Y2hcIixpLm1vZGU9SUg7YnJlYWt9ZD0wLGw9MH1pLmhlYWQmJihpLmhlYWQuaGNyYz1raihpKT4+OSYxLGkuaGVhZC5kb25lPSEwKSxlLmFkbGVyPWkuY2hlY2s9MCxpLm1vZGU9Zkg7YnJlYWs7Y2FzZSAxNjE4OTpmb3IoO2w8MzI7KXtpZigwPT09YSlicmVhayBlO2EtLSxkKz1uW28rK108PGwsbCs9OH1lLmFkbGVyPWkuY2hlY2s9dkgoZCksZD0wLGw9MCxpLm1vZGU9bUg7Y2FzZSBtSDppZigwPT09aS5oYXZlZGljdClyZXR1cm4gZS5uZXh0X291dD1zLGUuYXZhaWxfb3V0PWMsZS5uZXh0X2luPW8sZS5hdmFpbF9pbj1hLGkuaG9sZD1kLGkuYml0cz1sLGRIO2UuYWRsZXI9aS5jaGVjaz0xLGkubW9kZT1mSDtjYXNlIGZIOmlmKHQ9PT1vSHx8dD09PXNIKWJyZWFrIGU7Y2FzZSBUSDppZihpLmxhc3Qpe2Q+Pj49NyZsLGwtPTcmbCxpLm1vZGU9Q0g7YnJlYWt9Zm9yKDtsPDM7KXtpZigwPT09YSlicmVhayBlO2EtLSxkKz1uW28rK108PGwsbCs9OH1zd2l0Y2goaS5sYXN0PTEmZCxkPj4+PTEsbC09MSwzJmQpe2Nhc2UgMDppLm1vZGU9MTYxOTM7YnJlYWs7Y2FzZSAxOmlmKGtIKGkpLGkubW9kZT1nSCx0PT09c0gpe2Q+Pj49MixsLT0yO2JyZWFrIGV9YnJlYWs7Y2FzZSAyOmkubW9kZT0xNjE5NjticmVhaztjYXNlIDM6ZS5tc2c9XCJpbnZhbGlkIGJsb2NrIHR5cGVcIixpLm1vZGU9SUh9ZD4+Pj0yLGwtPTI7YnJlYWs7Y2FzZSAxNjE5Mzpmb3IoZD4+Pj03JmwsbC09NyZsO2w8MzI7KXtpZigwPT09YSlicmVhayBlO2EtLSxkKz1uW28rK108PGwsbCs9OH1pZigoNjU1MzUmZCkhPShkPj4+MTZeNjU1MzUpKXtlLm1zZz1cImludmFsaWQgc3RvcmVkIGJsb2NrIGxlbmd0aHNcIixpLm1vZGU9SUg7YnJlYWt9aWYoaS5sZW5ndGg9NjU1MzUmZCxkPTAsbD0wLGkubW9kZT1TSCx0PT09c0gpYnJlYWsgZTtjYXNlIFNIOmkubW9kZT0xNjE5NTtjYXNlIDE2MTk1OmlmKHA9aS5sZW5ndGgscCl7aWYocD5hJiYocD1hKSxwPmMmJihwPWMpLDA9PT1wKWJyZWFrIGU7ci5zZXQobi5zdWJhcnJheShvLG8rcCkscyksYS09cCxvKz1wLGMtPXAscys9cCxpLmxlbmd0aC09cDticmVha31pLm1vZGU9Zkg7YnJlYWs7Y2FzZSAxNjE5Njpmb3IoO2w8MTQ7KXtpZigwPT09YSlicmVhayBlO2EtLSxkKz1uW28rK108PGwsbCs9OH1pZihpLm5sZW49MjU3KygzMSZkKSxkPj4+PTUsbC09NSxpLm5kaXN0PTErKDMxJmQpLGQ+Pj49NSxsLT01LGkubmNvZGU9NCsoMTUmZCksZD4+Pj00LGwtPTQsaS5ubGVuPjI4Nnx8aS5uZGlzdD4zMCl7ZS5tc2c9XCJ0b28gbWFueSBsZW5ndGggb3IgZGlzdGFuY2Ugc3ltYm9sc1wiLGkubW9kZT1JSDticmVha31pLmhhdmU9MCxpLm1vZGU9MTYxOTc7Y2FzZSAxNjE5Nzpmb3IoO2kuaGF2ZTxpLm5jb2RlOyl7Zm9yKDtsPDM7KXtpZigwPT09YSlicmVhayBlO2EtLSxkKz1uW28rK108PGwsbCs9OH1pLmxlbnNbd1tpLmhhdmUrK11dPTcmZCxkPj4+PTMsbC09M31mb3IoO2kuaGF2ZTwxOTspaS5sZW5zW3dbaS5oYXZlKytdXT0wO2lmKGkubGVuY29kZT1pLmxlbmR5bixpLmxlbmJpdHM9NyxBPXtiaXRzOmkubGVuYml0c30sST1uSCgwLGkubGVucywwLDE5LGkubGVuY29kZSwwLGkud29yayxBKSxpLmxlbmJpdHM9QS5iaXRzLEkpe2UubXNnPVwiaW52YWxpZCBjb2RlIGxlbmd0aHMgc2V0XCIsaS5tb2RlPUlIO2JyZWFrfWkuaGF2ZT0wLGkubW9kZT0xNjE5ODtjYXNlIDE2MTk4OmZvcig7aS5oYXZlPGkubmxlbitpLm5kaXN0Oyl7Zm9yKDt2PWkubGVuY29kZVtkJigxPDxpLmxlbmJpdHMpLTFdLG09dj4+PjI0LGY9dj4+PjE2JjI1NSxUPTY1NTM1JnYsIShtPD1sKTspe2lmKDA9PT1hKWJyZWFrIGU7YS0tLGQrPW5bbysrXTw8bCxsKz04fWlmKFQ8MTYpZD4+Pj1tLGwtPW0saS5sZW5zW2kuaGF2ZSsrXT1UO2Vsc2V7aWYoMTY9PT1UKXtmb3IoYj1tKzI7bDxiOyl7aWYoMD09PWEpYnJlYWsgZTthLS0sZCs9bltvKytdPDxsLGwrPTh9aWYoZD4+Pj1tLGwtPW0sMD09PWkuaGF2ZSl7ZS5tc2c9XCJpbnZhbGlkIGJpdCBsZW5ndGggcmVwZWF0XCIsaS5tb2RlPUlIO2JyZWFrfUM9aS5sZW5zW2kuaGF2ZS0xXSxwPTMrKDMmZCksZD4+Pj0yLGwtPTJ9ZWxzZSBpZigxNz09PVQpe2ZvcihiPW0rMztsPGI7KXtpZigwPT09YSlicmVhayBlO2EtLSxkKz1uW28rK108PGwsbCs9OH1kPj4+PW0sbC09bSxDPTAscD0zKyg3JmQpLGQ+Pj49MyxsLT0zfWVsc2V7Zm9yKGI9bSs3O2w8Yjspe2lmKDA9PT1hKWJyZWFrIGU7YS0tLGQrPW5bbysrXTw8bCxsKz04fWQ+Pj49bSxsLT1tLEM9MCxwPTExKygxMjcmZCksZD4+Pj03LGwtPTd9aWYoaS5oYXZlK3A+aS5ubGVuK2kubmRpc3Qpe2UubXNnPVwiaW52YWxpZCBiaXQgbGVuZ3RoIHJlcGVhdFwiLGkubW9kZT1JSDticmVha31mb3IoO3AtLTspaS5sZW5zW2kuaGF2ZSsrXT1DfX1pZihpLm1vZGU9PT1JSClicmVhaztpZigwPT09aS5sZW5zWzI1Nl0pe2UubXNnPVwiaW52YWxpZCBjb2RlIC0tIG1pc3NpbmcgZW5kLW9mLWJsb2NrXCIsaS5tb2RlPUlIO2JyZWFrfWlmKGkubGVuYml0cz05LEE9e2JpdHM6aS5sZW5iaXRzfSxJPW5IKDEsaS5sZW5zLDAsaS5ubGVuLGkubGVuY29kZSwwLGkud29yayxBKSxpLmxlbmJpdHM9QS5iaXRzLEkpe2UubXNnPVwiaW52YWxpZCBsaXRlcmFsL2xlbmd0aHMgc2V0XCIsaS5tb2RlPUlIO2JyZWFrfWlmKGkuZGlzdGJpdHM9NixpLmRpc3Rjb2RlPWkuZGlzdGR5bixBPXtiaXRzOmkuZGlzdGJpdHN9LEk9bkgoMixpLmxlbnMsaS5ubGVuLGkubmRpc3QsaS5kaXN0Y29kZSwwLGkud29yayxBKSxpLmRpc3RiaXRzPUEuYml0cyxJKXtlLm1zZz1cImludmFsaWQgZGlzdGFuY2VzIHNldFwiLGkubW9kZT1JSDticmVha31pZihpLm1vZGU9Z0gsdD09PXNIKWJyZWFrIGU7Y2FzZSBnSDppLm1vZGU9Ukg7Y2FzZSBSSDppZihhPj02JiZjPj0yNTgpe2UubmV4dF9vdXQ9cyxlLmF2YWlsX291dD1jLGUubmV4dF9pbj1vLGUuYXZhaWxfaW49YSxpLmhvbGQ9ZCxpLmJpdHM9bCxRVyhlLGgpLHM9ZS5uZXh0X291dCxyPWUub3V0cHV0LGM9ZS5hdmFpbF9vdXQsbz1lLm5leHRfaW4sbj1lLmlucHV0LGE9ZS5hdmFpbF9pbixkPWkuaG9sZCxsPWkuYml0cyxpLm1vZGU9PT1mSCYmKGkuYmFjaz0tMSk7YnJlYWt9Zm9yKGkuYmFjaz0wO3Y9aS5sZW5jb2RlW2QmKDE8PGkubGVuYml0cyktMV0sbT12Pj4+MjQsZj12Pj4+MTYmMjU1LFQ9NjU1MzUmdiwhKG08PWwpOyl7aWYoMD09PWEpYnJlYWsgZTthLS0sZCs9bltvKytdPDxsLGwrPTh9aWYoZiYmMD09KDI0MCZmKSl7Zm9yKFM9bSxnPWYsUj1UO3Y9aS5sZW5jb2RlW1IrKChkJigxPDxTK2cpLTEpPj5TKV0sbT12Pj4+MjQsZj12Pj4+MTYmMjU1LFQ9NjU1MzUmdiwhKFMrbTw9bCk7KXtpZigwPT09YSlicmVhayBlO2EtLSxkKz1uW28rK108PGwsbCs9OH1kPj4+PVMsbC09UyxpLmJhY2srPVN9aWYoZD4+Pj1tLGwtPW0saS5iYWNrKz1tLGkubGVuZ3RoPVQsMD09PWYpe2kubW9kZT0xNjIwNTticmVha31pZigzMiZmKXtpLmJhY2s9LTEsaS5tb2RlPWZIO2JyZWFrfWlmKDY0JmYpe2UubXNnPVwiaW52YWxpZCBsaXRlcmFsL2xlbmd0aCBjb2RlXCIsaS5tb2RlPUlIO2JyZWFrfWkuZXh0cmE9MTUmZixpLm1vZGU9MTYyMDE7Y2FzZSAxNjIwMTppZihpLmV4dHJhKXtmb3IoYj1pLmV4dHJhO2w8Yjspe2lmKDA9PT1hKWJyZWFrIGU7YS0tLGQrPW5bbysrXTw8bCxsKz04fWkubGVuZ3RoKz1kJigxPDxpLmV4dHJhKS0xLGQ+Pj49aS5leHRyYSxsLT1pLmV4dHJhLGkuYmFjays9aS5leHRyYX1pLndhcz1pLmxlbmd0aCxpLm1vZGU9MTYyMDI7Y2FzZSAxNjIwMjpmb3IoO3Y9aS5kaXN0Y29kZVtkJigxPDxpLmRpc3RiaXRzKS0xXSxtPXY+Pj4yNCxmPXY+Pj4xNiYyNTUsVD02NTUzNSZ2LCEobTw9bCk7KXtpZigwPT09YSlicmVhayBlO2EtLSxkKz1uW28rK108PGwsbCs9OH1pZigwPT0oMjQwJmYpKXtmb3IoUz1tLGc9ZixSPVQ7dj1pLmRpc3Rjb2RlW1IrKChkJigxPDxTK2cpLTEpPj5TKV0sbT12Pj4+MjQsZj12Pj4+MTYmMjU1LFQ9NjU1MzUmdiwhKFMrbTw9bCk7KXtpZigwPT09YSlicmVhayBlO2EtLSxkKz1uW28rK108PGwsbCs9OH1kPj4+PVMsbC09UyxpLmJhY2srPVN9aWYoZD4+Pj1tLGwtPW0saS5iYWNrKz1tLDY0JmYpe2UubXNnPVwiaW52YWxpZCBkaXN0YW5jZSBjb2RlXCIsaS5tb2RlPUlIO2JyZWFrfWkub2Zmc2V0PVQsaS5leHRyYT0xNSZmLGkubW9kZT0xNjIwMztjYXNlIDE2MjAzOmlmKGkuZXh0cmEpe2ZvcihiPWkuZXh0cmE7bDxiOyl7aWYoMD09PWEpYnJlYWsgZTthLS0sZCs9bltvKytdPDxsLGwrPTh9aS5vZmZzZXQrPWQmKDE8PGkuZXh0cmEpLTEsZD4+Pj1pLmV4dHJhLGwtPWkuZXh0cmEsaS5iYWNrKz1pLmV4dHJhfWlmKGkub2Zmc2V0PmkuZG1heCl7ZS5tc2c9XCJpbnZhbGlkIGRpc3RhbmNlIHRvbyBmYXIgYmFja1wiLGkubW9kZT1JSDticmVha31pLm1vZGU9MTYyMDQ7Y2FzZSAxNjIwNDppZigwPT09YylicmVhayBlO2lmKHA9aC1jLGkub2Zmc2V0PnApe2lmKHA9aS5vZmZzZXQtcCxwPmkud2hhdmUmJmkuc2FuZSl7ZS5tc2c9XCJpbnZhbGlkIGRpc3RhbmNlIHRvbyBmYXIgYmFja1wiLGkubW9kZT1JSDticmVha31wPmkud25leHQ/KHAtPWkud25leHQsXz1pLndzaXplLXApOl89aS53bmV4dC1wLHA+aS5sZW5ndGgmJihwPWkubGVuZ3RoKSxFPWkud2luZG93fWVsc2UgRT1yLF89cy1pLm9mZnNldCxwPWkubGVuZ3RoO3A+YyYmKHA9YyksYy09cCxpLmxlbmd0aC09cDtkb3tyW3MrK109RVtfKytdfXdoaWxlKC0tcCk7MD09PWkubGVuZ3RoJiYoaS5tb2RlPVJIKTticmVhaztjYXNlIDE2MjA1OmlmKDA9PT1jKWJyZWFrIGU7cltzKytdPWkubGVuZ3RoLGMtLSxpLm1vZGU9Ukg7YnJlYWs7Y2FzZSBDSDppZihpLndyYXApe2Zvcig7bDwzMjspe2lmKDA9PT1hKWJyZWFrIGU7YS0tLGR8PW5bbysrXTw8bCxsKz04fWlmKGgtPWMsZS50b3RhbF9vdXQrPWgsaS50b3RhbCs9aCw0Jmkud3JhcCYmaCYmKGUuYWRsZXI9aS5jaGVjaz1raihpKT92RyhpLmNoZWNrLHIsaCxzLWgpOkNHKGkuY2hlY2sscixoLHMtaCkpLGg9Yyw0Jmkud3JhcCYmKGtqKGkpP2Q6dkgoZCkpIT09aS5jaGVjayl7ZS5tc2c9XCJpbmNvcnJlY3QgZGF0YSBjaGVja1wiLGkubW9kZT1JSDticmVha31kPTAsbD0wfWkubW9kZT0xNjIwNztjYXNlIDE2MjA3OmlmKGkud3JhcCYma2ooaSkpe2Zvcig7bDwzMjspe2lmKDA9PT1hKWJyZWFrIGU7YS0tLGQrPW5bbysrXTw8bCxsKz04fWlmKDQmaS53cmFwJiZkIT09KDQyOTQ5NjcyOTUmaS50b3RhbCkpe2UubXNnPVwiaW5jb3JyZWN0IGxlbmd0aCBjaGVja1wiLGkubW9kZT1JSDticmVha31kPTAsbD0wfWkubW9kZT0xNjIwODtjYXNlIDE2MjA4Okk9Y0g7YnJlYWsgZTtjYXNlIElIOkk9dUg7YnJlYWsgZTtjYXNlIDE2MjEwOnJldHVybiBoSDtkZWZhdWx0OnJldHVybiBsSH1yZXR1cm4gZS5uZXh0X291dD1zLGUuYXZhaWxfb3V0PWMsZS5uZXh0X2luPW8sZS5hdmFpbF9pbj1hLGkuaG9sZD1kLGkuYml0cz1sLChpLndzaXplfHxoIT09ZS5hdmFpbF9vdXQmJmkubW9kZTxJSCYmKGkubW9kZTxDSHx8dCE9PXJIKSkmJk1IKGUsZS5vdXRwdXQsZS5uZXh0X291dCxoLWUuYXZhaWxfb3V0KSx1LT1lLmF2YWlsX2luLGgtPWUuYXZhaWxfb3V0LGUudG90YWxfaW4rPXUsZS50b3RhbF9vdXQrPWgsaS50b3RhbCs9aCw0Jmkud3JhcCYmaCYmKGUuYWRsZXI9aS5jaGVjaz1raihpKT92RyhpLmNoZWNrLHIsaCxlLm5leHRfb3V0LWgpOkNHKGkuY2hlY2sscixoLGUubmV4dF9vdXQtaCkpLGUuZGF0YV90eXBlPWkuYml0cysoaS5sYXN0PzY0OjApKyhpLm1vZGU9PT1mSD8xMjg6MCkrKGkubW9kZT09PWdIfHxpLm1vZGU9PT1TSD8yNTY6MCksKDA9PT11JiYwPT09aHx8dD09PXJIKSYmST09PWFIJiYoST1wSCksSX0seEg9e2luZmxhdGVSZXNldDp3SCxpbmZsYXRlUmVzZXQyOk9ILGluZmxhdGVSZXNldEtlZXA6YkgsaW5mbGF0ZUluaXQ6ZT0+TkgoZSwxNSksaW5mbGF0ZUluaXQyOk5ILGluZmxhdGU6VUgsaW5mbGF0ZUVuZDplPT57aWYoQUgoZSkpcmV0dXJuIGxIO2xldCB0PWUuc3RhdGU7cmV0dXJuIHQud2luZG93JiYodC53aW5kb3c9bnVsbCksZS5zdGF0ZT1udWxsLGFIfSxpbmZsYXRlR2V0SGVhZGVyOihlLHQpPT57aWYoQUgoZSkpcmV0dXJuIGxIO2NvbnN0IGk9ZS5zdGF0ZTtyZXR1cm4gMD09KDImaS53cmFwKT9sSDooaS5oZWFkPXQsdC5kb25lPSExLGFIKX0saW5mbGF0ZVNldERpY3Rpb25hcnk6KGUsdCk9Pntjb25zdCBpPXQubGVuZ3RoO2xldCBuLHIsbztyZXR1cm4gQUgoZSk/bEg6KG49ZS5zdGF0ZSwwIT09bi53cmFwJiZuLm1vZGUhPT1tSD9sSDpuLm1vZGU9PT1tSCYmKHI9MSxyPUNHKHIsdCxpLDApLHIhPT1uLmNoZWNrKT91SDoobz1NSChlLHQsaSxpKSxvPyhuLm1vZGU9MTYyMTAsaEgpOihuLmhhdmVkaWN0PTEsYUgpKSl9LGluZmxhdGVJbmZvOlwicGFrbyBpbmZsYXRlIChmcm9tIE5vZGVjYSBwcm9qZWN0KVwifTt2YXIgVkg9ZnVuY3Rpb24oKXt0aGlzLnRleHQ9MCx0aGlzLnRpbWU9MCx0aGlzLnhmbGFncz0wLHRoaXMub3M9MCx0aGlzLmV4dHJhPW51bGwsdGhpcy5leHRyYV9sZW49MCx0aGlzLm5hbWU9XCJcIix0aGlzLmNvbW1lbnQ9XCJcIix0aGlzLmhjcmM9MCx0aGlzLmRvbmU9ITF9O2NvbnN0IEZIPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcse1pfTk9fRkxVU0g6QkgsWl9GSU5JU0g6akgsWl9PSzpHSCxaX1NUUkVBTV9FTkQ6V0gsWl9ORUVEX0RJQ1Q6SEgsWl9TVFJFQU1fRVJST1I6S0gsWl9EQVRBX0VSUk9SOllILFpfTUVNX0VSUk9SOnFIfT1BRztmdW5jdGlvbiB6SChlKXt0aGlzLm9wdGlvbnM9UFcuYXNzaWduKHtjaHVua1NpemU6NjU1MzYsd2luZG93Qml0czoxNSx0bzpcIlwifSxlfHx7fSk7Y29uc3QgdD10aGlzLm9wdGlvbnM7dC5yYXcmJnQud2luZG93Qml0cz49MCYmdC53aW5kb3dCaXRzPDE2JiYodC53aW5kb3dCaXRzPS10LndpbmRvd0JpdHMsMD09PXQud2luZG93Qml0cyYmKHQud2luZG93Qml0cz0tMTUpKSwhKHQud2luZG93Qml0cz49MCYmdC53aW5kb3dCaXRzPDE2KXx8ZSYmZS53aW5kb3dCaXRzfHwodC53aW5kb3dCaXRzKz0zMiksdC53aW5kb3dCaXRzPjE1JiZ0LndpbmRvd0JpdHM8NDgmJjA9PSgxNSZ0LndpbmRvd0JpdHMpJiYodC53aW5kb3dCaXRzfD0xNSksdGhpcy5lcnI9MCx0aGlzLm1zZz1cIlwiLHRoaXMuZW5kZWQ9ITEsdGhpcy5jaHVua3M9W10sdGhpcy5zdHJtPW5ldyBVVyx0aGlzLnN0cm0uYXZhaWxfb3V0PTA7bGV0IGk9eEguaW5mbGF0ZUluaXQyKHRoaXMuc3RybSx0LndpbmRvd0JpdHMpO2lmKGkhPT1HSCl0aHJvdyBuZXcgRXJyb3IoeUdbaV0pO2lmKHRoaXMuaGVhZGVyPW5ldyBWSCx4SC5pbmZsYXRlR2V0SGVhZGVyKHRoaXMuc3RybSx0aGlzLmhlYWRlciksdC5kaWN0aW9uYXJ5JiYoXCJzdHJpbmdcIj09dHlwZW9mIHQuZGljdGlvbmFyeT90LmRpY3Rpb25hcnk9TVcuc3RyaW5nMmJ1Zih0LmRpY3Rpb25hcnkpOlwiW29iamVjdCBBcnJheUJ1ZmZlcl1cIj09PUZILmNhbGwodC5kaWN0aW9uYXJ5KSYmKHQuZGljdGlvbmFyeT1uZXcgVWludDhBcnJheSh0LmRpY3Rpb25hcnkpKSx0LnJhdyYmKGk9eEguaW5mbGF0ZVNldERpY3Rpb25hcnkodGhpcy5zdHJtLHQuZGljdGlvbmFyeSksaSE9PUdIKSkpdGhyb3cgbmV3IEVycm9yKHlHW2ldKX1mdW5jdGlvbiBKSChlLHQpe2NvbnN0IGk9bmV3IHpIKHQpO2lmKGkucHVzaChlKSxpLmVycil0aHJvdyBpLm1zZ3x8eUdbaS5lcnJdO3JldHVybiBpLnJlc3VsdH16SC5wcm90b3R5cGUucHVzaD1mdW5jdGlvbihlLHQpe2NvbnN0IGk9dGhpcy5zdHJtLG49dGhpcy5vcHRpb25zLmNodW5rU2l6ZSxyPXRoaXMub3B0aW9ucy5kaWN0aW9uYXJ5O2xldCBvLHMsYTtpZih0aGlzLmVuZGVkKXJldHVybiExO2ZvcihzPXQ9PT1+fnQ/dDohMD09PXQ/akg6QkgsXCJbb2JqZWN0IEFycmF5QnVmZmVyXVwiPT09RkguY2FsbChlKT9pLmlucHV0PW5ldyBVaW50OEFycmF5KGUpOmkuaW5wdXQ9ZSxpLm5leHRfaW49MCxpLmF2YWlsX2luPWkuaW5wdXQubGVuZ3RoOzspe2ZvcigwPT09aS5hdmFpbF9vdXQmJihpLm91dHB1dD1uZXcgVWludDhBcnJheShuKSxpLm5leHRfb3V0PTAsaS5hdmFpbF9vdXQ9biksbz14SC5pbmZsYXRlKGkscyksbz09PUhIJiZyJiYobz14SC5pbmZsYXRlU2V0RGljdGlvbmFyeShpLHIpLG89PT1HSD9vPXhILmluZmxhdGUoaSxzKTpvPT09WUgmJihvPUhIKSk7aS5hdmFpbF9pbj4wJiZvPT09V0gmJmkuc3RhdGUud3JhcD4wJiYwIT09ZVtpLm5leHRfaW5dOyl4SC5pbmZsYXRlUmVzZXQoaSksbz14SC5pbmZsYXRlKGkscyk7c3dpdGNoKG8pe2Nhc2UgS0g6Y2FzZSBZSDpjYXNlIEhIOmNhc2UgcUg6cmV0dXJuIHRoaXMub25FbmQobyksdGhpcy5lbmRlZD0hMCwhMX1pZihhPWkuYXZhaWxfb3V0LGkubmV4dF9vdXQmJigwPT09aS5hdmFpbF9vdXR8fG89PT1XSCkpaWYoXCJzdHJpbmdcIj09PXRoaXMub3B0aW9ucy50byl7bGV0IGU9TVcudXRmOGJvcmRlcihpLm91dHB1dCxpLm5leHRfb3V0KSx0PWkubmV4dF9vdXQtZSxyPU1XLmJ1ZjJzdHJpbmcoaS5vdXRwdXQsZSk7aS5uZXh0X291dD10LGkuYXZhaWxfb3V0PW4tdCx0JiZpLm91dHB1dC5zZXQoaS5vdXRwdXQuc3ViYXJyYXkoZSxlK3QpLDApLHRoaXMub25EYXRhKHIpfWVsc2UgdGhpcy5vbkRhdGEoaS5vdXRwdXQubGVuZ3RoPT09aS5uZXh0X291dD9pLm91dHB1dDppLm91dHB1dC5zdWJhcnJheSgwLGkubmV4dF9vdXQpKTtpZihvIT09R0h8fDAhPT1hKXtpZihvPT09V0gpcmV0dXJuIG89eEguaW5mbGF0ZUVuZCh0aGlzLnN0cm0pLHRoaXMub25FbmQobyksdGhpcy5lbmRlZD0hMCwhMDtpZigwPT09aS5hdmFpbF9pbilicmVha319cmV0dXJuITB9LHpILnByb3RvdHlwZS5vbkRhdGE9ZnVuY3Rpb24oZSl7dGhpcy5jaHVua3MucHVzaChlKX0sekgucHJvdG90eXBlLm9uRW5kPWZ1bmN0aW9uKGUpe2U9PT1HSCYmKFwic3RyaW5nXCI9PT10aGlzLm9wdGlvbnMudG8/dGhpcy5yZXN1bHQ9dGhpcy5jaHVua3Muam9pbihcIlwiKTp0aGlzLnJlc3VsdD1QVy5mbGF0dGVuQ2h1bmtzKHRoaXMuY2h1bmtzKSksdGhpcy5jaHVua3M9W10sdGhpcy5lcnI9ZSx0aGlzLm1zZz10aGlzLnN0cm0ubXNnfTt2YXIgWEg9e0luZmxhdGU6ekgsaW5mbGF0ZTpKSCxpbmZsYXRlUmF3OmZ1bmN0aW9uKGUsdCl7cmV0dXJuKHQ9dHx8e30pLnJhdz0hMCxKSChlLHQpfSx1bmd6aXA6SkgsY29uc3RhbnRzOkFHfTtjb25zdHtEZWZsYXRlOlFILGRlZmxhdGU6WkgsZGVmbGF0ZVJhdzokSCxnemlwOmVLfT1KVyx7SW5mbGF0ZTp0SyxpbmZsYXRlOmlLLGluZmxhdGVSYXc6bkssdW5nemlwOnJLfT1YSDt2YXIgb0s9Wkgsc0s9aUssYUs9ZnVuY3Rpb24oZSl7cmV0dXJuIGVbZS5PTkVfQllURT0wXT1cIk9ORV9CWVRFXCIsZVtlLlRXT19CWVRFPTFdPVwiVFdPX0JZVEVcIixlfShhS3x8e30pO2NsYXNzIGNLe2NvbnN0cnVjdG9yKCl7b2codGhpcyxcIl9zZXF1ZW5jZVwiLDApLG9nKHRoaXMsXCJfc3RhcnRUaW1lXCIsRGF0ZS5ub3coKSksb2codGhpcyxcImlzVXNlT25lQnl0ZVwiLCEwKX1nZXQgc3RhcnRUaW1lKCl7Y29uc3QgZT1EYXRlLm5vdygpLXRoaXMuX3N0YXJ0VGltZTtyZXR1cm4gZTxNYXRoLnBvdygyLDE2KT9lOih0aGlzLl9zdGFydFRpbWUrPU1hdGgucG93KDIsMTYpLHRoaXMuc3RhcnRUaW1lKX1nZXQgc2VxdWVuY2UoKXtyZXR1cm4gdGhpcy5fc2VxdWVuY2U8TWF0aC5wb3coMiwzMik/dGhpcy5fc2VxdWVuY2UrKzoodGhpcy5fc2VxdWVuY2UtPU1hdGgucG93KDIsMzIpLHRoaXMuc2VxdWVuY2UpfXNlcmlhbGl6ZShlKXtjb25zdCB0PXtjb21tb25QYWNrZXRIZWFkZXI6e2xlbmd0aDowLHJlc2VydmVkOjAsZXh0ZW5zaW9uOjAsc2VxdWVuY2U6dGhpcy5zZXF1ZW5jZX0sY29tbW9uU3RyZWFtSGVhZGVyOnRoaXMuc3RhcnRUaW1lLGV4dGVuc2lvbjp2b2lkIDAscGF5bG9hZDplfTtpZihlLmJ5dGVMZW5ndGg+MTI4KXtjb25zdCBpPW5ldyBVaW50OEFycmF5KDQpO2kuc2V0KFsxLDAsMCwwXSk7Y29uc3Qgbj17aWQ6MCxsZW5ndGg6NCxkYXRhOmkuYnVmZmVyfSxyPXtwcm9maWxlOnRoaXMuaXNVc2VPbmVCeXRlPzA6MSxsZW5ndGg6dGhpcy5pc1VzZU9uZUJ5dGU/NTo2LGRhdGFzOltuXX07dC5jb21tb25QYWNrZXRIZWFkZXIuZXh0ZW5zaW9uPTEsdC5leHRlbnNpb249cix0LnBheWxvYWQ9dGhpcy5jb21wcmVzcyhlKSx0LmNvbW1vblBhY2tldEhlYWRlci5sZW5ndGg9OCsodC5leHRlbnNpb24ubGVuZ3RoKzIpK3QucGF5bG9hZC5ieXRlTGVuZ3RofWVsc2UgdC5jb21tb25QYWNrZXRIZWFkZXIubGVuZ3RoPTgrdC5wYXlsb2FkLmJ5dGVMZW5ndGg7RHkoXCJTSE9XX0RBVEFTVFJFQU0yX0xPR1wiKSYmUXkuZGVidWcoXCJzZW5kIGRhdGEgaGVhZGVyOiBcIi5jb25jYXQoSlNPTi5zdHJpbmdpZnkodC5jb21tb25QYWNrZXRIZWFkZXIpKSk7Y29uc3QgaT1uZXcgQXJyYXlCdWZmZXIodC5jb21tb25QYWNrZXRIZWFkZXIubGVuZ3RoKSxuPW5ldyBVaW50OEFycmF5KGkpLHI9bmV3IERhdGFWaWV3KGkpO2xldCBvPTA7aWYoci5zZXRVaW50MTYobyx0LmNvbW1vblBhY2tldEhlYWRlci5leHRlbnNpb248PDE1fHQuY29tbW9uUGFja2V0SGVhZGVyLnJlc2VydmVkPDwxNHx0LmNvbW1vblBhY2tldEhlYWRlci5sZW5ndGgsITApLG8rPTIsci5zZXRVaW50MzIobyx0LmNvbW1vblBhY2tldEhlYWRlci5zZXF1ZW5jZSwhMCksbys9NCxyLnNldFVpbnQxNihvLHQuY29tbW9uU3RyZWFtSGVhZGVyLCEwKSxvKz0yLHQuZXh0ZW5zaW9uKXtjb25zdCBlPXRoaXMuc2VyaWFsaXplRXh0ZW5zaW9uKHQuZXh0ZW5zaW9uKTtuLnNldChuZXcgVWludDhBcnJheShlKSxvKSxvKz1lLmJ5dGVMZW5ndGh9aWYobi5zZXQobmV3IFVpbnQ4QXJyYXkodC5wYXlsb2FkKSxvKSxvKz10LnBheWxvYWQuYnl0ZUxlbmd0aCxvIT09dC5jb21tb25QYWNrZXRIZWFkZXIubGVuZ3RoKXRocm93IEVycm9yKFwic2VyaWFsaXplIGVycm9yIVwiKTtyZXR1cm4gaX1kZXNlcmlhbGl6ZShlKXtpZihlLmJ5dGVMZW5ndGg8NClyZXR1cm4gbmV3IEFycmF5QnVmZmVyKDApO2NvbnN0IHQ9bmV3IERhdGFWaWV3KGUpO2xldCBpPTA7Y29uc3Qgbj10LmdldFVpbnQxNihpLCEwKTtpKz0yO2NvbnN0IHI9e2xlbmd0aDoxNjM4MyZuLHJlc2VydmVkOigxNjM4NCZuKT4+MTQsZXh0ZW5zaW9uOigzMjc2OCZuKT4+MTUsc2VxdWVuY2U6dC5nZXRVaW50MTYoaSsyLCEwKTw8MTZ8dC5nZXRVaW50MTYoaSwhMCl9O2xldCBvLHM7aWYoaSs9NCxEeShcIlNIT1dfREFUQVNUUkVBTTJfTE9HXCIpJiZReS5kZWJ1ZyhcInJlY2VpdmUgZGF0YSBoZWFkZXI6IFwiLmNvbmNhdChKU09OLnN0cmluZ2lmeShyKSkpLHQuZ2V0VWludDE2KGksITApLGkrPTIsci5leHRlbnNpb24pe3M9dGhpcy5kZXNlcmlhbGl6ZUV4dGVuc2lvbihlLnNsaWNlKGkpKSxpKz0yK3MubGVuZ3RoLG89ZS5zbGljZShpKTtsZXQgdD0hMTtpZihzLmRhdGFzLmxlbmd0aD4wKXtjb25zdCBlPXMuZGF0YXMuZmluZCgoZT0+MD09PWUuaWQpKTtpZihlKXt0PTE9PSgxJm5ldyBEYXRhVmlldyhlLmRhdGEpLmdldFVpbnQzMigwLCEwKSl9fW89dD90aGlzLmRlY29tcHJlc3Mobyk6b31lbHNlIG89ZS5zbGljZSg4KTtyZXR1cm4gb31zZXJpYWxpemVFeHRlbnNpb24oZSl7Y29uc3R7cHJvZmlsZTp0LGxlbmd0aDppLGRhdGFzOm59PWUscj1uZXcgQXJyYXlCdWZmZXIoaSsyKSxvPW5ldyBVaW50OEFycmF5KHIpLHM9bmV3IERhdGFWaWV3KHIpO2xldCBhPTA7aWYocy5zZXRVaW50OChhKyssdCkscy5zZXRVaW50OChhKyssaSksbi5mb3JFYWNoKChlPT57dD8ocy5zZXRVaW50OChhKyssZS5pZCkscy5zZXRVaW50OChhKyssZS5sZW5ndGgpLG8uc2V0KG5ldyBVaW50OEFycmF5KGUuZGF0YSksYSksYSs9ZS5kYXRhLmJ5dGVMZW5ndGgpOihzLnNldFVpbnQ4KGErKyxlLmlkfGUubGVuZ3RoPDw0KSxvLnNldChuZXcgVWludDhBcnJheShlLmRhdGEpLGEpLGErPWUuZGF0YS5ieXRlTGVuZ3RoKX0pKSxhIT09aSsyKXRocm93IEVycm9yKFwic2VyaWFsaXplIGV4dGVuc2lvbiBlcnJvciwgaXMgXCIuY29uY2F0KGEsXCIhPT1cIikuY29uY2F0KGkrMikpO3JldHVybiByfWRlc2VyaWFsaXplRXh0ZW5zaW9uKGUpe2NvbnN0IHQ9bmV3IERhdGFWaWV3KGUpO2xldCBpPTA7Y29uc3Qgbj10LmdldFVpbnQ4KGkpO2krKztjb25zdCByPXQuZ2V0VWludDgoaSk7aSsrO2NvbnN0IG89bj09PWFLLlRXT19CWVRFLHM9W10sYT1uZXcgRGF0YVZpZXcoZSwyKTtsZXQgYz0wO2Zvcig7YzxyOyl7bGV0IGU9MCx0PTAsaT1uZXcgQXJyYXlCdWZmZXIoMCk7bz8oZT1hLmdldFVpbnQ4KGMpLGMrKyx0PWEuZ2V0VWludDgoYyksYysrKTooZT0xNSZhLmdldFVpbnQ4KGMpLHQ9YS5nZXRVaW50OChjKT4+NCxjKyspLHQ+MCYmKGk9YS5idWZmZXIuc2xpY2UoYysyLGMrMit0KSxjKz1pLmJ5dGVMZW5ndGgpLHMucHVzaCh7aWQ6ZSxsZW5ndGg6dCxkYXRhOml9KX1pZihjIT09cil0aHJvdyBFcnJvcihcInBhcnNlIGVycm9yXCIpO3JldHVybntwcm9maWxlOm4sbGVuZ3RoOnIsZGF0YXM6c319ZGVjb21wcmVzcyhlKXtyZXR1cm4gc0sobmV3IFVpbnQ4QXJyYXkoZSkpfWNvbXByZXNzKGUpe3JldHVybiBvSyhuZXcgVWludDhBcnJheShlKSl9fWNvbnN0IGRLPXtuYW1lOlwiRGF0YVN0cmVhbVwiLGNyZWF0ZTooZSx0KT0+e2NvbnN0IGk9dD9uZXcgbE0oZSk6bmV3IHVNKGUpO3JldHVybiBpLnVzZURhdGFTdHJlYW0obmV3IGNLKSxpfX07Y2xhc3MgbEsgZXh0ZW5kcyBTdntjb25zdHJ1Y3RvcihlLHQsaSl7c3VwZXIoKSxvZyh0aGlzLFwid3NcIix2b2lkIDApLG9nKHRoaXMsXCJyZXF1ZXN0SWRcIiwxKSxvZyh0aGlzLFwiaGVhcnRCZWF0VGltZXJcIix2b2lkIDApLG9nKHRoaXMsXCJqb2luSW5mb1wiLHZvaWQgMCksb2codGhpcyxcImNsaWVudElkXCIsdm9pZCAwKSxvZyh0aGlzLFwib25PcGVuXCIsKCgpPT57dGhpcy5lbWl0KFwib3BlblwiKSx0aGlzLnN0YXJ0SGVhcnRCZWF0Q2hlY2soKX0pKSxvZyh0aGlzLFwib25DbG9zZVwiLChlPT57dGhpcy5lbWl0KFwiY2xvc2VcIiksdGhpcy5kaXNwb3NlKCl9KSksb2codGhpcyxcIm9uTWVzc2FnZVwiLChlPT57Y29uc3QgdD1KU09OLnBhcnNlKGUuZGF0YSk7aWYoIXR8fFwic2VydmVyUmVzcG9uc2VcIiE9PXQuY29tbWFuZHx8IXQucmVxdWVzdElkKXJldHVybiB0JiZcInNlcnZlclN0YXR1c1wiPT09dC5jb21tYW5kJiZ0LnNlcnZlclN0YXR1cyYmdC5zZXJ2ZXJTdGF0dXMuY29tbWFuZD8odGhpcy5lbWl0KFwic3RhdHVzXCIsdC5zZXJ2ZXJTdGF0dXMpLHZvaWQgdGhpcy5lbWl0KHQuc2VydmVyU3RhdHVzLmNvbW1hbmQsdC5zZXJ2ZXJTdGF0dXMpKTp2b2lkIDA7dGhpcy5lbWl0KFwicmVxX1wiLmNvbmNhdCh0LnJlcXVlc3RJZCksdCl9KSksdGhpcy5qb2luSW5mbz1lLHRoaXMuY2xpZW50SWQ9dCx0aGlzLndzPW5ldyBidyhcImNyb3NzLWNoYW5uZWwtXCIuY29uY2F0KHRoaXMuY2xpZW50SWQpLGkpLHRoaXMud3Mub24oVGIuUkVDT05ORUNUSU5HLCgoKT0+e3RoaXMud3MucmVjb25uZWN0TW9kZT1cInJldHJ5XCIsdGhpcy5lbWl0KFwicmVjb25uZWN0aW5nXCIpfSkpLHRoaXMud3Mub24oVGIuQ09OTkVDVEVELHRoaXMub25PcGVuKSx0aGlzLndzLm9uKFRiLk9OX01FU1NBR0UsdGhpcy5vbk1lc3NhZ2UpLHRoaXMud3Mub24oVGIuQ0xPU0VELHRoaXMub25DbG9zZSl9aXNDb25uZWN0KCl7cmV0dXJuXCJjb25uZWN0ZWRcIj09PXRoaXMud3Muc3RhdGV9c2VuZE1lc3NhZ2UoZSl7Y29uc3QgdD10aGlzLnJlcXVlc3RJZCsrO3JldHVybiBlLnJlcXVlc3RJZD10LGUuc2VxPXQsdGhpcy53cy5zZW5kTWVzc2FnZShlKSx0fXdhaXRTdGF0dXMoZSl7cmV0dXJuIG5ldyBHaCgoKHQsaSk9Pntjb25zdCBuPXdpbmRvdy5zZXRUaW1lb3V0KCgoKT0+e2kobmV3IFNiKG52LlRJTUVPVVQsXCJ3YWl0IHN0YXR1cyB0aW1lb3V0LCBzdGF0dXM6IFwiLmNvbmNhdChlKSkpfSksNWUzKTt0aGlzLm9uY2UoZSwocj0+e3dpbmRvdy5jbGVhclRpbWVvdXQobiksci5zdGF0ZSYmMCE9PXIuc3RhdGU/aShuZXcgU2IobnYuQ1JPU1NfQ0hBTk5FTF9XQUlUX1NUQVRVU19FUlJPUixcIndhaXQgc3RhdHVzIGVycm9yLCBzdGF0dXM6IFwiLmNvbmNhdChlKSkpOnQodm9pZCAwKX0pKSx0aGlzLm9uY2UoXCJkaXNwb3NlXCIsKCgpPT57d2luZG93LmNsZWFyVGltZW91dChuKSxpKG5ldyBTYihudi5XU19BQk9SVCkpfSkpfSkpfWFzeW5jIHJlcXVlc3QoZSl7aWYoXCJjbG9zZWRcIj09PXRoaXMud3Muc3RhdGUpdGhyb3cgbmV3IFNiKG52LldTX0RJU0NPTk5FQ1QpO2NvbnN0IHQ9KCk9Pm5ldyBHaCgoKGUsdCk9Pnt0aGlzLndzLm9uY2UoVGIuQ0xPU0VELCgoKT0+dChuZXcgU2IobnYuV1NfQUJPUlQpKSkpLHRoaXMud3Mub25jZShUYi5DT05ORUNURUQsZSl9KSk7XCJjb25uZWN0ZWRcIiE9PXRoaXMud3Muc3RhdGUmJmF3YWl0IHQoKTtjb25zdCBpPXRoaXMuc2VuZE1lc3NhZ2UoZSksbj1uZXcgR2goKChlLHQpPT57Y29uc3Qgbj0oKT0+e3QobmV3IFNiKG52LldTX0FCT1JUKSl9O3RoaXMud3Mub25jZShUYi5SRUNPTk5FQ1RJTkcsbiksdGhpcy53cy5vbmNlKFRiLkNMT1NFRCxuKSx0aGlzLm9uY2UoXCJyZXFfXCIuY29uY2F0KGkpLGUpLCR2KDNlMykudGhlbigoKCk9Pnt0aGlzLnJlbW92ZUFsbExpc3RlbmVycyhcInJlcV9cIi5jb25jYXQoaSkpLHRoaXMud3Mub2ZmKFRiLlJFQ09OTkVDVElORyxuKSx0aGlzLndzLm9mZihUYi5DTE9TRUQsbiksdChuZXcgU2IobnYuVElNRU9VVCxcImNyb3NzIGNoYW5uZWwgd3MgcmVxdWVzdCB0aW1lb3V0XCIpKX0pKX0pKSxyPWF3YWl0IG47aWYoIXJ8fDIwMCE9PXIuY29kZSl0aHJvdyBuZXcgU2IobnYuQ1JPU1NfQ0hBTk5FTF9TRVJWRVJfRVJST1JfUkVTUE9OU0UsXCJyZXNwb25zZTogXCIuY29uY2F0KEpTT04uc3RyaW5naWZ5KHIpKSk7cmV0dXJuIHJ9YXN5bmMgY29ubmVjdChlKXt0aGlzLndzLnJlbW92ZUFsbExpc3RlbmVycyhUYi5SRVFVRVNUX05FV19VUkxTKSx0aGlzLndzLm9uKFRiLlJFUVVFU1RfTkVXX1VSTFMsKHQ9Pnt0KGUpfSkpLGF3YWl0IHRoaXMud3MuaW5pdChlKX1kaXNwb3NlKCl7dGhpcy5jbGVhckhlYXJ0QmVhdENoZWNrKCksdGhpcy5lbWl0KFwiZGlzcG9zZVwiKSx0aGlzLnJlbW92ZUFsbExpc3RlbmVycygpLHRoaXMud3MuY2xvc2UoKX1zZW5kUGluZyhlKXtjb25zdCB0PXRoaXMucmVxdWVzdElkKys7cmV0dXJuIGUucmVxdWVzdElkPXQsdGhpcy53cy5zZW5kTWVzc2FnZShlKSx0fXN0YXJ0SGVhcnRCZWF0Q2hlY2soKXt0aGlzLmhlYXJ0QmVhdFRpbWVyJiZ3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLmhlYXJ0QmVhdFRpbWVyKSx0aGlzLmhlYXJ0QmVhdFRpbWVyPXdpbmRvdy5zZXRJbnRlcnZhbCgoKCk9Pnt0aGlzLnNlbmRQaW5nKHtjb21tYW5kOlwicGluZ1wiLGFwcElkOnRoaXMuam9pbkluZm8uYXBwSWQsY25hbWU6dGhpcy5qb2luSW5mby5jbmFtZSx1aWQ6dGhpcy5qb2luSW5mby51aWQudG9TdHJpbmcoKSxzaWQ6dGhpcy5qb2luSW5mby5zaWQsdHM6K25ldyBEYXRlLHJlcXVlc3RJZDowfSl9KSwzZTMpfWNsZWFySGVhcnRCZWF0Q2hlY2soKXt3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLmhlYXJ0QmVhdFRpbWVyKSx0aGlzLmhlYXJ0QmVhdFRpbWVyPXZvaWQgMH19Y2xhc3MgdUsgZXh0ZW5kcyBTdntzZXQgc3RhdGUoZSl7ZSE9PXRoaXMuX3N0YXRlJiYoZSE9PUxiLlJFTEFZX1NUQVRFX0ZBSUxVUkUmJih0aGlzLmVycm9yQ29kZT1rYi5SRUxBWV9PSyksdGhpcy5lbWl0KFwic3RhdGVcIixlLHRoaXMuZXJyb3JDb2RlKSx0aGlzLl9zdGF0ZT1lKX1nZXQgc3RhdGUoKXtyZXR1cm4gdGhpcy5fc3RhdGV9Y29uc3RydWN0b3IoZSx0LGksbixyKXtzdXBlcigpLG9nKHRoaXMsXCJqb2luSW5mb1wiLHZvaWQgMCksb2codGhpcyxcInNpZFwiLHZvaWQgMCksb2codGhpcyxcImNsaWVudElkXCIsdm9pZCAwKSxvZyh0aGlzLFwiY2FuY2VsVG9rZW5cIixFSS5DYW5jZWxUb2tlbi5zb3VyY2UoKSksb2codGhpcyxcIndvcmtlclRva2VuXCIsdm9pZCAwKSxvZyh0aGlzLFwicmVxdWVzdElkXCIsMCksb2codGhpcyxcInNpZ25hbFwiLHZvaWQgMCksb2codGhpcyxcInByZXZDaGFubmVsTWVkaWFDb25maWdcIix2b2lkIDApLG9nKHRoaXMsXCJodHRwUmV0cnlDb25maWdcIix2b2lkIDApLG9nKHRoaXMsXCJfcmVzb2x1dGlvblwiLHZvaWQgMCksb2codGhpcyxcIl9zdGF0ZVwiLExiLlJFTEFZX1NUQVRFX0lETEUpLG9nKHRoaXMsXCJlcnJvckNvZGVcIixrYi5SRUxBWV9PSyksb2codGhpcyxcIm9uU3RhdHVzXCIsKGU9PntReS5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIl0gQ2hhbm5lbE1lZGlhU3RhdHVzOiBcIikuY29uY2F0KEpTT04uc3RyaW5naWZ5KGUpKSksZSYmZS5jb21tYW5kJiYoXCJvbkF1ZGlvUGFja2V0UmVjZWl2ZWRcIj09PWUuY29tbWFuZCYmdGhpcy5lbWl0KFwiZXZlbnRcIixQYi5QQUNLRVRfUkVDRUlWRURfQVVESU9fRlJPTV9TUkMpLFwib25WaWRlb1BhY2tldFJlY2VpdmVkXCI9PT1lLmNvbW1hbmQmJnRoaXMuZW1pdChcImV2ZW50XCIsUGIuUEFDS0VUX1JFQ0VJVkVEX1ZJREVPX0ZST01fU1JDKSxcIm9uU3JjVG9rZW5Qcml2aWxlZ2VEaWRFeHBpcmVcIj09PWUuY29tbWFuZCYmKHRoaXMuZXJyb3JDb2RlPWtiLlNSQ19UT0tFTl9FWFBJUkVELHRoaXMuc3RhdGU9TGIuUkVMQVlfU1RBVEVfRkFJTFVSRSksXCJvbkRlc3RUb2tlblByaXZpbGVnZURpZEV4cGlyZVwiPT09ZS5jb21tYW5kJiYodGhpcy5lcnJvckNvZGU9a2IuREVTVF9UT0tFTl9FWFBJUkVELHRoaXMuc3RhdGU9TGIuUkVMQVlfU1RBVEVfRkFJTFVSRSkpfSkpLG9nKHRoaXMsXCJvblJlY29ubmVjdFwiLChhc3luYygpPT57UXkuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCJdIENoYW5uZWxNZWRpYVNvY2tldCBkaXNjb25uZWN0LCByZWNvbm5lY3RpbmdcIikpLHRoaXMuZW1pdChcImV2ZW50XCIsUGIuTkVUV09SS19ESVNDT05ORUNURUQpLHRoaXMuc3RhdGU9TGIuUkVMQVlfU1RBVEVfSURMRSx0aGlzLnByZXZDaGFubmVsTWVkaWFDb25maWcmJnRoaXMuc2VuZFN0YXJ0UmVsYXlNZXNzYWdlKHRoaXMucHJldkNoYW5uZWxNZWRpYUNvbmZpZykuY2F0Y2goKGU9Pnt0aGlzLnN0YXRlIT09TGIuUkVMQVlfU1RBVEVfSURMRSYmKFF5LmVycm9yKFwiYXV0byByZXN0YXJ0IGNoYW5uZWwgbWVkaWEgcmVsYXkgZmFpbGVkXCIsZS50b1N0cmluZygpKSx0aGlzLmVycm9yQ29kZT1rYi5TRVJWRVJfQ09OTkVDVElPTl9MT1NULHRoaXMuc3RhdGU9TGIuUkVMQVlfU1RBVEVfRkFJTFVSRSl9KSl9KSksdGhpcy5qb2luSW5mbz1lLHRoaXMuY2xpZW50SWQ9dCx0aGlzLnNpZD10eSgpLHRoaXMuc2lnbmFsPW5ldyBsSyh0aGlzLmpvaW5JbmZvLHRoaXMuY2xpZW50SWQsaSksdGhpcy5odHRwUmV0cnlDb25maWc9bix0aGlzLl9yZXNvbHV0aW9uPXJ9YXN5bmMgc3RhcnRDaGFubmVsTWVkaWFSZWxheShlKXtpZih0aGlzLnN0YXRlIT09TGIuUkVMQVlfU1RBVEVfSURMRSl0aHJvdyBuZXcgU2IobnYuSU5WQUxJRF9PUEVSQVRJT04pO3RoaXMuc3RhdGU9TGIuUkVMQVlfU1RBVEVfQ09OTkVDVElORyxhd2FpdCB0aGlzLmNvbm5lY3QoKSxReS5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIl0gc3RhcnRDaGFubmVsTWVkaWFSZWxheTogY29ubmVjdCBzdWNjZXNzXCIpKTt0cnl7YXdhaXQgdGhpcy5zZW5kU3RhcnRSZWxheU1lc3NhZ2UoZSl9Y2F0Y2goZSl7aWYoZS5kYXRhJiZlLmRhdGEuc2VydmVyUmVzcG9uc2UmJlwiU2V0U291cmNlQ2hhbm5lbFwiPT09ZS5kYXRhLnNlcnZlclJlc3BvbnNlLmNvbW1hbmQpdGhyb3cgbmV3IFNiKG52LkNST1NTX0NIQU5ORUxfRkFJTEVEX0pPSU5fU1JDKTtpZihlLmRhdGEmJmUuZGF0YS5zZXJ2ZXJSZXNwb25zZSYmXCJTZXREZXN0Q2hhbm5lbFN0YXR1c1wiPT09ZS5zZXJ2ZXJSZXNwb25zZS5jb21tYW5kKXRocm93IG5ldyBTYihudi5DUk9TU19DSEFOTkVMX0ZBSUxFRF9KT0lOX0RFU1QpO2lmKGUuZGF0YSYmZS5kYXRhLnNlcnZlclJlc3BvbnNlJiZcIlN0YXJ0UGFja2V0VHJhbnNmZXJcIj09PWUuc2VydmVyUmVzcG9uc2UuY29tbWFuZCl0aHJvdyBuZXcgU2IobnYuQ1JPU1NfQ0hBTk5FTF9GQUlMRURfUEFDS0VUX1NFTlRfVE9fREVTVCk7dGhyb3cgZX10aGlzLnByZXZDaGFubmVsTWVkaWFDb25maWc9ZX1hc3luYyB1cGRhdGVDaGFubmVsTWVkaWFSZWxheShlKXtpZih0aGlzLnN0YXRlIT09TGIuUkVMQVlfU1RBVEVfUlVOTklORyl0aHJvdyBuZXcgU2IobnYuSU5WQUxJRF9PUEVSQVRJT04pO2F3YWl0IHRoaXMuc2VuZFVwZGF0ZU1lc3NhZ2UoZSksdGhpcy5wcmV2Q2hhbm5lbE1lZGlhQ29uZmlnPWV9YXN5bmMgc2V0VmlkZW9Qcm9maWxlKGUpe2lmKHRoaXMuX3Jlc29sdXRpb249ZSx0aGlzLnN0YXRlIT09TGIuUkVMQVlfU1RBVEVfUlVOTklORyl0aHJvdyBuZXcgU2IobnYuSU5WQUxJRF9PUEVSQVRJT04pO2NvbnN0IHQ9dGhpcy5nZW5NZXNzYWdlKERiLlNldFZpZGVvUHJvZmlsZSk7YXdhaXQgdGhpcy5zaWduYWwucmVxdWVzdCh0KSxReS5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIl0gc3RhcnRDaGFubmVsTWVkaWFSZWxheTogc2V0VmlkZW9Qcm9maWxlIHN1Y2Nlc3NcIikpfWFzeW5jIHN0b3BDaGFubmVsTWVkaWFSZWxheSgpe2F3YWl0IHRoaXMuc2VuZFN0b3BSZWxheU1lc3NhZ2UoKSxReS5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIl0gc3RvcENoYW5uZWxNZWRpYVJlbGF5OiBzZW5kIHN0b3AgbWVzc2FnZSBzdWNjZXNzXCIpKSx0aGlzLnN0YXRlPUxiLlJFTEFZX1NUQVRFX0lETEUsdGhpcy5kaXNwb3NlKCl9ZGlzcG9zZSgpe1F5LmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmNsaWVudElkLFwiXSBkaXNwb3NlQ2hhbm5lbE1lZGlhUmVsYXlcIikpLHRoaXMuY2FuY2VsVG9rZW4uY2FuY2VsKCksdGhpcy5jYW5jZWxUb2tlbj1FSS5DYW5jZWxUb2tlbi5zb3VyY2UoKSx0aGlzLnN0YXRlPUxiLlJFTEFZX1NUQVRFX0lETEUsdGhpcy5lbWl0KFwiZGlzcG9zZVwiKSx0aGlzLnNpZ25hbC5kaXNwb3NlKCksdGhpcy5wcmV2Q2hhbm5lbE1lZGlhQ29uZmlnPXZvaWQgMH1hc3luYyBjb25uZWN0KCl7Y29uc3QgZT1hd2FpdCBrVSh0aGlzLmpvaW5JbmZvLHRoaXMuY2FuY2VsVG9rZW4udG9rZW4sdGhpcy5odHRwUmV0cnlDb25maWcpO3RoaXMud29ya2VyVG9rZW49ZS53b3JrZXJUb2tlbixhd2FpdCB0aGlzLnNpZ25hbC5jb25uZWN0KGUuYWRkcmVzc0xpc3QpLHRoaXMuZW1pdChcImV2ZW50XCIsUGIuTkVUV09SS19DT05ORUNURUQpLHRoaXMuc2lnbmFsLm9uKFwic3RhdHVzXCIsdGhpcy5vblN0YXR1cyksdGhpcy5zaWduYWwub24oXCJyZWNvbm5lY3RpbmdcIix0aGlzLm9uUmVjb25uZWN0KX1hc3luYyBzZW5kU3RhcnRSZWxheU1lc3NhZ2UoZSl7Y29uc3QgdD10aGlzLmdlbk1lc3NhZ2UoRGIuU3RvcFBhY2tldFRyYW5zZmVyKTthd2FpdCB0aGlzLnNpZ25hbC5yZXF1ZXN0KHQpLGF3YWl0IHRoaXMuc2lnbmFsLndhaXRTdGF0dXMoXCJOb3JtYWwgUXVpdFwiKSxReS5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIl0gc3RhcnRDaGFubmVsTWVkaWFSZWxheTogU3RvcFBhY2tldFRyYW5zZmVyIHN1Y2Nlc3NcIikpO2NvbnN0IGk9dGhpcy5nZW5NZXNzYWdlKERiLlNldFNka1Byb2ZpbGUsZSk7YXdhaXQgdGhpcy5zaWduYWwucmVxdWVzdChpKSxReS5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIl0gc3RhcnRDaGFubmVsTWVkaWFSZWxheTogU2V0U2RrUHJvZmlsZSBzdWNjZXNzXCIpKTtjb25zdCBuPXRoaXMuZ2VuTWVzc2FnZShEYi5TZXRTb3VyY2VDaGFubmVsLGUpO2F3YWl0IHRoaXMuc2lnbmFsLnJlcXVlc3QobiksYXdhaXQgdGhpcy5zaWduYWwud2FpdFN0YXR1cyhcIlNldFNvdXJjZUNoYW5uZWxTdGF0dXNcIiksdGhpcy5lbWl0KFwiZXZlbnRcIixQYi5QQUNLRVRfSk9JTkVEX1NSQ19DSEFOTkVMKSxReS5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIl0gc3RhcnRDaGFubmVsTWVkaWFSZWxheTogU2V0U291cmNlQ2hhbm5lbCBzdWNjZXNzXCIpKTtjb25zdCByPXRoaXMuZ2VuTWVzc2FnZShEYi5TZXRTb3VyY2VVc2VySWQsZSk7YXdhaXQgdGhpcy5zaWduYWwucmVxdWVzdChyKSxReS5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIl0gc3RhcnRDaGFubmVsTWVkaWFSZWxheTogU2V0U291cmNlVXNlcklkIHN1Y2Nlc3NcIikpO2NvbnN0IG89dGhpcy5nZW5NZXNzYWdlKERiLlNldERlc3RDaGFubmVsLGUpO2F3YWl0IHRoaXMuc2lnbmFsLnJlcXVlc3QobyksYXdhaXQgdGhpcy5zaWduYWwud2FpdFN0YXR1cyhcIlNldERlc3RDaGFubmVsU3RhdHVzXCIpLHRoaXMuZW1pdChcImV2ZW50XCIsUGIuUEFDS0VUX0pPSU5FRF9ERVNUX0NIQU5ORUwpLFF5LmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmNsaWVudElkLFwiXSBzdGFydENoYW5uZWxNZWRpYVJlbGF5OiBTZXREZXN0Q2hhbm5lbCBzdWNjZXNzXCIpKTtjb25zdCBzPXRoaXMuZ2VuTWVzc2FnZShEYi5TdGFydFBhY2tldFRyYW5zZmVyLGUpO2F3YWl0IHRoaXMuc2lnbmFsLnJlcXVlc3QocyksdGhpcy5lbWl0KFwiZXZlbnRcIixQYi5QQUNLRVRfU0VOVF9UT19ERVNUX0NIQU5ORUwpLHRoaXMuc3RhdGU9TGIuUkVMQVlfU1RBVEVfUlVOTklORyxReS5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5jbGllbnRJZCxcIl0gc3RhcnRDaGFubmVsTWVkaWFSZWxheTogU3RhcnRQYWNrZXRUcmFuc2ZlciBzdWNjZXNzXCIpKSx0aGlzLnNldFZpZGVvUHJvZmlsZSh0aGlzLl9yZXNvbHV0aW9uKX1hc3luYyBzZW5kVXBkYXRlTWVzc2FnZShlKXtjb25zdCB0PXRoaXMuZ2VuTWVzc2FnZShEYi5VcGRhdGVEZXN0Q2hhbm5lbCxlKTthd2FpdCB0aGlzLnNpZ25hbC5yZXF1ZXN0KHQpLHRoaXMuZW1pdChcImV2ZW50XCIsUGIuUEFDS0VUX1VQREFURV9ERVNUX0NIQU5ORUwpLFF5LmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLmNsaWVudElkLFwiXSBzZW5kVXBkYXRlTWVzc2FnZTogVXBkYXRlRGVzdENoYW5uZWwgc3VjY2Vzc1wiKSl9YXN5bmMgc2VuZFN0b3BSZWxheU1lc3NhZ2UoKXtjb25zdCBlPXRoaXMuZ2VuTWVzc2FnZShEYi5TdG9wUGFja2V0VHJhbnNmZXIpO2F3YWl0IHRoaXMuc2lnbmFsLnJlcXVlc3QoZSksUXkuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuY2xpZW50SWQsXCJdIHNlbmRTdG9wUmVsYXlNZXNzYWdlOiBTdG9wUGFja2V0VHJhbnNmZXIgc3VjY2Vzc1wiKSl9Z2VuTWVzc2FnZShlLHQpe2NvbnN0IGk9W10sbj1bXSxyPVtdO3RoaXMucmVxdWVzdElkKz0xO2NvbnN0IG89e2FwcElkOnRoaXMuam9pbkluZm8uYXBwSWQsY25hbWU6dGhpcy5qb2luSW5mby5jbmFtZSx1aWQ6dGhpcy5qb2luSW5mby51aWQudG9TdHJpbmcoKSxzZGtWZXJzaW9uOnZ5LHNpZDp0aGlzLnNpZCx0czpEYXRlLm5vdygpLHJlcXVlc3RJZDp0aGlzLnJlcXVlc3RJZCxzZXE6dGhpcy5yZXF1ZXN0SWQsYWxsb2NhdGU6ITAsY2xpZW50UmVxdWVzdDp7fX07XCI0LjIyLjBcIj09PW8uc2RrVmVyc2lvbiYmKG8uc2RrVmVyc2lvbj1cIjAuMC4xXCIpO2xldCBzPW51bGwsYT1udWxsO3N3aXRjaChlKXtjYXNlIERiLlNldFNka1Byb2ZpbGU6cmV0dXJuIG8uY2xpZW50UmVxdWVzdD17Y29tbWFuZDpcIlNldFNka1Byb2ZpbGVcIix0eXBlOlwibXVsdGlfY2hhbm5lbFwifSxvO2Nhc2UgRGIuU2V0U291cmNlQ2hhbm5lbDppZihhPXQmJnQuZ2V0U3JjQ2hhbm5lbE1lZGlhSW5mbygpLCFhKXRocm93IG5ldyBTYihudi5VTkVYUEVDVEVEX0VSUk9SLFwiY2FuIG5vdCBmaW5kIHNvdXJjZSBjb25maWdcIik7cmV0dXJuIG8uY2xpZW50UmVxdWVzdD17Y29tbWFuZDpcIlNldFNvdXJjZUNoYW5uZWxcIix1aWQ6XCIwXCIsY2hhbm5lbE5hbWU6YS5jaGFubmVsTmFtZSx0b2tlbjphLnRva2VufHx0aGlzLmpvaW5JbmZvLmFwcElkfSxvO2Nhc2UgRGIuU2V0U291cmNlVXNlcklkOmlmKGE9dCYmdC5nZXRTcmNDaGFubmVsTWVkaWFJbmZvKCksIWEpdGhyb3cgbmV3IFNiKG52LlVORVhQRUNURURfRVJST1IsXCJjYW4gbm90IGZpbmQgc291cmNlIGNvbmZpZ1wiKTtyZXR1cm4gby5jbGllbnRSZXF1ZXN0PXtjb21tYW5kOlwiU2V0U291cmNlVXNlcklkXCIsdWlkOmEudWlkK1wiXCJ9LG87Y2FzZSBEYi5TZXREZXN0Q2hhbm5lbDppZihzPXQmJnQuZ2V0RGVzdENoYW5uZWxNZWRpYUluZm8oKSwhcyl0aHJvdyBuZXcgU2IobnYuVU5FWFBFQ1RFRF9FUlJPUixcImNhbiBub3QgZmluZCBkZXN0IGNvbmZpZ1wiKTtyZXR1cm4gcy5mb3JFYWNoKChlPT57aS5wdXNoKGUuY2hhbm5lbE5hbWUpLG4ucHVzaChlLnVpZCtcIlwiKSxyLnB1c2goZS50b2tlbnx8dGhpcy5qb2luSW5mby5hcHBJZCl9KSksby5jbGllbnRSZXF1ZXN0PXtjb21tYW5kOlwiU2V0RGVzdENoYW5uZWxcIixjaGFubmVsTmFtZTppLHVpZDpuLHRva2VuOnJ9LG87Y2FzZSBEYi5TdGFydFBhY2tldFRyYW5zZmVyOnJldHVybiBvLmNsaWVudFJlcXVlc3Q9e2NvbW1hbmQ6XCJTdGFydFBhY2tldFRyYW5zZmVyXCJ9LG87Y2FzZSBEYi5SZWNvbm5lY3Q6cmV0dXJuIG8uY2xpZW50UmVxdWVzdD17Y29tbWFuZDpcIlJlY29ubmVjdFwifSxvO2Nhc2UgRGIuU3RvcFBhY2tldFRyYW5zZmVyOnJldHVybiBvLmNsaWVudFJlcXVlc3Q9e2NvbW1hbmQ6XCJTdG9wUGFja2V0VHJhbnNmZXJcIn0sbztjYXNlIERiLlVwZGF0ZURlc3RDaGFubmVsOmlmKHM9dCYmdC5nZXREZXN0Q2hhbm5lbE1lZGlhSW5mbygpLCFzKXRocm93IG5ldyBTYihudi5VTkVYUEVDVEVEX0VSUk9SLFwiY2FuIG5vdCBmaW5kIGRlc3QgY29uZmlnXCIpO3JldHVybiBzLmZvckVhY2goKGU9PntpLnB1c2goZS5jaGFubmVsTmFtZSksbi5wdXNoKGUudWlkK1wiXCIpLHIucHVzaChlLnRva2VufHx0aGlzLmpvaW5JbmZvLmFwcElkKX0pKSxvLmNsaWVudFJlcXVlc3Q9e2NvbW1hbmQ6XCJVcGRhdGVEZXN0Q2hhbm5lbFwiLGNoYW5uZWxOYW1lOmksdWlkOm4sdG9rZW46cn0sbztjYXNlIERiLlNldFZpZGVvUHJvZmlsZTpvLmNsaWVudFJlcXVlc3Q9e2NvbW1hbmQ6XCJTZXRWaWRlb1Byb2ZpbGVcIix3aWR0aDp0aGlzLl9yZXNvbHV0aW9uLndpZHRoLGhlaWdodDp0aGlzLl9yZXNvbHV0aW9uLmhlaWdodH19cmV0dXJuIG99fWNvbnN0IGhLPXtuYW1lOlwiQ2hhbm5lbE1lZGlhUmVsYXlcIixjcmVhdGU6ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyB1SyhlLmpvaW5JbmZvLGUuY2xpZW50SWQsZS53ZWJzb2NrZXRSZXRyeUNvbmZpZ3x8X3ksZS5odHRwUmV0cnlDb25maWd8fF95LGUucmVzb2x1dGlvbil9fTtmdW5jdGlvbiBwSyhlLHQpe3ZhciBpPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKG49bi5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksaS5wdXNoLmFwcGx5KGksbil9cmV0dXJuIGl9ZnVuY3Rpb24gX0soZSl7Zm9yKHZhciB0PTE7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIGk9bnVsbCE9YXJndW1lbnRzW3RdP2FyZ3VtZW50c1t0XTp7fTt0JTI/cEsoT2JqZWN0KGkpLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtvZyhlLHQsaVt0XSl9KSk6T2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnM/T2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhpKSk6cEsoT2JqZWN0KGkpKS5mb3JFYWNoKChmdW5jdGlvbih0KXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoaSx0KSl9KSl9cmV0dXJuIGV9Y2xhc3MgRUsgZXh0ZW5kcyBTdntjb25zdHJ1Y3RvcihlLHQsaSxuKXtzdXBlcigpLG9nKHRoaXMsXCJzcGVjXCIsdm9pZCAwKSxvZyh0aGlzLFwidG9rZW5cIix2b2lkIDApLG9nKHRoaXMsXCJ3ZWJzb2NrZXRcIix2b2lkIDApLG9nKHRoaXMsXCJwaW5ncG9uZ1RpbWVyXCIsdm9pZCAwKSxvZyh0aGlzLFwicmVjb25uZWN0TW9kZVwiLFwicmV0cnlcIiksb2codGhpcyxcInNlcnZpY2VNb2RlXCIsdm9pZCAwKSxvZyh0aGlzLFwicmVxSWRcIiwwKSxvZyh0aGlzLFwiY29tbWFuZFJlcUlkXCIsMCksb2codGhpcyxcImhhbmRsZVdlYlNvY2tldE9wZW5cIiwoKCk9Pnt0aGlzLnJlY29ubmVjdE1vZGU9XCJyZXRyeVwiLHRoaXMuc3RhcnRQaW5nUG9uZygpfSkpLG9nKHRoaXMsXCJoYW5kbGVXZWJTb2NrZXRNZXNzYWdlXCIsKGU9PntpZighZS5kYXRhKXJldHVybjtjb25zdCB0PUpTT04ucGFyc2UoZS5kYXRhKTt0LnJlcXVlc3RJZD90aGlzLmVtaXQoXCJAXCIuY29uY2F0KHQucmVxdWVzdElkLFwiLVwiKS5jb25jYXQodC5zaWQpLHQpOihzQS53b3JrZXJFdmVudCh0aGlzLnNwZWMuc2lkLHthY3Rpb25UeXBlOlwic3RhdHVzXCIsc2VydmVyQ29kZTp0LmNvZGUsd29ya2VyVHlwZTp0aGlzLnNlcnZpY2VNb2RlPT09Q2IuVFJBTlNDT0RFPzE6Mn0pLHRoaXMuZW1pdChiYi5QVUJMSVNIX1NUUkVBTV9TVEFUVVMsdCkpfSkpLHRoaXMuc3BlYz10LHRoaXMudG9rZW49ZSx0aGlzLnNlcnZpY2VNb2RlPW4sdGhpcy53ZWJzb2NrZXQ9bmV3IGJ3KFwibGl2ZS1zdHJlYW1pbmdcIixpKSx0aGlzLndlYnNvY2tldC5vbihUYi5DT05ORUNURUQsdGhpcy5oYW5kbGVXZWJTb2NrZXRPcGVuKSx0aGlzLndlYnNvY2tldC5vbihUYi5PTl9NRVNTQUdFLHRoaXMuaGFuZGxlV2ViU29ja2V0TWVzc2FnZSksdGhpcy53ZWJzb2NrZXQub24oVGIuUkVRVUVTVF9ORVdfVVJMUywoKGUsdCk9Pntrdih0aGlzLGJiLlJFUVVFU1RfTkVXX0FERFJFU1MpLnRoZW4oZSkuY2F0Y2godCl9KSksdGhpcy53ZWJzb2NrZXQub24oVGIuUkVDT05ORUNUSU5HLCgoKT0+e3RoaXMud2Vic29ja2V0LnJlY29ubmVjdE1vZGU9dGhpcy5yZWNvbm5lY3RNb2RlfSkpfWluaXQoZSl7cmV0dXJuIHRoaXMud2Vic29ja2V0LmluaXQoZSl9YXN5bmMgcmVxdWVzdChlLHQsaSxuKXt0aGlzLnJlcUlkKz0xLFwicmVxdWVzdFwiPT09ZSYmKHRoaXMuY29tbWFuZFJlcUlkKz0xKTtjb25zdCByPXRoaXMuY29tbWFuZFJlcUlkLG89dGhpcy5yZXFJZDtpZighb3x8IXRoaXMud2Vic29ja2V0KXRocm93IG5ldyBTYihudi5VTkVYUEVDVEVEX0VSUk9SKTtjb25zdCBzPV9LKHtjb21tYW5kOmUsc2RrVmVyc2lvbjpcIjQuMjIuMFwiPT09dnk/XCIwLjAuMVwiOnZ5LHNlcTpvLHJlcXVlc3RJZDpvLGFsbG9jYXRlOmksY25hbWU6dGhpcy5zcGVjLmNuYW1lLGFwcElkOnRoaXMuc3BlYy5hcHBJZCxzaWQ6dGhpcy5zcGVjLnNpZCx1aWQ6dGhpcy5zcGVjLnVpZC50b1N0cmluZygpLHRzOk1hdGguZmxvb3IoRGF0ZS5ub3coKS8xZTMpfSx0KTtpZihcImNsb3NlZFwiPT09dGhpcy53ZWJzb2NrZXQuc3RhdGUpdGhyb3cgbmV3IFNiKG52LldTX0RJU0NPTk5FQ1QpO2NvbnN0IGE9KCk9Pm5ldyBHaCgoKGUsdCk9Pnt0aGlzLndlYnNvY2tldC5vbmNlKFRiLkNMT1NFRCwoKCk9PnQobmV3IFNiKG52LldTX0FCT1JUKSkpKSx0aGlzLndlYnNvY2tldC5vbmNlKFRiLkNPTk5FQ1RFRCxlKX0pKTtcImNvbm5lY3RlZFwiIT09dGhpcy53ZWJzb2NrZXQuc3RhdGUmJmF3YWl0IGEoKSxzLmNsaWVudFJlcXVlc3QmJihzLmNsaWVudFJlcXVlc3Qud29ya2VyVG9rZW49dGhpcy50b2tlbik7Y29uc3QgYz1uZXcgR2goKChlLHQpPT57Y29uc3QgaT0oKT0+e3QobmV3IFNiKG52LldTX0FCT1JUKSl9O3RoaXMud2Vic29ja2V0Lm9uY2UoVGIuUkVDT05ORUNUSU5HLGkpLHRoaXMud2Vic29ja2V0Lm9uY2UoVGIuQ0xPU0VELGkpLHRoaXMub25jZShcIkBcIi5jb25jYXQobyxcIi1cIikuY29uY2F0KHRoaXMuc3BlYy5zaWQpLCh0PT57ZSh0KX0pKX0pKTtuJiZzQS53b3JrZXJFdmVudCh0aGlzLnNwZWMuc2lkLF9LKF9LKHt9LG4pLHt9LHtyZXF1ZXN0SWQ6cixhY3Rpb25UeXBlOlwicmVxdWVzdFwiLHBheWxvYWQ6SlNPTi5zdHJpbmdpZnkodC5jbGllbnRSZXF1ZXN0KSxzZXJ2ZXJDb2RlOjAsY29kZTowfSkpO2NvbnN0IGQ9RGF0ZS5ub3coKTt0aGlzLndlYnNvY2tldC5zZW5kTWVzc2FnZShzKTtsZXQgbD1udWxsO3RyeXtsPWF3YWl0IGN9Y2F0Y2gobil7aWYoXCJjbG9zZWRcIj09PXRoaXMud2Vic29ja2V0LnN0YXRlKXRocm93IG47cmV0dXJuIGF3YWl0IGEoKSxhd2FpdCB0aGlzLnJlcXVlc3QoZSx0LGkpfXJldHVybiBuJiZzQS53b3JrZXJFdmVudCh0aGlzLnNwZWMuc2lkLF9LKF9LKHt9LG4pLHt9LHtyZXF1ZXN0SWQ6cixhY3Rpb25UeXBlOlwicmVzcG9uc2VcIixwYXlsb2FkOkpTT04uc3RyaW5naWZ5KGwuc2VydmVyUmVzcG9uc2UpLHNlcnZlckNvZGU6bC5jb2RlLHN1Y2Nlc3M6MjAwPT09bC5jb2RlLHJlc3BvbnNlVGltZTpEYXRlLm5vdygpLWR9KSksMjAwIT09bC5jb2RlJiZ0aGlzLmhhbmRsZVJlc3BvbnNlRXJyb3IobCksbH10cnlOZXh0QWRkcmVzcygpe3RoaXMucmVjb25uZWN0TW9kZT1cInRyeU5leHRcIix0aGlzLndlYnNvY2tldC5yZWNvbm5lY3QoXCJ0cnlOZXh0XCIpfWNsb3NlKCl7Y29uc3QgZT1cIjQuMjIuMFwiPT09dnk/XCIwLjAuMVwiOnZ5O3RoaXMucmVxSWQrPTEsXCJjb25uZWN0ZWRcIj09PXRoaXMud2Vic29ja2V0LnN0YXRlPyh0aGlzLndlYnNvY2tldC5zZW5kTWVzc2FnZSh7Y29tbWFuZDpcInJlcXVlc3RcIixhcHBJZDp0aGlzLnNwZWMuYXBwSWQsY25hbWU6dGhpcy5zcGVjLmNuYW1lLHVpZDp0aGlzLnNwZWMudWlkLnRvU3RyaW5nKCksc2RrVmVyc2lvbjplLHNpZDp0aGlzLnNwZWMuc2lkLHNlcTp0aGlzLnJlcUlkLHRzOk1hdGguZmxvb3IoRGF0ZS5ub3coKS8xZTMpLHJlcXVlc3RJZDp0aGlzLnJlcUlkLGNsaWVudFJlcXVlc3Q6e2NvbW1hbmQ6XCJEZXN0cm95V29ya2VyXCJ9fSksdGhpcy53ZWJzb2NrZXQuY2xvc2UoITEsITApKTp0aGlzLndlYnNvY2tldC5jbG9zZSghMSksdGhpcy5waW5ncG9uZ1RpbWVyJiYod2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5waW5ncG9uZ1RpbWVyKSx0aGlzLnBpbmdwb25nVGltZXI9dm9pZCAwKX1oYW5kbGVSZXNwb25zZUVycm9yKGUpe3N3aXRjaChlLmNvZGUpe2Nhc2UgT2IuTElWRV9TVFJFQU1fUkVTUE9OU0VfQUxSRUFEWV9FWElTVFNfU1RSRUFNOnJldHVybiB2b2lkIFF5Lndhcm5pbmcoXCJsaXZlIHN0cmVhbSByZXNwb25zZSBhbHJlYWR5IGV4aXN0cyBzdHJlYW1cIik7Y2FzZSBPYi5MSVZFX1NUUkVBTV9SRVNQT05TRV9UUkFOU0NPRElOR19QQVJBTUVURVJfRVJST1I6Y2FzZSBPYi5MSVZFX1NUUkVBTV9SRVNQT05TRV9CQURfU1RSRUFNOmNhc2UgT2IuTElWRV9TVFJFQU1fUkVTUE9OU0VfV01fUEFSQU1FVEVSX0VSUk9SOnJldHVybiBuZXcgU2IobnYuTElWRV9TVFJFQU1JTkdfSU5WQUxJRF9BUkdVTUVOVCxcIlwiLHtjb2RlOmUuY29kZX0pLnRocm93KCk7Y2FzZSBPYi5MSVZFX1NUUkVBTV9SRVNQT05TRV9XTV9XT1JLRVJfTk9UX0VYSVNUOmlmKFwiVW5wdWJsaXNoU3RyZWFtXCI9PT1lLnNlcnZlclJlc3BvbnNlLmNvbW1hbmQpcmV0dXJuO3Rocm93IG5ldyBTYihudi5MSVZFX1NUUkVBTUlOR19JTlRFUk5BTF9TRVJWRVJfRVJST1IsXCJsaXZlIHN0cmVhbSByZXNwb25zZSB3bSB3b3JrZXIgbm90IGV4aXN0XCIse3JldHJ5OiEwfSk7Y2FzZSBPYi5MSVZFX1NUUkVBTV9SRVNQT05TRV9OT1RfQVVUSE9SSVpFRDpyZXR1cm4gbmV3IFNiKG52LkxJVkVfU1RSRUFNSU5HX1BVQkxJU0hfU1RSRUFNX05PVF9BVVRIT1JJWkVELFwiXCIse2NvZGU6ZS5jb2RlfSkudGhyb3coKTtjYXNlIE9iLkxJVkVfU1RSRUFNX1JFU1BPTlNFX0ZBSUxFRF9MT0FEX0lNQUdFOntjb25zdCB0PW5ldyBTYihudi5MSVZFX1NUUkVBTUlOR19XQVJOX0ZBSUxFRF9MT0FEX0lNQUdFKTtyZXR1cm4gdGhpcy5lbWl0KGJiLldBUk5JTkcsdCxlLnNlcnZlclJlc3BvbnNlLnVybCl9Y2FzZSBPYi5MSVZFX1NUUkVBTV9SRVNQT05TRV9SRVFVRVNUX1RPT19PRlRFTjp7Y29uc3QgdD1uZXcgU2IobnYuTElWRV9TVFJFQU1JTkdfV0FSTl9GUkVRVUVOVF9SRVFVRVNUKTtyZXR1cm4gdGhpcy5lbWl0KGJiLldBUk5JTkcsdCxlLnNlcnZlclJlc3BvbnNlLnVybCl9Y2FzZSBPYi5MSVZFX1NUUkVBTV9SRVNQT05TRV9OT1RfRk9VTkRfUFVCTElTSDp0aHJvdyBuZXcgU2IobnYuTElWRV9TVFJFQU1JTkdfSU5URVJOQUxfU0VSVkVSX0VSUk9SLFwibGl2ZSBzdHJlYW0gcmVzcG9uc2Ugd20gd29ya2VyIG5vdCBleGlzdFwiLHtyZXRyeTohMH0pO2Nhc2UgT2IuTElWRV9TVFJFQU1fUkVTUE9OU0VfTk9UX1NVUFBPUlRFRDpyZXR1cm4gbmV3IFNiKG52LkxJVkVfU1RSRUFNSU5HX1RSQU5TQ09ESU5HX05PVF9TVVBQT1JURUQsXCJcIix7Y29kZTplLmNvZGV9KS50aHJvdygpO2Nhc2UgT2IuTElWRV9TVFJFQU1fUkVTUE9OU0VfTUFYX1NUUkVBTV9OVU06e2NvbnN0IHQ9bmV3IFNiKG52LkxJVkVfU1RSRUFNSU5HX1dBUk5fU1RSRUFNX05VTV9SRUFDSF9MSU1JVCk7cmV0dXJuIHRoaXMuZW1pdChiYi5XQVJOSU5HLHQsZS5zZXJ2ZXJSZXNwb25zZS51cmwpfWNhc2UgT2IuTElWRV9TVFJFQU1fUkVTUE9OU0VfSU5URVJOQUxfU0VSVkVSX0VSUk9SOnJldHVybiBuZXcgU2IobnYuTElWRV9TVFJFQU1JTkdfSU5URVJOQUxfU0VSVkVSX0VSUk9SLFwiXCIse2NvZGU6ZS5jb2RlfSkudGhyb3coKTtjYXNlIE9iLkxJVkVfU1RSRUFNX1JFU1BPTlNFX1JFU09VUkNFX0xJTUlUOnRocm93IG5ldyBTYihudi5MSVZFX1NUUkVBTUlOR19JTlRFUk5BTF9TRVJWRVJfRVJST1IsXCJsaXZlIHN0cmVhbSByZXNvdXJjZSBsaW1pdFwiLHtyZXRyeTohMCxjaGFuZ2VBZGRyZXNzOiEwfSk7Y2FzZSBPYi5MSVZFX1NUUkVBTV9SRVNQT05TRV9XT1JLRVJfTE9TVDpjYXNlIE9iLkxJVkVfU1RSRUFNX1JFU1BPTlNFX1dPUktFUl9RVUlUOmlmKFwiVW5wdWJsaXNoU3RyZWFtXCI9PT1lLnNlcnZlclJlc3BvbnNlLmNvbW1hbmQpcmV0dXJuO3Rocm93IG5ldyBTYihudi5MSVZFX1NUUkVBTUlOR19JTlRFUk5BTF9TRVJWRVJfRVJST1IsXCJlcnJvciBmYWlsIHNlbmQgbWVzc2FnZVwiLHtyZXRyeTohMCxjaGFuZ2VBZGRyZXNzOiEwfSk7Y2FzZSBPYi5FUlJPUl9GQUlMX1NFTkRfTUVTU0FHRTppZihcIlVucHVibGlzaFN0cmVhbVwiPT09ZS5zZXJ2ZXJSZXNwb25zZS5jb21tYW5kKXJldHVybjtpZihcIlVwZGF0ZVRyYW5zY29kaW5nXCI9PT1lLnNlcnZlclJlc3BvbnNlLmNvbW1hbmR8fFwiQ29udHJvbFN0cmVhbVwiPT09ZS5zZXJ2ZXJSZXNwb25zZS5jb21tYW5kKXJldHVybiBuZXcgU2IobnYuTElWRV9TVFJFQU1JTkdfSU5URVJOQUxfU0VSVkVSX0VSUk9SLFwiZXJyb3IgZmFpbCBzZW5kIG1lc3NhZ2VcIix7Y29kZTplLmNvZGV9KS50aHJvdygpO3Rocm93IG5ldyBTYihudi5MSVZFX1NUUkVBTUlOR19JTlRFUk5BTF9TRVJWRVJfRVJST1IsXCJlcnJvciBmYWlsIHNlbmQgbWVzc2FnZVwiLHtyZXRyeTohMCxjaGFuZ2VBZGRyZXNzOiEwfSk7Y2FzZSBPYi5QVUJMSVNIX1NUUkVBTV9TVEFUVVNfRVJST1JfUFVCTElTSF9CUk9LRU46Y2FzZSBPYi5QVUJMSVNIX1NUUkVBTV9TVEFUVVNfRVJST1JfUlRNUF9DT05ORUNUOmNhc2UgT2IuUFVCTElTSF9TVFJFQU1fU1RBVFVTX0VSUk9SX1JUTVBfSEFORFNIQUtFOmNhc2UgT2IuUFVCTElTSF9TVFJFQU1fU1RBVFVTX0VSUk9SX1JUTVBfUFVCTElTSDpyZXR1cm4gbmV3IFNiKG52LkxJVkVfU1RSRUFNSU5HX0NETl9FUlJPUixcIlwiLHtjb2RlOmUuY29kZX0pLnRocm93KCl9fXN0YXJ0UGluZ1BvbmcoKXt0aGlzLnBpbmdwb25nVGltZXImJndpbmRvdy5jbGVhckludGVydmFsKHRoaXMucGluZ3BvbmdUaW1lciksdGhpcy5waW5ncG9uZ1RpbWVyPXdpbmRvdy5zZXRJbnRlcnZhbCgoKCk9PntcImNvbm5lY3RlZFwiPT09dGhpcy53ZWJzb2NrZXQuc3RhdGUmJnRoaXMucmVxdWVzdChcInBpbmdcIix7fSkuY2F0Y2goaXkpfSksNmUzKX19ZnVuY3Rpb24gbUsoZSx0KXt2YXIgaT1PYmplY3Qua2V5cyhlKTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO3QmJihuPW4uZmlsdGVyKChmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLHQpLmVudW1lcmFibGV9KSkpLGkucHVzaC5hcHBseShpLG4pfXJldHVybiBpfWZ1bmN0aW9uIGZLKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBpPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP21LKE9iamVjdChpKSwhMCkuZm9yRWFjaCgoZnVuY3Rpb24odCl7b2coZSx0LGlbdF0pfSkpOk9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzP09iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKGUsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoaSkpOm1LKE9iamVjdChpKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGksdCkpfSkpfXJldHVybiBlfWNsYXNzIFRLIGV4dGVuZHMgU3Z7Y29uc3RydWN0b3IoZSl7bGV0IHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOl95LGk9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOl95O3N1cGVyKCksb2codGhpcyxcIm9uTGl2ZVN0cmVhbVdhcm5pbmdcIix2b2lkIDApLG9nKHRoaXMsXCJvbkxpdmVTdHJlYW1FcnJvclwiLHZvaWQgMCksb2codGhpcyxcInNwZWNcIix2b2lkIDApLG9nKHRoaXMsXCJyZXRyeVRpbWVvdXRcIiwxZTQpLG9nKHRoaXMsXCJjb25uZWN0aW9uXCIsdm9pZCAwKSxvZyh0aGlzLFwiaHR0cFJldHJ5Q29uZmlnXCIsdm9pZCAwKSxvZyh0aGlzLFwid3NSZXRyeUNvbmZpZ1wiLHZvaWQgMCksb2codGhpcyxcInN0cmVhbWluZ1Rhc2tzXCIsbmV3IE1hcCksb2codGhpcyxcImlzU3RhcnRpbmdTdHJlYW1pbmdUYXNrXCIsITEpLG9nKHRoaXMsXCJ0YXNrTXV0ZXhcIixuZXcgaHkoXCJsaXZlLXN0cmVhbWluZ1wiKSksb2codGhpcyxcImNhbmNlbFRva2VuXCIsRUkuQ2FuY2VsVG9rZW4uc291cmNlKCkpLG9nKHRoaXMsXCJ0cmFuc2NvZGluZ0NvbmZpZ1wiLHZvaWQgMCksb2codGhpcyxcInVhcFJlc3BvbnNlXCIsdm9pZCAwKSxvZyh0aGlzLFwibGFzdFRhc2tJZFwiLDEpLG9nKHRoaXMsXCJzdGF0dXNFcnJvclwiLG5ldyBNYXApLHRoaXMuc3BlYz1lLHRoaXMuaHR0cFJldHJ5Q29uZmlnPWksdGhpcy53c1JldHJ5Q29uZmlnPXR9YXN5bmMgc2V0VHJhbnNjb2RpbmdDb25maWcoZSl7Y29uc3QgdD1mSyhmSyh7fSxBYiksZSk7NjYhPT10LnZpZGVvQ29kZWNQcm9maWxlJiY3NyE9PXQudmlkZW9Db2RlY1Byb2ZpbGUmJjEwMCE9PXQudmlkZW9Db2RlY1Byb2ZpbGUmJihReS5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zcGVjLmNsaWVudElkLFwiXSBzZXQgdHJhbnNjb2RpbmcgY29uZmlnLCBmaXggdmlkZW8gY29kZWMgcHJvZmlsZTogXCIpLmNvbmNhdCh0LnZpZGVvQ29kZWNQcm9maWxlLFwiIC0+IDEwMFwiKSksdC52aWRlb0NvZGVjUHJvZmlsZT0xMDApLHQudHJhbnNjb2RpbmdVc2Vyc3x8KHQudHJhbnNjb2RpbmdVc2Vycz10LnVzZXJDb25maWdzKSx0LnRyYW5zY29kaW5nVXNlcnMmJih0LnRyYW5zY29kaW5nVXNlcnM9dC50cmFuc2NvZGluZ1VzZXJzLm1hcCgoZT0+ZksoZksoZksoe30sSWIpLGUpLHt9LHt6T3JkZXI6ZS56T3JkZXI/ZS56T3JkZXIrMToxfSkpKSksZnVuY3Rpb24oZSl7dXYoZS53aWR0aCl8fGF2KGUud2lkdGgsXCJjb25maWcud2lkdGhcIiwwLDFlNCksdXYoZS5oZWlnaHQpfHxhdihlLmhlaWdodCxcImNvbmZpZy5oZWlnaHRcIiwwLDFlNCksdXYoZS52aWRlb0JpdHJhdGUpfHxhdihlLnZpZGVvQml0cmF0ZSxcImNvbmZpZy52aWRlb0JpdHJhdGVcIiwxLDFlNiksdXYoZS52aWRlb0ZyYW1lUmF0ZSl8fGF2KGUudmlkZW9GcmFtZVJhdGUsXCJjb25maWcudmlkZW9GcmFtZVJhdGVcIiksdXYoZS5sb3dMYXRlbmN5KXx8b3YoZS5sb3dMYXRlbmN5LFwiY29uZmlnLmxvd0xhdGVuY3lcIiksdXYoZS5hdWRpb1NhbXBsZVJhdGUpfHxzdihlLmF1ZGlvU2FtcGxlUmF0ZSxcImNvbmZpZy5hdWRpb1NhbXBsZVJhdGVcIixbMzJlMyw0NDEwMCw0OGUzXSksdXYoZS5hdWRpb0JpdHJhdGUpfHxhdihlLmF1ZGlvQml0cmF0ZSxcImNvbmZpZy5hdWRpb0JpdHJhdGVcIiwxLDEyOCksdXYoZS5hdWRpb0NoYW5uZWxzKXx8c3YoZS5hdWRpb0NoYW5uZWxzLFwiY29uZmlnLmF1ZGlvQ2hhbm5lbHNcIixbMSwyLDMsNCw1XSksdXYoZS52aWRlb0dvcCl8fGF2KGUudmlkZW9Hb3AsXCJjb25maWcudmlkZW9Hb3BcIiksdXYoZS52aWRlb0NvZGVjUHJvZmlsZSl8fHN2KGUudmlkZW9Db2RlY1Byb2ZpbGUsXCJjb25maWcudmlkZW9Db2RlY1Byb2ZpbGVcIixbNjYsNzcsMTAwXSksdXYoZS51c2VyQ291bnQpfHxhdihlLnVzZXJDb3VudCxcImNvbmZpZy51c2VyQ291bnRcIiwwLDE3KSx1dihlLmJhY2tncm91bmRDb2xvcil8fGF2KGUuYmFja2dyb3VuZENvbG9yLFwiY29uZmlnLmJhY2tncm91bmRDb2xvclwiLDAsMTY3NzcyMTUpLHV2KGUudXNlckNvbmZpZ0V4dHJhSW5mbyl8fGR2KGUudXNlckNvbmZpZ0V4dHJhSW5mbyxcImNvbmZpZy51c2VyQ29uZmlnRXh0cmFJbmZvXCIsMCw0MDk2LCExKSxlLnRyYW5zY29kaW5nVXNlcnMmJiF1dihlLnRyYW5zY29kaW5nVXNlcnMpJiYobHYoZS50cmFuc2NvZGluZ1VzZXJzLFwiY29uZmlnLnRyYW5zY29kaW5nVXNlcnNcIiksZS50cmFuc2NvZGluZ1VzZXJzLmZvckVhY2goKChlLHQpPT57UmIoZS51aWQpLHV2KGUueCl8fGF2KGUueCxcInRyYW5zY29kaW5nVXNlcltcIi5jb25jYXQodCxcIl0ueFwiKSwwLDFlNCksdXYoZS55KXx8YXYoZS55LFwidHJhbnNjb2RpbmdVc2VyW1wiLmNvbmNhdCh0LFwiXS55XCIpLDAsMWU0KSx1dihlLndpZHRoKXx8YXYoZS53aWR0aCxcInRyYW5zY29kaW5nVXNlcltcIi5jb25jYXQodCxcIl0ud2lkdGhcIiksMCwxZTQpLHV2KGUuaGVpZ2h0KXx8YXYoZS5oZWlnaHQsXCJ0cmFuc2NvZGluZ1VzZXJbXCIuY29uY2F0KHQsXCJdLmhlaWdodFwiKSwwLDFlNCksdXYoZS56T3JkZXIpfHxhdihlLnpPcmRlci0xLFwidHJhbnNjb2RpbmdVc2VyW1wiLmNvbmNhdCh0LFwiXS56T3JkZXJcIiksMCwxMDApLHV2KGUuYWxwaGEpfHxhdihlLmFscGhhLFwidHJhbnNjb2RpbmdVc2VyW1wiLmNvbmNhdCh0LFwiXS5hbHBoYVwiKSwwLDEsITEpfSkpKSx1dihlLndhdGVybWFyayl8fHliKGUud2F0ZXJtYXJrLFwid2F0ZXJtYXJrXCIpLHV2KGUuYmFja2dyb3VuZEltYWdlKXx8eWIoZS5iYWNrZ3JvdW5kSW1hZ2UsXCJiYWNrZ3JvdW5kSW1hZ2VcIiksZS5pbWFnZXMmJiF1dihlLmltYWdlcykmJihsdihlLmltYWdlcyxcImNvbmZpZy5pbWFnZXNcIiksZS5pbWFnZXMuZm9yRWFjaCgoKGUsdCk9Pnt5YihlLFwiaW1hZ2VzW1wiLmNvbmNhdCh0LFwiXVwiKSl9KSkpfSh0KTtjb25zdCBpPVtdO3QuaW1hZ2VzJiZpLnB1c2goLi4udC5pbWFnZXMubWFwKChlPT5mSyhmSyhmSyh7fSx2YiksZSkse30se3pPcmRlcjoyNTV9KSkpKSx0LmJhY2tncm91bmRJbWFnZSYmKGkucHVzaChmSyhmSyhmSyh7fSx2YiksdC5iYWNrZ3JvdW5kSW1hZ2UpLHt9LHt6T3JkZXI6MH0pKSxkZWxldGUgdC5iYWNrZ3JvdW5kSW1hZ2UpLHQud2F0ZXJtYXJrJiYoaS5wdXNoKGZLKGZLKGZLKHt9LHZiKSx0LndhdGVybWFyaykse30se3pPcmRlcjoyNTV9KSksZGVsZXRlIHQud2F0ZXJtYXJrKSx0LmltYWdlcz1pLHQudHJhbnNjb2RpbmdVc2VycyYmKHQudXNlckNvbmZpZ3M9dC50cmFuc2NvZGluZ1VzZXJzLm1hcCgoZT0+Zksoe30sZSkpKSx0LnVzZXJDb3VudD10LnRyYW5zY29kaW5nVXNlcnMubGVuZ3RoLGRlbGV0ZSB0LnRyYW5zY29kaW5nVXNlcnMpO2NvbnN0IG49KHQudXNlckNvbmZpZ3N8fFtdKS5tYXAoKGU9PlwibnVtYmVyXCI9PXR5cGVvZiBlLnVpZD9HaC5yZXNvbHZlKGUudWlkKTpPVShlLnVpZCx0aGlzLnNwZWMsdGhpcy5jYW5jZWxUb2tlbi50b2tlbix0aGlzLmh0dHBSZXRyeUNvbmZpZykpKTtpZigoYXdhaXQgR2guYWxsKG4pKS5mb3JFYWNoKCgoZSxpKT0+e3QudXNlckNvbmZpZ3MmJnQudXNlckNvbmZpZ3NbaV0mJih0LnVzZXJDb25maWdzW2ldLnVpZD1lKX0pKSx0aGlzLnRyYW5zY29kaW5nQ29uZmlnPXQsdGhpcy5jb25uZWN0aW9uKXRyeXt2YXIgcjtjb25zdCBlPWF3YWl0IHRoaXMuY29ubmVjdGlvbi5yZXF1ZXN0KFwicmVxdWVzdFwiLHtjbGllbnRSZXF1ZXN0Ontjb21tYW5kOlwiVXBkYXRlVHJhbnNjb2RpbmdcIix0cmFuc2NvZGluZ0NvbmZpZzp0aGlzLnRyYW5zY29kaW5nQ29uZmlnfX0sITEse2NvbW1hbmQ6XCJVcGRhdGVUcmFuc2NvZGluZ1wiLHdvcmtlclR5cGU6MSxyZXF1ZXN0QnlVc2VyOiEwLHRpZDpBcnJheS5mcm9tKFF3KHI9dGhpcy5zdHJlYW1pbmdUYXNrcykuY2FsbChyKSkubWFwKChlPT5lLnRhc2tJZCkpLmpvaW4oXCIjXCIpfSk7UXkuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3BlYy5jbGllbnRJZCxcIl0gdXBkYXRlIGxpdmUgdHJhbnNjb2RpbmcgY29uZmlnIHN1Y2Nlc3MsIGNvZGU6IFwiKS5jb25jYXQoZS5jb2RlLFwiLCBjb25maWc6XCIpLEpTT04uc3RyaW5naWZ5KHRoaXMudHJhbnNjb2RpbmdDb25maWcpKX1jYXRjaChlKXtpZighZS5kYXRhfHwhZS5kYXRhLnJldHJ5KXRocm93IGU7ZS5kYXRhLmNoYW5nZUFkZHJlc3MmJnRoaXMuY29ubmVjdGlvbi50cnlOZXh0QWRkcmVzcygpLHRoaXMuc3RyZWFtaW5nVGFza3MuZm9yRWFjaCgodD0+e1F5Lndhcm5pbmcoXCJbXCIuY29uY2F0KHRoaXMuc3BlYy5jbGllbnRJZCxcIl0gbGl2ZSBzdHJlYW1pbmcgcmVjZWl2ZSBlcnJvclwiKSxlLnRvU3RyaW5nKCksXCJ0cnkgdG8gcmVwdWJsaXNoXCIsdC51cmwpLHRoaXMuc3RhcnRMaXZlU3RyZWFtaW5nVGFzayh0LnVybCx0Lm1vZGUsZSkudGhlbigoKCk9PntReS5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zcGVjLmNsaWVudElkLFwiXSBsaXZlIHN0cmVhbWluZyByZXB1Ymxpc2ggXCIpLmNvbmNhdCh0LnVybCxcIiBzdWNjZXNzXCIpKX0pKS5jYXRjaCgoZT0+e1F5LmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLnNwZWMuY2xpZW50SWQsXCJdIGxpdmUgc3RyZWFtaW5nIHJlcHVibGlzaCBmYWlsZWRcIiksdC51cmwsZS50b1N0cmluZygpKSx0aGlzLm9uTGl2ZVN0cmVhbUVycm9yJiZ0aGlzLm9uTGl2ZVN0cmVhbUVycm9yKHQudXJsLGUpfSkpfSkpfX1hc3luYyBzdGFydExpdmVTdHJlYW1pbmdUYXNrKGUsdCxpKXtpZighdGhpcy50cmFuc2NvZGluZ0NvbmZpZyYmdD09PUNiLlRSQU5TQ09ERSl0aHJvdyBuZXcgU2IobnYuSU5WQUxJRF9PUEVSQVRJT04sXCJbTGl2ZVN0cmVhbWluZ10gbm8gdHJhbnNjb2RpbmcgY29uZmlnIGZvdW5kLCBjYW4gbm90IHN0YXJ0IHRyYW5zY29kaW5nIHN0cmVhbWluZyB0YXNrXCIpO2NvbnN0IG49e2NvbW1hbmQ6XCJQdWJsaXNoU3RyZWFtXCIsdHM6RGF0ZS5ub3coKSx1cmw6ZSx1aWQ6dGhpcy5zcGVjLnVpZC50b1N0cmluZygpLGF1dG9EZXN0cm95VGltZToxMDAsYWNjZXB0SW1hZ2VUaW1lb3V0OiEwfTtReS5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5zcGVjLmNsaWVudElkLFwiXSBzdGFydCBsaXZlIHN0cmVhbWluZyBcIikuY29uY2F0KGUsXCIsIG1vZGU6IFwiKS5jb25jYXQodCkpO2NvbnN0IHI9YXdhaXQgdGhpcy50YXNrTXV0ZXgubG9jaygpO2lmKCF0aGlzLmNvbm5lY3Rpb24mJmkpcmV0dXJuIHZvaWQgcigpO2lmKHRoaXMuc3RyZWFtaW5nVGFza3MuZ2V0KGUpJiYhaSlyZXR1cm4gcigpLG5ldyBTYihudi5MSVZFX1NUUkVBTUlOR19UQVNLX0NPTkZMSUNUKS50aHJvdygpO3RyeXt0aGlzLmNvbm5lY3Rpb258fCh0aGlzLmNvbm5lY3Rpb249YXdhaXQgdGhpcy5jb25uZWN0KHQpKX1jYXRjaChlKXt0aHJvdyByKCksZX1zd2l0Y2godCl7Y2FzZSBDYi5UUkFOU0NPREU6bi50cmFuc2NvZGluZ0NvbmZpZz1mSyh7fSx0aGlzLnRyYW5zY29kaW5nQ29uZmlnKTtjYXNlIENiLlJBVzp9dGhpcy51YXBSZXNwb25zZSYmdGhpcy51YXBSZXNwb25zZS52aWQmJihuLnZpZD10aGlzLnVhcFJlc3BvbnNlLnZpZCksdGhpcy5pc1N0YXJ0aW5nU3RyZWFtaW5nVGFzaz0hMDtjb25zdCBvPXRoaXMubGFzdFRhc2tJZCsrO3RyeXtjb25zdCBzPW5ldyBHaCgoKHQsbik9Pnskdih0aGlzLnJldHJ5VGltZW91dCkudGhlbigoKCk9PntpZihpKXJldHVybiBuKGkpO2NvbnN0IHQ9dGhpcy5zdGF0dXNFcnJvci5nZXQoZSk7cmV0dXJuIHQ/KHRoaXMuc3RhdHVzRXJyb3IuZGVsZXRlKGUpLG4odCkpOnZvaWQgMH0pKX0pKSxhPWF3YWl0IEdoLnJhY2UoW3RoaXMuY29ubmVjdGlvbi5yZXF1ZXN0KFwicmVxdWVzdFwiLHtjbGllbnRSZXF1ZXN0Om59LCEwLHt1cmw6ZSxjb21tYW5kOlwiUHVibGlzaFN0cmVhbVwiLHdvcmtlclR5cGU6dD09PUNiLlRSQU5TQ09ERT8xOjIscmVxdWVzdEJ5VXNlcjohaSx0aWQ6by50b1N0cmluZygpfSksc10pO3RoaXMuaXNTdGFydGluZ1N0cmVhbWluZ1Rhc2s9ITEsUXkuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3BlYy5jbGllbnRJZCxcIl0gbGl2ZSBzdHJlYW1pbmcgc3RhcnRlZCwgY29kZTogXCIpLmNvbmNhdChhLmNvZGUpKSx0aGlzLnN0cmVhbWluZ1Rhc2tzLnNldChlLHtjbGllbnRSZXF1ZXN0Om4sbW9kZTp0LHVybDplLHRhc2tJZDpvfSkscigpfWNhdGNoKG4pe2lmKHIoKSx0aGlzLmlzU3RhcnRpbmdTdHJlYW1pbmdUYXNrPSExLCFuLmRhdGF8fCFuLmRhdGEucmV0cnl8fGkpdGhyb3cgbjtyZXR1cm4gbi5kYXRhLmNoYW5nZUFkZHJlc3M/KHRoaXMuY29ubmVjdGlvbi50cnlOZXh0QWRkcmVzcygpLGF3YWl0IHRoaXMuc3RhcnRMaXZlU3RyZWFtaW5nVGFzayhlLHQsbikpOmF3YWl0IHRoaXMuc3RhcnRMaXZlU3RyZWFtaW5nVGFzayhlLHQsbil9fXN0b3BMaXZlU3RyZWFtaW5nVGFzayhlKXtyZXR1cm4gbmV3IEdoKCgodCxpKT0+e2NvbnN0IG49dGhpcy5zdHJlYW1pbmdUYXNrcy5nZXQoZSk7aWYoIW58fCF0aGlzLmNvbm5lY3Rpb24pcmV0dXJuIG5ldyBTYihudi5VTkVYUEVDVEVEX0VSUk9SLFwiY2FuIG5vdCBmaW5kIHN0cmVhbWluZyB0YXNrIHRvIHN0b3BcIikudGhyb3coKTtjb25zdCByPW4ubW9kZTtuLmFib3J0VGFzaz0oKT0+e1F5LmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLnNwZWMuY2xpZW50SWQsXCJdIHN0b3AgbGl2ZSBzdHJlYW1pbmcgc3VjY2Vzcyh3b3JrZXIgZXhjZXB0aW9uKVwiKSksdGhpcy5zdHJlYW1pbmdUYXNrcy5kZWxldGUoZSksdCgpfSx0aGlzLmNvbm5lY3Rpb24ucmVxdWVzdChcInJlcXVlc3RcIix7Y2xpZW50UmVxdWVzdDp7Y29tbWFuZDpcIlVucHVibGlzaFN0cmVhbVwiLHVybDpuLnVybH19LCExLHt1cmw6ZSxjb21tYW5kOlwiVW5QdWJsaXNoU3RyZWFtXCIsd29ya2VyVHlwZTpyPT09Q2IuVFJBTlNDT0RFPzE6MixyZXF1ZXN0QnlVc2VyOiEwLHRpZDoodGhpcy5sYXN0VGFza0lkKyspLnRvU3RyaW5nKCl9KS50aGVuKChpPT57UXkuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3BlYy5jbGllbnRJZCxcIl0gc3RvcCBsaXZlIHN0cmVhbWluZyBzdWNjZXNzLCBjb2RlOiBcIikuY29uY2F0KGkuY29kZSkpLHRoaXMuc3RyZWFtaW5nVGFza3MuZGVsZXRlKGUpLDA9PT10aGlzLnN0cmVhbWluZ1Rhc2tzLnNpemUmJih0aGlzLmNvbm5lY3Rpb24mJnRoaXMuY29ubmVjdGlvbi5jbG9zZSgpLHRoaXMuY29ubmVjdGlvbj12b2lkIDApLHQoKX0pKS5jYXRjaChpKX0pKX1yZXNldEFsbFRhc2soKXt2YXIgZTtjb25zdCB0PUFycmF5LmZyb20oUXcoZT10aGlzLnN0cmVhbWluZ1Rhc2tzKS5jYWxsKGUpKTt0aGlzLnRlcm1pbmF0ZSgpO2Zvcihjb25zdCBlIG9mIHQpdGhpcy5zdGFydExpdmVTdHJlYW1pbmdUYXNrKGUudXJsLGUubW9kZSkuY2F0Y2goKHQ9Pnt0aGlzLm9uTGl2ZVN0cmVhbUVycm9yJiZ0aGlzLm9uTGl2ZVN0cmVhbUVycm9yKGUudXJsLHQpfSkpfXRlcm1pbmF0ZSgpe3RoaXMuY2FuY2VsVG9rZW4mJnRoaXMuY2FuY2VsVG9rZW4uY2FuY2VsKCksdGhpcy5zdHJlYW1pbmdUYXNrcz1uZXcgTWFwLHRoaXMuaXNTdGFydGluZ1N0cmVhbWluZ1Rhc2s9ITEsdGhpcy5zdGF0dXNFcnJvcj1uZXcgTWFwLHRoaXMuY2FuY2VsVG9rZW49RUkuQ2FuY2VsVG9rZW4uc291cmNlKCksdGhpcy51YXBSZXNwb25zZT12b2lkIDAsdGhpcy5jb25uZWN0aW9uJiZ0aGlzLmNvbm5lY3Rpb24uY2xvc2UoKSx0aGlzLmNvbm5lY3Rpb249dm9pZCAwfWFzeW5jIGNvbm5lY3QoZSl7aWYodGhpcy5jb25uZWN0aW9uKXRocm93IG5ldyBTYihudi5VTkVYUEVDVEVEX0VSUk9SLFwibGl2ZSBzdHJlYW1pbmcgY29ubmVjdGlvbiBoYXMgYWxyZWFkeSBjb25uZWN0ZWRcIik7Y29uc3QgdD1hd2FpdCBrdih0aGlzLHdiLlJFUVVFU1RfV09SS0VSX01BTkFHRVJfTElTVCxlKTtyZXR1cm4gdGhpcy51YXBSZXNwb25zZT10LHRoaXMuY29ubmVjdGlvbj1uZXcgRUsodC53b3JrZXJUb2tlbix0aGlzLnNwZWMsdGhpcy53c1JldHJ5Q29uZmlnLGUpLHRoaXMuY29ubmVjdGlvbi5vbihiYi5XQVJOSU5HLCgoZSx0KT0+dGhpcy5vbkxpdmVTdHJlYW1XYXJuaW5nJiZ0aGlzLm9uTGl2ZVN0cmVhbVdhcm5pbmcodCxlKSkpLHRoaXMuY29ubmVjdGlvbi5vbihiYi5QVUJMSVNIX1NUUkVBTV9TVEFUVVMsKGU9PnRoaXMuaGFuZGxlUHVibGlzaFN0cmVhbVNlcnZlcihlKSkpLHRoaXMuY29ubmVjdGlvbi5vbihiYi5SRVFVRVNUX05FV19BRERSRVNTLCgodCxpKT0+e2lmKCF0aGlzLmNvbm5lY3Rpb24pcmV0dXJuIGkobmV3IFNiKG52LlVORVhQRUNURURfRVJST1IsXCJjYW4gbm90IGdldCBuZXcgbGl2ZSBzdHJlYW1pbmcgYWRkcmVzcyBsaXN0XCIpKTtrdih0aGlzLHdiLlJFUVVFU1RfV09SS0VSX01BTkFHRVJfTElTVCxlKS50aGVuKChlPT57dGhpcy51YXBSZXNwb25zZT1lLHQoZS5hZGRyZXNzTGlzdCl9KSkuY2F0Y2goaSl9KSksYXdhaXQgdGhpcy5jb25uZWN0aW9uLmluaXQodC5hZGRyZXNzTGlzdCksdGhpcy5jb25uZWN0aW9ufWhhbmRsZVB1Ymxpc2hTdHJlYW1TZXJ2ZXIoZSl7Y29uc3QgdD1lLnNlcnZlclN0YXR1cyYmZS5zZXJ2ZXJTdGF0dXMudXJsfHxcImVtcHR5X3VybFwiLGk9dGhpcy5zdHJlYW1pbmdUYXNrcy5nZXQodCksbj1lLnJlYXNvbjtzd2l0Y2goZS5jb2RlKXtjYXNlIE9iLlBVQkxJU0hfU1RSRUFNX1NUQVRVU19FUlJPUl9QVUJMSVNIX0JST0tFTjpjYXNlIE9iLlBVQkxJU0hfU1RSRUFNX1NUQVRVU19FUlJPUl9SVE1QX0NPTk5FQ1Q6Y2FzZSBPYi5QVUJMSVNIX1NUUkVBTV9TVEFUVVNfRVJST1JfUlRNUF9IQU5EU0hBS0U6Y2FzZSBPYi5QVUJMSVNIX1NUUkVBTV9TVEFUVVNfRVJST1JfUlRNUF9QVUJMSVNIOntjb25zdCBuPW5ldyBTYihudi5MSVZFX1NUUkVBTUlOR19DRE5fRVJST1IsXCJcIix7Y29kZTplLmNvZGV9KTtpZihpKXJldHVybiBReS5lcnJvcihuLnRvU3RyaW5nKCkpLHRoaXMub25MaXZlU3RyZWFtRXJyb3ImJnRoaXMub25MaXZlU3RyZWFtRXJyb3IodCxuKTtpZighdGhpcy5pc1N0YXJ0aW5nU3RyZWFtaW5nVGFzaylyZXR1cm47dGhpcy5zdGF0dXNFcnJvci5zZXQodCxuKX1jYXNlIE9iLkxJVkVfU1RSRUFNX1JFU1BPTlNFX0ZBSUxFRF9MT0FEX0lNQUdFOntjb25zdCBlPW5ldyBTYihudi5MSVZFX1NUUkVBTUlOR19XQVJOX0ZBSUxFRF9MT0FEX0lNQUdFLG4pO3JldHVybiB0aGlzLm9uTGl2ZVN0cmVhbVdhcm5pbmcmJnRoaXMub25MaXZlU3RyZWFtV2FybmluZyh0LGUpfWNhc2UgT2IuTElWRV9TVFJFQU1fUkVTUE9OU0VfV09SS0VSX0xPU1Q6Y2FzZSBPYi5MSVZFX1NUUkVBTV9SRVNQT05TRV9XT1JLRVJfUVVJVDp7dmFyIHI7aWYoIXRoaXMuY29ubmVjdGlvbilyZXR1cm47dGhpcy5jb25uZWN0aW9uLnRyeU5leHRBZGRyZXNzKCk7Y29uc3QgdD1BcnJheS5mcm9tKFF3KHI9dGhpcy5zdHJlYW1pbmdUYXNrcykuY2FsbChyKSk7Zm9yKGNvbnN0IGkgb2YgdClpLmFib3J0VGFzaz9pLmFib3J0VGFzaygpOihReS53YXJuaW5nKFwiW1wiLmNvbmNhdCh0aGlzLnNwZWMuY2xpZW50SWQsXCJdIHB1Ymxpc2ggc3RyZWFtIHN0YXR1cyBjb2RlXCIpLGUuY29kZSxcInRyeSB0byByZXB1Ymxpc2hcIixpLnVybCksdGhpcy5zdGFydExpdmVTdHJlYW1pbmdUYXNrKGkudXJsLGkubW9kZSxuZXcgU2IobnYuTElWRV9TVFJFQU1JTkdfSU5URVJOQUxfU0VSVkVSX0VSUk9SLFwiXCIse2NvZGU6ZS5jb2RlfSkpLnRoZW4oKCgpPT57UXkuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuc3BlYy5jbGllbnRJZCxcIl0gcmVwdWJsaXNoIGxpdmUgc3RyZWFtIHN1Y2Nlc3NcIiksaS51cmwpfSkpLmNhdGNoKChlPT57UXkuZXJyb3IoZS50b1N0cmluZygpKSx0aGlzLm9uTGl2ZVN0cmVhbUVycm9yJiZ0aGlzLm9uTGl2ZVN0cmVhbUVycm9yKGkudXJsLGUpfSkpKTtyZXR1cm59fX1oYXNVcmwoZSl7cmV0dXJuIHRoaXMuc3RyZWFtaW5nVGFza3MuaGFzKGUpfX1jb25zdCBTSz17bmFtZTpcIkxpdmVTdHJlYW1pbmdcIixjcmVhdGU6ZnVuY3Rpb24oZSl7cmV0dXJuIG5ldyBUSyhlLmpvaW5JbmZvLGUud2Vic29ja2V0UmV0cnlDb25maWd8fF95LGUuaHR0cFJldHJ5Q29uZmlnfHxfeSl9fTtmdW5jdGlvbiBnSyhlKXtsZXQgdD1ESygpO3JldHVybiBmdW5jdGlvbihlLHQpe2xldCBpPWUuYXBwSWQ7dm9pZCAwIT09aSYmKEtLKHQsMTApLFZLKHQsaSkpO2xldCBuPWUuY2lkO3ZvaWQgMCE9PW4mJihLSyh0LDE2KSxLSyh0LG4pKTtsZXQgcj1lLmNuYW1lO3ZvaWQgMCE9PXImJihLSyh0LDI2KSxWSyh0LHIpKTtsZXQgbz1lLmRldmljZUlkO3ZvaWQgMCE9PW8mJihLSyh0LDM0KSxWSyh0LG8pKTtsZXQgcz1lLmVsYXBzZTt2b2lkIDAhPT1zJiYoS0sodCw0MCksWUsodCxzKSk7bGV0IGE9ZS5maWxlU2l6ZTt2b2lkIDAhPT1hJiYoS0sodCw0OCksWUsodCxPSyhhKSkpO2xldCBjPWUuaGVpZ2h0O3ZvaWQgMCE9PWMmJihLSyh0LDU2KSxZSyh0LE9LKGMpKSk7bGV0IGQ9ZS5qcGc7dm9pZCAwIT09ZCYmKEtLKHQsNjYpLEtLKHQsZC5sZW5ndGgpLGZ1bmN0aW9uKGUsdCl7bGV0IGk9TUsoZSx0Lmxlbmd0aCk7ZS5ieXRlcy5zZXQodCxpKX0odCxkKSk7bGV0IGw9ZS5uZXR3b3JrVHlwZTt2b2lkIDAhPT1sJiYoS0sodCw3MiksWUsodCxPSyhsKSkpO2xldCB1PWUub3NUeXBlO3ZvaWQgMCE9PXUmJihLSyh0LDgwKSxZSyh0LE9LKHUpKSk7bGV0IGg9ZS5yZXF1ZXN0SWQ7dm9pZCAwIT09aCYmKEtLKHQsOTApLFZLKHQsaCkpO2xldCBwPWUuc2RrVmVyc2lvbjt2b2lkIDAhPT1wJiYoS0sodCw5OCksVksodCxwKSk7bGV0IF89ZS5zZXF1ZW5jZTt2b2lkIDAhPT1fJiYoS0sodCwxMDQpLFlLKHQsT0soXykpKTtsZXQgRT1lLnNpZDt2b2lkIDAhPT1FJiYoS0sodCwxMTQpLFZLKHQsRSkpO2xldCBtPWUudGltZXN0YW1wO3ZvaWQgMCE9PW0mJihLSyh0LDEyMCksWUsodCxtKSk7bGV0IGY9ZS51aWQ7dm9pZCAwIT09ZiYmKEtLKHQsMTI4KSxLSyh0LGYpKTtsZXQgVD1lLnZpZDt2b2lkIDAhPT1UJiYoS0sodCwxMzYpLEtLKHQsVCkpO2xldCBTPWUud2lkdGg7dm9pZCAwIT09UyYmKEtLKHQsMTQ0KSxZSyh0LE9LKFMpKSk7bGV0IGc9ZS5zZXJ2aWNlO3ZvaWQgMCE9PWcmJihLSyh0LDE1MiksS0sodCxnKSk7bGV0IFI9ZS5jYWxsYmFja0RhdGE7dm9pZCAwIT09UiYmKEtLKHQsMTYyKSxWSyh0LFIpKTtsZXQgQz1lLmpwZ0VuY3J5cHRpb247dm9pZCAwIT09QyYmKEtLKHQsMTY4KSxLSyh0LEMpKTtsZXQgST1lLnJlcXVlc3RUeXBlO3ZvaWQgMCE9PUkmJihLSyh0LDE3NiksS0sodCxJKSk7bGV0IHY9ZS5zY29yZVBvcm47dm9pZCAwIT09diYmKEtLKHQsMTg1KSxXSyh0LHYpKTtsZXQgeT1lLnNjb3JlU2V4eTt2b2lkIDAhPT15JiYoS0sodCwxOTMpLFdLKHQseSkpO2xldCBBPWUuc2NvcmVOZXV0cmFsO3ZvaWQgMCE9PUEmJihLSyh0LDIwMSksV0sodCxBKSk7bGV0IGI9ZS5zY2VuZTt2b2lkIDAhPT1iJiYoS0sodCwyMDgpLEtLKHQsYikpO2xldCB3PWUub3NzRmlsZVByZWZpeDt2b2lkIDAhPT13JiYoS0sodCwyMTgpLFZLKHQsdykpO2xldCBPPWUuc2VydmljZVZlbmRvcjtpZih2b2lkIDAhPT1PKWZvcihsZXQgZSBvZiBPKXtLSyh0LDIyNik7bGV0IGk9REsoKTtJSyhlLGkpLEtLKHQsaS5saW1pdCksRksodCxpKSxQSyhpKX19KGUsdCksZnVuY3Rpb24oZSl7bGV0IHQ9ZS5ieXRlcyxpPWUubGltaXQ7cmV0dXJuIHQubGVuZ3RoPT09aT90OnQuc3ViYXJyYXkoMCxpKX0odCl9ZnVuY3Rpb24gUksoZSl7cmV0dXJuIGZ1bmN0aW9uKGUpe2xldCB0PXt9O2U6Zm9yKDsha0soZSk7KXtsZXQgaT1ISyhlKTtzd2l0Y2goaT4+PjMpe2Nhc2UgMDpicmVhayBlO2Nhc2UgMTp0LmNvZGU9SEsoZSk7YnJlYWs7Y2FzZSAyOnQubXNnPXhLKGUsSEsoZSkpO2JyZWFrO2Nhc2UgMzp7bGV0IGk9dksoZSk7dC5kYXRhPUNLKGUpLGUubGltaXQ9aTticmVha31kZWZhdWx0OnlLKGUsNyZpKX19cmV0dXJuIHR9KHtieXRlczp0PWUsb2Zmc2V0OjAsbGltaXQ6dC5sZW5ndGh9KTt2YXIgdH1mdW5jdGlvbiBDSyhlKXtsZXQgdD17fTtlOmZvcig7IWtLKGUpOyl7bGV0IGk9SEsoZSk7c3dpdGNoKGk+Pj4zKXtjYXNlIDA6YnJlYWsgZTtjYXNlIDE6dC5yZXF1ZXN0SWQ9eEsoZSxISyhlKSk7YnJlYWs7Y2FzZSAyOnQucmVxdWVzdFR5cGU9SEsoZSk+Pj4wO2JyZWFrO2Nhc2UgMzp0LnNjb3JlUG9ybj1HSyhlKTticmVhaztjYXNlIDQ6dC5zY29yZVNleHk9R0soZSk7YnJlYWs7Y2FzZSA1OnQuc2NvcmVOZXV0cmFsPUdLKGUpO2JyZWFrO2Nhc2UgNjp0LnJlcXVlc3RTY2VuZT1ISyhlKT4+PjA7YnJlYWs7Y2FzZSA3OnQuc2NlbmU9SEsoZSk+Pj4wO2JyZWFrO2RlZmF1bHQ6eUsoZSw3JmkpfX1yZXR1cm4gdH1mdW5jdGlvbiBJSyhlLHQpe2xldCBpPWUuc2VydmljZTt2b2lkIDAhPT1pJiYoS0sodCw4KSxLSyh0LGkpKTtsZXQgbj1lLnZlbmRvcjt2b2lkIDAhPT1uJiYoS0sodCwxNiksS0sodCxuKSk7bGV0IHI9ZS50b2tlbjt2b2lkIDAhPT1yJiYoS0sodCwyNiksVksodCxyKSk7bGV0IG89ZS5jYWxsYmFja1VybDt2b2lkIDAhPT1vJiYoS0sodCwzNCksVksodCxvKSl9ZnVuY3Rpb24gdksoZSl7bGV0IHQ9SEsoZSksaT1lLmxpbWl0O3JldHVybiBlLmxpbWl0PWUub2Zmc2V0K3QsaX1mdW5jdGlvbiB5SyhlLHQpe3N3aXRjaCh0KXtjYXNlIDA6Zm9yKDsxMjgmQksoZSk7KTticmVhaztjYXNlIDI6TEsoZSxISyhlKSk7YnJlYWs7Y2FzZSA1OkxLKGUsNCk7YnJlYWs7Y2FzZSAxOkxLKGUsOCk7YnJlYWs7ZGVmYXVsdDp0aHJvdyBuZXcgRXJyb3IoXCJVbmltcGxlbWVudGVkIHR5cGU6IFwiK3QpfX1sZXQgQUs9bmV3IEZsb2F0MzJBcnJheSgxKTtuZXcgVWludDhBcnJheShBSy5idWZmZXIpO2xldCBiSz1uZXcgRmxvYXQ2NEFycmF5KDEpLHdLPW5ldyBVaW50OEFycmF5KGJLLmJ1ZmZlcik7ZnVuY3Rpb24gT0soZSl7cmV0dXJue2xvdzplfD0wLGhpZ2g6ZT4+MzEsdW5zaWduZWQ6ZT49MH19bGV0IE5LPVtdO2Z1bmN0aW9uIERLKCl7Y29uc3QgZT1OSy5wb3AoKTtyZXR1cm4gZT8oZS5vZmZzZXQ9ZS5saW1pdD0wLGUpOntieXRlczpuZXcgVWludDhBcnJheSg2NCksb2Zmc2V0OjAsbGltaXQ6MH19ZnVuY3Rpb24gUEsoZSl7TksucHVzaChlKX1mdW5jdGlvbiBMSyhlLHQpe2lmKGUub2Zmc2V0K3Q+ZS5saW1pdCl0aHJvdyBuZXcgRXJyb3IoXCJTa2lwIHBhc3QgbGltaXRcIik7ZS5vZmZzZXQrPXR9ZnVuY3Rpb24ga0soZSl7cmV0dXJuIGUub2Zmc2V0Pj1lLmxpbWl0fWZ1bmN0aW9uIE1LKGUsdCl7bGV0IGk9ZS5ieXRlcyxuPWUub2Zmc2V0LHI9ZS5saW1pdCxvPW4rdDtpZihvPmkubGVuZ3RoKXtsZXQgdD1uZXcgVWludDhBcnJheSgyKm8pO3Quc2V0KGkpLGUuYnl0ZXM9dH1yZXR1cm4gZS5vZmZzZXQ9byxvPnImJihlLmxpbWl0PW8pLG59ZnVuY3Rpb24gVUsoZSx0KXtsZXQgaT1lLm9mZnNldDtpZihpK3Q+ZS5saW1pdCl0aHJvdyBuZXcgRXJyb3IoXCJSZWFkIHBhc3QgbGltaXRcIik7cmV0dXJuIGUub2Zmc2V0Kz10LGl9ZnVuY3Rpb24geEsoZSx0KXtsZXQgaT1VSyhlLHQpLG49U3RyaW5nLmZyb21DaGFyQ29kZSxyPWUuYnl0ZXMsbz1cIu+/vVwiLHM9XCJcIjtmb3IobGV0IGU9MDtlPHQ7ZSsrKXtsZXQgYSxjLGQsbCx1PXJbZStpXTswPT0oMTI4JnUpP3MrPW4odSk6MTkyPT0oMjI0JnUpP2UrMT49dD9zKz1vOihhPXJbZStpKzFdLDEyOCE9KDE5MiZhKT9zKz1vOihsPSgzMSZ1KTw8Nnw2MyZhLGw8MTI4P3MrPW86KHMrPW4obCksZSsrKSkpOjIyND09KDI0MCZ1KT9lKzI+PXQ/cys9bzooYT1yW2UraSsxXSxjPXJbZStpKzJdLDMyODk2IT0oNDkzNDQmKGF8Yzw8OCkpP3MrPW86KGw9KDE1JnUpPDwxMnwoNjMmYSk8PDZ8NjMmYyxsPDIwNDh8fGw+PTU1Mjk2JiZsPD01NzM0Mz9zKz1vOihzKz1uKGwpLGUrPTIpKSk6MjQwPT0oMjQ4JnUpP2UrMz49dD9zKz1vOihhPXJbZStpKzFdLGM9cltlK2krMl0sZD1yW2UraSszXSw4NDIxNTA0IT0oMTI2MzIyNTYmKGF8Yzw8OHxkPDwxNikpP3MrPW86KGw9KDcmdSk8PDE4fCg2MyZhKTw8MTJ8KDYzJmMpPDw2fDYzJmQsbDw2NTUzNnx8bD4xMTE0MTExP3MrPW86KGwtPTY1NTM2LHMrPW4oNTUyOTYrKGw+PjEwKSw1NjMyMCsoMTAyMyZsKSksZSs9MykpKTpzKz1vfXJldHVybiBzfWZ1bmN0aW9uIFZLKGUsdCl7bGV0IGk9dC5sZW5ndGgsbj0wO2ZvcihsZXQgZT0wO2U8aTtlKyspe2xldCByPXQuY2hhckNvZGVBdChlKTtyPj01NTI5NiYmcjw9NTYzMTkmJmUrMTxpJiYocj0ocjw8MTApK3QuY2hhckNvZGVBdCgrK2UpLTU2NjEzODg4KSxuKz1yPDEyOD8xOnI8MjA0OD8yOnI8NjU1MzY/Mzo0fUtLKGUsbik7bGV0IHI9TUsoZSxuKSxvPWUuYnl0ZXM7Zm9yKGxldCBlPTA7ZTxpO2UrKyl7bGV0IG49dC5jaGFyQ29kZUF0KGUpO24+PTU1Mjk2JiZuPD01NjMxOSYmZSsxPGkmJihuPShuPDwxMCkrdC5jaGFyQ29kZUF0KCsrZSktNTY2MTM4ODgpLG48MTI4P29bcisrXT1uOihuPDIwNDg/b1tyKytdPW4+PjYmMzF8MTkyOihuPDY1NTM2P29bcisrXT1uPj4xMiYxNXwyMjQ6KG9bcisrXT1uPj4xOCY3fDI0MCxvW3IrK109bj4+MTImNjN8MTI4KSxvW3IrK109bj4+NiY2M3wxMjgpLG9bcisrXT02MyZufDEyOCl9fWZ1bmN0aW9uIEZLKGUsdCl7bGV0IGk9TUsoZSx0LmxpbWl0KSxuPWUuYnl0ZXMscj10LmJ5dGVzO2ZvcihsZXQgZT0wLG89dC5saW1pdDtlPG87ZSsrKW5bZStpXT1yW2VdfWZ1bmN0aW9uIEJLKGUpe3JldHVybiBlLmJ5dGVzW1VLKGUsMSldfWZ1bmN0aW9uIGpLKGUsdCl7bGV0IGk9TUsoZSwxKTtlLmJ5dGVzW2ldPXR9ZnVuY3Rpb24gR0soZSl7bGV0IHQ9VUsoZSw4KSxpPWUuYnl0ZXM7cmV0dXJuIHdLWzBdPWlbdCsrXSx3S1sxXT1pW3QrK10sd0tbMl09aVt0KytdLHdLWzNdPWlbdCsrXSx3S1s0XT1pW3QrK10sd0tbNV09aVt0KytdLHdLWzZdPWlbdCsrXSx3S1s3XT1pW3QrK10sYktbMF19ZnVuY3Rpb24gV0soZSx0KXtsZXQgaT1NSyhlLDgpLG49ZS5ieXRlcztiS1swXT10LG5baSsrXT13S1swXSxuW2krK109d0tbMV0sbltpKytdPXdLWzJdLG5baSsrXT13S1szXSxuW2krK109d0tbNF0sbltpKytdPXdLWzVdLG5baSsrXT13S1s2XSxuW2krK109d0tbN119ZnVuY3Rpb24gSEsoZSl7bGV0IHQsaT0wLG49MDtkb3t0PUJLKGUpLGk8MzImJihufD0oMTI3JnQpPDxpKSxpKz03fXdoaWxlKDEyOCZ0KTtyZXR1cm4gbn1mdW5jdGlvbiBLSyhlLHQpe2Zvcih0Pj4+PTA7dD49MTI4OylqSyhlLDEyNyZ0fDEyOCksdD4+Pj03O2pLKGUsdCl9ZnVuY3Rpb24gWUsoZSx0KXtsZXQgaT10Lmxvdz4+PjAsbj0odC5sb3c+Pj4yOHx0LmhpZ2g8PDQpPj4+MCxyPXQuaGlnaD4+PjI0LG89MD09PXI/MD09PW4/aTwxNjM4ND9pPDEyOD8xOjI6aTwxPDwyMT8zOjQ6bjwxNjM4ND9uPDEyOD81OjY6bjwxPDwyMT83Ojg6cjwxMjg/OToxMCxzPU1LKGUsbyksYT1lLmJ5dGVzO3N3aXRjaChvKXtjYXNlIDEwOmFbcys5XT1yPj4+NyYxO2Nhc2UgOTphW3MrOF09OSE9PW8/MTI4fHI6MTI3JnI7Y2FzZSA4OmFbcys3XT04IT09bz9uPj4+MjF8MTI4Om4+Pj4yMSYxMjc7Y2FzZSA3OmFbcys2XT03IT09bz9uPj4+MTR8MTI4Om4+Pj4xNCYxMjc7Y2FzZSA2OmFbcys1XT02IT09bz9uPj4+N3wxMjg6bj4+PjcmMTI3O2Nhc2UgNTphW3MrNF09NSE9PW8/MTI4fG46MTI3Jm47Y2FzZSA0OmFbcyszXT00IT09bz9pPj4+MjF8MTI4Omk+Pj4yMSYxMjc7Y2FzZSAzOmFbcysyXT0zIT09bz9pPj4+MTR8MTI4Omk+Pj4xNCYxMjc7Y2FzZSAyOmFbcysxXT0yIT09bz9pPj4+N3wxMjg6aT4+PjcmMTI3O2Nhc2UgMTphW3NdPTEhPT1vPzEyOHxpOjEyNyZpfX1mdW5jdGlvbiBxSyhlLHQpe3ZhciBpPU9iamVjdC5rZXlzKGUpO2lmKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBuPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7dCYmKG49bi5maWx0ZXIoKGZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsdCkuZW51bWVyYWJsZX0pKSksaS5wdXNoLmFwcGx5KGksbil9cmV0dXJuIGl9Y29uc3Qgeks9bmV3IE1hcChbW1wibW9kZXJhdGlvblwiLDFdLFtcInN1cGVydmlzZVwiLDJdXSk7ZnVuY3Rpb24gSksoZSl7cmV0dXJue2xvdzplfD0wLGhpZ2g6ZT4+MzEsdW5zaWduZWQ6ZT49MH19Y2xhc3MgWEsgZXh0ZW5kcyBTdntnZXQgY29ubmVjdGlvblN0YXRlKCl7cmV0dXJuIHRoaXMuX2Nvbm5lY3Rpb25TdGF0ZX1zZXQgY29ubmVjdGlvblN0YXRlKGUpe2lmKHRoaXMuX2Nvbm5lY3Rpb25TdGF0ZT09PWUpcmV0dXJuO2NvbnN0IHQ9dGhpcy5fY29ubmVjdGlvblN0YXRlO3RoaXMuX2Nvbm5lY3Rpb25TdGF0ZT1lLHRoaXMuZW1pdChldy5DT05ORUNUSU9OX1NUQVRFX0NIQU5HRSx0LGUpfWdldCBpbnNwZWN0VHlwZSgpe3JldHVybiB0aGlzLl9pbnNwZWN0VHlwZX1zZXQgaW5zcGVjdFR5cGUoZSl7dmFyIHQ7dGhpcy5faW5zcGVjdE1vZGU9Sm4odD1lLm1hcCgoZT0+eksuZ2V0KGUpfHwwKSkpLmNhbGwodCwoKGUsdCk9PmUrdCkpLHRoaXMuX2luc3BlY3RUeXBlPWV9Z2V0IHF1YWxpdHkoKXtyZXR1cm4gdGhpcy5fcXVhbGl0eX1zZXQgcXVhbGl0eShlKXt0aGlzLl9xdWFsaXR5PWU+MT8xOmU8LjE/LjE6ZSx0aGlzLnF1YWxpdHlUaW1lciYmKHdpbmRvdy5jbGVhclRpbWVvdXQodGhpcy5xdWFsaXR5VGltZXIpLHRoaXMucXVhbGl0eVRpbWVyPW51bGwpLHRoaXMuX3F1YWxpdHk+PTF8fCh0aGlzLnF1YWxpdHlUaW1lcj13aW5kb3cuc2V0VGltZW91dCgoKCk9Pnt0aGlzLnF1YWxpdHk9dGhpcy5fcXVhbGl0eS90aGlzLnF1YWxpdHlSYXRpb30pLDZlNCkpfWNvbnN0cnVjdG9yKGUpe3N1cGVyKCksb2codGhpcyxcIm5hbWVcIixcIkFnb3JhUlRDVmlkZW9Db250ZW50SW5zcGVjdFwiKSxvZyh0aGlzLFwiX2Nvbm5lY3Rpb25TdGF0ZVwiLFpiLkNPTk5FQ1RJTkcpLG9nKHRoaXMsXCJfaW5uZXJDb25uZWN0aW9uU3RhdGVcIix2b2lkIDApLG9nKHRoaXMsXCJzZXF1ZW5jZVwiLDApLG9nKHRoaXMsXCJpbnNwZWN0U3RhcnRUaW1lXCIsdm9pZCAwKSxvZyh0aGlzLFwid29ya2VyTWFuYWdlckNvbm5lY3Rpb25cIix2b2lkIDApLG9nKHRoaXMsXCJ3b3JrZXJDb25uZWN0aW9uXCIsdm9pZCAwKSxvZyh0aGlzLFwid29ya2VyTWVzc2FnZUxlbmd0aExpbWl0XCIsdm9pZCAwKSxvZyh0aGlzLFwiaW5zcGVjdEludGVydmFsTWluaW11bVwiLHZvaWQgMCksb2codGhpcyxcInF1YWxpdHlSYXRpb1wiLHZvaWQgMCksb2codGhpcyxcIl9jb25uZWN0SW5mb1wiLHZvaWQgMCksb2codGhpcyxcIl9jYW5jZWxUb2tlblNvdXJjZVwiLEVJLkNhbmNlbFRva2VuLnNvdXJjZSgpKSxvZyh0aGlzLFwiX3JldHJ5Q29uZmlnXCIsdm9pZCAwKSxvZyh0aGlzLFwid21TZXF1ZW5jZVwiLDApLG9nKHRoaXMsXCJpbnNwZWN0SW50ZXJ2YWxcIix2b2lkIDApLG9nKHRoaXMsXCJpbnNwZWN0VGltZXJcIixudWxsKSxvZyh0aGlzLFwib3NzRmlsZVByZWZpeFwiLHZvaWQgMCksb2codGhpcyxcImV4dHJhSW5mb1wiLHZvaWQgMCksb2codGhpcyxcIl9pbnNwZWN0VHlwZVwiLHZvaWQgMCksb2codGhpcyxcIl9pbnNwZWN0TW9kZVwiLHZvaWQgMCksb2codGhpcyxcIl9xdWFsaXR5XCIsMSksb2codGhpcyxcInF1YWxpdHlUaW1lclwiLG51bGwpLG9nKHRoaXMsXCJfaW5zcGVjdElkXCIsdm9pZCAwKSxvZyh0aGlzLFwiX25lZWRXb3JrVXJsT25seVwiLCExKSxvZyh0aGlzLFwiaW5zcGVjdEltYWdlXCIsKCgpPT57aWYodGhpcy5jb25uZWN0aW9uU3RhdGUhPT1aYi5DT05ORUNURUQpdGhyb3cgbmV3IFNiKG52Lk9QRVJBVElPTl9BQk9SVEVELFwiY29udGVudCBpbnNwZWN0IHNlcnZpY2UgY29ubmVjdGlvbiBzdGF0dXMgaXMgXCIuY29uY2F0KHRoaXMuY29ubmVjdGlvblN0YXRlKSk7dGhpcy5pbnNwZWN0VGltZXImJih3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLmluc3BlY3RUaW1lciksdGhpcy5pbnNwZWN0VGltZXI9bnVsbCksdGhpcy5pbnNwZWN0VGltZXI9d2luZG93LnNldEludGVydmFsKCgoKT0+e3RoaXMuY29ubmVjdGlvblN0YXRlPT09WmIuQ09OTkVDVEVEP3RoaXMucmVxdWVzdFRvSW5zcGVjdEltYWdlKCk6UXkuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2luc3BlY3RJZCxcIl0gSW5zcGVjdCBTdGF0ZSBpcyBub3QgY29ubmVjdGVkICwgXCIpLHRoaXMuY29ubmVjdGlvblN0YXRlKX0pLHRoaXMuaW5zcGVjdEludGVydmFsPHRoaXMuaW5zcGVjdEludGVydmFsTWluaW11bT90aGlzLmluc3BlY3RJbnRlcnZhbE1pbmltdW06dGhpcy5pbnNwZWN0SW50ZXJ2YWwpLHRoaXMucmVxdWVzdFRvSW5zcGVjdEltYWdlKCl9KSksdGhpcy5faW5zcGVjdElkPWV5KDUsXCJpbnNwZWN0LVwiKSx0aGlzLndvcmtlck1lc3NhZ2VMZW5ndGhMaW1pdD1EeShcIlZJREVPX0lOU1BFQ1RfV09SS0VSX01FU1NBR0VfTEVOR1RIX0xJTUlUXCIpLHRoaXMuaW5zcGVjdEludGVydmFsTWluaW11bT1EeShcIlZJREVPX0lOU1BFQ1RfSU5URVJWQUxfTUlOSU1VTVwiKSx0aGlzLnF1YWxpdHlSYXRpbz1EeShcIlZJREVPX0lOU1BFQ1RfUVVBTElUWV9SQVRJT1wiKSx0aGlzLmluc3BlY3RJbnRlcnZhbD1lLmludGVydmFsLHRoaXMub3NzRmlsZVByZWZpeD1lLm9zc0ZpbGVQcmVmaXgsdGhpcy5leHRyYUluZm89ZS5leHRyYUluZm8sdGhpcy5pbnNwZWN0VHlwZT1lLmluc3BlY3RUeXBlLHRoaXMuaW5zcGVjdFN0YXJ0VGltZT1OdW1iZXIoRGF0ZS5ub3coKSksdGhpcy53b3JrZXJNYW5hZ2VyQ29ubmVjdGlvbj1uZXcgYncoXCJ3b3JrZXItbWFuYWdlci1cIit0aGlzLl9pbnNwZWN0SWQsX3kpLHRoaXMub24oZXcuU1RBVEVfQ0hBTkdFLCgoZSx0KT0+e3RoaXMuX2lubmVyQ29ubmVjdGlvblN0YXRlPWUsUXkuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2luc3BlY3RJZCxcIl0gSW5zcGVjdCBvcGVyYXRpb24gOlwiKS5jb25jYXQoJGJbZV0sXCIgXCIpLmNvbmNhdCh0fHxcIlwiKSl9KSksdGhpcy5oYW5kbGVXb3JrZXJNYW5hZ2VyRXZlbnRzKCksdGhpcy53b3JrZXJDb25uZWN0aW9uPW5ldyBidyhcIndvcmtlci1cIit0aGlzLl9pbnNwZWN0SWQsX3kpLHRoaXMuaGFuZGxlV29ya2VyRXZlbnRzKCl9YXN5bmMgaW5pdChlLHQpe3RoaXMuZW1pdChldy5TVEFURV9DSEFOR0UsJGIuQ09OTkVDVF9BUCksdGhpcy5fY29ubmVjdEluZm89ZTtjb25zdCBpPXRoaXMuX2NhbmNlbFRva2VuU291cmNlLnRva2VuO3JldHVybiB0aGlzLl9yZXRyeUNvbmZpZz10LG5ldyBHaCgoKG4scik9Pnt0aGlzLm9uKGV3LkNPTk5FQ1RJT05fU1RBVEVfQ0hBTkdFLCgoZSx0KT0+e3Q9PT1aYi5DT05ORUNURUQmJm4oKX0pKSx0aGlzLnJlcXVlc3RBUChlLGksdCkudGhlbigoZT0+e3RoaXMuY29ubmVjdFdvcmtlck1hbmFnZXIoZSl9KSkuY2F0Y2goKGU9PntyKGUpfSkpfSkpfWFzeW5jIHJlcXVlc3RBUChlLHQsaSl7Y29uc3Qgbj1EeShcIldFQkNTX0RPTUFJTlwiKS5tYXAoKGU9PlwiaHR0cHM6Ly9cIi5jb25jYXQoZSxcIi9hcGkvdjFcIikpKSxyPWF3YWl0IGZ1bmN0aW9uKGUsdCxpLG4pe2xldHthcHBJZDpyLGFyZWFDb2RlOm8sY25hbWU6cyxzaWQ6YSx0b2tlbjpjLHVpZDpkfT10O0lVKys7Y29uc3QgbD1cImltYWdlX21vZGVyYXRpb25fYXBpXCIsdT17c2VydmljZV9uYW1lOmwsanNvbl9ib2R5OkpTT04uc3RyaW5naWZ5KHthcHBJZDpyLGFyZWFDb2RlOm8sY25hbWU6cyxjb21tYW5kOlwiYWxsb2NhdGVFZGdlXCIscmVxdWVzdElkOklVLHNlcTpJVSxzaWQ6YSx0b2tlbjpjLHRzOkRhdGUubm93KCksdWlkOmQrXCJcIn0pfTtsZXQgaCxwLF89ZVswXTtyZXR1cm4gbXkoKGFzeW5jKCk9PntoPURhdGUubm93KCk7Y29uc3QgZT1hd2FpdCB0VShfLHtkYXRhOnUsY2FuY2VsVG9rZW46aSxoZWFkZXJzOntcIlgtUGFja2V0LVNlcnZpY2UtVHlwZVwiOlwiMFwiLFwiWC1QYWNrZXQtVVJJXCI6XCI2MVwifSxwYXJhbXM6e2FjdGlvbjpcIndydGNfZ2F0ZXdheVwifX0pO2lmKHA9RGF0ZS5ub3coKS1oLDAhPT1lLmNvZGUpe2NvbnN0IHQ9bmV3IFNiKG52LlVORVhQRUNURURfUkVTUE9OU0UsXCJpbWFnZSBpbnNwZWN0IGFwIGVycm9yLCBjb2RlXCIrZS5jb2RlLHtyZXRyeTohMCxyZXNwb25zZVRpbWU6cH0pO3Rocm93IFF5LmVycm9yKHQudG9TdHJpbmcoKSksdH1jb25zdCB0PUpTT04ucGFyc2UoZS5qc29uX2JvZHkpO2lmKDIwMCE9PXQuY29kZSl7Y29uc3QgZT1uZXcgU2IobnYuVU5FWFBFQ1RFRF9SRVNQT05TRSxcImltYWdlIGluc3BlY3QgYXAgZXJyb3IsIGNvZGU6IFwiLmNvbmNhdCh0LmNvZGUsXCIsIHJlYXNvbjogXCIpLmNvbmNhdCh0LnJlYXNvbikse2NvZGU6dC5jb2RlLHJlc3BvbnNlVGltZTpwfSk7dGhyb3cgUXkuZXJyb3IoZS50b1N0cmluZygpKSxlfWlmKCF0LnNlcnZlcnN8fCFBcnJheS5pc0FycmF5KHQuc2VydmVycyl8fDA9PT10LnNlcnZlcnMubGVuZ3RoKXtjb25zdCBlPW5ldyBTYihudi5VTkVYUEVDVEVEX1JFU1BPTlNFLFwiaW1hZ2UgaW5zcGVjdCBhcCBlbXB0eSBzZXJ2ZXJcIix7Y29kZTp0LmNvZGUscmVzcG9uc2VUaW1lOnB9KTt0aHJvdyBReS5lcnJvcihlLnRvU3RyaW5nKCkpLGV9Y29uc3Qgbj1EeShcIlZJREVPX0lOU1BFQ1RfV09SS0VSX01BTkFHRVJfSE9TVFwiKSxyPUR5KFwiVklERU9fSU5TUEVDVF9XT1JLRVJfTUFOQUdFUl9QT1JUXCIpO3JldHVybnthZGRyZXNzTGlzdDp0LnNlcnZlcnMubWFwKChlPT57bGV0e2FkZHJlc3M6dCx3c3M6aX09ZTtpZih0JiZpKXJldHVyblwid3NzOi8vXCIuY29uY2F0KHQucmVwbGFjZSgvXFwuL2csXCItXCIpLFwiLlwiKS5jb25jYXQobixcIjpcIikuY29uY2F0KHJ8fGkpfSkpLmZpbHRlcigoZT0+ISFlKSksd29ya2VyVG9rZW46dC53b3JrZXJUb2tlbix2aWQ6dC52aWQscmVzcG9uc2VUaW1lOnB9fSksKCh0LGkpPT4oc0EuYXB3b3JrZXJFdmVudChhLHtzdWNjZXNzOiEwLHNjOjIwMCxzZXJ2aWNlTmFtZTpsLHJlc3BvbnNlRGV0YWlsOkpTT04uc3RyaW5naWZ5KHQuYWRkcmVzc0xpc3QpLGZpcnN0U3VjY2VzczowPT09aSxyZXNwb25zZVRpbWU6cCxzZXJ2ZXJJcDplW2klZS5sZW5ndGhdfSksITEpKSwoKHQsaSk9PihzQS5hcHdvcmtlckV2ZW50KGEse3N1Y2Nlc3M6ITEsc2M6dC5kYXRhJiZ0LmRhdGEuY29kZXx8MjAwLHNlcnZpY2VOYW1lOmwscmVzcG9uc2VUaW1lOnAsc2VydmVySXA6ZVtpJWUubGVuZ3RoXX0pLCEhKHQuY29kZSE9PW52Lk9QRVJBVElPTl9BQk9SVEVEJiZ0LmNvZGUhPT1udi5VTkVYUEVDVEVEX1JFU1BPTlNFfHx0LmRhdGEmJnQuZGF0YS5yZXRyeSkmJihfPWVbKGkrMSklZS5sZW5ndGhdLCEwKSkpLG4pfShuLGUsdCxpKTt0aGlzLmVtaXQoZXcuU1RBVEVfQ0hBTkdFLCRiLkFQX0NPTk5FQ1RFRCk7Y29uc3R7YWRkcmVzc0xpc3Q6b309cjtyZXR1cm4gdGhpcy53bVNlcXVlbmNlKyssb31hc3luYyBjb25uZWN0V29ya2VyTWFuYWdlcihlKXtsZXQgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSYmYXJndW1lbnRzWzFdO3RoaXMuX25lZWRXb3JrVXJsT25seT10LHRoaXMuZW1pdChldy5TVEFURV9DSEFOR0UsJGIuQ09OTkVDVF9XT1JLRVJfTUFOQUdFUiksYXdhaXQgdGhpcy53b3JrZXJNYW5hZ2VyQ29ubmVjdGlvbi5pbml0KGUsMWU0KX1hc3luYyBjb25uZWN0V29ya2VyKGUpe2F3YWl0IHRoaXMud29ya2VyQ29ubmVjdGlvbi5pbml0KFtlXSl9aGFuZGxlV29ya2VyTWFuYWdlckV2ZW50cygpe3RoaXMud29ya2VyTWFuYWdlckNvbm5lY3Rpb24ub24oVGIuQ09OTkVDVEVELChhc3luYygpPT57dGhpcy5lbWl0KGV3LlNUQVRFX0NIQU5HRSwkYi5XT1JLRVJfTUFOQUdFUl9DT05ORUNURUQsdGhpcy53b3JrZXJNYW5hZ2VyQ29ubmVjdGlvbi51cmwpLHRoaXMud29ya2VyTWFuYWdlckNvbm5lY3Rpb24uc2VuZE1lc3NhZ2Uoe2FwcElkOnRoaXMuX2Nvbm5lY3RJbmZvLmFwcElkLGNuYW1lOnRoaXMuX2Nvbm5lY3RJbmZvLmNuYW1lLHVpZDp0aGlzLl9jb25uZWN0SW5mby51aWQrXCJcIixzZGtWZXJzaW9uOlwiNC4yMi4wXCIsc2lkOnRoaXMuX2Nvbm5lY3RJbmZvLnNpZCxzZXE6dGhpcy53bVNlcXVlbmNlLHRzOk51bWJlcihEYXRlLm5vdygpKSxyZXF1ZXN0SWQ6TWF0aC5mbG9vcigxZTEyKk1hdGgucmFuZG9tKCkpLGFsbG9jYXRlOiEwLGNsaWVudFJlcXVlc3Q6e2NvbW1hbmQ6XCJqb2luXCJ9fSwhMCl9KSksdGhpcy53b3JrZXJNYW5hZ2VyQ29ubmVjdGlvbi5vbihUYi5DTE9TRUQsKCgpPT57dGhpcy5faW5uZXJDb25uZWN0aW9uU3RhdGU8JGIuR0VUX1dPUktFUl9NQU5BR0VSX1JFU1BPTlNFJiZReS5kZWJ1ZyhcIltcIi5jb25jYXQodGhpcy5faW5zcGVjdElkLFwiXSBJbnNwZWN0IHdvcmtlciBtYW5hZ2VyIGlzIGNsb3NlZCBiZWZvcmUgY29ubmVjdGluZyB3b3JrZXJcIikpfSkpLHRoaXMud29ya2VyTWFuYWdlckNvbm5lY3Rpb24ub24oVGIuRkFJTEVELCgoKT0+e3RoaXMuX2lubmVyQ29ubmVjdGlvblN0YXRlPCRiLkdFVF9XT1JLRVJfTUFOQUdFUl9SRVNQT05TRSYmUXkuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2luc3BlY3RJZCxcIl0gQ29ubmVjdGluZyBpbnNwZWN0IHdvcmtlciBtYW5hZ2VyIGlzIGZhaWxlZCBiZWZvcmUgY29ubmVjdGluZyB3b3JrZXJcIikpfSkpLHRoaXMud29ya2VyTWFuYWdlckNvbm5lY3Rpb24ub24oVGIuUkVDT05ORUNUSU5HLCgoKT0+e3RoaXMuX2lubmVyQ29ubmVjdGlvblN0YXRlPCRiLkdFVF9XT1JLRVJfTUFOQUdFUl9SRVNQT05TRSYmUXkuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2luc3BlY3RJZCxcIl0gSW5zcGVjdCB3b3JrZXIgbWFuYWdlciBpcyByZWNvbm5lY3RpbmcgYmVmb3JlIGNvbm5lY3Rpbmcgd29ya2VyXCIpKX0pKSx0aGlzLndvcmtlck1hbmFnZXJDb25uZWN0aW9uLm9uKFRiLk9OX01FU1NBR0UsKGFzeW5jIGU9Pnt0aGlzLmVtaXQoZXcuU1RBVEVfQ0hBTkdFLCRiLkdFVF9XT1JLRVJfTUFOQUdFUl9SRVNQT05TRSk7Y29uc3QgdD10aGlzLndvcmtlck1hbmFnZXJDb25uZWN0aW9uLnVybDt0aGlzLndvcmtlck1hbmFnZXJDb25uZWN0aW9uLmNsb3NlKCk7Y29uc3QgaT1KU09OLnBhcnNlKGUuZGF0YSk7aWYoMjAwIT09aS5jb2RlKXRocm93IFF5LmVycm9yKFwiW1wiLmNvbmNhdCh0aGlzLl9pbnNwZWN0SWQsXCJdIFVuZXhwZWN0ZWQgY29kZSBcIikuY29uY2F0KGkuY29kZSxcIiBmcm9tIHdvcmtlciBtYW5hZ2VyXCIpKSxuZXcgU2IobnYuVU5FWFBFQ1RFRF9SRVNQT05TRSxcInJlc3BvbnNlIGNvZGUgb2Ygd29ya2VyIGlzIHVuZXhwZWN0ZWRcIixpKTtpZighKGkuc2VydmVyUmVzcG9uc2UmJmkuc2VydmVyUmVzcG9uc2UucG9ydFdzcyYmdCkpdGhyb3cgUXkuZXJyb3IoXCJbXCIuY29uY2F0KHRoaXMuX2luc3BlY3RJZCxcIl0gVW5leHBlY3RlZCBjb250ZW50IGZyb20gd29ya2VyIG1hbmFnZXIgOiBcIikuY29uY2F0KEpTT04uc3RyaW5naWZ5KGkpKSksbmV3IFNiKG52LlVORVhQRUNURURfUkVTUE9OU0UsXCJyZXNwb25zZSBjb250ZW50IG9mIHdvcmtlciBpcyB1bmV4cGVjdGVkXCIsaSk7e2NvbnN0IGU9RHkoXCJWSURFT19JTlNQRUNUX1dPUktFUl9QT1JUXCIpfHxpLnNlcnZlclJlc3BvbnNlLnBvcnRXc3Msbj10LnJlcGxhY2UoLzpcXGQrXFwvPyQvLFwiOlwiLmNvbmNhdChlKSk7dGhpcy5lbWl0KGV3LlNUQVRFX0NIQU5HRSwkYi5DT05ORUNUX1dPUktFUixuKSx0aGlzLl9uZWVkV29ya1VybE9ubHk/dGhpcy5lbWl0KGV3LlJFUVVFU1RfTkVXX1dPUktFUl9VUkwsbik6YXdhaXQgdGhpcy5jb25uZWN0V29ya2VyKG4pfX0pKSx0aGlzLndvcmtlck1hbmFnZXJDb25uZWN0aW9uLm9uKFRiLldJTExfUkVDT05ORUNULCgoZSx0LGkpPT57aShlKX0pKSx0aGlzLndvcmtlck1hbmFnZXJDb25uZWN0aW9uLm9uKFRiLlJFUVVFU1RfTkVXX1VSTFMsKChlLHQpPT57dGhpcy5yZXF1ZXN0QVAodGhpcy5fY29ubmVjdEluZm8sdGhpcy5fY2FuY2VsVG9rZW5Tb3VyY2UudG9rZW4sdGhpcy5fcmV0cnlDb25maWcpLnRoZW4oZSkuY2F0Y2godCl9KSl9aGFuZGxlV29ya2VyRXZlbnRzKCl7dGhpcy53b3JrZXJDb25uZWN0aW9uLm9uKFRiLkNPTk5FQ1RFRCwoYXN5bmMoKT0+e3RoaXMuZW1pdChldy5TVEFURV9DSEFOR0UsJGIuV09SS0VSX0NPTk5FQ1RFRCx0aGlzLndvcmtlckNvbm5lY3Rpb24udXJsKSx0aGlzLmNvbm5lY3Rpb25TdGF0ZT1aYi5DT05ORUNURUR9KSksdGhpcy53b3JrZXJDb25uZWN0aW9uLm9uKFRiLk9OX01FU1NBR0UsKGFzeW5jIGU9PntpZihlLmRhdGEgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcil7Y29uc3QgaT1SSyhuZXcgVWludDhBcnJheShlLmRhdGEpKTtpZihEeShcIlNIT1dfVklERU9fSU5TUEVDVF9XT1JLRVJfTUVTU0FHRVwiKSYmUXkuZGVidWcoXCJbXCIuY29uY2F0KHRoaXMuX2luc3BlY3RJZCxcIl0gUmVzcG9uc2UgbWVzc2FnZSBmb3Igd29ya2VyIG9mIGluc3BlY3QgY29udGVudCBcIiksSlNPTi5zdHJpbmdpZnkoaSkpLDIwMD09PWkuY29kZSl7aWYoQXJyYXkuaXNBcnJheSh0aGlzLmluc3BlY3RUeXBlKSYmMT09PXRoaXMuaW5zcGVjdFR5cGUubGVuZ3RoJiZcInN1cGVydmlzZVwiPT09dGhpcy5pbnNwZWN0VHlwZVswXSlyZXR1cm4gdm9pZCB0aGlzLmVtaXQoZXcuSU5TUEVDVF9SRVNVTFQsdm9pZCAwLHZvaWQgMCk7aWYoaS5kYXRhJiZpLmRhdGEuc2NvcmVQb3JuJiZpLmRhdGEuc2NvcmVTZXh5JiZpLmRhdGEuc2NvcmVOZXV0cmFsKXt2YXIgdDtjb25zdCBlPXtwb3JuOmkuZGF0YS5zY29yZVBvcm4sc2V4eTppLmRhdGEuc2NvcmVTZXh5LG5ldXRyYWw6aS5kYXRhLnNjb3JlTmV1dHJhbH0sbj1Kbih0PU9iamVjdC5rZXlzKGUpKS5jYWxsKHQsKCh0LGkpPT5lW3RdPmVbaV0/dDppKSxcInBvcm5cIikscj1PYmplY3Qua2V5cyhlKS5maW5kKChlPT5lPT09bikpO3RoaXMuZW1pdChldy5JTlNQRUNUX1JFU1VMVCxyKX1lbHNlIHRoaXMuZW1pdChldy5JTlNQRUNUX1JFU1VMVCx2b2lkIDAsbmV3IFNiKG52LlVORVhQRUNURURfUkVTUE9OU0UsaS5jb2RlK1wiXCIsXCJUaGVyZSBpcyBhbiB1bmV4cGVjdGVkIGRhdGEgb24gbWVzc2FnZVwiKSl9ZWxzZSB0aGlzLmVtaXQoZXcuSU5TUEVDVF9SRVNVTFQsdm9pZCAwLG5ldyBTYihudi5VTkVYUEVDVEVEX1JFU1BPTlNFLGkuY29kZStcIlwiLGkubXNnKSl9ZWxzZSBReS5lcnJvcihcIltcIi5jb25jYXQodGhpcy5faW5zcGVjdElkLFwiXSBVbmV4cGVjdGVkIG1lc3NhZ2UgdHlwZSBmcm9tIHdvcmtlclwiKSksdGhpcy5lbWl0KGV3LklOU1BFQ1RfUkVTVUxULHZvaWQgMCxuZXcgU2IobnYuVU5FWFBFQ1RFRF9SRVNQT05TRSxcImludmFsaWQgd29ya2VyIG1lc3NhZ2UgdHlwZVwiKSl9KSksdGhpcy53b3JrZXJDb25uZWN0aW9uLm9uKFRiLkNMT1NFRCwoKCk9Pnt0aGlzLmNvbm5lY3Rpb25TdGF0ZT1aYi5DTE9TRUR9KSksdGhpcy53b3JrZXJDb25uZWN0aW9uLm9uKFRiLkZBSUxFRCwoKCk9Pnt0aGlzLmNvbm5lY3Rpb25TdGF0ZT1aYi5DTE9TRUR9KSksdGhpcy53b3JrZXJDb25uZWN0aW9uLm9uKFRiLlJFQ09OTkVDVElORywoKCk9Pnt0aGlzLmNvbm5lY3Rpb25TdGF0ZT10aGlzLmNvbm5lY3Rpb25TdGF0ZT09PVpiLkNPTk5FQ1RFRD9aYi5SRUNPTk5FQ1RJTkc6WmIuQ09OTkVDVElOR30pKSx0aGlzLndvcmtlckNvbm5lY3Rpb24ub24oVGIuV0lMTF9SRUNPTk5FQ1QsKChlLHQsaSk9PntcInJlY292ZXJcIj09PWUmJmkoZSksaShcInRyeU5leHRcIil9KSksdGhpcy53b3JrZXJDb25uZWN0aW9uLm9uKFRiLlJFUVVFU1RfTkVXX1VSTFMsKChlLHQpPT57dGhpcy53b3JrZXJNYW5hZ2VyQ29ubmVjdGlvbi5jbG9zZSgpLHRoaXMub25jZShldy5SRVFVRVNUX05FV19XT1JLRVJfVVJMLCh0PT57ZShbdF0pfSkpLHRoaXMucmVxdWVzdEFQKHRoaXMuX2Nvbm5lY3RJbmZvLHRoaXMuX2NhbmNlbFRva2VuU291cmNlLnRva2VuLHRoaXMuX3JldHJ5Q29uZmlnKS50aGVuKChlPT57dGhpcy5jb25uZWN0V29ya2VyTWFuYWdlcihlLCEwKX0pKS5jYXRjaCgoZT0+e3QoZSl9KSl9KSl9YXN5bmMgcmVxdWVzdFRvSW5zcGVjdEltYWdlKCl7dGhpcy5zZXF1ZW5jZSsrO2NvbnN0IGU9VXYodGhpcyxldy5DTElFTlRfTE9DQUxfVklERU9fVFJBQ0spLHQ9e2FwcElkOnRoaXMuX2Nvbm5lY3RJbmZvLmFwcElkLGNuYW1lOnRoaXMuX2Nvbm5lY3RJbmZvLmNuYW1lLGNpZDp0aGlzLl9jb25uZWN0SW5mby5jaWQsc2lkOnRoaXMuX2Nvbm5lY3RJbmZvLnNpZCx1aWQ6dGhpcy5fY29ubmVjdEluZm8udWlkLHZpZDp0aGlzLl9jb25uZWN0SW5mby52aWR9O2lmKGUpe2lmKCFlLmlzUGxheWluZylyZXR1cm4gdm9pZCB0aGlzLmVtaXQoZXcuSU5TUEVDVF9SRVNVTFQsdm9pZCAwLG5ldyBTYihudi5JTlZBTElEX09QRVJBVElPTixcIk9ubHkgdGhlIHRyYWNrIGJlaW5nIHBsYXllZCBjYW4gYmUgaW5zcGVjdGVkXCIpKTtjb25zdCBpPWF3YWl0IHRoaXMuZ2VuZXJhdGVSZXF1ZXN0RGF0YShlLHQpO3RoaXMud29ya2VyQ29ubmVjdGlvbi5zZW5kTWVzc2FnZShpLCEwLCEwKX1lbHNlIHRoaXMuZW1pdChldy5JTlNQRUNUX1JFU1VMVCx2b2lkIDAsbmV3IFNiKG52LklOVkFMSURfT1BFUkFUSU9OLFwiT25seSB0aGUgdHJhY2sgYmVpbmcgcHVibGlzaGVkIGNhbiBiZSBpbnNwZWN0ZWRcIikpfWFzeW5jIGdlbmVyYXRlUmVxdWVzdERhdGEoZSx0KXtsZXR7YXBwSWQ6aSxjbmFtZTpuLGNpZDpyLHZpZDpvLHNpZDpzLHVpZDphfT10O2NvbnN0IGM9RGF0ZS5ub3coKSxkPWF3YWl0IGUuZ2V0Q3VycmVudEZyYW1lSW1hZ2UoXCJpbWFnZS9qcGVnXCIsdGhpcy5xdWFsaXR5KSxsPWF3YWl0IGhMKGQsaSxuKSx1PXRoaXMuc2VxdWVuY2UrXCItXCIrcitcIi1cIithK1wiLVwiK2MrXCItXCIrZXkoMTIsXCJcIiksaD17YXBwSWQ6aSxjaWQ6cixjbmFtZTpuLGRldmljZUlkOlwiXCIsZWxhcHNlOkpLKE51bWJlcihjLXRoaXMuaW5zcGVjdFN0YXJ0VGltZSkpLGZpbGVTaXplOmwuYnl0ZUxlbmd0aCxqcGdFbmNyeXB0aW9uOjIsaGVpZ2h0OmQuaGVpZ2h0LHdpZHRoOmQud2lkdGgsanBnOmwsbmV0d29ya1R5cGU6Nixvc1R5cGU6NyxyZXF1ZXN0SWQ6dSxzZGtWZXJzaW9uOlwiNC4yMi4wXCIsc2VxdWVuY2U6dGhpcy5zZXF1ZW5jZSxzaWQ6cyx0aW1lc3RhbXA6SksoYyksdWlkOmEsdmlkOm8sc2VydmljZTp0aGlzLl9pbnNwZWN0TW9kZSxjYWxsYmFja0RhdGE6dGhpcy5leHRyYUluZm8sb3NzRmlsZVByZWZpeDp0aGlzLm9zc0ZpbGVQcmVmaXh9O3ZvaWQgMD09PXRoaXMuZXh0cmFJbmZvJiZkZWxldGUgaC5jYWxsYmFja0RhdGEsdm9pZCAwPT09dGhpcy5vc3NGaWxlUHJlZml4JiZkZWxldGUgaC5vc3NGaWxlUHJlZml4O2NvbnN0IHA9Z0soaCk7aWYocC5ieXRlTGVuZ3RoPHRoaXMud29ya2VyTWVzc2FnZUxlbmd0aExpbWl0KXtpZihEeShcIlNIT1dfVklERU9fSU5TUEVDVF9XT1JLRVJfTUVTU0FHRVwiKSl7Y29uc3QgZT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9MTt0PGFyZ3VtZW50cy5sZW5ndGg7dCsrKXt2YXIgaT1udWxsIT1hcmd1bWVudHNbdF0/YXJndW1lbnRzW3RdOnt9O3QlMj9xSyhPYmplY3QoaSksITApLmZvckVhY2goKGZ1bmN0aW9uKHQpe29nKGUsdCxpW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKGkpKTpxSyhPYmplY3QoaSkpLmZvckVhY2goKGZ1bmN0aW9uKHQpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShlLHQsT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihpLHQpKX0pKX1yZXR1cm4gZX0oe30saCk7ZGVsZXRlIGUuanBnLFF5LmRlYnVnKFwiW1wiLmNvbmNhdCh0aGlzLl9pbnNwZWN0SWQsXCJdIFJlcXVlc3QgbWVzc2FnZSBmb3Igd29ya2VyIG9mIGluc3BlY3QgY29udGVudCBcIiksSlNPTi5zdHJpbmdpZnkoZSkpfXJldHVybiBwfXtjb25zdCB0PXRoaXMucXVhbGl0eSp0aGlzLnF1YWxpdHlSYXRpbztyZXR1cm4gdGhpcy5xdWFsaXR5PXQsYXdhaXQgdGhpcy5nZW5lcmF0ZVJlcXVlc3REYXRhKGUse2FwcElkOmksY25hbWU6bixjaWQ6cix2aWQ6byxzaWQ6cyx1aWQ6YX0pfX1jbG9zZSgpe3RoaXMuX2NhbmNlbFRva2VuU291cmNlLmNhbmNlbCgpLHRoaXMuX2NhbmNlbFRva2VuU291cmNlPUVJLkNhbmNlbFRva2VuLnNvdXJjZSgpLHRoaXMud29ya2VyTWFuYWdlckNvbm5lY3Rpb24mJnRoaXMud29ya2VyTWFuYWdlckNvbm5lY3Rpb24uY2xvc2UoKSx0aGlzLndvcmtlckNvbm5lY3Rpb24mJnRoaXMud29ya2VyQ29ubmVjdGlvbi5jbG9zZSgpLHRoaXMuaW5zcGVjdFRpbWVyJiZ3aW5kb3cuY2xlYXJJbnRlcnZhbCh0aGlzLmluc3BlY3RUaW1lciksdGhpcy5pbnNwZWN0VGltZXI9bnVsbCx0aGlzLmNvbm5lY3Rpb25TdGF0ZT1aYi5DTE9TRUQsdGhpcy5lbWl0KGV3LlNUQVRFX0NIQU5HRSwkYi5DTE9TRUQpfX1jb25zdCBRSz17bmFtZTpcIkNvbnRlbnRJbnNwZWN0XCIsY3JlYXRlOmZ1bmN0aW9uKGUpe2xldHtjb25maWc6dH09ZTtyZXR1cm4gZnVuY3Rpb24oZSl7aWYoIWUpdGhyb3cgbmV3IFNiKG52LklOVkFMSURfUEFSQU1TLFwiaW5zcGVjdENvbmZpZyBpcyBuZWNlc3NhcnkuXCIpO2lmKCFlLmluc3BlY3RUeXBlfHwhQXJyYXkuaXNBcnJheShlLmluc3BlY3RUeXBlKSl0aHJvdyBuZXcgU2IobnYuSU5WQUxJRF9QQVJBTVMsXCJpbnNwZWN0Q29uZmlnLmluc3BlY3RUeXBlIGlzIG5lY2Vzc2FyeSBhbmQgaXMgYW4gaW5zdGFuY2Ugb2YgQXJyYXkuXCIpO3tjb25zdCB0PVsuLi5uZXcgU2V0KGUuaW5zcGVjdFR5cGUpXTt0LmZvckVhY2goKGU9Pnt2YXIgdDtpZighRG4odD1bXCJzdXBlcnZpc2VcIixcIm1vZGVyYXRpb25cIl0pLmNhbGwodCxlKSl0aHJvdyBuZXcgU2IobnYuSU5WQUxJRF9QQVJBTVMsXCJcIi5jb25jYXQoZSxcIiBpcyBub3QgYSB2YWxpZCBpbnNwZWN0IHR5cGUuXCIpKX0pKSxlLmluc3BlY3RUeXBlPXR9aWYoZSYmZS5leHRyYUluZm8mJmUuZXh0cmFJbmZvLmxlbmd0aD4xMDI0KXRocm93IG5ldyBTYihudi5JTlZBTElEX1BBUkFNUyxcImluc3BlY3RDb25maWcuZXh0cmFJbmZvIGxlbmd0aCBjYW5ub3QgZXhjZWVkIDEwMjQgYnl0ZXNcIil9KHQpLG5ldyBYSyh0KX19O055KFwiUFJPQ0VTU19JRFwiLFwicHJvY2Vzcy1cIi5jb25jYXQoZXkoOCxcIlwiKSxcIi1cIikuY29uY2F0KGV5KDQsXCJcIiksXCItXCIpLmNvbmNhdChleSg0LFwiXCIpLFwiLVwiKS5jb25jYXQoZXkoNCxcIlwiKSxcIi1cIikuY29uY2F0KGV5KDEyLFwiXCIpKSksZnVuY3Rpb24oKXtsZXQgZTt0cnl7ZT13aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJ3ZWJzZGtfbmdfZ2xvYmFsX3BhcmFtZXRlclwiKX1jYXRjaChlKXtyZXR1cm4gdm9pZCBReS5lcnJvcihcIkVycm9yIGxvYWRpbmcgc2RrIGNvbmZpZ1wiLGUubWVzc2FnZSl9aWYoZSl0cnl7Y29uc3QgdD1KU09OLnBhcnNlKHdpbmRvdy5hdG9iKGUpKSxpPURhdGUubm93KCk7UXkuZGVidWcoXCJMb2FkaW5nIGdsb2JhbCBwYXJhbWV0ZXJzIGZyb20gY2FjaGVcIix0KSxPYmplY3Qua2V5cyh0KS5mb3JFYWNoKChlPT57aWYoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKE95LGUpKXtjb25zdHt2YWx1ZTpuLGV4cGlyZXM6cn09dFtlXTtpZihyJiZyPD1pKXJldHVybjtQeVtlXT1uLE95W2VdPW59fSkpfWNhdGNoKHQpe1F5LmVycm9yKFwiRXJyb3IgbG9hZGluZyBtdXRhYmxlUGFyYW1zQ2FjaGU6IFwiLmNvbmNhdChlKSx0Lm1lc3NhZ2UpfX0oKSxBcnJheS5pc0FycmF5KFB5LkFSRUFTKSYmUHkuQVJFQVMubGVuZ3RoPjAmJmxVKFB5LkFSRUFTLCEwKTtjb25zdCBaSz0oZSx0LGkpPT57UXkuZGVidWcoXCJzZXRQYXJhbWV0ZXIga2V5OlwiLmNvbmNhdChlLFwiLCB2YWx1ZTpcIikuY29uY2F0KEpTT04uc3RyaW5naWZ5KHQpKSksTnkoZSx0LGkpfTtFRihoSywhMSksRUYoU0ssITEpLEVGKE5CLCExKSxFRihRSywhMSksRUYoZEssITEpO2NvbnN0ICRLPWZ1bmN0aW9uKGUpe2NvbnN0IHQ9bmV3IFN2LGk9ZSxuPXtnZXRMaXN0ZW5lcnM6dC5nZXRMaXN0ZW5lcnMuYmluZCh0KSxvbjooZSxpKT0+KGZ1bmN0aW9uKGUsdCl7ZT09PWl3LlNFQ1VSSVRZX1BPTElDWV9WSU9MQVRJT04mJk9qKHQsITApfShlLGkpLHQub24uYmluZCh0KShlLGkpKSxhZGRMaXN0ZW5lcjp0LmFkZExpc3RlbmVyLmJpbmQodCksb25jZTp0Lm9uY2UuYmluZCh0KSxvZmY6dC5vZmYuYmluZCh0KSxyZW1vdmVBbGxMaXN0ZW5lcnM6dC5yZW1vdmVBbGxMaXN0ZW5lcnMuYmluZCh0KSxlbWl0OnQuZW1pdC5iaW5kKHQpLHNhZmVFbWl0OnQuc2FmZUVtaXQuYmluZCh0KX07cmV0dXJuIGJqKGJqKHt9LGkpLG4pfSh7X19UUkFDS19MSVNUX186UUQsVkVSU0lPTjp2eSxCVUlMRDp3eSxFU01fQlVORExFUjohMSxFU006ITAsVU1EOiExLERFVjohMSxzZXRQYXJhbWV0ZXI6WkssZ2V0UGFyYW1ldGVyOkR5LGdldFN1cHBvcnRlZENvZGVjOmFzeW5jIGZ1bmN0aW9uKCl7bGV0IGU9e2F1ZGlvOltdLHZpZGVvOltdfTt0cnl7bGV0IHQ9bmV3IFJUQ1BlZXJDb25uZWN0aW9uO2NvbnN0IGk9YXdhaXQgYXN5bmMgZnVuY3Rpb24oZSl7bGV0IHQ7cmV0dXJuIE1EKCkuc3VwcG9ydFVuaWZpZWRQbGFuPyhlLmFkZFRyYW5zY2VpdmVyKFwidmlkZW9cIix7ZGlyZWN0aW9uOlwicmVjdm9ubHlcIn0pLGUuYWRkVHJhbnNjZWl2ZXIoXCJhdWRpb1wiLHtkaXJlY3Rpb246XCJyZWN2b25seVwifSksdD0oYXdhaXQgZS5jcmVhdGVPZmZlcigpKS5zZHApOnQ9KGF3YWl0IGUuY3JlYXRlT2ZmZXIoe29mZmVyVG9SZWNlaXZlQXVkaW86ITAsb2ZmZXJUb1JlY2VpdmVWaWRlbzohMH0pKS5zZHAsdH0odCk7aWYoIWkpcmV0dXJuIGU7dC5jbG9zZSgpLHQ9bnVsbCxlPWZ1bmN0aW9uKGUpe2NvbnN0IHQ9e3ZpZGVvOltdLGF1ZGlvOltdfTtyZXR1cm4gZS5tYXRjaCgvIFZQOC9pKSYmdC52aWRlby5wdXNoKFwiVlA4XCIpLGUubWF0Y2goLyBWUDkvaSkmJnQudmlkZW8ucHVzaChcIlZQOVwiKSxlLm1hdGNoKC8gQVYxL2kpJiZ0LnZpZGVvLnB1c2goXCJBVjFcIiksZS5tYXRjaCgvIEgyNjQvaSkmJnQudmlkZW8ucHVzaChcIkgyNjRcIiksZS5tYXRjaCgvIEgyNjUvaSkmJnQudmlkZW8ucHVzaChcIkgyNjVcIiksZS5tYXRjaCgvIG9wdXMvaSkmJnQuYXVkaW8ucHVzaChcIk9QVVNcIiksZS5tYXRjaCgvIFBDTVUvaSkmJnQuYXVkaW8ucHVzaChcIlBDTVVcIiksZS5tYXRjaCgvIFBDTUEvaSkmJnQuYXVkaW8ucHVzaChcIlBDTUFcIiksZS5tYXRjaCgvIEc3MjIvaSkmJnQuYXVkaW8ucHVzaChcIkc3MjJcIiksdH0oaSl9Y2F0Y2goZSl7dGhyb3cgbmV3IFNiKG52LkNSRUFURV9PRkZFUl9GQUlMRUQsZS50b1N0cmluZyYmZS50b1N0cmluZygpKS5wcmludCgpfXJldHVybiBlfSxjaGVja1N5c3RlbVJlcXVpcmVtZW50czpmdW5jdGlvbigpe2NvbnN0IGU9c0EucmVwb3J0QXBpSW52b2tlKG51bGwse25hbWU6Q3YuQ0hFQ0tfU1lTVEVNX1JFUVVJUkVNRU5UUyxvcHRpb25zOltdLHRhZzpJdi5UUkFDRVJ9KTtsZXQgdD0hMTt0cnl7Y29uc3QgZT13aW5kb3cuUlRDUGVlckNvbm5lY3Rpb24saT1uYXZpZ2F0b3IubWVkaWFEZXZpY2VzJiZuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYSxuPXdpbmRvdy5XZWJTb2NrZXQ7dD0hIShlJiZpJiZuKSx0JiZYSSgpJiZ4SSg3NSkmJihuZXcgZSkuY2xvc2UoKX1jYXRjaChlKXtyZXR1cm4gUXkuZXJyb3IoXCJjaGVjayBzeXN0ZW0gcmVxdWlyZW1lbnQgZmFpbGVkOiBcIixlKSwhMX1sZXQgaT0hMTtjb25zdCBuPUFJKCk7bi5uYW1lPT09Q0kuQ0hST01FJiZOdW1iZXIobi52ZXJzaW9uKT49NTgmJihcIldlYktpdFwiIT09dkkuZW5naW5lLm5hbWV8fGZ1bmN0aW9uKCl7Y29uc3QgZT1BSSgpO2lmKE5JKCkpe2lmKGUub3M9PT1SSS5NQUNfT1MpcmV0dXJuITA7aWYoZS5vcz09PVJJLklPUyl7Y29uc3QgZT12SS5vcy52ZXJzaW9uJiZ2SS5vcy52ZXJzaW9uLnNwbGl0KFwiLlwiKTtpZihlJiYxND09PU51bWJlcihlWzBdKSYmZVsxXSYmTnVtYmVyKGVbMV0pPj0zKXJldHVybiEwO2lmKGUmJk51bWJlcihlWzBdKT4xNClyZXR1cm4hMH19cmV0dXJuITF9KCkpJiYoaT0hMCksKG4ubmFtZT09PUNJLkZJUkVGT1gmJk51bWJlcihuLnZlcnNpb24pPj01Nnx8bi5uYW1lPT09Q0kuT1BFUkEmJk51bWJlcihuLnZlcnNpb24pPj00NXx8bi5uYW1lPT09Q0kuU0FGQVJJJiZOdW1iZXIobi52ZXJzaW9uKT49MTF8fFwiV2ViS2l0XCI9PT1uLm5hbWUmJihNSSgpfHxxSSgpKSYmbi5vc1ZlcnNpb24mJk51bWJlcihuLm9zVmVyc2lvbi5zcGxpdChcIi5cIilbMF0pPj0xMXx8ekkoKXx8QUkoKS5uYW1lPT09Q0kuUVEpJiYoaT0hMCksUXkuZGVidWcoXCJjaGVja1N5c3RlbVJlcXVpcmVtZW50cywgYXBpOlwiLHQsXCJicm93c2VyXCIsaSk7Y29uc3Qgcj10JiZpO3JldHVybiBlLm9uU3VjY2VzcyhyKSxyfSxnZXREZXZpY2VzOmZ1bmN0aW9uKGUpe3JldHVybiB6UC5lbnVtZXJhdGVEZXZpY2VzKCEwLCEwLGUpfSxnZXRNaWNyb3Bob25lczpmdW5jdGlvbihlKXtyZXR1cm4gelAuZ2V0UmVjb3JkaW5nRGV2aWNlcyhlKX0sZ2V0Q2FtZXJhczpmdW5jdGlvbihlKXtyZXR1cm4gelAuZ2V0Q2FtZXJhc0RldmljZXMoZSl9LGdldEVsZWN0cm9uU2NyZWVuU291cmNlczpCUCxnZXRQbGF5YmFja0RldmljZXM6ZnVuY3Rpb24oZSl7cmV0dXJuIHpQLmdldFNwZWFrZXJzKGUpfSxjcmVhdGVDbGllbnQ6ZnVuY3Rpb24oKXt2YXIgZTtsZXQgdD1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e2NvZGVjOlwidnA4XCIsYXVkaW9Db2RlYzpcIm9wdXNcIixtb2RlOlwicnRjXCJ9O2NvbnN0IGk9c0EucmVwb3J0QXBpSW52b2tlKG51bGwse25hbWU6Q3YuQ1JFQVRFX0NMSUVOVCxvcHRpb25zOlt0XSx0YWc6SXYuVFJBQ0VSfSk7dHJ5eyFmdW5jdGlvbihlKXtzdihlLmNvZGVjLFwiY29uZmlnLmNvZGVjXCIsW1widnA4XCIsXCJ2cDlcIixcImF2MVwiLFwiaDI2NFwiLFwiaDI2NVwiXSksc3YoZS5tb2RlLFwiY29uZmlnLm1vZGVcIixbXCJydGNcIixcImxpdmVcIixcInAycFwiXSksdm9pZCAwIT09ZS5hdWRpb0NvZGVjJiZzdihlLmF1ZGlvQ29kZWMsXCJjb25maWcuYXVkaW9Db2RlY1wiLFtcIm9wdXNcIixcInBjbXVcIixcInBjbWFcIixcImc3MjJcIl0pLHZvaWQgMCE9PWUucHJveHlTZXJ2ZXImJmR2KGUucHJveHlTZXJ2ZXIsXCJjb25maWcucHJveHlTZXJ2ZXJcIiwxLDFlNCksdm9pZCAwIT09ZS50dXJuU2VydmVyJiZ3dihlLnR1cm5TZXJ2ZXIpLHZvaWQgMCE9PWUuaHR0cFJldHJ5Q29uZmlnJiZ2dihlLmh0dHBSZXRyeUNvbmZpZyksdm9pZCAwIT09ZS53ZWJzb2NrZXRSZXRyeUNvbmZpZyYmdnYoZS53ZWJzb2NrZXRSZXRyeUNvbmZpZyl9KHQpfWNhdGNoKGUpe3Rocm93IGkub25FcnJvcihlKSxlfXJldHVybihCSSgxNiwwLCEwKXx8akkoMTYsMCwhMCkpJiYoXCJ2cDlcIj09PXQuY29kZWMmJih0LmNvZGVjPVwidnA4XCIsUXkuZGVidWcoXCJicm93c2VyIG5vdCBzdXBwb3J0IHZwOSwgZm9yY2UgdXNlIHZwOFwiKSksTnkoXCJVTlNVUFBPUlRFRF9WSURFT19DT0RFQ1wiLFtcInZwOVwiXSkpLHZvaWQgMD09PXQuYXVkaW9Db2RlYyYmKHQuYXVkaW9Db2RlYz1cIm9wdXNcIiksaS5vblN1Y2Nlc3MoKSxuZXcgZ2ooU2ooU2ooe2ZvcmNlV2FpdEdhdGV3YXlSZXNwb25zZTohMH0sdCkse30se3JvbGU6RG4oZT1bXCJydGNcIixcInAycFwiXSkuY2FsbChlLHQubW9kZSk/XCJob3N0XCI6dC5yb2xlfHxcImF1ZGllbmNlXCJ9KSl9LGNyZWF0ZUNhbWVyYVZpZGVvVHJhY2s6YXN5bmMgZnVuY3Rpb24oKXtsZXQgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307Y29uc3QgdD1EeShcIkNBTUVSQV9DQVBUVVJFX0NPTkZJR1wiKSxpPXNBLnJlcG9ydEFwaUludm9rZShudWxsLHt0YWc6SXYuVFJBQ0VSLG5hbWU6Q3YuQ1JFQVRFX0NBTV9WSURFT19UUkFDSyxvcHRpb25zOlt5UCh7fSxlKSx0XX0pO3QmJihlLmVuY29kZXJDb25maWc9dCk7Y29uc3Qgbj1kTChlKSxyPWV5KDgsXCJ0cmFjay1jYW0tXCIpO2xldCBvPW51bGw7UXkuaW5mbyhcInN0YXJ0IGNyZWF0ZSBjYW1lcmEgdmlkZW8gdHJhY2sgd2l0aCBjb25maWdcIixKU09OLnN0cmluZ2lmeShlKSxcInRyYWNrSWRcIixyKTt0cnl7bz0oYXdhaXQgSFAoe3ZpZGVvOm59LHIpKS5nZXRWaWRlb1RyYWNrcygpWzBdfHxudWxsfWNhdGNoKGUpe3Rocm93IGkub25FcnJvcihlKSxlfWlmKCFvKXtjb25zdCBlPW5ldyBydihudi5VTkVYUEVDVEVEX0VSUk9SLFwiY2FuIG5vdCBmaW5kIHRyYWNrIGluIG1lZGlhIHN0cmVhbVwiKTtyZXR1cm4gaS5vbkVycm9yKGUpLGUudGhyb3coUXkpfWUub3B0aW1pemF0aW9uTW9kZSYmWWsocixvLGUsWUQoZS5lbmNvZGVyQ29uZmlnKSk7Y29uc3Qgcz1uZXcgS2sobyxlLG4sZS5zY2FsYWJpbHR5TW9kZT96RChlLnNjYWxhYmlsdHlNb2RlKTp7bnVtU3BhdGlhbExheWVyczoxLG51bVRlbXBvcmFsTGF5ZXJzOjF9LGUub3B0aW1pemF0aW9uTW9kZSxyKTtyZXR1cm4gaS5vblN1Y2Nlc3Mocy5nZXRUcmFja0lkKCkpLFF5LmluZm8oXCJjcmVhdGUgY2FtZXJhIHZpZGVvIHN1Y2Nlc3MsIHRyYWNrSWQ6XCIsciksc30sY3JlYXRlQ3VzdG9tVmlkZW9UcmFjazpmdW5jdGlvbihlKXtjb25zdCB0PXNBLnJlcG9ydEFwaUludm9rZShudWxsLHt0YWc6SXYuVFJBQ0VSLG5hbWU6Q3YuQ1JFQVRFX0NVU1RPTV9WSURFT19UUkFDSyxvcHRpb25zOltlXX0pLGk9bmV3IEhrKGUubWVkaWFTdHJlYW1UcmFjayx7d2lkdGg6ZS53aWR0aCxoZWlnaHQ6ZS5oZWlnaHQsZnJhbWVSYXRlOmUuZnJhbWVSYXRlLGJpdHJhdGVNYXg6ZS5iaXRyYXRlTWF4LGJpdHJhdGVNaW46ZS5iaXRyYXRlTWlufSxlLnNjYWxhYmlsdHlNb2RlP3pEKGUuc2NhbGFiaWx0eU1vZGUpOntudW1TcGF0aWFsTGF5ZXJzOjEsbnVtVGVtcG9yYWxMYXllcnM6MX0sZS5vcHRpbWl6YXRpb25Nb2RlLGV5KDgsXCJ0cmFjay1jdXMtXCIpLFtlUC5DVVNUT01fVFJBQ0tdKTtyZXR1cm4gdC5vblN1Y2Nlc3MoaS5nZXRUcmFja0lkKCkpLFF5LmluZm8oXCJjcmVhdGUgY3VzdG9tIHZpZGVvIHRyYWNrIHN1Y2Nlc3Mgd2l0aCBjb25maWdcIixlLFwidHJhY2tJZFwiLGkuZ2V0VHJhY2tJZCgpKSxpfSxjcmVhdGVTY3JlZW5WaWRlb1RyYWNrOmFzeW5jIGZ1bmN0aW9uKCl7bGV0IGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOlwiZGlzYWJsZVwiO2NvbnN0IGk9c0EucmVwb3J0QXBpSW52b2tlKG51bGwse3RhZzpJdi5UUkFDRVIsbmFtZTpDdi5DUkVBVEVfU0NSRUVOX1ZJREVPX1RSQUNLLG9wdGlvbnM6W3lQKHt9LGUpLHRdfSk7ZS5lbmNvZGVyQ29uZmlnP1wic3RyaW5nXCI9PXR5cGVvZiBlLmVuY29kZXJDb25maWd8fGUuZW5jb2RlckNvbmZpZy53aWR0aCYmZS5lbmNvZGVyQ29uZmlnLmhlaWdodHx8KGUuZW5jb2RlckNvbmZpZy53aWR0aD17bWF4OjE5MjB9LGUuZW5jb2RlckNvbmZpZy5oZWlnaHQ9e21heDoxMDgwfSk6ZS5lbmNvZGVyQ29uZmlnPVwiMTA4MHBfMlwiO2NvbnN0IG49ZnVuY3Rpb24oZSl7Y29uc3QgdD17fTtlLnNjcmVlblNvdXJjZVR5cGUmJih0Lm1lZGlhU291cmNlPWUuc2NyZWVuU291cmNlVHlwZSksZS5leHRlbnNpb25JZCYmREkoKSYmKHQuZXh0ZW5zaW9uSWQ9ZS5leHRlbnNpb25JZCk7Y29uc3R7ZGlzcGxheVN1cmZhY2U6aSxzZWxmQnJvd3NlclN1cmZhY2U6bixzdXJmYWNlU3dpdGNoaW5nOnIsc3lzdGVtQXVkaW86b309ZTsoVUkoMTA3KXx8VkkoMTA3KXx8R0koOTMpKSYmKGkmJihzdihpLFwiZGlzcGxheVN1cmZhY2VcIixbXCJicm93c2VyXCIsXCJ3aW5kb3dcIixcIm1vbml0b3JcIl0pLHQuZGlzcGxheVN1cmZhY2U9aSksbj8oc3YobixcInNlbGZCcm93c2VyU3VyZmFjZVwiLFtcImV4Y2x1ZGVcIixcImluY2x1ZGVcIl0pLHQuc2VsZkJyb3dzZXJTdXJmYWNlPW4pOnQuc2VsZkJyb3dzZXJTdXJmYWNlPVwiaW5jbHVkZVwiLHImJihzdihyLFwic3VyZmFjZVN3aXRjaGluZ1wiLFtcImV4Y2x1ZGVcIixcImluY2x1ZGVcIl0pLHQuc3VyZmFjZVN3aXRjaGluZz1yKSksKFVJKDEwNSl8fFZJKDEwNSl8fEdJKDkxKSkmJm8mJihzdihvLFwic3lzdGVtQXVkaW9cIixbXCJleGNsdWRlXCIsXCJpbmNsdWRlXCJdKSx0LnN5c3RlbUF1ZGlvPW8pLGUuZWxlY3Ryb25TY3JlZW5Tb3VyY2VJZCYmKHQuc291cmNlSWQ9ZS5lbGVjdHJvblNjcmVlblNvdXJjZUlkKTtjb25zdCBzPWUuZW5jb2RlckNvbmZpZz9xRChlLmVuY29kZXJDb25maWcpOm51bGw7cmV0dXJuIHQubWFuZGF0b3J5PXtjaHJvbWVNZWRpYVNvdXJjZTpcImRlc2t0b3BcIixtYXhXaWR0aDpzP3Mud2lkdGg6dm9pZCAwLG1heEhlaWdodDpzP3MuaGVpZ2h0OnZvaWQgMH0scyYmKHMuZnJhbWVSYXRlJiYoXCJudW1iZXJcIj09dHlwZW9mIHMuZnJhbWVSYXRlPyh0Lm1hbmRhdG9yeS5tYXhGcmFtZVJhdGU9cy5mcmFtZVJhdGUsdC5tYW5kYXRvcnkubWluRnJhbWVSYXRlPXMuZnJhbWVSYXRlKToodC5tYW5kYXRvcnkubWF4RnJhbWVSYXRlPXMuZnJhbWVSYXRlLm1heHx8cy5mcmFtZVJhdGUuaWRlYWx8fHMuZnJhbWVSYXRlLmV4YWN0fHx2b2lkIDAsdC5tYW5kYXRvcnkubWluRnJhbWVSYXRlPXMuZnJhbWVSYXRlLm1pbnx8cy5mcmFtZVJhdGUuaWRlYWx8fHMuZnJhbWVSYXRlLmV4YWN0fHx2b2lkIDApLHQuZnJhbWVSYXRlPXMuZnJhbWVSYXRlKSxzLndpZHRoJiYodC53aWR0aD1zLndpZHRoKSxzLmhlaWdodCYmKHQuaGVpZ2h0PXMuaGVpZ2h0KSksdH0oZSkscj1leSg4LFwidHJhY2stc2NyLXYtXCIpO2xldCBvPW51bGwscz1udWxsO2NvbnN0IGE9TUQoKTtpZighYS5zdXBwb3J0U2hhcmVBdWRpbyYmXCJlbmFibGVcIj09PXQpe2NvbnN0IGU9bmV3IHJ2KG52Lk5PVF9TVVBQT1JURUQsXCJ5b3VyIGJyb3dzZXIgb3IgcGxhdGZvcm0gaXMgbm90IHN1cHBvcnQgc2hhcmUtc2NyZWVuIHdpdGggYXVkaW9cIik7cmV0dXJuIGkub25FcnJvcihlKSxlLnRocm93KFF5KX1ReS5pbmZvKFwic3RhcnQgY3JlYXRlIHNjcmVlbiB2aWRlbyB0cmFjayB3aXRoIGNvbmZpZ1wiLGUsXCJ3aXRoQXVkaW9cIix0LFwidHJhY2tJZFwiLHIpO3RyeXtjb25zdCBlPWF3YWl0IEhQKHtzY3JlZW46bixzY3JlZW5BdWRpbzpcImF1dG9cIj09PXQ/YS5zdXBwb3J0U2hhcmVBdWRpbzpcImVuYWJsZVwiPT09dH0scik7bz1lLmdldFZpZGVvVHJhY2tzKClbMF18fG51bGwscz1lLmdldEF1ZGlvVHJhY2tzKClbMF18fG51bGx9Y2F0Y2goZSl7dGhyb3cgaS5vbkVycm9yKGUpLGV9aWYoIW8pe2NvbnN0IGU9bmV3IHJ2KG52LlVORVhQRUNURURfRVJST1IsXCJjYW4gbm90IGZpbmQgdHJhY2sgaW4gbWVkaWEgc3RyZWFtXCIpO3JldHVybiBpLm9uRXJyb3IoZSksZS50aHJvdyhReSl9aWYoIXMmJlwiZW5hYmxlXCI9PT10KXtvJiZvLnN0b3AoKTtjb25zdCBlPW5ldyBydihudi5TSEFSRV9BVURJT19OT1RfQUxMT1dFRCk7cmV0dXJuIGkub25FcnJvcihlKSxlLnRocm93KFF5KX1lLm9wdGltaXphdGlvbk1vZGV8fChlLm9wdGltaXphdGlvbk1vZGU9XCJkZXRhaWxcIiksZS5vcHRpbWl6YXRpb25Nb2RlJiYoWWsocixvLGUsZS5lbmNvZGVyQ29uZmlnJiZxRChlLmVuY29kZXJDb25maWcpfHx2b2lkIDApLGUuZW5jb2RlckNvbmZpZyYmXCJzdHJpbmdcIiE9dHlwZW9mIGUuZW5jb2RlckNvbmZpZyYmKGUuZW5jb2RlckNvbmZpZy5iaXRyYXRlTWluPWUuZW5jb2RlckNvbmZpZy5iaXRyYXRlTWF4KSk7Y29uc3QgYz1uZXcgSGsobyxlLmVuY29kZXJDb25maWc/cUQoZS5lbmNvZGVyQ29uZmlnKTp7fSxlLnNjYWxhYmlsdHlNb2RlP3pEKGUuc2NhbGFiaWx0eU1vZGUpOntudW1TcGF0aWFsTGF5ZXJzOjEsbnVtVGVtcG9yYWxMYXllcnM6MX0sZS5vcHRpbWl6YXRpb25Nb2RlLHIsW2VQLlNDUkVFTl9UUkFDS10pO2lmKCFzKXJldHVybiBpLm9uU3VjY2VzcyhjLmdldFRyYWNrSWQoKSksUXkuaW5mbyhcImNyZWF0ZSBzY3JlZW4gdmlkZW8gdHJhY2sgc3VjY2Vzc1wiLFwidmlkZW86XCIsYy5nZXRUcmFja0lkKCkpLGM7Y29uc3QgZD1uZXcgdGsocyx2b2lkIDAsZXkoOCxcInRyYWNrLXNjci1hLVwiKSwhMSk7cmV0dXJuIGkub25TdWNjZXNzKFtjLmdldFRyYWNrSWQoKSxkLmdldFRyYWNrSWQoKV0pLFF5LmluZm8oXCJjcmVhdGUgc2NyZWVuIHZpZGVvIHRyYWNrIHN1Y2Nlc3NcIixcInZpZGVvOlwiLGMuZ2V0VHJhY2tJZCgpLFwiYXVkaW86XCIsZC5nZXRUcmFja0lkKCkpLFtjLGRdfSxjcmVhdGVNaWNyb3Bob25lQW5kQ2FtZXJhVHJhY2tzOmFzeW5jIGZ1bmN0aW9uKCl7bGV0IGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9LHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O2NvbnN0IGk9RHkoXCJDQU1FUkFfQ0FQVFVSRV9DT05GSUdcIiksbj1zQS5yZXBvcnRBcGlJbnZva2UobnVsbCx7dGFnOkl2LlRSQUNFUixuYW1lOkN2LkNSRUFURV9NSUNfQU5EX0NBTV9UUkFDS1Msb3B0aW9uczpbZSx0LGldfSk7aSYmKHQuZW5jb2RlckNvbmZpZz1pKTtjb25zdCByPWRMKHQpLG89bEwoZSkscz1leSg4LFwidHJhY2stbWljLVwiKSxhPWV5KDgsXCJ0cmFjay1jYW0tXCIpO2xldCBjPW51bGwsZD1udWxsO1F5LmluZm8oXCJzdGFydCBjcmVhdGUgY2FtZXJhIHZpZGVvIHRyYWNrKFwiLmNvbmNhdChhLFwiKSBhbmQgbWljcm9waG9uZSBhdWRpbyB0cmFjayhcIikuY29uY2F0KHMsXCIpIHdpdGggY29uZmlnLCBhdWRpbzogXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeShlKSxcIiwgdmlkZW86IFwiKS5jb25jYXQoSlNPTi5zdHJpbmdpZnkodCkpKTt0cnl7Y29uc3QgZT1hd2FpdCBIUCh7YXVkaW86byx2aWRlbzpyfSxcIlwiLmNvbmNhdChzLFwiLVwiKS5jb25jYXQoYSkpO2M9ZS5nZXRBdWRpb1RyYWNrcygpWzBdLGQ9ZS5nZXRWaWRlb1RyYWNrcygpWzBdfWNhdGNoKGUpe3Rocm93IG4ub25FcnJvcihlKSxlfWlmKCFjfHwhZCl7Y29uc3QgZT1uZXcgcnYobnYuVU5FWFBFQ1RFRF9FUlJPUixcImNhbiBub3QgZmluZCB0cmFja3MgaW4gbWVkaWEgc3RyZWFtXCIpO3JldHVybiBuLm9uRXJyb3IoZSksZS50aHJvdyhReSl9dC5vcHRpbWl6YXRpb25Nb2RlJiZZayhhLGQsdCxZRCh0LmVuY29kZXJDb25maWcpKTtjb25zdCBsPW5ldyBpayhjLGUsbyxzKSx1PW5ldyBLayhkLHQscix0LnNjYWxhYmlsdHlNb2RlP3pEKHQuc2NhbGFiaWx0eU1vZGUpOntudW1TcGF0aWFsTGF5ZXJzOjEsbnVtVGVtcG9yYWxMYXllcnM6MX0sdC5vcHRpbWl6YXRpb25Nb2RlLGEpO3JldHVybiBuLm9uU3VjY2VzcyhbbC5nZXRUcmFja0lkKCksdS5nZXRUcmFja0lkKCldKSxReS5pbmZvKFwiY3JlYXRlIGNhbWVyYSB2aWRlbyB0cmFjayhcIi5jb25jYXQoYSxcIikgYW5kIG1pY3JvcGhvbmUgYXVkaW8gdHJhY2soXCIpLmNvbmNhdChzLFwiKSBzdWNjZXNzXCIpKSxbbCx1XX0sY3JlYXRlTWljcm9waG9uZUF1ZGlvVHJhY2s6YXN5bmMgZnVuY3Rpb24oKXtsZXQgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e307Y29uc3QgdD1zQS5yZXBvcnRBcGlJbnZva2UobnVsbCx7dGFnOkl2LlRSQUNFUixuYW1lOkN2LkNSRUFURV9NSUNfQVVESU9fVFJBQ0ssb3B0aW9uczpbZV19KSxpPWxMKGUpLG49ZXkoOCxcInRyYWNrLW1pYy1cIik7bGV0IHI9bnVsbDtReS5pbmZvKFwic3RhcnQgY3JlYXRlIG1pY3JvcGhvbmUgYXVkaW8gdHJhY2sgd2l0aCBjb25maWdcIixKU09OLnN0cmluZ2lmeShlKSxcInRyYWNrSWRcIixuKTt0cnl7cj0oYXdhaXQgSFAoe2F1ZGlvOml9LG4pKS5nZXRBdWRpb1RyYWNrcygpWzBdfHxudWxsfWNhdGNoKGUpe3Rocm93IHQub25FcnJvcihlKSxlfWlmKCFyKXtjb25zdCBlPW5ldyBydihudi5VTkVYUEVDVEVEX0VSUk9SLFwiY2FuIG5vdCBmaW5kIHRyYWNrIGluIG1lZGlhIHN0cmVhbVwiKTtyZXR1cm4gdC5vbkVycm9yKGUpLGUudGhyb3coUXkpfWNvbnN0IG89bmV3IGlrKHIsZSxpLG4pO3JldHVybiB0Lm9uU3VjY2VzcyhvLmdldFRyYWNrSWQoKSksUXkuaW5mbyhcImNyZWF0ZSBtaWNyb3Bob25lIGF1ZGlvIHRyYWNrIHN1Y2Nlc3MsIHRyYWNrSWQ6XCIsbiksb30sY3JlYXRlQ3VzdG9tQXVkaW9UcmFjazpmdW5jdGlvbihlKXtjb25zdCB0PXNBLnJlcG9ydEFwaUludm9rZShudWxsLHt0YWc6SXYuVFJBQ0VSLG5hbWU6Q3YuQ1JFQVRFX0NVU1RPTV9BVURJT19UUkFDSyxvcHRpb25zOltlXX0pLGk9bmV3IHRrKGUubWVkaWFTdHJlYW1UcmFjayxlLmVuY29kZXJDb25maWc/WEQoZS5lbmNvZGVyQ29uZmlnKTp7fSxleSg4LFwidHJhY2stY3VzLVwiKSwhMSk7cmV0dXJuIFF5LmluZm8oXCJjcmVhdGUgY3VzdG9tIGF1ZGlvIHRyYWNrIHN1Y2Nlc3Mgd2l0aCBjb25maWdcIixlLFwidHJhY2tJZFwiLGkuZ2V0VHJhY2tJZCgpKSx0Lm9uU3VjY2VzcyhpLmdldFRyYWNrSWQoKSksaX0sY3JlYXRlQnVmZmVyU291cmNlQXVkaW9UcmFjazphc3luYyBmdW5jdGlvbihlKXt2YXIgdDtjb25zdHtjYWNoZU9ubGluZUZpbGU6aSxlbmNvZGVyQ29uZmlnOm59PWU7bGV0e3NvdXJjZTpyfT1lO2NvbnN0IG89e3NvdXJjZTpyIGluc3RhbmNlb2YgQXVkaW9CdWZmZXI/XCJBdWRpb0J1ZmZlclwiOnIgaW5zdGFuY2VvZiBGaWxlP251bGwhPT0odD1GaWxlLm5hbWUpJiZ2b2lkIDAhPT10P3Q6XCJGaWxlXCI6cixjYWNoZU9ubGluZUZpbGU6aSxlbmNvZGVyQ29uZmlnOm59LHM9c0EucmVwb3J0QXBpSW52b2tlKG51bGwse3RhZzpJdi5UUkFDRVIsbmFtZTpDdi5DUkVBVEVfQlVGRkVSX0FVRElPX1RSQUNLLG9wdGlvbnM6W29dfSk7aWYoRHkoXCJESVNBQkxFX1dFQkFVRElPXCIpKXRocm93IG5ldyBydihudi5OT1RfU1VQUE9SVEVELFwiY2FuIG5vdCBjcmVhdGUgQnVmZmVyU291cmNlQXVkaW9UcmFjayB3aGVuIFdlYkF1ZGlvIGRpc2FibGVkXCIpO2NvbnN0IGE9ZXkoOCxcInRyYWNrLWJ1Zi1cIik7UXkuaW5mbyhcInN0YXJ0IGNyZWF0ZSBidWZmZXIgc291cmNlIGF1ZGlvIHRyYWNrIHdpdGggY29uZmlnXCIsSlNPTi5zdHJpbmdpZnkobyksXCJ0cmFja0lkXCIsYSk7Y29uc3QgYz1yO2lmKCEociBpbnN0YW5jZW9mIEF1ZGlvQnVmZmVyKSl0cnl7cj1hd2FpdCBhc3luYyBmdW5jdGlvbihlLHQpe2xldCBpPW51bGw7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGUpe2NvbnN0IHQ9c2suZ2V0KGUpO2lmKHQpcmV0dXJuIFF5LmRlYnVnKFwidXNlIGNhY2hlZCBhdWRpbyByZXNvdXJjZTogXCIsZSksdDt0cnl7aT0oYXdhaXQgbXkoKCgpPT5FSS5nZXQoZSx7cmVzcG9uc2VUeXBlOlwiYXJyYXlidWZmZXJcIn0pKSx2b2lkIDAsdm9pZCAwLHttYXhSZXRyeUNvdW50OjN9KSkuZGF0YX1jYXRjaChlKXt0aHJvdyBuZXcgcnYobnYuRkVUQ0hfQVVESU9fRklMRV9GQUlMRUQsZS50b1N0cmluZygpKX19ZWxzZXtjb25zdCB0PW5ldyBHaCgoKHQsaSk9Pntjb25zdCBuPW5ldyBGaWxlUmVhZGVyO24ub25sb2FkPWU9PntlLnRhcmdldD90KGUudGFyZ2V0LnJlc3VsdCk6aShuZXcgcnYobnYuUkVBRF9MT0NBTF9BVURJT19GSUxFX0VSUk9SKSl9LG4ub25lcnJvcj0oKT0+e2kobmV3IHJ2KG52LlJFQURfTE9DQUxfQVVESU9fRklMRV9FUlJPUikpfSxuLnJlYWRBc0FycmF5QnVmZmVyKGUpfSkpO2k9YXdhaXQgdH1jb25zdCBuPWF3YWl0IGZ1bmN0aW9uKGUpe2NvbnN0IHQ9RFAoKTtyZXR1cm4gbmV3IEdoKCgoaSxuKT0+e3QuZGVjb2RlQXVkaW9EYXRhKGUsKGU9PntpKGUpfSksKGU9PntuKG5ldyBydihudi5ERUNPREVfQVVESU9fRklMRV9GQUlMRUQsZS50b1N0cmluZygpKSl9KSl9KSl9KGkpO3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBlJiZ0JiZzay5zZXQoZSxuKSxufShyLGkpfWNhdGNoKGUpe3JldHVybiBzLm9uRXJyb3IoZSksZS50aHJvdyhReSl9Y29uc3QgZD1uZXcgb2sociksbD1uZXcgbmsoYyxkLG4/WEQobik6e30sYSk7cmV0dXJuIFF5LmluZm8oXCJjcmVhdGUgYnVmZmVyIHNvdXJjZSBhdWRpbyB0cmFjayBzdWNjZXNzLCB0cmFja0lkOlwiLGEpLHMub25TdWNjZXNzKGwuZ2V0VHJhY2tJZCgpKSxsfSxzZXRBcHBUeXBlOmZ1bmN0aW9uKGUpe2lmKFF5LmRlYnVnKFwic2V0QXBwVHlwZTogXCIuY29uY2F0KGUpKSwhKE51bWJlci5pc0ludGVnZXIoZSkmJmU+PTApKXRocm93IFF5LmRlYnVnKFwiSW52YWxpZCBhcHBUeXBlXCIpLG5ldyBTYihudi5JTlZBTElEX1BBUkFNUyxcImludmFsaWQgYXBwIHR5cGVcIixlKTtOeShcIkFQUF9UWVBFXCIsTWF0aC5mbG9vcihlKSl9LHNldExvZ0xldmVsOmZ1bmN0aW9uKGUpe1F5LnNldExvZ0xldmVsKGUpfSxlbmFibGVMb2dVcGxvYWQ6ZnVuY3Rpb24oKXtEeShcIlVTRV9ORVdfTE9HXCIpP055KFwiVVBMT0FEX0xPR1wiLCEwKTpReS5lbmFibGVMb2dVcGxvYWQoKX0sZGlzYWJsZUxvZ1VwbG9hZDpmdW5jdGlvbigpe0R5KFwiVVNFX05FV19MT0dcIik/TnkoXCJVUExPQURfTE9HXCIsITEpOlF5LmRpc2FibGVMb2dVcGxvYWQoKX0sY3JlYXRlQ2hhbm5lbE1lZGlhUmVsYXlDb25maWd1cmF0aW9uOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBBVn0sY2hlY2tBdWRpb1RyYWNrSXNBY3RpdmU6YXN5bmMgZnVuY3Rpb24oZSl7bGV0IHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjVlMztjb25zdCBpPXNBLnJlcG9ydEFwaUludm9rZShudWxsLHt0YWc6SXYuVFJBQ0VSLG5hbWU6Q3YuQ0hFQ0tfQVVESU9fVFJBQ0tfSVNfQUNUSVZFLG9wdGlvbnM6W3RdfSk7aWYoIShlIGluc3RhbmNlb2YgdGt8fGUgaW5zdGFuY2VvZiBhTSkpe2NvbnN0IGU9bmV3IFNiKG52LklOVkFMSURfVFJBQ0ssXCJ0aGUgcGFyYW1ldGVyIGlzIG5vdCBhIGF1ZGlvIHRyYWNrXCIpO3JldHVybiBpLm9uRXJyb3IoZSksZS50aHJvdygpfXQmJnQ8MWUzJiYodD0xZTMpO2NvbnN0IG49ZSBpbnN0YW5jZW9mIHRrP2UuZ2V0VHJhY2tMYWJlbCgpOlwicmVtb3RlX3RyYWNrXCIscj1lLmdldFZvbHVtZUxldmVsKCk7bGV0IG89cixzPXI7Y29uc3QgYT1EYXRlLm5vdygpO3JldHVybiBuZXcgR2goKHI9Pntjb25zdCBjPXNldEludGVydmFsKCgoKT0+e2NvbnN0IGQ9ZS5nZXRWb2x1bWVMZXZlbCgpO289ZD5vP2Q6byxzPWQ8cz9kOnM7Y29uc3QgbD1vLXM+MWUtNCx1PURhdGUubm93KCktYTtpZihsfHx1PnQpe2NsZWFySW50ZXJ2YWwoYyk7Y29uc3QgdD1sLHM9e2R1cmF0aW9uOnUsZGV2aWNlTGFiZWw6bixtYXhWb2x1bWVMZXZlbDpvLHJlc3VsdDp0fTtReS5pbmZvKFwiW3RyYWNrLVwiLmNvbmNhdChlLmdldFRyYWNrSWQoKSxcIl0gY2hlY2sgYXVkaW8gdHJhY2sgYWN0aXZlIGNvbXBsZXRlZC4gXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeShzKSkpLGkub25TdWNjZXNzKHMpLHIodCl9fSksMjAwKX0pKX0sY2hlY2tWaWRlb1RyYWNrSXNBY3RpdmU6YXN5bmMgZnVuY3Rpb24oZSl7bGV0IHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOjVlMztjb25zdCBpPXNBLnJlcG9ydEFwaUludm9rZShudWxsLHt0YWc6SXYuVFJBQ0VSLG5hbWU6Q3YuQ0hFQ0tfVklERU9fVFJBQ0tfSVNfQUNUSVZFLG9wdGlvbnM6W3RdfSk7aWYoIShlIGluc3RhbmNlb2YgSGt8fGUgaW5zdGFuY2VvZiBzTSkpe2NvbnN0IGU9bmV3IFNiKG52LklOVkFMSURfVFJBQ0ssXCJ0aGUgcGFyYW1ldGVyIGlzIG5vdCBhIHZpZGVvIHRyYWNrXCIpO3JldHVybiBpLm9uRXJyb3IoZSksZS50aHJvdygpfXQmJnQ8MWUzJiYodD0xZTMpO2NvbnN0IG49ZSBpbnN0YW5jZW9mIEhrP2UuZ2V0VHJhY2tMYWJlbCgpOlwicmVtb3RlX3RyYWNrXCIscj1lLmdldE1lZGlhU3RyZWFtVHJhY2soITApLG89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInZpZGVvXCIpO28uc3R5bGUud2lkdGg9XCIxcHhcIixvLnN0eWxlLmhlaWdodD1cIjFweFwiLG8uc2V0QXR0cmlidXRlKFwibXV0ZWRcIixcIlwiKSxvLm11dGVkPSEwLG8uc2V0QXR0cmlidXRlKFwicGxheXNpbmxpbmVcIixcIlwiKSxvLmNvbnRyb2xzPSExLChQSSgpfHxOSSgpKSYmKG8uc3R5bGUub3BhY2l0eT1cIjAuMDFcIixvLnN0eWxlLnBvc2l0aW9uPVwiZml4ZWRcIixvLnN0eWxlLmxlZnQ9XCIwXCIsby5zdHlsZS50b3A9XCIwXCIsZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChvKSksby5zcmNPYmplY3Q9bmV3IE1lZGlhU3RyZWFtKFtyXSksby5wbGF5KCk7Y29uc3Qgcz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiY2FudmFzXCIpO3Mud2lkdGg9MTYwLHMuaGVpZ2h0PTEyMDtsZXQgYT0wLGM9MDt0cnl7Y29uc3QgZT1EYXRlLm5vdygpO2E9YXdhaXQgZnVuY3Rpb24oZSx0LGksbil7bGV0IHIsbz0wLHM9bnVsbDtyZXR1cm4gbmV3IEdoKCgoYSxjKT0+e2Z1bmN0aW9uIGQoKXtvPm4mJnImJihyKCksYShvKSk7Y29uc3QgdD1pLmdldENvbnRleHQoXCIyZFwiKTtpZighdCl7Y29uc3QgZT1uZXcgU2IobnYuVU5FWFBFQ1RFRF9FUlJPUixcImNhbiBub3QgZ2V0IGNhbnZhcyAyZCBjb250ZXh0LlwiKTtyZXR1cm4gUXkuZXJyb3IoZS50b1N0cmluZygpKSx2b2lkIGMoZSl9dC5kcmF3SW1hZ2UoZSwwLDAsMTYwLDEyMCk7Y29uc3QgZD10LmdldEltYWdlRGF0YSgwLDAsaS53aWR0aCxpLmhlaWdodCksbD1NYXRoLmZsb29yKGQuZGF0YS5sZW5ndGgvMyk7aWYocyl7Zm9yKGxldCBlPTA7ZTxsO2UrPTMpaWYoZC5kYXRhW2VdIT09c1tlXSlyZXR1cm4gbys9MSx2b2lkKHM9ZC5kYXRhKTtzPWQuZGF0YX1lbHNlIHM9ZC5kYXRhfXNldFRpbWVvdXQoKCgpPT57ciYmKHIoKSxhKG8pKX0pLHQpLHI9a1AoKCgpPT57ZCgpfSksMzApfSkpfShvLHQscyw0KSxjPURhdGUubm93KCktZX1jYXRjaChlKXt0aHJvdyBpLm9uRXJyb3IoZSksZX1iRj09PUNJLlNBRkFSSSYmKG8ucGF1c2UoKSxvLnJlbW92ZSgpKSxvLnNyY09iamVjdD1udWxsO2NvbnN0IGQ9YT40LGw9e2R1cmF0aW9uOmMsY2hhbmdlZFBpY051bTphLGRldmljZUxhYmVsOm4scmVzdWx0OmR9O3JldHVybiBReS5pbmZvKFwiW3RyYWNrLVwiLmNvbmNhdChlLmdldFRyYWNrSWQoKSxcIl0gY2hlY2sgdmlkZW8gdHJhY2sgYWN0aXZlIGNvbXBsZXRlZC4gXCIpLmNvbmNhdChKU09OLnN0cmluZ2lmeShsKSkpLGkub25TdWNjZXNzKGwpLGR9LHNldEFyZWE6bFUsYXVkaW9FbGVtZW50UGxheUNlbnRlcjplTCxyZXN1bWVBdWRpb0NvbnRleHQ6ZnVuY3Rpb24oKXtlTC5hdXRvUmVzdW1lQWZ0ZXJJbnRlcnJ1cHRpb24oITApfSxwcm9jZXNzRXh0ZXJuYWxNZWRpYUFFQzpmdW5jdGlvbihlKXt5ai5wcm9jZXNzRXh0ZXJuYWxNZWRpYUFFQyhlKX0scmVnaXN0ZXJFeHRlbnNpb25zOmZ1bmN0aW9uKGUpe2NvbnN0IHQ9RHkoXCJQTFVHSU5fSU5GT1wiKXx8W107ZS5mb3JFYWNoKChlPT57XCJuYW1lXCJpbiBlJiYhRG4odCkuY2FsbCh0LGUubmFtZSkmJnQucHVzaChlLm5hbWUpO2NvbnN0IGk9ZTtpLl9fcmVnaXN0ZXJlZF9fPSEwLGkubG9nZ2VyLmhvb2tMb2c9UXkuZXh0TG9nLGkucmVwb3J0ZXIuaG9va0FwaUludm9rZT1zQS5leHRBcGlJbnZva2UsaS5wYXJhbWV0ZXJzJiZPYmplY3Qua2V5cyhpLnBhcmFtZXRlcnMpLmZvckVhY2goKGU9PntpLnBhcmFtZXRlcnNbZV09RHkoZSl9KSl9KSksWksoXCJQTFVHSU5fSU5GT1wiLHQpfSxDaGFubmVsTWVkaWFSZWxheUVycm9yOmtiLENoYW5uZWxNZWRpYVJlbGF5RXZlbnQ6UGIsQ2hhbm5lbE1lZGlhUmVsYXlTdGF0ZTpMYixSZW1vdGVTdHJlYW1GYWxsYmFja1R5cGU6blAsUmVtb3RlU3RyZWFtVHlwZTppUCxDb25uZWN0aW9uRGlzY29ubmVjdGVkUmVhc29uOkF2LEF1ZGllbmNlTGF0ZW5jeUxldmVsVHlwZTp5dixBUkVBUzpGYixwcmVsb2FkOmFzeW5jIGZ1bmN0aW9uKGUsdCxpLG4pe3JldHVybiBqRihlLHQsaSxuKX19KTtPYmplY3QuZGVmaW5lUHJvcGVydGllcygkSyx7b25BdWRpb0F1dG9wbGF5RmFpbGVkOntnZXQ6KCk9PlhQLm9uQXVkaW9BdXRvcGxheUZhaWxlZCxzZXQ6ZT0+e1hQLm9uQXVkaW9BdXRvcGxheUZhaWxlZD1lfX0sb25BdXRvcGxheUZhaWxlZDp7Z2V0OigpPT5YUC5vbkF1dG9wbGF5RmFpbGVkLHNldDplPT57WFAub25BdXRvcGxheUZhaWxlZD1lfX0sX29uU2VjdXJpdHlQb2xpY3lWaW9sYXRpb246e3ZhbHVlOnZvaWQgMCx3cml0YWJsZTohMH0sX2NzcEV2ZW50SGFuZGxlclBvaW50ZXI6e3ZhbHVlOnZvaWQgMCx3cml0YWJsZTohMH0sb25TZWN1cml0eVBvbGljeVZpb2xhdGlvbjp7Z2V0OigpPT4kSy5fb25TZWN1cml0eVBvbGljeVZpb2xhdGlvbixzZXQoZSl7JEsuX29uU2VjdXJpdHlQb2xpY3lWaW9sYXRpb249ZSxPaihlKX19LF9fQ0xJRU5UX0xJU1RfXzp7Z2V0OigpPT5EeShcIlNIT1dfR0xPQkFMX0NMSUVOVF9MSVNUXCIpP2xBOltdfX0pLHpQLm9uKGZQLkNBTUVSQV9ERVZJQ0VfQ0hBTkdFRCwoZT0+e1F5LmluZm8oXCJjYW1lcmEgZGV2aWNlIGNoYW5nZWRcIixKU09OLnN0cmluZ2lmeShlKSksJEsub25DYW1lcmFDaGFuZ2VkJiYkSy5vbkNhbWVyYUNoYW5nZWQoZSksJEsuc2FmZUVtaXQoaXcuQ0FNRVJBX0NIQU5HRUQsZSl9KSkselAub24oZlAuUkVDT1JESU5HX0RFVklDRV9DSEFOR0VELChlPT57UXkuaW5mbyhcIm1pY3JvcGhvbmUgZGV2aWNlIGNoYW5nZWRcIixKU09OLnN0cmluZ2lmeShlKSksJEsub25NaWNyb3Bob25lQ2hhbmdlZCYmJEsub25NaWNyb3Bob25lQ2hhbmdlZChlKSwkSy5zYWZlRW1pdChpdy5NSUNST1BIT05FX0NIQU5HRUQsZSl9KSkselAub24oZlAuUExBWU9VVF9ERVZJQ0VfQ0hBTkdFRCwoZT0+e1F5LmRlYnVnKFwicGxheW91dCBkZXZpY2UgY2hhbmdlZFwiLEpTT04uc3RyaW5naWZ5KGUpKSwkSy5vblBsYXliYWNrRGV2aWNlQ2hhbmdlZCYmJEsub25QbGF5YmFja0RldmljZUNoYW5nZWQoZSksJEsuc2FmZUVtaXQoaXcuUExBWUJBQ0tfREVWSUNFX0NIQU5HRUQsZSl9KSksZUwub25BdXRvcGxheUZhaWxlZD0oKT0+e1F5LmluZm8oXCJkZXRlY3QgYXVkaW8gZWxlbWVudCBhdXRvcGxheSBmYWlsZWRcIiksWFAub25BdWRpb0F1dG9wbGF5RmFpbGVkJiZYUC5vbkF1ZGlvQXV0b3BsYXlGYWlsZWQoKX0sTlAub24oXCJhdXRvcGxheS1mYWlsZWRcIiwoKCk9PntReS5pbmZvKFwiZGV0ZWN0IHdlYmF1ZGlvIGF1dG9wbGF5IGZhaWxlZFwiKSxYUC5vbkF1ZGlvQXV0b3BsYXlGYWlsZWQmJlhQLm9uQXVkaW9BdXRvcGxheUZhaWxlZCgpLCRLLnNhZmVFbWl0KGl3LkFVVE9QTEFZX0ZBSUxFRCl9KSksTlAub24oVkQuU1RBVEVfQ0hBTkdFLCgoZSx0KT0+e1F5LmluZm8oXCJhdWRpbyBjb250ZXh0IHN0YXRlIGNoYW5nZWQ6IFwiLmNvbmNhdCh0LFwiID0+IFwiKS5jb25jYXQoZSkpLCRLLm9uQXVkaW9Db250ZXh0U3RhdGVDaGFuZ2VkJiYkSy5vbkF1ZGlvQ29udGV4dFN0YXRlQ2hhbmdlZChlLHQpLCRLLnNhZmVFbWl0KGl3LkFVRElPX0NPTlRFWFRfU1RBVEVfQ0hBTkdFRCxlLHQpfSkpLFZ2Lm9uKEx2Lk5FVFdPUktfU1RBVEVfQ0hBTkdFLCgoZSx0KT0+e1F5LmluZm8oXCJbbmV0d29yay1pbmRpY2F0b3JdIG5ldHdvcmsgc3RhdGUgY2hhbmdlZCwgXCIuY29uY2F0KHQsXCIgPT4gXCIpLmNvbmNhdChlKSl9KSksd2luZG93JiYod2luZG93Ll9fQVJUQ19fPSRLKTtleHBvcnR7JEsgYXMgZGVmYXVsdH07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/agora-rtc-sdk-ng/AgoraRTC_N-production.esm.mjs\n");

/***/ })

};
;